<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Bidirectional Forwarding Detection (BFD) in Segment Routing Networks Using MPLS Dataplane</title>
<meta content="Greg Mirsky" name="author">
<meta content="Jeff  Tantsura" name="author">
<meta content="Ilya Varlashkin" name="author">
<meta content="Mach(Guoyi) Chen" name="author">
<meta content="Jiang Wenying" name="author">
<meta content="
       
   Segment Routing (SR) architecture leverages the paradigm of source routing. It
   can be realized in the Multiprotocol Label Switching (MPLS) network without any change to the data plane. 
   A segment is encoded as an MPLS label, and  an ordered list of segments 
   is encoded as a stack of labels.
   Bidirectional Forwarding Detection (BFD) is expected 
   to monitor any existing path between systems. This document defines
   how to use Label Switched Path Ping to bootstrap a BFD session, control an SR Policy 
   in the reverse direction of the SR-MPLS tunnel, and applicability of
   BFD Demand mode in the SR-MPLS domain. Also, the document describes the use of BFD Echo with BFD Control packet payload.
       
    " name="description">
<meta content="xml2rfc 3.9.1" name="generator">
<meta content="Internet-Draft" name="keyword">
<meta content="LSP Ping" name="keyword">
<meta content="BFD" name="keyword">
<meta content="draft-ietf-spring-bfd-02" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.9.1
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.2
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.6.3
    pycountry 20.7.3
    pyflakes 2.3.1
    PyYAML 5.4.1
    requests 2.26.0
    setuptools 58.0.4
    six 1.16.0
-->
<link href="/tmp/draft-ietf-spring-bfd-02-j84hn4us.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: avoid-page;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">BFD in SPRING MPLS</td>
<td class="right">September 2021</td>
</tr></thead>
<tfoot><tr>
<td class="left">Mirsky, et al.</td>
<td class="center">Expires 27 March 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">SPRING Working Group</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-ietf-spring-bfd-02</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2021-09-23" class="published">23 September 2021</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-03-27">27 March 2022</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">G. Mirsky</div>
<div class="org">Ericsson</div>
</div>
<div class="author">
      <div class="author-name">J. Tantsura</div>
<div class="org">Juniper Networks</div>
</div>
<div class="author">
      <div class="author-name">I. Varlashkin</div>
<div class="org">Google</div>
</div>
<div class="author">
      <div class="author-name">M. Chen</div>
<div class="org">Huawei</div>
</div>
<div class="author">
      <div class="author-name">J. Wenying</div>
<div class="org">CMCC</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Bidirectional Forwarding Detection (BFD) in Segment Routing Networks Using MPLS Dataplane</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">
   Segment Routing (SR) architecture leverages the paradigm of source routing. It
   can be realized in the Multiprotocol Label Switching (MPLS) network without any change to the data plane. 
   A segment is encoded as an MPLS label, and  an ordered list of segments 
   is encoded as a stack of labels.
   Bidirectional Forwarding Detection (BFD) is expected 
   to monitor any existing path between systems. This document defines
   how to use Label Switched Path Ping to bootstrap a BFD session, control an SR Policy 
   in the reverse direction of the SR-MPLS tunnel, and applicability of
   BFD Demand mode in the SR-MPLS domain. Also, the document describes the use of BFD Echo with BFD Control packet payload.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 27 March 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2021 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="ulBare ulEmpty compact toc">
<li class="ulBare ulEmpty compact toc" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
<ul class="ulEmpty compact toc ulBare">
<li class="ulEmpty compact toc ulBare" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="xref">1.1</a>.  <a href="#name-conventions" class="xref">Conventions</a></p>
<ul class="ulEmpty compact toc ulBare">
<li class="ulEmpty compact toc ulBare" id="section-toc.1-1.1.2.1.2.1">
                    <p id="section-toc.1-1.1.2.1.2.1.1" class="keepWithNext"><a href="#section-1.1.1" class="xref">1.1.1</a>.  <a href="#name-terminology" class="xref">Terminology</a></p>
</li>
                  <li class="ulEmpty compact toc ulBare" id="section-toc.1-1.1.2.1.2.2">
                    <p id="section-toc.1-1.1.2.1.2.2.1" class="keepWithNext"><a href="#section-1.1.2" class="xref">1.1.2</a>.  <a href="#name-requirements-language" class="xref">Requirements Language</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="ulBare ulEmpty compact toc" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="xref">2</a>.  <a href="#name-bootstrapping-bfd-session-o" class="xref">Bootstrapping BFD Session over Segment Routed Tunnel with MPLS Data Plane</a></p>
</li>
          <li class="ulBare ulEmpty compact toc" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-use-bfd-reverse-path-tlv-ov" class="xref">Use BFD Reverse Path TLV over Segment Routed MPLS Tunnel</a></p>
</li>
          <li class="ulBare ulEmpty compact toc" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-use-non-fec-path-tlv" class="xref">Use Non-FEC Path TLV</a></p>
</li>
          <li class="ulBare ulEmpty compact toc" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-bfd-reverse-path-tlv-over-s" class="xref">BFD Reverse Path TLV over Segment Routed MPLS Tunnel with Dynamic Control Plane</a></p>
</li>
          <li class="ulBare ulEmpty compact toc" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-applicability-of-bfd-demand" class="xref">Applicability of BFD Demand Mode in SR-MPLS Domain</a></p>
</li>
          <li class="ulBare ulEmpty compact toc" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-using-bfd-to-monitor-point-" class="xref">Using BFD to Monitor Point-to-Multipoint SR Policy</a></p>
</li>
          <li class="ulBare ulEmpty compact toc" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-use-of-echo-bfd-in-sr-mpls" class="xref">Use of Echo BFD in SR-MPLS</a></p>
</li>
          <li class="ulBare ulEmpty compact toc" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
<ul class="ulEmpty compact toc ulBare">
<li class="ulEmpty compact toc ulBare" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a href="#section-9.1" class="xref">9.1</a>.  <a href="#name-non-fec-path-tlv" class="xref">Non-FEC Path TLV</a></p>
</li>
              <li class="ulEmpty compact toc ulBare" id="section-toc.1-1.9.2.2">
                <p id="section-toc.1-1.9.2.2.1"><a href="#section-9.2" class="xref">9.2</a>.  <a href="#name-return-code" class="xref">Return Code</a></p>
</li>
            </ul>
</li>
          <li class="ulBare ulEmpty compact toc" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-implementation-status" class="xref">Implementation Status</a></p>
</li>
          <li class="ulBare ulEmpty compact toc" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="xref">11</a>. <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
</li>
          <li class="ulBare ulEmpty compact toc" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-12" class="xref">12</a>. <a href="#name-contributors" class="xref">Contributors</a></p>
</li>
          <li class="ulBare ulEmpty compact toc" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#section-13" class="xref">13</a>. <a href="#name-acknowledgments" class="xref">Acknowledgments</a></p>
</li>
          <li class="ulBare ulEmpty compact toc" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#section-14" class="xref">14</a>. <a href="#name-references" class="xref">References</a></p>
<ul class="ulEmpty compact toc ulBare">
<li class="ulEmpty compact toc ulBare" id="section-toc.1-1.14.2.1">
                <p id="section-toc.1-1.14.2.1.1"><a href="#section-14.1" class="xref">14.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a></p>
</li>
              <li class="ulEmpty compact toc ulBare" id="section-toc.1-1.14.2.2">
                <p id="section-toc.1-1.14.2.2.1"><a href="#section-14.2" class="xref">14.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="ulBare ulEmpty compact toc" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1"><a href="#appendix-A" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="intro">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">
 <span>[<a href="#RFC5880" class="xref">RFC5880</a>]</span>, <span>[<a href="#RFC5881" class="xref">RFC5881</a>]</span>, and <span>[<a href="#RFC5883" class="xref">RFC5883</a>]</span> 
 defined the operation of Bidirectional Forwarding Detection (BFD) protocol
 between the two systems over IP networks.
 <span>[<a href="#RFC5884" class="xref">RFC5884</a>]</span> and <span>[<a href="#RFC7726" class="xref">RFC7726</a>]</span> set rules 
 for using BFD Asynchronous mode over point-to-point (p2p) Multiprotocol Label Switching (MPLS)
 Label Switched Path (LSP). These latter standards implicitly assume that the remote 
 BFD system, which is at the egress Label Edge Router (LER),
 will use the shortest path route regardless of the path the BFD system at the ingress LER
 uses to send BFD Control packets towards it. Throughout this document, references to
 ingress LER and egress LER are used, respectively, as a shortened version of the "BFD system at the ingress/egress
 LER".<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">
 This document defines the use of LSP Ping for Segment Routing networks over MPLS
 data plane <span>[<a href="#RFC8287" class="xref">RFC8287</a>]</span> to bootstrap 
 and control path of a BFD session from the egress to ingress LER
 using Segment Routing tunnel with MPLS data plane (SR-MPLS).<a href="#section-1-2" class="pilcrow">¶</a></p>
<section id="section-1.1">
        <h3 id="name-conventions">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-conventions" class="section-name selfRef">Conventions</a>
        </h3>
<section id="section-1.1.1">
          <h4 id="name-terminology">
<a href="#section-1.1.1" class="section-number selfRef">1.1.1. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
          </h4>
<p id="section-1.1.1-1">BFD:         Bidirectional Forwarding Detection<a href="#section-1.1.1-1" class="pilcrow">¶</a></p>
<p id="section-1.1.1-2">BSID:       Binding Segment Identifier<a href="#section-1.1.1-2" class="pilcrow">¶</a></p>
<p id="section-1.1.1-3">FEC:         Forwarding Equivalence Class<a href="#section-1.1.1-3" class="pilcrow">¶</a></p>
<p id="section-1.1.1-4">MPLS:         Multiprotocol Label Switching<a href="#section-1.1.1-4" class="pilcrow">¶</a></p>
<p id="section-1.1.1-5">SR-MPLS   Segment Routing with MPLS data plane<a href="#section-1.1.1-5" class="pilcrow">¶</a></p>
<p id="section-1.1.1-6">LSP:         Label Switched Path<a href="#section-1.1.1-6" class="pilcrow">¶</a></p>
<p id="section-1.1.1-7">LER          Label Edge Router<a href="#section-1.1.1-7" class="pilcrow">¶</a></p>
<p id="section-1.1.1-8">p2p           Point-to-point<a href="#section-1.1.1-8" class="pilcrow">¶</a></p>
<p id="section-1.1.1-9">p2mp         Point-to-multipoint<a href="#section-1.1.1-9" class="pilcrow">¶</a></p>
<p id="section-1.1.1-10">SID           Segment Identifier<a href="#section-1.1.1-10" class="pilcrow">¶</a></p>
<p id="section-1.1.1-11">SR            Segment Routing<a href="#section-1.1.1-11" class="pilcrow">¶</a></p>
</section>
<section id="section-1.1.2">
          <h4 id="name-requirements-language">
<a href="#section-1.1.2" class="section-number selfRef">1.1.2. </a><a href="#name-requirements-language" class="section-name selfRef">Requirements Language</a>
          </h4>
<p id="section-1.1.2-1">
   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL
   NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED",
   "MAY", and "OPTIONAL" in this document are to be interpreted as
   described in BCP 14 <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span> 
   when, and only when, they appear in all capitals, as shown here.<a href="#section-1.1.2-1" class="pilcrow">¶</a></p>
</section>
</section>
</section>
</div>
<div id="seg-rout-oper">
<section id="section-2">
      <h2 id="name-bootstrapping-bfd-session-o">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-bootstrapping-bfd-session-o" class="section-name selfRef">Bootstrapping BFD Session over Segment Routed Tunnel with MPLS Data Plane</a>
      </h2>
<p id="section-2-1">
Use of an LSP Ping to bootstrap BFD over MPLS LSP is required, as documented in <span>[<a href="#RFC5884" class="xref">RFC5884</a>]</span>,
to establish an association between a fault detection message, i.e., BFD Control message,
and the Forwarding Equivalency Class (FEC) of a single label stack LSP in case
of Penultimate Hop Popping or when the egress LER distributes the Explicit NULL label
to the penultimate hop router. The Explicit NULL label is not advertised as a Segment Identifier (SID) by an SR node
but, as demonstrated in section 3.1 <span>[<a href="#RFC8660" class="xref">RFC8660</a>]</span>
if the operation at the penultimate hop is NEXT; then
the egress SR node will receive an IP encapsulated packet. Thus the conclusion is that LSP Ping MUST be used to bootstrap
a BFD session in an SR-MPLS domain if there are no other means to bootstrap the BFD session,
e.g., using an extension to a dynamic routing protocol as described in <span>[<a href="#RFC9026" class="xref">RFC9026</a>]</span>
and <span>[<a href="#I-D.ietf-pim-bfd-p2mp-use-case" class="xref">I-D.ietf-pim-bfd-p2mp-use-case</a>]</span>.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2">
As demonstrated in <span>[<a href="#RFC8287" class="xref">RFC8287</a>]</span>, the introduction of Segment Routing network domains
with an MPLS data plane requires three new sub-TLVs that 
MAY be used with Target FEC TLV. Section 6.1 addresses the use of
the new sub-TLVs in Target FEC TLV in LSP ping and LSP traceroute. 
For the case of LSP ping, the <span>[<a href="#RFC8287" class="xref">RFC8287</a>]</span> states that:<a href="#section-2-2" class="pilcrow">¶</a></p>
<ul class="ulEmpty normal">
<li class="ulEmpty normal" id="section-2-3.1">
The initiator, i.e., ingress LER, MUST include FEC(s) corresponding to the destination segment.<a href="#section-2-3.1" class="pilcrow">¶</a>
</li>
        <li class="ulEmpty normal" id="section-2-3.2">
The initiator MAY include FECs corresponding to some or all of
segments imposed in the label stack by the ingress LER to
communicate the segments traversed.<a href="#section-2-3.2" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-2-4">
It has been noted in <span>[<a href="#RFC5884" class="xref">RFC5884</a>]</span> that a BFD session monitors for 
defects particular &lt;MPLS LSP, FEC&gt; tuple. <span>[<a href="#RFC7726" class="xref">RFC7726</a>]</span> clarified
how to establish and operate multiple BFD sessions for the same &lt;MPLS LSP, FEC&gt; tuple.
Because only the ingress LER is aware of the SR-based explicit route, the egress LER
can associate the LSP ping with BFD Discriminator TLV with only one of the FECs it advertised for
the particular segment. Thus this document clarifies that:<a href="#section-2-4" class="pilcrow">¶</a></p>
<ul class="ulEmpty normal">
<li class="ulEmpty normal" id="section-2-5.1">
When LSP Ping is used to bootstrapping a BFD session for SR-MPLS tunnel
the FEC corresponding to the segment to be associated with the BFD session
MUST be as the very last sub-TLV in the Target FEC TLV.<a href="#section-2-5.1" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-2-6">
If the target segment is an anycast prefix segment (<span>[<a href="#I-D.ietf-spring-mpls-anycast-segments" class="xref">I-D.ietf-spring-mpls-anycast-segments</a>]</span>) the corresponding Anycast SID
MUST be included in the Target TLV as the very last sub-TLV. Also, for
BFD Control packet the ingress SR node MUST use precisely the same label stack encapsulation,
especially Entropy Label (<span>[<a href="#RFC6790" class="xref">RFC6790</a>]</span>), as for the LSP ping with the BFD Discriminator TLV that bootstrapped the BFD session.
Other operational aspects of using BFD
to monitor the continuity of the path to the particular Anycast SID, advertised by a group of SR-MPLS capable
nodes, will be considered in the future versions of the document.<a href="#section-2-6" class="pilcrow">¶</a></p>
<p id="section-2-7">
Encapsulation of a BFD Control packet in Segment Routing network with MPLS data plane
MUST follow Section 7 <span>[<a href="#RFC5884" class="xref">RFC5884</a>]</span> when the IP/UDP header used and
MUST follow Section 3.4 <span>[<a href="#RFC6428" class="xref">RFC6428</a>]</span> without IP/UDP header being used.<a href="#section-2-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="seg-rout-return">
<section id="section-3">
      <h2 id="name-use-bfd-reverse-path-tlv-ov">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-use-bfd-reverse-path-tlv-ov" class="section-name selfRef">Use BFD Reverse Path TLV over Segment Routed MPLS Tunnel</a>
      </h2>
<p id="section-3-1">
For BFD over MPLS LSP case, per <span>[<a href="#RFC5884" class="xref">RFC5884</a>]</span>, egress LER MAY 
send BFD Control packet to the ingress LER either over IP network or an MPLS LSP. 
Similarly, for the case of BFD over p2p SR-MPLS tunnel, the egress LER
MAY route BFD Control packet over the IP network, as described in <span>[<a href="#RFC5883" class="xref">RFC5883</a>]</span>, or
transmit over a segment tunnel, as described in Section 7 <span>[<a href="#RFC5884" class="xref">RFC5884</a>]</span>.
   In some cases, there may be a need to direct egress LER to use a specific path
   for the reverse direction of the BFD session by using the BFD Reverse Path TLV and following all
   procedures as defined in <span>[<a href="#I-D.ietf-mpls-bfd-directed" class="xref">I-D.ietf-mpls-bfd-directed</a>]</span>.<a href="#section-3-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="non-fec-tlv">
<section id="section-4">
      <h2 id="name-use-non-fec-path-tlv">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-use-non-fec-path-tlv" class="section-name selfRef">Use Non-FEC Path TLV</a>
      </h2>
<p id="section-4-1">
 For the case of MPLS data plane, 
Segment Routing Architecture <span>[<a href="#RFC8402" class="xref">RFC8402</a>]</span> 
explains that "a segment is encoded as an MPLS label. An ordered list of segments is encoded as a stack of labels."<a href="#section-4-1" class="pilcrow">¶</a></p>
<p id="section-4-2">
This document defines a new optional Non-FEC Path TLV.
The format of the Non-FEC Path TLV is presented in <a href="#non-fec-tlv-fig" class="xref">Figure 1</a><a href="#section-4-2" class="pilcrow">¶</a></p>
<span id="name-non-fec-path-tlv-format"></span><div id="non-fec-tlv-fig">
<figure id="figure-1">
        <div class="artwork art-text alignLeft" id="section-4-3.1">
<pre>
    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |    Non-FEC Path TLV Type      |           Length              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   ~                          Non-FEC Path                         ~
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-non-fec-path-tlv-format" class="selfRef">Non-FEC Path TLV Format</a>
        </figcaption></figure>
</div>
<p id="section-4-4">
Non-FEC Path TLV Type is two octets in length and has a value of
   TBD1 (to be assigned by IANA as requested in <a href="#iana-non-fec-tlv" class="xref">Section 9.1</a>).<a href="#section-4-4" class="pilcrow">¶</a></p>
<p id="section-4-5">
   Length field is two octets long and defines the length in octets of the
   Non-FEC Path field.<a href="#section-4-5" class="pilcrow">¶</a></p>
<p id="section-4-6">
  Non-FEC Path field contains a sub-TLV. Any Non-FEC Path sub-TLV
   (defined in this document or to be defined in the future) for Non-FEC 
   Path TLV type MAY be used in this
   field.  None or one sub-TLV MAY be included in the Non-FEC
   Path TLV. If no sub-TLV has been found in the Non-FEC Path TLV, the
   egress LER MUST revert to using the reverse path selected
   based on its local policy. If there is more than one sub-TLV, then
   the Return Code in echo reply MUST be set to value TBD3 "Too Many TLVs Detected"
 (to be assigned by IANA as requested in <a href="#return-code-iana" class="xref">Table 4</a>).<a href="#section-4-6" class="pilcrow">¶</a></p>
<p id="section-4-7">
Non-FEC Path TLV MAY be used to specify the reverse path of the BFD session identified in the BFD Discriminator TLV.
If the Non-FEC Path TLV is present in the echo request message the  BFD Discriminator TLV MUST
be present as well. If the BFD Discriminator TLV is absent when the Non-FEC Path TLV is
   included, then it MUST be treated as malformed Echo Request, as
   described in <span>[<a href="#RFC8029" class="xref">RFC8029</a>]</span>.<a href="#section-4-7" class="pilcrow">¶</a></p>
<p id="section-4-8">
This document defines the Segment Routing MPLS Tunnel sub-TLV that MAY be used with the Non-FEC Path TLV.
The format of the sub-TLV is presented in <a href="#spring-mpls-sub-tlv" class="xref">Figure 2</a>.<a href="#section-4-8" class="pilcrow">¶</a></p>
<span id="name-segment-routing-mpls-tunnel"></span><div id="spring-mpls-sub-tlv">
<figure id="figure-2">
        <div class="artwork art-text alignLeft" id="section-4-9.1">
<pre>
  0                   1                   2                   3
  0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |  SR MPLS Tunnel sub-TLV Type  |           Length              |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |                   SID Entry 1 (Top of Stack)                  |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |                           SID Entry 2                         |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 ~                                                               ~
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |                   SID Entry N (Bottom of Stack)               |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-segment-routing-mpls-tunnel" class="selfRef">Segment Routing MPLS Tunnel sub-TLV</a>
        </figcaption></figure>
</div>
<p id="section-4-10">
The Segment Routing MPLS Tunnel sub-TLV Type is two octets in length, and has a value of TBD2 
(to be assigned by IANA as requested in <a href="#iana-non-fec-tlv" class="xref">Section 9.1</a>).<a href="#section-4-10" class="pilcrow">¶</a></p>
<p id="section-4-11">
The egress LER MUST use the Value field as label stack for BFD Control packets
for the BFD session identified by the source IP address of the MPLS LSP Ping packet
and the value in the BFD Discriminator TLV. Label Entries MUST be in network order.<a href="#section-4-11" class="pilcrow">¶</a></p>
</section>
</div>
<div id="dynamic-protocol">
<section id="section-5">
      <h2 id="name-bfd-reverse-path-tlv-over-s">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-bfd-reverse-path-tlv-over-s" class="section-name selfRef">BFD Reverse Path TLV over Segment Routed MPLS Tunnel with Dynamic Control Plane</a>
      </h2>
<p id="section-5-1">
When Segment Routed domain with MPLS data plane uses distributed tunnel computation BFD Reverse Path TLV MAY
use Target FEC sub-TLVs defined in <span>[<a href="#RFC8287" class="xref">RFC8287</a>]</span>.<a href="#section-5-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="demand-bfd">
<section id="section-6">
      <h2 id="name-applicability-of-bfd-demand">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-applicability-of-bfd-demand" class="section-name selfRef">Applicability of BFD Demand Mode in SR-MPLS Domain</a>
      </h2>
<p id="section-6-1">
<span>[<a href="#I-D.mirsky-bfd-mpls-demand" class="xref">I-D.mirsky-bfd-mpls-demand</a>]</span> defines how Demand mode of BFD, specified in sections 6.6 and 6.18.4 of <span>[<a href="#RFC5880" class="xref">RFC5880</a>]</span>,
can be used to monitor uni-directional MPLS LSP. Similar procedures can be following in SR-MPLS to monitor uni-directional SR tunnels:<a href="#section-6-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6-2.1">an ingress SR node bootstraps BFD session over SR-MPLS in Async BFD mode;<a href="#section-6-2.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-6-2.2">once BFD session is Up, the ingress SR node switches the egress LER into the Demand mode by setting D field in BFD Control packet it transmits;<a href="#section-6-2.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-6-2.3">if the egress LER detects the failure of the BFD session, it sends its BFD Control packet to the ingress SR node over the IP network with a Poll sequence;<a href="#section-6-2.3" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-6-2.4">if the ingress SR node receives a BFD Control packet from the remote node in a Demand mode 
with Poll sequence and Diag field indicating the failure, the ingress SR node transmits BFD Control packet with Final over IP and switches the BFD over SR-MPLS
back into Async mode, sending BFD Control packets one per second.<a href="#section-6-2.4" class="pilcrow">¶</a>
</li>
      </ul>
</section>
</div>
<div id="sr-p2mp-bfd-sec">
<section id="section-7">
      <h2 id="name-using-bfd-to-monitor-point-">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-using-bfd-to-monitor-point-" class="section-name selfRef">Using BFD to Monitor Point-to-Multipoint SR Policy</a>
      </h2>
<p id="section-7-1">
<span>[<a href="#I-D.voyer-spring-sr-p2mp-policy" class="xref">I-D.voyer-spring-sr-p2mp-policy</a>]</span> defined variants of SR Policy to deliver point-to-multipoint (p2mp) services.
For the given P2MP segment <span>[<a href="#RFC8562" class="xref">RFC8562</a>]</span> can be used if, for example, leaves have an
alternative source of the multicast service flow to select. In such a scenario, a leaf may switch to using the alternative flow
after p2mp BFD detects the failure in the working multicast path. For scenarios where it is required for the root to
monitor the state of the multicast tree <span>[<a href="#RFC8563" class="xref">RFC8563</a>]</span> can be used. The root may use the detection of the failure
of the multicast tree to the particular leaf to restore the path for that leaf or re-instantiate the whole multicast tree.<a href="#section-7-1" class="pilcrow">¶</a></p>
<p id="section-7-2">
An essential part of using p2mp BFD is the bootstrapping the BFD session at all the leaves. The root, acting as the MultipointHead,
MAY use LSP Ping with the BFD Discriminator TLV. Alternatively, extensions
to routing protocols, e.g., BGP, or management plane, e.g., PCEP,
MAY be used to associate the particular P2MP segment with MultipointHead's Discriminator. Extensions for routing protocols and
management plane are for further study.<a href="#section-7-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="echo-bfd-sec">
<section id="section-8">
      <h2 id="name-use-of-echo-bfd-in-sr-mpls">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-use-of-echo-bfd-in-sr-mpls" class="section-name selfRef">Use of Echo BFD in SR-MPLS</a>
      </h2>
<p id="section-8-1">
Echo-BFD <span>[<a href="#RFC5880" class="xref">RFC5880</a>]</span> can be used to monitor an SR Policy between the local and the remote BFD peers.
As defined in <span>[<a href="#RFC5880" class="xref">RFC5880</a>]</span>, the remote BFD system does not process the payload of an Echo BFD. Thus
it is the local system that demultiplexes the Echo BFD packet matching it to the appropriate BFD session and detects
missing Echo BFD packets. A BFD Control packet MAY be used as the payload of Echo BFD. This specification defines the use of Echo BFD in SR-MPLS
network with BFD Control packet as the payload. The use of other types of Echo BFD payload is outside the scope of this document.
Because the remote BFD system
does not process Echo BFD, the value of the Your Discriminator field MUST be set to the discriminator the local BFD system
assigned to the given BFD session. My Discriminator field MUST be zeroed. Authentication MUST be set according to the configuration
of the BFD session. To ensure that the Echo BFD packet is returned to the sender without being processed, the sender MAY use
a Binding SID (BSID) <span>[<a href="#RFC8402" class="xref">RFC8402</a>]</span> that has been bound with the SR Policy that ensures the return of a packet to that particular node.
A BSID MAY be associated with the SR Policy that is the reverse to the SR Policy programmed onto the BFD Echo packet by the sender.<a href="#section-8-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="iana-consider">
<section id="section-9">
      <h2 id="name-iana-considerations">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<div id="iana-non-fec-tlv">
<section id="section-9.1">
        <h3 id="name-non-fec-path-tlv">
<a href="#section-9.1" class="section-number selfRef">9.1. </a><a href="#name-non-fec-path-tlv" class="section-name selfRef">Non-FEC Path TLV</a>
        </h3>
<p id="section-9.1-1">
IANA is requested to assign new TLV type from the from Standards Action range
of the registry "Multiprotocol Label Switching Architecture (MPLS)
Label Switched Paths (LSPs) Ping Parameters - TLVs" as defined in <a href="#spring-non-fec-tlv-table" class="xref">Table 1</a>.<a href="#section-9.1-1" class="pilcrow">¶</a></p>
<span id="name-new-non-fec-path-tlv"></span><div id="spring-non-fec-tlv-table">
<table class="center" id="table-1">
          <caption>
<a href="#table-1" class="selfRef">Table 1</a>:
<a href="#name-new-non-fec-path-tlv" class="selfRef">New Non-FEC Path TLV</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Value</th>
              <th class="text-left" rowspan="1" colspan="1">TLV Name</th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1"> TBD1</td>
              <td class="text-left" rowspan="1" colspan="1">Non-FEC Path TLV</td>
              <td class="text-left" rowspan="1" colspan="1">This document</td>
            </tr>
          </tbody>
        </table>
</div>
<p id="section-9.1-3">
IANA is requested to create new Non-FEC Path sub-TLV registry for the Non-FEC Path TLV, as described in <a href="#iana-non-fec-sub-tlv-reg-tbl" class="xref">Table 2</a>.<a href="#section-9.1-3" class="pilcrow">¶</a></p>
<span id="name-non-fec-path-sub-tlv-regist"></span><div id="iana-non-fec-sub-tlv-reg-tbl">
<table class="center" id="table-2">
          <caption>
<a href="#table-2" class="selfRef">Table 2</a>:
<a href="#name-non-fec-path-sub-tlv-regist" class="selfRef">Non-FEC Path sub-TLV registry</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Range</th>
              <th class="text-center" rowspan="1" colspan="1">Registration Procedures</th>
              <th class="text-left" rowspan="1" colspan="1">Note</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0-16383</td>
              <td class="text-center" rowspan="1" colspan="1">Standards Action</td>
              <td class="text-left" rowspan="1" colspan="1">This range is for mandatory TLVs or for optional TLVs that require an error message if not recognized.</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">16384-31743</td>
              <td class="text-center" rowspan="1" colspan="1">Specification Required</td>
              <td class="text-left" rowspan="1" colspan="1">Experimental RFC needed</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">32768-49161</td>
              <td class="text-center" rowspan="1" colspan="1">Standards Action</td>
              <td class="text-left" rowspan="1" colspan="1">This range is for optional TLVs that can be silently dropped if not recognized.</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">49162-64511</td>
              <td class="text-center" rowspan="1" colspan="1">Specification Required</td>
              <td class="text-left" rowspan="1" colspan="1">Experimental RFC needed</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">64512-65535</td>
              <td class="text-center" rowspan="1" colspan="1">Private Use</td>
              <td class="text-left" rowspan="1" colspan="1"></td>
            </tr>
          </tbody>
        </table>
</div>
<p id="section-9.1-5">IANA is requested to allocate the following values from the Non-FEC Path sub-TLV registry as defined in <a href="#spring-sub-tlv-table" class="xref">Table 3</a>.<a href="#section-9.1-5" class="pilcrow">¶</a></p>
<span id="name-new-segment-routing-tunnel-"></span><div id="spring-sub-tlv-table">
<table class="center" id="table-3">
          <caption>
<a href="#table-3" class="selfRef">Table 3</a>:
<a href="#name-new-segment-routing-tunnel-" class="selfRef">New Segment Routing Tunnel sub-TLV</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Value</th>
              <th class="text-left" rowspan="1" colspan="1">Description</th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0</td>
              <td class="text-left" rowspan="1" colspan="1">Reserved</td>
              <td class="text-left" rowspan="1" colspan="1">This document</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1"> TBD2</td>
              <td class="text-left" rowspan="1" colspan="1">Segment Routing MPLS Tunnel sub-TLV</td>
              <td class="text-left" rowspan="1" colspan="1">This document</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">65535</td>
              <td class="text-left" rowspan="1" colspan="1">Reserved</td>
              <td class="text-left" rowspan="1" colspan="1">This document</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</div>
<div id="iana-return-code">
<section id="section-9.2">
        <h3 id="name-return-code">
<a href="#section-9.2" class="section-number selfRef">9.2. </a><a href="#name-return-code" class="section-name selfRef">Return Code</a>
        </h3>
<p id="section-9.2-1">
IANA is requested to create Non-FEC Path sub-TLV sub-registry for
the new Non-FEC Path TLV and assign a new Return Code value from the "Multi-Protocol Label Switching (MPLS)
Label Switched Paths (LSPs) Ping Parameters" registry, "Return Codes" sub-registry, as follows using a
Standards Action value.<a href="#section-9.2-1" class="pilcrow">¶</a></p>
<span id="name-new-return-code"></span><div id="return-code-iana">
<table class="center" id="table-4">
          <caption>
<a href="#table-4" class="selfRef">Table 4</a>:
<a href="#name-new-return-code" class="selfRef">New Return Code</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Value</th>
              <th class="text-left" rowspan="1" colspan="1">Description</th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">X TBD3</td>
              <td class="text-left" rowspan="1" colspan="1">Too Many TLVs Detected.</td>
              <td class="text-left" rowspan="1" colspan="1">This document</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</div>
</section>
</div>
<section id="section-10">
      <h2 id="name-implementation-status">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-implementation-status" class="section-name selfRef">Implementation Status</a>
      </h2>
<p id="section-10-1">-  The organization responsible for the implementation: ZTE Corporation.<a href="#section-10-1" class="pilcrow">¶</a></p>
<p id="section-10-2">-  The implementation's name ROSng SW empowers traditional routers, e.g., ZXCTN 6000.<a href="#section-10-2" class="pilcrow">¶</a></p>
<p id="section-10-3">-  A brief general description: A list of SIDs can be specified as the Return Path for an SR-MPLS tunnel.<a href="#section-10-3" class="pilcrow">¶</a></p>
<p id="section-10-4"> -  The implementation's level of maturity: production.<a href="#section-10-4" class="pilcrow">¶</a></p>
<p id="section-10-5">-  Coverage: complete<a href="#section-10-5" class="pilcrow">¶</a></p>
<p id="section-10-6">-  Version compatibility: draft-mirsky-spring-bfd-06.<a href="#section-10-6" class="pilcrow">¶</a></p>
<p id="section-10-7">-  Licensing: proprietary.<a href="#section-10-7" class="pilcrow">¶</a></p>
<p id="section-10-8">-  Implementation experience: Appreciate Early Allocation of values for Non-FEC TLV and Segment Routing MPLS Tunnel sub-TLV (using Private Use code points).<a href="#section-10-8" class="pilcrow">¶</a></p>
<p id="section-10-9">-  Contact information: Qian Xin qian.xin2@zte.com.cn<a href="#section-10-9" class="pilcrow">¶</a></p>
<p id="section-10-10">-  The date when information about this particular implementation was last updated: 12/16/2019<a href="#section-10-10" class="pilcrow">¶</a></p>
<p id="section-10-11">Note to RFC Editor: This section MUST be removed before publication of the document.<a href="#section-10-11" class="pilcrow">¶</a></p>
</section>
<div id="security">
<section id="section-11">
      <h2 id="name-security-considerations">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-11-1">
 Security considerations discussed in <span>[<a href="#RFC5880" class="xref">RFC5880</a>]</span>, 
 <span>[<a href="#RFC5884" class="xref">RFC5884</a>]</span>, <span>[<a href="#RFC7726" class="xref">RFC7726</a>]</span>, and <span>[<a href="#RFC8029" class="xref">RFC8029</a>]</span> 
 apply to this document.<a href="#section-11-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="contr-sec">
<section id="section-12">
      <h2 id="name-contributors">
<a href="#section-12" class="section-number selfRef">12. </a><a href="#name-contributors" class="section-name selfRef">Contributors</a>
      </h2>
<div class="artwork art-text alignLeft" id="section-12-1">
<pre>
   Xiao Min
   ZTE Corp.
   Email: xiao.min2@zte.com.cn
</pre><a href="#section-12-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<section id="section-13">
      <h2 id="name-acknowledgments">
<a href="#section-13" class="section-number selfRef">13. </a><a href="#name-acknowledgments" class="section-name selfRef">Acknowledgments</a>
      </h2>
<p id="section-13-1">
         Authors greatly appreciate the help of Qian Xin, who provided the information about the implementation of this specification.<a href="#section-13-1" class="pilcrow">¶</a></p>
</section>
<section id="section-14">
      <h2 id="name-references">
<a href="#section-14" class="section-number selfRef">14. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-14.1">
        <h3 id="name-normative-references">
<a href="#section-14.1" class="section-number selfRef">14.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="I-D.ietf-mpls-bfd-directed">[I-D.ietf-mpls-bfd-directed]</dt>
        <dd>
<span class="refAuthor">Mirsky, G.</span>, <span class="refAuthor">Tantsura, J.</span>, <span class="refAuthor">Varlashkin, I.</span>, and <span class="refAuthor">M. Chen</span>, <span class="refTitle">"Bidirectional Forwarding Detection (BFD) Directed Return Path for MPLS Label Switched Paths (LSPs)"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-mpls-bfd-directed-18</span>, <time datetime="2021-08-20" class="refDate">20 August 2021</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-mpls-bfd-directed-18">https://datatracker.ietf.org/doc/html/draft-ietf-mpls-bfd-directed-18</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.mirsky-bfd-mpls-demand">[I-D.mirsky-bfd-mpls-demand]</dt>
        <dd>
<span class="refAuthor">Mirsky, G.</span>, <span class="refTitle">"BFD in Demand Mode over Point-to-Point MPLS LSP"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-mirsky-bfd-mpls-demand-09</span>, <time datetime="2021-03-30" class="refDate">30 March 2021</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-mirsky-bfd-mpls-demand-09">https://datatracker.ietf.org/doc/html/draft-mirsky-bfd-mpls-demand-09</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.voyer-spring-sr-p2mp-policy">[I-D.voyer-spring-sr-p2mp-policy]</dt>
        <dd>
<span class="refAuthor">Voyer, D.</span>, <span class="refAuthor">Filsfils, C.</span>, <span class="refAuthor">Parekh, R.</span>, <span class="refAuthor">Bidgoli, H.</span>, and <span class="refAuthor">Z. Zhang</span>, <span class="refTitle">"SR Replication Policy for P2MP Service Delivery"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-voyer-spring-sr-p2mp-policy-03</span>, <time datetime="2019-07-02" class="refDate">2 July 2019</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-voyer-spring-sr-p2mp-policy-03">https://datatracker.ietf.org/doc/html/draft-voyer-spring-sr-p2mp-policy-03</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5880">[RFC5880]</dt>
        <dd>
<span class="refAuthor">Katz, D.</span> and <span class="refAuthor">D. Ward</span>, <span class="refTitle">"Bidirectional Forwarding Detection (BFD)"</span>, <span class="seriesInfo">RFC 5880</span>, <span class="seriesInfo">DOI 10.17487/RFC5880</span>, <time datetime="2010-06" class="refDate">June 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5880">https://www.rfc-editor.org/info/rfc5880</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5881">[RFC5881]</dt>
        <dd>
<span class="refAuthor">Katz, D.</span> and <span class="refAuthor">D. Ward</span>, <span class="refTitle">"Bidirectional Forwarding Detection (BFD) for IPv4 and IPv6 (Single Hop)"</span>, <span class="seriesInfo">RFC 5881</span>, <span class="seriesInfo">DOI 10.17487/RFC5881</span>, <time datetime="2010-06" class="refDate">June 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5881">https://www.rfc-editor.org/info/rfc5881</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5883">[RFC5883]</dt>
        <dd>
<span class="refAuthor">Katz, D.</span> and <span class="refAuthor">D. Ward</span>, <span class="refTitle">"Bidirectional Forwarding Detection (BFD) for Multihop Paths"</span>, <span class="seriesInfo">RFC 5883</span>, <span class="seriesInfo">DOI 10.17487/RFC5883</span>, <time datetime="2010-06" class="refDate">June 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5883">https://www.rfc-editor.org/info/rfc5883</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5884">[RFC5884]</dt>
        <dd>
<span class="refAuthor">Aggarwal, R.</span>, <span class="refAuthor">Kompella, K.</span>, <span class="refAuthor">Nadeau, T.</span>, and <span class="refAuthor">G. Swallow</span>, <span class="refTitle">"Bidirectional Forwarding Detection (BFD) for MPLS Label Switched Paths (LSPs)"</span>, <span class="seriesInfo">RFC 5884</span>, <span class="seriesInfo">DOI 10.17487/RFC5884</span>, <time datetime="2010-06" class="refDate">June 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5884">https://www.rfc-editor.org/info/rfc5884</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6428">[RFC6428]</dt>
        <dd>
<span class="refAuthor">Allan, D., Ed.</span>, <span class="refAuthor">Swallow, G., Ed.</span>, and <span class="refAuthor">J. Drake, Ed.</span>, <span class="refTitle">"Proactive Connectivity Verification, Continuity Check, and Remote Defect Indication for the MPLS Transport Profile"</span>, <span class="seriesInfo">RFC 6428</span>, <span class="seriesInfo">DOI 10.17487/RFC6428</span>, <time datetime="2011-11" class="refDate">November 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6428">https://www.rfc-editor.org/info/rfc6428</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7726">[RFC7726]</dt>
        <dd>
<span class="refAuthor">Govindan, V.</span>, <span class="refAuthor">Rajaraman, K.</span>, <span class="refAuthor">Mirsky, G.</span>, <span class="refAuthor">Akiya, N.</span>, and <span class="refAuthor">S. Aldrin</span>, <span class="refTitle">"Clarifying Procedures for Establishing BFD Sessions for MPLS Label Switched Paths (LSPs)"</span>, <span class="seriesInfo">RFC 7726</span>, <span class="seriesInfo">DOI 10.17487/RFC7726</span>, <time datetime="2016-01" class="refDate">January 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7726">https://www.rfc-editor.org/info/rfc7726</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8029">[RFC8029]</dt>
        <dd>
<span class="refAuthor">Kompella, K.</span>, <span class="refAuthor">Swallow, G.</span>, <span class="refAuthor">Pignataro, C., Ed.</span>, <span class="refAuthor">Kumar, N.</span>, <span class="refAuthor">Aldrin, S.</span>, and <span class="refAuthor">M. Chen</span>, <span class="refTitle">"Detecting Multiprotocol Label Switched (MPLS) Data-Plane Failures"</span>, <span class="seriesInfo">RFC 8029</span>, <span class="seriesInfo">DOI 10.17487/RFC8029</span>, <time datetime="2017-03" class="refDate">March 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8029">https://www.rfc-editor.org/info/rfc8029</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8287">[RFC8287]</dt>
        <dd>
<span class="refAuthor">Kumar, N., Ed.</span>, <span class="refAuthor">Pignataro, C., Ed.</span>, <span class="refAuthor">Swallow, G.</span>, <span class="refAuthor">Akiya, N.</span>, <span class="refAuthor">Kini, S.</span>, and <span class="refAuthor">M. Chen</span>, <span class="refTitle">"Label Switched Path (LSP) Ping/Traceroute for Segment Routing (SR) IGP-Prefix and IGP-Adjacency Segment Identifiers (SIDs) with MPLS Data Planes"</span>, <span class="seriesInfo">RFC 8287</span>, <span class="seriesInfo">DOI 10.17487/RFC8287</span>, <time datetime="2017-12" class="refDate">December 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8287">https://www.rfc-editor.org/info/rfc8287</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8402">[RFC8402]</dt>
        <dd>
<span class="refAuthor">Filsfils, C., Ed.</span>, <span class="refAuthor">Previdi, S., Ed.</span>, <span class="refAuthor">Ginsberg, L.</span>, <span class="refAuthor">Decraene, B.</span>, <span class="refAuthor">Litkowski, S.</span>, and <span class="refAuthor">R. Shakir</span>, <span class="refTitle">"Segment Routing Architecture"</span>, <span class="seriesInfo">RFC 8402</span>, <span class="seriesInfo">DOI 10.17487/RFC8402</span>, <time datetime="2018-07" class="refDate">July 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8402">https://www.rfc-editor.org/info/rfc8402</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8562">[RFC8562]</dt>
        <dd>
<span class="refAuthor">Katz, D.</span>, <span class="refAuthor">Ward, D.</span>, <span class="refAuthor">Pallagatti, S., Ed.</span>, and <span class="refAuthor">G. Mirsky, Ed.</span>, <span class="refTitle">"Bidirectional Forwarding Detection (BFD) for Multipoint Networks"</span>, <span class="seriesInfo">RFC 8562</span>, <span class="seriesInfo">DOI 10.17487/RFC8562</span>, <time datetime="2019-04" class="refDate">April 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8562">https://www.rfc-editor.org/info/rfc8562</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8563">[RFC8563]</dt>
        <dd>
<span class="refAuthor">Katz, D.</span>, <span class="refAuthor">Ward, D.</span>, <span class="refAuthor">Pallagatti, S., Ed.</span>, and <span class="refAuthor">G. Mirsky, Ed.</span>, <span class="refTitle">"Bidirectional Forwarding Detection (BFD) Multipoint Active Tails"</span>, <span class="seriesInfo">RFC 8563</span>, <span class="seriesInfo">DOI 10.17487/RFC8563</span>, <time datetime="2019-04" class="refDate">April 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8563">https://www.rfc-editor.org/info/rfc8563</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8660">[RFC8660]</dt>
      <dd>
<span class="refAuthor">Bashandy, A., Ed.</span>, <span class="refAuthor">Filsfils, C., Ed.</span>, <span class="refAuthor">Previdi, S.</span>, <span class="refAuthor">Decraene, B.</span>, <span class="refAuthor">Litkowski, S.</span>, and <span class="refAuthor">R. Shakir</span>, <span class="refTitle">"Segment Routing with the MPLS Data Plane"</span>, <span class="seriesInfo">RFC 8660</span>, <span class="seriesInfo">DOI 10.17487/RFC8660</span>, <time datetime="2019-12" class="refDate">December 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8660">https://www.rfc-editor.org/info/rfc8660</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-14.2">
        <h3 id="name-informative-references">
<a href="#section-14.2" class="section-number selfRef">14.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="I-D.ietf-pim-bfd-p2mp-use-case">[I-D.ietf-pim-bfd-p2mp-use-case]</dt>
        <dd>
<span class="refAuthor">Mirsky, G.</span> and <span class="refAuthor">J. Xiaoli</span>, <span class="refTitle">"Fast Failover in Protocol Independent Multicast - Sparse Mode (PIM-SM) Using Bidirectional Forwarding Detection (BFD) for Multipoint Networks"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-pim-bfd-p2mp-use-case-07</span>, <time datetime="2021-09-10" class="refDate">10 September 2021</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-pim-bfd-p2mp-use-case-07">https://datatracker.ietf.org/doc/html/draft-ietf-pim-bfd-p2mp-use-case-07</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-spring-mpls-anycast-segments">[I-D.ietf-spring-mpls-anycast-segments]</dt>
        <dd>
<span class="refAuthor">Sarkar, P.</span>, <span class="refAuthor">Gredler, H.</span>, <span class="refAuthor">Filsfils, C.</span>, <span class="refAuthor">Previdi, S.</span>, <span class="refAuthor">Decraene, B.</span>, and <span class="refAuthor">M. Horneffer</span>, <span class="refTitle">"Anycast Segments in MPLS based Segment Routing"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-spring-mpls-anycast-segments-03</span>, <time datetime="2020-04-27" class="refDate">27 April 2020</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-spring-mpls-anycast-segments-03">https://datatracker.ietf.org/doc/html/draft-ietf-spring-mpls-anycast-segments-03</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6790">[RFC6790]</dt>
        <dd>
<span class="refAuthor">Kompella, K.</span>, <span class="refAuthor">Drake, J.</span>, <span class="refAuthor">Amante, S.</span>, <span class="refAuthor">Henderickx, W.</span>, and <span class="refAuthor">L. Yong</span>, <span class="refTitle">"The Use of Entropy Labels in MPLS Forwarding"</span>, <span class="seriesInfo">RFC 6790</span>, <span class="seriesInfo">DOI 10.17487/RFC6790</span>, <time datetime="2012-11" class="refDate">November 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6790">https://www.rfc-editor.org/info/rfc6790</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9026">[RFC9026]</dt>
      <dd>
<span class="refAuthor">Morin, T., Ed.</span>, <span class="refAuthor">Kebler, R., Ed.</span>, and <span class="refAuthor">G. Mirsky, Ed.</span>, <span class="refTitle">"Multicast VPN Fast Upstream Failover"</span>, <span class="seriesInfo">RFC 9026</span>, <span class="seriesInfo">DOI 10.17487/RFC9026</span>, <time datetime="2021-04" class="refDate">April 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9026">https://www.rfc-editor.org/info/rfc9026</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="authors-addresses">
<section id="appendix-A">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Greg Mirsky</span></div>
<div dir="auto" class="left"><span class="org">Ericsson</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:gregimirsky@gmail.com" class="email">gregimirsky@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Jeff  Tantsura</span></div>
<div dir="auto" class="left"><span class="org">Juniper Networks</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:jefftant.ietf@gmail.com" class="email">jefftant.ietf@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Ilya Varlashkin</span></div>
<div dir="auto" class="left"><span class="org">Google</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:Ilya@nobulus.com" class="email">Ilya@nobulus.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Mach(Guoyi) Chen</span></div>
<div dir="auto" class="left"><span class="org">Huawei</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:mach.chen@huawei.com" class="email">mach.chen@huawei.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Jiang Wenying</span></div>
<div dir="auto" class="left"><span class="org">CMCC</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:jiangwenying@chinamobile.com" class="email">jiangwenying@chinamobile.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
