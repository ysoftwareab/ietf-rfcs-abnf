<!DOCTYPE html>
<html lang="en" class="Internet-Draft ">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>The Computerate Specifying Paradigm</title>
<meta content="Marc Petit-Huguenin" name="author">
<meta content="
       This document specifies a paradigm named Computerate Specifying, designed to simultaneously document and formally specify communication protocols.
This paradigm can be applied to any document produced by any Standard Developing Organization (SDO), but this document targets specifically documents produced by the IETF. 
    " name="description">
<meta content="xml2rfc 2.40.1" name="generator">
<meta content="draft-petithuguenin-computerate-specifying-03" name="ietf.draft">
<link href="/tmp/draft-petithuguenin-computerate-specifying-03.rfc-9ijk0ve9.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Avoid wrapping of URLs in references */
@media screen {
  .references a {
    white-space: nowrap;
  }
}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin: 0 0 0.25em 0;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/*
  The margin-left: 0 on <dd> removes all distinction
  between levels from nested <dl>s.  Undo that.
*/
dl.olPercent > dd,
dd {
  margin-left: revert;
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">Computerate Specifying</td>
<td class="right">March 2020</td>
</tr></thead>
<tfoot><tr>
<td class="left">Petit-Huguenin</td>
<td class="center">Expires 10 September 2020</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Network Working Group</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-petithuguenin-computerate-specifying-03</dd>
<dt class="label-">:</dt>
<dd></dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2020-03-09" class="published">9 March 2020</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Experimental</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2020-09-10">10 September 2020</time></dd>
<dt class="label-authors">Author:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">M. Petit-Huguenin</div>
<div class="org">Impedance Mismatch LLC</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">The Computerate Specifying Paradigm</h1>
<div id="_76a35de4-6fab-411d-b997-d1679a1f846c">
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<div id="_fe78fc2b-c80d-4c55-9a8a-80429d97ba63">
<p id="section-abstract-1">This document specifies a paradigm named Computerate Specifying, designed to simultaneously document and formally specify communication protocols.
This paradigm can be applied to any document produced by any Standard Developing Organization (SDO), but this document targets specifically documents produced by the IETF.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 10 September 2020.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2020 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a><a href="#section-toc.1-1.1.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="xref">2</a>.  <a href="#name-overview-of-operations" class="xref">Overview of Operations</a><a href="#section-toc.1-1.2.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1"><a href="#section-2.1" class="xref">2.1</a>.  <a href="#name-libraries" class="xref">Libraries</a><a href="#section-toc.1-1.2.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.2.2.2">
                <p id="section-toc.1-1.2.2.2.1"><a href="#section-2.2" class="xref">2.2</a>.  <a href="#name-retrofitting-specifications" class="xref">Retrofitting Specifications</a><a href="#section-toc.1-1.2.2.2.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.2.2.3">
                <p id="section-toc.1-1.2.2.3.1"><a href="#section-2.3" class="xref">2.3</a>.  <a href="#name-implementation-oriented-sta" class="xref">Implementation-Oriented Standards</a><a href="#section-toc.1-1.2.2.3.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.2.2.4">
                <p id="section-toc.1-1.2.2.4.1"><a href="#section-2.4" class="xref">2.4</a>.  <a href="#name-revision-of-standards" class="xref">Revision of Standards</a><a href="#section-toc.1-1.2.2.4.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.2.2.5">
                <p id="section-toc.1-1.2.2.5.1"><a href="#section-2.5" class="xref">2.5</a>.  <a href="#name-content-of-a-computerate-sp" class="xref">Content of a Computerate Specification</a><a href="#section-toc.1-1.2.2.5.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-syntax" class="xref">Syntax</a><a href="#section-toc.1-1.3.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="xref">3.1</a>.  <a href="#name-syntax-examples" class="xref">Syntax Examples</a><a href="#section-toc.1-1.3.2.1.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.3.2.1.2.1">
                    <p id="section-toc.1-1.3.2.1.2.1.1"><a href="#section-3.1.1" class="xref">3.1.1</a>.  <a href="#name-data-type" class="xref">Data Type</a><a href="#section-toc.1-1.3.2.1.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.3.2.1.2.2">
                    <p id="section-toc.1-1.3.2.1.2.2.1"><a href="#section-3.1.2" class="xref">3.1.2</a>.  <a href="#name-serializer" class="xref">Serializer</a><a href="#section-toc.1-1.3.2.1.2.2.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.3.2.1.2.3">
                    <p id="section-toc.1-1.3.2.1.2.3.1"><a href="#section-3.1.3" class="xref">3.1.3</a>.  <a href="#name-presentation-format" class="xref">Presentation Format</a><a href="#section-toc.1-1.3.2.1.2.3.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="xref">3.2</a>.  <a href="#name-designing-a-data-type" class="xref">Designing a Data Type</a><a href="#section-toc.1-1.3.2.2.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="xref">3.3</a>.  <a href="#name-formal-syntax-language" class="xref">Formal Syntax Language</a><a href="#section-toc.1-1.3.2.3.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.3.2.3.2.1">
                    <p id="section-toc.1-1.3.2.3.2.1.1"><a href="#section-3.3.1" class="xref">3.3.1</a>.  <a href="#name-augmented-bnf-abnf" class="xref">Augmented BNF (ABNF)</a><a href="#section-toc.1-1.3.2.3.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.3.2.3.2.2">
                    <p id="section-toc.1-1.3.2.3.2.2.1"><a href="#section-3.3.2" class="xref">3.3.2</a>.  <a href="#name-augmented-packet-header-dia" class="xref">Augmented Packet Header Diagrams (APHD)</a><a href="#section-toc.1-1.3.2.3.2.2.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.3.2.3.2.3">
                    <p id="section-toc.1-1.3.2.3.2.3.1"><a href="#section-3.3.3" class="xref">3.3.3</a>.  <a href="#name-mathematical-formulas" class="xref">Mathematical Formulas</a><a href="#section-toc.1-1.3.2.3.2.3.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.3.2.3.2.4">
                    <p id="section-toc.1-1.3.2.3.2.4.1"><a href="#section-3.3.4" class="xref">3.3.4</a>.  <a href="#name-relax-ng-format" class="xref">RELAX NG Format</a><a href="#section-toc.1-1.3.2.3.2.4.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.3.2.3.2.5">
                    <p id="section-toc.1-1.3.2.3.2.5.1"><a href="#section-3.3.5" class="xref">3.3.5</a>.  <a href="#name-asn1" class="xref">ASN.1</a><a href="#section-toc.1-1.3.2.3.2.5.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.3.2.3.2.6">
                    <p id="section-toc.1-1.3.2.3.2.6.1"><a href="#section-3.3.6" class="xref">3.3.6</a>.  <a href="#name-tls-description-language" class="xref">TLS Description Language</a><a href="#section-toc.1-1.3.2.3.2.6.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.3.2.4">
                <p id="section-toc.1-1.3.2.4.1"><a href="#section-3.4" class="xref">3.4</a>.  <a href="#name-proofs-for-syntax" class="xref">Proofs for Syntax</a><a href="#section-toc.1-1.3.2.4.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.3.2.4.2.1">
                    <p id="section-toc.1-1.3.2.4.2.1.1"><a href="#section-3.4.1" class="xref">3.4.1</a>.  <a href="#name-isomorphism-between-type-an" class="xref">Isomorphism Between Type and Formal Language</a><a href="#section-toc.1-1.3.2.4.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.3.2.4.2.2">
                    <p id="section-toc.1-1.3.2.4.2.2.1"><a href="#section-3.4.2" class="xref">3.4.2</a>.  <a href="#name-data-format-conversion" class="xref">Data Format Conversion</a><a href="#section-toc.1-1.3.2.4.2.2.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.3.2.4.2.3">
                    <p id="section-toc.1-1.3.2.4.2.3.1"><a href="#section-3.4.3" class="xref">3.4.3</a>.  <a href="#name-interoperability-with-previ" class="xref">Interoperability with Previous Versions</a><a href="#section-toc.1-1.3.2.4.2.3.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.3.2.4.2.4">
                    <p id="section-toc.1-1.3.2.4.2.4.1"><a href="#section-3.4.4" class="xref">3.4.4</a>.  <a href="#name-postels-law" class="xref">Postel's Law</a><a href="#section-toc.1-1.3.2.4.2.4.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.3.2.5">
                <p id="section-toc.1-1.3.2.5.1"><a href="#section-3.5" class="xref">3.5</a>.  <a href="#name-extended-registries" class="xref">Extended Registries</a><a href="#section-toc.1-1.3.2.5.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-semantics" class="xref">Semantics</a><a href="#section-toc.1-1.4.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-typed-petri-nets" class="xref">Typed Petri Nets</a><a href="#section-toc.1-1.4.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-semantics-examples" class="xref">Semantics Examples</a><a href="#section-toc.1-1.4.2.2.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.4.2.2.2.1">
                    <p id="section-toc.1-1.4.2.2.2.1.1"><a href="#section-4.2.1" class="xref">4.2.1</a>.  <a href="#name-data-type-2" class="xref">Data Type</a><a href="#section-toc.1-1.4.2.2.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.4.2.2.2.2">
                    <p id="section-toc.1-1.4.2.2.2.2.1"><a href="#section-4.2.2" class="xref">4.2.2</a>.  <a href="#name-serializer-2" class="xref">Serializer</a><a href="#section-toc.1-1.4.2.2.2.2.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.4.2.2.2.3">
                    <p id="section-toc.1-1.4.2.2.2.3.1"><a href="#section-4.2.3" class="xref">4.2.3</a>.  <a href="#name-presentation-format-2" class="xref">Presentation Format</a><a href="#section-toc.1-1.4.2.2.2.3.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="xref">4.3</a>.  <a href="#name-formal-semantics-language" class="xref">Formal Semantics Language</a><a href="#section-toc.1-1.4.2.3.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.4.2.3.2.1">
                    <p id="section-toc.1-1.4.2.3.2.1.1"><a href="#section-4.3.1" class="xref">4.3.1</a>.  <a href="#name-cosmogol" class="xref">Cosmogol</a><a href="#section-toc.1-1.4.2.3.2.1.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.4.2.4">
                <p id="section-toc.1-1.4.2.4.1"><a href="#section-4.4" class="xref">4.4</a>.  <a href="#name-proofs-for-semantics" class="xref">Proofs for Semantics</a><a href="#section-toc.1-1.4.2.4.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.4.2.4.2.1">
                    <p id="section-toc.1-1.4.2.4.2.1.1"><a href="#section-4.4.1" class="xref">4.4.1</a>.  <a href="#name-isomorphism" class="xref">Isomorphism</a><a href="#section-toc.1-1.4.2.4.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.4.2.4.2.2">
                    <p id="section-toc.1-1.4.2.4.2.2.1"><a href="#section-4.4.2" class="xref">4.4.2</a>.  <a href="#name-postels-law-2" class="xref">Postel's Law</a><a href="#section-toc.1-1.4.2.4.2.2.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.4.2.4.2.3">
                    <p id="section-toc.1-1.4.2.4.2.3.1"><a href="#section-4.4.3" class="xref">4.4.3</a>.  <a href="#name-termination" class="xref">Termination</a><a href="#section-toc.1-1.4.2.4.2.3.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.4.2.4.2.4">
                    <p id="section-toc.1-1.4.2.4.2.4.1"><a href="#section-4.4.4" class="xref">4.4.4</a>.  <a href="#name-liveness" class="xref">Liveness</a><a href="#section-toc.1-1.4.2.4.2.4.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-verified-code" class="xref">Verified Code</a><a href="#section-toc.1-1.5.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-bibliography" class="xref">Bibliography</a><a href="#section-toc.1-1.6.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-appendix.a" class="xref">Appendix A</a>.  <a href="#name-command-line-tools" class="xref">Command Line Tools</a><a href="#section-toc.1-1.7.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#section-a.1" class="xref">A.1</a>.  <a href="#name-installation" class="xref">Installation</a><a href="#section-toc.1-1.7.2.1.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.7.2.1.2.1">
                    <p id="section-toc.1-1.7.2.1.2.1.1"><a href="#section-a.1.1" class="xref">A.1.1</a>.  <a href="#name-download-the-docker-image" class="xref">Download the Docker Image</a><a href="#section-toc.1-1.7.2.1.2.1.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a href="#section-a.2" class="xref">A.2</a>.  <a href="#name-using-the-computerate-comma" class="xref">Using the <code>computerate</code> Command</a><a href="#section-toc.1-1.7.2.2.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.7.2.3">
                <p id="section-toc.1-1.7.2.3.1"><a href="#section-a.3" class="xref">A.3</a>.  <a href="#name-using-the-idris-repl" class="xref">Using the Idris REPL</a><a href="#section-toc.1-1.7.2.3.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.7.2.4">
                <p id="section-toc.1-1.7.2.4.1"><a href="#section-a.4" class="xref">A.4</a>.  <a href="#name-using-other-commands" class="xref">Using Other Commands</a><a href="#section-toc.1-1.7.2.4.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.7.2.5">
                <p id="section-toc.1-1.7.2.5.1"><a href="#section-a.5" class="xref">A.5</a>.  <a href="#name-bugs-and-workarounds" class="xref">Bugs and Workarounds</a><a href="#section-toc.1-1.7.2.5.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.7.2.6">
                <p id="section-toc.1-1.7.2.6.1"><a href="#section-a.6" class="xref">A.6</a>.  <a href="#name-todo-list" class="xref">TODO List</a><a href="#section-toc.1-1.7.2.6.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-appendix.b" class="xref">Appendix B</a>.  <a href="#name-computerate-specifications-" class="xref">Computerate Specifications Library</a><a href="#section-toc.1-1.8.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a href="#section-b.1" class="xref">B.1</a>.  <a href="#name-installation-2" class="xref">Installation</a><a href="#section-toc.1-1.8.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a href="#section-b.2" class="xref">B.2</a>.  <a href="#name-catalog" class="xref">Catalog</a><a href="#section-toc.1-1.8.2.2.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.8.2.2.2.1">
                    <p id="section-toc.1-1.8.2.2.2.1.1"><a href="#section-b.2.1" class="xref">B.2.1</a>.  <a href="#name-rfc-5234" class="xref">RFC 5234</a><a href="#section-toc.1-1.8.2.2.2.1.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-appendix.c" class="xref">Appendix C</a>.  <a href="#name-extended-registry" class="xref">Extended Registry</a><a href="#section-toc.1-1.9.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-appendix.d" class="xref">Appendix D</a>.  <a href="#name-errata-statistics" class="xref">Errata Statistics</a><a href="#section-toc.1-1.10.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-appendix.e" class="xref"></a><a href="#name-acknowledgements" class="xref">Acknowledgements</a><a href="#section-toc.1-1.11.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-appendix.f" class="xref"></a><a href="#name-changelog" class="xref">Changelog</a><a href="#section-toc.1-1.12.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#section-appendix.g" class="xref"></a><a href="#name-authors-address" class="xref">Author's Address</a><a href="#section-toc.1-1.13.1" class="pilcrow">¶</a></p>
</li>
</ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<div id="_103266a6-d3d1-4535-84cf-77ec55031b1c">
<p id="section-1-1">If, as the unofficial IETF motto states, we believe that "running code" is an important part of the feedback provided to the standardization process, then as per the Curry-Howard equivalence <span>[<a href="#Curry-Howard" class="xref">Curry-Howard</a>]</span> (that states that code and mathematical proofs are the same), we ought to also believe that "verified proof" is an equally important part of that feedback.
A verified proof is a mathematical proof of a logical proposition that was mechanically verified by a computer, as opposed to just peer-reviewed.<a href="#section-1-1" class="pilcrow">¶</a></p>
</div>
<div id="_698484e1-2362-42f2-8f4d-10547a96ec7a">
<p id="section-1-2">The "Experiences with Protocol Description" paper from Pamela Zave <span>[<a href="#Zave" class="xref">Zave</a>]</span> gives three conclusions about the usage of formal specifications for a protocol standard.
The first conclusion states that informal methods (i.e. the absence of verified proofs) are inadequate for widely used protocols.
This document is based on the assumption that this conclusion is correct, so its validity will not be discussed further.<a href="#section-1-2" class="pilcrow">¶</a></p>
</div>
<div id="_73934594-2a6a-40e1-a27d-a59c8a1350b2">
<p id="section-1-3">The second conclusion states that formal specifications are useful even if they fall short of the "gold standard" of a complete formal specification.
We will show that a formal specification can be incrementally added to a standard.<a href="#section-1-3" class="pilcrow">¶</a></p>
</div>
<div id="_23de1d5c-41b7-4a59-81bd-e654cf30e3eb">
<p id="section-1-4">The third conclusion from Zave's paper states that the normative English language should be paraphrasing the formal specification.
The difficulty here is that to be able to keep the formal specification and the normative language synchronized at all times, these two should be kept as physically close as possible to each other.<a href="#section-1-4" class="pilcrow">¶</a></p>
</div>
<div id="_d0557495-3ca6-4b78-931a-ed457b7f0de1">
<p id="section-1-5">To do that we introduce the concept of "Computerate Specifying" (note that Computerate is a British English word).
"Computerate Specifying" is a play on "Literate Computing", itself a play on "Structured Computing" (see <span>[<a href="#Knuth92" class="xref">Knuth92</a>]</span> page 99).
In the same way that Literate Programming enriches code by interspersing it with its own documentation, Computerate Specifying enriches a standard specification by interspersing it with code (or with proofs, as they are the same thing), making it a computerate specification.<a href="#section-1-5" class="pilcrow">¶</a></p>
</div>
<div id="_de8cfe55-85e6-490f-8eeb-7a735e6167fd">
<p id="section-1-6">Note that computerate specifying is not specific to the IETF, just like literate computing is not restricted to the combination of Tex and Pascal described in Knuth's paper.
What this document describes is a specific instance of computerate specifying that combines <span>[<a href="#AsciiDoc" class="xref">AsciiDoc</a>]</span> as formatting language and <span>[<a href="#Idris" class="xref">Idris</a>]</span> as programming language with the goal of formally specifying IETF protocols.<a href="#section-1-6" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="overview">
<section id="section-2">
      <h2 id="name-overview-of-operations">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-overview-of-operations" class="section-name selfRef">Overview of Operations</a>
      </h2>
<div id="_6718c893-748e-4b42-b64f-ed3125a7cd11">
<p id="section-2-1">Nowadays specifications at the IETF are written in a format named <span><a href="#RFC7991" class="xref">xml2rfc v3</a> [<a href="#RFC7991" class="xref">RFC7991</a>]</span> but unfortunately making that format "Computerable" is not trivial, mostly because there is no simple solution to mix code and XML together in the same file.
Instead, we chose the AsciiDoc format as the basis for computerate specifications as it permits the generation of specifications in the xmlrfc v3 format (among other formats) and also because it can be enriched with code in the same file.<a href="#section-2-1" class="pilcrow">¶</a></p>
</div>
<div id="_232feeb2-2a5f-4c6f-ab74-b9c3d6cda84c">
<p id="section-2-2"><span><a href="#I-D.ribose-asciirfc" class="xref">​</a> [<a href="#I-D.ribose-asciirfc" class="xref">I-D.ribose-asciirfc</a>]</span> describes a backend for the <span>[<a href="#Asciidoctor" class="xref">Asciidoctor</a>]</span> tool that converts an AsciiDoc document into an xmlrfc3 document.
The AsciiRFC document states various reasons why AsciiDoc is a superior format for the purpose of writing standards, so we will not discuss these further.
Note that the same team developed Asciidoctor backends for other Standards Developing Organizations (SDO) <span>[<a href="#Metanorma" class="xref">Metanorma</a>]</span>, making it easy to develop computerate specifications targeting the standards developed by these SDOs.<a href="#section-2-2" class="pilcrow">¶</a></p>
</div>
<div id="_af722474-6552-4e4a-a117-1796a79f9639">
<p id="section-2-3">The code in a computerate specification uses the programming language Idris in <span><a href="#Literate" class="xref">literate programming</a> [<a href="#Literate" class="xref">Literate</a>]</span> mode using the Bird-style, by having each line of code starting with a "&gt;" mark in the first column.<a href="#section-2-3" class="pilcrow">¶</a></p>
</div>
<div id="_b0c5a47d-6c7d-4c62-97fb-69c8bb8a2241">
<p id="section-2-4">That same symbol was also used by AsciiDoc as an alternate way of defining a <span><a href="#Blockquotes" class="xref">blockquote</a> [<a href="#Blockquotes" class="xref">Blockquotes</a>]</span> way which is no longer available in a computerate specification.
Bird-style code will simply not appear in the rendered document.<a href="#section-2-4" class="pilcrow">¶</a></p>
</div>
<div id="_4afdd421-e9fb-40f8-8783-93f0fa1fc659">
<p id="section-2-5">The result of Idris code execution can be inserted inside the document part by putting that code fragment in the document between the "{`" string and the "`}" string.<a href="#section-2-5" class="pilcrow">¶</a></p>
</div>
<div id="_33b55d97-3ab7-46b4-9e06-9bab00eedcab">
<p id="section-2-6">A computerate specification is processed by an Asciidoctor preprocessor that does the following:<a href="#section-2-6" class="pilcrow">¶</a></p>
</div>
<div id="_ab610511-bcd9-4e25-9867-07584a4a00e8">
<ol start="1" type="1" class="normal type-1" id="section-2-7">
        <li id="section-2-7.1">
          <div id="_942bf740-7dc1-4d71-9f6c-6d73e8f1b0f6">
<p id="section-2-7.1.1">Loads the whole document as an Idris program, including importing modules.<a href="#section-2-7.1.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-2-7.2">
          <div id="_c3aae70f-79ff-452d-83d6-9167c39c7a0b">
<p id="section-2-7.2.1">For each instance of an inline code fragment, evaluates that fragment and replace it (including the delimiters) by the result of that evaluation.<a href="#section-2-7.2.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-2-7.3">
          <div id="_eb8bfa93-dc58-4cea-94d7-01ca151cdd7c">
<p id="section-2-7.3.1">Continues with the normal processing of the modified document.<a href="#section-2-7.3.1" class="pilcrow">¶</a></p>
</div>
</li>
</ol>
</div>
<div id="_84d69d51-f133-4f79-bc54-a13ebc4bbed2">
<p id="section-2-8">For instance the following computerate specification fragment taken from the computerate specification of STUNbis<a href="#section-2-8" class="pilcrow">¶</a></p>
</div>
<div id="_7eee560d-2f09-45d7-806b-baee9629e1cb">
<figure id="figure-1">
        <div id="_af4d5b55-d5af-4684-9784-3b535a556019">
<div class="artwork art-text alignLeft art-ascii-art" id="section-2-9.1">
<pre>&lt;CODE BEGINS&gt;
&gt; rto : Int
&gt; rto = 500
&gt;
&gt; rc : Nat
&gt; rc = 7
&gt;
&gt; rm : Int
&gt; rm = 16
&gt;
&gt; -- A stream of transmission times
&gt; transmissions : Int -&gt; Int -&gt; Stream Int
&gt; transmissions value rto = value :: transmissions (value + rto)
&gt;   (rto * 2)
&gt;
&gt; -- Returns a specific transmission time
&gt; transmission : Int -&gt; Nat -&gt; Int
&gt; transmission timeout i = index i $ transmissions 0 timeout
&gt;
&gt; a1 : String
&gt; a1 = show rto
&gt;
&gt; a2 : String
&gt; a2 = concat (take (rc - 1) (map (\t =&gt; show t ++ " ms, ")
&gt;   (transmissions 0 rto))) ++ "and " ++ show (transmission rto
&gt;     (rc - 1)) ++ " ms"
&gt;
&gt; a3 : String
&gt; a3 = show $ transmission rto (rc - 1) + rto * rm
For example, assuming an RTO of {`a1`}ms, requests would be sent at
times {`a2`}.
If the client has not received a response after {`a3`} ms, the
client will consider the transaction to have timed out.
&lt;CODE ENDS&gt;</pre>
</div>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a></figcaption></figure>
</div>
<div id="_98577e08-ff1a-440a-8bd6-38713264ce87">
<p id="section-2-10">is rendered as<a href="#section-2-10" class="pilcrow">¶</a></p>
</div>
<div id="_0dfc1818-390a-4805-9261-7c8307bc79c0">
<figure id="figure-2">
        <div id="_9fb5367f-46bf-404f-820d-f4a7b5c973fa">
<div class="artwork art-text alignLeft art-ascii-art" id="section-2-11.1">
<pre>"                                            For example, assuming an
 RTO of 500ms, requests would be sent at times 0 ms, 500 ms, 1500 ms,
 3500 ms, 7500 ms, 15500 ms, and 31500 ms.  If the client has not
 received a response after 39500 ms, the client will consider the
 transaction to have timed out."</pre>
</div>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a></figcaption></figure>
</div>
<div id="_edadcb16-9d13-4376-82cd-71df8b56deaa">
<p id="section-2-12"><a href="#cli" class="xref">Appendix A</a> explains how to install the command line tools to process a computerate specification.<a href="#section-2-12" class="pilcrow">¶</a></p>
</div>
<div id="_ad38948b-99ef-4e1a-8246-6fffeaced707">
<p id="section-2-13">The Idris programming language has been chosen because its type system supports dependent and linear types, and that type system is the language in which formal specifications are written.<a href="#section-2-13" class="pilcrow">¶</a></p>
</div>
<div id="_6e343401-3d06-480e-9296-c1909b75043d">
<p id="section-2-14">Following Zave's second conclusion, a computerate specification does not have to be about just formally specifying a protocol and proving properties about it.
There is a whole spectrum of formalism that can be introduced in a specification, and we will present it in the remaining sections by increasing order of complexity.
Note that because the formal language is a programming language, these usages are not exhaustive, and plenty of other usages can and will be found after the publication of this document.<a href="#section-2-14" class="pilcrow">¶</a></p>
</div>
<div id="overview_lib">
<section id="section-2.1">
        <h3 id="name-libraries">
<a href="#section-2.1" class="section-number selfRef">2.1. </a><a href="#name-libraries" class="section-name selfRef">Libraries</a>
        </h3>
<div id="_ffd07e7e-24a1-4332-9c9f-22ec53d2200c">
<p id="section-2.1-1">A computerate specification does not disappear as soon the standard it describes is published.
Quite the opposite, each specification is designed to be used as an Idris module that can be imported in subsequent specifications, reducing over time the amount of code that needs to be written.
At the difference of an RFC that is immutable after publication, the code in a specification will be improved over time, especially as new properties are proved or disproved.
The latter will happen when a bug is discovered in a specification and a proof of negation is added to the specification, paving the way to a revision of the standard.<a href="#section-2.1-1" class="pilcrow">¶</a></p>
</div>
<div id="_3e60c47a-3911-4138-bcf4-a74c2d342b06">
<p id="section-2.1-2">This document is itself a computerate specification that contains data types and functions that can be reused in future specifications, and as a whole can be considered as the standard library for computerate specifying.<a href="#section-2.1-2" class="pilcrow">¶</a></p>
</div>
<div id="_ff78605f-67bc-4aa7-a875-9df8425fb38b">
<p id="section-2.1-3">For convenience, each public computerate specification, including the one behind this document, will be made available as an individual git repository.
<a href="#source" class="xref">Appendix B</a> explains how to gain access to these computerate specifications.<a href="#section-2.1-3" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="overview_retro">
<section id="section-2.2">
        <h3 id="name-retrofitting-specifications">
<a href="#section-2.2" class="section-number selfRef">2.2. </a><a href="#name-retrofitting-specifications" class="section-name selfRef">Retrofitting Specifications</a>
        </h3>
<div id="_f6762313-fb1b-46ce-a70c-9af07a3d4bab">
<p id="section-2.2-1">RFCs, Internet-Drafts and standard documents published by other SDOs did not start their life as computerate specifications, so to be able to use them as Idris modules they will need to be progressively retrofitted.
This is done by converting the documents into an AsciiDoc documents and then enriching them with code, in the same way that would have been done if the standard was developed directly as a computerate specification.<a href="#section-2.2-1" class="pilcrow">¶</a></p>
</div>
<div id="_5b530fa4-94e5-4ead-867d-3b026f806efe">
<p id="section-2.2-2">Converting the whole document in AsciiDoc and enriching it with code, instead of just maintaining a library of code, seems a waste of resources.
The reason for doing so is to be able to verify that the rendered text is equivalent to the original standard, which will validate the examples and formal languages.<a href="#section-2.2-2" class="pilcrow">¶</a></p>
</div>
<div id="_ce97a2d5-b849-4140-8168-4ac04f3c88e3">
<p id="section-2.2-3">Retrofitted specifications will also be made available as individual git repositories as they are converted.<a href="#section-2.2-3" class="pilcrow">¶</a></p>
</div>
<div id="_41f7b9d4-a399-4f83-9f62-75161edf39c8">
<p id="section-2.2-4">Because the IETF Trust does not permit modifying an RFC as a whole (except for translation purposes), a retrofitted RFC uses transclusion, a mechanism that includes parts of a separate document at runtime.
This way, a retrofitted RFC is distributed as two separate files, the original RFC in text form, and a computerate specification that contains only code and transclusions.<a href="#section-2.2-4" class="pilcrow">¶</a></p>
</div>
<div id="_1bae16e2-1091-4f5d-a1a2-5572e871d6e5">
<p id="section-2.2-5">Transclusion is a special form of AsciiDoc include that takes a range of lines as parameters:<a href="#section-2.2-5" class="pilcrow">¶</a></p>
</div>
<div id="_a5efd276-7ef5-49b2-9d58-3011685d1af2">
<figure id="figure-3">
          <div id="_0c1966a8-8fa1-4d0d-ae02-8255b0ec3fcf">
<div class="artwork art-text alignLeft art-ascii-art" id="section-2.2-6.1">
<pre>include::rfc5234.txt[lines=26..35]</pre>
</div>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a></figcaption></figure>
</div>
<div id="_bb1349f5-07ce-4b66-bb36-64c8a74e5a3f">
<p id="section-2.2-7">Here the <code>include</code> macro will be replaced by the content of lines 26 to 35 (included) of RFC 5234.<a href="#section-2.2-7" class="pilcrow">¶</a></p>
</div>
<div id="_7464ec81-5f82-42b8-b16e-b810c650c13c">
<p id="section-2.2-8">The "sub" parameter permits modifying the copied content according to a regular expression.
For instance the following converts references into the AsciiDoc format:<a href="#section-2.2-8" class="pilcrow">¶</a></p>
</div>
<div id="_02abfb5c-ecf3-4966-b670-e9bd5ca52c63">
<figure id="figure-4">
          <div id="_d298c760-1ac2-441c-a9d5-8cd5ca1aa635">
<div class="artwork art-text alignLeft art-ascii-art" id="section-2.2-9.1">
<pre>include::rfc5234.txt[lines=121..131,sub="/\[([^\]])\]/&lt;&lt;\1&gt;&gt;/"]</pre>
</div>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a></figcaption></figure>
</div>
<div id="_9450e34c-93e5-4238-9367-ea836749c80c">
<p id="section-2.2-10">In the following example, the text is converted into a note:<a href="#section-2.2-10" class="pilcrow">¶</a></p>
</div>
<div id="_e782408e-0291-4921-8534-7cdd70ca031d">
<figure id="figure-5">
          <div id="_e220b9c5-9563-4fa9-96e8-32a94568ea0f">
<div class="artwork art-text alignLeft art-ascii-art" id="section-2.2-11.1">
<pre>include::rfc5234.txt[lines=151,sub="/^.*$/NOTE: \0/"]</pre>
</div>
</div>
<figcaption><a href="#figure-5" class="selfRef">Figure 5</a></figcaption></figure>
</div>
</section>
</div>
<div id="overview_impl">
<section id="section-2.3">
        <h3 id="name-implementation-oriented-sta">
<a href="#section-2.3" class="section-number selfRef">2.3. </a><a href="#name-implementation-oriented-sta" class="section-name selfRef">Implementation-Oriented Standards</a>
        </h3>
<div id="_dc4285fb-7ca7-4e1a-ab4a-565affecb2d1">
<p id="section-2.3-1">After spending a few years implementing standard communication protocols, it becomes quite obvious that not all standards are meant to be directly converted into code.
In most case an expert in both communication protocols and software development has to rearrange a standard and its set of dependencies into a form that can be implemented.<a href="#section-2.3-1" class="pilcrow">¶</a></p>
</div>
<div id="_9f195141-9d98-4fec-925c-5df15b5745aa">
<p id="section-2.3-2">One sure sign that a standard has first to be rearranged is that the information needed to implement one single network element are spread all over the standard.
For instance if for implementing the client side of a client-server protocol one has to collect information from most of the normative sections then that standard is not directly ready for implementation and requires first to put together all these pieces in a convenient form.<a href="#section-2.3-2" class="pilcrow">¶</a></p>
</div>
<div id="_77851523-3d0c-4156-b226-bc7aeb7b2434">
<p id="section-2.3-3">On the other hand some standards have been structured in a way that matches the workflow of a software implementer.
<span>[<a href="#RFC8489" class="xref">RFC8489</a>]</span> and <span>[<a href="#RFC8656" class="xref">RFC8656</a>]</span> are examples of standards that are meant to be easily implemented.<a href="#section-2.3-3" class="pilcrow">¶</a></p>
</div>
<div id="_5e440a22-5a67-49cb-9df2-6c2ba025b825">
<p id="section-2.3-4">Assuming that a standard is meant to be implemented, it follows that it should be a goal to publish it in a form that makes implementations easier on the software developers.
On the other hand, writing a complete implementation as part of the development of an standard is a difficult task, especially as a standard will change over time during its development.<a href="#section-2.3-4" class="pilcrow">¶</a></p>
</div>
<div id="_75d0e01a-3cab-4337-9e06-850ccc2541c2">
<p id="section-2.3-5">Because of the constraint that in a computerate specification the specification should be as close as possible to the equivalent normative text, standards developed using that technique tends to be naturally ready for implementation.
This contrasts with the difficulties encounters when retrofitting an existing standard as a computerate specification, where trying to keep the specification close to the text is especially challenging.<a href="#section-2.3-5" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="overview_rev">
<section id="section-2.4">
        <h3 id="name-revision-of-standards">
<a href="#section-2.4" class="section-number selfRef">2.4. </a><a href="#name-revision-of-standards" class="section-name selfRef">Revision of Standards</a>
        </h3>
<div id="_1cc07e66-7723-4f96-ae92-2a0388a60a8c">
<p id="section-2.4-1">Standards evolve, but because RFCs are immutable, revisions for a standard are done by publishing new RFCs.<a href="#section-2.4-1" class="pilcrow">¶</a></p>
</div>
<div id="_3d4c2e47-52f2-41fc-a862-33d65f3eb599">
<p id="section-2.4-2">The matching computerate specifications need to reflect that relationship by extending the data type of syntax and semantics in the new version, instead of recreating new data types from scratch.
There are two diametrically opposed directions when extending a type:<a href="#section-2.4-2" class="pilcrow">¶</a></p>
</div>
<ul>
<li id="section-2.4-3.1">
            <div id="_ad57bf61-c924-423d-ae34-5c9ac1a294e9">
<p id="section-2.4-3.1.1">The new standard is adding constraints.
This is done by indexing the new type over the old type.<a href="#section-2.4-3.1.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-2.4-3.2">
            <div id="_80924f9f-a1ae-44e7-a2d4-a859271d5a8c">
<p id="section-2.4-3.2.1">The new standard is removing constraints.
This is done by defining the new type as a sum type, with one of the alternatives being the old type.<a href="#section-2.4-3.2.1" class="pilcrow">¶</a></p>
</div>
</li>
</ul>
<div id="_7f8f9907-250f-4629-a333-b154c5148b9b">
<aside id="section-2.4-4">
          <p id="section-2.4-4.1">NOTE: This is correct in theory, but in practice creating new specifications from old ones as described above is not very convenient.
Maybe an alternate solution is to define the new specifications from scratch, and use an isomorphism proof to precisely define the differences between the two.
An Idris elaboration script may permit duplicating a type and modifying it without having to manually copy it.<a href="#section-2.4-4.1" class="pilcrow">¶</a></p>
</aside>
</div>
</section>
</div>
<div id="overview_content">
<section id="section-2.5">
        <h3 id="name-content-of-a-computerate-sp">
<a href="#section-2.5" class="section-number selfRef">2.5. </a><a href="#name-content-of-a-computerate-sp" class="section-name selfRef">Content of a Computerate Specification</a>
        </h3>
<div id="_7db0d4d2-aa76-4d5e-961e-7a0b85546783">
<p id="section-2.5-1">Communication protocol specifications are generally split in two distinct parts, syntax (the data layout of the messages exchanged) and semantics (the rules that drive the exchange of messages).<a href="#section-2.5-1" class="pilcrow">¶</a></p>
</div>
<div id="_c68d8c0a-1c3f-4c9d-899a-9d8916e7d918">
<p id="section-2.5-2"><a href="#syntax" class="xref">Section 3</a> will discuss in detail the application of computerate specifying to syntax descriptions, and <a href="#semantics" class="xref">Section 4</a> will be about specifying semantics.<a href="#section-2.5-2" class="pilcrow">¶</a></p>
</div>
</section>
</div>
</section>
</div>
<div id="syntax">
<section id="section-3">
      <h2 id="name-syntax">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-syntax" class="section-name selfRef">Syntax</a>
      </h2>
<div id="_7c51a0ac-2951-496f-87f7-272256c2ec27">
<p id="section-3-1">The syntax of a communication protocol determines how data is laid out before it is sent over a communication link.
Generally the syntax is described only in the context of the layer that this particular protocol is operating at, e.g. an application protocol syntax only describes the data as sent over UDP or TCP, not over Ethernet or Wi-Fi.<a href="#section-3-1" class="pilcrow">¶</a></p>
</div>
<div id="_3f72b7e4-29c4-4194-adc3-c85b5a75a4da">
<p id="section-3-2">Syntaxes can generally be split into two broad categories, binary and text, and generally a protocol syntax falls completely into one of these two categories.<a href="#section-3-2" class="pilcrow">¶</a></p>
</div>
<div id="_89f41fb9-63ee-4b67-9174-73cb1a0ca12a">
<p id="section-3-3">Syntax descriptions can be formalized for at least three reasons that will be presented in the following sections.<a href="#section-3-3" class="pilcrow">¶</a></p>
</div>
<div id="syntax_examples">
<section id="section-3.1">
        <h3 id="name-syntax-examples">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-syntax-examples" class="section-name selfRef">Syntax Examples</a>
        </h3>
<div id="_389d6c51-f1c4-41da-afda-0d5df9de9d58">
<p id="section-3.1-1">Examples in protocol documentation are frequently incorrect, which should not be that much of an issue but for the fact that most developers do not read the normative text when an example is available.
See <a href="#errata" class="xref">Appendix D</a> for statistics about the frequency of incorrect examples in RFC errata.<a href="#section-3.1-1" class="pilcrow">¶</a></p>
</div>
<div id="_7625ca1e-3338-42d3-b72c-cd53e70aab7b">
<p id="section-3.1-2">Moving the examples into appendices or adding caution notices may show limited success in preventing that problem.<a href="#section-3.1-2" class="pilcrow">¶</a></p>
</div>
<div id="_d564e44d-ab7e-4480-85ce-d74c4e68b246">
<p id="section-3.1-3">So ensuring that examples match the normative text seems like a good starting point for a computerate specification.
This is done by having the possibility of adding the result of a computation directly inside the document.
If that computation is done from a type that is (physically and conceptually) close to the normative text, then we gain some level of assurance that both the normative text and the derived examples will match.
Note that examples can be inserted in the document as whole blocks of text, or as inline text.<a href="#section-3.1-3" class="pilcrow">¶</a></p>
</div>
<div id="_8b624c5d-af95-4e4b-b255-14803aaf077a">
<p id="section-3.1-4"><a href="#source_catalog_rfc5234" class="xref">Appendix B.2.1</a> showcases the conversion of the examples in <span>[<a href="#RFC5234" class="xref">RFC5234</a>]</span>.<a href="#section-3.1-4" class="pilcrow">¶</a></p>
</div>
<div id="syntax_examples_data-type">
<section id="section-3.1.1">
          <h4 id="name-data-type">
<a href="#section-3.1.1" class="section-number selfRef">3.1.1. </a><a href="#name-data-type" class="section-name selfRef">Data Type</a>
          </h4>
<div id="_bcdc206a-3650-4a0f-8c8c-67cf000e5428">
<p id="section-3.1.1-1">The first step is to define an Idris type that completely defines the layout of the messages exchanged.
By "completely define" we mean that the type checker will prevent creating any invalid value of this type.
That ensures that all values are correct by construction.<a href="#section-3.1.1-1" class="pilcrow">¶</a></p>
</div>
<div id="_b641b5f1-4e93-4cbd-a2b4-6f42540436e3">
<p id="section-3.1.1-2">E.g. here is the definition of a DNS label per <span>[<a href="#RFC1034" class="xref">RFC1034</a>]</span>:<a href="#section-3.1.1-2" class="pilcrow">¶</a></p>
</div>
<div id="_e6062bdd-4933-4719-a44e-d20d2324c3c7">
<figure id="figure-6">
            <div id="_576bc6ca-9813-467c-b1a3-a3b5cc1ed2ca">
<div class="artwork art-text alignLeft art-ascii-art" id="section-3.1.1-3.1">
<pre>&lt;CODE STARTS&gt;
&gt; data PartialLabel' : List Char -&gt; Type where
&gt;   Empty : PartialLabel' []
&gt;   More : (c : Char) -&gt; (prf1 : isAlphaNum c || c == '-' = True) -&gt;
&gt;     PartialLabel' s -&gt; (prf2 : length s &lt; 61 = True) -&gt;
&gt;     PartialLabel' (c :: s)
&gt;
&gt; data Label' : List Char -&gt; Type where
&gt;   One : (c : Char) -&gt; (prf1 : isAlpha c = True) -&gt; Label' [c]
&gt;   Many : (begin : Char) -&gt; (prf1 : isAlpha begin = True) -&gt;
&gt;     (middle : PartialLabel' xs) -&gt;
&gt;     (end : Char) -&gt; (prf2 : isAlphaNum end = True) -&gt;
&gt;     Label' ([begin] ++ xs ++ [end])
&gt;
&gt; data Label : {a : Type} -&gt; a -&gt; Type where
&gt;   MkLabel : {xs : String} -&gt; Label' (unpack xs) -&gt; Label xs
&lt;CODE ENDS&gt;</pre>
</div>
</div>
<figcaption><a href="#figure-6" class="selfRef">Figure 6</a></figcaption></figure>
</div>
</section>
</div>
<div id="syntax_examples_serializer">
<section id="section-3.1.2">
          <h4 id="name-serializer">
<a href="#section-3.1.2" class="section-number selfRef">3.1.2. </a><a href="#name-serializer" class="section-name selfRef">Serializer</a>
          </h4>
<div id="_4e69ebb1-6ee6-4b98-b24c-c339dbf979a2">
<p id="section-3.1.2-1">The second step is writing a serializer from that type into the wire representation.
For a text format, it is done by implementing the Show interface:<a href="#section-3.1.2-1" class="pilcrow">¶</a></p>
</div>
<div id="_5d093edf-2a39-4ffd-a667-e2d2f384dc59">
<figure id="figure-7">
            <div id="_808fd25e-8f0c-4485-89af-074e39ae0a99">
<div class="artwork art-text alignLeft art-ascii-art" id="section-3.1.2-2.1">
<pre>&lt;CODE STARTS&gt;
&gt; Show (Label xs) where
&gt;   show _ = xs
&lt;CODE ENDS&gt;</pre>
</div>
</div>
<figcaption><a href="#figure-7" class="selfRef">Figure 7</a></figcaption></figure>
</div>
<div id="_b4cb81d5-ec58-4818-b042-924f10effa83">
<aside id="section-3.1.2-3">
            <p id="section-3.1.2-3.1">NOTE: Define binary serializer.<a href="#section-3.1.2-3.1" class="pilcrow">¶</a></p>
</aside>
</div>
</section>
</div>
<div id="syntax_examples_presentation">
<section id="section-3.1.3">
          <h4 id="name-presentation-format">
<a href="#section-3.1.3" class="section-number selfRef">3.1.3. </a><a href="#name-presentation-format" class="section-name selfRef">Presentation Format</a>
          </h4>
<div id="_6531f2d5-aae8-42dc-b5aa-0a11ab015059">
<p id="section-3.1.3-1">Instead of directly generating character strings, the serializer will use as target a dependent type that formalizes the AsciiDoc language.
This will permit to know the context in which a character string will be subsequently generated and to correctly escape special characters in that string.<a href="#section-3.1.3-1" class="pilcrow">¶</a></p>
</div>
<div id="_df68a93e-bc69-45da-8944-61d8c290c78f">
<p id="section-3.1.3-2">Using an intermediary type will also permit to correctly generate AsciiDoc that can generate an xmlrfc 3 file that supports both text and graphical versions of a figure.
This will be done by having AsciiDoc blocks converted into &lt;artwork&gt; elements that contains both the 72 column formatted text and an equivalent SVG file, even for code source (instead of using the &lt;sourcecode&gt; element).<a href="#section-3.1.3-2" class="pilcrow">¶</a></p>
</div>
</section>
</div>
</section>
</div>
<div id="syntax_datatype">
<section id="section-3.2">
        <h3 id="name-designing-a-data-type">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-designing-a-data-type" class="section-name selfRef">Designing a Data Type</a>
        </h3>
<div id="_56fbca08-1a83-4178-b445-a0ef4ad316c0">
<p id="section-3.2-1">Builtin data types in Idris are convenient but as a general rule should not be used in the design of data types meant to be used in the context of computerate specifications.
Builtin types are abstract data types so most basic proofs about them have to be axioms, making it difficult to reason about them, which does not constitute a solid ground on which to build a verifiable system.<a href="#section-3.2-1" class="pilcrow">¶</a></p>
</div>
<div id="_12c5a962-2c23-4a89-b7e2-0005035373b5">
<p id="section-3.2-2">The builtin types in Idris are <code>Int</code>, <code>Integer</code>, <code>Double</code>, <code>Char</code> and <code>String</code>.<a href="#section-3.2-2" class="pilcrow">¶</a></p>
</div>
<div id="_c9267745-4d8c-4172-aba4-2cbba1e0c2f8">
<p id="section-3.2-3">On the other hand user-defined data types like <code>Nat</code>, <code>Fin</code>, <code>Dec</code> (a proof carrying variant of <code>Bool</code>), <code>Maybe</code>, <code>Either</code>, <code>List</code>, <code>Vect</code>, etc. have already plenty of proofs that can be reused, so should be used in designing data types for computerate specifications.<a href="#section-3.2-3" class="pilcrow">¶</a></p>
</div>
<div id="_901bbcc4-4b03-4731-a901-f73e4e881e94">
<p id="section-3.2-4">Designing a user-defined data type is done by combining five basic types:<a href="#section-3.2-4" class="pilcrow">¶</a></p>
</div>
<ul>
<li id="section-3.2-5.1">
            <div id="_1c3c5888-65b8-40b4-8809-e947b0dae623">
<p id="section-3.2-5.1.1">Product type:  This is a type built from concatenation of types, similar to Java's <code>class</code> or C's <code>struct</code>.<a href="#section-3.2-5.1.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-3.2-5.2">
            <div id="_f452c29a-47b0-4aee-ab86-3621b2e0fe06">
<p id="section-3.2-5.2.1">Sum type: This is a type built from alternative types.
It can be simulated with inheritance in Java, or a combination of <code>struct</code> and <code>union</code> in C.
 A Java <code>enum</code> is a very limited form of Sum type.<a href="#section-3.2-5.2.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-3.2-5.3">
            <div id="_5b742fef-322c-45eb-8aba-e681fbbaa3b1">
<p id="section-3.2-5.3.1">Exponential type:  This is the type of a total function (which implies free of side-effect and use of external variables).<a href="#section-3.2-5.3.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-3.2-5.4">
            <div id="_d07465d7-0f2b-4508-ad7f-6f86813f5bda">
<p id="section-3.2-5.4.1">Pi type: This is a product type (or a exponential type) where the type depends on a value.
This is equivalent to the universal quantifier.<a href="#section-3.2-5.4.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-3.2-5.5">
            <div id="_452b7f41-b737-47d4-a1fa-ef9ead3c2d4c">
<p id="section-3.2-5.5.1">Sigma type: This is a sum type where the type depends on a value.
This is equivalent to the existential quantifier.<a href="#section-3.2-5.5.1" class="pilcrow">¶</a></p>
</div>
</li>
</ul>
<div id="_513589fb-5b87-4d13-af71-26976e0b74fd">
<p id="section-3.2-6">In addition the underlying computerate specification of this document defines a set of data types that are suited for computerate specifications:<a href="#section-3.2-6" class="pilcrow">¶</a></p>
</div>
<ul>
<li id="section-3.2-7.1">
            <div id="_1cd864ad-3c1f-476a-927e-1e2473d276cc">
<p id="section-3.2-7.1.1">The <code>Bitvector</code> type describes a fixed number of bits that can be manipulated together.
The library contains functions to manipulate bitvectors that are inspired by the language in <span>[<a href="#Brinkmann02" class="xref">Brinkmann02</a>]</span>.<a href="#section-3.2-7.1.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-3.2-7.2">
            <div id="_b8e79322-9441-4131-862b-109e6d9bbe34">
<p id="section-3.2-7.2.1">The <code>Unsigned</code> type describes an unsigned integer data type that is built on top on the Bitvector library.
The library contains ordering and arithmetic operators for unsigned numbers.<a href="#section-3.2-7.2.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-3.2-7.3">
            <div id="_187b596d-16db-4419-82ce-649926c9a2d8">
<p id="section-3.2-7.3.1">The <code>Signed</code> type describes a signed integer data type that is built on top on the Bitvector library.
The library contains ordering and arithmetic operators for signed numbers.<a href="#section-3.2-7.3.1" class="pilcrow">¶</a></p>
</div>
</li>
</ul>
<div id="_52a0df3f-8faa-4696-a448-8fcb37494000">
<aside id="section-3.2-8">
          <p id="section-3.2-8.1">NOTE: Other RFCs are in the process of been retrofitted to implement data types built on top of the <code>Bitvector</code> type.
This is the case for IPv4 and IPv6 address, MAC address, UUID, Unicode and many more.
A future version of this document will add the IdrisDoc rendering of these libraries as appendices.<a href="#section-3.2-8.1" class="pilcrow">¶</a></p>
</aside>
</div>
</section>
</div>
<div id="syntax_formal">
<section id="section-3.3">
        <h3 id="name-formal-syntax-language">
<a href="#section-3.3" class="section-number selfRef">3.3. </a><a href="#name-formal-syntax-language" class="section-name selfRef">Formal Syntax Language</a>
        </h3>
<div id="_240c4529-82cb-4e83-b3a5-c0c054bb00a9">
<p id="section-3.3-1">Some specifications use a formal language to describe the data layout.
One shared property of these languages is that they cannot always formalize all the constraints of a specific data layout, so they have to be enriched with comments.
One consequence of this is that they cannot be used as a replacement for the Idris data type described in <a href="#syntax_examples_data-type" class="xref">Section 3.1.1</a>, data type that is purposely complete.<a href="#section-3.3-1" class="pilcrow">¶</a></p>
</div>
<div id="_d0965a2a-bb28-4df3-88bf-ff4870bea4bc">
<p id="section-3.3-2">The following sections describe how these formal languages have been or will be themselves formalized with the goal of using them in computerate specifications.<a href="#section-3.3-2" class="pilcrow">¶</a></p>
</div>
<div id="syntax_formal_abnf">
<section id="section-3.3.1">
          <h4 id="name-augmented-bnf-abnf">
<a href="#section-3.3.1" class="section-number selfRef">3.3.1. </a><a href="#name-augmented-bnf-abnf" class="section-name selfRef">Augmented BNF (ABNF)</a>
          </h4>
<div id="_c260f542-fba6-42f1-b8db-1ca8a399db60">
<p id="section-3.3.1-1"><span><a href="#RFC5234" class="xref">Augmented Backus-Naur Form</a> [<a href="#RFC5234" class="xref">RFC5234</a>]</span> (ABNF) is a formal language used to describe a text based data layout.<a href="#section-3.3.1-1" class="pilcrow">¶</a></p>
</div>
<div id="_009192a7-aaf3-44f0-ac49-149f972b7c23">
<p id="section-3.3.1-2">The <span>[<a href="#RFC5234" class="xref">RFC5234</a>]</span> document has been retrofitted as a computerate specification to provide an internal Domain Specific Language (DSL) that permits specifying an ABNF for a specification.
The encoding of an example from Section 2.3 of <span>[<a href="#RFC5234" class="xref">RFC5234</a>]</span> looks like this:<a href="#section-3.3.1-2" class="pilcrow">¶</a></p>
</div>
<div id="_733efa1a-79e1-4e9a-865e-844f4def4c44">
<figure id="figure-8">
            <div id="_579e4948-123d-4882-91a9-264c8c83e186">
<div class="artwork art-text alignLeft art-ascii-art" id="section-3.3.1-3.1">
<pre>&lt;CODE BEGINS&gt;
&gt; rulename : Rule
&gt; rulename = "rulename" `Eq` (Concat (TermDec 97 []) (TermDec 98 [])
&gt;   [TermDec 99 []])
&lt;CODE ENDS&gt;</pre>
</div>
</div>
<figcaption><a href="#figure-8" class="selfRef">Figure 8</a></figcaption></figure>
</div>
<div id="_c38b705c-299d-436c-9b22-8b08263a81b5">
<p id="section-3.3.1-4">A serializer, also defined in the same specification, permits converting that description into proper ABNF text that can be inserted into the document such as in the following fragment:<a href="#section-3.3.1-4" class="pilcrow">¶</a></p>
</div>
<div id="_575b6c1c-776c-411c-902d-aff1870a1749">
<figure id="figure-9">
            <div id="_f77755b9-375a-4a15-9b1d-2a63997da280">
<div class="artwork art-text alignLeft art-ascii-art" id="section-3.3.1-5.1">
<pre>&lt;CODE BEGINS&gt;
[source,abnf]
----
{`show rulename`}
----
&lt;CODE ENDS&gt;</pre>
</div>
</div>
<figcaption><a href="#figure-9" class="selfRef">Figure 9</a></figcaption></figure>
</div>
<div id="_262e7145-a5e6-494d-8f23-c2841255b719">
<p id="section-3.3.1-6">is rendered as<a href="#section-3.3.1-6" class="pilcrow">¶</a></p>
</div>
<div id="_4c095fd3-39c9-4682-af89-fd608a0498eb">
<figure id="figure-10">
            <div id="_b5d66141-2e50-4dd5-b055-7a4a6e5d0a5b">
<div class="artwork art-text alignLeft art-ascii-art" id="section-3.3.1-7.1">
<pre>rulename = %d97 %d98 %d99</pre>
</div>
</div>
<figcaption><a href="#figure-10" class="selfRef">Figure 10</a></figcaption></figure>
</div>
<div id="_5b243fad-e940-4328-a64d-4693ddae34f9">
<p id="section-3.3.1-8">See <a href="#source_catalog_rfc5234" class="xref">Appendix B.2.1</a> for access to the source of the retrofitted specification for <span>[<a href="#RFC5234" class="xref">RFC5234</a>]</span>.<a href="#section-3.3.1-8" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="syntax_formal_aad">
<section id="section-3.3.2">
          <h4 id="name-augmented-packet-header-dia">
<a href="#section-3.3.2" class="section-number selfRef">3.3.2. </a><a href="#name-augmented-packet-header-dia" class="section-name selfRef">Augmented Packet Header Diagrams (APHD)</a>
          </h4>
<div id="_319ad7f8-0dc6-42ab-ac0d-39ce4bf92bf7">
<p id="section-3.3.2-1"><span><a href="#I-D.mcquistin-augmented-ascii-diagrams" class="xref">Augmented Packet Header Diagram</a> [<a href="#I-D.mcquistin-augmented-ascii-diagrams" class="xref">I-D.mcquistin-augmented-ascii-diagrams</a>]</span> (APHD) is a formal language used to describe a binary data layout in a machine-readable format.<a href="#section-3.3.2-1" class="pilcrow">¶</a></p>
</div>
<div id="_3c40da50-d7d1-4bab-9d06-d1ecc7ca3931">
<p id="section-3.3.2-2">The <span>[<a href="#I-D.mcquistin-augmented-ascii-diagrams" class="xref">I-D.mcquistin-augmented-ascii-diagrams</a>]</span> document will be retrofitted as a computerate specification to provide an internal Domain Specific Language (DSL) that permits specifying an APHD for a specification.
The partial encoding of an example from section 4.1 looks like this:<a href="#section-3.3.2-2" class="pilcrow">¶</a></p>
</div>
<div id="_06177be7-7c69-4cf7-b1d9-8814636fa8b0">
<figure id="figure-11">
            <div id="_61f714eb-300f-4c93-9cd1-dbfeaacf69fd">
<div class="artwork art-text alignLeft art-ascii-art" id="section-3.3.2-3.1">
<pre>&lt;CODE BEGINS&gt;
&gt; ipv4 : Aphd
&gt; ipv4 = MkAphd "IPv4 Header" [
&gt;   MkField "Version" (Just "V") (Number 4) Bits "This is a" ++
&gt;     " fixed-width field, whose full label is shown in the" ++
&gt;     " diagram.  The field's width -- 4 bits -- is given in" ++
&gt;     " the label of the description list, separated from the" ++
&gt;     " field's label by a colon.",
&gt; ...
&gt;   MkField "Options" Nothing (Mult (Sub (Name "IHL") (Number 5))
&gt;     (Number 32)) Bits "This is a variable-length field, whose" ++
&gt;     " length is defined by the value of the field with short" ++
&gt;     " label IHL (Internet Header Length).  Constraint" ++
&gt;     " expressions can be used in place of constant values: the" ++
&gt;     " grammar for the expression language is defined in" ++
&gt;     " Appendix A.1.  Constraints can include a previously" ++
&gt;     " defined field's short or full label, where one has been" ++
&gt;     " defined.  Short variable-length fields are indicated by" ++
&gt;     " \"...\" instead of a pipe at the end of the row."
&gt; ...
&gt; ]
&lt;CODE ENDS&gt;</pre>
</div>
</div>
<figcaption><a href="#figure-11" class="selfRef">Figure 11</a></figcaption></figure>
</div>
<div id="_8711020f-d0e5-40ac-b8dc-2d69bb33330d">
<p id="section-3.3.2-4">A serializer, also defined in the same specification, permits converting that description into proper ABNF text that can be inserted into the document such as in the following fragment:<a href="#section-3.3.2-4" class="pilcrow">¶</a></p>
</div>
<div id="_256524b3-2613-4d1f-b9c3-d6a83b281822">
<figure id="figure-12">
            <div id="_1ebe661d-2f81-4e56-a6e6-3d66789929a4">
<div class="artwork art-text alignLeft art-ascii-art" id="section-3.3.2-5.1">
<pre>&lt;CODE BEGINS&gt;
 ....
 {`show ipv4`}
 ....
&lt;CODE ENDS&gt;</pre>
</div>
</div>
<figcaption><a href="#figure-12" class="selfRef">Figure 12</a></figcaption></figure>
</div>
<div id="_880c5943-d029-4269-b7d9-77ccaa482160">
<p id="section-3.3.2-6">is rendered as<a href="#section-3.3.2-6" class="pilcrow">¶</a></p>
</div>
<div id="_6929e295-27f2-4ba4-bfa3-34607c218dc4">
<figure id="figure-13">
            <div id="_866ad15a-2e46-47c4-a3cb-78a9c474321b">
<div class="artwork art-text alignLeft art-ascii-art" id="section-3.3.2-7.1">
<pre>An IPv4 Header is formatted as follows:
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|Version|   IHL |    DSCP   |ECN|         Total Length          |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|         Identification        |Flags|     Fragment Offset     |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| Time to Live  |    Protocol   |        Header Checksum        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                         Source Address                        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                      Destination Address                      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                            Options                          ...
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               :
:                            Payload                            :
:                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

where:

Version (V): 4 bits.  This is a fixed-width field, whose full label
  is shown in the diagram.  The field's width -- 4 bits -- is given
  in the label of the description list, separated from the field's
  label by a colon.

...

Options: (IHL-5)*32 bits.  This is a variable-length field, whose
  length is defined by the value of the field with short label IHL
  (Internet Header Length).  Constraint expressions can be used in
  place of constant values: the grammar for the expression language
  is defined in Appendix A.1.  Constraints can include a previously
  defined field's short or full label, where one has been defined.
  Short variable-length fields are indicated by "..." instead of a
  pipe at the end of the row.

 ...</pre>
</div>
</div>
<figcaption><a href="#figure-13" class="selfRef">Figure 13</a></figcaption></figure>
</div>
<div id="_f60c68d3-3364-46bd-b2a5-c20709c6501d">
<p id="section-3.3.2-8">Here the serializer generates an instance of the intermediary AsciiDoc type that describes the header line (which can be concatenated to previous lines), the block containing the diagram itself, and then a list of all the field definitions.<a href="#section-3.3.2-8" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="syntax_formal_stem">
<section id="section-3.3.3">
          <h4 id="name-mathematical-formulas">
<a href="#section-3.3.3" class="section-number selfRef">3.3.3. </a><a href="#name-mathematical-formulas" class="section-name selfRef">Mathematical Formulas</a>
          </h4>
<div id="_5bb520c0-7507-4ff1-9150-8949ffa6417b">
<p id="section-3.3.3-1">AsciiDoc supports writing equations using either asciimath or latexmath.
The rendering for RFCs will generate an artwork element that contains both the text version of the equation and a graphical version in an SVG file.<a href="#section-3.3.3-1" class="pilcrow">¶</a></p>
</div>
<div id="_0010f2a8-6949-4297-8bc9-9f9a42264a90">
<aside id="section-3.3.3-2">
            <p id="section-3.3.3-2.1">NOTE: Not sure what to do with inline formulas, as we cannot generate an artwork element in that case.<a href="#section-3.3.3-2.1" class="pilcrow">¶</a></p>
</aside>
</div>
<div id="_291a0862-9cb9-44e8-af09-3f23cde974f8">
<p id="section-3.3.3-3">An Idris type will be used to described equations at the type level.
An interpreter will be used to calculate and insert examples in the document.<a href="#section-3.3.3-3" class="pilcrow">¶</a></p>
</div>
<div id="_22069c17-a94f-46ca-bc00-cc65059096e0">
<p id="section-3.3.3-4">A serializer will be used to generate the asciimath code that is inserted inside a stem block.<a href="#section-3.3.3-4" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="syntax_format_rn_">
<section id="section-3.3.4">
          <h4 id="name-relax-ng-format">
<a href="#section-3.3.4" class="section-number selfRef">3.3.4. </a><a href="#name-relax-ng-format" class="section-name selfRef">RELAX NG Format</a>
          </h4>
<div id="_12baf27e-43c2-40a3-9096-3064bd36f792">
<p id="section-3.3.4-1">TBD<a href="#section-3.3.4-1" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="syntax_formal_asn1">
<section id="section-3.3.5">
          <h4 id="name-asn1">
<a href="#section-3.3.5" class="section-number selfRef">3.3.5. </a><a href="#name-asn1" class="section-name selfRef">ASN.1</a>
          </h4>
<div id="_72b734f5-6f8c-4a2f-83d6-6e9a70eabcc9">
<p id="section-3.3.5-1">TBD<a href="#section-3.3.5-1" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="syntax_formal_tls">
<section id="section-3.3.6">
          <h4 id="name-tls-description-language">
<a href="#section-3.3.6" class="section-number selfRef">3.3.6. </a><a href="#name-tls-description-language" class="section-name selfRef">TLS Description Language</a>
          </h4>
<div id="_00d7b668-82cf-4108-b0ce-48c30ebeee8b">
<p id="section-3.3.6-1">TBD<a href="#section-3.3.6-1" class="pilcrow">¶</a></p>
</div>
</section>
</div>
</section>
</div>
<div id="syntax_proof">
<section id="section-3.4">
        <h3 id="name-proofs-for-syntax">
<a href="#section-3.4" class="section-number selfRef">3.4. </a><a href="#name-proofs-for-syntax" class="section-name selfRef">Proofs for Syntax</a>
        </h3>
<div id="_8de65ce2-0301-4a6c-a359-9db751dbbdb8">
<p id="section-3.4-1">The kind of proofs that one would want in a specification are related to isomorphism, i.e. a guarantee that two or more descriptions of a data layout contain exactly the same information.<a href="#section-3.4-1" class="pilcrow">¶</a></p>
</div>
<div id="syntax_proof_iso">
<section id="section-3.4.1">
          <h4 id="name-isomorphism-between-type-an">
<a href="#section-3.4.1" class="section-number selfRef">3.4.1. </a><a href="#name-isomorphism-between-type-an" class="section-name selfRef">Isomorphism Between Type and Formal Language</a>
          </h4>
<div id="_19ed1fd7-5e0e-48e3-8be8-71566a6987b8">
<p id="section-3.4.1-1">We saw above that when a data layout is described with a formal language, we end up with two descriptions of that data layout, one using the Idris dependent type (and used to generate examples) and one using the formal language.<a href="#section-3.4.1-1" class="pilcrow">¶</a></p>
</div>
<div id="_3617d7ab-1868-47f9-a3da-83603f7a0dac">
<p id="section-3.4.1-2">Proving isomorphism requires generating an Idris type from the formal language instance, which is done using an Idris elaborator script.<a href="#section-3.4.1-2" class="pilcrow">¶</a></p>
</div>
<div id="_42db8545-7f45-4b7a-a8fe-46560591c1b0">
<p id="section-3.4.1-3">In Idris, <span><a href="#Elab" class="xref">Elaborator Reflection</a> [<a href="#Elab" class="xref">Elab</a>]</span> is a metaprogramming facility that permits writing code generating type declarations and code (including proofs) automatically.<a href="#section-3.4.1-3" class="pilcrow">¶</a></p>
</div>
<div id="_decd0072-5f5c-4c67-a6d2-7d558d91d276">
<p id="section-3.4.1-4">For instance the ABNF language is itself defined using ABNF, so after converting that ABNF into an instance of the Syntax type (which is an holder for a list of instances of the Rule type), it is possible to generate a suite of types that represents the same language:<a href="#section-3.4.1-4" class="pilcrow">¶</a></p>
</div>
<div id="_e68263ec-f0b3-4d2c-a236-fab5d0508b65">
<figure id="figure-14">
            <div id="_222e2241-757c-4c63-b7b6-6710861c4f77">
<div class="artwork art-text alignLeft art-ascii-art" id="section-3.4.1-5.1">
<pre>&lt;CODE BEGINS&gt;
&gt; abnf : Syntax
&gt; abnf = MkSyntax [
&gt;   "rulelist" `Eq` (Repeat (Just 1) Nothing (Group (Altern
&gt;     (TermName "rule") (Group (Concat (Repeat Nothing Nothing
&gt;     (TermName "c-wsp")) (TermName "c-nl") [])) []))),
&gt;     ...
&gt;   ]
&gt;
&gt; %runElab (generateType "Abnf" abnf)
&lt;CODE ENDS&gt;</pre>
</div>
</div>
<figcaption><a href="#figure-14" class="selfRef">Figure 14</a></figcaption></figure>
</div>
<div id="_a2834655-5816-43b4-80f0-22767a9e5b2b">
<p id="section-3.4.1-6">The result of the elaboration can then be used to construct a value of type Iso, which requires four total functions, two for the conversion between types, and another two to prove that sequencing the conversions results in the same original value.<a href="#section-3.4.1-6" class="pilcrow">¶</a></p>
</div>
<div id="_063d2032-c5be-41c2-98c1-12cc73dada00">
<p id="section-3.4.1-7">The following example generates an Idris type "SessionDescription" from the SDP ABNF.
It then proves that this type and the Sdp type contain exactly the same information (the proofs themselves have been removed, leaving only the propositions):<a href="#section-3.4.1-7" class="pilcrow">¶</a></p>
</div>
<div id="_96e45f52-7a9a-4197-a0de-f4b280c6dea9">
<figure id="figure-15">
            <div id="_aeaea2fa-87e6-4ffa-abb2-9842c7d84a5a">
<div class="artwork art-text alignLeft art-ascii-art" id="section-3.4.1-8.1">
<pre>&lt;CODE BEGINS&gt;
&gt; import Data.Control.Isomorphism
&gt;
&gt; sdp : Syntax
&gt; sdp = MkSyntax [
&gt;   "session-description" `Eq` (Concat (TermName "version-field")
&gt;     (TermName "origin-field") [
&gt;       TermName "session-name-field",
&gt;       Optional (TermName "information-field"),
&gt;       Optional (TermName "uri-field"),
&gt;       Repeat Nothing Nothing (TermName "email-field"),
&gt;       Repeat Nothing Nothing (TermName "phone-field"),
&gt;       Optional (TermName "connection-field"),
&gt;       Repeat Nothing Nothing (TermName "bandwidth-field"),
&gt;       Repeat (Just 1) Nothing (TermName "time-description"),
&gt;       Optional (TermName "key-field"),
&gt;       Repeat Nothing Nothing (TermName "attribute-field"),
&gt;       Repeat Nothing Nothing (TermName "media-description")
&gt;       ]),
&gt;   ...
&gt;   ]
&gt;
&gt; %runElab (generateType "Sdp" sdp)
&gt;
&gt; same : Iso Sdp SessionDescription
&gt; same = MkIso to from toFrom fromTo
&gt;   where
&gt;     to : Sdp -&gt; SessionDescription
&gt;
&gt;     from : SessionDescription -&gt; Abnf
&gt;
&gt;     toFrom : (x : SessionDescription ) -&gt; to (from x) = x
&gt;
&gt;     fromTo : (x : Sdp) -&gt; from (to x) = x
&gt;
&lt;CODE ENDS&gt;</pre>
</div>
</div>
<figcaption><a href="#figure-15" class="selfRef">Figure 15</a></figcaption></figure>
</div>
<div id="_a6980ed0-2684-47df-8c12-9008c14af005">
<p id="section-3.4.1-9">As stated in <a href="#syntax_formal" class="xref">Section 3.3</a>, the Idris type and the type generated from the formal language are not always isomorphic, because some constraints cannot be expressed in that formal language.
In that case isomorphism can be used to precisely define what is missing information in the formal language type.
To do so, the generated type is augmented with a delta type, like so:<a href="#section-3.4.1-9" class="pilcrow">¶</a></p>
</div>
<div id="_f56abc33-3d14-4332-9ae4-79b55aae1f70">
<figure id="figure-16">
            <div id="_3d6f9cb0-f318-4d76-b204-144de342d8a2">
<div class="artwork art-text alignLeft art-ascii-art" id="section-3.4.1-10.1">
<pre>&lt;CODE BEGINS&gt;
&gt; data DeltaSessionDescription : Type where
&gt;   ...
&gt;
&gt; same : Iso Sdp (SessionDescription, DeltaSessionDescription)
&gt;   ...
&lt;CODE ENDS&gt;</pre>
</div>
</div>
<figcaption><a href="#figure-16" class="selfRef">Figure 16</a></figcaption></figure>
</div>
<div id="_dbf4a3c1-2959-4736-954f-f79fd2952718">
<p id="section-3.4.1-11">Then the DeltaSessionDescription type can be modified to include the missing information until the same function type checks.
After this we have a guarantee that we know all about the constraints that cannot be encoded in that formal language, and can check manually that each of them is described as comment.<a href="#section-3.4.1-11" class="pilcrow">¶</a></p>
</div>
<div id="_6acdd2cf-095b-4cec-8e34-c58b73480a26">
<p id="section-3.4.1-12">Idris elaborator scripts will be developped for each formal languages.<a href="#section-3.4.1-12" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="syntax_proof_conversion">
<section id="section-3.4.2">
          <h4 id="name-data-format-conversion">
<a href="#section-3.4.2" class="section-number selfRef">3.4.2. </a><a href="#name-data-format-conversion" class="section-name selfRef">Data Format Conversion</a>
          </h4>
<div id="_6ad427bd-112b-4402-9cc6-8d5d9f924edd">
<p id="section-3.4.2-1">For specifications that describe a conversion between different data layouts, having a proof that guarantees that no information is lost in the process can be beneficial.
For instance, we observe that syntax encoding tends to be replaced each ten years or so by something "better".
Here again isomorphism can tell us exactly what kind of information we lost and gained during that replacement.<a href="#section-3.4.2-1" class="pilcrow">¶</a></p>
</div>
<div id="_ac06f489-d0a2-45da-84dc-b58919570d7e">
<p id="section-3.4.2-2">Here, for example, the definition of a function that would verify an isomorphism between an XML format and a JSON format:<a href="#section-3.4.2-2" class="pilcrow">¶</a></p>
</div>
<div id="_58fd4214-05b0-4261-bf1d-b5b2752f514b">
<figure id="figure-17">
            <div id="_d092abf6-48ed-4897-9de6-487e4076302e">
<div class="artwork art-text alignLeft art-ascii-art" id="section-3.4.2-3.1">
<pre>&lt;CODE BEGINS&gt;
&gt; isXmlAndJsonSame: Iso (XML, DeltaXML) (JSON, DeltaJson)
&gt;   ...
&lt;CODE ENDS&gt;</pre>
</div>
</div>
<figcaption><a href="#figure-17" class="selfRef">Figure 17</a></figcaption></figure>
</div>
<div id="_61db120d-da03-4bce-a7c0-bcd9901c2801">
<p id="section-3.4.2-4">Here DeltaXML expresses what is gained by switching from XML to JSON, and DeltaJson expresses what is lost.<a href="#section-3.4.2-4" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="syntax_proof_interop">
<section id="section-3.4.3">
          <h4 id="name-interoperability-with-previ">
<a href="#section-3.4.3" class="section-number selfRef">3.4.3. </a><a href="#name-interoperability-with-previ" class="section-name selfRef">Interoperability with Previous Versions</a>
          </h4>
<div id="_6c16771d-fea5-4431-adda-a9ff7fe125ed">
<p id="section-3.4.3-1">The syntax of the data layout may be modified as part of the evolution of a standard.
In most case a version number prevents old format to be used with the new format, but in cases where that it is not possible, the new specification can ensure that both formats can co-exist by using the same techniques as above.<a href="#section-3.4.3-1" class="pilcrow">¶</a></p>
</div>
<div id="_46b6d63b-0fa5-459e-b17a-e32ee5ce1a73">
<p id="section-3.4.3-2">Conversely these techniques can be used during the design phase of a new version of a format, to check if a new version number is warranted.<a href="#section-3.4.3-2" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="syntax_proof_postel">
<section id="section-3.4.4">
          <h4 id="name-postels-law">
<a href="#section-3.4.4" class="section-number selfRef">3.4.4. </a><a href="#name-postels-law" class="section-name selfRef">Postel's Law</a>
          </h4>
<blockquote id="section-3.4.4-1">
            <div id="_3f80ac77-cf69-4e1b-b386-d64f862d6817">
<p id="section-3.4.4-1.1">Be conservative in what you do, be liberal in what you accept from others.<a href="#section-3.4.4-1.1" class="pilcrow">¶</a></p>
</div>
<cite>— Jon Postel</cite>
</blockquote>
<div id="_f9925326-0b42-4c29-84e9-bcbb89220186">
<p id="section-3.4.4-2">One of the downsides of formal specifications is that there is no wiggle room possible when implementing it.
An implementation either conforms to the specification or does not.<a href="#section-3.4.4-2" class="pilcrow">¶</a></p>
</div>
<div id="_44c0b3d3-46a4-4a22-ac39-c9f92de10dac">
<p id="section-3.4.4-3">One analogy would be specifying a pair of gears.
If one decides to have both of them made with tolerances that are too small, then it is very likely that they will not be able to move when put together.
A bit of slack is needed to get the gear smoothly working together but more importantly the cost of making these gears is directly proportional to their tolerance.
There is an inflexion point where the cost of an high precision gear outweighs its purpose.<a href="#section-3.4.4-3" class="pilcrow">¶</a></p>
</div>
<div id="_4e9ec1b6-3745-46d8-9a24-6f174f24573c">
<p id="section-3.4.4-4">We have a similar issue when implementing a formal specification, where having an absolutely conformant implementation may cost more money than it is worth spending.
On the other hand a specification exists for the purpose of interoperability, so we need some guidelines on what to ignore in a formal specification to make it cost effective.<a href="#section-3.4.4-4" class="pilcrow">¶</a></p>
</div>
<div id="_3620ba85-4eac-4825-9230-1da5c9861876">
<p id="section-3.4.4-5">Postel's law proposes an informal way of defining that wiggle room by actually having two different specifications, one that defines a data layout for the purpose of sending it, and another one that defines a data layout for the purpose of receiving that data layout.<a href="#section-3.4.4-5" class="pilcrow">¶</a></p>
</div>
<div id="_2330dbdb-d699-4b17-aff5-e0860cb5a554">
<p id="section-3.4.4-6">Existing specifications express that dichotomy in the form of the usage of SHOULD/SHOULD NOT/RECOMMENDED/NOT RECOMMENDED <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span> keywords.
For example the SDP spec says that "[t]he sequence CRLF (0x0d0a) is used to end a line, although parsers SHOULD be tolerant and also accept lines terminated with a single newline character."
This directly infers two specifications, one used to define an SDP when sending it, that enforces using only CRLF, and a second specification, used to define an SDP when receiving it (or parsing it), that accepts both CRLF and LF.<a href="#section-3.4.4-6" class="pilcrow">¶</a></p>
</div>
<div id="_9fa822e5-4038-4334-a5c0-91890131077d">
<p id="section-3.4.4-7">Note that the converse is not necessarily true, i.e. not all usages of these keywords are related to Postel's Law.<a href="#section-3.4.4-7" class="pilcrow">¶</a></p>
</div>
<div id="_6a55d1c9-9af4-439e-bf1b-98040e1011dd">
<p id="section-3.4.4-8">To ensure that the differences between the sending specification and the receiving specification do not create interoperability problems, we can use a variant of isomorphism, as shown in the following example (data constructors and code elided):<a href="#section-3.4.4-8" class="pilcrow">¶</a></p>
</div>
<div id="_36cbfed5-9a10-42aa-9f04-6d4f3e4700f4">
<figure id="figure-18">
            <div id="_a69120d0-2ed3-49bb-ad44-e4d178b2181c">
<div class="artwork art-text alignLeft art-ascii-art" id="section-3.4.4-9.1">
<pre>&lt;CODE BEGINS&gt;
&gt; data Sending : Type where
&gt;
&gt; data Receiving : Type where
&gt;
&gt; to : Sending -&gt; List Receiving
&gt;
&gt; from : Receiving -&gt; Sending
&gt;
&gt; toFrom : (y : Receiving) -&gt; Elem y (to (from y))
&gt;
&gt; fromTo : (y : Sending) -&gt; True = all (== y) [from x | x &lt;- to y]
&gt;
&lt;CODE ENDS&gt;</pre>
</div>
</div>
<figcaption><a href="#figure-18" class="selfRef">Figure 18</a></figcaption></figure>
</div>
<div id="_4a9f88ee-c118-4778-bc3c-1325004b3be3">
<p id="section-3.4.4-10">Here we define two data types, one that describes the data layout that is permitted to be sent (Sending) and one that describes the data layout that is permitted to be received (Receiving).
For each data layout that is possible to send, there is one or more matching receiving data layouts.
This is expressed by the function <code>to</code> that takes as input one Sending value and returns a list of Receiving values.<a href="#section-3.4.4-10" class="pilcrow">¶</a></p>
</div>
<div id="_7178015e-dbc5-42b5-b679-a687354633b1">
<p id="section-3.4.4-11">Conversely, the <code>from</code> function maps a Receiving data layout onto a Sending data layout.
Note the asymmetry there, which prevents to use a standard proof of isomorphism.<a href="#section-3.4.4-11" class="pilcrow">¶</a></p>
</div>
<div id="_e4c48f81-8aff-4fcd-94e5-692866cd8779">
<p id="section-3.4.4-12">Then the <code>toFrom</code> and <code>fromTo</code> proofs verify that there is no interoperability issue by guaranteeing that each Receiving value maps to one and only one Sending instance and that this mapping is isomorphic.<a href="#section-3.4.4-12" class="pilcrow">¶</a></p>
</div>
<div id="_1c05cd55-825d-4e85-9d4c-e16fe61ffe74">
<p id="section-3.4.4-13">All of this will provide a clear guidance of when and where to use a SHOULD keyword or its variants, without loss of interoperability.<a href="#section-3.4.4-13" class="pilcrow">¶</a></p>
</div>
<div id="_11492a64-2791-4876-ba49-c011d409f95f">
<p id="section-3.4.4-14">As an trivial example, the following proves that accepting LF characters in addition to CRLF characters as end of line markers does not break interoperability:<a href="#section-3.4.4-14" class="pilcrow">¶</a></p>
</div>
<div id="_ba7b1a40-5cc9-4457-a619-7509acc90248">
<figure id="figure-19">
            <div id="_a4e4f1ce-4e88-45e9-8a6c-312643300539">
<div class="artwork art-text alignLeft art-ascii-art" id="section-3.4.4-15.1">
<pre>&lt;CODE BEGINS&gt;
&gt; data Sending : Type where
&gt;   S_CRLF : Sending
&gt;
&gt; Eq Sending where
&gt;   (==) S_CRLF S_CRLF = True
&gt;
&gt; data Receiving : Type where
&gt;   R_CRLF : Receiving
&gt;   R_LF : Receiving
&gt;
&gt; to : Sending -&gt; List Receiving
&gt; to S_CRLF = [R_CRLF, R_LF]
&gt;
&gt; from : Receiving -&gt; Sending
&gt; from R_CRLF = S_CRLF
&gt; from R_LF = S_CRLF
&gt;
&gt; toFrom : (y : Receiving) -&gt; Elem y (to (from y))
&gt; toFrom R_CRLF = Here
&gt; toFrom R_LF = There Here
&gt;
&gt; fromTo : (y : Sending) -&gt; True = all (== y) [from x | x &lt;- to y]
&gt; fromTo S_CRLF = Refl
&lt;CODE ENDS&gt;</pre>
</div>
</div>
<figcaption><a href="#figure-19" class="selfRef">Figure 19</a></figcaption></figure>
</div>
</section>
</div>
</section>
</div>
<div id="syntax_registries">
<section id="section-3.5">
        <h3 id="name-extended-registries">
<a href="#section-3.5" class="section-number selfRef">3.5. </a><a href="#name-extended-registries" class="section-name selfRef">Extended Registries</a>
        </h3>
<div id="_b7916087-fdb2-4ec8-8981-c80959c0469c">
<p id="section-3.5-1">Often parts of a data layout are left unspecified, so they can be defined in separate specifications.
This is mainly used for extensibility purpose.<a href="#section-3.5-1" class="pilcrow">¶</a></p>
</div>
<div id="_e98095be-b40f-44da-b830-be99352afc8d">
<p id="section-3.5-2">In most cases, an external registry is maintained with the list of specifications that can be used to make sense of these unspecified parts.<a href="#section-3.5-2" class="pilcrow">¶</a></p>
</div>
<div id="_47226dd9-4b9f-4991-88d1-1fbd50a90ba7">
<p id="section-3.5-3">To make sense of an unspecified part in a data layout, 3 pieces of information are needed:<a href="#section-3.5-3" class="pilcrow">¶</a></p>
</div>
<ul>
<li id="section-3.5-4.1">
            <div id="_a83d4a19-2add-435c-a9c9-413eec7c3124">
<p id="section-3.5-4.1.1">The specification that defined the registry.<a href="#section-3.5-4.1.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-3.5-4.2">
            <div id="_73fb3918-90dd-46b8-a645-94e6cc80222a">
<p id="section-3.5-4.2.1">The content of the registry itself.<a href="#section-3.5-4.2.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-3.5-4.3">
            <div id="_f27a45f3-b1a0-4c8e-ab53-14dcfb747fd1">
<p id="section-3.5-4.3.1">Each specification that defined one element of that registry.<a href="#section-3.5-4.3.1" class="pilcrow">¶</a></p>
</div>
</li>
</ul>
<div id="_8083ba78-466d-475c-8593-671d5278daa6">
<p id="section-3.5-5">Defining a data layout for a protocol means also bringing together these pieces of information so a Sum type of all the specified parts can be put together.
Unfortunately the information available in these registry is not sufficient to to bring the exact data layout from the specification of a single element in that Sum type.
One reason if that multiple data layouts can be defined in the computerate specification of a standard, but there is no indication in the registry to pin point the exact data type.<a href="#section-3.5-5" class="pilcrow">¶</a></p>
</div>
<div id="_1eff53b1-b600-424a-b035-30d9ec6924c9">
<p id="section-3.5-6">For instance IANA is the organization that is maintaining the registries for the IETF.
The <code>Assigned Internet Protocol Number</code> (<span><a href="https://www.iana.org/assignments/protocol-numbers/protocol-numbers.xml">https://www.iana.org/assignments/protocol-numbers/protocol-numbers.xml</a></span>) is an example of a registry that contains the list of all protocols that can be carried by the Internet Protocol, and was most recently defined by RFC 5237.
The first entry in that registry was defined by RFC 8200, the next on by RFC 791, and so on for each entry of that registry.
RFC 8200 contains the description for multiple entries in the registry, and so an additional mechanism is needed to differentiate them.<a href="#section-3.5-6" class="pilcrow">¶</a></p>
</div>
<div id="_3efc3983-c9fe-46e0-b7c0-1f591cfc1701">
<p id="section-3.5-7">That additional mechanism is abstracted as an extended registry that complements the existing registry, but for the sole purpose of generating that Sum type.
This abstract registry is filled by information coming from the type-checking of the data layout types in the respective computerate specifications.
It links a specific entry in the registry with the type pf the data layout in the specification.<a href="#section-3.5-7" class="pilcrow">¶</a></p>
</div>
<div id="_9f292e9e-3927-45a9-a76a-deddf5d3111c">
<p id="section-3.5-8">When the specification for a registry is type-checked, it automatically download the external registry, and access the abstract extended registry.
For each extended entry, the type-checker can automatically generate a data constructor that reference the data layout defining in the entry specification.
For entries that does not have an extension (i.e. no computerate specifications exist at this time), a placeholder data constructor is generated.<a href="#section-3.5-8" class="pilcrow">¶</a></p>
</div>
<div id="_9c668861-ca9a-4b45-99f2-d541e62e8a8a">
<p id="section-3.5-9"><a href="#registries" class="xref">Appendix C</a> describes an implementation of the extended registry mechanism.<a href="#section-3.5-9" class="pilcrow">¶</a></p>
</div>
</section>
</div>
</section>
</div>
<div id="semantics">
<section id="section-4">
      <h2 id="name-semantics">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-semantics" class="section-name selfRef">Semantics</a>
      </h2>
<div id="_d8115e36-39c3-4bc4-9d4f-e169e339bf6b">
<p id="section-4-1">The semantics of a communication protocol determine what messages are exchanged over a communication link and the relationship between them.
The semantics are generally described only in the context of the layer that this particular protocol is operating at.<a href="#section-4-1" class="pilcrow">¶</a></p>
</div>
<div id="semantics_tpn">
<section id="section-4.1">
        <h3 id="name-typed-petri-nets">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-typed-petri-nets" class="section-name selfRef">Typed Petri Nets</a>
        </h3>
<div id="_20f5bce3-933b-47a7-b3f7-95678f478638">
<p id="section-4.1-1">The semantics of a specification require to define an Idris type that strictly enforces these semantics.
This can be done in an <span><a href="#Type-Driven" class="xref">ad hoc way</a> [<a href="#Type-Driven" class="xref">Type-Driven</a>]</span>, particularly by using linear types that express resources' consumption.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
</div>
<div id="_957d3234-5c4d-44da-abdc-4a7a739465ff">
<p id="section-4.1-2">But a better solution is to design these graphically, particularly by using Petri Nets.
This specification defines a DSL that permits describing a Typed Petri Net (TPN) which is heavily influenced by <span><a href="#CPN" class="xref">Coloured Petri Nets</a> [<a href="#CPN" class="xref">CPN</a>]</span> (CPN).
A CPN adds some restriction on the types that can be used in a Petri Net because of limitations in the underlying programming language, SML.
The underlying programming used in TPN, Idris, does not have these limitations, so any well-formed Idris type (including polymorphic, linear and dependent types) can be directly used in TPN.<a href="#section-4.1-2" class="pilcrow">¶</a></p>
</div>
<div id="_dda9819f-908e-413d-b417-3ca144c2de42">
<aside id="section-4.1-3">
          <p id="section-4.1-3.1">NOTE  1: A graphical editor for TPN is planned as part of the integration tooling.
The graphical tool will use the document directly as storage.<a href="#section-4.1-3.1" class="pilcrow">¶</a></p>
</aside>
</div>
<div id="_9d2af683-c414-418f-9c35-57c22356c854">
<p id="section-4.1-4">Here's an example of TPN (from figure 2.10 in <span>[<a href="#CPN" class="xref">CPN</a>]</span>):<a href="#section-4.1-4" class="pilcrow">¶</a></p>
</div>
<div id="_2dd42b11-7d84-4d27-8093-7e02ce8bb463">
<figure id="figure-20">
          <div id="_b786d1ea-a381-46d0-8eed-c6f86da1ec27">
<div class="artwork art-text alignLeft art-ascii-art" id="section-4.1-5.1">
<pre>&lt;CODE BEGINS&gt;
&gt; NO : Type
&gt; NO = Int
&gt;
&gt; DATA : Type
&gt; DATA = String
&gt;
&gt; NOxDATA : Type
&gt; NOxDATA = (NO, DATA)
&gt;
&gt; PTS : Place
&gt; PTS = MkPlace "Packets To Send" NOxDATA (\() =&gt; [(1, "COL"),
&gt;   (2, "OUR"), (3, "ED "), (4, "PET"), (5, "RI "), (6, "NET")])
&gt;
&gt; NS : Place
&gt; NS = MkPlace "NextSend" NO (\() =&gt; [1])
&gt;
&gt; A : Place
&gt; A = MkPlace "A" NOxDATA (\() =&gt; [])
&gt;
&gt; input1 : Input
&gt; input1 = MkInput PTS (NO, DATA) pure
&gt;
&gt; input2 : Input
&gt; input2 = MkInput NS NO pure
&gt;
&gt; output1 : Output
&gt; output1 = MkOutput PTS (NO, DATA) pure
&gt;
&gt; output2 : Output
&gt; output2 = MkOutput NS NO pure
&gt;
&gt; output3 : Output
&gt; output3 = MkOutput A (NO, DATA) pure
&gt;
&gt; sendPacket : Transition
&gt; sendPacket = MkTransition [input1, input2] [output1, output2,
&gt;   output3] (\((n, d), n') =&gt; if n == n'
&gt;                              then pure ((n, d), n, (n, d))
&gt;                              else empty)
&lt;CODE ENDS&gt;</pre>
</div>
</div>
<figcaption><a href="#figure-20" class="selfRef">Figure 20</a></figcaption></figure>
</div>
<div id="_1bd88579-042f-4dce-9c7e-96170a29c149">
<aside id="section-4.1-6">
          <p id="section-4.1-6.1">NOTE: The DSL is being currently designed, so the example shows the generated value.<a href="#section-4.1-6.1" class="pilcrow">¶</a></p>
</aside>
</div>
<div id="_e04fe426-ce8c-4b5b-9289-7f4893c590bd">
<p id="section-4.1-7">From there it is easy to generate (using the non-deterministic monad in Idris) an interpreter for debugging and simulation purposes:<a href="#section-4.1-7" class="pilcrow">¶</a></p>
</div>
<div id="_43796dee-8ae8-49b5-a839-417ccf126bfe">
<figure id="figure-21">
          <div id="_d04a9f74-20b6-4264-832b-bc7b72182bd8">
<div class="artwork art-text alignLeft art-ascii-art" id="section-4.1-8.1">
<pre>&lt;CODE BEGINS&gt;
&gt; interpret : MS NOxDATA -&gt; MS NO -&gt; MS NOxDATA -&gt;
&gt;   ND (MS NOxDATA, MS NO, MS NOxDATA)
&gt; interpret pts ns a = do
&gt;   (pts1, pts2) &lt;- sel pts
&gt;   (ns1, ns2) &lt;- sel ns
&gt;   i1 &lt;- input' input1 pts1
&gt;   i2 &lt;- input' input2 ns1
&gt;   (pts3, ns3, a3) &lt;- transition' sendPacket (i1, i2)
&gt;   let o1 = output' output1 pts3
&gt;   let o2 = output' output2 ns3
&gt;   let o3 = output' output3 a3
&gt;   pure (o1 ++ pts2, o2 ++ ns2, o3 ++ a)
&lt;CODE ENDS&gt;</pre>
</div>
</div>
<figcaption><a href="#figure-21" class="selfRef">Figure 21</a></figcaption></figure>
</div>
<div id="_e5867369-6b3b-4b27-a5ac-c7c3b0a0a4de">
<aside id="section-4.1-9">
          <p id="section-4.1-9.1">NOTE: Replace by the generic variant of the interpreter.<a href="#section-4.1-9.1" class="pilcrow">¶</a></p>
</aside>
</div>
<div id="_760b0641-2da9-42b9-a6bb-389704f9caee">
<p id="section-4.1-10">A Petri Net has the advantage that the same graph can be reused to derive other Petri Nets, e.g., Timed Petri Nets (that can be used to collect performance metrics) or Stochastic Petri Nets.<a href="#section-4.1-10" class="pilcrow">¶</a></p>
</div>
<div id="_21b0a722-8af6-438b-aaa1-3cfee809b832">
<aside id="section-4.1-11">
          <p id="section-4.1-11.1">NOTE  2: The traditional way of verifying a Petri Net is by using model checking.
There is nothing in the design that prevents doing that, but because that takes quite some time to run and so cannot be part of the document processing, how do we store in the document a proof that the model checking was successful?<a href="#section-4.1-11.1" class="pilcrow">¶</a></p>
</aside>
</div>
<div id="_d1f843f9-6069-46aa-8e38-2885fcfa9eb4">
<p id="section-4.1-12">A TPN that covers a whole protocol (i.e. client, network, and server) is useful to prove the properties listed in the previous sections.
But the TPN is also designed in a way that each of these parts can be defined separately from the others (making it a Hierarchical TPN).<a href="#section-4.1-12" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="semantics_examples">
<section id="section-4.2">
        <h3 id="name-semantics-examples">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-semantics-examples" class="section-name selfRef">Semantics Examples</a>
        </h3>
<div id="_d4d91f0c-366f-4095-932e-cf52a946ca04">
<p id="section-4.2-1">Semantics examples can be wrong, so it is useful to be sure that they match the specification.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
</div>
<div id="semantics_type">
<section id="section-4.2.1">
          <h4 id="name-data-type-2">
<a href="#section-4.2.1" class="section-number selfRef">4.2.1. </a><a href="#name-data-type-2" class="section-name selfRef">Data Type</a>
          </h4>
<div id="_920fbcc2-2655-4335-91e4-486661875836">
<p id="section-4.2.1-1">As explained above, semantics can be described in an ad hoc manner, or using the TPN DSL.<a href="#section-4.2.1-1" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="semantics_serializer">
<section id="section-4.2.2">
          <h4 id="name-serializer-2">
<a href="#section-4.2.2" class="section-number selfRef">4.2.2. </a><a href="#name-serializer-2" class="section-name selfRef">Serializer</a>
          </h4>
<div id="_34782191-83ec-451e-8ed4-ca681f9bae23">
<p id="section-4.2.2-1">At the difference of syntax, where there are more or less as many ways to display them than there are syntaxes, semantics examples generally use sequence diagrams, eventually augmented with the content of the packets exchanged (and so using the techniques described in <a href="#syntax_examples" class="xref">Section 3.1</a>).<a href="#section-4.2.2-1" class="pilcrow">¶</a></p>
</div>
<div id="_ef17ea15-859e-4aef-8437-1ff4b706a926">
<p id="section-4.2.2-2">Similarly to what is done in <a href="#syntax_formal_aad" class="xref">Section 3.3.2</a>, an Asciidoctor block processor similar to the "msc" type of diagram used by the asciidoctor-diagram extension will be designed.<a href="#section-4.2.2-2" class="pilcrow">¶</a></p>
</div>
<div id="_060e28ab-ee03-40b6-83c8-c24f943e9dd4">
<aside id="section-4.2.2-3">
            <p id="section-4.2.2-3.1">NOTE  1: We unfortunately cannot reuse the asciidoctor-diagram extension because it cannot generate both text and SVG versions of a sequence diagram.<a href="#section-4.2.2-3.1" class="pilcrow">¶</a></p>
</aside>
</div>
<div id="_29e1276f-166f-4b99-b8b6-d1ca053f4584">
<p id="section-4.2.2-4">The serializer for an example derived from a TPN generates the content of the msc AsciiDoc block, by selecting one particular path and its associated bindings through the Petri Net.<a href="#section-4.2.2-4" class="pilcrow">¶</a></p>
</div>
<div id="_ae9366fc-8c1a-4851-a695-39a85edeb3dc">
<aside id="section-4.2.2-5">
            <p id="section-4.2.2-5.1">NOTE  2: We probably want to use AsciiDoc callouts for these, although that would require a modification in AsciiRfc.
In fact callout would be a far better technique for other diagrams, like AAD, as it will let the renderer take care of the best way to place elements depending on the output format.<a href="#section-4.2.2-5.1" class="pilcrow">¶</a></p>
</aside>
</div>
</section>
</div>
<div id="semantics_presentation">
<section id="section-4.2.3">
          <h4 id="name-presentation-format-2">
<a href="#section-4.2.3" class="section-number selfRef">4.2.3. </a><a href="#name-presentation-format-2" class="section-name selfRef">Presentation Format</a>
          </h4>
<div id="_c9d5e8f2-b258-42b0-9fcc-34a7cb9a710a">
<p id="section-4.2.3-1">TBD.<a href="#section-4.2.3-1" class="pilcrow">¶</a></p>
</div>
</section>
</div>
</section>
</div>
<div id="semantics_formal">
<section id="section-4.3">
        <h3 id="name-formal-semantics-language">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-formal-semantics-language" class="section-name selfRef">Formal Semantics Language</a>
        </h3>
<div id="_ce702765-f46f-46b9-af38-4d0208007fb6">
<p id="section-4.3-1">Some specifications use a formal language to describe the state machines.
One shared property of these languages is that they cannot always formalize all the constraints of specific semantics, so they have to be enriched with comments.
One consequence of this is that they cannot be used as a replacement for the Idris data type described in <a href="#semantics_tpn" class="xref">Section 4.1</a>, a data type that is purposely complete.<a href="#section-4.3-1" class="pilcrow">¶</a></p>
</div>
<div id="semantics_formal_cosmogol">
<section id="section-4.3.1">
          <h4 id="name-cosmogol">
<a href="#section-4.3.1" class="section-number selfRef">4.3.1. </a><a href="#name-cosmogol" class="section-name selfRef">Cosmogol</a>
          </h4>
<div id="_0a595606-10ad-4021-9c15-b18ae8f700db">
<p id="section-4.3.1-1"><span><a href="#I-D.bortzmeyer-language-state-machines" class="xref">Cosmogol</a> [<a href="#I-D.bortzmeyer-language-state-machines" class="xref">I-D.bortzmeyer-language-state-machines</a>]</span> is a formal language designed to define states machines.
The Internet-Draft will be retrofitted as a computerate specification to provide an internal Domain Specific Language (DSL) that permits specifying an instance of that language.
A serializer and elaborator script will also be defined.<a href="#section-4.3.1-1" class="pilcrow">¶</a></p>
</div>
<div id="_ecb30ebe-376d-49e6-afc1-2ce3bef85284">
<p id="section-4.3.1-2">Finally, an Asciidoctor block processor would be used to convert the language into both a text and a graphical view of the state machine.<a href="#section-4.3.1-2" class="pilcrow">¶</a></p>
</div>
<div id="_85419fe2-3ae1-4a73-bc86-38b276ecd022">
<aside id="section-4.3.1-3">
            <p id="section-4.3.1-3.1">NOTE: Add examples there.<a href="#section-4.3.1-3.1" class="pilcrow">¶</a></p>
</aside>
</div>
</section>
</div>
</section>
</div>
<div id="semantics_proofs">
<section id="section-4.4">
        <h3 id="name-proofs-for-semantics">
<a href="#section-4.4" class="section-number selfRef">4.4. </a><a href="#name-proofs-for-semantics" class="section-name selfRef">Proofs for Semantics</a>
        </h3>
<div id="_36c34e77-b9f4-4bbf-a1a5-cf45904846f2">
<p id="section-4.4-1">Like for syntax formal languages, an elaborator script permits generating a type from a TPN instance.
That type can then be used to write proofs of the properties that we expect from the semantics.<a href="#section-4.4-1" class="pilcrow">¶</a></p>
</div>
<div id="semantics_proofs_iso">
<section id="section-4.4.1">
          <h4 id="name-isomorphism">
<a href="#section-4.4.1" class="section-number selfRef">4.4.1. </a><a href="#name-isomorphism" class="section-name selfRef">Isomorphism</a>
          </h4>
<div id="_ae8fccc4-8642-4c0b-bf74-6480fab290f9">
<p id="section-4.4.1-1">An isomorphism proof can be used between two types derived from the semantics of a specification, for example to prove that no information is lost in the converting between the underlying processes, or when upgrading a process.<a href="#section-4.4.1-1" class="pilcrow">¶</a></p>
</div>
<div id="_6ee8ae30-9af5-4159-a42a-eb5009615618">
<p id="section-4.4.1-2">An example of that would be to prove (or more likely disprove) that the SIP state machines are isomorphic to the WebRTC state machines.<a href="#section-4.4.1-2" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="semantics_proof_postel">
<section id="section-4.4.2">
          <h4 id="name-postels-law-2">
<a href="#section-4.4.2" class="section-number selfRef">4.4.2. </a><a href="#name-postels-law-2" class="section-name selfRef">Postel's Law</a>
          </h4>
<div id="_f9494679-c7da-4b9a-ada9-583d781638f6">
<p id="section-4.4.2-1">Like for the syntax, semantics can introduce wiggle room between the state machines on the sending side and the state machines on the receiving side.
A similar isomorphism proof can be used to ensure that this is done without loss of interoperability.<a href="#section-4.4.2-1" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="semantics_proofs_termination">
<section id="section-4.4.3">
          <h4 id="name-termination">
<a href="#section-4.4.3" class="section-number selfRef">4.4.3. </a><a href="#name-termination" class="section-name selfRef">Termination</a>
          </h4>
<div id="_1bebadb9-1828-46eb-b509-4361071df7d2">
<p id="section-4.4.3-1">The TPN type can be used to verify that the protocol actually terminates, or that it always returns to its initial state.
This is equivalent to proving that a program terminates.<a href="#section-4.4.3-1" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="semantics_proofs_liveness">
<section id="section-4.4.4">
          <h4 id="name-liveness">
<a href="#section-4.4.4" class="section-number selfRef">4.4.4. </a><a href="#name-liveness" class="section-name selfRef">Liveness</a>
          </h4>
<div id="_367ed63c-397e-4f81-a7c9-938ea4c5c613">
<p id="section-4.4.4-1">The TPN type can be used to verify that the protocol is productive, i.e. that it does not loop without making progress.<a href="#section-4.4.4-1" class="pilcrow">¶</a></p>
</div>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="verification">
<section id="section-5">
      <h2 id="name-verified-code">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-verified-code" class="section-name selfRef">Verified Code</a>
      </h2>
<div id="_d033b9ed-c364-4763-a83b-ef4646b5003f">
<p id="section-5-1">When applied, the techniques described in <a href="#syntax" class="xref">Section 3</a> and <a href="#semantics" class="xref">Section 4</a> result in a formal specification, in the form of a set of types.
Types are logical propositions so proofs and disproofs can be written about them.
Interpreted as code, these eventual proofs happen to be proofs that a specification is implementable.<a href="#section-5-1" class="pilcrow">¶</a></p>
</div>
<div id="_10d0cd93-4bd0-461b-a481-7355a018b82e">
<p id="section-5-2">To make these pieces of code composable, a specification is split in multiple modules, each one represented as a unique function.
The type of each of these functions is derived from the hierarchical TPNs described in <a href="#semantics" class="xref">Section 4</a>, by bundling together all the inputs of the TPN module as the input for that function, and bundling all the outputs of the TPN module as the output of this function.<a href="#section-5-2" class="pilcrow">¶</a></p>
</div>
<div id="_10713018-00de-4d8a-b0ee-11e5e88a56c0">
<p id="section-5-3">For instance the IPv4 layer is really 4 different functions:<a href="#section-5-3" class="pilcrow">¶</a></p>
</div>
<ul>
<li id="section-5-4.1">
          <div id="_630e1f08-a6e0-41cb-9dad-70977d7e9459">
<p id="section-5-4.1.1">A function that converts between a byte array and a tree representation (parsing).<a href="#section-5-4.1.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-5-4.2">
          <div id="_7e365b9b-2246-4528-9514-6e6be62a224c">
<p id="section-5-4.2.1">A function that takes a tree representation and a maximum MTU and returns a list of tree representations, each one fitting inside the MTU.<a href="#section-5-4.2.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-5-4.3">
          <div id="_b3e37d17-485c-4eef-8c2c-ccf30811dc00">
<p id="section-5-4.3.1">A function that accumulates tree representations of an IP fragment until a tree representation of a full IP packet can be returned.<a href="#section-5-4.3.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-5-4.4">
          <div id="_13968666-ead3-4fad-959e-45d3721752dc">
<p id="section-5-4.4.1">A function that convert a tree representation into a byte array.<a href="#section-5-4.4.1" class="pilcrow">¶</a></p>
</div>
</li>
</ul>
<div id="_7c416e7a-9988-4c87-893b-f529c46eb8a7">
<p id="section-5-5">The description of each function is incomplete, as in addition to the input and the output listed, these functions needs some ancillary data, in the form of:<a href="#section-5-5" class="pilcrow">¶</a></p>
</div>
<ul>
<li id="section-5-6.1">
          <div id="_d2352ab2-7a9a-4023-a40a-bd2b1322332b">
<p id="section-5-6.1.1">state, which is basically values stored between evaluations of a function,<a href="#section-5-6.1.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-5-6.2">
          <div id="_01069078-8187-4184-a45a-cda597987c85">
<p id="section-5-6.2.1">an optional signal, that can be used as an API request or response.
As timers are a fundamental building block for communication protocols, one common uses for that signal are to request the arming of a timer, and to receive the indication of the expiration of that timer.<a href="#section-5-6.2.1" class="pilcrow">¶</a></p>
</div>
</li>
</ul>
<div id="_a4e64a86-a226-4ccd-8d81-f68545bba41e">
<p id="section-5-7">To unclutter the signature of these function, these ancillary data are passed to the function using an ad-hoc monad named the Impl Monad (Impl is short for Implementation or Implementable).
To unclutter even further the signature of these functions, that same Impl monad can be used to store the various proofs consumed and produced by these functions, making these function more easily composable.<a href="#section-5-7" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="_informative_references">
<section id="section-6">
      <h2 id="name-bibliography">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-bibliography" class="section-name selfRef">Bibliography</a>
      </h2>
<dl class="references">
<dt id="RFC0761">[RFC0761]</dt>
<dd>
<span class="refAuthor">Postel, J.</span>, <span class="refTitle">"DoD standard Transmission Control Protocol"</span>, <span class="seriesInfo">IETF RFC 0761</span>, <span class="seriesInfo">DOI 10.17487/RFC0761</span>, <time datetime="1980-01">January 1980</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc761">https://www.rfc-editor.org/info/rfc761</a>&gt;</span>. </dd>
<dt id="RFC7991">[RFC7991]</dt>
<dd>
<span class="refAuthor">Hoffman, P.</span>, <span class="refTitle">"The "xml2rfc" Version 3 Vocabulary"</span>, <span class="seriesInfo">IETF RFC 7991</span>, <span class="seriesInfo">DOI 10.17487/RFC7991</span>, <time datetime="2016-12">December 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7991">https://www.rfc-editor.org/info/rfc7991</a>&gt;</span>. </dd>
<dt id="RFC5234">[RFC5234]</dt>
<dd>
<span class="refAuthor">Crocker, D., Ed.</span><span class="refAuthor"> and P. Overell</span>, <span class="refTitle">"Augmented BNF for Syntax Specifications: ABNF"</span>, <span class="seriesInfo">IETF RFC 5234</span>, <span class="seriesInfo">DOI 10.17487/RFC5234</span>, <time datetime="2008-01">January 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5234">https://www.rfc-editor.org/info/rfc5234</a>&gt;</span>. </dd>
<dt id="RFC1034">[RFC1034]</dt>
<dd>
<span class="refAuthor">Mockapetris, P.</span>, <span class="refTitle">"Domain names - concepts and facilities"</span>, <span class="seriesInfo">IETF RFC 1034</span>, <span class="seriesInfo">DOI 10.17487/RFC1034</span>, <time datetime="1987-11">November 1987</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc1034">https://www.rfc-editor.org/info/rfc1034</a>&gt;</span>. </dd>
<dt id="RFC8489">[RFC8489]</dt>
<dd>
<span class="refAuthor">Petit-Huguenin, M.</span><span class="refAuthor">, Salgueiro, G.</span><span class="refAuthor">, Rosenberg, J.</span><span class="refAuthor">, Wing, D.</span><span class="refAuthor">, Mahy, R.</span><span class="refAuthor">, and P. Matthews</span>, <span class="refTitle">"Session Traversal Utilities for NAT (STUN)"</span>, <span class="seriesInfo">IETF RFC 8489</span>, <span class="seriesInfo">DOI 10.17487/RFC8489</span>, <time datetime="2020-02">February 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8489">https://www.rfc-editor.org/info/rfc8489</a>&gt;</span>. </dd>
<dt id="RFC8656">[RFC8656]</dt>
<dd>
<span class="refAuthor">Reddy, T., Ed.</span><span class="refAuthor">, Johnston, A., Ed.</span><span class="refAuthor">, Matthews, P.</span><span class="refAuthor">, and J. Rosenberg</span>, <span class="refTitle">"Traversal Using Relays around NAT (TURN): Relay Extensions to Session Traversal Utilities for NAT (STUN)"</span>, <span class="seriesInfo">IETF RFC 8656</span>, <span class="seriesInfo">DOI 10.17487/RFC8656</span>, <time datetime="2020-02">February 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8656">https://www.rfc-editor.org/info/rfc8656</a>&gt;</span>. </dd>
<dt id="I-D.bortzmeyer-language-state-machines">[I-D.bortzmeyer-language-state-machines]</dt>
<dd>
<span class="refAuthor">Bortzmeyer, S.</span>, <span class="refTitle">"Cosmogol: a language to describe finite state machines"</span>, <span class="seriesInfo">IETF I-D.bortzmeyer-language-state-machines</span>, <time datetime="2006-11">November 2006</time>. </dd>
<dt id="I-D.mcquistin-augmented-ascii-diagrams">[I-D.mcquistin-augmented-ascii-diagrams]</dt>
<dd>
<span class="refAuthor">McQuistin, S.</span><span class="refAuthor">, Band, V.</span><span class="refAuthor">, and C. Perkins</span>, <span class="refTitle">"Describing Protocol Data Units with Augmented Packet Header Diagrams"</span>, <span class="seriesInfo">IETF I-D.mcquistin-augmented-ascii-diagrams</span>, <time datetime="2020-02">February 2020</time>. </dd>
<dt id="RFC2119">[RFC2119]</dt>
<dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">IETF RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dt id="I-D.ribose-asciirfc">[I-D.ribose-asciirfc]</dt>
<dd>
<span class="refAuthor">Tse, R.</span><span class="refAuthor">, Nicholas, N.</span><span class="refAuthor">, and P. Brasolin</span>, <span class="refTitle">"AsciiRFC: Authoring Internet-Drafts And RFCs Using AsciiDoc"</span>, <span class="seriesInfo">IETF I-D.ribose-asciirfc</span>, <time datetime="2018-04">April 2018</time>. </dd>
<dt id="Curry-Howard">[Curry-Howard]</dt>
<dd>
<span class="refTitle">"Curry-Howard correspondence"</span>, <span>&lt;<a href="https://en.wikipedia.org/wiki/Curry-Howard_correspondence">https://en.wikipedia.org/wiki/Curry-Howard_correspondence</a>&gt;</span>. </dd>
<dt id="Zave">[Zave]</dt>
<dd>
<span class="refTitle">"Experiences with Protocol Description"</span>, <time datetime="2011-10">October 2011</time>. </dd>
<dt id="Knuth92">[Knuth92]</dt>
<dd>
<span class="refTitle">"Literate Programming"</span>, <time datetime="1992">1992</time>. </dd>
<dt id="Elab">[Elab]</dt>
<dd>
<span class="refTitle">"Elaborator reflection: extending Idris in Idris"</span>, <time datetime="2016">2016</time>. </dd>
<dt id="AsciiDoc">[AsciiDoc]</dt>
<dd>
<span class="refTitle">"AsciiDoc"</span>, <span>&lt;<a href="https://en.wikipedia.org/wiki/AsciiDoc">https://en.wikipedia.org/wiki/AsciiDoc</a>&gt;</span>. </dd>
<dt id="Asciidoctor">[Asciidoctor]</dt>
<dd>
<span class="refTitle">"Asciidoctor"</span>, <span>&lt;<a href="https://asciidoctor.org/docs/user-manual/">https://asciidoctor.org/docs/user-manual/</a>&gt;</span>. </dd>
<dt id="Metanorma">[Metanorma]</dt>
<dd>
<span class="refTitle">"Metanorma"</span>, <span>&lt;<a href="https://www.metanorma.com/">https://www.metanorma.com/</a>&gt;</span>. </dd>
<dt id="Idris">[Idris]</dt>
<dd>
<span class="refTitle">"Idris: A Language with Dependent Types"</span>, <span>&lt;<a href="https://www.idris-lang.org/">https://www.idris-lang.org/</a>&gt;</span>. </dd>
<dt id="Literate">[Literate]</dt>
<dd>
<span class="refTitle">"Literate programming"</span>, <span>&lt;<a href="http://docs.idris-lang.org/en/latest/tutorial/miscellany.html#literate-programming">http://docs.idris-lang.org/en/latest/tutorial/miscellany.html#literate-programming</a>&gt;</span>. </dd>
<dt id="Blockquotes">[Blockquotes]</dt>
<dd>
<span class="refTitle">"Markdown-style blockquotes"</span>, <span>&lt;<a href="https://asciidoctor.org/docs/user-manual/#markdown-style-blockquotes">https://asciidoctor.org/docs/user-manual/#markdown-style-blockquotes</a>&gt;</span>. </dd>
<dt id="CPN">[CPN]</dt>
<dd>
<span class="refTitle">"Coloured Petri Nets: Modelling and Validation of Concurrent Systems"</span>, <time datetime="2009">2009</time>. </dd>
<dt id="Type-Driven">[Type-Driven]</dt>
<dd>
<span class="refTitle">"Type-Driven Development with Idris"</span>, <time datetime="2017">2017</time>. </dd>
<dt id="Brinkmann02">[Brinkmann02]</dt>
<dd>
<span class="refTitle">"RTL-datapath verification using integer linear programming"</span>, <time datetime="2009">2009</time>. </dd>
</dl>
</section>
</div>
<div id="cli">
<section id="section-appendix.a">
      <h2 id="name-command-line-tools">
<a href="#section-appendix.a" class="section-number selfRef">Appendix A. </a><a href="#name-command-line-tools" class="section-name selfRef">Command Line Tools</a>
      </h2>
<div id="_installation">
<section id="section-a.1">
        <h2 id="name-installation">
<a href="#section-a.1" class="section-number selfRef">A.1. </a><a href="#name-installation" class="section-name selfRef">Installation</a>
        </h2>
<div id="_15a143ef-7b7d-48be-8463-c3844152c8c1">
<p id="section-a.1-1">The computerate command line tools are run inside a Docker image, so the first step is to install the Docker software or verify that it is up to date (<span><a href="https://docs.docker.com/install/">https://docs.docker.com/install/</a></span>).<a href="#section-a.1-1" class="pilcrow">¶</a></p>
</div>
<div id="_802d71e9-8779-4ae1-9bfa-712ebf9bd0d6">
<p id="section-a.1-2">Note that for the usage described in this document there is no need for Docker EE or for having a Docker account.<a href="#section-a.1-2" class="pilcrow">¶</a></p>
</div>
<div id="_1d0667a3-d079-45b9-b387-7ef5974184fd">
<p id="section-a.1-3">The following instructions assume a Unix based OS, i.e. Linux or MacOS.
Lines separated by a "\" character are meant to be executed as one single line, with the "\" character removed.<a href="#section-a.1-3" class="pilcrow">¶</a></p>
</div>
<div id="_download_the_docker_image">
<section id="section-a.1.1">
          <h3 id="name-download-the-docker-image">
<a href="#section-a.1.1" class="section-number selfRef">A.1.1. </a><a href="#name-download-the-docker-image" class="section-name selfRef">Download the Docker Image</a>
          </h3>
<div id="_e36d5cde-bd1b-45ad-913d-5bb127c25832">
<p id="section-a.1.1-1">To install the computerate tools, the fastest way is to download and install the Docker image using a temporary image containing the dat tool:<a href="#section-a.1.1-1" class="pilcrow">¶</a></p>
</div>
<div id="_2b94a76d-1bbb-424c-bf54-ff6c6cd87b84">
<figure id="figure-22">
            <div id="_20d1316d-2e18-4524-9f4c-dcdaeb1b0647">
<div class="artwork art-text alignLeft art-ascii-art" id="section-a.1.1-2.1">
<pre>docker pull veggiemonk/dat-docker
mkdir computerate
cd computerate
docker run --rm -u $(id -u):$(id -g) -v \
 $(pwd):/tools veggiemonk/dat-docker dat clone \
 dat://6a33cb289d5818e3709f62e95df41be537edba5f4dc26593e2cb870c7982345b \
 tools</pre>
</div>
</div>
<figcaption><a href="#figure-22" class="selfRef">Figure 22</a></figcaption></figure>
</div>
<div id="_4b5a9ef7-c0f2-40d3-b652-405dd69bfaef">
<p id="section-a.1.1-3">After this, the image can be loaded in Docker.
The newly installed Docker image also contains the dat command, so there is no need to keep the veggiemonk/dat-docker image after this:<a href="#section-a.1.1-3" class="pilcrow">¶</a></p>
</div>
<div id="_aad1ba1f-9746-49e6-9c52-e0bca55c945e">
<figure id="figure-23">
            <div id="_f17e4706-cd0a-439f-9c25-2fd08fc6799b">
<div class="artwork art-text alignLeft art-ascii-art" id="section-a.1.1-4.1">
<pre>docker load -i tools.tar.xz
docker image rm --force veggiemonk/dat-docker</pre>
</div>
</div>
<figcaption><a href="#figure-23" class="selfRef">Figure 23</a></figcaption></figure>
</div>
<div id="_2e87ac40-4532-43ff-bf3a-a4bc05ada9ca">
<p id="section-a.1.1-5">A new version of the tools is released at the same time a new version of this document is released.
After this, running the following command in the computerate directory will pull any new version of the tool tar file:<a href="#section-a.1.1-5" class="pilcrow">¶</a></p>
</div>
<div id="_719a1d33-e528-4566-9244-f3b19656fa9e">
<figure id="figure-24">
            <div id="_f6b4d6d5-427d-43a3-89b7-7fc2de55ce0c">
<div class="artwork art-text alignLeft art-ascii-art" id="section-a.1.1-6.1">
<pre>docker run --rm -u $(id -u):$(id -g) \
 -v $(pwd):/computerate computerate/tools dat pull --exit</pre>
</div>
</div>
<figcaption><a href="#figure-24" class="selfRef">Figure 24</a></figcaption></figure>
</div>
<div id="_443ffbdd-1be1-400e-96c0-1751ac695db5">
<p id="section-a.1.1-7">The docker image can then be loaded as above.<a href="#section-a.1.1-7" class="pilcrow">¶</a></p>
</div>
</section>
</div>
</section>
</div>
<div id="_using_the_computerate_command">
<section id="section-a.2">
        <h2 id="name-using-the-computerate-comma">
<a href="#section-a.2" class="section-number selfRef">A.2. </a><a href="#name-using-the-computerate-comma" class="section-name selfRef">Using the <code>computerate</code> Command</a>
        </h2>
<div id="_9361a663-d0ce-4b78-9c2d-318c1b1897fb">
<p id="section-a.2-1">The Docker image main command is <code>computerate</code>, which takes the same parameters as the <code>metanorma</code> command from the Metanorma tooling:<a href="#section-a.2-1" class="pilcrow">¶</a></p>
</div>
<div id="_6e4f9c87-d2e1-41f6-8521-3133abc9e2ce">
<figure id="figure-25">
          <div id="_039884e9-4f2e-4b53-992b-7c64499fa935">
<div class="artwork art-text alignLeft art-ascii-art" id="section-a.2-2.1">
<pre>docker run --rm -u $(id -u):$(id -g) -v $(pwd):/computerate \
  computerate/tools computerate -t ietf -x txt &lt;file&gt;</pre>
</div>
</div>
<figcaption><a href="#figure-25" class="selfRef">Figure 25</a></figcaption></figure>
</div>
<div id="_08b0ae48-f163-439e-91c8-c8e6bbe14abc">
<p id="section-a.2-3">The differences with the <code>metanorma</code> command are:<a href="#section-a.2-3" class="pilcrow">¶</a></p>
</div>
<ul>
<li id="section-a.2-4.1">
            <div id="_4020b54a-ac58-4fe4-bc96-7db861ccd836">
<p id="section-a.2-4.1.1">The <code>computerate</code> command can process Literate Idris files (files with a "lidr" extension, aka lidr files), in addition to AsciiDoc files (files with an "adoc" extension, aka adoc files).
When a lidr file is processed, all embedded code fragments (text between prefix "{`" and suffix "`}") are evaluated in the context of the Idris code contained in this file.
Each code fragment (including the prefix and suffix) are then substituted by the result of that evaluation.<a href="#section-a.2-4.1.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-a.2-4.2">
            <div id="_9e411439-1f70-4932-9e41-a405ab5295dd">
<p id="section-a.2-4.2.1">The <code>computerate</code> command can process included lidr files in the same way.
The embedded code fragments in the imported file are processed in the context of the included lidr file, not in the context of the including file.
Idris modules (either from an idr or lidr file) can be imported the usual way.<a href="#section-a.2-4.2.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-a.2-4.3">
            <div id="_2435b5d9-5907-4500-a77c-9b0b74b6337f">
<p id="section-a.2-4.3.1">The literate code (which is all the text that is starting by a "&gt;" symbol in column 1) in a lidr file will not be part of the rendered document.<a href="#section-a.2-4.3.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-a.2-4.4">
            <div id="_c10f9b14-ca4b-4959-a03d-d24a9dc7e026">
<p id="section-a.2-4.4.1">The computerate command can process transclusions, as explained in <a href="#overview_retro" class="xref">Section 2.2</a>.<a href="#section-a.2-4.4.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-a.2-4.5">
            <div id="_0def477b-e200-4708-adcb-a78200269227">
<p id="section-a.2-4.5.1">Lookup of external references is disabled.
Use either raw XML references or an external directory.<a href="#section-a.2-4.5.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-a.2-4.6">
            <div id="_76651460-3eab-4c3e-8606-7d00a09622ea">
<p id="section-a.2-4.6.1">Instead of generating a file based on the name of the input file, the <code>computerate</code> command generates a file based on the <code>:name:</code> attribute in the header of the document.<a href="#section-a.2-4.6.1" class="pilcrow">¶</a></p>
</div>
</li>
</ul>
<div id="_8d81942f-4f7a-4aa5-9012-47b5875d0af0">
<p id="section-a.2-5">The <code>computerate</code> command can also be used to generate an xmlrfc v3 file, ready for submission to the IETF:<a href="#section-a.2-5" class="pilcrow">¶</a></p>
</div>
<div id="_e649ec10-558b-41e3-8ed7-178725104fad">
<figure id="figure-26">
          <div id="_01f7874f-3325-477b-95e2-c88f65c6e83b">
<div class="artwork art-text alignLeft art-ascii-art" id="section-a.2-6.1">
<pre>docker run --rm -u $(id -u):$(id -g) -v $(pwd):/computerate \
  computerate/tools computerate -t ietf -x rfc &lt;file&gt;</pre>
</div>
</div>
<figcaption><a href="#figure-26" class="selfRef">Figure 26</a></figcaption></figure>
</div>
</section>
</div>
<div id="_using_the_idris_repl">
<section id="section-a.3">
        <h2 id="name-using-the-idris-repl">
<a href="#section-a.3" class="section-number selfRef">A.3. </a><a href="#name-using-the-idris-repl" class="section-name selfRef">Using the Idris REPL</a>
        </h2>
<div id="_9a46fd31-d8e2-4758-8f58-1a940876cd49">
<p id="section-a.3-1">idr and lidr files can be loaded directly in the Idris REPL for debugging:<a href="#section-a.3-1" class="pilcrow">¶</a></p>
</div>
<div id="_9e36cc37-1d86-4213-ad76-181bc775bc99">
<figure id="figure-27">
          <div id="_34d180bc-eaa1-410a-8627-0a6e5bcb1525">
<div class="artwork art-text alignLeft art-ascii-art" id="section-a.3-2.1">
<pre>docker run --rm -it -u $(id -u):$(id -g) -v $(pwd):/computerate \
  computerate/tools idris &lt;lidr-file&gt;</pre>
</div>
</div>
<figcaption><a href="#figure-27" class="selfRef">Figure 27</a></figcaption></figure>
</div>
<div id="_38a3df49-b93d-4d11-8f68-d0c44470c9fa">
<p id="section-a.3-3">It is possible to directly modify the source code in the REPL by entering the <code>:e</code> command, which will load the file in an instance of VIM preconfigured to interact with the REPL.<a href="#section-a.3-3" class="pilcrow">¶</a></p>
</div>
<div id="_9885f63f-1167-4415-9900-5f714207d3c3">
<p id="section-a.3-4">Alternatively the Idris REPL can be started as a server:<a href="#section-a.3-4" class="pilcrow">¶</a></p>
</div>
<div id="_72c84286-6a34-4c3d-963c-3a4ceda7bb8b">
<figure id="figure-28">
          <div id="_0c2a3d80-90ff-4cba-80e1-dfaec75bdc83">
<div class="artwork art-text alignLeft art-ascii-art" id="section-a.3-5.1">
<pre>docker run --rm -it -u $(id -u):$(id -g) -p 127.0.0.1:4294:4294 \
  -v $(pwd):/computerate computerate/tools idris</pre>
</div>
</div>
<figcaption><a href="#figure-28" class="selfRef">Figure 28</a></figcaption></figure>
</div>
<div id="_6931bc4c-b34e-470f-bb17-7ad0428c34cf">
<p id="section-a.3-6">Then if a source file is loaded in a separate console with the VIM instance inside the Docker image, it can interact with the REPL server:<a href="#section-a.3-6" class="pilcrow">¶</a></p>
</div>
<div id="_e84dda39-d3f6-4e75-886d-a64244d7ea57">
<figure id="figure-29">
          <div id="_5c1c17a5-1f2f-4b0f-9751-50d54eee37f9">
<div class="artwork art-text alignLeft art-ascii-art" id="section-a.3-7.1">
<pre>docker run --rm -u $(id -u):$(id -g) --net=host \
  -v $(pwd):/computerate computerate/tools vim &lt;file&gt;</pre>
</div>
</div>
<figcaption><a href="#figure-29" class="selfRef">Figure 29</a></figcaption></figure>
</div>
<div id="_0535f0fe-2cfd-41b3-9b75-5df8f3fe6d72">
<p id="section-a.3-8">Note that both commands must be run from the same directory.<a href="#section-a.3-8" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="_using_other_commands">
<section id="section-a.4">
        <h2 id="name-using-other-commands">
<a href="#section-a.4" class="section-number selfRef">A.4. </a><a href="#name-using-other-commands" class="section-name selfRef">Using Other Commands</a>
        </h2>
<div id="_26b251f3-8e71-4f8f-a688-e6e2aefc9e4e">
<p id="section-a.4-1">For convenience, the docker image provides the latest version of the xml2rfc,
aspell,
and
idnits
tools.<a href="#section-a.4-1" class="pilcrow">¶</a></p>
</div>
<div id="_afca370c-8198-4d79-bc89-8aea7a9e8bdc">
<figure id="figure-30">
          <div id="_9a3846d6-8c0f-4eaa-84f4-e224085e6165">
<div class="artwork art-text alignLeft art-ascii-art" id="section-a.4-2.1">
<pre>docker run --rm -u $(id -u):$(id -g) -v $(pwd):/computerate \
  computerate/tools xml2rfc
docker run --rm -u $(id -u):$(id -g) -v $(pwd):/computerate \
  computerate/tools idnits --help
docker run --rm -u $(id -u):$(id -g) -v $(pwd):/computerate \
  computerate/tools aspell</pre>
</div>
</div>
<figcaption><a href="#figure-30" class="selfRef">Figure 30</a></figcaption></figure>
</div>
<div id="_a3668c4a-5d76-42a0-885a-516ffd0f3d53">
<p id="section-a.4-3">The Docker image also contains a extended version of git that will be used to retrieve the computerate specifications in <a href="#source" class="xref">Appendix B</a>.<a href="#section-a.4-3" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="_bugs_and_workarounds">
<section id="section-a.5">
        <h2 id="name-bugs-and-workarounds">
<a href="#section-a.5" class="section-number selfRef">A.5. </a><a href="#name-bugs-and-workarounds" class="section-name selfRef">Bugs and Workarounds</a>
        </h2>
<ul>
<li id="section-a.5-1.1">
            <div id="_ffb6375a-a2a0-4f68-a7ab-4b8adb99cc0c">
<p id="section-a.5-1.1.1">Errors in embedded code do not stop the process but replace the text by the error message, which can be easily overlooked.<a href="#section-a.5-1.1.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-a.5-1.2">
            <div id="_16d13cd2-bc81-4a2f-8d15-4143966d774d">
<p id="section-a.5-1.2.1">backticks are not escaped in code fragments.<a href="#section-a.5-1.2.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-a.5-1.3">
            <div id="_4299d6bf-9708-4457-94fe-ba2f46ca436c">
<p id="section-a.5-1.3.1">The current version of Docker in Ubuntu fails, but this can be fixed with the following commands:<a href="#section-a.5-1.3.1" class="pilcrow">¶</a></p>
</div>
</li>
</ul>
<div id="_f751399c-71ed-4dc1-945e-8aecf2da46e5">
<figure id="figure-31">
          <div id="_75547cb4-99eb-4b51-8840-c942a0525891">
<div class="artwork art-text alignLeft art-ascii-art" id="section-a.5-2.1">
<pre>sudo apt-get install containerd.io=1.2.6-3
sudo systemctl restart docker.service</pre>
</div>
</div>
<figcaption><a href="#figure-31" class="selfRef">Figure 31</a></figcaption></figure>
</div>
<ul>
<li id="section-a.5-3.1">
            <div id="_80386e96-f1b5-4f5c-b79d-d7a823322425">
<p id="section-a.5-3.1.1">The Asciidoctor processor does not correctly format the output in all cases (e.g. "++").
The escaping can be done in Idris until this is fixed.<a href="#section-a.5-3.1.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-a.5-3.2">
            <div id="_4420a816-66e4-4f78-acfa-ee11fe807e64">
<p id="section-a.5-3.2.1">Sometimes the Idris processing fails with an error "Module needs reloading".
Deleting all the files with the ibc extension will solve that problem.<a href="#section-a.5-3.2.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-a.5-3.3">
            <div id="_c732c044-ffad-4da1-b91d-540baa264e4b">
<p id="section-a.5-3.3.1">Trying to fetch nonexistent new commits on a git repository will block for 12 seconds.<a href="#section-a.5-3.3.1" class="pilcrow">¶</a></p>
</div>
</li>
</ul>
</section>
</div>
<div id="_todo_list">
<section id="section-a.6">
        <h2 id="name-todo-list">
<a href="#section-a.6" class="section-number selfRef">A.6. </a><a href="#name-todo-list" class="section-name selfRef">TODO List</a>
        </h2>
<ul>
<li id="section-a.6-1.1">
            <div id="_ff342227-409e-4b10-bfff-3bc987ef5063">
<p id="section-a.6-1.1.1">Embedded blocks.<a href="#section-a.6-1.1.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-a.6-1.2">
            <div id="_12d40c8a-8e2e-4086-b97c-b9e207505eee">
<p id="section-a.6-1.2.1">Test on Windows.<a href="#section-a.6-1.2.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-a.6-1.3">
            <div id="_84be81de-4452-4aca-b228-60c4f136c77b">
<p id="section-a.6-1.3.1">Using recursive modules with Idris.<a href="#section-a.6-1.3.1" class="pilcrow">¶</a></p>
</div>
</li>
</ul>
</section>
</div>
</section>
</div>
<div id="source">
<section id="section-appendix.b">
      <h2 id="name-computerate-specifications-">
<a href="#section-appendix.b" class="section-number selfRef">Appendix B. </a><a href="#name-computerate-specifications-" class="section-name selfRef">Computerate Specifications Library</a>
      </h2>
<div id="source_install">
<section id="section-b.1">
        <h2 id="name-installation-2">
<a href="#section-b.1" class="section-number selfRef">B.1. </a><a href="#name-installation-2" class="section-name selfRef">Installation</a>
        </h2>
<div id="_3a3693b3-825c-4331-8f32-7edce6395875">
<p id="section-b.1-1">The git repositories that compose the Computerate Specification Library are distributed over a peer-to-peer protocol based on dat.<a href="#section-b.1-1" class="pilcrow">¶</a></p>
</div>
<div id="_885a9f94-0336-4204-8f44-178cb0a081b5">
<p id="section-b.1-2">This requires an extension to git, extension that is already installed in the Docker image described in <a href="#cli" class="xref">Appendix A</a>.
The following command can be used to retrieve a computerate specification:<a href="#section-b.1-2" class="pilcrow">¶</a></p>
</div>
<div id="_7f0abb57-5e0a-40eb-8876-9017263b2e2b">
<figure id="figure-32">
          <div id="_d67c892e-fb38-4084-84da-893b60e7e548">
<div class="artwork art-text alignLeft art-ascii-art" id="section-b.1-3.1">
<pre>docker run --rm -u $(id -u):$(id -g) -v $(pwd):/computerate \
  computerate/tools git clone --recursive dat://&lt;public-key&gt; &lt;name&gt;</pre>
</div>
</div>
<figcaption><a href="#figure-32" class="selfRef">Figure 32</a></figcaption></figure>
</div>
<div id="_dcef577a-afcd-4a4f-92fa-6fef9e8a1f2c">
<p id="section-b.1-4">Here &lt;public-key&gt; is the dat public key for a specific computerate specification and &lt;name&gt; is the recommended name.
Do not use the dat URIs given in <a href="#cli" class="xref">Appendix A</a>, as only the dat public keys listed in <a href="#source_catalog" class="xref">Appendix B.2</a> can be used with a git clone.<a href="#section-b.1-4" class="pilcrow">¶</a></p>
</div>
<div id="_162bb498-1fe1-4171-9369-29a46d36ec58">
<p id="section-b.1-5">Updating the repository also requires using the Docker image:<a href="#section-b.1-5" class="pilcrow">¶</a></p>
</div>
<div id="_48789c10-8773-499d-9dbd-ee0c880309f1">
<figure id="figure-33">
          <div id="_797c8720-94c3-4225-a235-2c8c46726656">
<div class="artwork art-text alignLeft art-ascii-art" id="section-b.1-6.1">
<pre>docker run --rm -u $(id -u):$(id -g) -v $(pwd):/computerate \
  computerate/tools git pull
docker run --rm -u $(id -u):$(id -g) -v $(pwd):/computerate \
  computerate/tools git submodule update</pre>
</div>
</div>
<figcaption><a href="#figure-33" class="selfRef">Figure 33</a></figcaption></figure>
</div>
<div id="_77692f58-2104-4b50-91fb-d01174c4ab32">
<p id="section-b.1-7">All the git commands that do not require access to the remote can be run natively or from the Docker image.<a href="#section-b.1-7" class="pilcrow">¶</a></p>
</div>
<div id="_d89bda2e-3024-4773-9acb-794d2c893e5a">
<p id="section-b.1-8">Note that for the computerate specification library the <code>computerate</code> command must be run from the directory that is one level above the git repository.
The name of the root document is always <code>Main.adoc</code>, or rarely <code>Main.lidr</code>:<a href="#section-b.1-8" class="pilcrow">¶</a></p>
</div>
<div id="_5b972ce3-cd3e-47cc-b671-a245b5ddb753">
<figure id="figure-34">
          <div id="_37b47270-5a6d-4f2d-8de1-26ecf6980283">
<div class="artwork art-text alignLeft art-ascii-art" id="section-b.1-9.1">
<pre>docker run --rm -u $(id -u):$(id -g) -v $(pwd):/computerate \
  computerate/tools computerate -t ietf -x txt \
  &lt;git-repository&gt;/Main.lidr</pre>
</div>
</div>
<figcaption><a href="#figure-34" class="selfRef">Figure 34</a></figcaption></figure>
</div>
</section>
</div>
<div id="source_catalog">
<section id="section-b.2">
        <h2 id="name-catalog">
<a href="#section-b.2" class="section-number selfRef">B.2. </a><a href="#name-catalog" class="section-name selfRef">Catalog</a>
        </h2>
<div id="_ee5d50b7-2841-4849-aa7c-d7bb3cad43d1">
<p id="section-b.2-1">For the time being this document will serve as a catalog of available computerate specifications.<a href="#section-b.2-1" class="pilcrow">¶</a></p>
</div>
<div id="source_catalog_rfc5234">
<section id="section-b.2.1">
          <h3 id="name-rfc-5234">
<a href="#section-b.2.1" class="section-number selfRef">B.2.1. </a><a href="#name-rfc-5234" class="section-name selfRef">RFC 5234</a>
          </h3>
<div id="_c3b33862-d614-4a89-b5ac-5b177127cc43">
<figure id="figure-35">
            <div id="_af45b9e6-457c-45ba-a414-0bb92f29087b">
<div class="artwork art-text alignLeft art-ascii-art" id="section-b.2.1-1.1">
<pre>Name: RFC5234
Public key:
  994e52b29a7bf4f7590b0f0369a7d55d29fb22befd065e462b2185a8207e21f1</pre>
</div>
</div>
<figcaption><a href="#figure-35" class="selfRef">Figure 35</a></figcaption></figure>
</div>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="registries">
<section id="section-appendix.c">
      <h2 id="name-extended-registry">
<a href="#section-appendix.c" class="section-number selfRef">Appendix C. </a><a href="#name-extended-registry" class="section-name selfRef">Extended Registry</a>
      </h2>
<div id="_d575ec01-3910-4d26-8eb3-979c5ace49ff">
<p id="section-appendix.c-1">When a data layout is typechecked, a Type Provider is used to write the data layout in the extended registry.<a href="#section-appendix.c-1" class="pilcrow">¶</a></p>
</div>
<div id="_5773edd1-9144-44d7-a7a0-7f4af338984a">
<figure id="figure-36">
        <div id="_9a5b3f22-9b2f-4246-a78a-7756d42ad16e">
<div class="artwork art-text alignLeft art-ascii-art" id="section-appendix.c-2.1">
<pre>%provide (T : Type) with extendRegistry
 "https://www.iana.org/assignments/cose/cose.xhtml#algorithms"
 "1" Icmp</pre>
</div>
</div>
<figcaption><a href="#figure-36" class="selfRef">Figure 36</a></figcaption></figure>
</div>
<div id="_88720629-cd4a-4225-8cec-9b0288da6f93">
<p id="section-appendix.c-3">The <code>extendRegistry</code> function takes 3 parameters:<a href="#section-appendix.c-3" class="pilcrow">¶</a></p>
</div>
<ul>
<li id="section-appendix.c-4.1">
          <div id="_d1d5234e-1bb8-4c77-97e6-8592fea39315">
<p id="section-appendix.c-4.1.1">The URL or identifier for the registry to extend.<a href="#section-appendix.c-4.1.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-appendix.c-4.2">
          <div id="_7055c650-3e35-4650-8d5c-2813141645bb">
<p id="section-appendix.c-4.2.1">A unique identifier for the entry to extend.
The entry must exist.<a href="#section-appendix.c-4.2.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-appendix.c-4.3">
          <div id="_e02e3a55-8661-47dd-a82c-ae1421e1d623">
<p id="section-appendix.c-4.3.1">The data layout Type to bind with that entry.<a href="#section-appendix.c-4.3.1" class="pilcrow">¶</a></p>
</div>
</li>
</ul>
<div id="_6cdfdbb1-47b7-4f60-8af0-420e3bf86e6b">
<p id="section-appendix.c-5">In the computerate specification that defines a registry, the following code will automatically generates the corresponding Sum type:<a href="#section-appendix.c-5" class="pilcrow">¶</a></p>
</div>
<div id="_e69b07f6-fcb8-4178-bb99-01a91dec1e89">
<figure id="figure-37">
        <div id="_0bd944d9-dcf5-4438-8a78-709acd59af99">
<div class="artwork art-text alignLeft art-ascii-art" id="section-appendix.c-6.1">
<pre>%provide (MyType : Type) with registry
 "https://www.iana.org/assignments/cose/cose.xhtml#algorithms"</pre>
</div>
</div>
<figcaption><a href="#figure-37" class="selfRef">Figure 37</a></figcaption></figure>
</div>
<div id="_aa3788f3-ce32-40c3-bf8d-1ff5ef5263e5">
<p id="section-appendix.c-7">That code will download the current content of the registry identified by the URL passed as parameter, will locate the extended registry, if any, and will generate the Sum type of type MyType.<a href="#section-appendix.c-7" class="pilcrow">¶</a></p>
</div>
<div id="_ecec994e-fca7-4a60-89a6-ebb32906c3b8">
<p id="section-appendix.c-8">The implementations of the <code>extendRegistry</code> and <code>registry</code> functions currently only recognize IANA registries.<a href="#section-appendix.c-8" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="errata">
<section id="section-appendix.d">
      <h2 id="name-errata-statistics">
<a href="#section-appendix.d" class="section-number selfRef">Appendix D. </a><a href="#name-errata-statistics" class="section-name selfRef">Errata Statistics</a>
      </h2>
<div id="_2da4828b-6c12-414b-990e-cdd413407761">
<p id="section-appendix.d-1">In an effort to quantify the potential benefits of using formal methods at the IETF, an effort to relabel the Errata database is under way.<a href="#section-appendix.d-1" class="pilcrow">¶</a></p>
</div>
<div id="_755b6a13-f570-4b9e-99d4-ac74ac89b9cc">
<p id="section-appendix.d-2">The relabeling uses the following labels:<a href="#section-appendix.d-2" class="pilcrow">¶</a></p>
</div>
<div id="_3fa5b553-2e3e-4123-aa6d-e539e83ee9bb">
<table class="center" id="table-1">
        <caption><a href="#table-1" class="selfRef">Table 1</a></caption>
<thead>
          <tr>
            <th class="text-left" rowspan="1" colspan="1">Label</th>
            <th class="text-left" rowspan="1" colspan="1">Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">AAD</td>
            <td class="text-left" rowspan="1" colspan="1">Error in an ASCII bit diagram</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">ABNF</td>
            <td class="text-left" rowspan="1" colspan="1">Error in an ABNF</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">Absent</td>
            <td class="text-left" rowspan="1" colspan="1">The errata was probably removed</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">ASN.1</td>
            <td class="text-left" rowspan="1" colspan="1">Error in ASN.1</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">C</td>
            <td class="text-left" rowspan="1" colspan="1">Error in C code</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">Diagram</td>
            <td class="text-left" rowspan="1" colspan="1">Error in a generic diagram</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">Example</td>
            <td class="text-left" rowspan="1" colspan="1">An example does not match the normative text</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">Formula</td>
            <td class="text-left" rowspan="1" colspan="1">Error preventable by using Idris code</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">Ladder</td>
            <td class="text-left" rowspan="1" colspan="1">Error in a ladder diagram</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">Rejected</td>
            <td class="text-left" rowspan="1" colspan="1">The erratum was rejected</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">Text</td>
            <td class="text-left" rowspan="1" colspan="1">Error in the text itself, no remedy</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">TLS</td>
            <td class="text-left" rowspan="1" colspan="1">Error in the TLS language</td>
          </tr>
        </tbody>
      </table>
</div>
<div id="_4c9c9258-7155-44f8-91d4-aaf8adec058b">
<p id="section-appendix.d-4">At the time of publication the first 700 errata, which represents 11.88% of the total, have been relabeled.
On these, 34 were rejected and 27 were deleted, leaving 639 valid errata.<a href="#section-appendix.d-4" class="pilcrow">¶</a></p>
</div>
<div id="_5b41b58e-66ca-4dcc-b4ee-03a30711af13">
<table class="center" id="table-2">
        <caption><a href="#table-2" class="selfRef">Table 2</a></caption>
<thead>
          <tr>
            <th class="text-left" rowspan="1" colspan="1">Label</th>
            <th class="text-left" rowspan="1" colspan="1">Count</th>
            <th class="text-left" rowspan="1" colspan="1">Percentage</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">Text</td>
            <td class="text-left" rowspan="1" colspan="1">396</td>
            <td class="text-left" rowspan="1" colspan="1">61.97%</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">Formula</td>
            <td class="text-left" rowspan="1" colspan="1">66</td>
            <td class="text-left" rowspan="1" colspan="1">10.32%</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">Example</td>
            <td class="text-left" rowspan="1" colspan="1">64</td>
            <td class="text-left" rowspan="1" colspan="1">10.0%</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">ABNF</td>
            <td class="text-left" rowspan="1" colspan="1">38</td>
            <td class="text-left" rowspan="1" colspan="1">5.94%</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">AAD</td>
            <td class="text-left" rowspan="1" colspan="1">32</td>
            <td class="text-left" rowspan="1" colspan="1">5.00%</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">ASN.1</td>
            <td class="text-left" rowspan="1" colspan="1">27</td>
            <td class="text-left" rowspan="1" colspan="1">4.22%</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">C</td>
            <td class="text-left" rowspan="1" colspan="1">9</td>
            <td class="text-left" rowspan="1" colspan="1">1.40%</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">Diagram</td>
            <td class="text-left" rowspan="1" colspan="1">4</td>
            <td class="text-left" rowspan="1" colspan="1">0.62%</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">TLS</td>
            <td class="text-left" rowspan="1" colspan="1">2</td>
            <td class="text-left" rowspan="1" colspan="1">0.31%</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">Ladder</td>
            <td class="text-left" rowspan="1" colspan="1">1</td>
            <td class="text-left" rowspan="1" colspan="1">0.15%</td>
          </tr>
        </tbody>
      </table>
</div>
<div id="_75ceb945-1458-4636-a5fe-8b1486f3de0e">
<p id="section-appendix.d-6">Note that as the relabeling is done in in order of erratum number, at this point it covers mostly older RFCs.
A change in tooling (e.g. ABNF verifiers) means that these numbers may drastically change as more errata are relabeled.
But at this point it seems that 38.02% of errata could have been prevented with a more pervasive use of formal methods.<a href="#section-appendix.d-6" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="ack">
<section id="section-appendix.e">
      <h2 id="name-acknowledgements">
<a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<div id="_377fd137-8432-442e-9ae0-b2a9345c11d5">
<p id="section-appendix.e-1">Thanks to
Jim Kleck,
Stephane Bryant,
Eric Petit-Huguenin,
Nicolas Gironi,
Stephen McQuistin,
and
Greg Skinner
for the comments, suggestions, questions, and testing that helped improve this document.<a href="#section-appendix.e-1" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="changelog">
<section id="section-appendix.f">
      <h2 id="name-changelog">
<a href="#name-changelog" class="section-name selfRef">Changelog</a>
      </h2>
<ul>
<li id="section-appendix.f-1.1">
          <div id="_a89eca94-c49c-4b66-88fc-d6b417071b18">
<p id="section-appendix.f-1.1.1">draft-petithuguenin-computerate-specifying-03<a href="#section-appendix.f-1.1.1" class="pilcrow">¶</a></p>
</div>
<ul>
<li id="section-appendix.f-1.1.2.1">
              <div id="_60c5cb90-6945-485c-bf72-f2e96d9e7bb4">
<p id="section-appendix.f-1.1.2.1.1">Document<a href="#section-appendix.f-1.1.2.1.1" class="pilcrow">¶</a></p>
</div>
<ul>
<li id="section-appendix.f-1.1.2.1.2.1">
                  <div id="_31cea278-3676-45e0-8544-715fec6f4319">
<p id="section-appendix.f-1.1.2.1.2.1.1">Notes are now correctly displayed.<a href="#section-appendix.f-1.1.2.1.2.1.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-appendix.f-1.1.2.1.2.2">
                  <div id="_ae98225a-f9ce-4a37-93b8-a0e2ad437a46">
<p id="section-appendix.f-1.1.2.1.2.2.1">Add "Implementations Oriented Standards" section.<a href="#section-appendix.f-1.1.2.1.2.2.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-appendix.f-1.1.2.1.2.3">
                  <div id="_f238db80-1918-46a6-add0-bed9610c1f14">
<p id="section-appendix.f-1.1.2.1.2.3.1">Add "Extended Registries" section and appendix.<a href="#section-appendix.f-1.1.2.1.2.3.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-appendix.f-1.1.2.1.2.4">
                  <div id="_4ca9c242-5da5-42e5-9d4f-1934983f55c3">
<p id="section-appendix.f-1.1.2.1.2.4.1">Add paragraph about hierarchical petri nets.<a href="#section-appendix.f-1.1.2.1.2.4.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-appendix.f-1.1.2.1.2.5">
                  <div id="_3a27ea5d-a3ae-432d-92ac-5d694f797615">
<p id="section-appendix.f-1.1.2.1.2.5.1">Convert "Verified Code" section into a top level section, and expand it.<a href="#section-appendix.f-1.1.2.1.2.5.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-appendix.f-1.1.2.1.2.6">
                  <div id="_0210fde3-5dda-4911-b3ac-ff4b3fa07545">
<p id="section-appendix.f-1.1.2.1.2.6.1">Add "Implementation-Oriented Standards" section.<a href="#section-appendix.f-1.1.2.1.2.6.1" class="pilcrow">¶</a></p>
</div>
</li>
</ul>
</li>
<li id="section-appendix.f-1.1.2.2">
              <div id="_91f1d0b3-5e47-4ebf-aefe-cad10b3ffbec">
<p id="section-appendix.f-1.1.2.2.1">Tooling<a href="#section-appendix.f-1.1.2.2.1" class="pilcrow">¶</a></p>
</div>
<ul>
<li id="section-appendix.f-1.1.2.2.2.1">
                  <div id="_cf6eac83-d871-490e-89a6-d427d67c9688">
<p id="section-appendix.f-1.1.2.2.2.1.1">Many bug fixes in metanorma-ietf.<a href="#section-appendix.f-1.1.2.2.2.1.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-appendix.f-1.1.2.2.2.2">
                  <div id="_84b76d6e-736b-4bf6-8c8a-9e7d3144e5db">
<p id="section-appendix.f-1.1.2.2.2.2.1">Update xml2rfc to 2.40.1.<a href="#section-appendix.f-1.1.2.2.2.2.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-appendix.f-1.1.2.2.2.3">
                  <div id="_2aafb2fd-39fc-42a0-887a-a27d76b0b9dd">
<p id="section-appendix.f-1.1.2.2.2.3.1">Rebuilding text for an RFC with xml2rfc now uses pagination.<a href="#section-appendix.f-1.1.2.2.2.3.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-appendix.f-1.1.2.2.2.4">
                  <div id="_c15a55a0-f663-4eb2-ac03-e2820fb856d8">
<p id="section-appendix.f-1.1.2.2.2.4.1">Update metanorma-ietf to version 2.0.5.<a href="#section-appendix.f-1.1.2.2.2.4.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-appendix.f-1.1.2.2.2.5">
                  <div id="_9e05634b-5b1f-4c9f-8983-b810c2f3c7a3">
<p id="section-appendix.f-1.1.2.2.2.5.1">The "computerate" command can directly generate PDF files.<a href="#section-appendix.f-1.1.2.2.2.5.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-appendix.f-1.1.2.2.2.6">
                  <div id="_a9bf1b57-00aa-4fe6-839f-a6a16174e077">
<p id="section-appendix.f-1.1.2.2.2.6.1">Add support in xml2rfc for generating PDF files.<a href="#section-appendix.f-1.1.2.2.2.6.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-appendix.f-1.1.2.2.2.7">
                  <div id="_10469ca8-fae6-49eb-8e27-814a2cf84bd4">
<p id="section-appendix.f-1.1.2.2.2.7.1">Add asciidoctor-revealjs.<a href="#section-appendix.f-1.1.2.2.2.7.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-appendix.f-1.1.2.2.2.8">
                  <div id="_a8a3c32a-6d0e-4c6a-81eb-9a9e1b59dd48">
<p id="section-appendix.f-1.1.2.2.2.8.1">Update metanorma to version 1.0.0.<a href="#section-appendix.f-1.1.2.2.2.8.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-appendix.f-1.1.2.2.2.9">
                  <div id="_1f76ec46-8e66-421f-b6b2-1727e759b30e">
<p id="section-appendix.f-1.1.2.2.2.9.1">Update metanorma-cli to version 1.2.10.1.<a href="#section-appendix.f-1.1.2.2.2.9.1" class="pilcrow">¶</a></p>
</div>
</li>
</ul>
</li>
<li id="section-appendix.f-1.1.2.3">
              <div id="_416c1b85-a0c9-49a5-85ea-2ac1e9b6e20a">
<p id="section-appendix.f-1.1.2.3.1">Library<a href="#section-appendix.f-1.1.2.3.1" class="pilcrow">¶</a></p>
</div>
<ul>
<li id="section-appendix.f-1.1.2.3.2.1">
                  <div id="_153c66e2-fd7e-4c17-8de3-08dd81d57e38">
<p id="section-appendix.f-1.1.2.3.2.1.1">No update<a href="#section-appendix.f-1.1.2.3.2.1.1" class="pilcrow">¶</a></p>
</div>
</li>
</ul>
</li>
</ul>
</li>
<li id="section-appendix.f-1.2">
          <div id="_6c0f5a60-55d0-498e-91a3-447a9d74a9ac">
<p id="section-appendix.f-1.2.1">draft-petithuguenin-computerate-specifying-02<a href="#section-appendix.f-1.2.1" class="pilcrow">¶</a></p>
</div>
<ul>
<li id="section-appendix.f-1.2.2.1">
              <div id="_5409314e-2a29-42e5-a489-5f2a50b3a25c">
<p id="section-appendix.f-1.2.2.1.1">Document<a href="#section-appendix.f-1.2.2.1.1" class="pilcrow">¶</a></p>
</div>
<ul>
<li id="section-appendix.f-1.2.2.1.2.1">
                  <div id="_6626eb54-bc81-4dd3-9c68-39ccc7f548ca">
<p id="section-appendix.f-1.2.2.1.2.1.1">Switch to rfcxml3.<a href="#section-appendix.f-1.2.2.1.2.1.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-appendix.f-1.2.2.1.2.2">
                  <div id="_3f38a796-06e1-4717-93b7-bc8f40637a81">
<p id="section-appendix.f-1.2.2.1.2.2.1">Status is now experimental.<a href="#section-appendix.f-1.2.2.1.2.2.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-appendix.f-1.2.2.1.2.3">
                  <div id="_64186a9a-c818-4429-8dd1-388b51c02ed8">
<p id="section-appendix.f-1.2.2.1.2.3.1">Many nits.<a href="#section-appendix.f-1.2.2.1.2.3.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-appendix.f-1.2.2.1.2.4">
                  <div id="_dfba1264-7b01-4a5b-b404-0181ade33904">
<p id="section-appendix.f-1.2.2.1.2.4.1">Fix incorrect errata stats.<a href="#section-appendix.f-1.2.2.1.2.4.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-appendix.f-1.2.2.1.2.5">
                  <div id="_6545cef4-d71f-4f22-94b5-4d86ac7d1c09">
<p id="section-appendix.f-1.2.2.1.2.5.1">Move acknowledgment section at the end.<a href="#section-appendix.f-1.2.2.1.2.5.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-appendix.f-1.2.2.1.2.6">
                  <div id="_2104e34d-e349-4633-b3b9-f13820035e3b">
<p id="section-appendix.f-1.2.2.1.2.6.1">Rewrite the APHD section (formerly known as AAD) to match draft-mcquistin-augmented-diagrams-01.<a href="#section-appendix.f-1.2.2.1.2.6.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-appendix.f-1.2.2.1.2.7">
                  <div id="_0ac389c6-fea5-46a8-8af6-709722fc2295">
<p id="section-appendix.f-1.2.2.1.2.7.1">Fix non-ascii characters in the references.<a href="#section-appendix.f-1.2.2.1.2.7.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-appendix.f-1.2.2.1.2.8">
                  <div id="_de9aafa2-0e91-4e0a-a9c8-1ae0bd9b19dd">
<p id="section-appendix.f-1.2.2.1.2.8.1">Intermediate AsciiDoc representation for serializers.<a href="#section-appendix.f-1.2.2.1.2.8.1" class="pilcrow">¶</a></p>
</div>
</li>
</ul>
</li>
<li id="section-appendix.f-1.2.2.2">
              <div id="_e1bc5601-7f6f-42f0-a712-d595a515a38b">
<p id="section-appendix.f-1.2.2.2.1">Tooling<a href="#section-appendix.f-1.2.2.2.1" class="pilcrow">¶</a></p>
</div>
<ul>
<li id="section-appendix.f-1.2.2.2.2.1">
                  <div id="_8cf23e14-36d9-42dc-8337-f1834606a06d">
<p id="section-appendix.f-1.2.2.2.2.1.1">xmlrfc3 is now the default extension.<a href="#section-appendix.f-1.2.2.2.2.1.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-appendix.f-1.2.2.2.2.2">
                  <div id="_cbe550c9-0f29-4161-918f-7950cf7177d1">
<p id="section-appendix.f-1.2.2.2.2.2.1">"docName" and "category" attributes are now generated, and the "prepTime" is removed.<a href="#section-appendix.f-1.2.2.2.2.2.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-appendix.f-1.2.2.2.2.3">
                  <div id="_e413f3e4-397f-4e0d-a1b4-46f53188db1f">
<p id="section-appendix.f-1.2.2.2.2.3.1">Update xml2rfc to 2.35.0.<a href="#section-appendix.f-1.2.2.2.2.3.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-appendix.f-1.2.2.2.2.4">
                  <div id="_237703e1-8da5-4358-9701-5a5b59ce5238">
<p id="section-appendix.f-1.2.2.2.2.4.1">Remove LanguageTool.<a href="#section-appendix.f-1.2.2.2.2.4.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-appendix.f-1.2.2.2.2.5">
                  <div id="_171a3a47-eeab-4ad4-b350-3ae9add0082b">
<p id="section-appendix.f-1.2.2.2.2.5.1">Update Metanorma to version 0.3.17.<a href="#section-appendix.f-1.2.2.2.2.5.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-appendix.f-1.2.2.2.2.6">
                  <div id="_c417e1f1-ea42-4e0c-aa5a-8ceb68df36ab">
<p id="section-appendix.f-1.2.2.2.2.6.1">Update Asciidoctor to 2.0.10.<a href="#section-appendix.f-1.2.2.2.2.6.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-appendix.f-1.2.2.2.2.7">
                  <div id="_5fb93976-3ae5-43e2-8a5c-a4b0abc3ccbb">
<p id="section-appendix.f-1.2.2.2.2.7.1">Update list of Working Groups.<a href="#section-appendix.f-1.2.2.2.2.7.1" class="pilcrow">¶</a></p>
</div>
</li>
</ul>
</li>
<li id="section-appendix.f-1.2.2.3">
              <div id="_ac48db92-a581-41d1-82bd-7cb91c9d0196">
<p id="section-appendix.f-1.2.2.3.1">Library<a href="#section-appendix.f-1.2.2.3.1" class="pilcrow">¶</a></p>
</div>
<ul>
<li id="section-appendix.f-1.2.2.3.2.1">
                  <div id="_6300b2d4-114c-4437-965f-e4538b895bad">
<p id="section-appendix.f-1.2.2.3.2.1.1">No update.<a href="#section-appendix.f-1.2.2.3.2.1.1" class="pilcrow">¶</a></p>
</div>
</li>
</ul>
</li>
</ul>
</li>
<li id="section-appendix.f-1.3">
          <div id="_674784a4-87b0-44c7-b344-c4283ff0b478">
<p id="section-appendix.f-1.3.1">draft-petithuguenin-computerate-specifying-01<a href="#section-appendix.f-1.3.1" class="pilcrow">¶</a></p>
</div>
<ul>
<li id="section-appendix.f-1.3.2.1">
              <div id="_b38302c9-b212-4801-a80e-c647c2d8f30b">
<p id="section-appendix.f-1.3.2.1.1">Document<a href="#section-appendix.f-1.3.2.1.1" class="pilcrow">¶</a></p>
</div>
<ul>
<li id="section-appendix.f-1.3.2.1.2.1">
                  <div id="_dcf6ec4c-9fce-4b47-bd44-76567e3fbc31">
<p id="section-appendix.f-1.3.2.1.2.1.1">New changelog appendix.<a href="#section-appendix.f-1.3.2.1.2.1.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-appendix.f-1.3.2.1.2.2">
                  <div id="_639e9c34-c781-446f-a938-918005770152">
<p id="section-appendix.f-1.3.2.1.2.2.1">Fix incorrect reference, formatting in Idris code.<a href="#section-appendix.f-1.3.2.1.2.2.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-appendix.f-1.3.2.1.2.3">
                  <div id="_19687fd0-cadf-4904-9740-0190250ac34a">
<p id="section-appendix.f-1.3.2.1.2.3.1">Add option to remove container in all <code>docker run</code> command.<a href="#section-appendix.f-1.3.2.1.2.3.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-appendix.f-1.3.2.1.2.4">
                  <div id="_dd9fc861-23c0-4d7f-8a14-25c7ca578d29">
<p id="section-appendix.f-1.3.2.1.2.4.1">Add explanations to use the Idris REPL and VIM inside the Docker image.<a href="#section-appendix.f-1.3.2.1.2.4.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-appendix.f-1.3.2.1.2.5">
                  <div id="_5783a1e5-4143-4f3f-ad48-f857f241f374">
<p id="section-appendix.f-1.3.2.1.2.5.1">Add placeholders for ASN.1 and RELAX NG languages.<a href="#section-appendix.f-1.3.2.1.2.5.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-appendix.f-1.3.2.1.2.6">
                  <div id="_4f5ad39a-c3ca-49ea-bf36-4bebc8a770c2">
<p id="section-appendix.f-1.3.2.1.2.6.1">New Errata appendix.<a href="#section-appendix.f-1.3.2.1.2.6.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-appendix.f-1.3.2.1.2.7">
                  <div id="_967efbfe-216b-416b-99c4-642d48ead42b">
<p id="section-appendix.f-1.3.2.1.2.7.1">Nits.<a href="#section-appendix.f-1.3.2.1.2.7.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-appendix.f-1.3.2.1.2.8">
                  <div id="_2ec37bbf-26a1-4354-b753-93ab88abf090">
<p id="section-appendix.f-1.3.2.1.2.8.1">Improve Syntax Examples section.<a href="#section-appendix.f-1.3.2.1.2.8.1" class="pilcrow">¶</a></p>
</div>
</li>
</ul>
</li>
<li id="section-appendix.f-1.3.2.2">
              <div id="_dbecf9f9-275c-4e56-8fef-6d396ba99518">
<p id="section-appendix.f-1.3.2.2.1">Tooling<a href="#section-appendix.f-1.3.2.2.1" class="pilcrow">¶</a></p>
</div>
<ul>
<li id="section-appendix.f-1.3.2.2.2.1">
                  <div id="_af572047-4b9b-42cf-9fe4-2fc17edde0c6">
<p id="section-appendix.f-1.3.2.2.2.1.1">Update Metanorma to version 0.3.16<a href="#section-appendix.f-1.3.2.2.2.1.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-appendix.f-1.3.2.2.2.2">
                  <div id="_1f3b7da7-8dad-4fc7-8db3-561b8765646f">
<p id="section-appendix.f-1.3.2.2.2.2.1">Update MetaNorma-cli to version 1.2.7.1<a href="#section-appendix.f-1.3.2.2.2.2.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-appendix.f-1.3.2.2.2.3">
                  <div id="_2a25c127-beec-44a4-99ac-9da67b5f2409">
<p id="section-appendix.f-1.3.2.2.2.3.1">Switch to patched version of Idris 1.3.2 that supports remote REPL in
Docker.<a href="#section-appendix.f-1.3.2.2.2.3.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-appendix.f-1.3.2.2.2.4">
                  <div id="_d5382781-71fd-45f2-92f7-b3bfe792f90d">
<p id="section-appendix.f-1.3.2.2.2.4.1">Add VIM and idris-vim extension.<a href="#section-appendix.f-1.3.2.2.2.4.1" class="pilcrow">¶</a></p>
</div>
</li>
<li id="section-appendix.f-1.3.2.2.2.5">
                  <div id="_aacbe3af-7c4c-4225-9b26-dec266a335ce">
<p id="section-appendix.f-1.3.2.2.2.5.1">Remove some debug statements.<a href="#section-appendix.f-1.3.2.2.2.5.1" class="pilcrow">¶</a></p>
</div>
</li>
</ul>
</li>
<li id="section-appendix.f-1.3.2.3">
              <div id="_9702d280-3f21-42c1-a957-eb74722c9769">
<p id="section-appendix.f-1.3.2.3.1">Library<a href="#section-appendix.f-1.3.2.3.1" class="pilcrow">¶</a></p>
</div>
<ul>
<li id="section-appendix.f-1.3.2.3.2.1">
                  <div id="_1aa03bf5-820c-44cf-96fb-0ee3bffb21c4">
<p id="section-appendix.f-1.3.2.3.2.1.1">No update<a href="#section-appendix.f-1.3.2.3.2.1.1" class="pilcrow">¶</a></p>
</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</section>
</div>
<div id="authors-addresses">
<section id="section-appendix.g">
      <h2 id="name-authors-address">
<a href="#name-authors-address" class="section-name selfRef">Author's Address</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Marc Petit-Huguenin</span></div>
<div dir="auto" class="left"><span class="org">Impedance Mismatch LLC</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:marc@petit-huguenin.org" class="email">marc@petit-huguenin.org</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
