<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard%20http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>RTCP XR Report Block for Packet Delay Variation Metric Reporting</title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";3
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction">
<link href="#rfc.section.1.1" rel="Chapter" title="1.1 Packet Delay Variation Metrics Block">
<link href="#rfc.section.1.2" rel="Chapter" title="1.2 RTCP and RTCP XR Reports">
<link href="#rfc.section.1.3" rel="Chapter" title="1.3 Performance Metrics Framework">
<link href="#rfc.section.1.4" rel="Chapter" title="1.4 Applicability">
<link href="#rfc.section.2" rel="Chapter" title="2 Definitions">
<link href="#rfc.section.3" rel="Chapter" title="3 Packet Delay Variation Metrics Block">
<link href="#rfc.section.3.1" rel="Chapter" title="3.1 Report Block Structure">
<link href="#rfc.section.3.2" rel="Chapter" title="3.2 Definition of Fields in PDV Metrics Block">
<link href="#rfc.section.3.3" rel="Chapter" title="3.3 Guidance on use of PDV metrics">
<link href="#rfc.section.3.4" rel="Chapter" title="3.4 Examples of use">
<link href="#rfc.section.4" rel="Chapter" title="4 SDP Signaling">
<link href="#rfc.section.5" rel="Chapter" title="5 IANA Considerations">
<link href="#rfc.section.5.1" rel="Chapter" title="5.1 New RTCP XR Block Type value">
<link href="#rfc.section.5.2" rel="Chapter" title="5.2 New RTCP XR SDP Parameter">
<link href="#rfc.section.5.3" rel="Chapter" title="5.3 Contact information for registrations">
<link href="#rfc.section.5.4" rel="Chapter" title="5.4 New registry of PDV types">
<link href="#rfc.section.6" rel="Chapter" title="6 Security Considerations">
<link href="#rfc.references" rel="Chapter" title="7 References">
<link href="#rfc.references.1" rel="Chapter" title="7.1 Normative References">
<link href="#rfc.references.2" rel="Chapter" title="7.2 Informative References">
<link href="#rfc.appendix.Appendix%20A" rel="Chapter" title="Appendix A Change Log">
<link href="#rfc.appendix.Appendix%20A.1" rel="Chapter" title="Appendix A.1 draft-ietf-avt-rtcp-xr-pdv-03">
<link href="#rfc.appendix.Appendix%20A.2" rel="Chapter" title="Appendix A.2 draft-ietf-xrblock-rtcp-xr-pdv-00">
<link href="#rfc.appendix.Appendix%20A.3" rel="Chapter" title="Appendix A.3 draft-ietf-xrblock-rtcp-xr-pdv-01">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content=
  "http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.539, 2011-01-02 17:13:00, XSLT vendor: SAXON 6.5.5 from Michael Kay http://saxon.sf.net/" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />
  <meta name="dct.creator" content="Doe, J." />
  <meta name="dct.identifier" content="urn:ietf:id:draft-sample-input-00" />
  <meta name="dct.issued" scheme="ISO8601" content="2010-12" />
  
  <meta name="dct.abstract" content="This document defines an RTCP XR Report Block that allows the reporting of Packet Delay Variation metrics for a range of RTP applications." />
  <meta name="description" content="This document defines an RTCP XR Report Block that allows the reporting of Packet Delay Variation metrics for a range of RTP applications." />
  <meta name="keywords" content="RFC, Request for Comments, I-D, Internet-Draft, Real Time Control Protocol" />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">Audio/Video Transport Working Group</td>
<td class="right">G. Hunt</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right">Unaffiliated</td>
</tr>
<tr>
<td class="left">Intended status: Standards Track</td>
<td class="right">A. Clark</td>
</tr>
<tr>
<td class="left">Expires: April 30, 2012</td>
<td class="right">Telchemy</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">Q. Wu</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">Huawei</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">October 28, 2011</td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">RTCP XR Report Block for Packet Delay Variation Metric Reporting<br />
  <span class="filename">draft-ietf-xrblock-rtcp-xr-pdv-01.txt</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>This document defines an RTCP XR Report Block that allows the reporting of Packet Delay Variation metrics for a range of RTP applications.</p>
<h1 id="rfc.status"><a href="#rfc.status">Status of this Memo</a></h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet- Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on April 30, 2012.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2011 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a>
</li>
<li>1.1.   <a href="#rfc.section.1.1">Packet Delay Variation Metrics Block</a>
</li>
<li>1.2.   <a href="#rfc.section.1.2">RTCP and RTCP XR Reports</a>
</li>
<li>1.3.   <a href="#rfc.section.1.3">Performance Metrics Framework</a>
</li>
<li>1.4.   <a href="#rfc.section.1.4">Applicability</a>
</li>
<li>2.   <a href="#rfc.section.2">Definitions</a>
</li>
<li>3.   <a href="#rfc.section.3">Packet Delay Variation Metrics Block</a>
</li>
<li>3.1.   <a href="#rfc.section.3.1">Report Block Structure</a>
</li>
<li>3.2.   <a href="#rfc.section.3.2">Definition of Fields in PDV Metrics Block</a>
</li>
<li>3.3.   <a href="#rfc.section.3.3">Guidance on use of PDV metrics</a>
</li>
<li>3.4.   <a href="#rfc.section.3.4">Examples of use</a>
</li>
<li>4.   <a href="#rfc.section.4">SDP Signaling</a>
</li>
<li>5.   <a href="#rfc.section.5">IANA Considerations</a>
</li>
<li>5.1.   <a href="#rfc.section.5.1">New RTCP XR Block Type value</a>
</li>
<li>5.2.   <a href="#rfc.section.5.2">New RTCP XR SDP Parameter</a>
</li>
<li>5.3.   <a href="#rfc.section.5.3">Contact information for registrations</a>
</li>
<li>5.4.   <a href="#rfc.section.5.4">New registry of PDV types</a>
</li>
<li>6.   <a href="#rfc.section.6">Security Considerations</a>
</li>
<li>7.   <a href="#rfc.references">References</a>
</li>
<li>7.1.   <a href="#rfc.references.1">Normative References</a>
</li>
<li>7.2.   <a href="#rfc.references.2">Informative References</a>
</li>
<li>Appendix A.   <a href="#rfc.appendix.Appendix%20A">Change Log</a>
</li>
<li>Appendix A.1.   <a href="#rfc.appendix.Appendix%20A.1">draft-ietf-avt-rtcp-xr-pdv-03</a>
</li>
<li>Appendix A.2.   <a href="#rfc.appendix.Appendix%20A.2">draft-ietf-xrblock-rtcp-xr-pdv-00</a>
</li>
<li>Appendix A.3.   <a href="#rfc.appendix.Appendix%20A.3">draft-ietf-xrblock-rtcp-xr-pdv-01</a>
</li>
<li><a href="#rfc.authors">Authors' Addresses</a>
</li>


  </ul>

  <h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> <a href="#intro" id="intro">Introduction</a>
</h1>
<h1 id="rfc.section.1.1">
<a href="#rfc.section.1.1">1.1.</a> Packet Delay Variation Metrics Block</h1>
<p id="rfc.section.1.1.p.1">This draft defines a new block type to augment those defined in <a href="#RFC3611">[RFC3611]</a>, for use in a range of RTP applications.</p>
<p id="rfc.section.1.1.p.2">The new block type provides information on Packet Delay Variation using one of several standard metrics.</p>
<p id="rfc.section.1.1.p.3">The metrics belong to the class of transport metrics defined in <a href="#MONARCH">[MONARCH]</a> (work in progress).</p>
<h1 id="rfc.section.1.2">
<a href="#rfc.section.1.2">1.2.</a> RTCP and RTCP XR Reports</h1>
<p id="rfc.section.1.2.p.1">The use of RTCP for reporting is defined in <a href="#RFC3550">[RFC3550]</a>. <a href="#RFC3611">[RFC3611]</a> defined an extensible structure for reporting using an RTCP Extended Report (XR).  This draft defines a new Extended Report block that MUST be used in accordance with <a href="#RFC3550">[RFC3550]</a> and <a href="#RFC3611">[RFC3611]</a>.</p>
<h1 id="rfc.section.1.3">
<a href="#rfc.section.1.3">1.3.</a> Performance Metrics Framework</h1>
<p id="rfc.section.1.3.p.1">The Performance Metrics Framework <a href="#PMOLFRAME">[PMOLFRAME]</a> provides guidance on the definition and specification of performance metrics. Metrics described in this draft either reference external definitions or define metrics generally in accordance with the guidelines in <a href="#PMOLFRAME">[PMOLFRAME]</a>.</p>
<h1 id="rfc.section.1.4">
<a href="#rfc.section.1.4">1.4.</a> Applicability</h1>
<p id="rfc.section.1.4.p.1">These metrics are applicable to a range of RTP applications.</p>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> Definitions</h1>
<p id="rfc.section.2.p.1">This report block makes use of binary fractions. The terminology used is </p>

<ul class="empty"><li>Numeric formats S X:Y<ul class="empty">
<li>where S indicates a two's complement signed representation, X the number of bits prior to the decimal place and Y the number of bits after the decimal place.</li>
<li>Hence 8:8 represents an unsigned number in the range 0.0 to 255.996 with a granularity of 0.0039. S7:8 would represent the range -127.996 to +127.996. 0:16 represents a proper binary fraction with range</li>
<li>0.0 to 1 - 1/65536 = 0.9999847</li>
<li>though note that use of flag values at the top of the numeric range slightly reduces this upper limit. For example, if the 16- bit values 0xfffe and 0xffff are used as flags for "over-range" and "unavailable" conditions, a 0:16 quantity has range</li>
<li>0.0 to 1 - 3/65536 = 0.9999542</li>
</ul>
</li></ul>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> Packet Delay Variation Metrics Block</h1>
<p id="rfc.section.3.p.1">Metrics in this block report on packet delay variation in the stream arriving at the RTP system.</p>
<h1 id="rfc.section.3.1">
<a href="#rfc.section.3.1">3.1.</a> Report Block Structure</h1>
<div id="#rfc.figure.1"></div>
<pre>
       0               1               2               3
       0 1 2 3 4 5 6 7 0 1 2 3 4 5 6 7 0 1 2 3 4 5 6 7 0 1 2 3 4 5 6 7
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |     BT=NPDV   |I|pdvtyp | Rsv.|       block length=3          |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                        SSRC of Source                         |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |    Pos PDV Threshold/Peak     |     Pos PDV Percentile        |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |    Neg PDV Threshold/Peak     |     Neg PDV Percentile        |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |          Mean PDV             |            unused             |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
<p id="rfc.section.3.1.p.1">PDV metrics block</p>
<h1 id="rfc.section.3.2">
<a href="#rfc.section.3.2">3.2.</a> Definition of Fields in PDV Metrics Block</h1>
<p></p>

<dl>
<dt>Block type (BT): 8 bits</dt>
<dd style="margin-left: 8">
<br><br> A Packet Delay Variation Metrics Report Block is identified by the constant NPDV.<br><br>[Note to RFC Editor: please replace NPDV with the IANA provided RTCP XR block type for this block.]<br><br>
</dd>
<dt>Interval Metric flag (I): 1 bit</dt>
<dd style="margin-left: 8">
<br><br> This field is used to indicate whether the Packet Delay Variation metrics block is an Interval or a Cumulative report, that is, whether the reported values apply to the most recent measurement interval duration between successive metrics reports (I=1) (the Interval Duration) or to the accumulation period characteristic of cumulative measurements (I=0) (the Cumulative Duration). <br><br>
</dd>
<dt>Packet Delay Variation Metric Type (pdvtyp): 4 bits</dt>
<dd style="margin-left: 8">
<br><br>This field is used to identify the Packet Delay Variation Metric Type used in this report block, according to the following code:<br><br><ul class="empty"><li>bits 014-017<ul class="empty">
<li>0: interarrival jitter, Section 6.4.1 of <a href="#RFC3550">[RFC3550]</a>,</li>
<li>1: MAPDV2, Clause 6.2.3.2 of <a href="#G.1020">[G.1020]</a>,</li>
<li>2: 2-point PDV, Clause 6.2.4 of <a href="#Y.1540">[Y.1540]</a>.</li>
</ul>
</li></ul>
<br><br>
</dd>
<dt>Rsv.: 3 bits</dt>
<dd style="margin-left: 8">
<br><br>This field is reserved for future definition. In the absence of such a definition, the bits in this field MUST be set to zero and MUST be ignored by the receiver. <br><br>
</dd>
<dt>Block Length: 16 bits</dt>
<dd style="margin-left: 8">
<br><br>The length of this report block in 32-bit words, minus one. For the Packet Delay Variation Metrics block, the block length is equal to 3.<br><br>
</dd>
<dt>SSRC of source: 32 bits</dt>
<dd style="margin-left: 8">
<br><br> As defined in Section 4.1 of <a href="#RFC3611">[RFC3611]</a>. <br><br>
</dd>
<dt>Positive PDV Threshold/Peak: 16 bits</dt>
<dd style="margin-left: 8">
<br><br>This field is associated with the Positive PDV percentile and expressed in Milliseconds with numeric format S11:4. The term Positive represents that the packets are arriving later than the expected time. <br><br> If the measured value is more negative than -2047.9375 (the value which would be coded as 0x8001), the value 0x8000 SHOULD be reported to indicate an over-range negative measurement. If the measured value is more positive than +2047.8125 (the value which would be coded as 0x7FFD), the value 0x7FFE SHOULD be reported to indicate an over-range positive measurement. If the measurement is unavailable, the value 0x7FFF SHOULD be reported.<br><br>
</dd>
<dt>Positive PDV Percentile: 16 bits</dt>
<dd style="margin-left: 8">
<br><br>The percentages of packets in the RTP stream for which individual packet delays were less than the Positive PDV Threshold. It is expressed in numeric format 8:8 with values from 0 to 100th percentile. <br><br> If the measurement is unavailable, the value 0xFFFF SHOULD be reported.<br><br>
</dd>
<dt>Negative PDV Threshold/Peak: 16 bits</dt>
<dd style="margin-left: 8">
<br><br>This field is associated with the Negative PDV percentile and expressed in Milliseconds with numeric format S11:4. The term Negative represents that the packets are arriving earlier than the expected time. <br><br>If the measured value is more negative than -2047.9375 (the value which would be coded as 0x8001), the value 0x8000 SHOULD be reported to indicate an over-range negative measurement. If the measured value is more positive than +2047.8125 (the value which would be coded as 0x7FFD), the value 0x7FFE SHOULD be reported to indicate an over-range positive measurement. If the measurement is unavailable, the value 0x7FFF SHOULD be reported.<br><br>
</dd>
<dt>Negative PDV Percentile: 16 bits</dt>
<dd style="margin-left: 8">
<br><br>The percentages of packets in the RTP stream for which individual packet delays were more than the Negative PDV Threshold. It is expressed in numeric format 8:8 with values from 0 to 100th percentile. <br><br> If the measurement is unavailable, the value 0xFFFF SHOULD be reported.<br><br>If the PDV Type indicated is 2-point PDV and the Positive and Negative PDV Percentiles are set to 100.0 then the Positive and Negative Threshold/Peak PDV values are the peak values measured during the reporting interval (which may be from the start of the call for cumulative reports). In this case, the difference between the Positive and Negative Threshold/Peak values defines the range of 2-point PDV.<br><br>
</dd>
<dt>Mean PDV: 16 bits</dt>
<dd style="margin-left: 8">
<br><br>The mean PDV value of data packets is expressed in milliseconds with Numeric format S11:4 format.<br><br> For MAPDV2 this value is generated according to Clause 6.2.3.2 of [G.1020].  For interval reports the MAPDV2 value is reset at the start of the interval.<br><br> For interarrival jitter, the value reported is the value of J(i) calculated according to [RFC3550] at the time the report is generated.<br><br> For 2-point PDV, the value reported is the mean of per-packet 2-point PDV values. This metric indicates the arrival time of the first media packet of the session with respect to the mean of the arrival times of every packet of the session. A single value of the metric (for a single session) may not be useful by itself, but its average over a number of sessions may be useful in diagnosing media delay at session startup. For example, this might occur if media packets are often delayed behind signalling packets due to head-of-line blocking.<br><br> If the measured value is more negative than -2047.9375 (the value which would be coded as 0x8001), the value 0x8000 SHOULD be reported to indicate an over-range negative measurement. If the measured value is more positive than +2047.8125 (the value which would be coded as 0x7FFD), the value 0x7FFE SHOULD be reported to indicate an over-range positive measurement. If the measurement is unavailable, the value 0x7FFF SHOULD be reported.<br><br>
</dd>
<dt>Unused: 16 bits</dt>
<dd style="margin-left: 8">
<br><br> These bits are unused. They SHOULD be set to zero by the sender and MUST be ignored by the receiver.<br><br>
</dd>
</dl>
<h1 id="rfc.section.3.3">
<a href="#rfc.section.3.3">3.3.</a> Guidance on use of PDV metrics</h1>
<p id="rfc.section.3.3.p.1">This subsection provides informative guidance on when it might be appropriate to use each of the PDV metric types.</p>
<p id="rfc.section.3.3.p.2">Interarrival jitter (Section 6.4.1 of <a href="#RFC3550">[RFC3550]</a>) allows comparison of results with those from RTP end systems which support only RTCP as defined in <a href="#RFC3550">[RFC3550]</a>.</p>
<p id="rfc.section.3.3.p.3">MAPDV2 (Clause 6.2.3.2 of <a href="#G.1020">[G.1020]</a>) compares instantaneous (per- packet) delay variation against a moving average delay variation. This metric could be useful in determining residual impairment when an RTP end system uses an adaptive de-jitter buffer which tracks the average delay variation, provided the adaptive de-jitter buffer have similar averaging behaviour as the MAPDV2 algorithm.</p>
<p id="rfc.section.3.3.p.4">2-point PDV (Clause 6.2.4 of <a href="#Y.1540">[Y.1540]</a>) reports absolute packet delay variation with respect to the time of arrival of the first packet of the connection. In an RTP context, the two "points" are at the sender (the synchronization source which applies RTP timestamps) and at the receiver. The value of this metric for the packet with index j is identical to the quantity D(i,j) defined in Section 6.4.1 of <a href="#RFC3550">[RFC3550]</a> if the packet index i is set equal to 1, that is, the reference packet for the metric is the first packet of the connection. The metric includes the effect of the frequency offsets of clocks in both the sender and receiver end systems, so it is useful mainly in network where synchronisation is distributed. As well as measuring packet delay variation in such networks, it may be used to ensure that synchronisation is effective, for example where the network carries ISDN data traffic over RTP <a href="#RFC4040">[RFC4040]</a>. The metric is likely to be useful in networks which use fixed de-jitter buffering, because it may be used to determine the length of the required de-jitter buffer, or to determine if network performance has deteriorated such that existing de-jitter buffers are too small to accommodate the observed delay variation.</p>
<h1 id="rfc.section.3.4">
<a href="#rfc.section.3.4">3.4.</a> Examples of use</h1>
<p></p>

<ul class="empty">
<li>(a) To report interarrival jitter <a href="#RFC3550">[RFC3550]</a>:<ul class="empty">
<li>PDV Threshold = FFFF (Undefined); PDV Percentile = FFFF (Undefined); PDV type = 0 (interarrival jitter)</li>
<li>causes interarrival jitter to be reported in the Mean PDV field.</li>
</ul>
</li>
<li>(b) To report MAPDV2 <a href="#G.1020">[G.1020]</a>:<ul class="empty">
<li>Pos PDV Threshold = 50.0; Pos PDV Percentile = 95.3; Neg PDV Threshold = 50.0 (note this implies -50ms); Neg PDV Percentile = 98.4; PDV type = 1 (MAPDV2)</li>
<li>causes average MAPDV2 to be reported in the Mean PDV field.</li>
<li>Note that implementations may either fix the reported percentile and calculate the associated PDV level or may fix a threshold PDV level and calculate the associated percentile.  From a practical implementation perspective it is simpler to use the second of these approaches (except of course in the extreme case of a 100% percentile).</li>
<li>2-point PDV, according to <a href="#Y.1540">[Y.1540]</a> is the difference in delay between the current packet and the first packet of the stream. If the sending and receiving clocks are not synchronized, this metric includes the effect of relative timing drift.</li>
</ul>
</li>
</ul>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> SDP Signaling</h1>
<p id="rfc.section.4.p.1">[RFC3611] defines the use of SDP (Session Description Protocol) <a href="#RFC4566">[RFC4566]</a> for signaling the use of XR blocks. XR blocks MAY be used without prior signaling.</p>
<div id="#rfc.figure.2"></div>
<pre>
   rtcp-xr-attrib = "a=" "rtcp-xr" ":" [xr-format *(SP xr-format)] CRLF

   (defined in [RFC3611])

   xr-format =/ xr-pdv-block

   xr-pdv-block  = "pkt-dly-var" [ "," pdvtype ] [ "," nspec "," pspec ]


        pdvtype     = "pdv="    0      ; interarrival jitter  RFC 3550
                              / 1      ; MAPDV2 ITU-T G.1020
                              / 2      ; 2-point PDV ITU-T Y.1540
        nspec       = "nthr=" fixpoint     ; negative PDV threshold (ms)
                    / "npc=" fixpoint    ; negative PDV percentile
        pspec       = "pthr=" fixpoint     ; positive PDV threshold (ms)
                    / "ppc=" fixpoint    ; positive PDV percentile


        fixpoint       = 1*DIGIT "." 1*DIGIT  ; fixed point decimal
        DIGIT          = %x30-39
</pre>
<p id="rfc.section.4.p.2">This section augments the SDP <a href="#RFC4566">[RFC4566]</a> attribute "rtcp-xr" defined in <a href="#RFC3611">[RFC3611]</a> by providing an additional value of "xr-format" to signal the use of the report block defined in this document.</p>
<p id="rfc.section.4.p.3">When SDP is used in offer-answer, a system sending SDP may request a specific type of PDV measurement. In addition, they may state a specific percentile or threshold value, and expect to receive the corresponding threshold or percentile metric, respectively. The system receiving the SDP SHOULD send the PDV metrics requested, but if the metric is not available, the system receiving the SDP SHOULD send the metric block with the flag value indicating that the metric is unavailable.</p>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> IANA Considerations</h1>
<p id="rfc.section.5.p.1">New block types for RTCP XR are subject to IANA registration. For general guidelines on IANA considerations for RTCP XR, refer to <a href="#RFC3611">[RFC3611]</a>.</p>
<h1 id="rfc.section.5.1">
<a href="#rfc.section.5.1">5.1.</a> New RTCP XR Block Type value</h1>
<p id="rfc.section.5.1.p.1">This document assigns the block type value NPDV in the IANA "RTCP XR Block Type Registry" to the "Packet Delay Variation Metrics Block".</p>
<p id="rfc.section.5.1.p.2">[Note to RFC Editor: please replace NPDV with the IANA provided RTCP XR block type for this block.]</p>
<h1 id="rfc.section.5.2">
<a href="#rfc.section.5.2">5.2.</a> New RTCP XR SDP Parameter</h1>
<p id="rfc.section.5.2.p.1">This document also registers a new parameter "pkt-dly-var" in the "RTCP XR SDP Parameters Registry".</p>
<h1 id="rfc.section.5.3">
<a href="#rfc.section.5.3">5.3.</a> Contact information for registrations</h1>
<div id="#rfc.figure.3"></div>
<pre>
   The contact information for the registrations is:
   
   Qin Wu (sunseawq@huawei.com)

   101 Software Avenue, Yuhua District
   Nanjing, Jiangsu  210012
   China

</pre>
<p><br><br></p>
<h1 id="rfc.section.5.4">
<a href="#rfc.section.5.4">5.4.</a> New registry of PDV types</h1>
<p id="rfc.section.5.4.p.1">This document creates a new registry to be called "RTCP XR PDV block - PDV type" as a sub-registry of the "RTP Control Protocol Extended Reports (RTCP XR) Block Type Registry". Policies for this new registry are as follows:</p>

<ul>
<li>The information required to support an assignment is an unambiguous definition of the new metric, covering the base measurements and how they are processed to generate the reported metric. This should include the units of measurement, how values of the metric are reported in the three 16-bit fields "Pos PDV Threshold/Peak", "Neg PDV Threshold/Peak" and "Mean PDV" within the report block, and how the metric uses the two 16-bit fields "Pos PDV Percentile" and "Neg PDV Percentile".</li>
<li>The review process for the registry is "Specification Required" as described in Section 4.1 of <a href="#RFC5226">[RFC5226]</a>.</li>
<li>Entries in the registry are integers. The valid range is 0 to 15 corresponding to the 4-bit field "pdvtyp" in the block. Values are to be recorded in decimal.</li>
<li>Initial assignments are as follows:<ol>
<li>interarrival jitter, Section 6.4.1 of <a href="#RFC3550">[RFC3550]</a>,</li>
<li>MAPDV2, Clause 6.2.3.2 of <a href="#G.1020">[G.1020]</a>,</li>
<li>2-point PDV, Clause 6.2.4 of <a href="#Y.1540">[Y.1540]</a>
</li>
</ol>
</li>
</ul>
<h1 id="rfc.section.6">
<a href="#rfc.section.6">6.</a> Security Considerations</h1>
<p id="rfc.section.6.p.1">It is believed that this proposed RTCP XR report block introduces no new security considerations beyond those described in <a href="#RFC3611">[RFC3611]</a>. This block does not provide per-packet statistics so the risk to confidentiality documented in Section 7, paragraph 3 of <a href="#RFC3611">[RFC3611]</a> does not apply.</p>
<h1 id="rfc.references">
<a href="#rfc.references">7.</a> References</h1>
<h1 id="rfc.references.1">
<a href="#rfc.references.1">7.1.</a> Normative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="G.1020">[G.1020]</b></td>
<td class="top">
<a title="ITU-T">, </a>, "<a>ITU-T Rec. G.1020, Performance parameter definitions for quality of speech and other voiceband applications utilizing IP networks</a>", July 2006.</td>
</tr>
<tr>
<td class="reference"><b id="RFC2119">[RFC2119]</b></td>
<td class="top">
<a href="mailto:sob@harvard.edu" title="Harvard University">Bradner, S.</a>, "<a>Key words for use in RFCs to Indicate Requirement Levels</a>", March 1997.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3611">[RFC3611]</b></td>
<td class="top">
<a>Friedman, T.</a>, <a>Caceres, R.</a> and <a>A. Clark</a>, "<a>RTP Control Protocol Extended Reports (RTCP XR)</a>", November 2003.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4566">[RFC4566]</b></td>
<td class="top">
<a>Handley, M.</a>, <a>Jacobson, V.</a> and <a>C. Perkins</a>, "<a>SDP: Session Description Protocol</a>", July 2006.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3550">[RFC3550]</b></td>
<td class="top">
<a title="Columbia University">Schulzrinne, H.</a>, "<a href="http://tools.ietf.org/html/rfc3550">RTP: A Transport Protocol for Real-Time Applications</a>", RFC 3550, July 2003.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4040">[RFC4040]</b></td>
<td class="top">
<a>Kreuter, R.</a>, "<a>RTP Payload Format for a 64 kbit/s Transparent Call</a>", April 2005.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5226">[RFC5226]</b></td>
<td class="top">
<a>Narten, T.</a>, "<a>Guidelines for Writing an IANA Considerations Section in RFCs</a>", May 2008.<p>BCP 26</p>
</td>
</tr>
<tr>
<td class="reference"><b id="Y.1540">[Y.1540]</b></td>
<td class="top">
<a title="ITU-T">, </a>, "<a>ITU-T Rec. Y.1540, IP packet transfer and availability performance parameters</a>", November 2007.</td>
</tr>
</tbody></table>
<h1 id="rfc.references.2">
<a href="#rfc.references.2">7.2.</a> Informative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="MONARCH">[MONARCH]</b></td>
<td class="top">
<a>Hunt, G.</a>, "<a>Monitoring Architectures for RTP</a>", ID draft-ietf-avtcore-monarch-04, August 2011.</td>
</tr>
<tr>
<td class="reference"><b id="PMOLFRAME">[PMOLFRAME]</b></td>
<td class="top">
<a>Clark, A.</a> and <a>B. Claise</a>, "<a>Framework for Performance Metric Development</a>", ID draft-ietf-pmol-metrics-framework-12, July 2011.</td>
</tr>
</tbody></table>
<h1 id="rfc.appendix.Appendix A">
<a href="#rfc.appendix.Appendix%20A">Appendix A.</a> Change Log</h1>
<p id="rfc.section.Appendix A.p.1">Note to the RFC-Editor: please remove this section prior to publication as an RFC.</p>
<h1 id="rfc.appendix.Appendix A.1">
<a href="#rfc.appendix.Appendix%20A.1">Appendix A.1.</a> draft-ietf-avt-rtcp-xr-pdv-03</h1>
<p id="rfc.section.Appendix A.1.p.1">The following are the major changes to previous version : </p>

<ul>
<li>Changed BNF for SDP following Christian Groves' and Tom Taylor's comments (4th and 5th May 2009).</li>
<li>Updated references.</li>
</ul>
<h1 id="rfc.appendix.Appendix A.2">
<a href="#rfc.appendix.Appendix%20A.2">Appendix A.2.</a> draft-ietf-xrblock-rtcp-xr-pdv-00</h1>
<p id="rfc.section.Appendix A.2.p.1">The following are the major changes to previous version draft-ietf-avt-rtcp-xr-pdv-03 : </p>

<ul><li>Updated references.</li></ul>
<h1 id="rfc.appendix.Appendix A.3">
<a href="#rfc.appendix.Appendix%20A.3">Appendix A.3.</a> draft-ietf-xrblock-rtcp-xr-pdv-01</h1>
<p id="rfc.section.Appendix A.3.p.1">The following are the major changes to previous version draft-ietf-xrblock-rtcp-xr-pdv-00 : </p>

<ul>
<li>Fix typos or nits in the definition of Negative PDV Threshold/Peak.</li>
<li>Fix nits in Numeric format S7:8.</li>
<li>remove the text that is relevant to tag field.</li>
<li>Add text in SDP signaling section to clarify indicationof metric unavailable.</li>
</ul>
<h1 id="rfc.authors"><a href="#rfc.authors">Authors' Addresses</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Geoff Hunt</span> 
	  <span class="n hidden">
		<span class="family-name">Hunt</span>
	  </span>
	</span>
	<span class="org vcardline">Unaffiliated</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:r.geoff.hunt@gmail.com">r.geoff.hunt@gmail.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Alan Clark</span> 
	  <span class="n hidden">
		<span class="family-name">Clark</span>
	  </span>
	</span>
	<span class="org vcardline">Telchemy Incorporated</span>
	<span class="adr">
	  <span>2905 Premiere Parkway, Suite 280</span>

	  <span class="vcardline">
		<span class="locality">Duluth</span>,  
		<span class="region">GA</span> 
		<span class="code">30097</span>
	  </span>
	  <span class="country-name vcardline">USA</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:alan.d.clark@telchemy.com">alan.d.clark@telchemy.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Qin Wu</span> 
	  <span class="n hidden">
		<span class="family-name">Wu</span>
	  </span>
	</span>
	<span class="org vcardline">Huawei</span>
	<span class="adr">
	  <span>101 Software Avenue, Yuhua District</span>

	  <span class="vcardline">
		<span class="locality">Nanjing</span>,  
		<span class="region">Jiangsu</span> 
		<span class="code">210012</span>
	  </span>
	  <span class="country-name vcardline">China</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:sunseawq@huawei.com">sunseawq@huawei.com</a></span>

  </address>
</div>

</body>
</html>