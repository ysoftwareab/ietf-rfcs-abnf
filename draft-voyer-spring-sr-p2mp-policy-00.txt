



Network Working Group                                      D. Voyer, Ed.
Internet-Draft                                                 C. Hassen
Intended status: Standards Track                               K. Gillis
Expires: December 31, 2018                                   Bell Canada
                                                             C. Filsfils
                                                        A. Venkateswaran
                                                     Cisco Systems, Inc.
                                                           June 29, 2018


            SR Replication Policy for P2MP Service Delivery
                  draft-voyer-spring-sr-p2mp-policy-00

Abstract

   This document describes the SR policy architecture for P2MP service
   delivery.

Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on December 31, 2018.

Copyright Notice

   Copyright (c) 2018 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents



Voyer, et al.           Expires December 31, 2018               [Page 1]

Internet-Draft         P2MP SR Replication Policy              June 2018


   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  SR Replication Policy . . . . . . . . . . . . . . . . . . . .   2
   3.  Spray SR Policy . . . . . . . . . . . . . . . . . . . . . . .   3
   4.  TreeSID - Controller Instantiated SR Tree . . . . . . . . . .   3
   5.  Illustration  . . . . . . . . . . . . . . . . . . . . . . . .   4
   6.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   4
   7.  Security Considerations . . . . . . . . . . . . . . . . . . .   4
   8.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   4
   9.  Contributors  . . . . . . . . . . . . . . . . . . . . . . . .   4
   10. Normative References  . . . . . . . . . . . . . . . . . . . .   4
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   4

1.  Introduction

   The document defines a variant of the SR Policy [I-D.  ietf-spring-
   segment-routing-policy] which allows for replication for supporting
   point-to-multi-point service delivery.  We call it an SR Replication
   Policy.

   We illustrate its use in two use-cases known as Spray and TreeSID.

   Spray uses an SR Replication Policy to replicate a packet, at a given
   node, along N SR paths to a set of leaf nodes.

   In the TreeSID use-case, a controller computes a tree from a root to
   a set of leaves and then programs each replication node of the tree
   with an SR Replication Policy.

2.  SR Replication Policy

   This section is similar to section 2 of SR Policy draft
   [I-D.ietf-spring-segment-routing-policy] and holds information that
   applies equally to the Spray and TreeSID use-cases.

   The SR Replication policy is a variant of an SR policy
   [I-D.ietf-spring-segment-routing-policy], which provides packet
   replication.  A SR Replication Policy is identified through the tuple
   <headend, color>.



Voyer, et al.           Expires December 31, 2018               [Page 2]

Internet-Draft         P2MP SR Replication Policy              June 2018


   A SR Replication may comprise of multiple candidate paths.  A
   candidate path is valid when all its SID-Lists are valid.  The active
   candidate path is selected based on the tiebreaking rules amongst the
   valid candidate-paths.

   Each SID-List is additionally identified by a endpoint where its SR
   path terminates.  The endpoint could be the actual leaf of a P2MP
   service delivery tree or it could be the headend of another SR
   Replication Policy.

   Any traffic steered into a SR Replication Policy is replicated along
   the SID-Lists of its selected path towards the Leaf node.

   In the context of a SR Replication Policy, the selected path MAY have
   more than one SID-List.  The weights of the SID-Lists is not
   applicable for a SR Replication Policy.  They MUST be set to 1.

   Like any SR policy, a SR Replication Policy has a BSID
   [I-D.ietf-spring-segment-routing-policy] instantiated into the
   forwarding plane.

   A SR replication policy can be provisioned either locally or setup
   via controller.

   Traffic is steered into a SR Replication Policy in two ways

   o  Based on a local policy-based routing at the Root node.

   o  Based on remote classification and steering via the BSID of the SR
      Replication Policy.

3.  Spray SR Policy

   This is a use-case of the SR Replication Policy in which packet
   replication occurs only at the Root node.  A Spray SR Replication
   policy is instantiated only at the Root node.

   A packet, using this approach, is replicated directly to each Leaf
   node via a segment routed path from the Root to a given Leaf node.

4.  TreeSID - Controller Instantiated SR Tree

   This is a use-case of the SR Replication policy in which packet
   replication occurs at the Root node and on some downstream branch
   points towards the Leaf node.






Voyer, et al.           Expires December 31, 2018               [Page 3]

Internet-Draft         P2MP SR Replication Policy              June 2018


   A SR Replication policy instantiated on the Root node takes a packet
   from the Root node to a set of branch points towards the Leaf node.
   A branch point MAY also be a Leaf node.

   Another SR Replication policy instantiated at each of these branch
   points take the packet down further to other branch points or Leaf
   nodes.

5.  Illustration

   TBD

6.  IANA Considerations

   This document makes no request of IANA.

7.  Security Considerations

   There are no additional security risks introduced by this design.

8.  Acknowledgements

9.  Contributors

10.  Normative References

   [I-D.ietf-spring-segment-routing-policy]
              Filsfils, C., Sivabalan, S., daniel.voyer@bell.ca, d.,
              bogdanov@google.com, b., and P. Mattes, "Segment Routing
              Policy Architecture", draft-ietf-spring-segment-routing-
              policy-01 (work in progress), June 2018.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.

Authors' Addresses

   Daniel Voyer (editor)
   Bell Canada
   Montreal
   CA

   Email: daniel.voyer@bell.ca






Voyer, et al.           Expires December 31, 2018               [Page 4]

Internet-Draft         P2MP SR Replication Policy              June 2018


   Clayton Hassen
   Bell Canada
   Vancouver
   CA

   Email: clayton.hassen@bell.ca


   Kurtis Gillis
   Bell Canada
   Halifax
   CA

   Email: kurtis.gillis@bell.ca


   Clarence Filsfils
   Cisco Systems, Inc.
   Brussels
   BE

   Email: cfilsfil@cisco.com


   Arvind Venkateswaran
   Cisco Systems, Inc.
   San Jose
   US

   Email: arvvenka@cisco.com





















Voyer, et al.           Expires December 31, 2018               [Page 5]
