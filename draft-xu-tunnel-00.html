<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Simple Tunnel Endpoint Signaling in BGP</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Simple Tunnel Endpoint Signaling in BGP">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Network Working Group</td><td class="header">X. Xu</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Huawei</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">P. Francis</td></tr>
<tr><td class="header">Expires: August 15, 2009</td><td class="header">MPI-SWS</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">February 11, 2009</td></tr>
</table></td></tr></table>
<h1><br />Simple Tunnel Endpoint Signaling in BGP<br />draft-xu-tunnel-00.txt</h1>

<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted to IETF in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on August 15, 2009.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2009 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents in effect on the date of
publication of this document (http://trustee.ietf.org/license-info).
Please review these documents carefully, as they describe your
rights and restrictions with respect to this document.</p>

<h3>Abstract</h3>

<p> 
Virtual Aggregation (VA) is a mechanism for shrinking the size of the 
DFZ FIB in routers <a class='info' href='#I-D.francis-intra-va'>[I&#8209;D.francis&#8209;intra&#8209;va]<span> (</span><span class='info'>Francis, P., Xu, X., and H. Ballani, &ldquo;FIB Suppression with Virtual Aggregation,&rdquo; February&nbsp;2009.</span><span>)</span></a>.
VA can result in longer paths and increased load
on routers within the ISP that deploys VA.
This document describes a mechanism that allows an AS that originates
a route to associate a tunnel endpoint terminating at itself with the
route.
This allows routers in a remote AS to tunnel packets to the originating
AS.
If transit ASes between the remote AS and the originating AS install
the prefixes associated with tunnel endpoints in their FIBs, 
then tunneled packets that transit through them will take the shortest
path.  This results in reduced load for the transit AS, and better
performance for the customers at the source and destination.

</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#sec-intro">1.</a>&nbsp;
Introduction<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor1">1.1.</a>&nbsp;
Requirements notation<br />
<a href="#sec-changed">2.</a>&nbsp;
Document revisions<br />
<a href="#sec-field-def">3.</a>&nbsp;
Syntax of the Tunnel Address Attribute<br />
<a href="#sec-usage">4.</a>&nbsp;
Usage of the Tunnel Address 
and TE-Encap Attributes<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec-orig-as">4.1.</a>&nbsp;
Originating AS<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec-nonorig-as">4.2.</a>&nbsp;
Non-Originating ASes<br />
<a href="#sec-iana">5.</a>&nbsp;
IANA Considerations<br />
<a href="#sec-sec">6.</a>&nbsp;
Security Considerations<br />
<a href="#rfc.references1">7.</a>&nbsp;
Normative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="sec-intro"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>
Virtual Aggregation (VA) <a class='info' href='#I-D.francis-intra-va'>[I&#8209;D.francis&#8209;intra&#8209;va]<span> (</span><span class='info'>Francis, P., Xu, X., and H. Ballani, &ldquo;FIB Suppression with Virtual Aggregation,&rdquo; February&nbsp;2009.</span><span>)</span></a>
is a mechanism
for reducing FIB size for routers within the AS that deploys VA.
This is done through "FIB Suppression", where certain routers in the
AS may not install routes to certain prefixes in their FIB.
The downside of using VA is that packets addressed to suppressed prefixes
transiting the AS may take a longer path than otherwise necessary.  

</p>
<p>
For instance, imagine a packet traversing AS-path S-A-B-C-D, where ASes
S and D are the service providers for their respective customers.
Further, assume that ASes A, C, and D are using VA, and that
A and C are FIB-suppressing the prefix associated with the packet.
In this case, when the packet transits A and C, there is a good chance
that it will take an extra router hop within A and C.  This increases
load for A and C, and degrades performance for S's and D's customers.

</p>
<p>
The mechanism described in this draft allows D, for instance, to
associate a tunnel endpoint address with the prefixes that it originates.
The tunnel endpoint address can be an anycasted address
that terminates at some or all of D's routers.
If A and C FIB-install the route to the prefix associated with the tunnel
endpoint address, then packets tunneled to the FIB-suppressed prefix will take
the shortest path.

</p>
<p>
This draft describes a mechanism for advertising
the tunnel endpoint address across ASes in BGP.


</p>
<p>
This draft uses both the
Address Specific BGP Extended Communities Attribute
for IPv4 and IPv6
to carry the tunnel endpoint address
(<a class='info' href='#RFC4360'>[RFC4360]<span> (</span><span class='info'>Sangli, S., Tappan, D., and Y. Rekhter, &ldquo;BGP Extended Communities Attribute,&rdquo; February&nbsp;2006.</span><span>)</span></a> and
<a class='info' href='#I-D.ietf-l3vpn-v6-ext-communities'>[I&#8209;D.ietf&#8209;l3vpn&#8209;v6&#8209;ext&#8209;communities]<span> (</span><span class='info'>Rekhter, Y., &ldquo;IPv6 Address Specific BGP Extended Communities Attribute,&rdquo; December&nbsp;2008.</span><span>)</span></a> respectively).
Where additional tunnel parameters must be signaled (i.e. for GRE
or L2TP),
this draft uses the Tunnel Encapsulation Attribute
(TEncap-Attribute) defined in
<a class='info' href='#I-D.ietf-softwire-encaps-safi'>[I&#8209;D.ietf&#8209;softwire&#8209;encaps&#8209;safi]<span> (</span><span class='info'>Mohapatra, P. and E. Rosen, &ldquo;BGP Encapsulation SAFI and BGP Tunnel Encapsulation Attribute,&rdquo; June&nbsp;2008.</span><span>)</span></a>
to encode these parameters.

</p>
<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.1"></a><h3>1.1.&nbsp;
Requirements notation</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL",
            "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY",
            and "OPTIONAL" in this document are to be interpreted as
	    described in 
	    <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.
    
</p>
<a name="sec-changed"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Document revisions</h3>

<p>
This draft was previously released with file name
draft-xu-idr-tunnel-00.txt.
The changes from that draft are as follows:

</p>
<p></p>
<ol class="text">
<li>
The need for a new sub-TLV definition in 
<a class='info' href='#I-D.ietf-softwire-encaps-safi'>[I&#8209;D.ietf&#8209;softwire&#8209;encaps&#8209;safi]<span> (</span><span class='info'>Mohapatra, P. and E. Rosen, &ldquo;BGP Encapsulation SAFI and BGP Tunnel Encapsulation Attribute,&rdquo; June&nbsp;2008.</span><span>)</span></a> has been
eliminated (in favor of the 
Address Specific BGP Extended Communities Attribute).

</li>
<li>
The need to carry the AS number of the originating AS separate from
the AS-Path attribute has been eliminated.

</li>
<li>
The requirement that the AS-path to the tunnel endpoint address and
the AS-path to the destination prefix be the same was dropped.
As a result, however, legacy ASes may believe that packets take a
different AS-path than the one they actually take.

</li>
<li>
The mechanism to avoid transient loops between providers of multi-homed
sites has been made optional rather than required.

</li>
</ol>

<a name="sec-field-def"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Syntax of the Tunnel Address Attribute</h3>

<p>
This draft defines a new type for the
Address Specific BGP Extended Communities Attribute
for both IPv4 and IPv6 to be used as the Tunnel Address
Attribute.
The value of the
high-order octet for the IPv4 type field is 0x01 as defined in
<a class='info' href='#RFC4360'>[RFC4360]<span> (</span><span class='info'>Sangli, S., Tappan, D., and Y. Rekhter, &ldquo;BGP Extended Communities Attribute,&rdquo; February&nbsp;2006.</span><span>)</span></a> and
for the IPv6 type field it is 0x00 as defined in
<a class='info' href='#I-D.ietf-l3vpn-v6-ext-communities'>[I&#8209;D.ietf&#8209;l3vpn&#8209;v6&#8209;ext&#8209;communities]<span> (</span><span class='info'>Rekhter, Y., &ldquo;IPv6 Address Specific BGP Extended Communities Attribute,&rdquo; December&nbsp;2008.</span><span>)</span></a>.
The attribute is transitive across ASes.
The value of the low-order octet for the type field (i.e. the Sub-Type)
is (TBD by IANA) for IPv4 and (TBD by IANA) for IPv6.

</p>
<p>
The Global Administrator field is set to the Tunnel Address.
This is the IP address of the tunnel endpoint.

</p>
<p>
The Local Administrator field is set to zero and ignored upon receipt.

</p>
<p>
If the Tunnel Attribute (TEncap-Attribute) defined in
<a class='info' href='#I-D.ietf-softwire-encaps-safi'>[I&#8209;D.ietf&#8209;softwire&#8209;encaps&#8209;safi]<span> (</span><span class='info'>Mohapatra, P. and E. Rosen, &ldquo;BGP Encapsulation SAFI and BGP Tunnel Encapsulation Attribute,&rdquo; June&nbsp;2008.</span><span>)</span></a>
is not present, then the encapsulation type is assumed to be IP-in-IP.
If the encapsulation type is GRE or L2TP, then the TEncap-Attribute must
be present.  It defines the parameters associated with the tunnel
as specified in <a class='info' href='#I-D.ietf-softwire-encaps-safi'>[I&#8209;D.ietf&#8209;softwire&#8209;encaps&#8209;safi]<span> (</span><span class='info'>Mohapatra, P. and E. Rosen, &ldquo;BGP Encapsulation SAFI and BGP Tunnel Encapsulation Attribute,&rdquo; June&nbsp;2008.</span><span>)</span></a>.

</p>
<a name="sec-usage"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Usage of the Tunnel Address 
and TE-Encap Attributes</h3>

<a name="sec-orig-as"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1"></a><h3>4.1.&nbsp;
Originating AS</h3>

<p>
The "Originating AS" is defined here as the AS whose AS number
is the first AS in the AS path.
Only the AS originating a route may include a 
Tunnel Address Attribute and optional TEncap-Attribute.
The TEncap-Attribute is included only if the tunnel type is
something other than IP-in-IP (i.e. GRE or L2TP).
In the remainder of this draft, the Tunnel Address Attribute alone,
or both together, are referred to as the "Tunnel Attributes".
The Tunnel Attributes MUST NOT be added to externally
received routes (i.e. via eBGP), except in
the case where the sole AS number of the received route is a
private AS number, and it is replaced by that of the receiving AS.
The reachable NLRI in the update may be both IPv4 and IPv6.


</p>
<p>
If a tunnel endpoint router receives a packet on the tunnel, and the only
known route to the destination is via routes originated by other ASes
(not including private ASes of customers), then the packet may be dropped.
This prevents transient loops whereby a multi-homed customer is unreachable
by both of its provider ASes, but neither AS has yet heard the withdraw
from the other AS, and so 
both think that the other AS can reach the customer.
On the other hand, in the case where the customer is reachable via the
other AS, a policy of dropping such packets causes unnecessary packet loss.

</p>
<p>
The originating AS may of course aggregate the prefixes of customers
reachable via multiple routers.  In this case there must
be only one tunnel endpoint address for the aggregated prefix.
This in turn suggests that the tunnel endpoint address is common
to all of the routers.  In other words, the tunnel endpoint address must be
anycasted across the routers.
More generally, the tunnel endpoint address
should be anycasted across all routers in the origin AS.

</p>
<p>
Note that if different routers that originate a route for
the same aggregated prefix use different tunnel endpoint addresses,
the following problem can occur.  
Imagine that there are two routers R1 and R2 that are originating routes to the same prefix but use different tunnel endpoint addresses.  Now, assume that router R1 crashes.  There is no way to withdraw the tunnel endpoint:  R2 has no mechanism with which do it. 
As a result, remote routers with packets destined for sites attached to
R2 may nevertheless tunnel them to R1 causing them to be dropped.

</p>
<p>
It is possible that different routers with the same tunnel endpoint
address advertise different tunnel parameters or even tunnel types
in their respective TEncap-Attributes.
This is allowed, however all such routers must be able to accept tunnels
for every advertised tunnel.

</p>
<a name="sec-nonorig-as"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2"></a><h3>4.2.&nbsp;
Non-Originating ASes</h3>

<p>
ASes that have deployed VA should FIB-install any routes containing a
tunnel endpoint address.
This will prevent packets tunneled to tunnel endpoint addresses from taking
any extra hops.

</p>
<p>
When a router in a non-originating AS receives a route with an associated
tunnel endpoint address, it must decide whether or not to use the tunnel.
The router always has the option of ignoring the tunnel (and will do so
by default if it does not recognize the tunnel attributes).  


</p>
<p>
A router may choose to
tunnels where the AS_PATH to the tunnel endpoint address 
does not match the AS path to the reachable prefix.
There are pros and cons to doing this.
On the plus side, doing this means that the AS-path taken by the
packet is the same as the AS-path in the route to the destination prefix.
This in turn means that the AS-path that upstream legacy ASes see is
the actual AS-path taken.
On the minus side,
this rule has the characteristic that, if a transit
AS decides to use one AS path to some prefixes from an origin AS, and
another AS path to other prefixes from the origin AS, then only one
of these paths can have a valid tunnel endpoint address associated with it.
Packets transmitted via the other path cannot be tunneled.


</p>
<p>
If routers in a non-originating AS combine routes from different
received updates into a single update, and the tunnel attributes from the
received updates are not identical, then the tunnel attributes must be
excluded from the generated update.
This prevents an error whereby a route is associated with the wrong tunnel.
Likewise if routers in a non-originating AS receive an update with
multiple different tunnel attributes, then it must ignore and drop all
of the tunnel attributes.

</p>
<p>
It is important to note that the behavior in the above paragraph must
be followed for both legacy routers (i.e. those that do not recognize
the tunnel attributes) as well as updated routers.
It is the authors' understanding that all routers today, when combining
the routes from different received updates into a single update,
will in fact drop any unrecognized attributes from the new attribute.
If there are routers that do not do this, however, then this draft
will produce errors.
There is a fix to these errors that involves placing the originating
AS number in the Tunnel Address Attribute, and indeed this was the
approach taken by the original version of this draft.
If it is determined that such legacy routers exist, then we can revert
back to the original draft.

</p>
<a name="sec-iana"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
IANA Considerations</h3>

<p>
IANA must issue a new Sub-Type for the 
Address Specific BGP Extended Communities Attribute.

</p>
<a name="sec-sec"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Security Considerations</h3>

<p>
If downstream ASes choose to tunnel packets along an AS-path different
from the AS-path to the destination prefix, then upstream ASes may not
know the AS-path packets are taking.  This can violate a security policy
whereby certain ASes must be avoided (see
<a class='info' href='#sec-nonorig-as'>Section&nbsp;4.2<span> (</span><span class='info'>Non-Originating ASes</span><span>)</span></a>).

</p>
<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>7.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="I-D.francis-intra-va">[I-D.francis-intra-va]</a></td>
<td class="author-text">Francis, P., Xu, X., and H. Ballani, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-francis-intra-va-00.txt">FIB Suppression with Virtual Aggregation</a>,&rdquo; draft-francis-intra-va-00 (work in progress), February&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-francis-intra-va-00.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-l3vpn-v6-ext-communities">[I-D.ietf-l3vpn-v6-ext-communities]</a></td>
<td class="author-text">Rekhter, Y., &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-l3vpn-v6-ext-communities-01.txt">IPv6 Address Specific BGP Extended Communities Attribute</a>,&rdquo; draft-ietf-l3vpn-v6-ext-communities-01 (work in progress), December&nbsp;2008 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-l3vpn-v6-ext-communities-01.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-softwire-encaps-safi">[I-D.ietf-softwire-encaps-safi]</a></td>
<td class="author-text">Mohapatra, P. and E. Rosen, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-softwire-encaps-safi-03.txt">BGP Encapsulation SAFI and BGP Tunnel Encapsulation Attribute</a>,&rdquo; draft-ietf-softwire-encaps-safi-03 (work in progress), June&nbsp;2008 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-softwire-encaps-safi-03.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4360">[RFC4360]</a></td>
<td class="author-text">Sangli, S., Tappan, D., and Y. Rekhter, &ldquo;<a href="http://tools.ietf.org/html/rfc4360">BGP Extended Communities Attribute</a>,&rdquo; RFC&nbsp;4360, February&nbsp;2006 (<a href="ftp://ftp.isi.edu/in-notes/rfc4360.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Xiaohu Xu</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Huawei Technologies</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">No.3 Xinxi Rd., Shang-Di Information Industry Base, Hai-Dian District</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Beijing, Beijing  100085</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">P.R.China</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+86 10 82836073</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:xuxh@huawei.com">xuxh@huawei.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Paul Francis</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Max Planck Institute for Software Systems</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Gottlieb-Daimler-Strasse</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Kaiserslautern  67633</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Germany</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+49 631 930 39600</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:francis@mpi-sws.org">francis@mpi-sws.org</a></td></tr>
</table>
</body></html>
