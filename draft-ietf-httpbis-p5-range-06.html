<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>HTTP/1.1, part 5: Range Requests and Partial Responses</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="HTTP/1.1, part 5: Range Requests and Partial Responses">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">HTTPbis Working Group</td><td class="header">R. Fielding, Ed.</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Day Software</td></tr>
<tr><td class="header">Obsoletes: <a href='http://tools.ietf.org/html/rfc2616'>2616</a> (if&nbsp;approved)</td><td class="header">J. Gettys</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">One Laptop per Child</td></tr>
<tr><td class="header">Expires: September 10, 2009</td><td class="header">J. Mogul</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">HP</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">H. Frystyk</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Microsoft</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">L. Masinter</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Adobe Systems</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">P. Leach</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Microsoft</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">T. Berners-Lee</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">W3C/MIT</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Y. Lafon, Ed.</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">W3C</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">J. Reschke, Ed.</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">greenbytes</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">March 09, 2009</td></tr>
</table></td></tr></table>
<h1><br />HTTP/1.1, part 5: Range Requests and Partial Responses<br />draft-ietf-httpbis-p5-range-06</h1>

<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted to IETF in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.
This document may contain material from IETF Documents or IETF
Contributions published or made publicly available before November
10, 2008. The person(s) controlling the copyright in some of this
material may not have granted the IETF Trust the right to allow
modifications of such material outside the IETF Standards Process.
Without obtaining an adequate license from the person(s) controlling
the copyright in such materials, this document may not be modified
outside the IETF Standards Process, and derivative works of it may
not be created outside the IETF Standards Process, except to format
it for publication as an RFC or to translate it into languages other
than English.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on September 10, 2009.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2009 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents in effect on the date of
publication of this document (http://trustee.ietf.org/license-info).
Please review these documents carefully, as they describe your
rights and restrictions with respect to this document.</p>

<h3>Abstract</h3>

<p>
   The Hypertext Transfer Protocol (HTTP) is an application-level
   protocol for distributed, collaborative, hypermedia information
   systems. HTTP has been in use by the World Wide Web global information
   initiative since 1990. This document is Part 5 of the seven-part specification
   that defines the protocol referred to as "HTTP/1.1" and, taken together,
   obsoletes RFC 2616.  Part 5 defines range-specific requests and
   the rules for constructing and combining responses to those requests.

</p>
<h3>Editorial Note (To be removed by RFC Editor)</h3>

<p>
    Discussion of this draft should take place on the HTTPBIS working group
    mailing list (ietf-http-wg@w3.org). The current issues list is
    at <a href='http://tools.ietf.org/wg/httpbis/trac/report/11'>http://tools.ietf.org/wg/httpbis/trac/report/11</a>
    and related documents (including fancy diffs) can be found at
    <a href='http://tools.ietf.org/wg/httpbis/'>http://tools.ietf.org/wg/httpbis/</a>.
  
</p>
<p>
    The changes in this draft are summarized in <a class='info' href='#changes.since.05'>Appendix&nbsp;D.7<span> (</span><span class='info'>Since draft-ietf-httpbis-p5-range-05</span><span>)</span></a>.
  
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#introduction">1.</a>&nbsp;
Introduction<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#intro.requirements">1.1.</a>&nbsp;
Requirements<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#notation">1.2.</a>&nbsp;
Syntax Notation<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#core.rules">1.2.1.</a>&nbsp;
Core Rules<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#abnf.dependencies">1.2.2.</a>&nbsp;
ABNF Rules defined in other Parts of the Specification<br />
<a href="#range.units">2.</a>&nbsp;
Range Units<br />
<a href="#anchor1">3.</a>&nbsp;
Status Code Definitions<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#status.206">3.1.</a>&nbsp;
206 Partial Content<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#status.416">3.2.</a>&nbsp;
416 Requested Range Not Satisfiable<br />
<a href="#combining.byte.ranges">4.</a>&nbsp;
Combining Ranges<br />
<a href="#header.fields">5.</a>&nbsp;
Header Field Definitions<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#header.accept-ranges">5.1.</a>&nbsp;
Accept-Ranges<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#header.content-range">5.2.</a>&nbsp;
Content-Range<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#header.if-range">5.3.</a>&nbsp;
If-Range<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#header.range">5.4.</a>&nbsp;
Range<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#byte.ranges">5.4.1.</a>&nbsp;
Byte Ranges<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#range.retrieval.requests">5.4.2.</a>&nbsp;
Range Retrieval Requests<br />
<a href="#IANA.considerations">6.</a>&nbsp;
IANA Considerations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#message.header.registration">6.1.</a>&nbsp;
Message Header Registration<br />
<a href="#security.considerations">7.</a>&nbsp;
Security Considerations<br />
<a href="#ack">8.</a>&nbsp;
Acknowledgments<br />
<a href="#rfc.references1">9.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">9.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">9.2.</a>&nbsp;
Informative References<br />
<a href="#internet.media.type.multipart.byteranges">Appendix&nbsp;A.</a>&nbsp;
Internet Media Type multipart/byteranges<br />
<a href="#compatibility">Appendix&nbsp;B.</a>&nbsp;
Compatibility with Previous Versions<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#changes.from.rfc.2068">B.1.</a>&nbsp;
Changes from RFC 2068<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#changes.from.rfc.2616">B.2.</a>&nbsp;
Changes from RFC 2616<br />
<a href="#collected.abnf">Appendix&nbsp;C.</a>&nbsp;
Collected ABNF<br />
<a href="#change.log">Appendix&nbsp;D.</a>&nbsp;
Change Log (to be removed by RFC Editor before publication)<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">D.1.</a>&nbsp;
Since RFC2616<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor5">D.2.</a>&nbsp;
Since draft-ietf-httpbis-p5-range-00<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">D.3.</a>&nbsp;
Since draft-ietf-httpbis-p5-range-01<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#changes.since.02">D.4.</a>&nbsp;
Since draft-ietf-httpbis-p5-range-02<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#changes.since.03">D.5.</a>&nbsp;
Since draft-ietf-httpbis-p5-range-03<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#changes.since.04">D.6.</a>&nbsp;
Since draft-ietf-httpbis-p5-range-04<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#changes.since.05">D.7.</a>&nbsp;
Since draft-ietf-httpbis-p5-range-05<br />
<a href="#rfc.index">&#167;</a>&nbsp;
Index<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="introduction"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>
   HTTP clients often encounter interrupted data transfers as a result
   of cancelled requests or dropped connections.  When a cache has stored
   a partial representation, it is desirable to request the remainder
   of that representation in a subsequent request rather than transfer
   the entire representation.
   There are also a number of Web applications that benefit from being
   able to request only a subset of a larger representation, such as a
   single page of a very large document or only part of an image to be
   rendered by a device with limited local storage.

</p>
<p>
   This document defines HTTP/1.1 range requests,
   partial responses, and the multipart/byteranges media type.
   The protocol for range requests is an OPTIONAL feature of HTTP,
   designed so resources or recipients that do not implement this feature
   can respond as if it is a normal GET request without impacting
   interoperability.  Partial responses are indicated by a distinct status
   code to not be mistaken for full responses by intermediate caches
   that might not implement the feature.

</p>
<p>
   Although the HTTP range request mechanism is designed to allow for
   extensible range types, this specification only defines requests for
   byte ranges.

</p>
<a name="intro.requirements"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.1"></a><h3>1.1.&nbsp;
Requirements</h3>

<p>
   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.

</p>
<p>
   An implementation is not compliant if it fails to satisfy one or more
   of the MUST or REQUIRED level requirements for the protocols it
   implements. An implementation that satisfies all the MUST or REQUIRED
   level and all the SHOULD level requirements for its protocols is said
   to be "unconditionally compliant"; one that satisfies all the MUST
   level requirements but not all the SHOULD level requirements for its
   protocols is said to be "conditionally compliant."

</p>
<a name="notation"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.2"></a><h3>1.2.&nbsp;
Syntax Notation</h3>

<p>
  This specification uses the ABNF syntax defined in Section 1.2 of <a class='info' href='#Part1'>[Part1]<span> (</span><span class='info'>Fielding, R., Ed., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., Berners-Lee, T., Lafon, Y., Ed., and J. Reschke, Ed., &ldquo;HTTP/1.1, part 1: URIs, Connections, and Message Parsing,&rdquo; March&nbsp;2009.</span><span>)</span></a> (which
  extends the syntax defined in <a class='info' href='#RFC5234'>[RFC5234]<span> (</span><span class='info'>Crocker, D., Ed. and P. Overell, &ldquo;Augmented BNF for Syntax Specifications: ABNF,&rdquo; January&nbsp;2008.</span><span>)</span></a> with a list rule).
  <a class='info' href='#collected.abnf'>Appendix&nbsp;C<span> (</span><span class='info'>Collected ABNF</span><span>)</span></a> shows the collected ABNF, with the list
  rule expanded.

</p>
<p>
  The following core rules are included by
  reference, as defined in <a class='info' href='#RFC5234'>[RFC5234]<span> (</span><span class='info'>Crocker, D., Ed. and P. Overell, &ldquo;Augmented BNF for Syntax Specifications: ABNF,&rdquo; January&nbsp;2008.</span><span>)</span></a>, Appendix B.1:
  ALPHA (letters), CR (carriage return), CRLF (CR LF), CTL (controls),
  DIGIT (decimal 0-9), DQUOTE (double quote),
  HEXDIG (hexadecimal 0-9/A-F/a-f), LF (line feed),
  OCTET (any 8-bit sequence of data), SP (space),
  VCHAR (any visible USASCII character),
  and WSP (whitespace).

</p>
<a name="core.rules"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.2.1"></a><h3>1.2.1.&nbsp;
Core Rules</h3>

<p>
  The core rules below are defined in Section 1.2.2 of <a class='info' href='#Part1'>[Part1]<span> (</span><span class='info'>Fielding, R., Ed., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., Berners-Lee, T., Lafon, Y., Ed., and J. Reschke, Ed., &ldquo;HTTP/1.1, part 1: URIs, Connections, and Message Parsing,&rdquo; March&nbsp;2009.</span><span>)</span></a>:

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  token      = &lt;token, defined in [Part1], Section 1.2.2&gt;
  OWS        = &lt;OWS, defined in [Part1], Section 1.2.2&gt;
</pre></div>
<a name="abnf.dependencies"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.2.2"></a><h3>1.2.2.&nbsp;
ABNF Rules defined in other Parts of the Specification</h3>

<p>
  The ABNF rules below are defined in other parts: 

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  HTTP-date  = &lt;HTTP-date, defined in [Part1], Section 3.2.1&gt;
</pre></div><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  entity-tag = &lt;entity-tag, defined in [Part4], Section 2&gt;
</pre></div>
<a name="range.units"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Range Units</h3>

<p>
   HTTP/1.1 allows a client to request that only part (a range of) the
   response entity be included within the response. HTTP/1.1 uses range
   units in the Range (<a class='info' href='#header.range'>Section&nbsp;5.4<span> (</span><span class='info'>Range</span><span>)</span></a>) and Content-Range (<a class='info' href='#header.content-range'>Section&nbsp;5.2<span> (</span><span class='info'>Content-Range</span><span>)</span></a>)
   header fields. An entity can be broken down into subranges according
   to various structural units.

</p><a name='anchor7'></a><a name='anchor8'></a><a name='anchor9'></a><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  range-unit       = bytes-unit / other-range-unit
  bytes-unit       = "bytes"
  other-range-unit = token
</pre></div>
<p>
  HTTP/1.1 has been designed to allow implementations of applications
  that do not depend on knowledge of ranges. The only range unit defined
  by HTTP/1.1 is "bytes".

</p>
<p>
  If a range unit is not understood in a request, a server MUST ignore
  the whole Range header (<a class='info' href='#header.range'>Section&nbsp;5.4<span> (</span><span class='info'>Range</span><span>)</span></a>).
  If a range unit is not understood in a response, an intermediary 
  SHOULD pass the response to the client; a client MUST fail.

</p>
<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Status Code Definitions</h3>

<a name="status.206"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
206 Partial Content</h3>
<a name='anchor10'></a><a name='anchor11'></a>
<p>
   The server has fulfilled the partial GET request for the resource.
   The request MUST have included a Range header field (<a class='info' href='#header.range'>Section&nbsp;5.4<span> (</span><span class='info'>Range</span><span>)</span></a>)
   indicating the desired range, and MAY have included an If-Range
   header field (<a class='info' href='#header.if-range'>Section&nbsp;5.3<span> (</span><span class='info'>If-Range</span><span>)</span></a>) to make the request conditional.

</p>
<p>
   The response MUST include the following header fields:
  </p>
<ul class="text">
<li>
        Either a Content-Range header field (<a class='info' href='#header.content-range'>Section&nbsp;5.2<span> (</span><span class='info'>Content-Range</span><span>)</span></a>) indicating
        the range included with this response, or a multipart/byteranges
        Content-Type including Content-Range fields for each part. If a
        Content-Length header field is present in the response, its
        value MUST match the actual number of OCTETs transmitted in the
        message-body.
    
</li>
<li>
        Date
    
</li>
<li>
        ETag and/or Content-Location, if the header would have been sent
        in a 200 response to the same request
    
</li>
<li>
        Expires, Cache-Control, and/or Vary, if the field-value might
        differ from that sent in any previous response for the same
        variant
    
</li>
</ul><p>

</p>
<p>
   If the 206 response is the result of an If-Range request, the response
   SHOULD NOT include other entity-headers. Otherwise, the response
   MUST include all of the entity-headers that would have been returned
   with a 200 (OK) response to the same request.

</p>
<p>
   A cache MUST NOT combine a 206 response with other previously cached
   content if the ETag or Last-Modified headers do not match exactly,
   see <a class='info' href='#combining.byte.ranges'>Section&nbsp;4<span> (</span><span class='info'>Combining Ranges</span><span>)</span></a>.

</p>
<p>
   A cache that does not support the Range and Content-Range headers
   MUST NOT cache 206 (Partial Content) responses. Furthermore,
   if a response uses a range unit that is not understood by the cache,
   then it MUST NOT be cached either. 

</p>
<a name="status.416"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
416 Requested Range Not Satisfiable</h3>
<a name='anchor12'></a><a name='anchor13'></a>
<p>
   A server SHOULD return a response with this status code if a request
   included a Range request-header field (<a class='info' href='#header.range'>Section&nbsp;5.4<span> (</span><span class='info'>Range</span><span>)</span></a>), and none of
   the ranges-specifier values in this field overlap the current extent
   of the selected resource, and the request did not include an If-Range
   request-header field. (For byte-ranges, this means that the first-byte-pos
   of all of the byte-range-spec values were greater than the
   current length of the selected resource.)

</p>
<p>
   When this status code is returned for a byte-range request, the
   response SHOULD include a Content-Range entity-header field
   specifying the current length of the selected resource (see <a class='info' href='#header.content-range'>Section&nbsp;5.2<span> (</span><span class='info'>Content-Range</span><span>)</span></a>).
   This response MUST NOT use the multipart/byteranges content-type.

</p>
<a name="combining.byte.ranges"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Combining Ranges</h3>

<p>
   A response might transfer only a subrange of an entity-body, either 
   the request included one or more Range specifications, or because 
   a connection was broken prematurely.
   After several such transfers, a cache might have received several 
   ranges of the same entity-body.

</p>
<p>
   If a cache has a stored non-empty set of subranges for an entity, and
   an incoming response transfers another subrange, the cache MAY
   combine the new subrange with the existing set if both the following
   conditions are met:
  </p>
<ul class="text">
<li>Both the incoming response and the cache entry have a cache
        validator.
</li>
<li>The two cache validators match using the strong comparison
        function (see Section 4 of <a class='info' href='#Part4'>[Part4]<span> (</span><span class='info'>Fielding, R., Ed., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., Berners-Lee, T., Lafon, Y., Ed., and J. Reschke, Ed., &ldquo;HTTP/1.1, part 4: Conditional Requests,&rdquo; March&nbsp;2009.</span><span>)</span></a>).
</li>
</ul><p>

</p>
<p>
   If either requirement is not met, the cache MUST use only the most
   recent partial response (based on the Date values transmitted with
   every response, and using the incoming response if these values are
   equal or missing), and MUST discard the other partial information.

</p>
<a name="header.fields"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Header Field Definitions</h3>

<p>
   This section defines the syntax and semantics of HTTP/1.1 header fields
   related to range requests and partial responses.

</p>
<p>
   For entity-header fields, both sender and recipient refer to either the
   client or the server, depending on who sends and who receives the entity.

</p>
<a name="header.accept-ranges"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1"></a><h3>5.1.&nbsp;
Accept-Ranges</h3>
<a name='anchor14'></a><a name='anchor15'></a>
<p>
      The response-header "Accept-Ranges" field allows the server to
      indicate its acceptance of range requests for a resource:

</p><a name='anchor16'></a><a name='anchor17'></a><a name='anchor18'></a><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  Accept-Ranges     = "Accept-Ranges" ":" OWS Accept-Ranges-v
  Accept-Ranges-v   = acceptable-ranges
  acceptable-ranges = 1#range-unit / "none"
</pre></div>
<p>
      Origin servers that accept byte-range requests MAY send

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  Accept-Ranges: bytes
</pre></div>
<p>
      but are not required to do so. Clients MAY generate range
      requests without having received this header for the resource
      involved. Range units are defined in <a class='info' href='#range.units'>Section&nbsp;2<span> (</span><span class='info'>Range Units</span><span>)</span></a>.

</p>
<p>
      Servers that do not accept any kind of range request for a
      resource MAY send

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  Accept-Ranges: none
</pre></div>
<p>
      to advise the client not to attempt a range request.

</p>
<a name="header.content-range"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.2"></a><h3>5.2.&nbsp;
Content-Range</h3>
<a name='anchor19'></a><a name='anchor20'></a>
<p>
   The entity-header "Content-Range" is sent with a partial entity-body to
   specify where in the full entity-body the partial body should be
   applied. Range units are defined in <a class='info' href='#range.units'>Section&nbsp;2<span> (</span><span class='info'>Range Units</span><span>)</span></a>.

</p><a name='anchor21'></a><a name='anchor22'></a><a name='anchor23'></a><a name='anchor24'></a><a name='anchor25'></a><a name='anchor26'></a><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  Content-Range = "Content-Range" ":" OWS Content-Range-v
  Content-Range-v = content-range-spec

  content-range-spec      = byte-content-range-spec
                          / other-content-range-spec
  byte-content-range-spec = bytes-unit SP
                            byte-range-resp-spec "/"
                            ( instance-length / "*" )

  byte-range-resp-spec    = (first-byte-pos "-" last-byte-pos)
                          / "*"

  instance-length         = 1*DIGIT

  other-content-range-spec = other-range-unit SP
                             other-range-resp-spec
  other-range-resp-spec    = *CHAR
</pre></div>
<p>
   The header SHOULD indicate the total length of the full entity-body,
   unless this length is unknown or difficult to determine. The asterisk
   "*" character means that the instance-length is unknown at the time
   when the response was generated.

</p>
<p>
   Unlike byte-ranges-specifier values (see <a class='info' href='#byte.ranges'>Section&nbsp;5.4.1<span> (</span><span class='info'>Byte Ranges</span><span>)</span></a>), a byte-range-resp-spec
   MUST only specify one range, and MUST contain
   absolute byte positions for both the first and last byte of the
   range.

</p>
<p>
   A byte-content-range-spec with a byte-range-resp-spec whose last-byte-pos
   value is less than its first-byte-pos value, or whose
   instance-length value is less than or equal to its last-byte-pos
   value, is invalid. The recipient of an invalid byte-content-range-spec
   MUST ignore it and any content transferred along with it.

</p>
<p>
   In the case of a byte range request:
   A server sending a response with status code 416 (Requested range not
   satisfiable) SHOULD include a Content-Range field with a byte-range-resp-spec
   of "*". The instance-length specifies the current length of
   the selected resource as a decimal number. A response with status code 206 (Partial
   Content) MUST NOT include a Content-Range field with a byte-range-resp-spec of "*".

</p>
<p>
   Examples of byte-content-range-spec values, assuming that the entity
   contains a total of 1234 bytes:
   </p>
<ul class="text">
<li>
        The first 500 bytes:
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
   bytes 0-499/1234
</pre></div>
      
</li>
<li>
        The second 500 bytes:
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
   bytes 500-999/1234
</pre></div>
      
</li>
<li>
        All except for the first 500 bytes:
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
   bytes 500-1233/1234
</pre></div>
      
</li>
<li>
        The last 500 bytes:
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
   bytes 734-1233/1234
</pre></div>
      
</li>
</ul><p>

</p>
<p>
   When an HTTP message includes the content of a single range (for
   example, a response to a request for a single range, or to a request
   for a set of ranges that overlap without any holes), this content is
   transmitted with a Content-Range header, and a Content-Length header
   showing the number of bytes actually transferred. For example,

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  HTTP/1.1 206 Partial Content
  Date: Wed, 15 Nov 1995 06:25:24 GMT
  Last-Modified: Wed, 15 Nov 1995 04:58:08 GMT
  Content-Range: bytes 21010-47021/47022
  Content-Length: 26012
  Content-Type: image/gif
</pre></div>
<p>
   When an HTTP message includes the content of multiple ranges (for
   example, a response to a request for multiple non-overlapping
   ranges), these are transmitted as a multipart message. The multipart
   media type used for this purpose is "multipart/byteranges" as defined
   in <a class='info' href='#internet.media.type.multipart.byteranges'>Appendix&nbsp;A<span> (</span><span class='info'>Internet Media Type multipart/byteranges</span><span>)</span></a>. See <a class='info' href='#changes.from.rfc.2068'>Appendix&nbsp;B.1<span> (</span><span class='info'>Changes from RFC 2068</span><span>)</span></a> for a compatibility issue.

</p>
<p>
   A response to a request for a single range MUST NOT be sent using the
   multipart/byteranges media type.  A response to a request for
   multiple ranges, whose result is a single range, MAY be sent as a
   multipart/byteranges media type with one part. A client that cannot
   decode a multipart/byteranges message MUST NOT ask for multiple
   ranges in a single request.

</p>
<p>
   When a client requests multiple byte-ranges in one request, the
   server SHOULD return them in the order that they appeared in the
   request.

</p>
<p>
   If the server ignores a byte-range-spec because it is syntactically
   invalid, the server SHOULD treat the request as if the invalid Range
   header field did not exist. (Normally, this means return a 200
   response containing the full entity).

</p>
<p>
   If the server receives a request (other than one including an If-Range
   request-header field) with an unsatisfiable Range request-header
   field (that is, all of whose byte-range-spec values have a
   first-byte-pos value greater than the current length of the selected
   resource), it SHOULD return a response code of 416 (Requested range
   not satisfiable) (<a class='info' href='#status.416'>Section&nbsp;3.2<span> (</span><span class='info'>416 Requested Range Not Satisfiable</span><span>)</span></a>).
  </p>
<blockquote class="text">
<p>
      Note: clients cannot depend on servers to send a 416 (Requested
      range not satisfiable) response instead of a 200 (OK) response for
      an unsatisfiable Range request-header, since not all servers
      implement this request-header.
  
</p>
</blockquote><p>

</p>
<a name="header.if-range"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.3"></a><h3>5.3.&nbsp;
If-Range</h3>
<a name='anchor27'></a><a name='anchor28'></a>
<p>
   If a client has a partial copy of an entity in its cache, and wishes
   to have an up-to-date copy of the entire entity in its cache, it
   could use the Range request-header with a conditional GET (using
   either or both of If-Unmodified-Since and If-Match.) However, if the
   condition fails because the entity has been modified, the client
   would then have to make a second request to obtain the entire current
   entity-body.

</p>
<p>
   The request header "If-Range" allows a client to "short-circuit" the second
   request. Informally, its meaning is `if the entity is unchanged, send
   me the part(s) that I am missing; otherwise, send me the entire new
   entity'.

</p><a name='anchor29'></a><a name='anchor30'></a><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  If-Range   = "If-Range" ":" OWS If-Range-v
  If-Range-v = entity-tag / HTTP-date
</pre></div>
<p>
   If the client has no entity tag for an entity, but does have a Last-Modified
   date, it MAY use that date in an If-Range header. (The
   server can distinguish between a valid HTTP-date and any form of
   entity-tag by examining no more than two characters.) The If-Range
   header SHOULD only be used together with a Range header, and MUST be
   ignored if the request does not include a Range header, or if the
   server does not support the sub-range operation.

</p>
<p>
   If the entity tag given in the If-Range header matches the current
   entity tag for the entity, then the server SHOULD provide the
   specified sub-range of the entity using a 206 (Partial Content)
   response. If the entity tag does not match, then the server SHOULD
   return the entire entity using a 200 (OK) response.

</p>
<a name="header.range"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.4"></a><h3>5.4.&nbsp;
Range</h3>
<a name='anchor31'></a><a name='anchor32'></a>
<a name="byte.ranges"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.4.1"></a><h3>5.4.1.&nbsp;
Byte Ranges</h3>

<p>
   Since all HTTP entities are represented in HTTP messages as sequences
   of bytes, the concept of a byte range is meaningful for any HTTP
   entity. (However, not all clients and servers need to support byte-range
   operations.)

</p>
<p>
   Byte range specifications in HTTP apply to the sequence of bytes in
   the entity-body (not necessarily the same as the message-body).

</p>
<p>
  
  
  
  
  
  
  
  
  

   A byte range operation MAY specify a single range of bytes, or a set
   of ranges within a single entity.

</p><a name='anchor33'></a><a name='anchor34'></a><a name='anchor35'></a><a name='anchor36'></a><a name='anchor37'></a><a name='anchor38'></a><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  byte-ranges-specifier = bytes-unit "=" byte-range-set
  byte-range-set  = 1#( byte-range-spec / suffix-byte-range-spec )
  byte-range-spec = first-byte-pos "-" [ last-byte-pos ]
  first-byte-pos  = 1*DIGIT
  last-byte-pos   = 1*DIGIT
</pre></div>
<p>
   The first-byte-pos value in a byte-range-spec gives the byte-offset
   of the first byte in a range. The last-byte-pos value gives the
   byte-offset of the last byte in the range; that is, the byte
   positions specified are inclusive. Byte offsets are decimal and start at zero.

</p>
<p>
   If the last-byte-pos value is present, it MUST be greater than or
   equal to the first-byte-pos in that byte-range-spec, or the byte-range-spec
   is syntactically invalid. The recipient of a byte-range-set
   that includes one or more syntactically invalid byte-range-spec
   values MUST ignore the header field that includes that byte-range-set.

</p>
<p>
   If the last-byte-pos value is absent, or if the value is greater than
   or equal to the current length of the entity-body, last-byte-pos is
   taken to be equal to one less than the current length of the entity-body
   in bytes.

</p>
<p>
   By its choice of last-byte-pos, a client can limit the number of
   bytes retrieved without knowing the size of the entity.

</p><a name='anchor39'></a><a name='anchor40'></a><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  suffix-byte-range-spec = "-" suffix-length
  suffix-length = 1*DIGIT
</pre></div>
<p>
   A suffix-byte-range-spec is used to specify the suffix of the
   entity-body, of a length given by the decimal suffix-length value. (That is,
   this form specifies the last N bytes of an entity-body.) If the
   entity is shorter than the specified suffix-length, the entire
   entity-body is used.

</p>
<p>
   If a syntactically valid byte-range-set includes at least one byte-range-spec
   whose first-byte-pos is less than the current length of
   the entity-body, or at least one suffix-byte-range-spec with a non-zero
   suffix-length, then the byte-range-set is satisfiable.
   Otherwise, the byte-range-set is unsatisfiable. If the byte-range-set
   is unsatisfiable, the server SHOULD return a response with a status
   of 416 (Requested range not satisfiable). Otherwise, the server
   SHOULD return a response with a status of 206 (Partial Content)
   containing the satisfiable ranges of the entity-body.

</p>
<p>
   Examples of byte-ranges-specifier values (assuming an entity-body of
   length 10000):
  </p>
<ul class="text">
<li>The first 500 bytes (byte offsets 0-499, inclusive):  bytes=0-499
</li>
<li>The second 500 bytes (byte offsets 500-999, inclusive):
        bytes=500-999
</li>
<li>The final 500 bytes (byte offsets 9500-9999, inclusive):
        bytes=-500
</li>
<li>Or bytes=9500-
</li>
<li>The first and last bytes only (bytes 0 and 9999):  bytes=0-0,-1
</li>
<li>Several legal but not canonical specifications of the second 500
        bytes (byte offsets 500-999, inclusive):
        <br />

         bytes=500-600,601-999<br />

         bytes=500-700,601-999
</li>
</ul><p>

</p>
<a name="range.retrieval.requests"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.4.2"></a><h3>5.4.2.&nbsp;
Range Retrieval Requests</h3>

<p>
   HTTP retrieval requests using conditional or unconditional GET
   methods MAY request one or more sub-ranges of the entity, instead of
   the entire entity, using the Range request header, which applies to
   the entity returned as the result of the request:

</p><a name='anchor41'></a><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  Range   = "Range" ":" OWS Range-v
  Range-v = byte-ranges-specifier
          / other-ranges-specifier
  other-ranges-specifier = 1*CHAR
</pre></div>
<p>
   A server MAY ignore the Range header. However, HTTP/1.1 origin
   servers and intermediate caches ought to support byte ranges when
   possible, since Range supports efficient recovery from partially
   failed transfers, and supports efficient partial retrieval of large
   entities.

</p>
<p>
   If the server supports the Range header and the specified range or
   ranges are appropriate for the entity:
  </p>
<ul class="text">
<li>The presence of a Range header in an unconditional GET modifies
        what is returned if the GET is otherwise successful. In other
        words, the response carries a status code of 206 (Partial
        Content) instead of 200 (OK).
</li>
<li>The presence of a Range header in a conditional GET (a request
        using one or both of If-Modified-Since and If-None-Match, or
        one or both of If-Unmodified-Since and If-Match) modifies what
        is returned if the GET is otherwise successful and the
        condition is true. It does not affect the 304 (Not Modified)
        response returned if the conditional is false.
</li>
</ul><p>

</p>
<p>
   In some cases, it might be more appropriate to use the If-Range
   header (see <a class='info' href='#header.if-range'>Section&nbsp;5.3<span> (</span><span class='info'>If-Range</span><span>)</span></a>) in addition to the Range header.

</p>
<p>
   If a proxy that supports ranges receives a Range request, forwards
   the request to an inbound server, and receives an entire entity in
   reply, it SHOULD only return the requested range to its client. It
   SHOULD store the entire received response in its cache if that is
   consistent with its cache allocation policies.

</p>
<a name="IANA.considerations"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
IANA Considerations</h3>

<a name="message.header.registration"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1"></a><h3>6.1.&nbsp;
Message Header Registration</h3>

<p>
   The Message Header Registry located at <a href='http://www.iana.org/assignments/message-headers/message-header-index.html'>http://www.iana.org/assignments/message-headers/message-header-index.html</a> should be updated
   with the permanent registrations below (see <a class='info' href='#RFC3864'>[RFC3864]<span> (</span><span class='info'>Klyne, G., Nottingham, M., and J. Mogul, &ldquo;Registration Procedures for Message Header Fields,&rdquo; September&nbsp;2004.</span><span>)</span></a>):

</p><br /><hr class="insert" />
<a name="iana.header.registration.table"></a>
<table class="full" align="left" border="0" cellpadding="2" cellspacing="2">
<col align="left"><col align="left"><col align="left"><col align="left">
<tr><th align="left">Header Field Name</th><th align="left">Protocol</th><th align="left">Status</th><th align="left">Reference</th></tr>
<tr>
<td align="left">Accept-Ranges</td>
<td align="left">http</td>
<td align="left">standard</td>
<td align="left">
      <a class='info' href='#header.accept-ranges'>Section&nbsp;5.1<span> (</span><span class='info'>Accept-Ranges</span><span>)</span></a>
   </td>
</tr>
<tr>
<td align="left">Content-Range</td>
<td align="left">http</td>
<td align="left">standard</td>
<td align="left">
      <a class='info' href='#header.content-range'>Section&nbsp;5.2<span> (</span><span class='info'>Content-Range</span><span>)</span></a>
   </td>
</tr>
<tr>
<td align="left">If-Range</td>
<td align="left">http</td>
<td align="left">standard</td>
<td align="left">
      <a class='info' href='#header.if-range'>Section&nbsp;5.3<span> (</span><span class='info'>If-Range</span><span>)</span></a>
   </td>
</tr>
<tr>
<td align="left">Range</td>
<td align="left">http</td>
<td align="left">standard</td>
<td align="left">
      <a class='info' href='#header.range'>Section&nbsp;5.4<span> (</span><span class='info'>Range</span><span>)</span></a>
   </td>
</tr>
</table>
<br clear="all" />

<p>
   The change controller is: "IETF (iesg@ietf.org) - Internet Engineering Task Force".

</p>
<a name="security.considerations"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Security Considerations</h3>

<p>
   No additional security considerations have been identified beyond
   those applicable to HTTP in general <a class='info' href='#Part1'>[Part1]<span> (</span><span class='info'>Fielding, R., Ed., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., Berners-Lee, T., Lafon, Y., Ed., and J. Reschke, Ed., &ldquo;HTTP/1.1, part 1: URIs, Connections, and Message Parsing,&rdquo; March&nbsp;2009.</span><span>)</span></a>.

</p>
<a name="ack"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
Acknowledgments</h3>

<p>
   Most of the specification of ranges is based on work originally done
   by Ari Luotonen and John Franks, with additional input from Steve
   Zilles, Daniel W. Connolly, Roy T. Fielding, Jim Gettys, Martin Hamilton,
   Koen Holtman, Shel Kaplan, Paul Leach, Alex Lopez-Ortiz, Larry Masinter,
   Jeff Mogul, Lou Montulli, David W. Morris, Luigi Rizzo, and Bill Weihl.

</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>9.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="Part1">[Part1]</a></td>
<td class="author-text"><a href="mailto:fielding@gbiv.com">Fielding, R., Ed.</a>, <a href="mailto:jg@laptop.org">Gettys, J.</a>, <a href="mailto:JeffMogul@acm.org">Mogul, J.</a>, <a href="mailto:henrikn@microsoft.com">Frystyk, H.</a>, <a href="mailto:LMM@acm.org">Masinter, L.</a>, <a href="mailto:paulle@microsoft.com">Leach, P.</a>, <a href="mailto:timbl@w3.org">Berners-Lee, T.</a>, <a href="mailto:ylafon@w3.org">Lafon, Y., Ed.</a>, and <a href="mailto:julian.reschke@greenbytes.de">J. Reschke, Ed.</a>, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-httpbis-p1-messaging-06.txt">HTTP/1.1, part 1: URIs, Connections, and Message Parsing</a>,&rdquo; draft-ietf-httpbis-p1-messaging-06 (work in progress), March&nbsp;2009.</td></tr>
<tr><td class="author-text" valign="top"><a name="Part3">[Part3]</a></td>
<td class="author-text"><a href="mailto:fielding@gbiv.com">Fielding, R., Ed.</a>, <a href="mailto:jg@laptop.org">Gettys, J.</a>, <a href="mailto:JeffMogul@acm.org">Mogul, J.</a>, <a href="mailto:henrikn@microsoft.com">Frystyk, H.</a>, <a href="mailto:LMM@acm.org">Masinter, L.</a>, <a href="mailto:paulle@microsoft.com">Leach, P.</a>, <a href="mailto:timbl@w3.org">Berners-Lee, T.</a>, <a href="mailto:ylafon@w3.org">Lafon, Y., Ed.</a>, and <a href="mailto:julian.reschke@greenbytes.de">J. Reschke, Ed.</a>, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-httpbis-p3-payload-06.txt">HTTP/1.1, part 3: Message Payload and Content Negotiation</a>,&rdquo; draft-ietf-httpbis-p3-payload-06 (work in progress), March&nbsp;2009.</td></tr>
<tr><td class="author-text" valign="top"><a name="Part4">[Part4]</a></td>
<td class="author-text"><a href="mailto:fielding@gbiv.com">Fielding, R., Ed.</a>, <a href="mailto:jg@laptop.org">Gettys, J.</a>, <a href="mailto:JeffMogul@acm.org">Mogul, J.</a>, <a href="mailto:henrikn@microsoft.com">Frystyk, H.</a>, <a href="mailto:LMM@acm.org">Masinter, L.</a>, <a href="mailto:paulle@microsoft.com">Leach, P.</a>, <a href="mailto:timbl@w3.org">Berners-Lee, T.</a>, <a href="mailto:ylafon@w3.org">Lafon, Y., Ed.</a>, and <a href="mailto:julian.reschke@greenbytes.de">J. Reschke, Ed.</a>, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-httpbis-p4-conditional-06.txt">HTTP/1.1, part 4: Conditional Requests</a>,&rdquo; draft-ietf-httpbis-p4-conditional-06 (work in progress), March&nbsp;2009.</td></tr>
<tr><td class="author-text" valign="top"><a name="Part6">[Part6]</a></td>
<td class="author-text"><a href="mailto:fielding@gbiv.com">Fielding, R., Ed.</a>, <a href="mailto:jg@laptop.org">Gettys, J.</a>, <a href="mailto:JeffMogul@acm.org">Mogul, J.</a>, <a href="mailto:henrikn@microsoft.com">Frystyk, H.</a>, <a href="mailto:LMM@acm.org">Masinter, L.</a>, <a href="mailto:paulle@microsoft.com">Leach, P.</a>, <a href="mailto:timbl@w3.org">Berners-Lee, T.</a>, <a href="mailto:ylafon@w3.org">Lafon, Y., Ed.</a>, and <a href="mailto:julian.reschke@greenbytes.de">J. Reschke, Ed.</a>, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-httpbis-p6-cache-06.txt">HTTP/1.1, part 6: Caching</a>,&rdquo; draft-ietf-httpbis-p6-cache-06 (work in progress), March&nbsp;2009.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2046">[RFC2046]</a></td>
<td class="author-text"><a href="mailto:ned@innosoft.com">Freed, N.</a> and <a href="mailto:nsb@nsb.fv.com">N. Borenstein</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2046">Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types</a>,&rdquo; RFC&nbsp;2046, November&nbsp;1996.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5234">[RFC5234]</a></td>
<td class="author-text"><a href="mailto:dcrocker@bbiw.net">Crocker, D., Ed.</a> and <a href="mailto:paul.overell@thus.net">P. Overell</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc5234">Augmented BNF for Syntax Specifications: ABNF</a>,&rdquo; STD&nbsp;68, RFC&nbsp;5234, January&nbsp;2008.</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>9.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2616">[RFC2616]</a></td>
<td class="author-text"><a href="mailto:fielding@ics.uci.edu">Fielding, R.</a>, <a href="mailto:jg@w3.org">Gettys, J.</a>, <a href="mailto:mogul@wrl.dec.com">Mogul, J.</a>, <a href="mailto:frystyk@w3.org">Frystyk, H.</a>, <a href="mailto:masinter@parc.xerox.com">Masinter, L.</a>, <a href="mailto:paulle@microsoft.com">Leach, P.</a>, and <a href="mailto:timbl@w3.org">T. Berners-Lee</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2616">Hypertext Transfer Protocol -- HTTP/1.1</a>,&rdquo; RFC&nbsp;2616, June&nbsp;1999.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3864">[RFC3864]</a></td>
<td class="author-text"><a href="mailto:GK-IETF@ninebynine.org">Klyne, G.</a>, <a href="mailto:mnot@pobox.com">Nottingham, M.</a>, and <a href="mailto:JeffMogul@acm.org">J. Mogul</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc3864">Registration Procedures for Message Header Fields</a>,&rdquo; BCP&nbsp;90, RFC&nbsp;3864, September&nbsp;2004.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4288">[RFC4288]</a></td>
<td class="author-text"><a href="mailto:ned.freed@mrochek.com">Freed, N.</a> and <a href="mailto:klensin+ietf@jck.com">J. Klensin</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc4288">Media Type Specifications and Registration Procedures</a>,&rdquo; BCP&nbsp;13, RFC&nbsp;4288, December&nbsp;2005.</td></tr>
</table>

<a name="internet.media.type.multipart.byteranges"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A"></a><h3>Appendix A.&nbsp;
Internet Media Type multipart/byteranges</h3>
<a name='anchor42'></a><a name='anchor43'></a>
<p>
   When an HTTP 206 (Partial Content) response message includes the
   content of multiple ranges (a response to a request for multiple
   non-overlapping ranges), these are transmitted as a multipart
   message-body (<a class='info' href='#RFC2046'>[RFC2046]<span> (</span><span class='info'>Freed, N. and N. Borenstein, &ldquo;Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types,&rdquo; November&nbsp;1996.</span><span>)</span></a>, Section 5.1). The media type for this purpose is called
   "multipart/byteranges".  The following is to be registered with IANA <a class='info' href='#RFC4288'>[RFC4288]<span> (</span><span class='info'>Freed, N. and J. Klensin, &ldquo;Media Type Specifications and Registration Procedures,&rdquo; December&nbsp;2005.</span><span>)</span></a>.

</p>
<p>
   The multipart/byteranges media type includes one or more parts, each
   with its own Content-Type and Content-Range fields. The required
   boundary parameter specifies the boundary string used to separate
   each body-part.

</p>
<p>
  </p>
<blockquote class="text"><dl>
<dt>Type name:</dt>
<dd>
      multipart
    
</dd>
<dt>Subtype name:</dt>
<dd>
      byteranges
    
</dd>
<dt>Required parameters:</dt>
<dd>
      boundary
    
</dd>
<dt>Optional parameters:</dt>
<dd>
      none
    
</dd>
<dt>Encoding considerations:</dt>
<dd>
      only "7bit", "8bit", or "binary" are permitted
    
</dd>
<dt>Security considerations:</dt>
<dd>
      none
    
</dd>
<dt>Interoperability considerations:</dt>
<dd>
      none
    
</dd>
<dt>Published specification:</dt>
<dd>
      This specification (see <a class='info' href='#internet.media.type.multipart.byteranges'>Appendix&nbsp;A<span> (</span><span class='info'>Internet Media Type multipart/byteranges</span><span>)</span></a>).
    
</dd>
<dt>Applications that use this media type:</dt>
<dd>
    
</dd>
<dt>Additional information:</dt>
<dd>
      
<blockquote class="text"><dl>
<dt>Magic number(s):</dt>
<dd>none
</dd>
<dt>File extension(s):</dt>
<dd>none
</dd>
<dt>Macintosh file type code(s):</dt>
<dd>none
</dd>
</dl></blockquote>
    
</dd>
<dt>Person and email address to contact for further information:</dt>
<dd>
      See Authors Section.
    
</dd>
<dt>Intended usage:</dt>
<dd>
		  COMMON
    
</dd>
<dt>Restrictions on usage:</dt>
<dd>
		  none
    
</dd>
<dt>Author/Change controller:</dt>
<dd>
      IESG
    
</dd>
</dl></blockquote><p>

</p>
<p>
   For example:

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  HTTP/1.1 206 Partial Content
  Date: Wed, 15 Nov 1995 06:25:24 GMT
  Last-Modified: Wed, 15 Nov 1995 04:58:08 GMT
  Content-type: multipart/byteranges; boundary=THIS_STRING_SEPARATES

  --THIS_STRING_SEPARATES
  Content-type: application/pdf
  Content-range: bytes 500-999/8000

  ...the first range...
  --THIS_STRING_SEPARATES
  Content-type: application/pdf
  Content-range: bytes 7000-7999/8000

  ...the second range
  --THIS_STRING_SEPARATES--
</pre></div>
<p>
      Notes:
  </p>
<ol class="text">
<li>Additional CRLFs may precede the first boundary string in the
         entity.
</li>
<li>Although <a class='info' href='#RFC2046'>[RFC2046]<span> (</span><span class='info'>Freed, N. and N. Borenstein, &ldquo;Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types,&rdquo; November&nbsp;1996.</span><span>)</span></a> permits the boundary string to be
         quoted, some existing implementations handle a quoted boundary
         string incorrectly.
</li>
<li>A number of browsers and servers were coded to an early draft
         of the byteranges specification to use a media type of
         multipart/x-byteranges<a name='anchor44'></a><a name='anchor45'></a>, which is almost, but not quite
         compatible with the version documented in HTTP/1.1.
</li>
</ol><p>

</p>
<a name="compatibility"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.B"></a><h3>Appendix B.&nbsp;
Compatibility with Previous Versions</h3>

<a name="changes.from.rfc.2068"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.B.1"></a><h3>B.1.&nbsp;
Changes from RFC 2068</h3>

<p>
   Transfer-coding and message lengths all interact in ways that
   required fixing exactly when chunked encoding is used (to allow for
   transfer encoding that may not be self delimiting); it was important
   to straighten out exactly how message lengths are computed.
   (<a class='info' href='#header.content-range'>Section&nbsp;5.2<span> (</span><span class='info'>Content-Range</span><span>)</span></a>,
   see also <a class='info' href='#Part1'>[Part1]<span> (</span><span class='info'>Fielding, R., Ed., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., Berners-Lee, T., Lafon, Y., Ed., and J. Reschke, Ed., &ldquo;HTTP/1.1, part 1: URIs, Connections, and Message Parsing,&rdquo; March&nbsp;2009.</span><span>)</span></a>, <a class='info' href='#Part3'>[Part3]<span> (</span><span class='info'>Fielding, R., Ed., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., Berners-Lee, T., Lafon, Y., Ed., and J. Reschke, Ed., &ldquo;HTTP/1.1, part 3: Message Payload and Content Negotiation,&rdquo; March&nbsp;2009.</span><span>)</span></a> and <a class='info' href='#Part6'>[Part6]<span> (</span><span class='info'>Fielding, R., Ed., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., Berners-Lee, T., Lafon, Y., Ed., and J. Reschke, Ed., &ldquo;HTTP/1.1, part 6: Caching,&rdquo; March&nbsp;2009.</span><span>)</span></a>)

</p>
<p>
   There are situations where a server (especially a proxy) does not
   know the full length of a response but is capable of serving a
   byterange request. We therefore need a mechanism to allow byteranges
   with a content-range not indicating the full length of the message.
   (<a class='info' href='#header.content-range'>Section&nbsp;5.2<span> (</span><span class='info'>Content-Range</span><span>)</span></a>)

</p>
<p>
   Range request responses would become very verbose if all meta-data
   were always returned; by allowing the server to only send needed
   headers in a 206 response, this problem can be avoided.
   (Section <a class='info' href='#status.206'>3.1<span> (</span><span class='info'>206 Partial Content</span><span>)</span></a>
   and <a class='info' href='#header.if-range'>5.3<span> (</span><span class='info'>If-Range</span><span>)</span></a>)

</p>
<p>
   Fix problem with unsatisfiable range requests; there are two cases:
   syntactic problems, and range doesn't exist in the document. The 416
   status code was needed to resolve this ambiguity needed to indicate
   an error for a byte range request that falls outside of the actual
   contents of a document. (Section <a class='info' href='#status.416'>3.2<span> (</span><span class='info'>416 Requested Range Not Satisfiable</span><span>)</span></a>, <a class='info' href='#header.content-range'>5.2<span> (</span><span class='info'>Content-Range</span><span>)</span></a>)

</p>
<a name="changes.from.rfc.2616"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.B.2"></a><h3>B.2.&nbsp;
Changes from RFC 2616</h3>

<p>
  Clarify that it is not ok to use a weak cache validator in a 206 response.
  (<a class='info' href='#status.206'>Section&nbsp;3.1<span> (</span><span class='info'>206 Partial Content</span><span>)</span></a>)

</p>
<p>
  Clarify that multipart/byteranges can consist of a single part.
  (<a class='info' href='#internet.media.type.multipart.byteranges'>Appendix&nbsp;A<span> (</span><span class='info'>Internet Media Type multipart/byteranges</span><span>)</span></a>)

</p>
<a name="collected.abnf"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.C"></a><h3>Appendix C.&nbsp;
Collected ABNF</h3>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
<dfn>Accept-Ranges</dfn> = "<span class='str'>Accept-Ranges:</span>" <cite class='id'>OWS</cite> <cite class='id'>Accept-Ranges-v</cite>
<dfn>Accept-Ranges-v</dfn> = <cite class='id'>acceptable-ranges</cite>

<dfn>Content-Range</dfn> = "<span class='str'>Content-Range:</span>" <cite class='id'>OWS</cite> <cite class='id'>Content-Range-v</cite>
<dfn>Content-Range-v</dfn> = <cite class='id'>content-range-spec</cite>

<dfn>HTTP-date</dfn> = &lt;<span class='str'>HTTP-date, defined in [Part1], Section 3.2.1</span>&gt;

<dfn>If-Range</dfn> = "<span class='str'>If-Range:</span>" <cite class='id'>OWS</cite> <cite class='id'>If-Range-v</cite>
<dfn>If-Range-v</dfn> = <cite class='id'>entity-tag</cite> / <cite class='id'>HTTP-date</cite>

<dfn>OWS</dfn> = &lt;<span class='str'>OWS, defined in [Part1], Section 1.2.2</span>&gt;

<dfn>Range</dfn> = "<span class='str'>Range:</span>" <cite class='id'>OWS</cite> <cite class='id'>Range-v</cite>
<dfn>Range-v</dfn> = <cite class='id'>byte-ranges-specifier</cite> / <cite class='id'>other-ranges-specifier</cite>

<dfn>acceptable-ranges</dfn> = ( <span class='rep'>*</span>( "<span class='str'>,</span>" <cite class='id'>OWS</cite> ) <cite class='id'>range-unit</cite> <span class='rep'>*</span>( <cite class='id'>OWS</cite> "<span class='str'>,</span>" [ <cite class='id'>OWS</cite>
 <cite class='id'>range-unit</cite> ] ) ) / "<span class='str'>none</span>"

<dfn>byte-content-range-spec</dfn> = <cite class='id'>bytes-unit</cite> <cite class='key'>SP</cite> <cite class='id'>byte-range-resp-spec</cite> "<span class='str'>/</span>" (
 <cite class='id'>instance-length</cite> / "<span class='str'>*</span>" )
<dfn>byte-range-resp-spec</dfn> = ( <cite class='id'>first-byte-pos</cite> "<span class='str'>-</span>" <cite class='id'>last-byte-pos</cite> ) / "<span class='str'>*</span>"
<dfn>byte-range-set</dfn> = ( <span class='rep'>*</span>( "<span class='str'>,</span>" <cite class='id'>OWS</cite> ) <cite class='id'>byte-range-spec</cite> ) / (
 <cite class='id'>suffix-byte-range-spec</cite> <span class='rep'>*</span>( <cite class='id'>OWS</cite> "<span class='str'>,</span>" [ ( <cite class='id'>OWS</cite> <cite class='id'>byte-range-spec</cite> ) /
 <cite class='id'>suffix-byte-range-spec</cite> ] ) )
<dfn>byte-range-spec</dfn> = <cite class='id'>first-byte-pos</cite> "<span class='str'>-</span>" [ <cite class='id'>last-byte-pos</cite> ]
<dfn>byte-ranges-specifier</dfn> = <cite class='id'>bytes-unit</cite> "<span class='str'>=</span>" <cite class='id'>byte-range-set</cite>
<dfn>bytes-unit</dfn> = "<span class='str'>bytes</span>"

<dfn>content-range-spec</dfn> = <cite class='id'>byte-content-range-spec</cite> /
 <cite class='id'>other-content-range-spec</cite>

<dfn>entity-tag</dfn> = &lt;<span class='str'>entity-tag, defined in [Part4], Section 2</span>&gt;

<dfn>first-byte-pos</dfn> = <span class='rep'>1*</span><cite class='key'>DIGIT</cite>

<dfn>instance-length</dfn> = <span class='rep'>1*</span><cite class='key'>DIGIT</cite>

<dfn>last-byte-pos</dfn> = <span class='rep'>1*</span><cite class='key'>DIGIT</cite>

<dfn>other-content-range-spec</dfn> = <cite class='id'>other-range-unit</cite> <cite class='key'>SP</cite> <cite class='id'>other-range-resp-spec</cite>
<dfn>other-range-resp-spec</dfn> = <span class='rep'>*</span><cite class='key'>CHAR</cite>
<dfn>other-range-unit</dfn> = <cite class='id'>token</cite>
<dfn>other-ranges-specifier</dfn> = <span class='rep'>1*</span><cite class='key'>CHAR</cite>

<dfn>range-unit</dfn> = <cite class='id'>bytes-unit</cite> / <cite class='id'>other-range-unit</cite>

<dfn>suffix-byte-range-spec</dfn> = "<span class='str'>-</span>" <cite class='id'>suffix-length</cite>
<dfn>suffix-length</dfn> = <span class='rep'>1*</span><cite class='key'>DIGIT</cite>

<dfn>token</dfn> = &lt;<span class='str'>token, defined in [Part1], Section 1.2.2</span>&gt;


</pre></div>
<p>ABNF diagnostics:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
; Accept-Ranges defined but not used
; Content-Range defined but not used
; If-Range defined but not used
; Range defined but not used
</pre></div>
<a name="change.log"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.D"></a><h3>Appendix D.&nbsp;
Change Log (to be removed by RFC Editor before publication)</h3>

<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.D.1"></a><h3>D.1.&nbsp;
Since RFC2616</h3>

<p>
  Extracted relevant partitions from <a class='info' href='#RFC2616'>[RFC2616]<span> (</span><span class='info'>Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., and T. Berners-Lee, &ldquo;Hypertext Transfer Protocol -- HTTP/1.1,&rdquo; June&nbsp;1999.</span><span>)</span></a>.

</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.D.2"></a><h3>D.2.&nbsp;
Since draft-ietf-httpbis-p5-range-00</h3>

<p>
  Closed issues:
  </p>
<ul class="text">
<li>
      <a href='http://tools.ietf.org/wg/httpbis/trac/ticket/18'>http://tools.ietf.org/wg/httpbis/trac/ticket/18</a>:
      "Cache validators in 206 responses"
      (<a href='http://purl.org/NET/http-errata#ifrange206'>http://purl.org/NET/http-errata#ifrange206</a>)
    
</li>
<li>
      <a href='http://tools.ietf.org/wg/httpbis/trac/ticket/35'>http://tools.ietf.org/wg/httpbis/trac/ticket/35</a>:
      "Normative and Informative references"
    
</li>
<li>
      <a href='http://tools.ietf.org/wg/httpbis/trac/ticket/86'>http://tools.ietf.org/wg/httpbis/trac/ticket/86</a>:
      "Normative up-to-date references"
    
</li>
</ul><p>

</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.D.3"></a><h3>D.3.&nbsp;
Since draft-ietf-httpbis-p5-range-01</h3>

<p>
  Closed issues:
  </p>
<ul class="text">
<li>
      <a href='http://tools.ietf.org/wg/httpbis/trac/ticket/55'>http://tools.ietf.org/wg/httpbis/trac/ticket/55</a>:
      "Updating to RFC4288"
    
</li>
</ul><p>

</p>
<p>
  Ongoing work on ABNF conversion (<a href='http://tools.ietf.org/wg/httpbis/trac/ticket/36'>http://tools.ietf.org/wg/httpbis/trac/ticket/36</a>):
  </p>
<ul class="text">
<li>
      Add explicit references to BNF syntax and rules imported from other parts of the specification.
    
</li>
</ul><p>

</p>
<a name="changes.since.02"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.D.4"></a><h3>D.4.&nbsp;
Since draft-ietf-httpbis-p5-range-02</h3>

<p>
  Ongoing work on IANA Message Header Registration (<a href='http://tools.ietf.org/wg/httpbis/trac/ticket/40'>http://tools.ietf.org/wg/httpbis/trac/ticket/40</a>):
  </p>
<ul class="text">
<li>
      Reference RFC 3984, and update header registrations for headers defined
      in this document.
    
</li>
</ul><p>

</p>
<a name="changes.since.03"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.D.5"></a><h3>D.5.&nbsp;
Since draft-ietf-httpbis-p5-range-03</h3>

<p>

</p>
<a name="changes.since.04"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.D.6"></a><h3>D.6.&nbsp;
Since draft-ietf-httpbis-p5-range-04</h3>

<p>
  Closed issues:
  </p>
<ul class="text">
<li>
      <a href='http://tools.ietf.org/wg/httpbis/trac/ticket/133'>http://tools.ietf.org/wg/httpbis/trac/ticket/133</a>:
      "multipart/byteranges minimum number of parts"
    
</li>
</ul><p>

</p>
<p>
  Ongoing work on ABNF conversion (<a href='http://tools.ietf.org/wg/httpbis/trac/ticket/36'>http://tools.ietf.org/wg/httpbis/trac/ticket/36</a>):
  </p>
<ul class="text">
<li>
      Use "/" instead of "|" for alternatives.
    
</li>
<li>
      Introduce new ABNF rules for "bad" whitespace ("BWS"), optional
      whitespace ("OWS") and required whitespace ("RWS").
    
</li>
<li>
      Rewrite ABNFs to spell out whitespace rules, factor out
      header value format definitions.
    
</li>
</ul><p>

</p>
<a name="changes.since.05"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.D.7"></a><h3>D.7.&nbsp;
Since draft-ietf-httpbis-p5-range-05</h3>

<p>
  Closed issues:
  </p>
<ul class="text">
<li>
      <a href='http://tools.ietf.org/wg/httpbis/trac/ticket/142'>http://tools.ietf.org/wg/httpbis/trac/ticket/142</a>:
      "State base for *-byte-pos and suffix-length"
    
</li>
</ul><p>

</p>
<p>
  Ongoing work on Custom Ranges (<a href='http://tools.ietf.org/wg/httpbis/trac/ticket/85'>http://tools.ietf.org/wg/httpbis/trac/ticket/85</a>):
  </p>
<ul class="text">
<li>
      Remove bias in favor of byte ranges; allow custom ranges in ABNF.
    
</li>
</ul><p>

</p>
<p>
  Final work on ABNF conversion (<a href='http://tools.ietf.org/wg/httpbis/trac/ticket/36'>http://tools.ietf.org/wg/httpbis/trac/ticket/36</a>):
  </p>
<ul class="text">
<li>
      Add appendix containing collected and expanded ABNF, reorganize ABNF introduction.
    
</li>
</ul><p>

</p><a name="rfc.index"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Index</h3>
<table>
<tr><td><strong>2</strong></td><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor10"><b>206 Partial Content (status code)</b></a></td></tr>
<tr><td><strong>4</strong></td><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor12"><b>416 Requested Range Not Satisfiable (status code)</b></a></td></tr>
<tr><td><strong>A</strong></td><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor14"><b>Accept-Ranges header</b></a></td></tr>
<tr><td><strong>C</strong></td><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor19"><b>Content-Range header</b></a></td></tr>
<tr><td><strong>G</strong></td><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td><td>Grammar</td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor16"><b>Accept-Ranges</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor17"><b>Accept-Ranges-v</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor18"><b>acceptable-ranges</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor24"><b>byte-content-range-spec</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor25"><b>byte-range-resp-spec</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor35"><b>byte-range-set</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor36"><b>byte-range-spec</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor34"><b>byte-ranges-specifier</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor8"><b>bytes-unit</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor21"><b>Content-Range</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor23"><b>content-range-spec</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor22"><b>Content-Range-v</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor37"><b>first-byte-pos</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor29"><b>If-Range</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor30"><b>If-Range-v</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor26"><b>instance-length</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor38"><b>last-byte-pos</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor9"><b>other-range-unit</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor41"><b>Range</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor7"><b>range-unit</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor33"><b>ranges-specifier</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor39"><b>suffix-byte-range-spec</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor40"><b>suffix-length</b></a></td></tr>
<tr><td><strong>H</strong></td><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td><td>Headers</td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor15"><b>Accept-Ranges</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor20"><b>Content-Range</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor28"><b>If-Range</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor32"><b>Range</b></a></td></tr>
<tr><td><strong>I</strong></td><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor27"><b>If-Range header</b></a></td></tr>
<tr><td><strong>M</strong></td><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td><td>Media Type</td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor42"><b>multipart/byteranges</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor45">multipart/x-byteranges</a></td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor43"><b>multipart/byteranges Media Type</b></a></td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor44">multipart/x-byteranges Media Type</a></td></tr>
<tr><td><strong>R</strong></td><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor31"><b>Range header</b></a></td></tr>
<tr><td><strong>S</strong></td><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td><td>Status Codes</td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor11"><b>206 Partial Content</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor13"><b>416 Requested Range Not Satisfiable</b></a></td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Roy T. Fielding (editor)</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Day Software</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">23 Corporate Plaza DR, Suite 280</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Newport Beach, CA  92660</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+1-949-706-5300</td></tr>
<tr><td class="author" align="right">Fax:&nbsp;</td>
<td class="author-text">+1-949-706-5305</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text">fielding@gbiv.com</td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://roy.gbiv.com/">http://roy.gbiv.com/</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Jim Gettys</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">One Laptop per Child</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">21 Oak Knoll Road</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Carlisle, MA  01741</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text">jg@laptop.org</td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://www.laptop.org/">http://www.laptop.org/</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Jeffrey C. Mogul</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Hewlett-Packard Company</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">HP Labs, Large Scale Systems Group</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">1501 Page Mill Road, MS 1177</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Palo Alto, CA  94304</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text">JeffMogul@acm.org</td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Henrik Frystyk Nielsen</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Microsoft Corporation</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">1 Microsoft Way</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Redmond, WA  98052</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text">henrikn@microsoft.com</td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Larry Masinter</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Adobe Systems, Incorporated</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">345 Park Ave</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">San Jose, CA  95110</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text">LMM@acm.org</td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://larry.masinter.net/">http://larry.masinter.net/</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Paul J. Leach</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Microsoft Corporation</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">1 Microsoft Way</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Redmond, WA  98052</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text">paulle@microsoft.com</td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Tim Berners-Lee</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">World Wide Web Consortium</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">MIT Computer Science and Artificial Intelligence Laboratory</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">The Stata Center, Building 32</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">32 Vassar Street</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Cambridge, MA  02139</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text">timbl@w3.org</td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://www.w3.org/People/Berners-Lee/">http://www.w3.org/People/Berners-Lee/</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Yves Lafon (editor)</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">World Wide Web Consortium</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">W3C / ERCIM</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">2004, rte des Lucioles</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Sophia-Antipolis, AM  06902</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">France</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text">ylafon@w3.org</td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://www.raubacapeu.net/people/yves/">http://www.raubacapeu.net/people/yves/</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Julian F. Reschke (editor)</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">greenbytes GmbH</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Hafenweg 16</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Muenster, NW  48155</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Germany</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+49 251 2807760</td></tr>
<tr><td class="author" align="right">Fax:&nbsp;</td>
<td class="author-text">+49 251 2807761</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text">julian.reschke@greenbytes.de</td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://greenbytes.de/tech/webdav/">http://greenbytes.de/tech/webdav/</a></td></tr>
</table>
</body></html>
