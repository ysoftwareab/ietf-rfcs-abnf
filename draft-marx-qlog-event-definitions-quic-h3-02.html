<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>QUIC and HTTP/3 event definitions for qlog</title>
<meta content="Robin Marx" name="author">
<meta content="
       This document describes concrete qlog event definitions and their metadata for
QUIC and HTTP/3-related events. These events can then be embedded in the higher
level schema defined in  . 
    " name="description">
<meta content="xml2rfc 3.3.0" name="generator">
<meta content="Internet-Draft" name="keyword">
<meta content="draft-marx-qlog-event-definitions-quic-h3-02" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.3.0
    Python 3.6.10
    appdirs 1.4.4
    ConfigArgParse 1.2.3
    google-i18n-address 2.4.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.2
    kitchen 1.2.6
    lxml 4.6.1
    pycountry 20.7.3
    pyflakes 2.2.0
    PyYAML 5.3.1
    requests 2.24.0
    setuptools 40.6.2
    six 1.15.0
-->
<link href="/tmp/draft-marx-qlog-event-definitions-quic-h3-02-y0bkq442.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: avoid-page;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">QUIC and HTTP/3 event definitions for ql</td>
<td class="right">November 2020</td>
</tr></thead>
<tfoot><tr>
<td class="left">Marx</td>
<td class="center">Expires 6 May 2021</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">QUIC</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-marx-qlog-event-definitions-quic-h3-02</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2020-11-02" class="published">2 November 2020</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2021-05-06">6 May 2021</time></dd>
<dt class="label-authors">Author:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">R. Marx</div>
<div class="org">Hasselt University</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">QUIC and HTTP/3 event definitions for qlog</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This document describes concrete qlog event definitions and their metadata for
QUIC and HTTP/3-related events. These events can then be embedded in the higher
level schema defined in <span>[<a href="#QLOG-MAIN" class="xref">QLOG-MAIN</a>]</span>.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo-3">
<a href="#name-status-of-this-memo-3" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 6 May 2021.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice-3">
<a href="#name-copyright-notice-3" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2020 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents-3">
<a href="#name-table-of-contents-3" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction-3" class="xref">Introduction</a><a href="#section-toc.1-1.1.1" class="pilcrow">¶</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="xref">1.1</a>.  <a href="#name-notational-conventions-2" class="xref">Notational Conventions</a><a href="#section-toc.1-1.1.2.1.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="xref">2</a>.  <a href="#name-overview-2" class="xref">Overview</a><a href="#section-toc.1-1.2.1" class="pilcrow">¶</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1" class="keepWithNext"><a href="#section-2.1" class="xref">2.1</a>.  <a href="#name-importance" class="xref">Importance</a><a href="#section-toc.1-1.2.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.2.2.2">
                <p id="section-toc.1-1.2.2.2.1"><a href="#section-2.2" class="xref">2.2</a>.  <a href="#name-custom-fields-3" class="xref">Custom fields</a><a href="#section-toc.1-1.2.2.2.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-events-not-belonging-to-a-s" class="xref">Events not belonging to a single connection</a><a href="#section-toc.1-1.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-quic-and-http-3-fields" class="xref">QUIC and HTTP/3 fields</a><a href="#section-toc.1-1.4.1" class="pilcrow">¶</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-raw-packet-and-frame-inform" class="xref">Raw packet and frame information</a><a href="#section-toc.1-1.4.2.1.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-quic-event-definitions" class="xref">QUIC event definitions</a><a href="#section-toc.1-1.5.1" class="pilcrow">¶</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="xref">5.1</a>.  <a href="#name-connectivity" class="xref">connectivity</a><a href="#section-toc.1-1.5.2.1.1" class="pilcrow">¶</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.5.2.1.2.1">
                    <p id="section-toc.1-1.5.2.1.2.1.1"><a href="#section-5.1.1" class="xref">5.1.1</a>.  <a href="#name-server_listening" class="xref">server_listening</a><a href="#section-toc.1-1.5.2.1.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.5.2.1.2.2">
                    <p id="section-toc.1-1.5.2.1.2.2.1"><a href="#section-5.1.2" class="xref">5.1.2</a>.  <a href="#name-connection_started" class="xref">connection_started</a><a href="#section-toc.1-1.5.2.1.2.2.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.5.2.1.2.3">
                    <p id="section-toc.1-1.5.2.1.2.3.1"><a href="#section-5.1.3" class="xref">5.1.3</a>.  <a href="#name-connection_closed" class="xref">connection_closed</a><a href="#section-toc.1-1.5.2.1.2.3.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.5.2.1.2.4">
                    <p id="section-toc.1-1.5.2.1.2.4.1"><a href="#section-5.1.4" class="xref">5.1.4</a>.  <a href="#name-connection_id_updated" class="xref">connection_id_updated</a><a href="#section-toc.1-1.5.2.1.2.4.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.5.2.1.2.5">
                    <p id="section-toc.1-1.5.2.1.2.5.1"><a href="#section-5.1.5" class="xref">5.1.5</a>.  <a href="#name-spin_bit_updated" class="xref">spin_bit_updated</a><a href="#section-toc.1-1.5.2.1.2.5.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.5.2.1.2.6">
                    <p id="section-toc.1-1.5.2.1.2.6.1"><a href="#section-5.1.6" class="xref">5.1.6</a>.  <a href="#name-connection_retried" class="xref">connection_retried</a><a href="#section-toc.1-1.5.2.1.2.6.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.5.2.1.2.7">
                    <p id="section-toc.1-1.5.2.1.2.7.1"><a href="#section-5.1.7" class="xref">5.1.7</a>.  <a href="#name-connection_state_updated" class="xref">connection_state_updated</a><a href="#section-toc.1-1.5.2.1.2.7.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.5.2.1.2.8">
                    <p id="section-toc.1-1.5.2.1.2.8.1"><a href="#section-5.1.8" class="xref">5.1.8</a>.  <a href="#name-migration-related-events" class="xref">MIGRATION-related events</a><a href="#section-toc.1-1.5.2.1.2.8.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="xref">5.2</a>.  <a href="#name-security" class="xref">security</a><a href="#section-toc.1-1.5.2.2.1" class="pilcrow">¶</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.5.2.2.2.1">
                    <p id="section-toc.1-1.5.2.2.2.1.1"><a href="#section-5.2.1" class="xref">5.2.1</a>.  <a href="#name-key_updated" class="xref">key_updated</a><a href="#section-toc.1-1.5.2.2.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.5.2.2.2.2">
                    <p id="section-toc.1-1.5.2.2.2.2.1"><a href="#section-5.2.2" class="xref">5.2.2</a>.  <a href="#name-key_retired" class="xref">key_retired</a><a href="#section-toc.1-1.5.2.2.2.2.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.5.2.3">
                <p id="section-toc.1-1.5.2.3.1"><a href="#section-5.3" class="xref">5.3</a>.  <a href="#name-transport" class="xref">transport</a><a href="#section-toc.1-1.5.2.3.1" class="pilcrow">¶</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.5.2.3.2.1">
                    <p id="section-toc.1-1.5.2.3.2.1.1"><a href="#section-5.3.1" class="xref">5.3.1</a>.  <a href="#name-version_information" class="xref">version_information</a><a href="#section-toc.1-1.5.2.3.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.5.2.3.2.2">
                    <p id="section-toc.1-1.5.2.3.2.2.1"><a href="#section-5.3.2" class="xref">5.3.2</a>.  <a href="#name-alpn_information" class="xref">alpn_information</a><a href="#section-toc.1-1.5.2.3.2.2.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.5.2.3.2.3">
                    <p id="section-toc.1-1.5.2.3.2.3.1"><a href="#section-5.3.3" class="xref">5.3.3</a>.  <a href="#name-parameters_set" class="xref">parameters_set</a><a href="#section-toc.1-1.5.2.3.2.3.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.5.2.3.2.4">
                    <p id="section-toc.1-1.5.2.3.2.4.1"><a href="#section-5.3.4" class="xref">5.3.4</a>.  <a href="#name-parameters_restored" class="xref">parameters_restored</a><a href="#section-toc.1-1.5.2.3.2.4.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.5.2.3.2.5">
                    <p id="section-toc.1-1.5.2.3.2.5.1"><a href="#section-5.3.5" class="xref">5.3.5</a>.  <a href="#name-packet_sent" class="xref">packet_sent</a><a href="#section-toc.1-1.5.2.3.2.5.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.5.2.3.2.6">
                    <p id="section-toc.1-1.5.2.3.2.6.1"><a href="#section-5.3.6" class="xref">5.3.6</a>.  <a href="#name-packet_received" class="xref">packet_received</a><a href="#section-toc.1-1.5.2.3.2.6.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.5.2.3.2.7">
                    <p id="section-toc.1-1.5.2.3.2.7.1"><a href="#section-5.3.7" class="xref">5.3.7</a>.  <a href="#name-packet_dropped" class="xref">packet_dropped</a><a href="#section-toc.1-1.5.2.3.2.7.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.5.2.3.2.8">
                    <p id="section-toc.1-1.5.2.3.2.8.1"><a href="#section-5.3.8" class="xref">5.3.8</a>.  <a href="#name-packet_buffered" class="xref">packet_buffered</a><a href="#section-toc.1-1.5.2.3.2.8.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.5.2.3.2.9">
                    <p id="section-toc.1-1.5.2.3.2.9.1"><a href="#section-5.3.9" class="xref">5.3.9</a>.  <a href="#name-packets_acked" class="xref">packets_acked</a><a href="#section-toc.1-1.5.2.3.2.9.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.5.2.3.2.10">
                    <p id="section-toc.1-1.5.2.3.2.10.1"><a href="#section-5.3.10" class="xref">5.3.10</a>. <a href="#name-datagrams_sent" class="xref">datagrams_sent</a><a href="#section-toc.1-1.5.2.3.2.10.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.5.2.3.2.11">
                    <p id="section-toc.1-1.5.2.3.2.11.1"><a href="#section-5.3.11" class="xref">5.3.11</a>. <a href="#name-datagrams_received" class="xref">datagrams_received</a><a href="#section-toc.1-1.5.2.3.2.11.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.5.2.3.2.12">
                    <p id="section-toc.1-1.5.2.3.2.12.1"><a href="#section-5.3.12" class="xref">5.3.12</a>. <a href="#name-datagram_dropped" class="xref">datagram_dropped</a><a href="#section-toc.1-1.5.2.3.2.12.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.5.2.3.2.13">
                    <p id="section-toc.1-1.5.2.3.2.13.1"><a href="#section-5.3.13" class="xref">5.3.13</a>. <a href="#name-stream_state_updated" class="xref">stream_state_updated</a><a href="#section-toc.1-1.5.2.3.2.13.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.5.2.3.2.14">
                    <p id="section-toc.1-1.5.2.3.2.14.1"><a href="#section-5.3.14" class="xref">5.3.14</a>. <a href="#name-frames_processed" class="xref">frames_processed</a><a href="#section-toc.1-1.5.2.3.2.14.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.5.2.3.2.15">
                    <p id="section-toc.1-1.5.2.3.2.15.1"><a href="#section-5.3.15" class="xref">5.3.15</a>. <a href="#name-data_moved" class="xref">data_moved</a><a href="#section-toc.1-1.5.2.3.2.15.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.5.2.4">
                <p id="section-toc.1-1.5.2.4.1"><a href="#section-5.4" class="xref">5.4</a>.  <a href="#name-recovery" class="xref">recovery</a><a href="#section-toc.1-1.5.2.4.1" class="pilcrow">¶</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.5.2.4.2.1">
                    <p id="section-toc.1-1.5.2.4.2.1.1"><a href="#section-5.4.1" class="xref">5.4.1</a>.  <a href="#name-parameters_set-2" class="xref">parameters_set</a><a href="#section-toc.1-1.5.2.4.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.5.2.4.2.2">
                    <p id="section-toc.1-1.5.2.4.2.2.1"><a href="#section-5.4.2" class="xref">5.4.2</a>.  <a href="#name-metrics_updated" class="xref">metrics_updated</a><a href="#section-toc.1-1.5.2.4.2.2.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.5.2.4.2.3">
                    <p id="section-toc.1-1.5.2.4.2.3.1"><a href="#section-5.4.3" class="xref">5.4.3</a>.  <a href="#name-congestion_state_updated" class="xref">congestion_state_updated</a><a href="#section-toc.1-1.5.2.4.2.3.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.5.2.4.2.4">
                    <p id="section-toc.1-1.5.2.4.2.4.1"><a href="#section-5.4.4" class="xref">5.4.4</a>.  <a href="#name-loss_timer_updated" class="xref">loss_timer_updated</a><a href="#section-toc.1-1.5.2.4.2.4.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.5.2.4.2.5">
                    <p id="section-toc.1-1.5.2.4.2.5.1"><a href="#section-5.4.5" class="xref">5.4.5</a>.  <a href="#name-packet_lost" class="xref">packet_lost</a><a href="#section-toc.1-1.5.2.4.2.5.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.5.2.4.2.6">
                    <p id="section-toc.1-1.5.2.4.2.6.1"><a href="#section-5.4.6" class="xref">5.4.6</a>.  <a href="#name-marked_for_retransmit" class="xref">marked_for_retransmit</a><a href="#section-toc.1-1.5.2.4.2.6.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-http-3-event-definitions" class="xref">HTTP/3 event definitions</a><a href="#section-toc.1-1.6.1" class="pilcrow">¶</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="xref">6.1</a>.  <a href="#name-http" class="xref">http</a><a href="#section-toc.1-1.6.2.1.1" class="pilcrow">¶</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.6.2.1.2.1">
                    <p id="section-toc.1-1.6.2.1.2.1.1"><a href="#section-6.1.1" class="xref">6.1.1</a>.  <a href="#name-parameters_set-3" class="xref">parameters_set</a><a href="#section-toc.1-1.6.2.1.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.1.2.2">
                    <p id="section-toc.1-1.6.2.1.2.2.1"><a href="#section-6.1.2" class="xref">6.1.2</a>.  <a href="#name-parameters_restored-2" class="xref">parameters_restored</a><a href="#section-toc.1-1.6.2.1.2.2.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.1.2.3">
                    <p id="section-toc.1-1.6.2.1.2.3.1"><a href="#section-6.1.3" class="xref">6.1.3</a>.  <a href="#name-stream_type_set" class="xref">stream_type_set</a><a href="#section-toc.1-1.6.2.1.2.3.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.1.2.4">
                    <p id="section-toc.1-1.6.2.1.2.4.1"><a href="#section-6.1.4" class="xref">6.1.4</a>.  <a href="#name-frame_created" class="xref">frame_created</a><a href="#section-toc.1-1.6.2.1.2.4.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.1.2.5">
                    <p id="section-toc.1-1.6.2.1.2.5.1"><a href="#section-6.1.5" class="xref">6.1.5</a>.  <a href="#name-frame_parsed" class="xref">frame_parsed</a><a href="#section-toc.1-1.6.2.1.2.5.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.1.2.6">
                    <p id="section-toc.1-1.6.2.1.2.6.1"><a href="#section-6.1.6" class="xref">6.1.6</a>.  <a href="#name-push_resolved" class="xref">push_resolved</a><a href="#section-toc.1-1.6.2.1.2.6.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="xref">6.2</a>.  <a href="#name-qpack" class="xref">qpack</a><a href="#section-toc.1-1.6.2.2.1" class="pilcrow">¶</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.6.2.2.2.1">
                    <p id="section-toc.1-1.6.2.2.2.1.1"><a href="#section-6.2.1" class="xref">6.2.1</a>.  <a href="#name-state_updated" class="xref">state_updated</a><a href="#section-toc.1-1.6.2.2.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.2.2.2">
                    <p id="section-toc.1-1.6.2.2.2.2.1"><a href="#section-6.2.2" class="xref">6.2.2</a>.  <a href="#name-stream_state_updated-2" class="xref">stream_state_updated</a><a href="#section-toc.1-1.6.2.2.2.2.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.2.2.3">
                    <p id="section-toc.1-1.6.2.2.2.3.1"><a href="#section-6.2.3" class="xref">6.2.3</a>.  <a href="#name-dynamic_table_updated" class="xref">dynamic_table_updated</a><a href="#section-toc.1-1.6.2.2.2.3.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.2.2.4">
                    <p id="section-toc.1-1.6.2.2.2.4.1"><a href="#section-6.2.4" class="xref">6.2.4</a>.  <a href="#name-headers_encoded" class="xref">headers_encoded</a><a href="#section-toc.1-1.6.2.2.2.4.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.2.2.5">
                    <p id="section-toc.1-1.6.2.2.2.5.1"><a href="#section-6.2.5" class="xref">6.2.5</a>.  <a href="#name-headers_decoded" class="xref">headers_decoded</a><a href="#section-toc.1-1.6.2.2.2.5.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.2.2.6">
                    <p id="section-toc.1-1.6.2.2.2.6.1"><a href="#section-6.2.6" class="xref">6.2.6</a>.  <a href="#name-instruction_created" class="xref">instruction_created</a><a href="#section-toc.1-1.6.2.2.2.6.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.2.2.7">
                    <p id="section-toc.1-1.6.2.2.2.7.1"><a href="#section-6.2.7" class="xref">6.2.7</a>.  <a href="#name-instruction_parsed" class="xref">instruction_parsed</a><a href="#section-toc.1-1.6.2.2.2.7.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-generic-events-and-simulati" class="xref">Generic events and Simulation indicators</a><a href="#section-toc.1-1.7.1" class="pilcrow">¶</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="xref">7.1</a>.  <a href="#name-generic" class="xref">generic</a><a href="#section-toc.1-1.7.2.1.1" class="pilcrow">¶</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.7.2.1.2.1">
                    <p id="section-toc.1-1.7.2.1.2.1.1"><a href="#section-7.1.1" class="xref">7.1.1</a>.  <a href="#name-error" class="xref">error</a><a href="#section-toc.1-1.7.2.1.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.7.2.1.2.2">
                    <p id="section-toc.1-1.7.2.1.2.2.1"><a href="#section-7.1.2" class="xref">7.1.2</a>.  <a href="#name-warning" class="xref">warning</a><a href="#section-toc.1-1.7.2.1.2.2.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.7.2.1.2.3">
                    <p id="section-toc.1-1.7.2.1.2.3.1"><a href="#section-7.1.3" class="xref">7.1.3</a>.  <a href="#name-info" class="xref">info</a><a href="#section-toc.1-1.7.2.1.2.3.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.7.2.1.2.4">
                    <p id="section-toc.1-1.7.2.1.2.4.1"><a href="#section-7.1.4" class="xref">7.1.4</a>.  <a href="#name-debug" class="xref">debug</a><a href="#section-toc.1-1.7.2.1.2.4.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.7.2.1.2.5">
                    <p id="section-toc.1-1.7.2.1.2.5.1"><a href="#section-7.1.5" class="xref">7.1.5</a>.  <a href="#name-verbose" class="xref">verbose</a><a href="#section-toc.1-1.7.2.1.2.5.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="xref">7.2</a>.  <a href="#name-simulation" class="xref">simulation</a><a href="#section-toc.1-1.7.2.2.1" class="pilcrow">¶</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.7.2.2.2.1">
                    <p id="section-toc.1-1.7.2.2.2.1.1"><a href="#section-7.2.1" class="xref">7.2.1</a>.  <a href="#name-scenario" class="xref">scenario</a><a href="#section-toc.1-1.7.2.2.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.7.2.2.2.2">
                    <p id="section-toc.1-1.7.2.2.2.2.1"><a href="#section-7.2.2" class="xref">7.2.2</a>.  <a href="#name-marker" class="xref">marker</a><a href="#section-toc.1-1.7.2.2.2.2.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-security-considerations-2" class="xref">Security Considerations</a><a href="#section-toc.1-1.8.1" class="pilcrow">¶</a></p>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-iana-considerations-2" class="xref">IANA Considerations</a><a href="#section-toc.1-1.9.1" class="pilcrow">¶</a></p>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-references-3" class="xref">References</a><a href="#section-toc.1-1.10.1" class="pilcrow">¶</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a href="#section-10.1" class="xref">10.1</a>.  <a href="#name-normative-references-3" class="xref">Normative References</a><a href="#section-toc.1-1.10.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a href="#section-10.2" class="xref">10.2</a>.  <a href="#name-informative-references-3" class="xref">Informative References</a><a href="#section-toc.1-1.10.2.2.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-appendix.a" class="xref">Appendix A</a>.  <a href="#name-quic-data-field-definitions" class="xref">QUIC data field definitions</a><a href="#section-toc.1-1.11.1" class="pilcrow">¶</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.11.2.1">
                <p id="section-toc.1-1.11.2.1.1"><a href="#section-a.1" class="xref">A.1</a>.  <a href="#name-ipaddress" class="xref">IPAddress</a><a href="#section-toc.1-1.11.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.11.2.2">
                <p id="section-toc.1-1.11.2.2.1"><a href="#section-a.2" class="xref">A.2</a>.  <a href="#name-packettype" class="xref">PacketType</a><a href="#section-toc.1-1.11.2.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.11.2.3">
                <p id="section-toc.1-1.11.2.3.1"><a href="#section-a.3" class="xref">A.3</a>.  <a href="#name-packetnumberspace" class="xref">PacketNumberSpace</a><a href="#section-toc.1-1.11.2.3.1" class="pilcrow">¶</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.11.2.4">
                <p id="section-toc.1-1.11.2.4.1"><a href="#section-a.4" class="xref">A.4</a>.  <a href="#name-packetheader" class="xref">PacketHeader</a><a href="#section-toc.1-1.11.2.4.1" class="pilcrow">¶</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.11.2.5">
                <p id="section-toc.1-1.11.2.5.1"><a href="#section-a.5" class="xref">A.5</a>.  <a href="#name-token" class="xref">Token</a><a href="#section-toc.1-1.11.2.5.1" class="pilcrow">¶</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.11.2.6">
                <p id="section-toc.1-1.11.2.6.1"><a href="#section-a.6" class="xref">A.6</a>.  <a href="#name-keytype" class="xref">KeyType</a><a href="#section-toc.1-1.11.2.6.1" class="pilcrow">¶</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.11.2.7">
                <p id="section-toc.1-1.11.2.7.1"><a href="#section-a.7" class="xref">A.7</a>.  <a href="#name-quic-frames" class="xref">QUIC Frames</a><a href="#section-toc.1-1.11.2.7.1" class="pilcrow">¶</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.11.2.7.2.1">
                    <p id="section-toc.1-1.11.2.7.2.1.1"><a href="#section-a.7.1" class="xref">A.7.1</a>.  <a href="#name-paddingframe" class="xref">PaddingFrame</a><a href="#section-toc.1-1.11.2.7.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.11.2.7.2.2">
                    <p id="section-toc.1-1.11.2.7.2.2.1"><a href="#section-a.7.2" class="xref">A.7.2</a>.  <a href="#name-pingframe" class="xref">PingFrame</a><a href="#section-toc.1-1.11.2.7.2.2.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.11.2.7.2.3">
                    <p id="section-toc.1-1.11.2.7.2.3.1"><a href="#section-a.7.3" class="xref">A.7.3</a>.  <a href="#name-ackframe" class="xref">AckFrame</a><a href="#section-toc.1-1.11.2.7.2.3.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.11.2.7.2.4">
                    <p id="section-toc.1-1.11.2.7.2.4.1"><a href="#section-a.7.4" class="xref">A.7.4</a>.  <a href="#name-resetstreamframe" class="xref">ResetStreamFrame</a><a href="#section-toc.1-1.11.2.7.2.4.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.11.2.7.2.5">
                    <p id="section-toc.1-1.11.2.7.2.5.1"><a href="#section-a.7.5" class="xref">A.7.5</a>.  <a href="#name-stopsendingframe" class="xref">StopSendingFrame</a><a href="#section-toc.1-1.11.2.7.2.5.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.11.2.7.2.6">
                    <p id="section-toc.1-1.11.2.7.2.6.1"><a href="#section-a.7.6" class="xref">A.7.6</a>.  <a href="#name-cryptoframe" class="xref">CryptoFrame</a><a href="#section-toc.1-1.11.2.7.2.6.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.11.2.7.2.7">
                    <p id="section-toc.1-1.11.2.7.2.7.1"><a href="#section-a.7.7" class="xref">A.7.7</a>.  <a href="#name-newtokenframe" class="xref">NewTokenFrame</a><a href="#section-toc.1-1.11.2.7.2.7.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.11.2.7.2.8">
                    <p id="section-toc.1-1.11.2.7.2.8.1"><a href="#section-a.7.8" class="xref">A.7.8</a>.  <a href="#name-streamframe" class="xref">StreamFrame</a><a href="#section-toc.1-1.11.2.7.2.8.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.11.2.7.2.9">
                    <p id="section-toc.1-1.11.2.7.2.9.1"><a href="#section-a.7.9" class="xref">A.7.9</a>.  <a href="#name-maxdataframe" class="xref">MaxDataFrame</a><a href="#section-toc.1-1.11.2.7.2.9.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.11.2.7.2.10">
                    <p id="section-toc.1-1.11.2.7.2.10.1"><a href="#section-a.7.10" class="xref">A.7.10</a>. <a href="#name-maxstreamdataframe" class="xref">MaxStreamDataFrame</a><a href="#section-toc.1-1.11.2.7.2.10.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.11.2.7.2.11">
                    <p id="section-toc.1-1.11.2.7.2.11.1"><a href="#section-a.7.11" class="xref">A.7.11</a>. <a href="#name-maxstreamsframe" class="xref">MaxStreamsFrame</a><a href="#section-toc.1-1.11.2.7.2.11.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.11.2.7.2.12">
                    <p id="section-toc.1-1.11.2.7.2.12.1"><a href="#section-a.7.12" class="xref">A.7.12</a>. <a href="#name-datablockedframe" class="xref">DataBlockedFrame</a><a href="#section-toc.1-1.11.2.7.2.12.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.11.2.7.2.13">
                    <p id="section-toc.1-1.11.2.7.2.13.1"><a href="#section-a.7.13" class="xref">A.7.13</a>. <a href="#name-streamdatablockedframe" class="xref">StreamDataBlockedFrame</a><a href="#section-toc.1-1.11.2.7.2.13.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.11.2.7.2.14">
                    <p id="section-toc.1-1.11.2.7.2.14.1"><a href="#section-a.7.14" class="xref">A.7.14</a>. <a href="#name-streamsblockedframe" class="xref">StreamsBlockedFrame</a><a href="#section-toc.1-1.11.2.7.2.14.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.11.2.7.2.15">
                    <p id="section-toc.1-1.11.2.7.2.15.1"><a href="#section-a.7.15" class="xref">A.7.15</a>. <a href="#name-newconnectionidframe" class="xref">NewConnectionIDFrame</a><a href="#section-toc.1-1.11.2.7.2.15.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.11.2.7.2.16">
                    <p id="section-toc.1-1.11.2.7.2.16.1"><a href="#section-a.7.16" class="xref">A.7.16</a>. <a href="#name-retireconnectionidframe" class="xref">RetireConnectionIDFrame</a><a href="#section-toc.1-1.11.2.7.2.16.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.11.2.7.2.17">
                    <p id="section-toc.1-1.11.2.7.2.17.1"><a href="#section-a.7.17" class="xref">A.7.17</a>. <a href="#name-pathchallengeframe" class="xref">PathChallengeFrame</a><a href="#section-toc.1-1.11.2.7.2.17.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.11.2.7.2.18">
                    <p id="section-toc.1-1.11.2.7.2.18.1"><a href="#section-a.7.18" class="xref">A.7.18</a>. <a href="#name-pathresponseframe" class="xref">PathResponseFrame</a><a href="#section-toc.1-1.11.2.7.2.18.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.11.2.7.2.19">
                    <p id="section-toc.1-1.11.2.7.2.19.1"><a href="#section-a.7.19" class="xref">A.7.19</a>. <a href="#name-connectioncloseframe" class="xref">ConnectionCloseFrame</a><a href="#section-toc.1-1.11.2.7.2.19.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.11.2.7.2.20">
                    <p id="section-toc.1-1.11.2.7.2.20.1"><a href="#section-a.7.20" class="xref">A.7.20</a>. <a href="#name-handshakedoneframe" class="xref">HandshakeDoneFrame</a><a href="#section-toc.1-1.11.2.7.2.20.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.11.2.7.2.21">
                    <p id="section-toc.1-1.11.2.7.2.21.1"><a href="#section-a.7.21" class="xref">A.7.21</a>. <a href="#name-unknownframe" class="xref">UnknownFrame</a><a href="#section-toc.1-1.11.2.7.2.21.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.11.2.7.2.22">
                    <p id="section-toc.1-1.11.2.7.2.22.1"><a href="#section-a.7.22" class="xref">A.7.22</a>. <a href="#name-transporterror" class="xref">TransportError</a><a href="#section-toc.1-1.11.2.7.2.22.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.11.2.7.2.23">
                    <p id="section-toc.1-1.11.2.7.2.23.1"><a href="#section-a.7.23" class="xref">A.7.23</a>. <a href="#name-cryptoerror" class="xref">CryptoError</a><a href="#section-toc.1-1.11.2.7.2.23.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-appendix.b" class="xref">Appendix B</a>.  <a href="#name-http-3-data-field-definitio" class="xref">HTTP/3 data field definitions</a><a href="#section-toc.1-1.12.1" class="pilcrow">¶</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.12.2.1">
                <p id="section-toc.1-1.12.2.1.1"><a href="#section-b.1" class="xref">B.1</a>.  <a href="#name-http-3-frames" class="xref">HTTP/3 Frames</a><a href="#section-toc.1-1.12.2.1.1" class="pilcrow">¶</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.12.2.1.2.1">
                    <p id="section-toc.1-1.12.2.1.2.1.1"><a href="#section-b.1.1" class="xref">B.1.1</a>.  <a href="#name-dataframe" class="xref">DataFrame</a><a href="#section-toc.1-1.12.2.1.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.12.2.1.2.2">
                    <p id="section-toc.1-1.12.2.1.2.2.1"><a href="#section-b.1.2" class="xref">B.1.2</a>.  <a href="#name-headersframe" class="xref">HeadersFrame</a><a href="#section-toc.1-1.12.2.1.2.2.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.12.2.1.2.3">
                    <p id="section-toc.1-1.12.2.1.2.3.1"><a href="#section-b.1.3" class="xref">B.1.3</a>.  <a href="#name-cancelpushframe" class="xref">CancelPushFrame</a><a href="#section-toc.1-1.12.2.1.2.3.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.12.2.1.2.4">
                    <p id="section-toc.1-1.12.2.1.2.4.1"><a href="#section-b.1.4" class="xref">B.1.4</a>.  <a href="#name-settingsframe" class="xref">SettingsFrame</a><a href="#section-toc.1-1.12.2.1.2.4.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.12.2.1.2.5">
                    <p id="section-toc.1-1.12.2.1.2.5.1"><a href="#section-b.1.5" class="xref">B.1.5</a>.  <a href="#name-pushpromiseframe" class="xref">PushPromiseFrame</a><a href="#section-toc.1-1.12.2.1.2.5.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.12.2.1.2.6">
                    <p id="section-toc.1-1.12.2.1.2.6.1"><a href="#section-b.1.6" class="xref">B.1.6</a>.  <a href="#name-goawayframe" class="xref">GoAwayFrame</a><a href="#section-toc.1-1.12.2.1.2.6.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.12.2.1.2.7">
                    <p id="section-toc.1-1.12.2.1.2.7.1"><a href="#section-b.1.7" class="xref">B.1.7</a>.  <a href="#name-maxpushidframe" class="xref">MaxPushIDFrame</a><a href="#section-toc.1-1.12.2.1.2.7.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.12.2.1.2.8">
                    <p id="section-toc.1-1.12.2.1.2.8.1"><a href="#section-b.1.8" class="xref">B.1.8</a>.  <a href="#name-duplicatepushframe" class="xref">DuplicatePushFrame</a><a href="#section-toc.1-1.12.2.1.2.8.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.12.2.1.2.9">
                    <p id="section-toc.1-1.12.2.1.2.9.1"><a href="#section-b.1.9" class="xref">B.1.9</a>.  <a href="#name-reservedframe" class="xref">ReservedFrame</a><a href="#section-toc.1-1.12.2.1.2.9.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.12.2.1.2.10">
                    <p id="section-toc.1-1.12.2.1.2.10.1"><a href="#section-b.1.10" class="xref">B.1.10</a>. <a href="#name-unknownframe-2" class="xref">UnknownFrame</a><a href="#section-toc.1-1.12.2.1.2.10.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.12.2.2">
                <p id="section-toc.1-1.12.2.2.1"><a href="#section-b.2" class="xref">B.2</a>.  <a href="#name-applicationerror" class="xref">ApplicationError</a><a href="#section-toc.1-1.12.2.2.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#section-appendix.c" class="xref">Appendix C</a>.  <a href="#name-qpack-data-type-definitions" class="xref">QPACK DATA type definitions</a><a href="#section-toc.1-1.13.1" class="pilcrow">¶</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.13.2.1">
                <p id="section-toc.1-1.13.2.1.1"><a href="#section-c.1" class="xref">C.1</a>.  <a href="#name-qpack-instructions" class="xref">QPACK Instructions</a><a href="#section-toc.1-1.13.2.1.1" class="pilcrow">¶</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.13.2.1.2.1">
                    <p id="section-toc.1-1.13.2.1.2.1.1"><a href="#section-c.1.1" class="xref">C.1.1</a>.  <a href="#name-setdynamictablecapacityinst" class="xref">SetDynamicTableCapacityInstruction</a><a href="#section-toc.1-1.13.2.1.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.13.2.1.2.2">
                    <p id="section-toc.1-1.13.2.1.2.2.1"><a href="#section-c.1.2" class="xref">C.1.2</a>.  <a href="#name-insertwithnamereferenceinst" class="xref">InsertWithNameReferenceInstruction</a><a href="#section-toc.1-1.13.2.1.2.2.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.13.2.1.2.3">
                    <p id="section-toc.1-1.13.2.1.2.3.1"><a href="#section-c.1.3" class="xref">C.1.3</a>.  <a href="#name-insertwithoutnamereferencei" class="xref">InsertWithoutNameReferenceInstruction</a><a href="#section-toc.1-1.13.2.1.2.3.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.13.2.1.2.4">
                    <p id="section-toc.1-1.13.2.1.2.4.1"><a href="#section-c.1.4" class="xref">C.1.4</a>.  <a href="#name-duplicateinstruction" class="xref">DuplicateInstruction</a><a href="#section-toc.1-1.13.2.1.2.4.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.13.2.1.2.5">
                    <p id="section-toc.1-1.13.2.1.2.5.1"><a href="#section-c.1.5" class="xref">C.1.5</a>.  <a href="#name-headeracknowledgementinstru" class="xref">HeaderAcknowledgementInstruction</a><a href="#section-toc.1-1.13.2.1.2.5.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.13.2.1.2.6">
                    <p id="section-toc.1-1.13.2.1.2.6.1"><a href="#section-c.1.6" class="xref">C.1.6</a>.  <a href="#name-streamcancellationinstructi" class="xref">StreamCancellationInstruction</a><a href="#section-toc.1-1.13.2.1.2.6.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.13.2.1.2.7">
                    <p id="section-toc.1-1.13.2.1.2.7.1"><a href="#section-c.1.7" class="xref">C.1.7</a>.  <a href="#name-insertcountincrementinstruc" class="xref">InsertCountIncrementInstruction</a><a href="#section-toc.1-1.13.2.1.2.7.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.13.2.2">
                <p id="section-toc.1-1.13.2.2.1"><a href="#section-c.2" class="xref">C.2</a>.  <a href="#name-qpack-header-compression" class="xref">QPACK Header compression</a><a href="#section-toc.1-1.13.2.2.1" class="pilcrow">¶</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.13.2.2.2.1">
                    <p id="section-toc.1-1.13.2.2.2.1.1"><a href="#section-c.2.1" class="xref">C.2.1</a>.  <a href="#name-indexedheaderfield" class="xref">IndexedHeaderField</a><a href="#section-toc.1-1.13.2.2.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.13.2.2.2.2">
                    <p id="section-toc.1-1.13.2.2.2.2.1"><a href="#section-c.2.2" class="xref">C.2.2</a>.  <a href="#name-literalheaderfieldwithname" class="xref">LiteralHeaderFieldWithName</a><a href="#section-toc.1-1.13.2.2.2.2.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.13.2.2.2.3">
                    <p id="section-toc.1-1.13.2.2.2.3.1"><a href="#section-c.2.3" class="xref">C.2.3</a>.  <a href="#name-literalheaderfieldwithoutna" class="xref">LiteralHeaderFieldWithoutName</a><a href="#section-toc.1-1.13.2.2.2.3.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.13.2.2.2.4">
                    <p id="section-toc.1-1.13.2.2.2.4.1"><a href="#section-c.2.4" class="xref">C.2.4</a>.  <a href="#name-qpackheaderblockprefix" class="xref">QPackHeaderBlockPrefix</a><a href="#section-toc.1-1.13.2.2.2.4.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#section-appendix.d" class="xref">Appendix D</a>.  <a href="#name-change-log-3" class="xref">Change Log</a><a href="#section-toc.1-1.14.1" class="pilcrow">¶</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.14.2.1">
                <p id="section-toc.1-1.14.2.1.1"><a href="#section-d.1" class="xref">D.1</a>.  <a href="#name-since-draft-01" class="xref">Since draft-01:</a><a href="#section-toc.1-1.14.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.14.2.2">
                <p id="section-toc.1-1.14.2.2.1"><a href="#section-d.2" class="xref">D.2</a>.  <a href="#name-since-draft-00" class="xref">Since draft-00:</a><a href="#section-toc.1-1.14.2.2.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1"><a href="#section-appendix.e" class="xref">Appendix E</a>.  <a href="#name-design-variations-2" class="xref">Design Variations</a><a href="#section-toc.1-1.15.1" class="pilcrow">¶</a></p>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.16">
            <p id="section-toc.1-1.16.1"><a href="#section-appendix.f" class="xref">Appendix F</a>.  <a href="#name-acknowledgements-3" class="xref">Acknowledgements</a><a href="#section-toc.1-1.16.1" class="pilcrow">¶</a></p>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.17">
            <p id="section-toc.1-1.17.1"><a href="#section-appendix.g" class="xref"></a><a href="#name-authors-address-2" class="xref">Author's Address</a><a href="#section-toc.1-1.17.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction-3">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction-3" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">This document describes the values of the qlog name ("category" + "event") and
"data" fields and their semantics for the QUIC and HTTP/3 protocols. This document
is based on draft-29 of the QUIC and HTTP/3 I-Ds <span><a href="#QUIC-HTTP" class="xref">QUIC-TRANSPORT</a> [<a href="#QUIC-HTTP" class="xref">QUIC-HTTP</a>]</span> and
draft-16 of the QPACK I-D <span>[<a href="#QUIC-QPACK" class="xref">QUIC-QPACK</a>]</span>.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">Feedback and discussion welcome at
<a href="https://github.com/quiclog/internet-drafts">https://github.com/quiclog/internet-drafts</a>.
Readers are advised to refer to the "editor's draft" at that URL for an
up-to-date version of this document.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">Concrete examples of integrations of this schema in
various programming languages can be found at
<a href="https://github.com/quiclog/qlog/">https://github.com/quiclog/qlog/</a>.<a href="#section-1-3" class="pilcrow">¶</a></p>
<div id="notational-conventions">
<section id="section-1.1">
        <h3 id="name-notational-conventions-2">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-notational-conventions-2" class="section-name selfRef">Notational Conventions</a>
        </h3>
<p id="section-1.1-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD",
"SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be
interpreted as described in <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span>.<a href="#section-1.1-1" class="pilcrow">¶</a></p>
<p id="section-1.1-2">The examples and data definitions in ths document are expressed in a custom data
definition language, inspired by JSON and TypeScript, and described in
<span>[<a href="#QLOG-MAIN" class="xref">QLOG-MAIN</a>]</span>.<a href="#section-1.1-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="overview">
<section id="section-2">
      <h2 id="name-overview-2">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-overview-2" class="section-name selfRef">Overview</a>
      </h2>
<p id="section-2-1">This document describes the values of the qlog "name" ("category" + "event") and
"data" fields and their semantics for the QUIC and HTTP/3 protocols.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2">This document assumes the usage of the encompassing main qlog schema defined in
<span>[<a href="#QLOG-MAIN" class="xref">QLOG-MAIN</a>]</span>. Each subsection below defines a separate category (for example
connectivity, transport, http) and each subsubsection is an event type (for
example <code>packet_received</code>).<a href="#section-2-2" class="pilcrow">¶</a></p>
<p id="section-2-3">For each event type, its importance and data definition is laid out, often
accompanied by possible values for the optional "trigger" field. For the
definition and semantics of "trigger", see the main schema document.<a href="#section-2-3" class="pilcrow">¶</a></p>
<p id="section-2-4">Most of the complex datastructures, enums and re-usable definitions are grouped
together on the bottom of this document for clarity.<a href="#section-2-4" class="pilcrow">¶</a></p>
<div id="importance">
<section id="section-2.1">
        <h3 id="name-importance">
<a href="#section-2.1" class="section-number selfRef">2.1. </a><a href="#name-importance" class="section-name selfRef">Importance</a>
        </h3>
<p id="section-2.1-1">Many of the events defined in this document map directly to concepts seen in the
QUIC and HTTP/3 documents, while others act as aggregating events that combine
data from several possible protocol behaviours or code paths into one. This is
done to reduce the amount of unique event definitions, as reflecting each possible
protocol event as a separate qlog entity would cause an explosion of event types.
Similarly, we prevent logging duplicate packet data as much as possible. As such,
especially packet header value updates are split out into separate events (for
example spin_bit_updated, connection_id_updated), as they are expected to change
sparingly.<a href="#section-2.1-1" class="pilcrow">¶</a></p>
<p id="section-2.1-2">Consequently, many events that can be directly inferred from data on the wire (for
example flow control limit changes) if the implementation is bug-free, are
currently not explicitly defined as stand-alone events. Exceptions can be made for
common events that benefit from being easily identifiable or individually logged
(for example the <code>packets_acked</code> event). This can in turn give rise to separate
events logging similar data, where it is not always clear which event should be
logged (for example the separate <code>connection_started</code> event, whereas the more
general <code>connection_state_updated</code> event also allows indicating that a connection
was started).<a href="#section-2.1-2" class="pilcrow">¶</a></p>
<p id="section-2.1-3">To aid in this decision making, each event has an "importance indicator" with one
of three values, in decreasing order of importance and exptected usage:<a href="#section-2.1-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.1-4.1">Core<a href="#section-2.1-4.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-2.1-4.2">Base<a href="#section-2.1-4.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-2.1-4.3">Extra<a href="#section-2.1-4.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-2.1-5">The "Core" events are the events that SHOULD be present in all qlog files. These
are mostly tied to basic packet and frame parsing and creation, as well as listing
basic internal metrics. Tool implementers SHOULD expect and add support for these
events, though SHOULD NOT expect all Core events to be present in each qlog trace.<a href="#section-2.1-5" class="pilcrow">¶</a></p>
<p id="section-2.1-6">The "Base" events add additional debugging options and CAN be present in qlog
files. Most of these can be implicitly inferred from data in Core events (if those
contain all their properties), but for many it is better to log the events
explicitly as well, making it clearer how the implementation behaves. These events
are for example tied to passing data around in buffers, to how internal state
machines change and help show when decisions are actually made based on received
data. Tool implementers SHOULD at least add support for showing the contents of
these events, if they do not handle them explicitly.<a href="#section-2.1-6" class="pilcrow">¶</a></p>
<p id="section-2.1-7">The "Extra" events are considered mostly useful for low-level debugging of the
implementation, rather than the protocol. They allow more fine-grained tracking of
internal behaviour. As such, they CAN be present in qlog files and tool
implementers CAN add support for these, but they are not required to.<a href="#section-2.1-7" class="pilcrow">¶</a></p>
<p id="section-2.1-8">Note that in some cases, implementers might not want to log for example
frame-level details in the "Core" events due to performance or privacy
considerations. In this case, they SHOULD use (a subset of) relevant "Base" events
instead to ensure usability of the qlog output. As an example, implementations
that do not log "packet_received" events and thus also not which (if any) ACK
frames the packet contain, SHOULD log <code>packets_acked</code> events instead.<a href="#section-2.1-8" class="pilcrow">¶</a></p>
<p id="section-2.1-9">Finally, for event types who's data (partially) overlap with other event types'
definitions, where necessary this document includes guidance on which to use in
specific situations.<a href="#section-2.1-9" class="pilcrow">¶</a></p>
</section>
</div>
<div id="custom-fields">
<section id="section-2.2">
        <h3 id="name-custom-fields-3">
<a href="#section-2.2" class="section-number selfRef">2.2. </a><a href="#name-custom-fields-3" class="section-name selfRef">Custom fields</a>
        </h3>
<p id="section-2.2-1">Note that implementers are free to define new category and event types, as well as
values for the "trigger" property within the "data" field, or other member fields
of the "data" field, as they see fit. They SHOULD NOT however expect
non-specialized tools to recognize or visualize this custom data. However, tools
SHOULD make an effort to visualize even unknown data if possible in the specific
tool's context.<a href="#section-2.2-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="handling-unknown-connections">
<section id="section-3">
      <h2 id="name-events-not-belonging-to-a-s">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-events-not-belonging-to-a-s" class="section-name selfRef">Events not belonging to a single connection</a>
      </h2>
<p id="section-3-1">For several types of events, it is sometimes impossible to tie them to a specific
conceptual QUIC connection (e.g., a packet_dropped event triggered because the
packet has an unknown connection_id in the header). Since qlog events in a trace
are typically associated with a single connection, it is unclear how to log these
events.<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">Ideally, implementers SHOULD create a separate, individual "endpoint-level" trace
file (or group_id value), not associated with a specific connection (for example a
"server.qlog" or group_id = "client"), and log all events that do not belong to a
single connection to this grouping trace. However, this is not always practical,
depending on the implementation. Because the semantics of most of these events are
well-defined in the protocols and because they are difficult to mis-interpret as
belonging to a connection, implementers MAY choose to log events not belonging to
a particular connection in any other trace, even those strongly associated with a
single connection.<a href="#section-3-2" class="pilcrow">¶</a></p>
<p id="section-3-3">Note that this can make it difficult to match logs from different vantage points
with each other. For example, from the client side, it is easy to log connections
with version negotiation or retry in the same trace, while on the server they
would most likely be logged in separate traces. Servers can take extra efforts
(and keep additional state) to keep these events combined in a single trace
however (for example by also matching connections on their four-tuple instead of
just the connection ID).<a href="#section-3-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="quic-and-http3-fields">
<section id="section-4">
      <h2 id="name-quic-and-http-3-fields">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-quic-and-http-3-fields" class="section-name selfRef">QUIC and HTTP/3 fields</a>
      </h2>
<p id="section-4-1">This document re-uses all the fields defined in the main qlog schema (e.g., name,
category, type, data, group_id, protocol_type, the time-related fields, etc.).<a href="#section-4-1" class="pilcrow">¶</a></p>
<p id="section-4-2">The value of the "protocol_type" qlog field MUST be "QUIC_HTTP3".<a href="#section-4-2" class="pilcrow">¶</a></p>
<p id="section-4-3">When the qlog "group_id" field is used, it is recommended to use QUIC's Original
Destination Connection ID (ODCID, the CID chosen by the client when first
contacting the server), as this is the only value that does not change over the
course of the connection and can be used to link more advanced QUIC packets (e.g.,
Retry, Version Negotiation) to a given connection. Similarly, the ODCID should be
used as the qlog filename or file identifier, potentially suffixed by the
vantagepoint type (For example, abcd1234_server.qlog would contain the server-side
trace of the connection with ODCID abcd1234).<a href="#section-4-3" class="pilcrow">¶</a></p>
<div id="raw-packet-and-frame-information">
<section id="section-4.1">
        <h3 id="name-raw-packet-and-frame-inform">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-raw-packet-and-frame-inform" class="section-name selfRef">Raw packet and frame information</a>
        </h3>
<p id="section-4.1-1">While qlog is a more high-level logging format, it also allows the inclusion of
most raw wire image information, such as byte lengths and even raw byte values.
This can be useful when for example investigating or tuning packetization
behaviour or determining encoding/framing overheads. However, these fields are not
always necessary and can take up considerable space if logged for each packet or
frame. As such, they are grouped in a separate optional field called "raw" of type
RawInfo (where applicable).<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-4.1-2">
<pre>
class RawInfo {
    length?:uint64; // full packet/frame length, including header and AEAD authentication tag lengths (where applicable)
    payload_length?:uint64; // length of the packet/frame payload, excluding AEAD tag. For many control frames, this will have a value of zero

    data?:bytes; // full packet/frame contents, including header and AEAD authentication tag (where applicable)
}
</pre><a href="#section-4.1-2" class="pilcrow">¶</a>
</div>
<span class="break"></span><dl class="dlParallel" id="section-4.1-3">
          <dt id="section-4.1-3.1">Note:</dt>
          <dd style="margin-left: 1.5em" id="section-4.1-3.2">
  QUIC packets always include an AEAD authentication tag at the end. As this
tag is always the same size for a given connection (it depends on the used TLS
cipher), we do not have a separate "aead_tag_length" field here. Instead, this
field is reflected in "transport:parameters_set" and can be logged only once.<a href="#section-4.1-3.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.1-3.3">Note:</dt>
          <dd style="margin-left: 1.5em" id="section-4.1-3.4">
  There is intentionally no explicit header_length field in RawInfo. QUIC and
HTTP/3 use many Variable-Length Integer Encoded (VLIE) values in their packet and
frame headers, which are of a dynamic length. Note too that because of this, we
cannot deterministally reconstruct the header encoding/length from qlog data, as
implementations might not necessarily employ the most efficient VLIE scheme for
all values. As such, it is typically easier to log just the total packet/frame
length and the payload length. The header length can be calculated by tools as:<a href="#section-4.1-3.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.1-3.5"></dt>
          <dd style="margin-left: 1.5em" id="section-4.1-3.6">For QUIC packets: header_length = length - payload_length - aead_tag_length<a href="#section-4.1-3.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.1-3.7"></dt>
          <dd style="margin-left: 1.5em" id="section-4.1-3.8">For QUIC and HTTP/3 frames: header_length = length - payload_length<a href="#section-4.1-3.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.1-3.9"></dt>
          <dd style="margin-left: 1.5em" id="section-4.1-3.10">For UDP datagrams: header_length = length - payload_length<a href="#section-4.1-3.10" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.1-3.11">Note:</dt>
          <dd style="margin-left: 1.5em" id="section-4.1-3.12">
  In some cases, the length fields are also explicitly reflected inside of
frame/packet headers. For example, the QUIC STREAM frame has a "length" field
indicating its payload size. Similarly, all HTTP/3 frames include their explicit
payload lengths in the frame header. Finally, the QUIC Long Header has a "length"
field which is equal to the payload length plus the packet number length. In these
cases, those fields are intentionally preserved in the event definitions. Even
though this can lead to duplicate data when the full RawInfo is logged, it allows
a more direct mapping of the QUIC and HTTP/3 specifications to qlog, making it
easier for users to interpret.<a href="#section-4.1-3.12" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.1-3.13">Note:</dt>
          <dd style="margin-left: 1.5em" id="section-4.1-3.14">
  as described in <span>[<a href="#QLOG-MAIN" class="xref">QLOG-MAIN</a>]</span>, the RawInfo:data field can be truncated for privacy
or security purposes (for example excluding payload data). In this case, the
length properties should still indicate the non-truncated lengths.<a href="#section-4.1-3.14" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
<div id="quic-event-definitions">
<section id="section-5">
      <h2 id="name-quic-event-definitions">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-quic-event-definitions" class="section-name selfRef">QUIC event definitions</a>
      </h2>
<p id="section-5-1">Each subheading in this section is a qlog event category, while each
sub-subheading is a qlog event type. Concretely, for the following two items, we
have the category "connectivity" and event type "server_listening", resulting in a
concatenated qlog "name" field value of "connectivity:server_listening".<a href="#section-5-1" class="pilcrow">¶</a></p>
<div id="connectivity">
<section id="section-5.1">
        <h3 id="name-connectivity">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-connectivity" class="section-name selfRef">connectivity</a>
        </h3>
<div id="serverlistening">
<section id="section-5.1.1">
          <h4 id="name-server_listening">
<a href="#section-5.1.1" class="section-number selfRef">5.1.1. </a><a href="#name-server_listening" class="section-name selfRef">server_listening</a>
          </h4>
<p id="section-5.1.1-1">Importance: Extra<a href="#section-5.1.1-1" class="pilcrow">¶</a></p>
<p id="section-5.1.1-2">Emitted when the server starts accepting connections.<a href="#section-5.1.1-2" class="pilcrow">¶</a></p>
<p id="section-5.1.1-3">Data:<a href="#section-5.1.1-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-5.1.1-4">
<pre>
{
    ip_v4?: IPAddress,
    ip_v6?: IPAddress,
    port_v4?: uint32,
    port_v6?: uint32,

    retry_required?:boolean // the server will always answer client initials with a retry (no 1-RTT connection setups by choice)
}
</pre><a href="#section-5.1.1-4" class="pilcrow">¶</a>
</div>
<p id="section-5.1.1-5">Note: some QUIC stacks do not handle sockets directly and are thus unable to log
IP and/or port information.<a href="#section-5.1.1-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="connectionstarted">
<section id="section-5.1.2">
          <h4 id="name-connection_started">
<a href="#section-5.1.2" class="section-number selfRef">5.1.2. </a><a href="#name-connection_started" class="section-name selfRef">connection_started</a>
          </h4>
<p id="section-5.1.2-1">Importance: Base<a href="#section-5.1.2-1" class="pilcrow">¶</a></p>
<p id="section-5.1.2-2">Used for both attempting (client-perspective) and accepting (server-perspective)
new connections. Note that this event has overlap with connection_state_updated
and this is a separate event mainly because of all the additional data that should
be logged.<a href="#section-5.1.2-2" class="pilcrow">¶</a></p>
<p id="section-5.1.2-3">Data:<a href="#section-5.1.2-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-5.1.2-4">
<pre>
{
    ip_version?: "v4" | "v6",
    src_ip?: IPAddress,
    dst_ip?: IPAddress,

    protocol?: string, // transport layer protocol (default "QUIC")
    src_port?: uint32,
    dst_port?: uint32,

    src_cid?: bytes,
    dst_cid?: bytes,

}
</pre><a href="#section-5.1.2-4" class="pilcrow">¶</a>
</div>
<p id="section-5.1.2-5">Note: some QUIC stacks do not handle sockets directly and are thus unable to log
IP and/or port information.<a href="#section-5.1.2-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="connectionclosed">
<section id="section-5.1.3">
          <h4 id="name-connection_closed">
<a href="#section-5.1.3" class="section-number selfRef">5.1.3. </a><a href="#name-connection_closed" class="section-name selfRef">connection_closed</a>
          </h4>
<p id="section-5.1.3-1">Importance: Base<a href="#section-5.1.3-1" class="pilcrow">¶</a></p>
<p id="section-5.1.3-2">Used for logging when a connection was closed, typically when an error or timeout
occurred. Note that this event has overlap with
connectivity:connection_state_updated, as well as the CONNECTION_CLOSE frame.
However, in practice, when analyzing large deployments, it can be useful to have a
single event representing a connection_closed event, which also includes an
additional reason field to provide additional information. Additionally, it is
useful to log closures due to timeouts, which are difficult to reflect using the
other options.<a href="#section-5.1.3-2" class="pilcrow">¶</a></p>
<p id="section-5.1.3-3">In QUIC there are two main connection-closing error categories: connection and
application errors. They have well-defined error codes and semantics. Next to
these however, there can be internal errors that occur that may or may not get
mapped to the official error codes in implementation-specific ways. As such,
multiple error codes can be set on the same event to reflect this.<a href="#section-5.1.3-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-5.1.3-4">
<pre>
{
    owner?:"local"|"remote", // which side closed the connection

    connection_code?:TransportError | CryptoError | uint32,
    application_code?:ApplicationError | uint32,
    internal_code?:uint32,

    reason?:string
}
</pre><a href="#section-5.1.3-4" class="pilcrow">¶</a>
</div>
<p id="section-5.1.3-5">Triggers:
* clean
* handshake_timeout
* idle_timeout
* error // this is called the "immediate close" in the QUIC specification
* stateless_reset
* version_mismatch
* application // for example HTTP/3's GOAWAY frame<a href="#section-5.1.3-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="connectionidupdated">
<section id="section-5.1.4">
          <h4 id="name-connection_id_updated">
<a href="#section-5.1.4" class="section-number selfRef">5.1.4. </a><a href="#name-connection_id_updated" class="section-name selfRef">connection_id_updated</a>
          </h4>
<p id="section-5.1.4-1">Importance: Base<a href="#section-5.1.4-1" class="pilcrow">¶</a></p>
<p id="section-5.1.4-2">This event is emitted when either party updates their current Connection ID. As
this typically happens only sparingly over the course of a connection, this event
allows loggers to be more efficient than logging the observed CID with each packet
in the .header field of the "packet_sent" or "packet_received" events.<a href="#section-5.1.4-2" class="pilcrow">¶</a></p>
<p id="section-5.1.4-3">This is viewed from the perspective of the one applying the new id. As such, if we
receive a new connection id from our peer, we will see the dst_ fields are set. If
we update our own connection id (e.g., NEW_CONNECTION_ID frame), we log the src_
fields.<a href="#section-5.1.4-3" class="pilcrow">¶</a></p>
<p id="section-5.1.4-4">Data:<a href="#section-5.1.4-4" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-5.1.4-5">
<pre>
{
    owner: "local" | "remote",

    old?:bytes,
    new?:bytes,
}
</pre><a href="#section-5.1.4-5" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="spinbitupdated">
<section id="section-5.1.5">
          <h4 id="name-spin_bit_updated">
<a href="#section-5.1.5" class="section-number selfRef">5.1.5. </a><a href="#name-spin_bit_updated" class="section-name selfRef">spin_bit_updated</a>
          </h4>
<p id="section-5.1.5-1">Importance: Base<a href="#section-5.1.5-1" class="pilcrow">¶</a></p>
<p id="section-5.1.5-2">To be emitted when the spin bit changes value. It SHOULD NOT be emitted if the
spin bit is set without changing its value.<a href="#section-5.1.5-2" class="pilcrow">¶</a></p>
<p id="section-5.1.5-3">Data:<a href="#section-5.1.5-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-5.1.5-4">
<pre>
{
    state: boolean
}
</pre><a href="#section-5.1.5-4" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="connectionretried">
<section id="section-5.1.6">
          <h4 id="name-connection_retried">
<a href="#section-5.1.6" class="section-number selfRef">5.1.6. </a><a href="#name-connection_retried" class="section-name selfRef">connection_retried</a>
          </h4>
<p id="section-5.1.6-1">TODO<a href="#section-5.1.6-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="connectionstateupdated">
<section id="section-5.1.7">
          <h4 id="name-connection_state_updated">
<a href="#section-5.1.7" class="section-number selfRef">5.1.7. </a><a href="#name-connection_state_updated" class="section-name selfRef">connection_state_updated</a>
          </h4>
<p id="section-5.1.7-1">Importance: Base<a href="#section-5.1.7-1" class="pilcrow">¶</a></p>
<p id="section-5.1.7-2">This event is used to track progress through QUIC's complex handshake and
connection close procedures. It is intended to provide exhaustive options to log
each state individually, but also provides a more basic, simpler set for
implementations less interested in tracking each smaller state transition. As
such, users should not expect to see -all- these states reflected in all qlogs and
implementers should focus on support for the SimpleConnectionState set.<a href="#section-5.1.7-2" class="pilcrow">¶</a></p>
<p id="section-5.1.7-3">Data:
~~~
{
    old?: ConnectionState | SimpleConnectionState,
    new: ConnectionState | SimpleConnectionState
}<a href="#section-5.1.7-3" class="pilcrow">¶</a></p>
<p id="section-5.1.7-4">enum ConnectionState {
    attempted, // initial sent/received
    peer_validated, // peer address validated by: client sent Handshake packet OR client used CONNID chosen by the server. transport-draft-32, section-8.1
    handshake_started,
    early_write, // 1 RTT can be sent, but handshake isn't done yet
    handshake_complete, // TLS handshake complete: Finished received and sent. tls-draft-32, section-4.1.1
    handshake_confirmed, // HANDSHAKE_DONE sent/received (connection is now "active", 1RTT can be sent). tls-draft-32, section-4.1.2
    closing,
    draining, // connection_close sent/received
    closed // draining period done, connection state discarded
}<a href="#section-5.1.7-4" class="pilcrow">¶</a></p>
<p id="section-5.1.7-5">enum SimpleConnectionState {
    attempted,
    handshake_started,
    handshake_confirmed,
    closed
}
~~~<a href="#section-5.1.7-5" class="pilcrow">¶</a></p>
<p id="section-5.1.7-6">These states correspond to the following transitions for both client and server:<a href="#section-5.1.7-6" class="pilcrow">¶</a></p>
<p id="section-5.1.7-7"><strong>Client:</strong><a href="#section-5.1.7-7" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.1.7-8.1">
              <p id="section-5.1.7-8.1.1">send initial<a href="#section-5.1.7-8.1.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.1.7-8.1.2.1">state = attempted<a href="#section-5.1.7-8.1.2.1" class="pilcrow">¶</a>
</li>
              </ul>
</li>
            <li class="normal" id="section-5.1.7-8.2">
              <p id="section-5.1.7-8.2.1">get initial<a href="#section-5.1.7-8.2.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.1.7-8.2.2.1">state = validated <em>(not really "needed" at the client, but somewhat useful to indicate progress nonetheless)</em><a href="#section-5.1.7-8.2.2.1" class="pilcrow">¶</a>
</li>
              </ul>
</li>
            <li class="normal" id="section-5.1.7-8.3">
              <p id="section-5.1.7-8.3.1">get first Handshake packet<a href="#section-5.1.7-8.3.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.1.7-8.3.2.1">state = handshake_started<a href="#section-5.1.7-8.3.2.1" class="pilcrow">¶</a>
</li>
              </ul>
</li>
            <li class="normal" id="section-5.1.7-8.4">
              <p id="section-5.1.7-8.4.1">get Handshake packet containing ServerFinished<a href="#section-5.1.7-8.4.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.1.7-8.4.2.1">state = handshake_complete<a href="#section-5.1.7-8.4.2.1" class="pilcrow">¶</a>
</li>
              </ul>
</li>
            <li class="normal" id="section-5.1.7-8.5">
              <p id="section-5.1.7-8.5.1">send ClientFinished<a href="#section-5.1.7-8.5.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.1.7-8.5.2.1">state = early_write
  (1RTT can now be sent)<a href="#section-5.1.7-8.5.2.1" class="pilcrow">¶</a>
</li>
              </ul>
</li>
            <li class="normal" id="section-5.1.7-8.6">
              <p id="section-5.1.7-8.6.1">get HANDSHAKE_DONE<a href="#section-5.1.7-8.6.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.1.7-8.6.2.1">state = handshake_confirmed<a href="#section-5.1.7-8.6.2.1" class="pilcrow">¶</a>
</li>
              </ul>
</li>
          </ul>
<p id="section-5.1.7-9"><strong>Server:</strong><a href="#section-5.1.7-9" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.1.7-10.1">
              <p id="section-5.1.7-10.1.1">get initial<a href="#section-5.1.7-10.1.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.1.7-10.1.2.1">state = attempted<a href="#section-5.1.7-10.1.2.1" class="pilcrow">¶</a>
</li>
              </ul>
</li>
            <li class="normal" id="section-5.1.7-10.2">send initial <em>(don't think this needs a separate state, since some handshake will always be sent in the same flight as this?)</em><a href="#section-5.1.7-10.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.1.7-10.3">
              <p id="section-5.1.7-10.3.1">send handshake EE, CERT, CV, ...<a href="#section-5.1.7-10.3.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.1.7-10.3.2.1">state = handshake_started<a href="#section-5.1.7-10.3.2.1" class="pilcrow">¶</a>
</li>
              </ul>
</li>
            <li class="normal" id="section-5.1.7-10.4">
              <p id="section-5.1.7-10.4.1">send ServerFinished<a href="#section-5.1.7-10.4.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.1.7-10.4.2.1">state = early_write
  (1RTT can now be sent)<a href="#section-5.1.7-10.4.2.1" class="pilcrow">¶</a>
</li>
              </ul>
</li>
            <li class="normal" id="section-5.1.7-10.5">
              <p id="section-5.1.7-10.5.1">get first handshake packet / something using a server-issued CID of min length<a href="#section-5.1.7-10.5.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.1.7-10.5.2.1">state = validated<a href="#section-5.1.7-10.5.2.1" class="pilcrow">¶</a>
</li>
              </ul>
</li>
            <li class="normal" id="section-5.1.7-10.6">
              <p id="section-5.1.7-10.6.1">get handshake packet containing ClientFinished<a href="#section-5.1.7-10.6.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.1.7-10.6.2.1">state = handshake_complete<a href="#section-5.1.7-10.6.2.1" class="pilcrow">¶</a>
</li>
              </ul>
</li>
            <li class="normal" id="section-5.1.7-10.7">
              <p id="section-5.1.7-10.7.1">send HANDSHAKE_DONE<a href="#section-5.1.7-10.7.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.1.7-10.7.2.1">state = handshake_confirmed<a href="#section-5.1.7-10.7.2.1" class="pilcrow">¶</a>
</li>
              </ul>
</li>
          </ul>
<span class="break"></span><dl class="dlParallel" id="section-5.1.7-11">
            <dt id="section-5.1.7-11.1">Note:</dt>
            <dd style="margin-left: 1.5em" id="section-5.1.7-11.2">
  connection_state_changed with a new state of "attempted" is the same
conceptual event as the connection_started event above from the client's
perspective. Similarly, a state of "closing" or "draining" corresponds to the
connection_closed event.<a href="#section-5.1.7-11.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
<div id="migration-related-events">
<section id="section-5.1.8">
          <h4 id="name-migration-related-events">
<a href="#section-5.1.8" class="section-number selfRef">5.1.8. </a><a href="#name-migration-related-events" class="section-name selfRef">MIGRATION-related events</a>
          </h4>
<p id="section-5.1.8-1">e.g., path_updated<a href="#section-5.1.8-1" class="pilcrow">¶</a></p>
<p id="section-5.1.8-2">TODO: read up on the draft how migration works and whether to best fit this here or in TRANSPORT
TODO: integrate https://tools.ietf.org/html/draft-deconinck-quic-multipath-02<a href="#section-5.1.8-2" class="pilcrow">¶</a></p>
<p id="section-5.1.8-3">For now, infer from other connectivity events and path_challenge/path_response frames<a href="#section-5.1.8-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="security">
<section id="section-5.2">
        <h3 id="name-security">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-security" class="section-name selfRef">security</a>
        </h3>
<div id="keyupdated">
<section id="section-5.2.1">
          <h4 id="name-key_updated">
<a href="#section-5.2.1" class="section-number selfRef">5.2.1. </a><a href="#name-key_updated" class="section-name selfRef">key_updated</a>
          </h4>
<p id="section-5.2.1-1">Importance: Base<a href="#section-5.2.1-1" class="pilcrow">¶</a></p>
<p id="section-5.2.1-2">Note: secret_updated would be more correct, but in the draft it's called KEY_UPDATE, so stick with that for consistency<a href="#section-5.2.1-2" class="pilcrow">¶</a></p>
<p id="section-5.2.1-3">Data:<a href="#section-5.2.1-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-5.2.1-4">
<pre>
{
    key_type:KeyType,
    old?:bytes,
    new:bytes,
    generation?:uint32 // needed for 1RTT key updates
}
</pre><a href="#section-5.2.1-4" class="pilcrow">¶</a>
</div>
<p id="section-5.2.1-5">Triggers:<a href="#section-5.2.1-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.2.1-6.1">"tls" // (e.g., initial, handshake and 0-RTT keys are generated by TLS)<a href="#section-5.2.1-6.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.2.1-6.2">"remote_update"<a href="#section-5.2.1-6.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.2.1-6.3">"local_update"<a href="#section-5.2.1-6.3" class="pilcrow">¶</a>
</li>
          </ul>
</section>
</div>
<div id="keyretired">
<section id="section-5.2.2">
          <h4 id="name-key_retired">
<a href="#section-5.2.2" class="section-number selfRef">5.2.2. </a><a href="#name-key_retired" class="section-name selfRef">key_retired</a>
          </h4>
<p id="section-5.2.2-1">Importance: Base<a href="#section-5.2.2-1" class="pilcrow">¶</a></p>
<p id="section-5.2.2-2">Data:<a href="#section-5.2.2-2" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-5.2.2-3">
<pre>
{
    key_type:KeyType,
    key?:bytes,
    generation?:uint32 // needed for 1RTT key updates
}
</pre><a href="#section-5.2.2-3" class="pilcrow">¶</a>
</div>
<p id="section-5.2.2-4">Triggers:<a href="#section-5.2.2-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.2.2-5.1">"tls" // (e.g., initial, handshake and 0-RTT keys are dropped implicitly)<a href="#section-5.2.2-5.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.2.2-5.2">"remote_update"<a href="#section-5.2.2-5.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.2.2-5.3">"local_update"<a href="#section-5.2.2-5.3" class="pilcrow">¶</a>
</li>
          </ul>
</section>
</div>
</section>
</div>
<div id="transport">
<section id="section-5.3">
        <h3 id="name-transport">
<a href="#section-5.3" class="section-number selfRef">5.3. </a><a href="#name-transport" class="section-name selfRef">transport</a>
        </h3>
<div id="versioninformation">
<section id="section-5.3.1">
          <h4 id="name-version_information">
<a href="#section-5.3.1" class="section-number selfRef">5.3.1. </a><a href="#name-version_information" class="section-name selfRef">version_information</a>
          </h4>
<p id="section-5.3.1-1">Importance: Core<a href="#section-5.3.1-1" class="pilcrow">¶</a></p>
<p id="section-5.3.1-2">QUIC endpoints each have their own list of of QUIC versions they support. The
client uses the most likely version in their first initial. If the server does
support that version, it replies with a version_negotiation packet, containing
supported versions. From this, the client selects a version. This event aggregates
all this information in a single event type. It also allows logging of supported
versions at an endpoint without actual version negotiation needing to happen.<a href="#section-5.3.1-2" class="pilcrow">¶</a></p>
<p id="section-5.3.1-3">Data:<a href="#section-5.3.1-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-5.3.1-4">
<pre>
{
    server_versions?:Array&lt;bytes&gt;,
    client_versions?:Array&lt;bytes&gt;,
    chosen_version?:bytes
}
</pre><a href="#section-5.3.1-4" class="pilcrow">¶</a>
</div>
<p id="section-5.3.1-5">Intended use:<a href="#section-5.3.1-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.3.1-6.1">When sending an initial, the client logs this event with client_versions and
chosen_version set<a href="#section-5.3.1-6.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.3.1-6.2">Upon receiving a client initial with a supported version, the server logs this
event with server_versions and chosen_version set<a href="#section-5.3.1-6.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.3.1-6.3">Upon receiving a client initial with an unsupported version, the server logs
this event with server_versions set and client_versions to the
single-element array containing the client's attempted version. The absence of
chosen_version implies no overlap was found.<a href="#section-5.3.1-6.3" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.3.1-6.4">Upon receiving a version negotiation packet from the server, the client logs
this event with client_versions set and server_versions to the versions in
the version negotiation packet and chosen_version to the version it will use for
the next initial packet<a href="#section-5.3.1-6.4" class="pilcrow">¶</a>
</li>
          </ul>
</section>
</div>
<div id="alpninformation">
<section id="section-5.3.2">
          <h4 id="name-alpn_information">
<a href="#section-5.3.2" class="section-number selfRef">5.3.2. </a><a href="#name-alpn_information" class="section-name selfRef">alpn_information</a>
          </h4>
<p id="section-5.3.2-1">Importance: Core<a href="#section-5.3.2-1" class="pilcrow">¶</a></p>
<p id="section-5.3.2-2">QUIC implementations each have their own list of application level protocols and
versions thereof they support. The client includes a list of their supported
options in its first initial as part of the TLS Application Layer Protocol
Negotiation (alpn) extension. If there are common option(s), the server chooses
the most optimal one and communicates this back to the client. If not, the
connection is closed.<a href="#section-5.3.2-2" class="pilcrow">¶</a></p>
<p id="section-5.3.2-3">Data:<a href="#section-5.3.2-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-5.3.2-4">
<pre>
{
    server_alpns?:Array&lt;string&gt;,
    client_alpns?:Array&lt;string&gt;,
    chosen_alpn?:string
}
</pre><a href="#section-5.3.2-4" class="pilcrow">¶</a>
</div>
<p id="section-5.3.2-5">Intended use:<a href="#section-5.3.2-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.3.2-6.1">When sending an initial, the client logs this event with client_alpns set<a href="#section-5.3.2-6.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.3.2-6.2">When receiving an initial with a supported alpn, the server logs this event with
server_alpns set, client_alpns equalling the client-provided list, and
chosen_alpn to the value it will send back to the client.<a href="#section-5.3.2-6.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.3.2-6.3">When receiving an initial with an alpn, the client logs this event with
chosen_alpn to the received value.<a href="#section-5.3.2-6.3" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.3.2-6.4">Alternatively, a client can choose to not log the first event, but wait for the
receipt of the server initial to log this event with both client_alpns and
chosen_alpn set.<a href="#section-5.3.2-6.4" class="pilcrow">¶</a>
</li>
          </ul>
</section>
</div>
<div id="parametersset">
<section id="section-5.3.3">
          <h4 id="name-parameters_set">
<a href="#section-5.3.3" class="section-number selfRef">5.3.3. </a><a href="#name-parameters_set" class="section-name selfRef">parameters_set</a>
          </h4>
<p id="section-5.3.3-1">Importance: Core<a href="#section-5.3.3-1" class="pilcrow">¶</a></p>
<p id="section-5.3.3-2">This event groups settings from several different sources (transport parameters,
TLS ciphers, etc.) into a single event. This is done to minimize the amount of
events and to decouple conceptual setting impacts from their underlying mechanism
for easier high-level reasoning.<a href="#section-5.3.3-2" class="pilcrow">¶</a></p>
<p id="section-5.3.3-3">All these settings are typically set once and never change. However, they are
typically set at different times during the connection, so there will typically be
several instances of this event with different fields set.<a href="#section-5.3.3-3" class="pilcrow">¶</a></p>
<p id="section-5.3.3-4">Note that some settings have two variations (one set locally, one requested by the
remote peer). This is reflected in the "owner" field. As such, this field MUST be
correct for all settings included a single event instance. If you need to log
settings from two sides, you MUST emit two separate event instances.<a href="#section-5.3.3-4" class="pilcrow">¶</a></p>
<p id="section-5.3.3-5">In the case of connection resumption and 0-RTT, some of the server's parameters
are stored up-front at the client and used for the initial connection startup.
They are later updated with the server's reply. In these cases, utilize the
separate <code>parameters_restored</code> event to indicate the initial values, and this
event to indicate the updated values, as normal.<a href="#section-5.3.3-5" class="pilcrow">¶</a></p>
<p id="section-5.3.3-6">Data:<a href="#section-5.3.3-6" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-5.3.3-7">
<pre>
{
    owner?:"local" | "remote",

    resumption_allowed?:boolean, // valid session ticket was received
    early_data_enabled?:boolean, // early data extension was enabled on the TLS layer
    tls_cipher?:string, // (e.g., "AES_128_GCM_SHA256")
    aead_tag_length?:uint8, // depends on the TLS cipher, but it's easier to be explicit. Default value is 16

    // transport parameters from the TLS layer:
    original_destination_connection_id?:bytes,
    initial_source_connection_id?:bytes,
    retry_source_connection_id?:bytes,
    stateless_reset_token?:Token,
    disable_active_migration?:boolean,

    max_idle_timeout?:uint64,
    max_udp_payload_size?:uint32,
    ack_delay_exponent?:uint16,
    max_ack_delay?:uint16,
    active_connection_id_limit?:uint32,

    initial_max_data?:uint64,
    initial_max_stream_data_bidi_local?:uint64,
    initial_max_stream_data_bidi_remote?:uint64,
    initial_max_stream_data_uni?:uint64,
    initial_max_streams_bidi?:uint64,
    initial_max_streams_uni?:uint64,

    preferred_address?:PreferredAddress
}

interface PreferredAddress {
    ip_v4:IPAddress,
    ip_v6:IPAddress,

    port_v4:uint16,
    port_v6:uint16,

    connection_id:bytes,
    stateless_reset_token:Token
}
</pre><a href="#section-5.3.3-7" class="pilcrow">¶</a>
</div>
<p id="section-5.3.3-8">Additionally, this event can contain any number of unspecified fields. This is to
reflect setting of for example unknown (greased) transport parameters or employed
(proprietary) extensions.<a href="#section-5.3.3-8" class="pilcrow">¶</a></p>
</section>
</div>
<div id="parametersrestored">
<section id="section-5.3.4">
          <h4 id="name-parameters_restored">
<a href="#section-5.3.4" class="section-number selfRef">5.3.4. </a><a href="#name-parameters_restored" class="section-name selfRef">parameters_restored</a>
          </h4>
<p id="section-5.3.4-1">Importance: Base<a href="#section-5.3.4-1" class="pilcrow">¶</a></p>
<p id="section-5.3.4-2">When using QUIC 0-RTT, clients are expected to remember and restore the server's
transport parameters from the previous connection. This event is used to indicate
which parameters were restored and to which values when utilizing 0-RTT. Note that
not all transport parameters should be restored (many are even prohibited from
being re-utilized). The ones listed here are the ones expected to be useful for
correct 0-RTT usage.<a href="#section-5.3.4-2" class="pilcrow">¶</a></p>
<p id="section-5.3.4-3">Data:<a href="#section-5.3.4-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-5.3.4-4">
<pre>
{
    disable_active_migration?:boolean,

    max_idle_timeout?:uint64,
    max_udp_payload_size?:uint32,
    active_connection_id_limit?:uint32,

    initial_max_data?:uint64,
    initial_max_stream_data_bidi_local?:uint64,
    initial_max_stream_data_bidi_remote?:uint64,
    initial_max_stream_data_uni?:uint64,
    initial_max_streams_bidi?:uint64,
    initial_max_streams_uni?:uint64,
}
</pre><a href="#section-5.3.4-4" class="pilcrow">¶</a>
</div>
<p id="section-5.3.4-5">Note that, like parameters_set above, this event can contain any number of
unspecified fields to allow for additional/custom parameters.<a href="#section-5.3.4-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="packetsent">
<section id="section-5.3.5">
          <h4 id="name-packet_sent">
<a href="#section-5.3.5" class="section-number selfRef">5.3.5. </a><a href="#name-packet_sent" class="section-name selfRef">packet_sent</a>
          </h4>
<p id="section-5.3.5-1">Importance: Core<a href="#section-5.3.5-1" class="pilcrow">¶</a></p>
<p id="section-5.3.5-2">Data:<a href="#section-5.3.5-2" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-5.3.5-3">
<pre>
{
    header:PacketHeader,

    frames?:Array&lt;QuicFrame&gt;, // see appendix for the definitions

    is_coalesced?:boolean, // default value is false

    retry_token?:Token, // only if header.packet_type === retry

    stateless_reset_token?:bytes, // only if header.packet_type === stateless_reset. Is always 128 bits in length.

    supported_versions:Array&lt;bytes&gt;, // only if header.packet_type === version_negotiation

    raw?:RawInfo,
    datagram_id?:uint32
}
</pre><a href="#section-5.3.5-3" class="pilcrow">¶</a>
</div>
<p id="section-5.3.5-4">Note: We do not explicitly log the encryption_level or packet_number_space: the
header.packet_type specifies this by inference (assuming correct implementation)<a href="#section-5.3.5-4" class="pilcrow">¶</a></p>
<p id="section-5.3.5-5">Triggers:<a href="#section-5.3.5-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.3.5-6.1">"retransmit_reordered" // draft-23 5.1.1<a href="#section-5.3.5-6.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.3.5-6.2">"retransmit_timeout" // draft-23 5.1.2<a href="#section-5.3.5-6.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.3.5-6.3">"pto_probe" // draft-23 5.3.1<a href="#section-5.3.5-6.3" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.3.5-6.4">"retransmit_crypto" // draft-19 6.2<a href="#section-5.3.5-6.4" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.3.5-6.5">"cc_bandwidth_probe" // needed for some CCs to figure out bandwidth allocations
when there are no normal sends<a href="#section-5.3.5-6.5" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-5.3.5-7">Note: for more details on "datagram_id", see <a href="#datagram-id" class="xref">Section 5.3.10</a>. It is only needed
when keeping track of packet coalescing.<a href="#section-5.3.5-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="packetreceived">
<section id="section-5.3.6">
          <h4 id="name-packet_received">
<a href="#section-5.3.6" class="section-number selfRef">5.3.6. </a><a href="#name-packet_received" class="section-name selfRef">packet_received</a>
          </h4>
<p id="section-5.3.6-1">Importance: Core<a href="#section-5.3.6-1" class="pilcrow">¶</a></p>
<p id="section-5.3.6-2">Data:<a href="#section-5.3.6-2" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-5.3.6-3">
<pre>
{
    header:PacketHeader,

    frames?:Array&lt;QuicFrame&gt;, // see appendix for the definitions

    is_coalesced?:boolean,

    retry_token?:Token, // only if header.packet_type === retry

    stateless_reset_token?:bytes, // only if header.packet_type === stateless_reset. Is always 128 bits in length.

    supported_versions:Array&lt;bytes&gt;, // only if header.packet_type === version_negotiation

    raw?:RawInfo,
    datagram_id?:uint32
}
</pre><a href="#section-5.3.6-3" class="pilcrow">¶</a>
</div>
<p id="section-5.3.6-4">Note: We do not explicitly log the encryption_level or packet_number_space: the
header.packet_type specifies this by inference (assuming correct implementation)<a href="#section-5.3.6-4" class="pilcrow">¶</a></p>
<p id="section-5.3.6-5">Triggers:<a href="#section-5.3.6-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.3.6-6.1">"keys_available" // if packet was buffered because it couldn't be decrypted
before<a href="#section-5.3.6-6.1" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-5.3.6-7">Note: for more details on "datagram_id", see <a href="#datagram-id" class="xref">Section 5.3.10</a>. It is only needed
when keeping track of packet coalescing.<a href="#section-5.3.6-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="packetdropped">
<section id="section-5.3.7">
          <h4 id="name-packet_dropped">
<a href="#section-5.3.7" class="section-number selfRef">5.3.7. </a><a href="#name-packet_dropped" class="section-name selfRef">packet_dropped</a>
          </h4>
<p id="section-5.3.7-1">Importance: Base<a href="#section-5.3.7-1" class="pilcrow">¶</a></p>
<p id="section-5.3.7-2">This event indicates a QUIC-level packet was dropped after partial or no parsing.<a href="#section-5.3.7-2" class="pilcrow">¶</a></p>
<p id="section-5.3.7-3">Data:<a href="#section-5.3.7-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-5.3.7-4">
<pre>
{
    header?:PacketHeader, // primarily packet_type should be filled here, as other fields might not be parseable

    raw?:RawInfo,
    datagram_id?:uint32
}
</pre><a href="#section-5.3.7-4" class="pilcrow">¶</a>
</div>
<p id="section-5.3.7-5">For this event, the "trigger" field SHOULD be set (for example to one of the
values below), as this helps tremendously in debugging.<a href="#section-5.3.7-5" class="pilcrow">¶</a></p>
<p id="section-5.3.7-6">Triggers:<a href="#section-5.3.7-6" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.3.7-7.1">"key_unavailable"<a href="#section-5.3.7-7.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.3.7-7.2">"unknown_connection_id"<a href="#section-5.3.7-7.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.3.7-7.3">"header_parse_error"<a href="#section-5.3.7-7.3" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.3.7-7.4">"payload_decrypt_error"<a href="#section-5.3.7-7.4" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.3.7-7.5">"protocol_violation"<a href="#section-5.3.7-7.5" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.3.7-7.6">"dos_prevention"<a href="#section-5.3.7-7.6" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.3.7-7.7">"unsupported_version"<a href="#section-5.3.7-7.7" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.3.7-7.8">"unexpected_packet"<a href="#section-5.3.7-7.8" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.3.7-7.9">"unexpected_source_connection_id"<a href="#section-5.3.7-7.9" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.3.7-7.10">"unexpected_version"<a href="#section-5.3.7-7.10" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.3.7-7.11">"duplicate"<a href="#section-5.3.7-7.11" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.3.7-7.12">"invalid_initial"<a href="#section-5.3.7-7.12" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-5.3.7-8">Note: sometimes packets are dropped before they can be associated with a
particular connection (e.g., in case of "unsupported_version"). This situation is
discussed more in <a href="#handling-unknown-connections" class="xref">Section 3</a>.<a href="#section-5.3.7-8" class="pilcrow">¶</a></p>
<p id="section-5.3.7-9">Note: for more details on "datagram_id", see <a href="#datagram-id" class="xref">Section 5.3.10</a>. It is only needed
when keeping track of packet coalescing.<a href="#section-5.3.7-9" class="pilcrow">¶</a></p>
</section>
</div>
<div id="packetbuffered">
<section id="section-5.3.8">
          <h4 id="name-packet_buffered">
<a href="#section-5.3.8" class="section-number selfRef">5.3.8. </a><a href="#name-packet_buffered" class="section-name selfRef">packet_buffered</a>
          </h4>
<p id="section-5.3.8-1">Importance: Base<a href="#section-5.3.8-1" class="pilcrow">¶</a></p>
<p id="section-5.3.8-2">This event is emitted when a packet is buffered because it cannot be processed
yet. Typically, this is because the packet cannot be parsed yet, and thus we only
log the full packet contents when it was parsed in a packet_received event.<a href="#section-5.3.8-2" class="pilcrow">¶</a></p>
<p id="section-5.3.8-3">Data:<a href="#section-5.3.8-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-5.3.8-4">
<pre>
{
    header?:PacketHeader, // primarily packet_type and possible packet_number should be filled here, as other elements might not be available yet

    raw?:RawInfo,
    datagram_id?:uint32
}
</pre><a href="#section-5.3.8-4" class="pilcrow">¶</a>
</div>
<p id="section-5.3.8-5">Note: for more details on "datagram_id", see <a href="#datagram-id" class="xref">Section 5.3.10</a>. It is only needed
when keeping track of packet coalescing.<a href="#section-5.3.8-5" class="pilcrow">¶</a></p>
<p id="section-5.3.8-6">Triggers:<a href="#section-5.3.8-6" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.3.8-7.1">"backpressure" // indicates the parser cannot keep up, temporarily buffers
packet for later processing<a href="#section-5.3.8-7.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.3.8-7.2">"keys_unavailable" // if packet cannot be decrypted because the proper keys were
not yet available<a href="#section-5.3.8-7.2" class="pilcrow">¶</a>
</li>
          </ul>
</section>
</div>
<div id="packetsacked">
<section id="section-5.3.9">
          <h4 id="name-packets_acked">
<a href="#section-5.3.9" class="section-number selfRef">5.3.9. </a><a href="#name-packets_acked" class="section-name selfRef">packets_acked</a>
          </h4>
<p id="section-5.3.9-1">Importance: Extra<a href="#section-5.3.9-1" class="pilcrow">¶</a></p>
<p id="section-5.3.9-2">This event is emitted when a (group of) sent packet(s) is acknowledged by the
remote peer <em>for the first time</em>. This information could also be deduced from the
contents of received ACK frames. However, ACK frames require additional processing
logic to determine when a given packet is acknowledged for the first time, as QUIC
uses ACK ranges which can include repeated ACKs. Additionally, this event can be
used by implementations that do not log frame contents.<a href="#section-5.3.9-2" class="pilcrow">¶</a></p>
<p id="section-5.3.9-3">Data:
~~~
{
    packet_number_space?:PacketNumberSpace,<a href="#section-5.3.9-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-5.3.9-4">
<pre>
packet_numbers?:Array&lt;uint64&gt; } ~~~
</pre><a href="#section-5.3.9-4" class="pilcrow">¶</a>
</div>
<p id="section-5.3.9-5">Note: if packet_number_space is omitted, it assumes the default value of
PacketNumberSpace.application_data, as this is by far the most prevalent packet
number space a typical QUIC connection will use.<a href="#section-5.3.9-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="datagram-id">
<section id="section-5.3.10">
          <h4 id="name-datagrams_sent">
<a href="#section-5.3.10" class="section-number selfRef">5.3.10. </a><a href="#name-datagrams_sent" class="section-name selfRef">datagrams_sent</a>
          </h4>
<p id="section-5.3.10-1">Importance: Extra<a href="#section-5.3.10-1" class="pilcrow">¶</a></p>
<p id="section-5.3.10-2">When we pass one or more UDP-level datagrams to the socket. This is useful for
determining how QUIC packet buffers are drained to the OS.<a href="#section-5.3.10-2" class="pilcrow">¶</a></p>
<p id="section-5.3.10-3">Data:<a href="#section-5.3.10-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-5.3.10-4">
<pre>
{
    count?:uint16, // to support passing multiple at once
    raw?:Array&lt;RawInfo&gt;, // RawInfo:length field indicates total length of the datagrams, including UDP header length

    datagram_ids?:Array&lt;uint32&gt;
}
</pre><a href="#section-5.3.10-4" class="pilcrow">¶</a>
</div>
<p id="section-5.3.10-5">Note: QUIC itself does not have a concept of a "datagram_id". This field is a
purely qlog-specific construct to allow tracking how multiple QUIC packets are
coalesced inside of a single UDP datagram, which is an important optimization
during the QUIC handshake. For this, implementations assign a (per-endpoint)
unique ID to each datagram and keep track of which packets were coalesced into the
same datagram. As packet coalescing typically only happens during the handshake
(as it requires at least one long header packet), this can be done without much
overhead.<a href="#section-5.3.10-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="datagramsreceived">
<section id="section-5.3.11">
          <h4 id="name-datagrams_received">
<a href="#section-5.3.11" class="section-number selfRef">5.3.11. </a><a href="#name-datagrams_received" class="section-name selfRef">datagrams_received</a>
          </h4>
<p id="section-5.3.11-1">Importance: Extra<a href="#section-5.3.11-1" class="pilcrow">¶</a></p>
<p id="section-5.3.11-2">When we receive one or more UDP-level datagrams from the socket. This is useful
for determining how datagrams are passed to the user space stack from the OS.<a href="#section-5.3.11-2" class="pilcrow">¶</a></p>
<p id="section-5.3.11-3">Data:<a href="#section-5.3.11-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-5.3.11-4">
<pre>
{
    count?:uint16, // to support passing multiple at once
    raw?:Array&lt;RawInfo&gt;, // RawInfo:length field indicates total length of the datagrams, including UDP header length

    datagram_ids?:Array&lt;uint32&gt;
}
</pre><a href="#section-5.3.11-4" class="pilcrow">¶</a>
</div>
<p id="section-5.3.11-5">Note: for more details on "datagram_ids", see <a href="#datagram-id" class="xref">Section 5.3.10</a>.<a href="#section-5.3.11-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="datagramdropped">
<section id="section-5.3.12">
          <h4 id="name-datagram_dropped">
<a href="#section-5.3.12" class="section-number selfRef">5.3.12. </a><a href="#name-datagram_dropped" class="section-name selfRef">datagram_dropped</a>
          </h4>
<p id="section-5.3.12-1">Importance: Extra<a href="#section-5.3.12-1" class="pilcrow">¶</a></p>
<p id="section-5.3.12-2">When we drop a UDP-level datagram. This is typically if it does not contain a
valid QUIC packet (in that case, use packet_dropped instead).<a href="#section-5.3.12-2" class="pilcrow">¶</a></p>
<p id="section-5.3.12-3">Data:<a href="#section-5.3.12-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-5.3.12-4">
<pre>
{
    raw?:RawInfo
}
</pre><a href="#section-5.3.12-4" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="streamstateupdated">
<section id="section-5.3.13">
          <h4 id="name-stream_state_updated">
<a href="#section-5.3.13" class="section-number selfRef">5.3.13. </a><a href="#name-stream_state_updated" class="section-name selfRef">stream_state_updated</a>
          </h4>
<p id="section-5.3.13-1">Importance: Base<a href="#section-5.3.13-1" class="pilcrow">¶</a></p>
<p id="section-5.3.13-2">This event is emitted whenever the internal state of a QUIC stream is updated, as
described in QUIC transport draft-23 section 3. Most of this can be inferred from
several types of frames going over the wire, but it's much easier to have explicit
signals for these state changes.<a href="#section-5.3.13-2" class="pilcrow">¶</a></p>
<p id="section-5.3.13-3">Data:<a href="#section-5.3.13-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-5.3.13-4">
<pre>
{
    stream_id:uint64,
    stream_type?:"unidirectional"|"bidirectional", // mainly useful when opening the stream

    old?:StreamState,
    new:StreamState,

    stream_side?:"sending"|"receiving"
}

enum StreamState {
    // bidirectional stream states, draft-23 3.4.
    idle,
    open,
    half_closed_local,
    half_closed_remote,
    closed,

    // sending-side stream states, draft-23 3.1.
    ready,
    send,
    data_sent,
    reset_sent,
    reset_received,

    // receive-side stream states, draft-23 3.2.
    receive,
    size_known,
    data_read,
    reset_read,

    // both-side states
    data_received,

    // qlog-defined
    destroyed // memory actually freed
}
</pre><a href="#section-5.3.13-4" class="pilcrow">¶</a>
</div>
<p id="section-5.3.13-5">Note: QUIC implementations SHOULD mainly log the simplified bidirectional
(HTTP/2-alike) stream states (e.g., idle, open, closed) instead of the more
finegrained stream states (e.g., data_sent, reset_received). These latter ones are
mainly for more in-depth debugging. Tools SHOULD be able to deal with both types
equally.<a href="#section-5.3.13-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="framesprocessed">
<section id="section-5.3.14">
          <h4 id="name-frames_processed">
<a href="#section-5.3.14" class="section-number selfRef">5.3.14. </a><a href="#name-frames_processed" class="section-name selfRef">frames_processed</a>
          </h4>
<p id="section-5.3.14-1">Importance: Extra<a href="#section-5.3.14-1" class="pilcrow">¶</a></p>
<p id="section-5.3.14-2">This event's main goal is to prevent a large proliferation of specific purpose
events (e.g., packets_acknowledged, flow_control_updated, stream_data_received).
We want to give implementations the opportunity to (selectively) log this type of
signal without having to log packet-level details (e.g., in packet_received).
Since for almost all cases, the effects of applying a frame to the internal state
of an implementation can be inferred from that frame's contents, we aggregate
these events in this single "frames_processed" event.<a href="#section-5.3.14-2" class="pilcrow">¶</a></p>
<p id="section-5.3.14-3">Note: This event can be used to signal internal state change not resulting
directly from the actual "parsing" of a frame (e.g., the frame could have been
parsed, data put into a buffer, then later processed, then logged with this
event).<a href="#section-5.3.14-3" class="pilcrow">¶</a></p>
<p id="section-5.3.14-4">Note: Implementations logging "packet_received" and which include all of the
packet's constituent frames therein, are not expected to emit this
"frames_processed" event (contrary to the HTTP-level "frames_parsed" event).
Rather, implementations not wishing to log full packets or that wish to explicitly
convey extra information about when frames are processed (if not directly tied to
their reception) can use this event.<a href="#section-5.3.14-4" class="pilcrow">¶</a></p>
<p id="section-5.3.14-5">Note: for some events, this approach will lose some information (e.g., for which
encryption level are packets being acknowledged?). If this information is
important, please use the packet_received event instead.<a href="#section-5.3.14-5" class="pilcrow">¶</a></p>
<p id="section-5.3.14-6">Note: in some implementations, it can be difficult to log frames directly, even
when using packet_sent and packet_received events. For these cases, this event
also contains the direct packet_number field, which can be used to more explicitly
link this event to the packet_sent/received events.<a href="#section-5.3.14-6" class="pilcrow">¶</a></p>
<p id="section-5.3.14-7">Data:<a href="#section-5.3.14-7" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-5.3.14-8">
<pre>
{
    frames:Array&lt;QuicFrame&gt;, // see appendix for the definitions

    packet_number?:uint64
}
</pre><a href="#section-5.3.14-8" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="datamoved">
<section id="section-5.3.15">
          <h4 id="name-data_moved">
<a href="#section-5.3.15" class="section-number selfRef">5.3.15. </a><a href="#name-data_moved" class="section-name selfRef">data_moved</a>
          </h4>
<p id="section-5.3.15-1">Importance: Base<a href="#section-5.3.15-1" class="pilcrow">¶</a></p>
<p id="section-5.3.15-2">Used to indicate when data moves between the different layers (for example passing
from HTTP/3 to QUIC stream buffers and vice versa) or between HTTP/3 and the actual
user application on top (for example a browser engine). This helps make clear the
flow of data, how long data remains in various buffers and the overheads
introduced by individual layers.<a href="#section-5.3.15-2" class="pilcrow">¶</a></p>
<p id="section-5.3.15-3">For example, this helps make clear whether received data on a QUIC stream is moved
to the HTTP layer immediately (for example per received packet) or in larger
batches (for example, all QUIC packets are processed first and afterwards the HTTP
layer reads from the streams with newly available data). This in turn can help
identify bottlenecks or scheduling problems.<a href="#section-5.3.15-3" class="pilcrow">¶</a></p>
<p id="section-5.3.15-4">Data:<a href="#section-5.3.15-4" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-5.3.15-5">
<pre>
{
    stream_id?:uint64,
    offset?:uint64,
    length?:uint64, // byte length of the moved data

    from?:string, // typically: use either of "application","http","transport"
    to?:string, // typically: use either of "application","http","transport"

    data?:bytes // raw bytes that were transferred
}
</pre><a href="#section-5.3.15-5" class="pilcrow">¶</a>
</div>
<p id="section-5.3.15-6">Note: we do not for example use a "direction" field (with values "up" and "down")
to specify the data flow. This is because in some optimized implementations, data
might skip some individual layers. Additionally, using explicit "from" and "to"
fields is more flexible and allows the definition of other conceptual "layers"
(for example to indicate data from QUIC CRYPTO frames being passed to a TLS
library ("security") or from HTTP/3 to QPACK ("qpack")).<a href="#section-5.3.15-6" class="pilcrow">¶</a></p>
<p id="section-5.3.15-7">Note: this event type is part of the "transport" category, but really spans all
the different layers. This means we have a few leaky abstractions here (for
example, the stream_id or stream offset might not be available at some logging
points, or the raw data might not be in a byte-array form). In these situations,
implementers can decide to define new, in-context fields to aid in manual
debugging.<a href="#section-5.3.15-7" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="recovery">
<section id="section-5.4">
        <h3 id="name-recovery">
<a href="#section-5.4" class="section-number selfRef">5.4. </a><a href="#name-recovery" class="section-name selfRef">recovery</a>
        </h3>
<p id="section-5.4-1">Note: most of the events in this category are kept generic to support different
recovery approaches and various congestion control algorithms. Tool creators
SHOULD make an effort to support and visualize even unknown data in these events
(e.g., plot unknown congestion states by name on a timeline visualization).<a href="#section-5.4-1" class="pilcrow">¶</a></p>
<div id="parametersset-1">
<section id="section-5.4.1">
          <h4 id="name-parameters_set-2">
<a href="#section-5.4.1" class="section-number selfRef">5.4.1. </a><a href="#name-parameters_set-2" class="section-name selfRef">parameters_set</a>
          </h4>
<p id="section-5.4.1-1">Importance: Base<a href="#section-5.4.1-1" class="pilcrow">¶</a></p>
<p id="section-5.4.1-2">This event groups initial parameters from both loss detection and congestion
control into a single event. All these settings are typically set once and never
change. Implementation that do, for some reason, change these parameters during
execution, MAY emit the parameters_set event twice.<a href="#section-5.4.1-2" class="pilcrow">¶</a></p>
<p id="section-5.4.1-3">Data:<a href="#section-5.4.1-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-5.4.1-4">
<pre>
{
    // Loss detection, see recovery draft-23, Appendix A.2
    reordering_threshold?:uint16, // in amount of packets
    time_threshold?:float, // as RTT multiplier
    timer_granularity?:uint16, // in ms
    initial_rtt?:float, // in ms

    // congestion control, Appendix B.1.
    max_datagram_size?:uint32, // in bytes // Note: this could be updated after pmtud
    initial_congestion_window?:uint64, // in bytes
    minimum_congestion_window?:uint32, // in bytes // Note: this could change when max_datagram_size changes
    loss_reduction_factor?:float,
    persistent_congestion_threshold?:uint16 // as PTO multiplier
}
</pre><a href="#section-5.4.1-4" class="pilcrow">¶</a>
</div>
<p id="section-5.4.1-5">Additionally, this event can contain any number of unspecified fields to support
different recovery approaches.<a href="#section-5.4.1-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="metricsupdated">
<section id="section-5.4.2">
          <h4 id="name-metrics_updated">
<a href="#section-5.4.2" class="section-number selfRef">5.4.2. </a><a href="#name-metrics_updated" class="section-name selfRef">metrics_updated</a>
          </h4>
<p id="section-5.4.2-1">Importance: Core<a href="#section-5.4.2-1" class="pilcrow">¶</a></p>
<p id="section-5.4.2-2">This event is emitted when one or more of the observable recovery metrics changes
value. This event SHOULD group all possible metric updates that happen at or
around the same time in a single event (e.g., if min_rtt and smoothed_rtt change
at the same time, they should be bundled in a single metrics_updated entry, rather
than split out into two). Consequently, a metrics_updated event is only guaranteed
to contain at least one of the listed metrics.<a href="#section-5.4.2-2" class="pilcrow">¶</a></p>
<p id="section-5.4.2-3">Data:<a href="#section-5.4.2-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-5.4.2-4">
<pre>
{
    // Loss detection, see recovery draft-23, Appendix A.3
    min_rtt?:float, // in ms or us, depending on the overarching qlog's configuration
    smoothed_rtt?:float, // in ms or us, depending on the overarching qlog's configuration
    latest_rtt?:float, // in ms or us, depending on the overarching qlog's configuration
    rtt_variance?:float, // in ms or us, depending on the overarching qlog's configuration

    pto_count?:uint16,

    // Congestion control, Appendix B.2.
    congestion_window?:uint64, // in bytes
    bytes_in_flight?:uint64,

    ssthresh?:uint64, // in bytes

    // qlog defined
    packets_in_flight?:uint64, // sum of all packet number spaces

    pacing_rate?:uint64 // in bps
}
</pre><a href="#section-5.4.2-4" class="pilcrow">¶</a>
</div>
<p id="section-5.4.2-5">Note: to make logging easier, implementations MAY log values even if they are the
same as previously reported values (e.g., two subsequent METRIC_UPDATE entries can
both report the exact same value for min_rtt). However, applications SHOULD try to
log only actual updates to values.<a href="#section-5.4.2-5" class="pilcrow">¶</a></p>
<p id="section-5.4.2-6">Additionally, this event can contain any number of unspecified fields to support
different recovery approaches.<a href="#section-5.4.2-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="congestionstateupdated">
<section id="section-5.4.3">
          <h4 id="name-congestion_state_updated">
<a href="#section-5.4.3" class="section-number selfRef">5.4.3. </a><a href="#name-congestion_state_updated" class="section-name selfRef">congestion_state_updated</a>
          </h4>
<p id="section-5.4.3-1">Importance: Base<a href="#section-5.4.3-1" class="pilcrow">¶</a></p>
<p id="section-5.4.3-2">This event signifies when the congestion controller enters a significant new state
and changes its behaviour. This event's definition is kept generic to support
different Congestion Control algorithms. For example, for the algorithm defined in
the Recovery draft ("enhanced" New Reno), the following states are defined:<a href="#section-5.4.3-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.4.3-3.1">slow_start<a href="#section-5.4.3-3.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.4.3-3.2">congestion_avoidance<a href="#section-5.4.3-3.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.4.3-3.3">application_limited<a href="#section-5.4.3-3.3" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.4.3-3.4">recovery<a href="#section-5.4.3-3.4" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-5.4.3-4">Data:<a href="#section-5.4.3-4" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-5.4.3-5">
<pre>
{
    old?:string,
    new:string
}
</pre><a href="#section-5.4.3-5" class="pilcrow">¶</a>
</div>
<p id="section-5.4.3-6">The "trigger" field SHOULD be logged if there are multiple ways in which a state change
can occur but MAY be omitted if a given state can only be due to a single event
occuring (e.g., slow start is exited only when ssthresh is exceeded).<a href="#section-5.4.3-6" class="pilcrow">¶</a></p>
<p id="section-5.4.3-7">Some triggers for ("enhanced" New Reno):<a href="#section-5.4.3-7" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.4.3-8.1">persistent_congestion<a href="#section-5.4.3-8.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.4.3-8.2">ECN<a href="#section-5.4.3-8.2" class="pilcrow">¶</a>
</li>
          </ul>
</section>
</div>
<div id="losstimerupdated">
<section id="section-5.4.4">
          <h4 id="name-loss_timer_updated">
<a href="#section-5.4.4" class="section-number selfRef">5.4.4. </a><a href="#name-loss_timer_updated" class="section-name selfRef">loss_timer_updated</a>
          </h4>
<p id="section-5.4.4-1">Importance: Extra<a href="#section-5.4.4-1" class="pilcrow">¶</a></p>
<p id="section-5.4.4-2">This event is emitted when a recovery loss timer changes state. The three main
event types are:<a href="#section-5.4.4-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.4.4-3.1">set: the timer is set with a delta timeout for when it will trigger next<a href="#section-5.4.4-3.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.4.4-3.2">expired: when the timer effectively expires after the delta timeout<a href="#section-5.4.4-3.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.4.4-3.3">cancelled: when a timer is cancelled (e.g., all outstanding packets are
acknowledged, start idle period)<a href="#section-5.4.4-3.3" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-5.4.4-4">Note: to indicate an active timer's timeout update, a new "set" event is used.<a href="#section-5.4.4-4" class="pilcrow">¶</a></p>
<p id="section-5.4.4-5">Data:<a href="#section-5.4.4-5" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-5.4.4-6">
<pre>
{
    timer_type?:"ack"|"pto", // called "mode" in draft-23 A.9.
    packet_number_space?: PacketNumberSpace,

    event_type:"set"|"expired"|"cancelled",

    delta?:float // if event_type === "set": delta time in ms or us (see configuration) from this event's timestamp until when the timer will trigger
}
</pre><a href="#section-5.4.4-6" class="pilcrow">¶</a>
</div>
<p id="section-5.4.4-7">TODO: how about CC algo's that use multiple timers? How generic do these events
need to be? Just support QUIC-style recovery from the spec or broader?<a href="#section-5.4.4-7" class="pilcrow">¶</a></p>
<p id="section-5.4.4-8">TODO: read up on the loss detection logic in draft-27 onward and see if this suffices<a href="#section-5.4.4-8" class="pilcrow">¶</a></p>
</section>
</div>
<div id="packetlost">
<section id="section-5.4.5">
          <h4 id="name-packet_lost">
<a href="#section-5.4.5" class="section-number selfRef">5.4.5. </a><a href="#name-packet_lost" class="section-name selfRef">packet_lost</a>
          </h4>
<p id="section-5.4.5-1">Importance: Core<a href="#section-5.4.5-1" class="pilcrow">¶</a></p>
<p id="section-5.4.5-2">This event is emitted when a packet is deemed lost by loss detection.<a href="#section-5.4.5-2" class="pilcrow">¶</a></p>
<p id="section-5.4.5-3">Data:<a href="#section-5.4.5-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-5.4.5-4">
<pre>
{
    header?:PacketHeader, // should include at least the packet_type and packet_number

    // not all implementations will keep track of full packets, so these are optional
    frames?:Array&lt;QuicFrame&gt; // see appendix for the definitions
}
</pre><a href="#section-5.4.5-4" class="pilcrow">¶</a>
</div>
<p id="section-5.4.5-5">For this event, the "trigger" field SHOULD be set (for example to one of the
values below), as this helps tremendously in debugging.<a href="#section-5.4.5-5" class="pilcrow">¶</a></p>
<p id="section-5.4.5-6">Triggers:<a href="#section-5.4.5-6" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.4.5-7.1">"reordering_threshold",<a href="#section-5.4.5-7.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.4.5-7.2">"time_threshold"<a href="#section-5.4.5-7.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.4.5-7.3">"pto_expired" // draft-23 section 5.3.1, MAY<a href="#section-5.4.5-7.3" class="pilcrow">¶</a>
</li>
          </ul>
</section>
</div>
<div id="markedforretransmit">
<section id="section-5.4.6">
          <h4 id="name-marked_for_retransmit">
<a href="#section-5.4.6" class="section-number selfRef">5.4.6. </a><a href="#name-marked_for_retransmit" class="section-name selfRef">marked_for_retransmit</a>
          </h4>
<p id="section-5.4.6-1">Importance: Extra<a href="#section-5.4.6-1" class="pilcrow">¶</a></p>
<p id="section-5.4.6-2">This event indicates which data was marked for retransmit upon detecing a packet
loss (see packet_lost). Similar to our reasoning for the "frames_processed" event,
in order to keep the amount of different events low, we group this signal for all
types of retransmittable data in a single event based on existing QUIC frame
definitions.<a href="#section-5.4.6-2" class="pilcrow">¶</a></p>
<p id="section-5.4.6-3">Implementations retransmitting full packets or frames directly can just log the
consituent frames of the lost packet here (or do away with this event and use the
contents of the packet_lost event instead). Conversely, implementations that have
more complex logic (e.g., marking ranges in a stream's data buffer as in-flight),
or that do not track sent frames in full (e.g., only stream offset + length), can
translate their internal behaviour into the appropriate frame instance here even
if that frame was never or will never be put on the wire.<a href="#section-5.4.6-3" class="pilcrow">¶</a></p>
<p id="section-5.4.6-4">Note: much of this data can be inferred if implementations log packet_sent events
(e.g., looking at overlapping stream data offsets and length, one can determine
when data was retransmitted).<a href="#section-5.4.6-4" class="pilcrow">¶</a></p>
<p id="section-5.4.6-5">Data:<a href="#section-5.4.6-5" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-5.4.6-6">
<pre>
{
    frames:Array&lt;QuicFrame&gt;, // see appendix for the definitions
}
</pre><a href="#section-5.4.6-6" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="http3-event-definitions">
<section id="section-6">
      <h2 id="name-http-3-event-definitions">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-http-3-event-definitions" class="section-name selfRef">HTTP/3 event definitions</a>
      </h2>
<div id="http">
<section id="section-6.1">
        <h3 id="name-http">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-http" class="section-name selfRef">http</a>
        </h3>
<p id="section-6.1-1">Note: like all category values, the "http" category is written in lowercase.<a href="#section-6.1-1" class="pilcrow">¶</a></p>
<div id="parametersset-2">
<section id="section-6.1.1">
          <h4 id="name-parameters_set-3">
<a href="#section-6.1.1" class="section-number selfRef">6.1.1. </a><a href="#name-parameters_set-3" class="section-name selfRef">parameters_set</a>
          </h4>
<p id="section-6.1.1-1">Importance: Base<a href="#section-6.1.1-1" class="pilcrow">¶</a></p>
<p id="section-6.1.1-2">This event contains HTTP/3 and QPACK-level settings, mostly those received from
the HTTP/3 SETTINGS frame. All these parameters are typically set once and never
change. However, they are typically set at different times during the connection,
so there can be several instances of this event with different fields set.<a href="#section-6.1.1-2" class="pilcrow">¶</a></p>
<p id="section-6.1.1-3">Note that some settings have two variations (one set locally, one requested by the
remote peer). This is reflected in the "owner" field. As such, this field MUST be
correct for all settings included a single event instance. If you need to log
settings from two sides, you MUST emit two separate event instances.<a href="#section-6.1.1-3" class="pilcrow">¶</a></p>
<p id="section-6.1.1-4">Data:<a href="#section-6.1.1-4" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-6.1.1-5">
<pre>
{
    owner?:"local" | "remote",

    max_header_list_size?:uint64, // from SETTINGS_MAX_HEADER_LIST_SIZE
    max_table_capacity?:uint64, // from SETTINGS_QPACK_MAX_TABLE_CAPACITY
    blocked_streams_count?:uint64, // from SETTINGS_QPACK_BLOCKED_STREAMS

    // qlog-defined
    waits_for_settings?:boolean // indicates whether this implementation waits for a SETTINGS frame before processing requests
}
</pre><a href="#section-6.1.1-5" class="pilcrow">¶</a>
</div>
<p id="section-6.1.1-6">Note: enabling server push is not explicitly done in HTTP/3 by use of a setting or
parameter. Instead, it is communicated by use of the MAX_PUSH_ID frame, which
should be logged using the frame_created and frame_parsed events below.<a href="#section-6.1.1-6" class="pilcrow">¶</a></p>
<p id="section-6.1.1-7">Additionally, this event can contain any number of unspecified fields. This is to
reflect setting of for example unknown (greased) settings or parameters of
(proprietary) extensions.<a href="#section-6.1.1-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="parametersrestored-1">
<section id="section-6.1.2">
          <h4 id="name-parameters_restored-2">
<a href="#section-6.1.2" class="section-number selfRef">6.1.2. </a><a href="#name-parameters_restored-2" class="section-name selfRef">parameters_restored</a>
          </h4>
<p id="section-6.1.2-1">Importance: Base<a href="#section-6.1.2-1" class="pilcrow">¶</a></p>
<p id="section-6.1.2-2">When using QUIC 0-RTT, clients are expected to remember and reuse the server's
SETTINGs from the previous connection. This event is used to indicate which
settings were restored and to which values when utilizing 0-RTT.<a href="#section-6.1.2-2" class="pilcrow">¶</a></p>
<p id="section-6.1.2-3">Data:<a href="#section-6.1.2-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-6.1.2-4">
<pre>
{
    max_header_list_size?:uint64,
    max_table_capacity?:uint64,
    blocked_streams_count?:uint64
}
</pre><a href="#section-6.1.2-4" class="pilcrow">¶</a>
</div>
<p id="section-6.1.2-5">Note that, like for parameters_set above, this event can contain any number of
unspecified fields to allow for additional and custom settings.<a href="#section-6.1.2-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="streamtypeset">
<section id="section-6.1.3">
          <h4 id="name-stream_type_set">
<a href="#section-6.1.3" class="section-number selfRef">6.1.3. </a><a href="#name-stream_type_set" class="section-name selfRef">stream_type_set</a>
          </h4>
<p id="section-6.1.3-1">Importance: Base<a href="#section-6.1.3-1" class="pilcrow">¶</a></p>
<p id="section-6.1.3-2">Emitted when a stream's type becomes known. This is typically when a stream is
opened and the stream's type indicator is sent or received.<a href="#section-6.1.3-2" class="pilcrow">¶</a></p>
<p id="section-6.1.3-3">Note: most of this information can also be inferred by looking at a stream's id,
since id's are strictly partitioned at the QUIC level. Even so, this event has a
"Base" importance because it helps a lot in debugging to have this information
clearly spelled out.<a href="#section-6.1.3-3" class="pilcrow">¶</a></p>
<p id="section-6.1.3-4">Data:<a href="#section-6.1.3-4" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-6.1.3-5">
<pre>
{
    stream_id:uint64,

    owner?:"local"|"remote"

    old?:StreamType,
    new:StreamType,

    associated_push_id?:uint64 // only when new == "push"
}

enum StreamType {
    data, // bidirectional request-response streams
    control,
    push,
    reserved,
    qpack_encode,
    qpack_decode
}
</pre><a href="#section-6.1.3-5" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="framecreated">
<section id="section-6.1.4">
          <h4 id="name-frame_created">
<a href="#section-6.1.4" class="section-number selfRef">6.1.4. </a><a href="#name-frame_created" class="section-name selfRef">frame_created</a>
          </h4>
<p id="section-6.1.4-1">Importance: Core<a href="#section-6.1.4-1" class="pilcrow">¶</a></p>
<p id="section-6.1.4-2">HTTP equivalent to the packet_sent event. This event is emitted when the HTTP/3
framing actually happens. Note: this is not necessarily the same as when the
HTTP/3 data is passed on to the QUIC layer. For that, see the "data_moved" event.<a href="#section-6.1.4-2" class="pilcrow">¶</a></p>
<p id="section-6.1.4-3">Data:<a href="#section-6.1.4-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-6.1.4-4">
<pre>
{
    stream_id:uint64,
    length?:uint64, // payload byte length of the frame
    frame:HTTP3Frame, // see appendix for the definitions,

    raw?:RawInfo
}
</pre><a href="#section-6.1.4-4" class="pilcrow">¶</a>
</div>
<p id="section-6.1.4-5">Note: in HTTP/3, DATA frames can have arbitrarily large lengths to reduce frame
header overhead. As such, DATA frames can span many QUIC packets and can be
created in a streaming fashion. In this case, the frame_created event is emitted
once for the frame header, and further streamed data is indicated using the
data_moved event.<a href="#section-6.1.4-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="frameparsed">
<section id="section-6.1.5">
          <h4 id="name-frame_parsed">
<a href="#section-6.1.5" class="section-number selfRef">6.1.5. </a><a href="#name-frame_parsed" class="section-name selfRef">frame_parsed</a>
          </h4>
<p id="section-6.1.5-1">Importance: Core<a href="#section-6.1.5-1" class="pilcrow">¶</a></p>
<p id="section-6.1.5-2">HTTP equivalent to the packet_received event. This event is emitted when we
actually parse the HTTP/3 frame. Note: this is not necessarily the same as when
the HTTP/3 data is actually received on the QUIC layer. For that, see the
"data_moved" event.<a href="#section-6.1.5-2" class="pilcrow">¶</a></p>
<p id="section-6.1.5-3">Data:<a href="#section-6.1.5-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-6.1.5-4">
<pre>
{
    stream_id:uint64,
    length?:uint64, // payload byte length of the frame
    frame:HTTP3Frame, // see appendix for the definitions,

    raw?:RawInfo
}
</pre><a href="#section-6.1.5-4" class="pilcrow">¶</a>
</div>
<p id="section-6.1.5-5">Note: in HTTP/3, DATA frames can have arbitrarily large lengths to reduce frame
header overhead. As such, DATA frames can span many QUIC packets and can be
processed in a streaming fashion. In this case, the frame_parsed event is emitted
once for the frame header, and further streamed data is indicated using the
data_moved event.<a href="#section-6.1.5-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="pushresolved">
<section id="section-6.1.6">
          <h4 id="name-push_resolved">
<a href="#section-6.1.6" class="section-number selfRef">6.1.6. </a><a href="#name-push_resolved" class="section-name selfRef">push_resolved</a>
          </h4>
<p id="section-6.1.6-1">Importance: Extra<a href="#section-6.1.6-1" class="pilcrow">¶</a></p>
<p id="section-6.1.6-2">This event is emitted when a pushed resource is successfully claimed (used) or,
conversely, abandoned (rejected) by the application on top of HTTP/3 (e.g., the
web browser). This event is added to help debug problems with unexpected PUSH
behaviour, which is commonplace with HTTP/2.<a href="#section-6.1.6-2" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-6.1.6-3">
<pre>
{
    push_id?:uint64,
    stream_id?:uint64, // in case this is logged from a place that does not have access to the push_id

    decision:"claimed"|"abandoned"
}
</pre><a href="#section-6.1.6-3" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="qpack">
<section id="section-6.2">
        <h3 id="name-qpack">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-qpack" class="section-name selfRef">qpack</a>
        </h3>
<p id="section-6.2-1">Note: like all category values, the "qpack" category is written in lowercase.<a href="#section-6.2-1" class="pilcrow">¶</a></p>
<p id="section-6.2-2">The QPACK events mainly serve as an aid to debug low-level QPACK issues. The
higher-level, plaintext header values SHOULD (also) be logged in the
http.frame_created and http.frame_parsed event data (instead).<a href="#section-6.2-2" class="pilcrow">¶</a></p>
<p id="section-6.2-3">Note: qpack does not have its own parameters_set event. This was merged with
http.parameters_set for brevity, since qpack is a required extension for HTTP/3
anyway. Other HTTP/3 extensions MAY also log their SETTINGS fields in
http.parameters_set or MAY define their own events.<a href="#section-6.2-3" class="pilcrow">¶</a></p>
<div id="stateupdated">
<section id="section-6.2.1">
          <h4 id="name-state_updated">
<a href="#section-6.2.1" class="section-number selfRef">6.2.1. </a><a href="#name-state_updated" class="section-name selfRef">state_updated</a>
          </h4>
<p id="section-6.2.1-1">Importance: Base<a href="#section-6.2.1-1" class="pilcrow">¶</a></p>
<p id="section-6.2.1-2">This event is emitted when one or more of the internal QPACK variables changes
value. Note that some variables have two variations (one set locally, one
requested by the remote peer). This is reflected in the "owner" field. As such,
this field MUST be correct for all variables included a single event instance. If
you need to log settings from two sides, you MUST emit two separate event
instances.<a href="#section-6.2.1-2" class="pilcrow">¶</a></p>
<p id="section-6.2.1-3">Data:<a href="#section-6.2.1-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-6.2.1-4">
<pre>
{
    owner:"local" | "remote",

    dynamic_table_capacity?:uint64,
    dynamic_table_size?:uint64, // effective current size, sum of all the entries

    known_received_count?:uint64,
    current_insert_count?:uint64
}
</pre><a href="#section-6.2.1-4" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="streamstateupdated-1">
<section id="section-6.2.2">
          <h4 id="name-stream_state_updated-2">
<a href="#section-6.2.2" class="section-number selfRef">6.2.2. </a><a href="#name-stream_state_updated-2" class="section-name selfRef">stream_state_updated</a>
          </h4>
<p id="section-6.2.2-1">Importance: Core<a href="#section-6.2.2-1" class="pilcrow">¶</a></p>
<p id="section-6.2.2-2">This event is emitted when a stream becomes blocked or unblocked by header
decoding requests or QPACK instructions.<a href="#section-6.2.2-2" class="pilcrow">¶</a></p>
<p id="section-6.2.2-3">Note: This event is of "Core" importance, as it might have a large impact on
HTTP/3's observed performance.<a href="#section-6.2.2-3" class="pilcrow">¶</a></p>
<p id="section-6.2.2-4">Data:<a href="#section-6.2.2-4" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-6.2.2-5">
<pre>
{
    stream_id:uint64,

    state:"blocked"|"unblocked" // streams are assumed to start "unblocked" until they become "blocked"
}
</pre><a href="#section-6.2.2-5" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="dynamictableupdated">
<section id="section-6.2.3">
          <h4 id="name-dynamic_table_updated">
<a href="#section-6.2.3" class="section-number selfRef">6.2.3. </a><a href="#name-dynamic_table_updated" class="section-name selfRef">dynamic_table_updated</a>
          </h4>
<p id="section-6.2.3-1">Importance: Extra<a href="#section-6.2.3-1" class="pilcrow">¶</a></p>
<p id="section-6.2.3-2">This event is emitted when one or more entries are inserted or evicted from QPACK's dynamic table.<a href="#section-6.2.3-2" class="pilcrow">¶</a></p>
<p id="section-6.2.3-3">Data:<a href="#section-6.2.3-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-6.2.3-4">
<pre>
{
    owner:"local" | "remote", // local = the encoder's dynamic table. remote = the decoder's dynamic table

    update_type:"inserted"|"evicted",

    entries:Array&lt;DynamicTableEntry&gt;
}

class DynamicTableEntry {
    index:uint64;
    name?:string | bytes;
    value?:string | bytes;
}
</pre><a href="#section-6.2.3-4" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="headersencoded">
<section id="section-6.2.4">
          <h4 id="name-headers_encoded">
<a href="#section-6.2.4" class="section-number selfRef">6.2.4. </a><a href="#name-headers_encoded" class="section-name selfRef">headers_encoded</a>
          </h4>
<p id="section-6.2.4-1">Importance: Base<a href="#section-6.2.4-1" class="pilcrow">¶</a></p>
<p id="section-6.2.4-2">This event is emitted when an uncompressed header block is encoded successfully.<a href="#section-6.2.4-2" class="pilcrow">¶</a></p>
<p id="section-6.2.4-3">Note: this event has overlap with http.frame_created for the HeadersFrame type.
When outputting both events, implementers MAY omit the "headers" field in this
event.<a href="#section-6.2.4-3" class="pilcrow">¶</a></p>
<p id="section-6.2.4-4">Data:<a href="#section-6.2.4-4" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-6.2.4-5">
<pre>
{
    stream_id?:uint64,

    headers?:Array&lt;HTTPHeader&gt;,

    block_prefix:QPackHeaderBlockPrefix,
    header_block:Array&lt;QPackHeaderBlockRepresentation&gt;,

    length?:uint32,
    raw?:bytes
}
</pre><a href="#section-6.2.4-5" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="headersdecoded">
<section id="section-6.2.5">
          <h4 id="name-headers_decoded">
<a href="#section-6.2.5" class="section-number selfRef">6.2.5. </a><a href="#name-headers_decoded" class="section-name selfRef">headers_decoded</a>
          </h4>
<p id="section-6.2.5-1">Importance: Base<a href="#section-6.2.5-1" class="pilcrow">¶</a></p>
<p id="section-6.2.5-2">This event is emitted when a compressed header block is decoded successfully.<a href="#section-6.2.5-2" class="pilcrow">¶</a></p>
<p id="section-6.2.5-3">Note: this event has overlap with http.frame_parsed for the HeadersFrame type.
When outputting both events, implementers MAY omit the "headers" field in this
event.<a href="#section-6.2.5-3" class="pilcrow">¶</a></p>
<p id="section-6.2.5-4">Data:<a href="#section-6.2.5-4" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-6.2.5-5">
<pre>
{
    stream_id?:uint64,

    headers?:Array&lt;HTTPHeader&gt;,

    block_prefix:QPackHeaderBlockPrefix,
    header_block:Array&lt;QPackHeaderBlockRepresentation&gt;,

    length?:uint32,
    raw?:bytes
}
</pre><a href="#section-6.2.5-5" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="instructioncreated">
<section id="section-6.2.6">
          <h4 id="name-instruction_created">
<a href="#section-6.2.6" class="section-number selfRef">6.2.6. </a><a href="#name-instruction_created" class="section-name selfRef">instruction_created</a>
          </h4>
<p id="section-6.2.6-1">Importance: Base<a href="#section-6.2.6-1" class="pilcrow">¶</a></p>
<p id="section-6.2.6-2">This event is emitted when a QPACK instruction (both decoder and encoder) is
created and added to the encoder/decoder stream.<a href="#section-6.2.6-2" class="pilcrow">¶</a></p>
<p id="section-6.2.6-3">Data:<a href="#section-6.2.6-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-6.2.6-4">
<pre>
{
    instruction:QPackInstruction // see appendix for the definitions,

    length?:uint32,
    raw?:bytes
}
</pre><a href="#section-6.2.6-4" class="pilcrow">¶</a>
</div>
<p id="section-6.2.6-5">Note: encoder/decoder semantics and stream_id's are implicit in either the
instruction types or can be logged via other events (e.g., http.stream_type_set)<a href="#section-6.2.6-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="instructionparsed">
<section id="section-6.2.7">
          <h4 id="name-instruction_parsed">
<a href="#section-6.2.7" class="section-number selfRef">6.2.7. </a><a href="#name-instruction_parsed" class="section-name selfRef">instruction_parsed</a>
          </h4>
<p id="section-6.2.7-1">Importance: Base<a href="#section-6.2.7-1" class="pilcrow">¶</a></p>
<p id="section-6.2.7-2">This event is emitted when a QPACK instruction (both decoder and encoder) is read
from the encoder/decoder stream.<a href="#section-6.2.7-2" class="pilcrow">¶</a></p>
<p id="section-6.2.7-3">Data:<a href="#section-6.2.7-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-6.2.7-4">
<pre>
{
    instruction:QPackInstruction // see appendix for the definitions,

    length?:uint32,
    raw?:bytes
}
</pre><a href="#section-6.2.7-4" class="pilcrow">¶</a>
</div>
<p id="section-6.2.7-5">Note: encoder/decoder semantics and stream_id's are implicit in either the
instruction types or can be logged via other events (e.g., http.stream_type_set)<a href="#section-6.2.7-5" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="generic-events-and-simulation-indicators">
<section id="section-7">
      <h2 id="name-generic-events-and-simulati">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-generic-events-and-simulati" class="section-name selfRef">Generic events and Simulation indicators</a>
      </h2>
<div id="generic">
<section id="section-7.1">
        <h3 id="name-generic">
<a href="#section-7.1" class="section-number selfRef">7.1. </a><a href="#name-generic" class="section-name selfRef">generic</a>
        </h3>
<p id="section-7.1-1">The main goal of the events in this category is to allow implementations to fully
replace their existing text-based logging by qlog. This is done by providing
events to log generic strings for typical well-known logging levels (error,
warning, info, debug, verbose).<a href="#section-7.1-1" class="pilcrow">¶</a></p>
<div id="error">
<section id="section-7.1.1">
          <h4 id="name-error">
<a href="#section-7.1.1" class="section-number selfRef">7.1.1. </a><a href="#name-error" class="section-name selfRef">error</a>
          </h4>
<p id="section-7.1.1-1">Importance: Core<a href="#section-7.1.1-1" class="pilcrow">¶</a></p>
<p id="section-7.1.1-2">Used to log details of an internal error. For errors that effectively lead to the
closure of a QUIC connection, it is recommended to use transport:connection_closed
instead.<a href="#section-7.1.1-2" class="pilcrow">¶</a></p>
<p id="section-7.1.1-3">Data:<a href="#section-7.1.1-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-7.1.1-4">
<pre>
{
    code?:uint32,
    message?:string
}
</pre><a href="#section-7.1.1-4" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="warning">
<section id="section-7.1.2">
          <h4 id="name-warning">
<a href="#section-7.1.2" class="section-number selfRef">7.1.2. </a><a href="#name-warning" class="section-name selfRef">warning</a>
          </h4>
<p id="section-7.1.2-1">Importance: Base<a href="#section-7.1.2-1" class="pilcrow">¶</a></p>
<p id="section-7.1.2-2">Used to log details of an internal warning that might not get reflected on the
wire.<a href="#section-7.1.2-2" class="pilcrow">¶</a></p>
<p id="section-7.1.2-3">Data:<a href="#section-7.1.2-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-7.1.2-4">
<pre>
{
    code?:uint32,
    message?:string
}
</pre><a href="#section-7.1.2-4" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="info">
<section id="section-7.1.3">
          <h4 id="name-info">
<a href="#section-7.1.3" class="section-number selfRef">7.1.3. </a><a href="#name-info" class="section-name selfRef">info</a>
          </h4>
<p id="section-7.1.3-1">Importance: Extra<a href="#section-7.1.3-1" class="pilcrow">¶</a></p>
<p id="section-7.1.3-2">Used mainly for implementations that want to use qlog as their one and only
logging format but still want to support unstructured string messages.<a href="#section-7.1.3-2" class="pilcrow">¶</a></p>
<p id="section-7.1.3-3">Data:<a href="#section-7.1.3-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-7.1.3-4">
<pre>
{
    message:string
}
</pre><a href="#section-7.1.3-4" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="debug">
<section id="section-7.1.4">
          <h4 id="name-debug">
<a href="#section-7.1.4" class="section-number selfRef">7.1.4. </a><a href="#name-debug" class="section-name selfRef">debug</a>
          </h4>
<p id="section-7.1.4-1">Importance: Extra<a href="#section-7.1.4-1" class="pilcrow">¶</a></p>
<p id="section-7.1.4-2">Used mainly for implementations that want to use qlog as their one and only
logging format but still want to support unstructured string messages.<a href="#section-7.1.4-2" class="pilcrow">¶</a></p>
<p id="section-7.1.4-3">Data:<a href="#section-7.1.4-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-7.1.4-4">
<pre>
{
    message:string
}
</pre><a href="#section-7.1.4-4" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="verbose">
<section id="section-7.1.5">
          <h4 id="name-verbose">
<a href="#section-7.1.5" class="section-number selfRef">7.1.5. </a><a href="#name-verbose" class="section-name selfRef">verbose</a>
          </h4>
<p id="section-7.1.5-1">Importance: Extra<a href="#section-7.1.5-1" class="pilcrow">¶</a></p>
<p id="section-7.1.5-2">Used mainly for implementations that want to use qlog as their one and only
logging format but still want to support unstructured string messages.<a href="#section-7.1.5-2" class="pilcrow">¶</a></p>
<p id="section-7.1.5-3">Data:<a href="#section-7.1.5-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-7.1.5-4">
<pre>
{
    message:string
}
</pre><a href="#section-7.1.5-4" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="simulation">
<section id="section-7.2">
        <h3 id="name-simulation">
<a href="#section-7.2" class="section-number selfRef">7.2. </a><a href="#name-simulation" class="section-name selfRef">simulation</a>
        </h3>
<p id="section-7.2-1">When evaluating a protocol evaluation, one typically sets up a series of
interoperability or benchmarking tests, in which the test situations can change
over time. For example, the network bandwidth or latency can vary during the test,
or the network can be fully disable for a short time. In these setups, it is
useful to know when exactly these conditions are triggered, to allow for proper
correlation with other events.<a href="#section-7.2-1" class="pilcrow">¶</a></p>
<div id="scenario">
<section id="section-7.2.1">
          <h4 id="name-scenario">
<a href="#section-7.2.1" class="section-number selfRef">7.2.1. </a><a href="#name-scenario" class="section-name selfRef">scenario</a>
          </h4>
<p id="section-7.2.1-1">Importance: Extra<a href="#section-7.2.1-1" class="pilcrow">¶</a></p>
<p id="section-7.2.1-2">Used to specify which specific scenario is being tested at this particular
instance. This could also be reflected in the top-level qlog's <code>summary</code> or
<code>configuration</code> fields, but having a separate event allows easier aggregation of
several simulations into one trace.<a href="#section-7.2.1-2" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-7.2.1-3">
<pre>
{
    name?:string,
    details?:any
}
</pre><a href="#section-7.2.1-3" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="marker">
<section id="section-7.2.2">
          <h4 id="name-marker">
<a href="#section-7.2.2" class="section-number selfRef">7.2.2. </a><a href="#name-marker" class="section-name selfRef">marker</a>
          </h4>
<p id="section-7.2.2-1">Importance: Extra<a href="#section-7.2.2-1" class="pilcrow">¶</a></p>
<p id="section-7.2.2-2">Used to indicate when specific emulation conditions are triggered at set times
(e.g., at 3 seconds in 2% packet loss is introduced, at 10s a NAT rebind is
triggered).<a href="#section-7.2.2-2" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-7.2.2-3">
<pre>
{
    type?:string,
    message?:string
}
</pre><a href="#section-7.2.2-3" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="security-considerations">
<section id="section-8">
      <h2 id="name-security-considerations-2">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-security-considerations-2" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-8-1">TBD<a href="#section-8-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="iana-considerations">
<section id="section-9">
      <h2 id="name-iana-considerations-2">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-iana-considerations-2" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-9-1">TBD<a href="#section-9-1" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-10">
      <h2 id="name-references-3">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-references-3" class="section-name selfRef">References</a>
      </h2>
<section id="section-10.1">
        <h3 id="name-normative-references-3">
<a href="#section-10.1" class="section-number selfRef">10.1. </a><a href="#name-normative-references-3" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="QLOG-MAIN">[QLOG-MAIN]</dt>
        <dd>
<span class="refAuthor">Marx, R., Ed.</span>, <span class="refTitle">"Main logging schema for qlog"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-marx-qlog-main-schema-02</span>, <time datetime="2020-11-02" class="refDate">2 November 2020</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-marx-qlog-main-schema-02">https://tools.ietf.org/html/draft-marx-qlog-main-schema-02</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="QUIC-HTTP">[QUIC-HTTP]</dt>
        <dd>
<span class="refAuthor">Bishop, M., Ed.</span>, <span class="refTitle">"Hypertext Transfer Protocol Version 3 (HTTP/3)"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-quic-http-32</span>, <time datetime="2020-10-01" class="refDate">1 October 2020</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-quic-http-32">https://tools.ietf.org/html/draft-ietf-quic-http-32</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="QUIC-QPACK">[QUIC-QPACK]</dt>
        <dd>
<span class="refAuthor">Frindell, A., Ed.</span>, <span class="refTitle">"QPACK: Header Compression for HTTP/3"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-quic-qpack-19</span>, <time datetime="2020-10-20" class="refDate">20 October 2020</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-quic-qpack-19">https://tools.ietf.org/html/draft-ietf-quic-qpack-19</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="QUIC-TRANSPORT">[QUIC-TRANSPORT]</dt>
      <dd>
<span class="refAuthor">Iyengar, J., Ed.</span><span class="refAuthor"> and M. Thomson, Ed.</span>, <span class="refTitle">"QUIC: A UDP-Based Multiplexed and Secure Transport"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-quic-transport-32</span>, <time datetime="2020-10-01" class="refDate">1 October 2020</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-quic-transport-32">https://tools.ietf.org/html/draft-ietf-quic-transport-32</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-10.2">
        <h3 id="name-informative-references-3">
<a href="#section-10.2" class="section-number selfRef">10.2. </a><a href="#name-informative-references-3" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
      <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="quic-data-field-definitions">
<section id="section-appendix.a">
      <h2 id="name-quic-data-field-definitions">
<a href="#section-appendix.a" class="section-number selfRef">Appendix A. </a><a href="#name-quic-data-field-definitions" class="section-name selfRef">QUIC data field definitions</a>
      </h2>
<div id="ipaddress">
<section id="section-a.1">
        <h2 id="name-ipaddress">
<a href="#section-a.1" class="section-number selfRef">A.1. </a><a href="#name-ipaddress" class="section-name selfRef">IPAddress</a>
        </h2>
<div class="artwork art-text alignLeft" id="section-a.1-1">
<pre>
class IPAddress : string | bytes;

// an IPAddress can either be a "human readable" form (e.g., "127.0.0.1" for v4 or "2001:0db8:85a3:0000:0000:8a2e:0370:7334" for v6) or use a raw byte-form (as the string forms can be ambiguous)

</pre><a href="#section-a.1-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="packettype">
<section id="section-a.2">
        <h2 id="name-packettype">
<a href="#section-a.2" class="section-number selfRef">A.2. </a><a href="#name-packettype" class="section-name selfRef">PacketType</a>
        </h2>
<div class="artwork art-text alignLeft" id="section-a.2-1">
<pre>
enum PacketType {
    initial,
    handshake,
    zerortt = "0RTT",
    onertt = "1RTT",
    retry,
    version_negotiation,
    stateless_reset,
    unknown
}
</pre><a href="#section-a.2-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="packetnumberspace">
<section id="section-a.3">
        <h2 id="name-packetnumberspace">
<a href="#section-a.3" class="section-number selfRef">A.3. </a><a href="#name-packetnumberspace" class="section-name selfRef">PacketNumberSpace</a>
        </h2>
<div class="artwork art-text alignLeft" id="section-a.3-1">
<pre>
enum PacketNumberSpace {
    initial,
    handshake,
    application_data
}
</pre><a href="#section-a.3-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="packetheader">
<section id="section-a.4">
        <h2 id="name-packetheader">
<a href="#section-a.4" class="section-number selfRef">A.4. </a><a href="#name-packetheader" class="section-name selfRef">PacketHeader</a>
        </h2>
<div class="artwork art-text alignLeft" id="section-a.4-1">
<pre>
class PacketHeader {
    // Note: short vs long header is implicit through PacketType

    packet_type: PacketType;
    packet_number: uint64;

    flags?: uint8; // the bit flags of the packet headers (spin bit, key update bit, etc. up to and including the packet number length bits if present) interpreted as a single 8-bit integer

    token?:Token; // only if packet_type == initial

    length?: uint16, // only if packet_type == initial || handshake || 0RTT. Signifies length of the packet_number plus the payload.

    // only if present in the header
    // if correctly using transport:connection_id_updated events,
    // dcid can be skipped for 1RTT packets
    version?: bytes; // e.g., "ff00001d" for draft-29
    scil?: uint8;
    dcil?: uint8;
    scid?: bytes;
    dcid?: bytes;
}
</pre><a href="#section-a.4-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="token">
<section id="section-a.5">
        <h2 id="name-token">
<a href="#section-a.5" class="section-number selfRef">A.5. </a><a href="#name-token" class="section-name selfRef">Token</a>
        </h2>
<div class="artwork art-text alignLeft" id="section-a.5-1">
<pre>
class Token {
    type?:"retry"|"resumption"|"stateless_reset";

    length?:uint32; // byte length of the token
    data?:bytes; // raw byte value of the token

    details?:any; // decoded fields included in the token (typically: peer's IP address, creation time)
}
</pre><a href="#section-a.5-1" class="pilcrow">¶</a>
</div>
<p id="section-a.5-2">The token carried in an Initial packet can either be a retry token from a Retry
packet, a stateless reset token from a Stateless Reset packet or one originally
provided by the server in a NEW_TOKEN frame used when resuming a connection (e.g.,
for address validation purposes). Retry and resumption tokens typically contain
encoded metadata to check the token's validity when it is used, but this metadata
and its format is implementation specific. For that, this field includes a
general-purpose "details" field.<a href="#section-a.5-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="keytype">
<section id="section-a.6">
        <h2 id="name-keytype">
<a href="#section-a.6" class="section-number selfRef">A.6. </a><a href="#name-keytype" class="section-name selfRef">KeyType</a>
        </h2>
<div class="artwork art-text alignLeft" id="section-a.6-1">
<pre>
enum KeyType {
    server_initial_secret,
    client_initial_secret,

    server_handshake_secret,
    client_handshake_secret,

    server_0rtt_secret,
    client_0rtt_secret,

    server_1rtt_secret,
    client_1rtt_secret
}
</pre><a href="#section-a.6-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="quic-frames">
<section id="section-a.7">
        <h2 id="name-quic-frames">
<a href="#section-a.7" class="section-number selfRef">A.7. </a><a href="#name-quic-frames" class="section-name selfRef">QUIC Frames</a>
        </h2>
<div class="artwork art-text alignLeft" id="section-a.7-1">
<pre>
type QuicFrame = PaddingFrame | PingFrame | AckFrame | ResetStreamFrame | StopSendingFrame | CryptoFrame | NewTokenFrame | StreamFrame | MaxDataFrame | MaxStreamDataFrame | MaxStreamsFrame | DataBlockedFrame | StreamDataBlockedFrame | StreamsBlockedFrame | NewConnectionIDFrame | RetireConnectionIDFrame | PathChallengeFrame | PathResponseFrame | ConnectionCloseFrame | HandshakeDoneFrame | UnknownFrame;
</pre><a href="#section-a.7-1" class="pilcrow">¶</a>
</div>
<div id="paddingframe">
<section id="section-a.7.1">
          <h3 id="name-paddingframe">
<a href="#section-a.7.1" class="section-number selfRef">A.7.1. </a><a href="#name-paddingframe" class="section-name selfRef">PaddingFrame</a>
          </h3>
<p id="section-a.7.1-1">In QUIC, PADDING frames are simply identified as a single byte of value 0. As
such, each padding byte could be theoretically interpreted and logged as an
individual PaddingFrame.<a href="#section-a.7.1-1" class="pilcrow">¶</a></p>
<p id="section-a.7.1-2">However, as this leads to heavy logging overhead, implementations SHOULD instead
emit just a single PaddingFrame and set the payload_length property to the amount
of PADDING bytes/frames included in the packet.<a href="#section-a.7.1-2" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-a.7.1-3">
<pre>
class PaddingFrame{
    frame_type:string = "padding";

    length?:uint32; // total frame length, including frame header
    payload_length?:uint32;
}
</pre><a href="#section-a.7.1-3" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="pingframe">
<section id="section-a.7.2">
          <h3 id="name-pingframe">
<a href="#section-a.7.2" class="section-number selfRef">A.7.2. </a><a href="#name-pingframe" class="section-name selfRef">PingFrame</a>
          </h3>
<div class="artwork art-text alignLeft" id="section-a.7.2-1">
<pre>
class PingFrame{
    frame_type:string = "ping";

    length?:uint32; // total frame length, including frame header
    payload_length?:uint32;
}
</pre><a href="#section-a.7.2-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="ackframe">
<section id="section-a.7.3">
          <h3 id="name-ackframe">
<a href="#section-a.7.3" class="section-number selfRef">A.7.3. </a><a href="#name-ackframe" class="section-name selfRef">AckFrame</a>
          </h3>
<div class="artwork art-text alignLeft" id="section-a.7.3-1">
<pre>
class AckFrame{
    frame_type:string = "ack";

    ack_delay?:float; // in ms

    // first number is "from": lowest packet number in interval
    // second number is "to": up to and including // highest packet number in interval
    // e.g., looks like [[1,2],[4,5]]
    acked_ranges?:Array&lt;[uint64, uint64]|[uint64]&gt;;

    // ECN (explicit congestion notification) related fields (not always present)
    ect1?:uint64;
    ect0?:uint64;
    ce?:uint64;

    length?:uint32; // total frame length, including frame header
    payload_length?:uint32;
}
</pre><a href="#section-a.7.3-1" class="pilcrow">¶</a>
</div>
<p id="section-a.7.3-2">Note: the packet ranges in AckFrame.acked_ranges do not necessarily have to be
ordered (e.g., [[5,9],[1,4]] is a valid value).<a href="#section-a.7.3-2" class="pilcrow">¶</a></p>
<p id="section-a.7.3-3">Note: the two numbers in the packet range can be the same (e.g., [120,120] means
that packet with number 120 was ACKed). However, in that case, implementers SHOULD
log [120] instead and tools MUST be able to deal with both notations.<a href="#section-a.7.3-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="resetstreamframe">
<section id="section-a.7.4">
          <h3 id="name-resetstreamframe">
<a href="#section-a.7.4" class="section-number selfRef">A.7.4. </a><a href="#name-resetstreamframe" class="section-name selfRef">ResetStreamFrame</a>
          </h3>
<div class="artwork art-text alignLeft" id="section-a.7.4-1">
<pre>
class ResetStreamFrame{
    frame_type:string = "reset_stream";

    stream_id:uint64;
    error_code:ApplicationError | uint32;
    final_size:uint64; // in bytes

    length?:uint32; // total frame length, including frame header
    payload_length?:uint32;
}
</pre><a href="#section-a.7.4-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="stopsendingframe">
<section id="section-a.7.5">
          <h3 id="name-stopsendingframe">
<a href="#section-a.7.5" class="section-number selfRef">A.7.5. </a><a href="#name-stopsendingframe" class="section-name selfRef">StopSendingFrame</a>
          </h3>
<div class="artwork art-text alignLeft" id="section-a.7.5-1">
<pre>
class StopSendingFrame{
    frame_type:string = "stop_sending";

    stream_id:uint64;
    error_code:ApplicationError | uint32;

    length?:uint32; // total frame length, including frame header
    payload_length?:uint32;
}
</pre><a href="#section-a.7.5-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="cryptoframe">
<section id="section-a.7.6">
          <h3 id="name-cryptoframe">
<a href="#section-a.7.6" class="section-number selfRef">A.7.6. </a><a href="#name-cryptoframe" class="section-name selfRef">CryptoFrame</a>
          </h3>
<div class="artwork art-text alignLeft" id="section-a.7.6-1">
<pre>
class CryptoFrame{
    frame_type:string = "crypto";

    offset:uint64;
    length:uint64;

    payload_length?:uint32;
}
</pre><a href="#section-a.7.6-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="newtokenframe">
<section id="section-a.7.7">
          <h3 id="name-newtokenframe">
<a href="#section-a.7.7" class="section-number selfRef">A.7.7. </a><a href="#name-newtokenframe" class="section-name selfRef">NewTokenFrame</a>
          </h3>
<div class="artwork art-text alignLeft" id="section-a.7.7-1">
<pre>
class NewTokenFrame{
  frame_type:string = "new_token";

  token:Token
}
</pre><a href="#section-a.7.7-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="streamframe">
<section id="section-a.7.8">
          <h3 id="name-streamframe">
<a href="#section-a.7.8" class="section-number selfRef">A.7.8. </a><a href="#name-streamframe" class="section-name selfRef">StreamFrame</a>
          </h3>
<div class="artwork art-text alignLeft" id="section-a.7.8-1">
<pre>
class StreamFrame{
    frame_type:string = "stream";

    stream_id:uint64;

    // These two MUST always be set
    // If not present in the Frame type, log their default values
    offset:uint64;
    length:uint64;

    // this MAY be set any time, but MUST only be set if the value is "true"
    // if absent, the value MUST be assumed to be "false"
    fin?:boolean;

    raw?:bytes;
}
</pre><a href="#section-a.7.8-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="maxdataframe">
<section id="section-a.7.9">
          <h3 id="name-maxdataframe">
<a href="#section-a.7.9" class="section-number selfRef">A.7.9. </a><a href="#name-maxdataframe" class="section-name selfRef">MaxDataFrame</a>
          </h3>
<div class="artwork art-text alignLeft" id="section-a.7.9-1">
<pre>
class MaxDataFrame{
  frame_type:string = "max_data";

  maximum:uint64;
}
</pre><a href="#section-a.7.9-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="maxstreamdataframe">
<section id="section-a.7.10">
          <h3 id="name-maxstreamdataframe">
<a href="#section-a.7.10" class="section-number selfRef">A.7.10. </a><a href="#name-maxstreamdataframe" class="section-name selfRef">MaxStreamDataFrame</a>
          </h3>
<div class="artwork art-text alignLeft" id="section-a.7.10-1">
<pre>
class MaxStreamDataFrame{
  frame_type:string = "max_stream_data";

  stream_id:uint64;
  maximum:uint64;
}
</pre><a href="#section-a.7.10-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="maxstreamsframe">
<section id="section-a.7.11">
          <h3 id="name-maxstreamsframe">
<a href="#section-a.7.11" class="section-number selfRef">A.7.11. </a><a href="#name-maxstreamsframe" class="section-name selfRef">MaxStreamsFrame</a>
          </h3>
<div class="artwork art-text alignLeft" id="section-a.7.11-1">
<pre>
class MaxStreamsFrame{
  frame_type:string = "max_streams";

  stream_type:string = "bidirectional" | "unidirectional";
  maximum:uint64;
}
</pre><a href="#section-a.7.11-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="datablockedframe">
<section id="section-a.7.12">
          <h3 id="name-datablockedframe">
<a href="#section-a.7.12" class="section-number selfRef">A.7.12. </a><a href="#name-datablockedframe" class="section-name selfRef">DataBlockedFrame</a>
          </h3>
<div class="artwork art-text alignLeft" id="section-a.7.12-1">
<pre>
class DataBlockedFrame{
  frame_type:string = "data_blocked";

  limit:uint64;
}
</pre><a href="#section-a.7.12-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="streamdatablockedframe">
<section id="section-a.7.13">
          <h3 id="name-streamdatablockedframe">
<a href="#section-a.7.13" class="section-number selfRef">A.7.13. </a><a href="#name-streamdatablockedframe" class="section-name selfRef">StreamDataBlockedFrame</a>
          </h3>
<div class="artwork art-text alignLeft" id="section-a.7.13-1">
<pre>
class StreamDataBlockedFrame{
  frame_type:string = "stream_data_blocked";

  stream_id:uint64;
  limit:uint64;
}
</pre><a href="#section-a.7.13-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="streamsblockedframe">
<section id="section-a.7.14">
          <h3 id="name-streamsblockedframe">
<a href="#section-a.7.14" class="section-number selfRef">A.7.14. </a><a href="#name-streamsblockedframe" class="section-name selfRef">StreamsBlockedFrame</a>
          </h3>
<div class="artwork art-text alignLeft" id="section-a.7.14-1">
<pre>
class StreamsBlockedFrame{
  frame_type:string = "streams_blocked";

  stream_type:string = "bidirectional" | "unidirectional";
  limit:uint64;
}
</pre><a href="#section-a.7.14-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="newconnectionidframe">
<section id="section-a.7.15">
          <h3 id="name-newconnectionidframe">
<a href="#section-a.7.15" class="section-number selfRef">A.7.15. </a><a href="#name-newconnectionidframe" class="section-name selfRef">NewConnectionIDFrame</a>
          </h3>
<div class="artwork art-text alignLeft" id="section-a.7.15-1">
<pre>
class NewConnectionIDFrame{
  frame_type:string = "new_connection_id";

  sequence_number:uint32;
  retire_prior_to:uint32;

  connection_id_length?:uint8;
  connection_id:bytes;

  stateless_reset_token?:Token;
}
</pre><a href="#section-a.7.15-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="retireconnectionidframe">
<section id="section-a.7.16">
          <h3 id="name-retireconnectionidframe">
<a href="#section-a.7.16" class="section-number selfRef">A.7.16. </a><a href="#name-retireconnectionidframe" class="section-name selfRef">RetireConnectionIDFrame</a>
          </h3>
<div class="artwork art-text alignLeft" id="section-a.7.16-1">
<pre>
class RetireConnectionIDFrame{
  frame_type:string = "retire_connection_id";

  sequence_number:uint32;
}
</pre><a href="#section-a.7.16-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="pathchallengeframe">
<section id="section-a.7.17">
          <h3 id="name-pathchallengeframe">
<a href="#section-a.7.17" class="section-number selfRef">A.7.17. </a><a href="#name-pathchallengeframe" class="section-name selfRef">PathChallengeFrame</a>
          </h3>
<div class="artwork art-text alignLeft" id="section-a.7.17-1">
<pre>
class PathChallengeFrame{
  frame_type:string = "path_challenge";

  data?:bytes; // always 64-bit
}
</pre><a href="#section-a.7.17-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="pathresponseframe">
<section id="section-a.7.18">
          <h3 id="name-pathresponseframe">
<a href="#section-a.7.18" class="section-number selfRef">A.7.18. </a><a href="#name-pathresponseframe" class="section-name selfRef">PathResponseFrame</a>
          </h3>
<div class="artwork art-text alignLeft" id="section-a.7.18-1">
<pre>
class PathResponseFrame{
  frame_type:string = "path_response";

  data?:bytes; // always 64-bit
}
</pre><a href="#section-a.7.18-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="connectioncloseframe">
<section id="section-a.7.19">
          <h3 id="name-connectioncloseframe">
<a href="#section-a.7.19" class="section-number selfRef">A.7.19. </a><a href="#name-connectioncloseframe" class="section-name selfRef">ConnectionCloseFrame</a>
          </h3>
<p id="section-a.7.19-1">raw_error_code is the actual, numerical code. This is useful because some error
types are spread out over a range of codes (e.g., QUIC's crypto_error).<a href="#section-a.7.19-1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-a.7.19-2">
<pre>
type ErrorSpace = "transport" | "application";

class ConnectionCloseFrame{
    frame_type:string = "connection_close";

    error_space?:ErrorSpace;
    error_code?:TransportError | ApplicationError | uint32;
    raw_error_code?:uint32;
    reason?:string;

    trigger_frame_type?:uint64 | string; // For known frame types, the appropriate "frame_type" string. For unknown frame types, the hex encoded identifier value
}
</pre><a href="#section-a.7.19-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="handshakedoneframe">
<section id="section-a.7.20">
          <h3 id="name-handshakedoneframe">
<a href="#section-a.7.20" class="section-number selfRef">A.7.20. </a><a href="#name-handshakedoneframe" class="section-name selfRef">HandshakeDoneFrame</a>
          </h3>
<div class="artwork art-text alignLeft" id="section-a.7.20-1">
<pre>
class HandshakeDoneFrame{
  frame_type:string = "handshake_done";
}
</pre><a href="#section-a.7.20-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="unknownframe">
<section id="section-a.7.21">
          <h3 id="name-unknownframe">
<a href="#section-a.7.21" class="section-number selfRef">A.7.21. </a><a href="#name-unknownframe" class="section-name selfRef">UnknownFrame</a>
          </h3>
<div class="artwork art-text alignLeft" id="section-a.7.21-1">
<pre>
class UnknownFrame{
    frame_type:string = "unknown";
    raw_frame_type:uint64;

    raw_length?:uint32;
    raw?:bytes;
}
</pre><a href="#section-a.7.21-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="transporterror">
<section id="section-a.7.22">
          <h3 id="name-transporterror">
<a href="#section-a.7.22" class="section-number selfRef">A.7.22. </a><a href="#name-transporterror" class="section-name selfRef">TransportError</a>
          </h3>
<div class="artwork art-text alignLeft" id="section-a.7.22-1">
<pre>
enum TransportError {
    no_error,
    internal_error,
    connection_refused,
    flow_control_error,
    stream_limit_error,
    stream_state_error,
    final_size_error,
    frame_encoding_error,
    transport_parameter_error,
    connection_id_limit_error,
    protocol_violation,
    invalid_token,
    application_error,
    crypto_buffer_exceeded
}
</pre><a href="#section-a.7.22-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="cryptoerror">
<section id="section-a.7.23">
          <h3 id="name-cryptoerror">
<a href="#section-a.7.23" class="section-number selfRef">A.7.23. </a><a href="#name-cryptoerror" class="section-name selfRef">CryptoError</a>
          </h3>
<p id="section-a.7.23-1">These errors are defined in the TLS document as "A TLS alert is turned into a QUIC
connection error by converting the one-byte alert description into a QUIC error
code. The alert description is added to 0x100 to produce a QUIC error code from
the range reserved for CRYPTO_ERROR."<a href="#section-a.7.23-1" class="pilcrow">¶</a></p>
<p id="section-a.7.23-2">This approach maps badly to a pre-defined enum. As such, we define the
crypto_error string as having a dynamic component here, which should include the
hex-encoded value of the TLS alert description.<a href="#section-a.7.23-2" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-a.7.23-3">
<pre>
enum CryptoError {
    crypto_error_{TLS_ALERT}
}
</pre><a href="#section-a.7.23-3" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="http3-data-field-definitions">
<section id="section-appendix.b">
      <h2 id="name-http-3-data-field-definitio">
<a href="#section-appendix.b" class="section-number selfRef">Appendix B. </a><a href="#name-http-3-data-field-definitio" class="section-name selfRef">HTTP/3 data field definitions</a>
      </h2>
<div id="http3-frames">
<section id="section-b.1">
        <h2 id="name-http-3-frames">
<a href="#section-b.1" class="section-number selfRef">B.1. </a><a href="#name-http-3-frames" class="section-name selfRef">HTTP/3 Frames</a>
        </h2>
<div class="artwork art-text alignLeft" id="section-b.1-1">
<pre>
type HTTP3Frame = DataFrame | HeadersFrame | PriorityFrame | CancelPushFrame | SettingsFrame | PushPromiseFrame | GoAwayFrame | MaxPushIDFrame | DuplicatePushFrame | ReservedFrame | UnknownFrame;
</pre><a href="#section-b.1-1" class="pilcrow">¶</a>
</div>
<div id="dataframe">
<section id="section-b.1.1">
          <h3 id="name-dataframe">
<a href="#section-b.1.1" class="section-number selfRef">B.1.1. </a><a href="#name-dataframe" class="section-name selfRef">DataFrame</a>
          </h3>
<div class="artwork art-text alignLeft" id="section-b.1.1-1">
<pre>
class DataFrame{
    frame_type:string = "data";

    raw?:bytes;
}
</pre><a href="#section-b.1.1-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="headersframe">
<section id="section-b.1.2">
          <h3 id="name-headersframe">
<a href="#section-b.1.2" class="section-number selfRef">B.1.2. </a><a href="#name-headersframe" class="section-name selfRef">HeadersFrame</a>
          </h3>
<p id="section-b.1.2-1">This represents an <em>uncompressed</em>, plaintext HTTP Headers frame (e.g., no QPACK
compression is applied).<a href="#section-b.1.2-1" class="pilcrow">¶</a></p>
<p id="section-b.1.2-2">For example:<a href="#section-b.1.2-2" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-b.1.2-3">
<pre>
headers: [{"name":":path","value":"/"},{"name":":method","value":"GET"},{"name":":authority","value":"127.0.0.1:4433"},{"name":":scheme","value":"https"}]
</pre><a href="#section-b.1.2-3" class="pilcrow">¶</a>
</div>
<div class="artwork art-text alignLeft" id="section-b.1.2-4">
<pre>
class HeadersFrame{
    frame_type:string = "header";
    headers:Array&lt;HTTPHeader&gt;;
}

class HTTPHeader {
    name:string;
    value:string;
}
</pre><a href="#section-b.1.2-4" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="cancelpushframe">
<section id="section-b.1.3">
          <h3 id="name-cancelpushframe">
<a href="#section-b.1.3" class="section-number selfRef">B.1.3. </a><a href="#name-cancelpushframe" class="section-name selfRef">CancelPushFrame</a>
          </h3>
<div class="artwork art-text alignLeft" id="section-b.1.3-1">
<pre>
class CancelPushFrame{
    frame_type:string = "cancel_push";
    push_id:uint64;
}
</pre><a href="#section-b.1.3-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="settingsframe">
<section id="section-b.1.4">
          <h3 id="name-settingsframe">
<a href="#section-b.1.4" class="section-number selfRef">B.1.4. </a><a href="#name-settingsframe" class="section-name selfRef">SettingsFrame</a>
          </h3>
<div class="artwork art-text alignLeft" id="section-b.1.4-1">
<pre>
class SettingsFrame{
    frame_type:string = "settings";
    settings:Array&lt;Setting&gt;;
}

class Setting{
    name:string;
    value:string;
}
</pre><a href="#section-b.1.4-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="pushpromiseframe">
<section id="section-b.1.5">
          <h3 id="name-pushpromiseframe">
<a href="#section-b.1.5" class="section-number selfRef">B.1.5. </a><a href="#name-pushpromiseframe" class="section-name selfRef">PushPromiseFrame</a>
          </h3>
<div class="artwork art-text alignLeft" id="section-b.1.5-1">
<pre>
class PushPromiseFrame{
    frame_type:string = "push_promise";
    push_id:uint64;

    headers:Array&lt;HTTPHeader&gt;;
}
</pre><a href="#section-b.1.5-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="goawayframe">
<section id="section-b.1.6">
          <h3 id="name-goawayframe">
<a href="#section-b.1.6" class="section-number selfRef">B.1.6. </a><a href="#name-goawayframe" class="section-name selfRef">GoAwayFrame</a>
          </h3>
<div class="artwork art-text alignLeft" id="section-b.1.6-1">
<pre>
class GoAwayFrame{
    frame_type:string = "goaway";
    stream_id:uint64;
}
</pre><a href="#section-b.1.6-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="maxpushidframe">
<section id="section-b.1.7">
          <h3 id="name-maxpushidframe">
<a href="#section-b.1.7" class="section-number selfRef">B.1.7. </a><a href="#name-maxpushidframe" class="section-name selfRef">MaxPushIDFrame</a>
          </h3>
<div class="artwork art-text alignLeft" id="section-b.1.7-1">
<pre>
class MaxPushIDFrame{
    frame_type:string = "max_push_id";
    push_id:uint64;
}
</pre><a href="#section-b.1.7-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="duplicatepushframe">
<section id="section-b.1.8">
          <h3 id="name-duplicatepushframe">
<a href="#section-b.1.8" class="section-number selfRef">B.1.8. </a><a href="#name-duplicatepushframe" class="section-name selfRef">DuplicatePushFrame</a>
          </h3>
<div class="artwork art-text alignLeft" id="section-b.1.8-1">
<pre>
class DuplicatePushFrame{
    frame_type:string = "duplicate_push";
    push_id:uint64;
}
</pre><a href="#section-b.1.8-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="reservedframe">
<section id="section-b.1.9">
          <h3 id="name-reservedframe">
<a href="#section-b.1.9" class="section-number selfRef">B.1.9. </a><a href="#name-reservedframe" class="section-name selfRef">ReservedFrame</a>
          </h3>
<div class="artwork art-text alignLeft" id="section-b.1.9-1">
<pre>
class ReservedFrame{
    frame_type:string = "reserved";
}
</pre><a href="#section-b.1.9-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="unknownframe-1">
<section id="section-b.1.10">
          <h3 id="name-unknownframe-2">
<a href="#section-b.1.10" class="section-number selfRef">B.1.10. </a><a href="#name-unknownframe-2" class="section-name selfRef">UnknownFrame</a>
          </h3>
<p id="section-b.1.10-1">HTTP/3 re-uses QUIC's UnknownFrame definition, since their values and usage
overlaps.<a href="#section-b.1.10-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="applicationerror">
<section id="section-b.2">
        <h2 id="name-applicationerror">
<a href="#section-b.2" class="section-number selfRef">B.2. </a><a href="#name-applicationerror" class="section-name selfRef">ApplicationError</a>
        </h2>
<div class="artwork art-text alignLeft" id="section-b.2-1">
<pre>
enum ApplicationError{
    http_no_error,
    http_general_protocol_error,
    http_internal_error,
    http_stream_creation_error,
    http_closed_critical_stream,
    http_frame_unexpected,
    http_frame_error,
    http_excessive_load,
    http_id_error,
    http_settings_error,
    http_missing_settings,
    http_request_rejected,
    http_request_cancelled,
    http_request_incomplete,
    http_early_response,
    http_connect_error,
    http_version_fallback
}
</pre><a href="#section-b.2-1" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="qpack-data-type-definitions">
<section id="section-appendix.c">
      <h2 id="name-qpack-data-type-definitions">
<a href="#section-appendix.c" class="section-number selfRef">Appendix C. </a><a href="#name-qpack-data-type-definitions" class="section-name selfRef">QPACK DATA type definitions</a>
      </h2>
<div id="qpack-instructions">
<section id="section-c.1">
        <h2 id="name-qpack-instructions">
<a href="#section-c.1" class="section-number selfRef">C.1. </a><a href="#name-qpack-instructions" class="section-name selfRef">QPACK Instructions</a>
        </h2>
<p id="section-c.1-1">Note: the instructions do not have explicit encoder/decoder types, since there is
no overlap between the insturctions of both types in neither name nor function.<a href="#section-c.1-1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-c.1-2">
<pre>
type QPackInstruction = SetDynamicTableCapacityInstruction | InsertWithNameReferenceInstruction | InsertWithoutNameReferenceInstruction | DuplicateInstruction | HeaderAcknowledgementInstruction | StreamCancellationInstruction | InsertCountIncrementInstruction;
</pre><a href="#section-c.1-2" class="pilcrow">¶</a>
</div>
<div id="setdynamictablecapacityinstruction">
<section id="section-c.1.1">
          <h3 id="name-setdynamictablecapacityinst">
<a href="#section-c.1.1" class="section-number selfRef">C.1.1. </a><a href="#name-setdynamictablecapacityinst" class="section-name selfRef">SetDynamicTableCapacityInstruction</a>
          </h3>
<div class="artwork art-text alignLeft" id="section-c.1.1-1">
<pre>
class SetDynamicTableCapacityInstruction {
    instruction_type:string = "set_dynamic_table_capacity";

    capacity:uint32;
}
</pre><a href="#section-c.1.1-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="insertwithnamereferenceinstruction">
<section id="section-c.1.2">
          <h3 id="name-insertwithnamereferenceinst">
<a href="#section-c.1.2" class="section-number selfRef">C.1.2. </a><a href="#name-insertwithnamereferenceinst" class="section-name selfRef">InsertWithNameReferenceInstruction</a>
          </h3>
<div class="artwork art-text alignLeft" id="section-c.1.2-1">
<pre>
class InsertWithNameReferenceInstruction {
    instruction_type:string = "insert_with_name_reference";

    table_type:"static"|"dynamic";

    name_index:uint32;

    huffman_encoded_value:boolean;

    value_length?:uint32;
    value?:string;
}
</pre><a href="#section-c.1.2-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="insertwithoutnamereferenceinstruction">
<section id="section-c.1.3">
          <h3 id="name-insertwithoutnamereferencei">
<a href="#section-c.1.3" class="section-number selfRef">C.1.3. </a><a href="#name-insertwithoutnamereferencei" class="section-name selfRef">InsertWithoutNameReferenceInstruction</a>
          </h3>
<div class="artwork art-text alignLeft" id="section-c.1.3-1">
<pre>
class InsertWithoutNameReferenceInstruction {
    instruction_type:string = "insert_without_name_reference";

    huffman_encoded_name:boolean;

    name_length?:uint32;
    name?:string;

    huffman_encoded_value:boolean;

    value_length?:uint32;
    value?:string;
}
</pre><a href="#section-c.1.3-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="duplicateinstruction">
<section id="section-c.1.4">
          <h3 id="name-duplicateinstruction">
<a href="#section-c.1.4" class="section-number selfRef">C.1.4. </a><a href="#name-duplicateinstruction" class="section-name selfRef">DuplicateInstruction</a>
          </h3>
<div class="artwork art-text alignLeft" id="section-c.1.4-1">
<pre>
class DuplicateInstruction {
    instruction_type:string = "duplicate";

    index:uint32;
}
</pre><a href="#section-c.1.4-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="headeracknowledgementinstruction">
<section id="section-c.1.5">
          <h3 id="name-headeracknowledgementinstru">
<a href="#section-c.1.5" class="section-number selfRef">C.1.5. </a><a href="#name-headeracknowledgementinstru" class="section-name selfRef">HeaderAcknowledgementInstruction</a>
          </h3>
<div class="artwork art-text alignLeft" id="section-c.1.5-1">
<pre>
class HeaderAcknowledgementInstruction {
    instruction_type:string = "header_acknowledgement";

    stream_id:uint64;
}
</pre><a href="#section-c.1.5-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="streamcancellationinstruction">
<section id="section-c.1.6">
          <h3 id="name-streamcancellationinstructi">
<a href="#section-c.1.6" class="section-number selfRef">C.1.6. </a><a href="#name-streamcancellationinstructi" class="section-name selfRef">StreamCancellationInstruction</a>
          </h3>
<div class="artwork art-text alignLeft" id="section-c.1.6-1">
<pre>
class StreamCancellationInstruction {
    instruction_type:string = "stream_cancellation";

    stream_id:uint64;
}
</pre><a href="#section-c.1.6-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="insertcountincrementinstruction">
<section id="section-c.1.7">
          <h3 id="name-insertcountincrementinstruc">
<a href="#section-c.1.7" class="section-number selfRef">C.1.7. </a><a href="#name-insertcountincrementinstruc" class="section-name selfRef">InsertCountIncrementInstruction</a>
          </h3>
<div class="artwork art-text alignLeft" id="section-c.1.7-1">
<pre>
class InsertCountIncrementInstruction {
    instruction_type:string = "insert_count_increment";

    increment:uint32;
}
</pre><a href="#section-c.1.7-1" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="qpack-header-compression">
<section id="section-c.2">
        <h2 id="name-qpack-header-compression">
<a href="#section-c.2" class="section-number selfRef">C.2. </a><a href="#name-qpack-header-compression" class="section-name selfRef">QPACK Header compression</a>
        </h2>
<div class="artwork art-text alignLeft" id="section-c.2-1">
<pre>
type QPackHeaderBlockRepresentation = IndexedHeaderField | LiteralHeaderFieldWithName | LiteralHeaderFieldWithoutName;
</pre><a href="#section-c.2-1" class="pilcrow">¶</a>
</div>
<div id="indexedheaderfield">
<section id="section-c.2.1">
          <h3 id="name-indexedheaderfield">
<a href="#section-c.2.1" class="section-number selfRef">C.2.1. </a><a href="#name-indexedheaderfield" class="section-name selfRef">IndexedHeaderField</a>
          </h3>
<p id="section-c.2.1-1">Note: also used for "indexed header field with post-base index"<a href="#section-c.2.1-1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-c.2.1-2">
<pre>
class IndexedHeaderField {
    header_field_type:string = "indexed_header";

    table_type:"static"|"dynamic"; // MUST be "dynamic" if is_post_base is true
    index:uint32;

    is_post_base:boolean = false; // to represent the "indexed header field with post-base index" header field type
}
</pre><a href="#section-c.2.1-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="literalheaderfieldwithname">
<section id="section-c.2.2">
          <h3 id="name-literalheaderfieldwithname">
<a href="#section-c.2.2" class="section-number selfRef">C.2.2. </a><a href="#name-literalheaderfieldwithname" class="section-name selfRef">LiteralHeaderFieldWithName</a>
          </h3>
<p id="section-c.2.2-1">Note: also used for "Literal header field with post-base name reference"<a href="#section-c.2.2-1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-c.2.2-2">
<pre>
class LiteralHeaderFieldWithName {
    header_field_type:string = "literal_with_name";

    preserve_literal:boolean; // the 3rd "N" bit
    table_type:"static"|"dynamic"; // MUST be "dynamic" if is_post_base is true
    name_index:uint32;

    huffman_encoded_value:boolean;
    value_length?:uint32;
    value?:string;

    is_post_base:boolean = false; // to represent the "Literal header field with post-base name reference" header field type
}
</pre><a href="#section-c.2.2-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="literalheaderfieldwithoutname">
<section id="section-c.2.3">
          <h3 id="name-literalheaderfieldwithoutna">
<a href="#section-c.2.3" class="section-number selfRef">C.2.3. </a><a href="#name-literalheaderfieldwithoutna" class="section-name selfRef">LiteralHeaderFieldWithoutName</a>
          </h3>
<div class="artwork art-text alignLeft" id="section-c.2.3-1">
<pre>
class LiteralHeaderFieldWithoutName {
    header_field_type:string = "literal_without_name";

    preserve_literal:boolean; // the 3rd "N" bit

    huffman_encoded_name:boolean;
    name_length?:uint32;
    name?:string;

    huffman_encoded_value:boolean;
    value_length?:uint32;
    value?:string;
}
</pre><a href="#section-c.2.3-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="qpackheaderblockprefix">
<section id="section-c.2.4">
          <h3 id="name-qpackheaderblockprefix">
<a href="#section-c.2.4" class="section-number selfRef">C.2.4. </a><a href="#name-qpackheaderblockprefix" class="section-name selfRef">QPackHeaderBlockPrefix</a>
          </h3>
<div class="artwork art-text alignLeft" id="section-c.2.4-1">
<pre>
class QPackHeaderBlockPrefix {
    required_insert_count:uint32;
    sign_bit:boolean;
    delta_base:uint32;
}
</pre><a href="#section-c.2.4-1" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="change-log">
<section id="section-appendix.d">
      <h2 id="name-change-log-3">
<a href="#section-appendix.d" class="section-number selfRef">Appendix D. </a><a href="#name-change-log-3" class="section-name selfRef">Change Log</a>
      </h2>
<div id="since-draft-01">
<section id="section-d.1">
        <h2 id="name-since-draft-01">
<a href="#section-d.1" class="section-number selfRef">D.1. </a><a href="#name-since-draft-01" class="section-name selfRef">Since draft-01:</a>
        </h2>
<p id="section-d.1-1">Major changes:<a href="#section-d.1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-d.1-2.1">Moved data_moved from http to transport. Also made the "from" and "to" fields
flexible strings instead of an enum (#111,#65)<a href="#section-d.1-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-d.1-2.2">Moved packet_type fields to PacketHeader. Moved packet_size field out of
PacketHeader to RawInfo:length (#40)<a href="#section-d.1-2.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-d.1-2.3">Made events that need to log packet_type and packet_number use a header field
instead of logging these fields individually<a href="#section-d.1-2.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-d.1-2.4">Added support for logging retry, stateless reset and initial tokens (#94,#86,#117)<a href="#section-d.1-2.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-d.1-2.5">Moved separate general event categories into a single category "generic" (#47)<a href="#section-d.1-2.5" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-d.1-2.6">Added "transport:connection_closed" event (#43,#85,#78,#49)<a href="#section-d.1-2.6" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-d.1-2.7">Added version_information and alpn_information events (#85,#75,#28)<a href="#section-d.1-2.7" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-d.1-2.8">Added parameters_restored events to help clarify 0-RTT behaviour (#88)<a href="#section-d.1-2.8" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-d.1-3">Smaller changes:<a href="#section-d.1-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-d.1-4.1">Merged loss_timer events into one loss_timer_updated event<a href="#section-d.1-4.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-d.1-4.2">Field data types are now strongly defined (#10,#39,#36,#115)<a href="#section-d.1-4.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-d.1-4.3">Renamed qpack instruction_received and instruction_sent to instruction_created
and instruction_parsed (#114)<a href="#section-d.1-4.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-d.1-4.4">Updated qpack:dynamic_table_updated.update_type. It now has the value "inserted"
instead of "added" (#113)<a href="#section-d.1-4.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-d.1-4.5">Updated qpack:dynamic_table_updated. It now has an "owner" field to
differentiate encoder vs decoder state (#112)<a href="#section-d.1-4.5" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-d.1-4.6">Removed push_allowed from http:parameters_set (#110)<a href="#section-d.1-4.6" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-d.1-4.7">Removed explicit trigger field indications from events, since this was moved to
be a generic property of the "data" field (#80)<a href="#section-d.1-4.7" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-d.1-4.8">Updated transport:connection_id_updated to be more in line with other similar
events. Also dropped importance from Core to Base (#45)<a href="#section-d.1-4.8" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-d.1-4.9">Added length property to PaddingFrame (#34)<a href="#section-d.1-4.9" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-d.1-4.10">Added packet_number field to transport:frames_processed (#74)<a href="#section-d.1-4.10" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-d.1-4.11">Added a way to generically log packet header flags (first 8 bits) to
PacketHeader<a href="#section-d.1-4.11" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-d.1-4.12">Added additional guidance on which events to log in which situations (#53)<a href="#section-d.1-4.12" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-d.1-4.13">Added "simulation:scenario" event to help indicate simulation details<a href="#section-d.1-4.13" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-d.1-4.14">Added "packets_acked" event (#107)<a href="#section-d.1-4.14" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-d.1-4.15">Added "datagram_ids" to the datagram_X and packet_X events to allow tracking of
coalesced QUIC packets (#91)<a href="#section-d.1-4.15" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-d.1-4.16">Extended connection_state_updated with more fine-grained states (#49)<a href="#section-d.1-4.16" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
<div id="since-draft-00">
<section id="section-d.2">
        <h2 id="name-since-draft-00">
<a href="#section-d.2" class="section-number selfRef">D.2. </a><a href="#name-since-draft-00" class="section-name selfRef">Since draft-00:</a>
        </h2>
<ul class="normal">
<li class="normal" id="section-d.2-1.1">Event and category names are now all lowercase<a href="#section-d.2-1.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-d.2-1.2">Added many new events and their definitions<a href="#section-d.2-1.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-d.2-1.3">"type" fields have been made more specific (especially important for PacketType
fields, which are now called packet_type instead of type)<a href="#section-d.2-1.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-d.2-1.4">Events are given an importance indicator (issue #22)<a href="#section-d.2-1.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-d.2-1.5">Event names are more consistent and use past tense (issue #21)<a href="#section-d.2-1.5" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-d.2-1.6">Triggers have been redefined as properties of the "data" field and updated for most events (issue #23)<a href="#section-d.2-1.6" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
</section>
</div>
<div id="design-variations">
<section id="section-appendix.e">
      <h2 id="name-design-variations-2">
<a href="#section-appendix.e" class="section-number selfRef">Appendix E. </a><a href="#name-design-variations-2" class="section-name selfRef">Design Variations</a>
      </h2>
<p id="section-appendix.e-1">TBD<a href="#section-appendix.e-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="acknowledgements">
<section id="section-appendix.f">
      <h2 id="name-acknowledgements-3">
<a href="#section-appendix.f" class="section-number selfRef">Appendix F. </a><a href="#name-acknowledgements-3" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="section-appendix.f-1">Thanks to Marten Seemann, Jana Iyengar, Brian Trammell, Dmitri Tikhonov, Stephen
Petrides, Jari Arkko, Marcus Ihlar, Victor Vasiliev, Mirja Kuehlewind, Jeremy
Laine, Kazu Yamamoto, Christian Huitema, and Lucas Pardue for their feedback and
suggestions.<a href="#section-appendix.f-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="section-appendix.g">
      <h2 id="name-authors-address-2">
<a href="#name-authors-address-2" class="section-name selfRef">Author's Address</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Robin Marx</span></div>
<div dir="auto" class="left"><span class="org">Hasselt University</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:robin.marx@uhasselt.be" class="email">robin.marx@uhasselt.be</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
