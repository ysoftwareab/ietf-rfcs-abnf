<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Transmission of IPv4 packets over IEEE 802.16's IP Convergence Sublayer</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Transmission of IPv4 packets over IEEE 802.16's IP Convergence Sublayer">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">16ng Working Group</td><td class="header">S. Madanapalli</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Ordyn Technologies</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">Soohong D. Park</td></tr>
<tr><td class="header">Expires: May 6, 2009</td><td class="header">Samsung Electronics</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">S. Chakrabarti</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">IP Infusion</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">G. Montenegro</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Microsoft Corporation</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">November 02, 2008</td></tr>
</table></td></tr></table>
<h1><br />Transmission of IPv4 packets over IEEE 802.16's IP Convergence Sublayer<br />draft-ietf-16ng-ipv4-over-802-dot-16-ipcs-04.txt</h1>

<h3>Status of this Memo</h3>
<p>
By submitting this Internet-Draft,
each author represents that any applicable patent or other IPR claims of which
he or she is aware have been or will be disclosed,
and any of which he or she becomes aware will be disclosed,
in accordance with Section&nbsp;6 of BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on May 6, 2009.</p>

<h3>Abstract</h3>

<p>

IEEE 802.16 is an air interface specification for wireless broadband access.
IEEE 802.16 has specified multiple service specific convergence sublayers
for transmitting upper layer protocols. The packet CS (Packet Convergence Sublayer)
is used for the transport
of all packet-based protocols such as Internet Protocol (IP), IEEE 802.3 (Ethernet)
and IEEE 802.1Q (VLAN). The IP-specific part of the Packet CS enables the transport
of IPv4 packets directly over the IEEE 802.16 MAC.

</p>
<p>
This document specifies the frame format, the Maximum Transmission Unit (MTU) 
and address assignment procedures for transmitting IPv4 packets over the IP-specific 
part of the Packet Convergence Sublayer of IEEE 802.16.

</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
<a href="#anchor2">2.</a>&nbsp;
Terminology<br />
<a href="#anchor3">3.</a>&nbsp;
Typical Network Architecture for IPv4 over IEEE 802.16<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">3.1.</a>&nbsp;
IEEE 802.16 IPv4 Convergence sub-layer support<br />
<a href="#anchor5">4.</a>&nbsp;
IPv4-CS link in 802.16 Networks<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">4.1.</a>&nbsp;
IPv4-CS link establishment<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">4.2.</a>&nbsp;
Frame Format for IPv4 Packets<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor8">4.3.</a>&nbsp;
Maximum Transmission Unit<br />
<a href="#anchor9">5.</a>&nbsp;
Subnet Model and IPv4 Address Assignment<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor10">5.1.</a>&nbsp;
IPv4 Unicast Address Assignment and Router Discovery<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor11">5.2.</a>&nbsp;
Address Resolution Protocol<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor12">5.3.</a>&nbsp;
IP Multicast Address Mapping<br />
<a href="#anchor13">6.</a>&nbsp;
Handling Multicast and Broadcast packets in IPv4 CS<br />
<a href="#anchor14">7.</a>&nbsp;
Security Considerations<br />
<a href="#anchor15">8.</a>&nbsp;
IANA Considerations<br />
<a href="#anchor16">9.</a>&nbsp;
Acknowledgements<br />
<a href="#rfc.references1">10.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">10.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">10.2.</a>&nbsp;
Informative References<br />
<a href="#anchor19">Appendix&nbsp;A.</a>&nbsp;
Multiple Convergence Layers - Impact on Subnet Model<br />
<a href="#anchor20">Appendix&nbsp;B.</a>&nbsp;
Sending and Receiving IPv4 Packets<br />
<a href="#anchor21">Appendix&nbsp;C.</a>&nbsp;
Wimax IPCS MTU size<br />
<a href="#anchor22">Appendix&nbsp;D.</a>&nbsp;
Thoughts on handling multicast-broadcast IP packets<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
<a href="#rfc.copyright">&#167;</a>&nbsp;
Intellectual Property and Copyright Statements<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>

IEEE 802.16 <a class='info' href='#IEEE802_16'>[IEEE802_16]<span> (</span><span class='info'>, &ldquo;IEEE 802.16e, IEEE standard for Local and metropolitan area networks, Part 16:Air Interface for fixed and Mobile broadband wireless access systems,&rdquo; October&nbsp;2005.</span><span>)</span></a> is a 
connection oriented access technology for the last mile. The IEEE 802.16 
specification includes the PHY and MAC details.  The MAC includes various
convergence sublayers (CS) for transmitting higher layer packets including IPV4
packets <a class='info' href='#RFC5154'>[RFC5154]<span> (</span><span class='info'>Jee, J., Madanapalli, S., and J. Mandin, &ldquo;IP over IEEE 802.16 Problem Statement and Goals,&rdquo; April&nbsp;2008.</span><span>)</span></a>.




</p>
<p>
 The scope of this specification is limited to the operation of IPv4
 over the IP-specific part of the packet CS (referred to as "IPv4 CS" or
 simply "IP CS" in this document).


</p>
<p>
This document specifies a method for encapsulating and transmitting
IPv4 <a class='info' href='#RFC0791'>[RFC0791]<span> (</span><span class='info'>Postel, J., &ldquo;Internet Protocol,&rdquo; September&nbsp;1981.</span><span>)</span></a> packets over the IP CS of IEEE 802.16. This 
document also specifies the MTU and address assignment method for the
IEEE 802.16 based networks using IP CS.

</p>
<p>
This document also discusses ARP (Address Resolution Protocol)
and Multicast Address Mapping whose operation is similar to any other
point-to-point link model.

</p>
<p>
      The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL
      NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED",  "MAY", and
      "OPTIONAL" in this document are to be interpreted as described in
      <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.


</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Terminology</h3>

<p>
The terminology in this document is based on the definitions in
<a class='info' href='#RFC5154'>[RFC5154]<span> (</span><span class='info'>Jee, J., Madanapalli, S., and J. Mandin, &ldquo;IP over IEEE 802.16 Problem Statement and Goals,&rdquo; April&nbsp;2008.</span><span>)</span></a>.

</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Typical Network Architecture for IPv4 over IEEE 802.16</h3>

<p>
The network architecture follows what is described in <a class='info' href='#RFC5154'>[RFC5154]<span> (</span><span class='info'>Jee, J., Madanapalli, S., and J. Mandin, &ldquo;IP over IEEE 802.16 Problem Statement and Goals,&rdquo; April&nbsp;2008.</span><span>)</span></a> and 
<a class='info' href='#RFC5121'>[RFC5121]<span> (</span><span class='info'>Patil, B., Xia, F., Sarikaya, B., Choi, JH., and S. Madanapalli, &ldquo;Transmission of IPv6 via the IPv6 Convergence Sublayer over IEEE 802.16 Networks,&rdquo; February&nbsp;2008.</span><span>)</span></a>.
In a nutshell, each MS is attached
to an Access Router (AR) through a Base Station (BS), a layer 2 entity.
The AR can be an integral part of the BS or the AR could be an entity 
beyond the BS within the access network.  IPv4 packets between the MS
and BS are carried over a point-to-point MAC transport connection which
has a unique connection identifier (CID). The packets between BS and AR
are carried using L2 tunnel (typically GRE tunnel) so that MS and AR are
seen as layer 3 peer entities. At least one L2 tunnel is required for 
each MS, so that IP packets can be sent to MSs before they acquire IP 
addresses. From the layer 3 perspective, MS and AR are connected by a point-to-point
link. The figure below illustrates the network architecture for convenience.

</p><br /><hr class="insert" />
<a name="Network Architecture"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>



   +-----+   CID1    +------+          +-----------+
   | MS1 |----------+|  BS  |----------|     AR    |-----Internet
   +-----+         / +------+          +-----------+
      .           /        ____________
      .     CIDn /        ()__________()
   +-----+      /            L2 Tunnel
   | MSn |-----/
   +-----+

</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;1: Typical Network 
                                       Architecture for IPv4 over IEEE 802.16&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p> 
</p>
<p>
The above network model serves as an example and is shown to illustrate
the point to point link between the MS and the AR. The L2 tunnel is not
required if BS and AR are integrated into a single box.

</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
IEEE 802.16 IPv4 Convergence sub-layer support</h3>

<p>

   As described in <a class='info' href='#RFC5154'>[RFC5154]<span> (</span><span class='info'>Jee, J., Madanapalli, S., and J. Mandin, &ldquo;IP over IEEE 802.16 Problem Statement and Goals,&rdquo; April&nbsp;2008.</span><span>)</span></a> section 3.3., an IP specific subpart classifier
   carries either IPv4 or IPv6 payloads. In this document, we are focussing on
   IPv4 over IP Convergence sublayer.
   
</p>
<p>

   The convergence sublayer maintains an ordered "classifier table".  Each
   entry in the classifier table includes a classifier and a target CID.
   In case of IP convergence sub-layer, the base-station performs the mapping 
   between CID or service-flow ID and a corresponding GRE key for a particular
   IP-CS session. Also the classification takes place in Access Router based on
   the GRE key per service-flow and/or IP-address of the MS.
   
</p>
<p>
   The other classifiers in Packet CS are IPv6 CS and Ethernet CS <a class='info' href='#RFC5154'>[RFC5154]<span> (</span><span class='info'>Jee, J., Madanapalli, S., and J. Mandin, &ldquo;IP over IEEE 802.16 Problem Statement and Goals,&rdquo; April&nbsp;2008.</span><span>)</span></a>.
   The classifiers used by IP CS, enable the differentiation of IPv4 and IPv6 packets 
   and their mapping to specific transport connections over the air interface.

   
</p>
<p>
   The figure below shows the  IPv4 user payload over IP transport over the packet
   CS of IEEE 802.16:



    <br /><hr class="insert" />
<a name="IPCS Format"></a>
</p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

                                      +-------------------+
                                      | IPv4 Payload      |
                                      +-------------------+
                                      |    GRE            |
         +-------------------+        +-------------------+
         |    IPv4 Payload   |        |    IP             |
         +-------------------+        +-------------------+
         |  IP-specific      |        |  BS-AR Layer 2    |
         | part of Packet CS |        |  specific link    |
         |...................|        |  (Ex: Ethernet)   |
         |    802.16 MAC     |        |                   |
         +-------------------+        +-------------------+
         |    PHY            |        |    PHY            |
         +-------------------+        +-------------------+

         (1) IPv4 over IP-CS               (2) IPv4 in L3 GRE encapsulation
             between MS and BS                 between Base-station and AR

</pre></div><p>
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;2: IEEE 802.16 transport of 
                                          IPv4 Packets from MS to AR&nbsp;</b></font><br /></td></tr></table><hr class="insert" />


  
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
IPv4-CS link in 802.16 Networks</h3>

<p>
 In this document we have defined IPv4 CS link as a point-to-point link between
 the MS and the AR using a set of service flows consisting of MAC transport
 connections between a MS and BS, and L2 tunnel(s) between between a BS and AR.
   It is recommended that a tunnel be established
   between the AR and a BS based on 'per MS'
   or 'per service flow' (An MS can have multiple service flows each of  which
   are identified by a unique service flow ID).  Then the tunnel(s) for an MS,
   in combination with the MS's MAC transport connections, forms a single
   point-to-point link.
   Each MS belongs to a different link and is assigned an unique IPv4 address
   per recommendations
   in <a class='info' href='#RFC4968'>[RFC4968]<span> (</span><span class='info'>Madanapalli, S., &ldquo;Analysis of IPv6 Link Models for 802.16 Based Networks,&rdquo; August&nbsp;2007.</span><span>)</span></a>.

   In summary:

</p>
<p>
    </p>
<ul class="text">
<li>
   IPv4-CS uses the IPv4 header fields to classify the packets and map to appropriate CID.
   
</li>
<li>
    Point-to-point link between MS and AR is established.
    
</li>
</ul><p>
   
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1"></a><h3>4.1.&nbsp;
IPv4-CS link establishment</h3>

<p>
  In order to enable the sending and receiving of IPv4 packets between
   the MS and the AR, the link between the MS and the AR via the BS
   needs to be established.  This section explains the link
   establishment procedures following section 6.2 of <a class='info' href='#RFC5121'>[RFC5121]<span> (</span><span class='info'>Patil, B., Xia, F., Sarikaya, B., Choi, JH., and S. Madanapalli, &ldquo;Transmission of IPv6 via the IPv6 Convergence Sublayer over IEEE 802.16 Networks,&rdquo; February&nbsp;2008.</span><span>)</span></a>.
   Steps 1-4 are same as indicated in 6.2 of <a class='info' href='#RFC5121'>[RFC5121]<span> (</span><span class='info'>Patil, B., Xia, F., Sarikaya, B., Choi, JH., and S. Madanapalli, &ldquo;Transmission of IPv6 via the IPv6 Convergence Sublayer over IEEE 802.16 Networks,&rdquo; February&nbsp;2008.</span><span>)</span></a>. In step 5,
   support for IPv4 is indicated. In step 6, an initial service flow is created that
   can be used for exchanging IP layer signaling messages, e.g. address assignment
   procedures using DHCP.     
</p>
<p>
     The address assignment procedure depends on
    the MS mode - i,e. whether it is acting as a Mobile IPv4 client or a Proxy Mobile
    IP client or a Simple IP client. In the most common case, the MS requests an IP address
    using DHCP. 
      
  
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2"></a><h3>4.2.&nbsp;
Frame Format for IPv4 Packets</h3>

<p>
IPv4 packets are transmitted in Generic IEEE 802.16 MAC frames in the data payloads of the 
802.16 PDU ( see section 3.2 of <a class='info' href='#RFC5154'>[RFC5154]<span> (</span><span class='info'>Jee, J., Madanapalli, S., and J. Mandin, &ldquo;IP over IEEE 802.16 Problem Statement and Goals,&rdquo; April&nbsp;2008.</span><span>)</span></a> ).

</p><br /><hr class="insert" />
<a name="Frame Format"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>


                     0                   1
                     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5
                    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                    |H|E|   TYPE    |R|C|EKS|R|LEN  |
                    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                    |    LEN LSB    |    CID MSB    |
                    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                    |    CID LSB    |    HCS        |
                    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                    |             IPv4              |
                    +-                             -+
                    |            header             |
                    +-                             -+
                    |             and               |
                    +-                             -+
                    /            payload           /
                    +-                             -+
                    |                               |
                    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                    |CRC (optional) |
                    +-+-+-+-+-+-+-+-+

</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;3: IEEE 802.16 MAC Frame Format for 
                                          IPv4 Packets&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<blockquote class="text">
<p>
H: Header Type (1 bit).  Shall be set to zero indicating that it 
is a Generic MAC PDU.

</p>
<p>
      E: Encryption Control. 0 = Payload is not encrypted; 1 = Payload
      is encrypted.

</p>
<p>
      R: Reserved.  Shall be set to zero.

</p>
<p>
      C: CRC Indicator. 1 = CRC is included, 0 = 1 No CRC is included

</p>
<p>
      EKS: Encryption Key Sequence

</p>
<p>
      LEN: The Length in bytes of the MAC PDU including the MAC header
      and the CRC if present (11 bits)

</p>
<p>
      CID: Connection Identifier (16 bits)

</p>
<p>
      HCS: Header Check Sequence (8 bits)

</p>
<p>
      CRC: An optional 8-bit field.  CRC appended to the PDU after
      encryption.

</p>
<p>
      TYPE: This field indicates the subheaders (Mesh subheader,
      Fragmentation Subheader, Packing subheader etc and special payload
      types (ARQ) present in the message payload

</p>
</blockquote>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.3"></a><h3>4.3.&nbsp;
Maximum Transmission Unit</h3>

<p>
   The MTU value for IPv4 packets on an IEEE 802.16 link is
   configurable.  The default MTU for IPv4 packets over an IEEE 802.16
   link SHOULD be 1500 bytes. 
   In some deployments, BS and AR are separate entities; an encapsulation may be used 
   to transport IPv4 packets between the BS and AR. In those cases the overhead
   of encapsulation may be considered in the link MTU configuration.


</p>
<p>
Note, if a deployment configures the 802.16 link MTU less than 1500,
then 1500 byte packets from the MS will be dropped at the link-layer silently;
the legacy IPv4 client implementations do not determine the link MTU by 
   default before sending packets, while the DHCP servers are required
   to provide the MTU information only when requested. Please see 
   Appendix C. for the default MTU value in WiMAX <a class='info' href='#WMF'>[WMF]<span> (</span><span class='info'>, &ldquo;WiMAX End-to-End Network Systems Architecture Stage 2-3 Release 1.2, http://www.wimaxforum.org/technology/documents,&rdquo; January&nbsp;2008.</span><span>)</span></a> deployed networks. 


</p>
<p>
This document recommends that a deployment should ensure that no packet loss
   happens at the L2 level over  IPV4 CS link-MTU, due to mismatch in default MTU
   and the configured link MTUs.

</p>
<p>

   However, it is strongly recommended that an IPv4 CS client host configure 
   the link-MTU before initiating the IP-level packet exchange. 
   The following paragraph discusses different approaches through which 
   the IPv4 CS client finds out the available link-MTU value.  The discovery
   and configuration of a proper link MTU value ensures adequate usage of 
   the network bandwidth and resource.


</p>
<p>

</p>
<ul class="text">
<li>
  The IEEE  is currently revising 802.16 (see 802.16Rev2 <a class='info' href='#802_16REV2'>[802_16REV2]<span> (</span><span class='info'>Johnston, D., &ldquo;SDU MTU Capability Declaration,&rdquo; March&nbsp;2008.</span><span>)</span></a> ) to
  reproduce capabilities to inform the Service
 Data Unit or MAC MTU in the IEEE 802.16 SBC-REQ/SBC-RSP phase, such that future
 IEEE 802.16 compliant clients can configure the negotiated MTU size for IP-CS link.
 However, the implementation must communicate the negotiated MTU value to the IP layer
 to adjust the IP Maximum payload size for proper handling of fragmentation. Note that
 this method is useful only when MS is directly connected to the BS.
   

</li>
<li>
   Configuration and negotiation of MTU size at the network-layer by using DHCP
   interface MTU option <a class='info' href='#RFC2132'>[RFC2132]<span> (</span><span class='info'>Alexander, S. and R. Droms, &ldquo;DHCP Options and BOOTP Vendor Extensions,&rdquo; March&nbsp;1997.</span><span>)</span></a>.

</li>
</ul><p>

 
</p>
<p>
   This document recommends that all future implementations of IPv4 and 
   IPv4-CS clients SHOULD implement DHCP interface MTU option [RFC2132] in 
   order to configure its interface MTU according to the access network in
   order to maximize the capacity of the bandwidth of
   the network. Thus the IPv4 stack should have capability to adjust
   the MTU value based on the DHCP response.

  
</p>
<p>
 In the absence of DHCP MTU configuration, the client node (MS) has two
   alternatives: 1) use the default MTU (1500 bytes) or 2) determine 
   the MTU by the methods described in <a class='info' href='#802_16REV2'>[802_16REV2]<span> (</span><span class='info'>Johnston, D., &ldquo;SDU MTU Capability Declaration,&rdquo; March&nbsp;2008.</span><span>)</span></a>.

</p>
<p>
   Additionally, the clients are encouraged to run 
   PMTU[RFC 1191] or PPMTUD[RFC 4821]. 
   However, PMTU mechanism has inherent problems of packet
   loss due to ICMP messages not reaching the
   sender and IPv4 routers not fragmenting the packets due to DF bit being 
   set in the IP packet. The above mentioned path MTU mechanisms will take
   care of the MTU size between the MS and its correspondent node across
   different flavors of convergence layers in the WiMAX networks and other types of IP networks.

</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Subnet Model and IPv4 Address Assignment</h3>

<p>
The Subnet Model recommended for IPv4 over IEEE 802.16 using IP CS is based on the
point-to-point link between MS and AR <a class='info' href='#RFC4968'>[RFC4968]<span> (</span><span class='info'>Madanapalli, S., &ldquo;Analysis of IPv6 Link Models for 802.16 Based Networks,&rdquo; August&nbsp;2007.</span><span>)</span></a>, hence each MS shall be assigned an address with
32bit prefix-length or subnet-mask. The point-to-point link between MS and AR is achieved using a set of
IEEE 802.16 MAC connections (identified by CIDs) and a L2 tunnel (usually a
GRE tunnel) per MS between BS and AR. If the AR is co-located with the BS then the
set of IEEE 802.16 MAC connections between the MS and BS/AR represent the point-to-
point connection.

</p>
<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1"></a><h3>5.1.&nbsp;
IPv4 Unicast Address Assignment and Router Discovery</h3>

<p>
DHCP <a class='info' href='#RFC2131'>[RFC2131]<span> (</span><span class='info'>Droms, R., &ldquo;Dynamic Host Configuration Protocol,&rdquo; March&nbsp;1997.</span><span>)</span></a> SHOULD be used for assigning IPv4 address for
the MS. DHCP messages are transported over IEEE 802.16 MAC connection
to and from the BS and relayed to the AR. In case DHCP server does not reside in the AR, the AR SHOULD
implement DHCP relay Agent <a class='info' href='#RFC1542'>[RFC1542]<span> (</span><span class='info'>Wimer, W., &ldquo;Clarifications and Extensions for the Bootstrap Protocol,&rdquo; October&nbsp;1993.</span><span>)</span></a>. Please refer to the MTU section of this
document for requirements of DHCP interface-MTU option for the new IPv4 CS MS implementation.

</p>
<p>
 Although DHCP is the recommended method of address assignment, it is possible that the
 MS could be a pure Mobile-IPv4 <a class='info' href='#RFC3344'>[RFC3344]<span> (</span><span class='info'>Perkins, C., &ldquo;IP Mobility Support for IPv4,&rdquo; August&nbsp;2002.</span><span>)</span></a> device or Wimax Mobile-IPv4 client which will
 be offered an IP-address from its home-network after success-ful Mobile-IP <a class='info' href='#RFC3344'>[RFC3344]<span> (</span><span class='info'>Perkins, C., &ldquo;IP Mobility Support for IPv4,&rdquo; August&nbsp;2002.</span><span>)</span></a>
 registration. In such situation, the mobile-client implementation SHOULD use the default
 link MTU in order to avoid any link-layer packet loss due to larger than supported packet
 size in the IP CS link.

</p>
<p>
 Router discovery messages <a class='info' href='#RFC1256'>[RFC1256]<span> (</span><span class='info'>Deering, S., &ldquo;ICMP Router Discovery Messages,&rdquo; September&nbsp;1991.</span><span>)</span></a> contain router solicitation and
 router advertisements. The Router
 solicitation messages (multicast or broadcast) are directly delivered to AR via BS from
 the MS through the point-to-point link. The BS SHOULD map the all-router multicast nodes
 or broadcast nodes for router discovery to the AR's IP-address and delivered directly to 
 the AR. Similarly for router-advertisement to the all-node multicast nodes will be either unicasted
 to each MS by the BS separately or put onto a multicast connection to which all MSs are 
 listening to. If no multicast connection exists, and the BS does not have the capability to
 aggregate and de-aggregate the messages from and to the MS hosts, then the AR implementation must take care
 of sending unicast messages to the corresponding individual MS hosts within the set
 of broadcast or multicast recipients. However, this specification simply assumes that the multicast
 service is provided. How the multicast service is implemented in IEEE 802.16 Packet CS network, is
 out of scope of this document.

</p>
<p>
 The 'Next-hop' IP-address of the IP CS MS is always the IP-address of the AR, because MS and
 AR are attached with a point-to-point link.

</p>
<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.2"></a><h3>5.2.&nbsp;
Address Resolution Protocol</h3>

<p>
The IP CS does not allow for transmission of ARP <a class='info' href='#RFC0826'>[RFC0826]<span> (</span><span class='info'>Plummer, D., &ldquo;Ethernet Address Resolution Protocol: Or converting network protocol addresses to 48.bit Ethernet address for transmission on Ethernet hardware,&rdquo; November&nbsp;1982.</span><span>)</span></a>
packets. Furthermore, 
in a point-to-point link model, address resolution is not needed.

</p>
<a name="anchor12"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.3"></a><h3>5.3.&nbsp;
IP Multicast Address Mapping</h3>

<p>
IPv4 multicast packets are carried over the point-to-point link between the 
AR and the MS (via the BS). The IPv4 multicast packets are classified normally
at the IP CS if the IEEE 802.16 MAC connection has been setup with a multicast
IP address as a classification parameter for the destination IP address.
The IPv4 multicast address may be mapped into multicast CID defined in IEEE 802.16
specification, but the mapping mechanism at the BS or efficiency of using multicast CID as 
opposed to simulating multicast by generating multiple unicast messages are out of
scope of this document. However, it has been studied that the use of multicast CID for
realizing multicast transmissions reduces transmission efficiency when the multicast group
is small, due to the nature of wireless network(IEEE 802.16) <a class='info' href='#ETHCS'>[ETHCS]<span> (</span><span class='info'>Jeon, H., Riegel, M., and S. Jeong, &ldquo;Transmission of IP over Ethernet over IEEE 802.16 Networks,&rdquo; April&nbsp;2008.</span><span>)</span></a>.

</p>
<a name="anchor13"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Handling Multicast and Broadcast packets in IPv4 CS</h3>

<p>
    In the IP-CS link model, two 
   different approaches can work - 1) BS maps the multicast or Broadcast IP-addresses
   into different multicast CIDs of the MSs or 2) AR maps the multicast IP-addresses to different
   unicast IP-addresses and send the packets directly to each MS separately.

  
</p>
<p>
  However as mentioned earlier, handling a mechanism of multicast
  or broadcast IP CS packets are out of scope of this document. Please refer to Appendix section for 
  some thoughts and suggestions.
  

</p>
<a name="anchor14"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Security Considerations</h3>

<p>
This document specifies transmission of IPv4 packets over IEEE 802.16 
networks with IPv4 Convergence Sublayer and does not introduce any
new vulnerabilities to IPv4 specifications or operation.  The security
of the IEEE 802.16 air interface is the subject of <a class='info' href='#IEEE802_16'>[IEEE802_16]<span> (</span><span class='info'>, &ldquo;IEEE 802.16e, IEEE standard for Local and metropolitan area networks, Part 16:Air Interface for fixed and Mobile broadband wireless access systems,&rdquo; October&nbsp;2005.</span><span>)</span></a>. In addition, the security issues
of the network architecture spanning beyond the IEEE 802.16 base stations
is the subject of the documents defining such architectures, such as
WiMAX Network Architecture <a class='info' href='#WMF'>[WMF]<span> (</span><span class='info'>, &ldquo;WiMAX End-to-End Network Systems Architecture Stage 2-3 Release 1.2, http://www.wimaxforum.org/technology/documents,&rdquo; January&nbsp;2008.</span><span>)</span></a>.

</p>
<a name="anchor15"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
IANA Considerations</h3>

<p>
This document has no actions for IANA.

</p>
<a name="anchor16"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
Acknowledgements</h3>

<p>
The authors would like to acknowledge the contributions of Bernard Aboba, 
Dave Thaler, Jari Arkko, Bachet Sarikaya, Basavaraj Patil,
Paolo Narvaez, and Bruno Sousa for their review and comments.
The working group members Burcak Beser, Wesley George, Max Riegel and DJ Johnston helped
shape the MTU discussion for IPv4 CS link. Thanks to many other members of the 16ng working
group who commented on this document to make it better. 

</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10"></a><h3>10.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>10.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC0791">[RFC0791]</a></td>
<td class="author-text">Postel, J., &ldquo;<a href="http://tools.ietf.org/html/rfc791">Internet Protocol</a>,&rdquo; STD&nbsp;5, RFC&nbsp;791, September&nbsp;1981 (<a href="http://www.rfc-editor.org/rfc/rfc791.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC0826">[RFC0826]</a></td>
<td class="author-text"><a href="mailto:DCP@MIT-MC">Plummer, D.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc826">Ethernet Address Resolution Protocol: Or converting network protocol addresses to 48.bit Ethernet address for transmission on Ethernet hardware</a>,&rdquo; STD&nbsp;37, RFC&nbsp;826, November&nbsp;1982 (<a href="http://www.rfc-editor.org/rfc/rfc826.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2131">[RFC2131]</a></td>
<td class="author-text"><a href="mailto:droms@bucknell.edu">Droms, R.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2131">Dynamic Host Configuration Protocol</a>,&rdquo; RFC&nbsp;2131, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2131.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2131.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2131.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC1542">[RFC1542]</a></td>
<td class="author-text"><a href="mailto:Walter.Wimer@CMU.EDU">Wimer, W.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc1542">Clarifications and Extensions for the Bootstrap Protocol</a>,&rdquo; RFC&nbsp;1542, October&nbsp;1993 (<a href="http://www.rfc-editor.org/rfc/rfc1542.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5121">[RFC5121]</a></td>
<td class="author-text">Patil, B., Xia, F., Sarikaya, B., Choi, JH., and S. Madanapalli, &ldquo;<a href="http://tools.ietf.org/html/rfc5121">Transmission of IPv6 via the IPv6 Convergence Sublayer over IEEE 802.16 Networks</a>,&rdquo; RFC&nbsp;5121, February&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5121.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5154">[RFC5154]</a></td>
<td class="author-text">Jee, J., Madanapalli, S., and J. Mandin, &ldquo;<a href="http://tools.ietf.org/html/rfc5154">IP over IEEE 802.16 Problem Statement and Goals</a>,&rdquo; RFC&nbsp;5154, April&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5154.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4968">[RFC4968]</a></td>
<td class="author-text">Madanapalli, S., &ldquo;<a href="http://tools.ietf.org/html/rfc4968">Analysis of IPv6 Link Models for 802.16 Based Networks</a>,&rdquo; RFC&nbsp;4968, August&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc4968.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>10.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC1191">[RFC1191]</a></td>
<td class="author-text"><a href="mailto:mogul@decwrl.dec.com">Mogul, J.</a> and <a href="mailto:deering@xerox.com">S. Deering</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc1191">Path MTU discovery</a>,&rdquo; RFC&nbsp;1191, November&nbsp;1990 (<a href="http://www.rfc-editor.org/rfc/rfc1191.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4821">[RFC4821]</a></td>
<td class="author-text">Mathis, M. and J. Heffner, &ldquo;<a href="http://tools.ietf.org/html/rfc4821">Packetization Layer Path MTU Discovery</a>,&rdquo; RFC&nbsp;4821, March&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc4821.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2132">[RFC2132]</a></td>
<td class="author-text"><a href="mailto:sca@engr.sgi.com">Alexander, S.</a> and <a href="mailto:droms@bucknell.edu">R. Droms</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2132">DHCP Options and BOOTP Vendor Extensions</a>,&rdquo; RFC&nbsp;2132, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2132.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2132.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2132.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4840">[RFC4840]</a></td>
<td class="author-text">Aboba, B., Davies, E., and D. Thaler, &ldquo;<a href="http://tools.ietf.org/html/rfc4840">Multiple Encapsulation Methods Considered Harmful</a>,&rdquo; RFC&nbsp;4840, April&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc4840.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3344">[RFC3344]</a></td>
<td class="author-text">Perkins, C., &ldquo;<a href="http://tools.ietf.org/html/rfc3344">IP Mobility Support for IPv4</a>,&rdquo; RFC&nbsp;3344, August&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3344.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC1256">[RFC1256]</a></td>
<td class="author-text"><a href="mailto:deering@xerox.com">Deering, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc1256">ICMP Router Discovery Messages</a>,&rdquo; RFC&nbsp;1256, September&nbsp;1991 (<a href="http://www.rfc-editor.org/rfc/rfc1256.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="ETHCS">[ETHCS]</a></td>
<td class="author-text">Jeon, H., Riegel, M., and S. Jeong, &ldquo;<a href="http://www.ietf.org/internet-drafts/
draft-ietf-16ng-ip-over-ethernet-over-802.16-06.txt">Transmission of IP over Ethernet over IEEE 802.16 Networks</a>,&rdquo; April&nbsp;2008.</td></tr>
<tr><td class="author-text" valign="top"><a name="802_16REV2">[802_16REV2]</a></td>
<td class="author-text">Johnston, D., &ldquo;<a href="http://www.ieee.org/16">SDU MTU Capability Declaration</a>,&rdquo; March&nbsp;2008.</td></tr>
<tr><td class="author-text" valign="top"><a name="IEEE802_16">[IEEE802_16]</a></td>
<td class="author-text">&ldquo;IEEE 802.16e, IEEE standard for Local and
metropolitan area networks, Part 16:Air Interface for fixed and Mobile
broadband wireless access systems,&rdquo; October&nbsp;2005.</td></tr>
<tr><td class="author-text" valign="top"><a name="WMF">[WMF]</a></td>
<td class="author-text">&ldquo;WiMAX End-to-End Network Systems Architecture
Stage 2-3 Release 1.2, http://www.wimaxforum.org/technology/documents,&rdquo; January&nbsp;2008.</td></tr>
</table>

<a name="anchor19"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A"></a><h3>Appendix A.&nbsp;
Multiple Convergence Layers - Impact on Subnet Model</h3>

<p>
Two different MSs using two different convergence sublayers (e.g. an MS using
Ethernet CS only and another MS using IP CS only) cannot communicate at data link
layer and requires interworking at IP layer. For this reason, these two nodes
must be configured to be on two different subnets. For more information refer
<a class='info' href='#RFC4840'>[RFC4840]<span> (</span><span class='info'>Aboba, B., Davies, E., and D. Thaler, &ldquo;Multiple Encapsulation Methods Considered Harmful,&rdquo; April&nbsp;2007.</span><span>)</span></a>.

</p>
<a name="anchor20"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.B"></a><h3>Appendix B.&nbsp;
Sending and Receiving IPv4 Packets</h3>

<p>
IEEE 802.16 MAC is a point-to-multipoint connection oriented air-interface,
and the process of sending and receiving of IPv4 packets is different
from multicast capable shared medium technologies like Ethernet.

</p>
<p>
Before any packets being transmitted, IEEE 802.16 transport connection
must be established. This connection consists of IEEE 802.16 MAC transport
connection between MS and BS and an L2 tunnel between BS and AR. This
IEEE 802.16 transport connection provides a point-to-point link between
MS and AR. All the packets originated at the MS always reach AR before
being transmitted to the final destination.

</p>
<p>
IPv4 packets are carried directly in the payload of IEEE 802.16 frames when 
the IPv4 CS is used. IPv4 CS classifies the packet based on upper layer 
(IP and transport layers)header fields to put the packet on one of the
available connections identified by the CID. The classifiers for the IPv4
CS are source and destination IPv4 addresses, source and destinations
ports, Type-of-Service and IP protocol field. The CS may employ Packet
Header Suppression (PHS) after the classification.

</p>
<p>
The BS tunnels the packet that has been received on a particular MAC connection
to the AR. BS reconstructs the payload header if the PHS is in use before 
the packet is tunneled to the AR. Similarly the packets received on a tunnel 
interface from the AR, would be mapped to a particular CID using IPv4 classification
mechanism.

</p>
<p>
AR performs normal routing for the packets that it receives and forwards the packet
based on its forwarding table. However the DHCP relay agent in the AR, MUST maintain
the tunnel interface on which it receives DHCP requests, so that it can relay the
DHCP responses to the correct MS. One way of doing this is to have a mapping between
MAC address and Tunnel Identifier.

</p>
<a name="anchor21"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.C"></a><h3>Appendix C.&nbsp;
Wimax IPCS MTU size</h3>

<p>
    WiMAX (Worldwide Interoperability for Microwave Access) forum has defined a
   network architecture<a class='info' href='#WMF'>[WMF]<span> (</span><span class='info'>, &ldquo;WiMAX End-to-End Network Systems Architecture Stage 2-3 Release 1.2, http://www.wimaxforum.org/technology/documents,&rdquo; January&nbsp;2008.</span><span>)</span></a> where IPV4 CS is supported for transmission of
   IPV4 packets between MS and BS over the IEEE 802.16 link.
   The addressing and operation of IPV4CS described in this
   document are applicable to the WiMAX networks as well.  The WiMAX
   forum <a class='info' href='#WMF'>[WMF]<span> (</span><span class='info'>, &ldquo;WiMAX End-to-End Network Systems Architecture Stage 2-3 Release 1.2, http://www.wimaxforum.org/technology/documents,&rdquo; January&nbsp;2008.</span><span>)</span></a> has specified the Max SDU size as 1522 octets.  However,
   it specifies that IP-payload in WiMAX architecture<a class='info' href='#WMF'>[WMF]<span> (</span><span class='info'>, &ldquo;WiMAX End-to-End Network Systems Architecture Stage 2-3 Release 1.2, http://www.wimaxforum.org/technology/documents,&rdquo; January&nbsp;2008.</span><span>)</span></a> is 1400 bytes.

   
</p>
<p>
      Hence if a IPV4-CS MS is configured with 1500 bytes it will have to be
   communicated by the access router(AR) about the default link MTU
   (1400 bytes) in WiMAX network.  However, currently in IPv4 client
   architecture a node is not required to ask for MTU option in its DHCP
   messages nor an IPv4 router-advertisement can inform the node about
   the link MTU. An IPV4CS client is not capable of doing ARP probing either
   to find out the link MTU. Thus current specifications of WiMAX
   network access routers cannot communicate its link MTU to the IPV4CS
   MS.  On the other hand, it is imperative for an MS to know the link
   MTU size if it is not the default MTU value for de-facto standard in
   order to successfully send packets in the network towards the first
   hop.  Some implementations with IEEE 802.16 layer 2 support, should
   be able to sense IPV4CS WiMAX network and adjust their MTU size
   accordingly, however this document does not make any assumptions on
   this requirement.
     
</p>
<p>

   Thus, WiMAX MS nodes should use this default (1400) MTU value
   per the current specification <a class='info' href='#WMF'>[WMF]<span> (</span><span class='info'>, &ldquo;WiMAX End-to-End Network Systems Architecture Stage 2-3 Release 1.2, http://www.wimaxforum.org/technology/documents,&rdquo; January&nbsp;2008.</span><span>)</span></a>. However, due to reasons
 specified in section 4.3 above, it is strongly recommended that future 
 WiMAX MS nodes support a default MTU of 1500 bytes, and that they 
 implement MTU negotiation capabilities as mentioned in this document.
	
    
</p>
<a name="anchor22"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.D"></a><h3>Appendix D.&nbsp;
Thoughts on handling multicast-broadcast IP packets</h3>

<p>
  Although this document does not directly specify details of multicast or broadcast
  packet handling, here are some suggestions:
 
</p>
<p>
    While uplink connections from the MSs to the BS provide only unicast
   transmission capabilities, downlink connections can be used for
   multicast transmission to a group of MSs as well as unicast
   transmission from the BS to a single MS. 
   For all-node IP-addresses, the AR or BS should have special mapping and the packets should be
   distributed to all active point-to-point connections by the AR or by the BS.
   All-router multicast packets and any broadcast packets from a MS will be forwarded to
   the AR by the BS.

  If BS and MS are co-located, then the first approach is more useful. If the AR and BS
  are located separately then the second approach SHOULD be implemented. An initial capability
  exchange message should be performed between BS and AR (if they are not co-located)
  to determine who would perform the distribution of multicast/broadcast packets. Such
  mechansim should be part of L2 exchange during the connection setup and is out of scope
  of this document.
  In order to save energy of the wireless end-devices in the IEEE 802.16 wireless network,
  it is recommened that the multicast and broadcast from network side to device side 
  should be reduced. Only DHCP, IGMP, Router-advertisemnet packets are allowed on the 
  downlink for multicast and broadcast IP-addresses. Other protocols using multicast and broadcast
  IP-addresses should be permitted through local AR/BS configuration.

  

</p>
<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Syam Madanapalli</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Ordyn Technologies</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">1st Floor, Creator Building, ITPL</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Bangalore - 560066</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">India</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:smadanapalli@gmail.com">smadanapalli@gmail.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Soohong Daniel Park</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Samsung Electronics</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">416 Maetan-3dong, Yeongtong-gu</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Suwon 442-742</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Korea</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:soohong.park@samsung.com">soohong.park@samsung.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Samita Chakrabarti</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">IP Infusion</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">1188 Arques Avenue</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Sunnyvale, CA</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:samitac@ipinfusion.com">samitac@ipinfusion.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Gabriel Montenegro</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Microsoft Corporation</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Redmond, Washington</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:gabriel.montenegro@microsoft.com">gabriel.montenegro@microsoft.com</a></td></tr>
</table>
<a name="rfc.copyright"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Full Copyright Statement</h3>
<p class='copyright'>
Copyright &copy; The IETF Trust (2008).</p>
<p class='copyright'>
This document is subject to the rights,
licenses and restrictions contained in BCP&nbsp;78,
and except as set forth therein,
the authors retain all their rights.</p>
<p class='copyright'>
This document and the information contained herein are provided
on an &ldquo;AS IS&rdquo; basis and THE CONTRIBUTOR,
THE ORGANIZATION HE/SHE REPRESENTS
OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST
AND THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT
THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY
IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR
PURPOSE.</p>
<h3>Intellectual Property</h3>
<p class='copyright'>
The IETF takes no position regarding the validity or scope of any
Intellectual Property Rights or other rights that might be claimed
to pertain to the implementation or use of the technology
described in this document or the extent to which any license
under such rights might or might not be available; nor does it
represent that it has made any independent effort to identify any
such rights.
Information on the procedures with respect to
rights in RFC documents can be found in BCP&nbsp;78 and BCP&nbsp;79.</p>
<p class='copyright'>
Copies of IPR disclosures made to the IETF Secretariat and any
assurances of licenses to be made available,
or the result of an attempt made to obtain a general license or
permission for the use of such proprietary rights by implementers or
users of this specification can be obtained from the IETF on-line IPR
repository at <a href='http://www.ietf.org/ipr'>http://www.ietf.org/ipr</a>.</p>
<p class='copyright'>
The IETF invites any interested party to bring to its attention
any copyrights,
patents or patent applications,
or other
proprietary rights that may cover technology that may be required
to implement this standard.
Please address the information to the IETF at <a href='mailto:ietf-ipr@ietf.org'>ietf-ipr@ietf.org</a>.</p>
</body></html>
