IPv6 Working Groups                     A. Conta (Transwitch)
INTERNET-DRAFT
                                          November 2000


                     A proposal for the IPv6 flows

                             Specification

                    draft-conta-ipv6-flow-label-00.txt


Status of this Memo

   This document is an Internet-Draft and is in full conformance with
   all provisions of Section 10 of RFC2026.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet- Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

Abstract

   This memo describes a proposal for the IPv6 flows.


1. Introduction


   This document specifies a proposal for the IPv6 Flows. At this point,
   it is rather a place holder, a stake in the ground, for a couple of
   ideas that have to be further discussed, and developed.

   The keywords MUST, MUST NOT, MAY, OPTIONAL,  REQUIRED, RECOMMENDED,
   SHALL, SHALL NOT, SHOULD, SHOULD NOT  are to be interpreted as
   defined in [KEYWORDS].



Conta                       Expires in six months   [Page 1]




INTERNET-DRAFT          Proposal for IPv6 Flows       November 17, 19100


2. IPv6 Flows

   A flow is a sequence of packets sent from a particular source, and a
   particular application running on the source host, using a particular
   host-to-host protocol for the transmission of data over the Internet,
   to a particular (unicast or multicast) destination, and particular
   application running on the destination host, with a certain set of
   quality of service requirements.

   The source of the packets, or routers downstream from the source on
   the path to the final destination may desire special handling of a
   flow, by routers that are further downstream on the path to the final
   destination. The nature of that special handling is conveyed to the
   downstream routers by a control protocol, such as a resource
   reservation protocol, or a label distribution protocol.

   The flow type is uniquely defined by the "Flow Type" field, which is
   a 20 bit long field.  At an interface of a node, a flow is uniquely
   identified by the "Flow Identification" field, which is a 20 bit long
   field.


2.1.  Flow Type Field

   The Flow Type field replaces the current "Flow Label" field in the
   IPv6 main header. This field has two possible ways of being defined:
      0                   1
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |0|  Server Port Number| H-to-H protocol|
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

or:


      0                   1
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |1|  IANA Assigned Value                |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+



   The "Server Port Number" is the port number assigned to the server
   side of the application

   The "H-to-H protocol" is the transport protocol identifier, that is,
   TCP, UDP, etc....



Conta                       Expires in six months   [Page 2]




INTERNET-DRAFT          Proposal for IPv6 Flows       November 17, 19100


   The "IANA Assigned Value" is a value that is assigned by IANA for a
   particular application that is using a particular host-to-host
   protocol, and has certain quality of service requirements.  Further
   to be defined.


2.2   IPv6 FLow Label

   The IPv6 Flow Label is carried in an MPLS label stack which is
   prepended to the IPv6 header.

   The MPLS label stack, and MPLS protocols are described by MPLS
   specifications [MPLS-ENCAPS], {MPLS-ATM], [MPLS-FR], [MPLS_ARCH}.

   The control protocols used to assign IPv6 Flow Labels are the
   protocols used for MPLS label distribution, that is LDP, RSVP-TE,
   CR-LDP, etc [MPLS-LDP]....



5. Security Considerations

   [tbd]


6. IANA Considerations

   [tbd]


7. Acknowledgments

   [tbd]


8. References

   [IPv6] S. Deering, R. Hinden, "Internet Protocol Version 6
   Specification", RFC 2460, December 1998.


   [MPLS-Arch] Rosen, E., Viswanathan, A., and Callon, R.,
   "Multiprotocol Label
    Switching Architecture", Work in Progress, July 2000.


   [MPLS-LDP] L. Anderson, P. Doolan, N. Feldman,  A.  Fredette,  R.
   Thomas,



Conta                       Expires in six months   [Page 3]




INTERNET-DRAFT          Proposal for IPv6 Flows       November 17, 19100


      "Label Distribution Protocol", Work in Progress, June 2000.


   [MPLS-Encaps] Rosen, E., Rekhter, Y., Tappan, D., Farinacci, D.,
   Fedorkow, G.,
      Li, T., Conta, A., "MPLS Label Stack Encoding", Work in Progress,
   June 2000.


   [MPLS-ATM] Davie, B., Lawrence, J., McCloghrie, K., Rekhter, Y.,
   Rosen, E.
      and Swallow G., "MPLS Using LDP and ATM VC Switching", Work in
      Progress, June 2000.


   [MPLS-FR] Conta, A., Doolan, P., Malis A.  "MPLS Using LDP and ATM VC
   Switching", Work in
      Progress, June 2000.


   [KEYWORDS] Bradner, S., "Key words for use in RFCs to Indicate
   Requirement Levels", BCP 14, RFC 2119, March 1997.


9. Authors' Addresses

   Alex Conta
   Transwitch Corporation
   3 Enterprise Drive
   Shelton, CT 06484
   +1-203-929-8810
   email: aconta@txc.com



















Conta                       Expires in six months   [Page 4]

236
