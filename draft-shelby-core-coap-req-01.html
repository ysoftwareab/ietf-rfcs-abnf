<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>CoAP Requirements and Features</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="CoAP Requirements and Features">
<meta name="keywords" content="Requirements, CoAP">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">CoRE</td><td class="header">Z. Shelby</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Sensinode</td></tr>
<tr><td class="header">Intended status: Informational</td><td class="header">M. Garrison Stuber</td></tr>
<tr><td class="header">Expires: October 22, 2010</td><td class="header">Itron</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">D. Sturek</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Pacific Gas & Electric</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">B. Frank</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Tridium, Inc</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">R. Kelsey</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Ember</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">April 20, 2010</td></tr>
</table></td></tr></table>
<h1><br />CoAP Requirements and Features<br />draft-shelby-core-coap-req-01</h1>

<h3>Abstract</h3>

<p>
	  This document considers the requirements for the design of the Constrained Application Protocol (CoAP). The goal of the document is to provide a basis for protocol design and related discussion. 
	  
	  
</p>
<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted  in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF).  Note that other groups may also distribute
working documents as Internet-Drafts.  The list of current
Internet-Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
This Internet-Draft will expire on October 22, 2010.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2010 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents
(http://trustee.ietf.org/license-info) in effect on the date of
publication of this document.  Please review these documents
carefully, as they describe your rights and restrictions with respect
to this document. Code Components extracted from this document must
include Simplified BSD License text as described in Section 4.e of
the Trust Legal Provisions and are provided without warranty as
described in the Simplified BSD License.</p>
<p>
This document may contain material from IETF Documents or IETF
Contributions published or made publicly available before November
10, 2008.  The person(s) controlling the copyright in some of this
material may not have granted the IETF Trust the right to allow
modifications of such material outside the IETF Standards Process.
Without obtaining an adequate license from the person(s) controlling
the copyright in such materials, this document may not be modified
outside the IETF Standards Process, and derivative works of it may
not be created outside the IETF Standards Process, except to format
it for publication as an RFC or to translate it into languages other
than English.</p>
<a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#introduction">1.</a>&nbsp;
Introduction<br />
<a href="#requirements">2.</a>&nbsp;
CoAP Requirements<br />
<a href="#applicability">3.</a>&nbsp;
Applicability<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#energy">3.1.</a>&nbsp;
Energy Applications<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#ba">3.2.</a>&nbsp;
Building Automation<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#m2m">3.3.</a>&nbsp;
General M2M Applications<br />
<a href="#anchor1">4.</a>&nbsp;
Conclusions<br />
<a href="#anchor2">5.</a>&nbsp;
Security Considerations<br />
<a href="#anchor3">6.</a>&nbsp;
IANA Considerations<br />
<a href="#anchor4">7.</a>&nbsp;
Acknowledgments<br />
<a href="#rfc.references1">8.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">8.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">8.2.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="introduction"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>
	The use of web services on the Internet has become ubiquitous in most applications, and depends on the fundamental Representational State Transfer (REST) architecture of the web. The proposed Constrained RESTful Environments (CoRE) working group aims at realizing the REST architecture in a suitable form for the most constrained nodes (e.g. 8-bit microcontrollers with limited RAM and ROM) and networks (e.g. 6LoWPAN). One of the main goals of CoRE is to design a generic RESTful protocol for the special requirements of this constrained environment, especially considering energy and building automation applications. The result of this work should be a Constrained Application Protocol (CoAP) which easily traslates to HTTP for integration with the web while meeting specialized requirements such as multicast support, very low overhead and simplicity. 
	
</p>
<p>
	This document first analyzes the requirements for CoAP from the proposed charter and related application requirement drafts in <a class='info' href='#requirements'>Section&nbsp;2<span> (</span><span class='info'>CoAP Requirements</span><span>)</span></a>. The applicability of these requirements to energy, building automation and general M2M applications is considered in <a class='info' href='#applicability'>Section&nbsp;3<span> (</span><span class='info'>Applicability</span><span>)</span></a>.
	
</p>
<a name="requirements"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
CoAP Requirements</h3>

<p>
	The following requirements for CoAP have been identified in the proposed charter of the working group (Feb 13, 2010 version), in the 6lowapp problem statement <a class='info' href='#I-D.bormann-6lowpan-6lowapp-problem'>[I&#8209;D.bormann&#8209;6lowpan&#8209;6lowapp&#8209;problem]<span> (</span><span class='info'>Bormann, C., Sturek, D., and Z. Shelby, &ldquo;6LowApp: Problem Statement for 6LoWPAN and LLN Application Protocols,&rdquo; July&nbsp;2009.</span><span>)</span></a>, or in the application specific requirement documents. This section is not meant to introduce new requirements, only to summarize the requirements from other sources. The requirements relevant to CoAP can be summarizes as follows:
	</p>
<blockquote class="text"><dl>
<dt>REQ1:</dt>
<dd>CoRE solutions must be of appropriate complexity for use by nodes have limited code size and limited RAM (e.g. microcontrollers used in low-cost wireless devices typically have on the order of 64-256K of flash and 4-12K of RAM). [charter], <a class='info' href='#I-D.sturek-6lowapp-smartenergy'>[I&#8209;D.sturek&#8209;6lowapp&#8209;smartenergy]<span> (</span><span class='info'>Sturek, D., Shelby, Z., Lohman, D., Stuber, M., and S. Ashton, &ldquo;Smart Energy Requiements for 6LowApp,&rdquo; October&nbsp;2009.</span><span>)</span></a>
</dd>
<dt>REQ2:</dt>
<dd>Protocol overhead and performance must be optimized for constrained networks, which may exhibit extremely limited throughput and a high degree of packet loss. For example, multihop 6LoWPAN networks often exhibit application throughput on the order of tens of kbits/s with a typical payload size of 70-90 octets after transport layer headers. [charter]
</dd>
<dt>REQ3:</dt>
<dd>The ability to deal with sleeping nodes. Devices may be powered off at any point in time but periodically "wake up" for brief periods of time. [charter], <a class='info' href='#I-D.sturek-6lowapp-smartenergy'>[I&#8209;D.sturek&#8209;6lowapp&#8209;smartenergy]<span> (</span><span class='info'>Sturek, D., Shelby, Z., Lohman, D., Stuber, M., and S. Ashton, &ldquo;Smart Energy Requiements for 6LowApp,&rdquo; October&nbsp;2009.</span><span>)</span></a>, <a class='info' href='#I-D.gold-6lowapp-sensei'>[I&#8209;D.gold&#8209;6lowapp&#8209;sensei]<span> (</span><span class='info'>Gold, R., Krco, S., Gluhak, A., and Z. Shelby, &ldquo;SENSEI 6lowapp Requirements,&rdquo; October&nbsp;2009.</span><span>)</span></a>
</dd>
<dt>REQ4:</dt>
<dd>Protocol must support the caching of recent resource requests, along with caching subscriptions to sleeping nodes. [charter] 
</dd>
<dt>REQ5:</dt>
<dd>Must support the manipulation of simple resources on constrained nodes and networks. The architecture requires push, pull and a notify approach to manipulating resources. CoAP will be able to create, read, update and delete a Resource on a Device. [charter], <a class='info' href='#I-D.sturek-6lowapp-smartenergy'>[I&#8209;D.sturek&#8209;6lowapp&#8209;smartenergy]<span> (</span><span class='info'>Sturek, D., Shelby, Z., Lohman, D., Stuber, M., and S. Ashton, &ldquo;Smart Energy Requiements for 6LowApp,&rdquo; October&nbsp;2009.</span><span>)</span></a>, <a class='info' href='#I-D.martocci-6lowapp-building-applications'>[I&#8209;D.martocci&#8209;6lowapp&#8209;building&#8209;applications]<span> (</span><span class='info'>Martocci, J. and A. Schoofs, &ldquo;Commercial Building Applications Requirements,&rdquo; October&nbsp;2009.</span><span>)</span></a>, <a class='info' href='#I-D.gold-6lowapp-sensei'>[I&#8209;D.gold&#8209;6lowapp&#8209;sensei]<span> (</span><span class='info'>Gold, R., Krco, S., Gluhak, A., and Z. Shelby, &ldquo;SENSEI 6lowapp Requirements,&rdquo; October&nbsp;2009.</span><span>)</span></a>
</dd>
<dt>REQ6:</dt>
<dd>The ability to allow a Device to publish a value or event to another Device that has subscribed to be notified of changes, as well as the way for a Device to subscribe to receive publishes from another Device. [charter]
</dd>
<dt>REQ7:</dt>
<dd>Must define a mapping from CoAP to a HTTP REST API; this mapping will not depend on a specific application and must be as transparent as possible using standard protocol response and error codes where possible. [charter], <a class='info' href='#I-D.sturek-6lowapp-smartenergy'>[I&#8209;D.sturek&#8209;6lowapp&#8209;smartenergy]<span> (</span><span class='info'>Sturek, D., Shelby, Z., Lohman, D., Stuber, M., and S. Ashton, &ldquo;Smart Energy Requiements for 6LowApp,&rdquo; October&nbsp;2009.</span><span>)</span></a>, <a class='info' href='#I-D.gold-6lowapp-sensei'>[I&#8209;D.gold&#8209;6lowapp&#8209;sensei]<span> (</span><span class='info'>Gold, R., Krco, S., Gluhak, A., and Z. Shelby, &ldquo;SENSEI 6lowapp Requirements,&rdquo; October&nbsp;2009.</span><span>)</span></a>
</dd>
<dt>REQ8:</dt>
<dd>A definition of how to use CoAP to advertise about or query for a Device's description. This description may include the device name and a list of its Resources, each with a URL, an interface description URI (pointing e.g. to a Web Application Description Language (WADL) document) and an optional name or identifier. The name taxonomy used for this description will be consistent with other IETF work, e.g. draft-cheshire-dnsext-dns-sd. [charter]
</dd>
<dt>REQ9:</dt>
<dd>CoAP will support a non-reliable IP multicast message to be sent to a group of Devices to manipulate a resource on all the Devices simultaneously [charter]. The use of multicast to query and advertise descriptions must be supported, along with the support of unicast responses <a class='info' href='#I-D.sturek-6lowapp-smartenergy'>[I&#8209;D.sturek&#8209;6lowapp&#8209;smartenergy]<span> (</span><span class='info'>Sturek, D., Shelby, Z., Lohman, D., Stuber, M., and S. Ashton, &ldquo;Smart Energy Requiements for 6LowApp,&rdquo; October&nbsp;2009.</span><span>)</span></a>.
</dd>
<dt>REQ10:</dt>
<dd>The core CoAP functionality must operate well over UDP and UDP must be implemented on CoAP Devices. There may be optional functions in CoAP (e.g. delivery of larger chunks of data) which if implemented are implemented over TCP. [charter], <a class='info' href='#I-D.sturek-6lowapp-smartenergy'>[I&#8209;D.sturek&#8209;6lowapp&#8209;smartenergy]<span> (</span><span class='info'>Sturek, D., Shelby, Z., Lohman, D., Stuber, M., and S. Ashton, &ldquo;Smart Energy Requiements for 6LowApp,&rdquo; October&nbsp;2009.</span><span>)</span></a>, <a class='info' href='#I-D.martocci-6lowapp-building-applications'>[I&#8209;D.martocci&#8209;6lowapp&#8209;building&#8209;applications]<span> (</span><span class='info'>Martocci, J. and A. Schoofs, &ldquo;Commercial Building Applications Requirements,&rdquo; October&nbsp;2009.</span><span>)</span></a>
</dd>
<dt>REQ11:</dt>
<dd>Reliability must be possible for unicast application layer messages over UDP <a class='info' href='#I-D.sturek-6lowapp-smartenergy'>[I&#8209;D.sturek&#8209;6lowapp&#8209;smartenergy]<span> (</span><span class='info'>Sturek, D., Shelby, Z., Lohman, D., Stuber, M., and S. Ashton, &ldquo;Smart Energy Requiements for 6LowApp,&rdquo; October&nbsp;2009.</span><span>)</span></a>. 
</dd>
<dt>REQ12:</dt>
<dd>Latency times should be mimimized of the Home Area Network (HAN), and ideally a typical exchange should consist of just a single request/response exchange. <a class='info' href='#I-D.sturek-6lowapp-smartenergy'>[I&#8209;D.sturek&#8209;6lowapp&#8209;smartenergy]<span> (</span><span class='info'>Sturek, D., Shelby, Z., Lohman, D., Stuber, M., and S. Ashton, &ldquo;Smart Energy Requiements for 6LowApp,&rdquo; October&nbsp;2009.</span><span>)</span></a>
</dd>
<dt>REQ13:</dt>
<dd>A subset of Internet media types must be supported. <a class='info' href='#I-D.sturek-6lowapp-smartenergy'>[I&#8209;D.sturek&#8209;6lowapp&#8209;smartenergy]<span> (</span><span class='info'>Sturek, D., Shelby, Z., Lohman, D., Stuber, M., and S. Ashton, &ldquo;Smart Energy Requiements for 6LowApp,&rdquo; October&nbsp;2009.</span><span>)</span></a>, <a class='info' href='#I-D.gold-6lowapp-sensei'>[I&#8209;D.gold&#8209;6lowapp&#8209;sensei]<span> (</span><span class='info'>Gold, R., Krco, S., Gluhak, A., and Z. Shelby, &ldquo;SENSEI 6lowapp Requirements,&rdquo; October&nbsp;2009.</span><span>)</span></a>
</dd>
<dt>REQ14:</dt>
<dd>Consider operational and manageability aspects of the protocol and at
  		a minimum provide a way to tell if a Device is powered on or not. [charter]
</dd>
</dl></blockquote><p>
	
</p>
<a name="applicability"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Applicability</h3>

<p>
	This sections looks at the applicability of the CoAP features for energy, building automation and other macine-to-machine (M2M) applications. 
	
</p>
<a name="energy"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
Energy Applications</h3>

<p>
		Rising energy prices, concerns about global warming and energy resource
		depletion, and societal interest in more ecologically friendly living
		have resulted in government mandates for Smart Energy solutions. In a
		Smart Energy environment consumers of energy have direct, immediate
		access to information about their consumption, and are able to take
		action based on that information.  Smart Energy systems also allow
		device to device communication to optimize the transport, reliability,
		and safety of energy delivery systems.  While often Smart Energy
		solutions are electricity-centric, i.e. Smart Grid, gas and water are
		also subject to the same pressures, and can benefit from the same
		technology.
		
</p>
<p>
		Smart Energy Transactions typically include the exchange of current
		consumption information, text messages from providers to consumers, and control
		signals requesting a reduction in consumption.  Advanced features such
		as billing information, energy prepayment transactions, management of
		distributed energy resources (e.g. generators and photo-voltaics), and
		management of electric vehicles are also being developed.
		
</p>
<p>
		Smart Energy benefits from Metcalfe's Law. The more devices that are
		part of a smart energy network within the home or on the grid, the more
		valuable it becomes. Showing a consumer how much energy they are using
		is useful. Combining that with specific information about their major
		appliances, and enabling them to adjust their consumption based on
		current pricing and system demand is much much more powerful. To do this
		however requires a system that is resillient, low cost, and easy to
		install. In many areas this is being done with systems built around IEEE
		802.15.4 radios. In the United States, there are over 30 million
		electric meters that will be deployed with these radios. These radios
		will be combined to form a mesh network, enabling Smart Energy
		communication within the home. The maximum packet size for IEEE 802.15.4
		is only 127 bytes. Additionally, there is the well known issue of how
		TCP manages congestion working sub-optimally over wireless networks.
		IEEE 802.15.4 is ideal for these applications because of its low cost
		and its support for battery powered devices; however, it is not as well
		suited for heavier protocols like HTTP. These technical issues with IEEE
		802.15.4 networks combined with a desire to facilitate broader
		compatibility, makes a protocol like CoAP desireable.  Its REST
		architecture will allow seamless compatibility with the rest of the
		Internet, allowing it to be easily integrated with web browsers and
		web-based service providers, while at the same time being appropriately
		sized for the low-cost networks necessary for its success.
		
</p>
<a name="ba"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
Building Automation</h3>

<p>
		Building automation applications were analyzed in detail including use cases in 
		<a class='info' href='#I-D.martocci-6lowapp-building-applications'>[I&#8209;D.martocci&#8209;6lowapp&#8209;building&#8209;applications]<span> (</span><span class='info'>Martocci, J. and A. Schoofs, &ldquo;Commercial Building Applications Requirements,&rdquo; October&nbsp;2009.</span><span>)</span></a>. Although many of the embedded control solutions for building automation make use of industry-specific application protocols like BACnet over IP, there is a growing use of web services in building monitoring, remote control and IT integration. The OASIS oBIX standard [ref] is one example of the use of web services for the monitoring and interconnection of heterogeneous building systems. Several of the CoAP requirements have been taken from <a class='info' href='#I-D.martocci-6lowapp-building-applications'>[I&#8209;D.martocci&#8209;6lowapp&#8209;building&#8209;applications]<span> (</span><span class='info'>Martocci, J. and A. Schoofs, &ldquo;Commercial Building Applications Requirements,&rdquo; October&nbsp;2009.</span><span>)</span></a>. The resulting features should allow for peer-to-peer interactions as well as node-server request/response and push interfactions for monitoring and some control purposes. For building automation control with very strict timing requirements using e.g. multicast, further features may be required on top of CoAP.
		
</p>
<a name="m2m"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3"></a><h3>3.3.&nbsp;
General M2M Applications</h3>

<p>
		CoAP provides a natural extension of the REST architecture into the domain of constrained nodes and networks, aiming at requirements from automation applications in energy and building automation. A very wide range of machine-to-machine (M2M) applications have similar requirements to those considered in this document, and thus it is foreseen that CoAP may be widely applied in the industry. One standardization group considering a general M2M architecture and API is the ETSI M2M TC, which considers a wide range of applications including energy. Another group developing solutions for general embedded device control is the OASIS Device Proile Web Services (DPWS) group. The consideration of DPWS over 6LoWPAN is available in <a class='info' href='#I-D.moritz-6lowapp-dpws-enhancements'>[I&#8209;D.moritz&#8209;6lowapp&#8209;dpws&#8209;enhancements]<span> (</span><span class='info'>Moritz, G., &ldquo;DPWS for 6LoWPAN,&rdquo; December&nbsp;2009.</span><span>)</span></a>.	
</p>
<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Conclusions</h3>

<p>  
	   This document analyzed the requirements associated with the design of the foreseen Constrained Application Protocol (CoAP). The identified requirements of CoAP are considered for energy, building automation and M2M applications. This document is meant to serve as a basis for the design of the CoAP protocol and relevant discussion.
	   
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Security Considerations</h3>

<p>
	   The CoAP protocol will be designed for use with e.g. (D)TLS or object security. A protocol design should consider how integration with these security methods will be done, how to secure the CoAP header and other implications.		
	   
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
IANA Considerations</h3>

<p>
         This draft requires no IANA consideration.
	   
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Acknowledgments</h3>

<p>Thanks to Cullen Jennings, Guido Moritz, Peter Van Der Stok, Adriano Pezzuto, Lisa Dussealt, Gilbert Clark, Salvatore Loreto, Alexey Melnikov and Bob Dolin for helpful comments and discussions.
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>8.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="I-D.gold-6lowapp-sensei">[I-D.gold-6lowapp-sensei]</a></td>
<td class="author-text">Gold, R., Krco, S., Gluhak, A., and Z. Shelby, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-gold-6lowapp-sensei-00.txt">SENSEI 6lowapp Requirements</a>,&rdquo; draft-gold-6lowapp-sensei-00 (work in progress), October&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-gold-6lowapp-sensei-00.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.martocci-6lowapp-building-applications">[I-D.martocci-6lowapp-building-applications]</a></td>
<td class="author-text">Martocci, J. and A. Schoofs, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-martocci-6lowapp-building-applications-00.txt">Commercial Building Applications Requirements</a>,&rdquo; draft-martocci-6lowapp-building-applications-00 (work in progress), October&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-martocci-6lowapp-building-applications-00.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.sturek-6lowapp-smartenergy">[I-D.sturek-6lowapp-smartenergy]</a></td>
<td class="author-text">Sturek, D., Shelby, Z., Lohman, D., Stuber, M., and S. Ashton, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-sturek-6lowapp-smartenergy-00.txt">Smart Energy Requiements for 6LowApp</a>,&rdquo; draft-sturek-6lowapp-smartenergy-00 (work in progress), October&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-sturek-6lowapp-smartenergy-00.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>8.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="I-D.bormann-6lowpan-6lowapp-problem">[I-D.bormann-6lowpan-6lowapp-problem]</a></td>
<td class="author-text">Bormann, C., Sturek, D., and Z. Shelby, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-bormann-6lowpan-6lowapp-problem-01.txt">6LowApp: Problem Statement for 6LoWPAN and LLN Application Protocols</a>,&rdquo; draft-bormann-6lowpan-6lowapp-problem-01 (work in progress), July&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-bormann-6lowpan-6lowapp-problem-01.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.moritz-6lowapp-dpws-enhancements">[I-D.moritz-6lowapp-dpws-enhancements]</a></td>
<td class="author-text">Moritz, G., &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-moritz-6lowapp-dpws-enhancements-00.txt">DPWS for 6LoWPAN</a>,&rdquo; draft-moritz-6lowapp-dpws-enhancements-00 (work in progress), December&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-moritz-6lowapp-dpws-enhancements-00.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Zach Shelby</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Sensinode</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Kidekuja 2</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Vuokatti  88600</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">FINLAND</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+358407796297</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:zach@sensinode.com">zach@sensinode.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Michael Garrison Stuber</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Itron</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">2111 N. Molter Road</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Liberty Lake, WA  99025</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">U.S.A.</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+1.509.891.3441</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:Michael.Stuber@itron.com">Michael.Stuber@itron.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Don Sturek</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Pacific Gas & Electric</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">77 Beale Street</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">San Francisco, CA  </td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+1-619-504-3615</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:d.sturek@att.net">d.sturek@att.net</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Brian Frank</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Tridium, Inc</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Richmond, VA  </td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text"></td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:brian.tridium@gmail.com">brian.tridium@gmail.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Richard Kelsey</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Ember</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">47 Farnsworth Street</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Boston, MA  02210</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">U.S.A.</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+1.617.951.1201</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:richard.kelsey@ember.com">richard.kelsey@ember.com</a></td></tr>
</table>
</body></html>
