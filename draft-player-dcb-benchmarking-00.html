<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Benchmarking Methodology for Data Center Bridging Devices</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Benchmarking Methodology for Data Center Bridging Devices">
<meta name="keywords" content="RFC, Request for Comments, I-D, Internet-Draft, bmwg, benchmarking, CEE, Converged Enhanced Ethernet, DCB, Data Cetner Bridging, DCE, Data Center Ethernet, PFC, priority flow control, priority-based flow control">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Individual Submission</td><td class="header">T. Player</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Spirent Communications</td></tr>
<tr><td class="header">Intended status: Informational</td><td class="header">D. Newman</td></tr>
<tr><td class="header">Expires: February 16, 2010</td><td class="header">Network Test</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">August 15, 2009</td></tr>
</table></td></tr></table>
<h1><br />Benchmarking Methodology for Data Center Bridging Devices<br />draft-player-dcb-benchmarking-00.txt</h1>

<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted to IETF in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on February 16, 2010.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2009 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents in effect on the date of
publication of this document (http://trustee.ietf.org/license-info).
Please review these documents carefully, as they describe your
rights and restrictions with respect to this document.</p>

<h3>Abstract</h3>

<p>Existing benchmarking methodologies are based on the assumption that
      networking devices will drop network traffic at their performance limits.
      Data Center Bridging (DCB) devices, however, will attempt to throttle network
      endpoints before those limits are reached in order to minimize the
      probability of frame loss in the network.  Hence, existing methodologies
      based around frame loss are inappropriate for DCB devices. This document
      takes the basic benchmarking ideas based on loss and extends them to support 
      "lossless" Ethernet devices.
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#intro">1.</a>&nbsp;
Introduction<br />
<a href="#anchor1">2.</a>&nbsp;
Requirements<br />
<a href="#anchor2">3.</a>&nbsp;
General Considerations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor3">3.1.</a>&nbsp;
Test Traffic<br />
<a href="#anchor4">4.</a>&nbsp;
Terminology<br />
<a href="#anchor5">5.</a>&nbsp;
Test Setup<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">5.1.</a>&nbsp;
Test Traffic<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">5.1.1.</a>&nbsp;
Traffic Classification<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor8">5.1.2.</a>&nbsp;
Traffic Generation<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor9">5.1.3.</a>&nbsp;
Trial Duration<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#frame_formats">5.1.4.</a>&nbsp;
Frame Formats<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor10">5.1.5.</a>&nbsp;
Frame Measurements<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#frame_sizes">5.1.6.</a>&nbsp;
Frame Sizes<br />
<a href="#anchor14">6.</a>&nbsp;
Benchmarking Tests<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor15">6.1.</a>&nbsp;
Queueput<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor16">6.1.1.</a>&nbsp;
Objective<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor17">6.1.2.</a>&nbsp;
Setup Parameters<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor18">6.1.3.</a>&nbsp;
Procedure<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor19">6.1.4.</a>&nbsp;
Measurements<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor20">6.1.5.</a>&nbsp;
Reporting Format<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor21">6.2.</a>&nbsp;
Maximum Forwarding Rate<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor22">6.2.1.</a>&nbsp;
Objective<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor23">6.2.2.</a>&nbsp;
Setup Parameters<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor24">6.2.3.</a>&nbsp;
Procedure<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor25">6.2.4.</a>&nbsp;
Measurements<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor26">6.2.5.</a>&nbsp;
Reporting Format<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor27">6.3.</a>&nbsp;
Back-off<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor28">6.3.1.</a>&nbsp;
Objective<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor29">6.3.2.</a>&nbsp;
Setup Parameters<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor30">6.3.3.</a>&nbsp;
Procedure<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor31">6.3.4.</a>&nbsp;
Measurements<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor32">6.3.5.</a>&nbsp;
Reporting Format<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor33">6.4.</a>&nbsp;
Back-to-Back<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor34">6.4.1.</a>&nbsp;
Objective<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor35">6.4.2.</a>&nbsp;
Setup Parameters<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor36">6.4.3.</a>&nbsp;
Procedure<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor37">6.4.4.</a>&nbsp;
Measurements<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor38">6.4.5.</a>&nbsp;
Reporting Format<br />
<a href="#Security Considerations">7.</a>&nbsp;
Security Considerations<br />
<a href="#anchor39">8.</a>&nbsp;
IANA Considerations<br />
<a href="#rfc.references1">9.</a>&nbsp;
Normative References<br />
<a href="#anchor41">Appendix&nbsp;A.</a>&nbsp;
Acknowledgements<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="intro"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>This document is intended to provide a methodology for benchmarking Data
      Center Ethernet (DCB) switching devices that support Priority-based Flow Control (PFC) as defined in <a class='info' href='#802.1Qbb'>[802.1Qbb]<span> (</span><span class='info'>Institute of Electrical and Electronics Engineers, Inc., &ldquo;802.1Qbb - Priority-based Flow Control,&rdquo; 2009.</span><span>)</span></a>.
      It extends the methodologies already defined in <a class='info' href='#RFC2544'>[RFC2544]<span> (</span><span class='info'>Bradner, S. and J. McQuaid, &ldquo;Benchmarking Methodology for Network Interconnect Devices,&rdquo; March&nbsp;1999.</span><span>)</span></a>
      and <a class='info' href='#RFC2889'>[RFC2889]<span> (</span><span class='info'>Mandeville, R. and J. Perser, &ldquo;Benchmarking Methodology for LAN Switching Devices,&rdquo; August&nbsp;2000.</span><span>)</span></a>.
</p>
<p>This RFC primarily deals with devices that use priority-based flow control (PFC), as
      defined in <a class='info' href='#802.1Qbb'>[802.1Qbb]<span> (</span><span class='info'>Institute of Electrical and Electronics Engineers, Inc., &ldquo;802.1Qbb - Priority-based Flow Control,&rdquo; 2009.</span><span>)</span></a>, to actively manage the transmission rate of
      network endpoints in order to minimize forwarding delay and frame loss.
</p>
<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Requirements</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD
      NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as
      described in <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
General Considerations</h3>

<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
Test Traffic</h3>

<p>The lock-step traffic pattern, as described in section 5.1.3 of
        <a class='info' href='#RFC2889'>[RFC2889]<span> (</span><span class='info'>Mandeville, R. and J. Perser, &ldquo;Benchmarking Methodology for LAN Switching Devices,&rdquo; August&nbsp;2000.</span><span>)</span></a>, is specifically NOT required for DCB testing for two reasons:
        </p>
<ol class="text">
<li>Such patterns are unrealistic for high speed Ethernet devices due to the transmission 
          clock variance allowed by the IEEE 802.3 Ethernet specification.
</li>
<li>Flow control mechanisms would quickly break such patterns when activated.
</li>
</ol><p>
        
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Terminology</h3>

<p>As the terminology used by <a class='info' href='#RFC4689'>[RFC4689]<span> (</span><span class='info'>Poretsky, S., Perser, J., Erramilli, S., and S. Khurana, &ldquo;Terminology for Benchmarking Network-layer Traffic Control Mechanisms,&rdquo; October&nbsp;2006.</span><span>)</span></a> is specific to IP layer
      testing, a number of existing terms require clarification when used in the DCB
      benchmarking context.  Additionally, a number of new terms are also presented to
      clarify concepts not clearly defined within the scope of <a class='info' href='#RFC4689'>[RFC4689]<span> (</span><span class='info'>Poretsky, S., Perser, J., Erramilli, S., and S. Khurana, &ldquo;Terminology for Benchmarking Network-layer Traffic Control Mechanisms,&rdquo; October&nbsp;2006.</span><span>)</span></a>.
      </p>
<blockquote class="text">
<p>Classification:  As stated in <a class='info' href='#RFC4689'>[RFC4689]<span> (</span><span class='info'>Poretsky, S., Perser, J., Erramilli, S., and S. Khurana, &ldquo;Terminology for Benchmarking Network-layer Traffic Control Mechanisms,&rdquo; October&nbsp;2006.</span><span>)</span></a>, the selection of packets according to
        defined rules. In the context of DCB benchmarking, the Classification criterion is
        the value of the 802.1p priority code point field in the 802.1Q VLAN header of an
        Ethernet frame.
</p>
<p>Classification Group:  A collection of traffic streams that belong to a single
        Classification.  A Conformance Vector MAY be associated with a Classification Group.
</p>
<p>Classification Profile:  The set of all Classification Groups involved in
        a benchmarking test.
</p>
<p>Conformance Vector: A set of measurable stream result bounds, 
        e.g. latency, jitter, sequencing, etc.,
        that specify whether a frame is Conformant or Nonconformant.
</p>
<p>Congestion Management:  In the context of DCB benchmarking, Congestion Management
        occurs when the DUT/SUT transmits priority-based flow control (PFC) Pause frames.
</p>
<p>Forwarding Congestion:  In the context of DCB benchmarking, Forwarding Congestion
        is extended to include PFC pause frame transmissions from the DUT.
</p>
<p>Intended Load:  In this document, the Intended Load refers
        to the summation of the Intended Vectors for all Classification Groups.
</p>
<p>Offered Load:  In this document, the Offered Load refers
        to the summation of the Offered Vectors for all Classification Groups.
</p>
<p>Queue Congestion:  Queue congestion occurs when a DUT/SUT uses Congestion Management
        on a discrete set of code points.  The congestion managed code points correspond to
        the congested queue in the DUT/SUT.
</p>
<p>Queueput: The maximum Offered Load than can be transmitted into a DUT/SUT
        such that every transmitted frame matches a specific Classification rule, 
        the DUT/SUT does NOT use priority-based flow control mechanisms to manage the ingress traffic rate,
        and all ingress frames are forwarded to the correct egress port.  A DUT may have
        a different Queueput rate for each configured Classification.
</p>
</blockquote><p>
      
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Test Setup</h3>

<p>This document extends the general test setup described in section 3 of <a class='info' href='#RFC2889'>[RFC2889]<span> (</span><span class='info'>Mandeville, R. and J. Perser, &ldquo;Benchmarking Methodology for LAN Switching Devices,&rdquo; August&nbsp;2000.</span><span>)</span></a>
      and section 6 of <a class='info' href='#RFC2544'>[RFC2544]<span> (</span><span class='info'>Bradner, S. and J. McQuaid, &ldquo;Benchmarking Methodology for Network Interconnect Devices,&rdquo; March&nbsp;1999.</span><span>)</span></a> to the benchmarking of Data Center Ethernet
      switching devices. <a class='info' href='#RFC2889'>[RFC2889]<span> (</span><span class='info'>Mandeville, R. and J. Perser, &ldquo;Benchmarking Methodology for LAN Switching Devices,&rdquo; August&nbsp;2000.</span><span>)</span></a> and <a class='info' href='#RFC2544'>[RFC2544]<span> (</span><span class='info'>Bradner, S. and J. McQuaid, &ldquo;Benchmarking Methodology for Network Interconnect Devices,&rdquo; March&nbsp;1999.</span><span>)</span></a> describe
      benchmarking methodologies for networking devices that intentionally drop frames at their
      performance limits.  In DCB networks, the DUT will transmit PFC Pause frames as a
      Congestion Management method
      to throttle network endpoints, thus minimizing the probability of
      frame loss in the network.
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1"></a><h3>5.1.&nbsp;
Test Traffic</h3>

<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1.1"></a><h3>5.1.1.&nbsp;
Traffic Classification</h3>

<p>Since DCB devices are expected to support multiple traffic Classifications,
          it is RECOMMENDED to benchmark DCB devices with multiple Classification Groups.
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1.2"></a><h3>5.1.2.&nbsp;
Traffic Generation</h3>

<p>When generating multiple traffic classifications from the same test port, traffic
          from each class MUST be interleaved in a round-robin fashion.
</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1.3"></a><h3>5.1.3.&nbsp;
Trial Duration</h3>

<p>The recommended trial duration is 300 seconds, however other durations MAY
          be used.  Additionally, a running trial MAY be aborted once the test tool can tell
          that the currently running trial has failed. Two examples would be if a frame does not conform to the Conformance Vector of that frame's Classification Group, or if the test tool detects loss on a lossless queue.
</p>
<a name="frame_formats"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1.4"></a><h3>5.1.4.&nbsp;
Frame Formats</h3>

<p>This testing document does not mandate the use of any particular frame format
          for testing.  Any frame that can be legally forwarded by the DUT/SUT MAY be used
          provided that the test instrument can make the following distinctions for each frame:
          </p>
<ol class="text">
<li>The test tool MUST be able to distinguish test frames from non-test frames.
</li>
<li>The test tool MUST be able to determine whether each test frame is forwarded to the
            correct egress port.
</li>
<li>The test tool MUST be able to determine whether each received frame conforms
            or does not conform to the Conformance Vector of the frame's Classification Group.
</li>
</ol><p>
          
</p>
<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1.5"></a><h3>5.1.5.&nbsp;
Frame Measurements</h3>

<p>Packet Conformance MUST be determined for each and every test frame. 
          The method specified
          for measuring Latency in <a class='info' href='#RFC2544'>[RFC2544]<span> (</span><span class='info'>Bradner, S. and J. McQuaid, &ldquo;Benchmarking Methodology for Network Interconnect Devices,&rdquo; March&nbsp;1999.</span><span>)</span></a>, e.g. measuring the latency of
          a single test frame in a traffic flow, is unsuitable for
          DCB benchmarking.
</p>
<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1.5.1"></a><h3>5.1.5.1.&nbsp;
Forwarding Delay and Latency</h3>

<p>Multiple methods exist for measuring the time it takes a test frame to
            be forwarded by a DUT.  However, both of the methods discussed in 
            <a class='info' href='#RFC1242'>[RFC1242]<span> (</span><span class='info'>Bradner, S., &ldquo;Benchmarking terminology for network interconnection devices,&rdquo; July&nbsp;1991.</span><span>)</span></a> are unsuitable for testing DCB devices, as many DCB
            devices alternate between both "store and forwarding" and "bit forwarding"
            behavior depending upon their queue congestion state.  Hence, the only recommended
            method for measuring the time it takes a DUT to forward a test frame is
            "Forwarding Delay" as described in <a class='info' href='#RFC4689'>[RFC4689]<span> (</span><span class='info'>Poretsky, S., Perser, J., Erramilli, S., and S. Khurana, &ldquo;Terminology for Benchmarking Network-layer Traffic Control Mechanisms,&rdquo; October&nbsp;2006.</span><span>)</span></a>.
</p>
<a name="frame_sizes"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1.6"></a><h3>5.1.6.&nbsp;
Frame Sizes</h3>

<a name="anchor12"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1.6.1"></a><h3>5.1.6.1.&nbsp;
Ethernet</h3>

<p>The recommended frame sizes for Ethernet testing are 64, 128,
            256, 512, 1024, 1280, 1518, 4096, 8192, and 9216 as per <a class='info' href='#RFC5180'>[RFC5180]<span> (</span><span class='info'>Popoviciu, C., Hamza, A., Van de Velde, G., and D. Dugatkin, &ldquo;IPv6 Benchmarking Methodology for Network Interconnect Devices,&rdquo; May&nbsp;2008.</span><span>)</span></a>.
            Note that this frame size includes the Ethernet CRC.  This frame size MUST
            include a VLAN header, since <a class='info' href='#802.1Qbb'>[802.1Qbb]<span> (</span><span class='info'>Institute of Electrical and Electronics Engineers, Inc., &ldquo;802.1Qbb - Priority-based Flow Control,&rdquo; 2009.</span><span>)</span></a> requires the use of VLAN priority code points to distinguish different Classification Groups.
</p>
<a name="anchor13"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1.6.1.1"></a><h3>5.1.6.1.1.&nbsp;
Fibre Channel over Ethernet</h3>

<p>FCoE test traffic introduces a number of frame size constraints that make the default
              frame sizes specified in <a class='info' href='#RFC5180'>[RFC5180]<span> (</span><span class='info'>Popoviciu, C., Hamza, A., Van de Velde, G., and D. Dugatkin, &ldquo;IPv6 Benchmarking Methodology for Network Interconnect Devices,&rdquo; May&nbsp;2008.</span><span>)</span></a> unusable:
              </p>
<ol class="text">
<li>FCoE frames contain an encapsulated Fibre Channel frame.  Due to the method of
                encapsulation used, all FCoE frames MUST be a multiple of 4 bytes.  See <a class='info' href='#RFC3643'>[RFC3643]<span> (</span><span class='info'>Weber, R., Rajagopal, M., Travostino, F., O&apos;Donnell, M., Monia, C., and M. Merhar, &ldquo;Fibre Channel (FC) Frame Encapsulation,&rdquo; December&nbsp;2003.</span><span>)</span></a>.
</li>
<li>Test tools may need to include a test payload in addition to the encapsulated 
                Fibre Channel frame in order to meet the requirements
                specified in <a class='info' href='#frame_formats'>Section&nbsp;5.1.4<span> (</span><span class='info'>Frame Formats</span><span>)</span></a>.
</li>
<li>The maximum supported frame size for FCoE is 2176 bytes.
</li>
</ol>

<p>Due to these constraints, the recommended frame sizes for FCoE testing are
              128, 256, 512, 1024, 1280, 1520, 2176, and the smallest FCoE frame size
              supported by the test tool. This frame size MUST include a VLAN header, since <a class='info' href='#802.1Qbb'>[802.1Qbb]<span> (</span><span class='info'>Institute of Electrical and Electronics Engineers, Inc., &ldquo;802.1Qbb - Priority-based Flow Control,&rdquo; 2009.</span><span>)</span></a> requires the use of VLAN priority code points to distinguish different Classification Groups.
</p>
<a name="anchor14"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Benchmarking Tests</h3>

<a name="anchor15"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1"></a><h3>6.1.&nbsp;
Queueput</h3>

<a name="anchor16"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1.1"></a><h3>6.1.1.&nbsp;
Objective</h3>

<p>To determine the Queueput for one or more Traffic Classifications
          for a DUT using priority-based flow control.
</p>
<a name="anchor17"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1.2"></a><h3>6.1.2.&nbsp;
Setup Parameters</h3>

<p>The following parameters MUST be defined.  Each variable is configured
          with the following considerations.
          </p>
<blockquote class="text">
<p>Each Classification Group MUST be listed.  For each classification group,
            the following parameters MUST be specified:
            </p>
<blockquote class="text">
<p>Codepoint - For DCB tests, the codepoint is the VLAN priority.
</p>
<p>Frame Size - The frame size includes both the CRC and VLAN header.  See <a class='info' href='#frame_sizes'>Section&nbsp;5.1.6<span> (</span><span class='info'>Frame Sizes</span><span>)</span></a>x
              for recommended frame sizes.
</p>
<p>Burst Size - The burst size specifies the number of frames transmitted with the minimum
              legal IFG before pausing.  A burst size of 1 specifies a constant load.
</p>
<p>Intended Vector - The intended vector SHOULD specify the intended rate of test
              traffic specified as a percentage of port load.
</p>
<p>Conformance Vector - The conformance vector is optional, but must be defined
              if used.
</p>
</blockquote>
            

<p>Priority-based flow control - PFC mechanisms MUST be enabled.
</p>
<p>Background Traffic - Background traffic MAY be present.
</p>
</blockquote><p>
          
</p>
<a name="anchor18"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1.3"></a><h3>6.1.3.&nbsp;
Procedure</h3>

<p>A search algorithm is used to determine the Queueput for each
          Classification Group.  If Queue Congestion is detected for a Classification Group
          during a trial, then the Intended Vector for the Classification Group MUST be reduced
          for the subsequent trial.  If a
          Conformance Vector is specified for the test and nonconformant frames are received
          during a trial, then the Intended Vector SHOULD be reduced for the subsequent trial. 
          The algorithm MUST adjust the Intended Vector for each Classification Group.  The search
          algorithms for each Classification Group MAY be run in parallel.  The test continues until
          all Classification Groups in the test have converged on a discrete Queueput value.
</p>
<a name="anchor19"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1.4"></a><h3>6.1.4.&nbsp;
Measurements</h3>

<p>The Queueput for each Classification SHOULD be reported
          in either frames or bits per second.
</p>
<p>If a Conformance Vector is specified for a Classification Group, the percentage
          of conformant frames SHOULD be reported.
</p>
<p>The number of PFC pause frames for each code point in the Codepoint
          Set MUST be reported.
</p>
<a name="anchor20"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1.5"></a><h3>6.1.5.&nbsp;
Reporting Format</h3>

<p>TBD
</p>
<a name="anchor21"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2"></a><h3>6.2.&nbsp;
Maximum Forwarding Rate</h3>

<a name="anchor22"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2.1"></a><h3>6.2.1.&nbsp;
Objective</h3>

<p>To determine the maximum forwarding rate of one or more PFC queues on a PFC capable DUT.
</p>
<a name="anchor23"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2.2"></a><h3>6.2.2.&nbsp;
Setup Parameters</h3>

<p>Maximum Forwarding Rate is conceptually similar to the measurement in <a class='info' href='#RFC2285'>[RFC2285]<span> (</span><span class='info'>Mandeville, R., &ldquo;Benchmarking Terminology for LAN Switching Devices,&rdquo; February&nbsp;1998.</span><span>)</span></a> but
          works on a per-Classification basis in a DCB context.
          The following parameters MUST be defined.  Each variable is configured
          with the following considerations.
          </p>
<blockquote class="text">
<p>Each Classification Group MUST be listed.  For each classification group,
            the following parameters MUST be specified:
            </p>
<blockquote class="text">
<p>Codepoint - For DCB tests, the codepoint is the VLAN priority.
</p>
<p>Frame Size - The frame size includes both the CRC and VLAN header.  See <a class='info' href='#frame_sizes'>Section&nbsp;5.1.6<span> (</span><span class='info'>Frame Sizes</span><span>)</span></a>
              for recommended frame sizes.
</p>
<p>Burst Size - The burst size specifies the number of frames transmitted with the minimum
              legal IFG before pausing.  A burst size of 1 specifies a constant load.
</p>
<p>Intended Vector - The intended vector includes the intended rate of test
              traffic specified as a percentage of port load.
</p>
<p>Conformance Vector - The conformance vector includes all QoS bounds required
              for this traffic group.
</p>
</blockquote>
            

<p>Priority-based flow control - priority-based flow control mechanisms MAY be enabled or disabled.
</p>
<p>Background Traffic - Background traffic MAY be present.
</p>
</blockquote><p>
          
</p>
<a name="anchor24"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2.3"></a><h3>6.2.3.&nbsp;
Procedure</h3>

<p>The tester should iterate across all configured permutations of frame size, burst size, and
          Intended Vector for all Classification Groups.
</p>
<a name="anchor25"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2.4"></a><h3>6.2.4.&nbsp;
Measurements</h3>

<p>The forwarding rate of each Classification Group SHOULD be reported as the number
          of test frames per second or bits per second the DUT correctly forwards to the proper egress port.
</p>
<p>The maximum forwarding rate for each Classification Group MUST be reported
          as the highest recorded forwarding rate from the set of all iterations.
</p>
<p>Both the Intended and Offered Vector of each Classification Group MUST
          be reported.
</p>
<p>The number of PFC Pause frames received for each Classification MUST be reported.
</p>
<p>If a Conformance Vector is specified for a Classification Group, the percentage
          of conformant frames SHOULD be reported.
</p>
<a name="anchor26"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2.5"></a><h3>6.2.5.&nbsp;
Reporting Format</h3>

<p>TBD
</p>
<a name="anchor27"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.3"></a><h3>6.3.&nbsp;
Back-off</h3>

<a name="anchor28"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.3.1"></a><h3>6.3.1.&nbsp;
Objective</h3>

<p>To determine the delta between the maximum forwarding rate of a DUT and the
          point where the DUT ceases to use PFC to manage priority queues.
</p>
<a name="anchor29"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.3.2"></a><h3>6.3.2.&nbsp;
Setup Parameters</h3>

<p>The following parameters MUST be defined.  Each variable is configured
          with the following considerations.
          </p>
<blockquote class="text">
<p>Each Classification Group MUST be listed.  For each classification group,
            the following parameters MUST be specified:
            </p>
<blockquote class="text">
<p>Codepoint - For DCB tests, the codepoint is the VLAN priority.
</p>
<p>Frame Size - The frame size includes both the CRC and VLAN header.  See <a class='info' href='#frame_sizes'>Section&nbsp;5.1.6<span> (</span><span class='info'>Frame Sizes</span><span>)</span></a>
              for recommended frame sizes.
</p>
<p>Burst Size - The burst size specifies the number of frames transmitted with the minimum
              legal IFG before pausing.  A burst size of 1 specifies a constant load.
</p>
<p>Intended Vector - The intended vector includes the intended rate of test
              traffic specified as a percentage of port load.
</p>
<p>Conformance Vector - The conformance vector includes all QoS bounds required
              for this traffic group.
</p>
</blockquote>
            

<p>Priority-based flow control - priority-based flow control mechanisms MUST be enabled.
</p>
<p>Backoff method - The recommended backoff method is to reduce the aggregate
            traffic load by a fixed amount while still maintaining a fixed load ratio between
            all Classification Groups.
</p>
</blockquote><p>
          
</p>
<a name="anchor30"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.3.3"></a><h3>6.3.3.&nbsp;
Procedure</h3>

<p>The initial trial SHOULD begin with an Intended Load equal or greater than the 
          Maximum Forwarding Rate of the DUT/SUT.  For each subsequent trial, the aggregate
          load is reduced until the DUT is observed to complete a trial without activating
          any Congestion Management methods.
</p>
<a name="anchor31"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.3.4"></a><h3>6.3.4.&nbsp;
Measurements</h3>

<p>The Intended and Offered Vector for each Classification Group MUST be reported.
</p>
<p>The number of PFC Pause frames received for each Classification Group MUST be reported.
</p>
<p>If a Conformance Vector is specified for a Classification Group, the percentage
          of conformant frames SHOULD be reported.
</p>
<a name="anchor32"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.3.5"></a><h3>6.3.5.&nbsp;
Reporting Format</h3>

<p>TBD
</p>
<a name="anchor33"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.4"></a><h3>6.4.&nbsp;
Back-to-Back</h3>

<a name="anchor34"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.4.1"></a><h3>6.4.1.&nbsp;
Objective</h3>

<p>To determine the maximum burst size a DUT handle on one or more PFC queues.
</p>
<a name="anchor35"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.4.2"></a><h3>6.4.2.&nbsp;
Setup Parameters</h3>

<p>The following parameters MUST be defined.  Each variable is configured
          with the following considerations
          </p>
<blockquote class="text">
<p>Each Classification Group MUST be listed.  For each classification group,
            the following parameters MUST be specified:
            </p>
<blockquote class="text">
<p>Codepoint - For DCB tests, the codepoint is the VLAN priority.
</p>
<p>Frame Size - The frame size includes both the CRC and VLAN header.  See <a class='info' href='#frame_sizes'>Section&nbsp;5.1.6<span> (</span><span class='info'>Frame Sizes</span><span>)</span></a>
              for recommended frame sizes.
</p>
<p>Burst Size - The burst size specifies the number of frames transmitted with the minimum
              legal IFG before pausing.  A burst size of 1 specifies a constant load.
</p>
<p>Intended Vector - The intended vector includes the intended rate of test
              traffic specified as a percentage of port load.
</p>
<p>Conformance Vector - The conformance vector includes all QoS bounds required
              for this traffic group.
</p>
</blockquote>
            

<p>Priority-based flow control - priority-based flow control mechanisms MAY be enabled or disabled.
</p>
<p>The sum of all Intended Vectors on a transmitting port SHOULD equal the
            Maximum Offered Load (MOL) of that port.
</p>
</blockquote><p>
          
</p>
<a name="anchor36"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.4.3"></a><h3>6.4.3.&nbsp;
Procedure</h3>

<p>A search algorithm is used to determine the maximum duration in seconds
          for which the configured Classification Profile can be forwarded by the DUT without
          active Congestion Management.  If Congestion Management is detected during
          an iteration, then the duration MUST be reduced for the next iteration.
</p>
<a name="anchor37"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.4.4"></a><h3>6.4.4.&nbsp;
Measurements</h3>

<p>The Intended and Offered Vector for each Classification Group MUST be reported.
</p>
<p>The number of PFC Pause frames received for each Classification Group MUST be reported.
</p>
<p>If a Conformance Vector is specified for a Classification Group, the percentage
          of conformant frames SHOULD be reported.
</p>
<a name="anchor38"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.4.5"></a><h3>6.4.5.&nbsp;
Reporting Format</h3>

<p>TBD
</p>
<a name="Security Considerations"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Security Considerations</h3>

<p>A broken PFC implementation could lead to hypothetical denial-of-service attacks where 
        a DUT ignores PFC pause frames and incorrectly forwards traffic as a result, or conversely 
        throttles traffic even though no congestion condition exists.   However, the test networks described in Benchmarking Methodology Working Group documents generally
   SHOULD NOT be reachable by anyone other than the tester(s). The security implications of 
        such incorrect PFC handling are beyond the scope of this performance-measurement document, which is intended for testing purposes in controlled lab conditions.
</p>
<a name="anchor39"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
IANA Considerations</h3>

<p>Testers SHOULD use network addresses assigned by IANA for the purpose of testing networks.
</p>
<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>9.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="802.1Qbb">[802.1Qbb]</a></td>
<td class="author-text">Institute of Electrical and Electronics Engineers, Inc., &ldquo;<a href="http://www.ieee802.org/1/pages/802.1bb.html">802.1Qbb - Priority-based Flow Control</a>,&rdquo; 2009.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC1242">[RFC1242]</a></td>
<td class="author-text"><a href="mailto:SOB@HARVARD.HARVARD.EDU">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc1242">Benchmarking terminology for network interconnection devices</a>,&rdquo; RFC&nbsp;1242, July&nbsp;1991 (<a href="http://www.rfc-editor.org/rfc/rfc1242.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2285">[RFC2285]</a></td>
<td class="author-text"><a href="mailto:bob.mandeville@eunet.fr">Mandeville, R.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2285">Benchmarking Terminology for LAN Switching Devices</a>,&rdquo; RFC&nbsp;2285, February&nbsp;1998 (<a href="http://www.rfc-editor.org/rfc/rfc2285.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2285.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2285.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2544">[RFC2544]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a> and <a href="mailto:mcquaidj@netscout.com">J. McQuaid</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2544">Benchmarking Methodology for Network Interconnect Devices</a>,&rdquo; RFC&nbsp;2544, March&nbsp;1999 (<a href="http://www.rfc-editor.org/rfc/rfc2544.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2889">[RFC2889]</a></td>
<td class="author-text">Mandeville, R. and J. Perser, &ldquo;<a href="http://tools.ietf.org/html/rfc2889">Benchmarking Methodology for LAN Switching Devices</a>,&rdquo; RFC&nbsp;2889, August&nbsp;2000 (<a href="http://www.rfc-editor.org/rfc/rfc2889.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3643">[RFC3643]</a></td>
<td class="author-text">Weber, R., Rajagopal, M., Travostino, F., O&#039;Donnell, M., Monia, C., and M. Merhar, &ldquo;<a href="http://tools.ietf.org/html/rfc3643">Fibre Channel (FC) Frame Encapsulation</a>,&rdquo; RFC&nbsp;3643, December&nbsp;2003 (<a href="http://www.rfc-editor.org/rfc/rfc3643.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3918">[RFC3918]</a></td>
<td class="author-text">Stopp, D. and B. Hickman, &ldquo;<a href="http://tools.ietf.org/html/rfc3918">Methodology for IP Multicast Benchmarking</a>,&rdquo; RFC&nbsp;3918, October&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3918.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4689">[RFC4689]</a></td>
<td class="author-text">Poretsky, S., Perser, J., Erramilli, S., and S. Khurana, &ldquo;<a href="http://tools.ietf.org/html/rfc4689">Terminology for Benchmarking Network-layer Traffic Control Mechanisms</a>,&rdquo; RFC&nbsp;4689, October&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4689.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5180">[RFC5180]</a></td>
<td class="author-text">Popoviciu, C., Hamza, A., Van de Velde, G., and D. Dugatkin, &ldquo;<a href="http://tools.ietf.org/html/rfc5180">IPv6 Benchmarking Methodology for Network Interconnect Devices</a>,&rdquo; RFC&nbsp;5180, May&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5180.txt">TXT</a>).</td></tr>
</table>

<a name="anchor41"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A"></a><h3>Appendix A.&nbsp;
Acknowledgements</h3>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Timmons C. Player</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Spirent Communications</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:timmons.player@spirent.com">timmons.player@spirent.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">David Newman</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Network Test</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:dnewman@networktest.com">dnewman@networktest.com</a></td></tr>
</table>
</body></html>
