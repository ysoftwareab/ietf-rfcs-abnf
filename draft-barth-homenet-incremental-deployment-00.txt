



Homenet Working Group                                           S. Barth
Internet-Draft
Intended status: Informational                             March 9, 2015
Expires: September 10, 2015


        Incremental Deployment of HNCP and IGPs in home networks
             draft-barth-homenet-incremental-deployment-00

Abstract

   This document describes an incremental approach towards deploying
   HNCP and routing protocols in home networks.  Its aim is to provide a
   minimal, forward-compatible transitional extension to HNCP to promote
   testing, deployment and adoption of homenet technology while the IGP
   decision and standardization process is not yet finalized.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on September 10, 2015.

Copyright Notice

   Copyright (c) 2015 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.



Barth                  Expires September 10, 2015               [Page 1]

Internet-Draft   Incremental Deployment of HNCP and IGPs      March 2015


Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Implementation Requirements for Incremental Deployments . . .   2
   3.  Incremental Connectivity Algorithm  . . . . . . . . . . . . .   3
   4.  Security Considerations . . . . . . . . . . . . . . . . . . .   3
   5.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   4
   6.  Normative references  . . . . . . . . . . . . . . . . . . . .   4
   Appendix A.  Acknowledgements . . . . . . . . . . . . . . . . . .   4
   Author's Address  . . . . . . . . . . . . . . . . . . . . . . . .   4

1.  Introduction

   While it is expected that the average number of routers and their
   hardware and software capabilities in a typical home network will
   grow over time, this trend has historically been gradual.  Thus it
   can be expected that in the near future there will most likely be not
   more than a handful of routers in a home and their capabilities for
   operating in a fully-routed mode are limited.

   It is also hard to predict which types of other networks the homenet
   technology will be used in and what attributes these networks will
   have (e.g. number of routers, links, link-types, topologies, suitable
   methods for detecting link-layer status and deriving metric).
   Furthermore the standardization of autoconfiguring and source-dest-
   routing capable protocols is not expected to be finalized soon and
   there is currently a shortage of widely testable or deployable
   implementations fulfilling these criteria.

   These issues and a general lack of consensus over an all-purpose
   routing protocol support a transitional forward-compatible extension
   to HNCP [I-D.ietf-homenet-hncp] implementations in order to advance
   homenet progress and to promote adoption.  This draft describes a
   solution sufficient for small networks allowing gradual adoption of
   homenet principles into existing networks while ensuring an easy
   transition to a future standardized version.

2.  Implementation Requirements for Incremental Deployments

   Each homenet router runs an incremental connectivity algorithm at all
   times on each network interface it is running HNCP on and can
   optionally additionally run one or more routing protocols.

   A router running a routing protocol alongside the incremental
   connectivity algorithm must strictly prefer all routes of the routing
   protocol over all routes generated by the incremental connectivity
   algorithm, except for those having destinations not already known to
   the routing protocol but that lie within one of the designated



Barth                  Expires September 10, 2015               [Page 2]

Internet-Draft   Incremental Deployment of HNCP and IGPs      March 2015


   prefixes of the homenet (i.e. prefixes assigned by a homenet router
   that does not speak the respective routing protocol).  In case of
   routers running more than one routing protocol alongside the
   incremental connectivity algorithm, all such routers in the homenet
   ensure that in doing so they do not cause routing loops, e.g. by
   agreeing upon a network-wide order in which routes of the protocols
   are considered.

3.  Incremental Connectivity Algorithm

   This algorithm is designed to provide connectivity in small home
   networks that would not benefit from exploiting link characteristics
   or metrics.  It is intentionally kept simple to require no additional
   TLV-information by reusing existing topology and address assignment
   information provided by HNCP and only requires minimal implementation
   overhead.

   Each homenet router traverses the HNCP neighbor graph using a
   breadth-first search starting with its own node's immediate
   neighbors.  Neighbors of a node are traversed in ascending order of
   their node identifier.  During traversal the router determines the
   path to each other router (R), the next-hop neighbor N(R) and the
   number of hops to it D(R).  The router then creates routes based on
   the following rules:

   +--------------------------------+-----------+------+------+--------+
   | Create a route                 | To        | From | Via  | Metric |
   +--------------------------------+-----------+------+------+--------+
   | For each Prefix (A) in an      | A         | any  | N(R) | D(R)   |
   | Assigned Prefix TLV of any     |           |      |      |        |
   | Router (R)                     |           |      |      |        |
   | For each IPv6 prefix (P) in a  | ::/0      | P    | N(R) | D(R)   |
   | Delegated Prefix TLV of any    |           |      |      |        |
   | Router (R)                     |           |      |      |        |
   | For the first Router (R)       | 0.0.0.0/0 | any  | N(R) | D(R)   |
   | traversed that announces an    |           |      |      |        |
   | IPv4 Delegated Prefix TLV      |           |      |      |        |
   +--------------------------------+-----------+------+------+--------+

   This process is repeated every time the router detects a change in
   the neighbor graph or prefix assignment information in the network.

4.  Security Considerations

   The mechanism described in this document is based on HNCP, thus
   security considerations for this document are already covered by
   [I-D.ietf-homenet-hncp].




Barth                  Expires September 10, 2015               [Page 3]

Internet-Draft   Incremental Deployment of HNCP and IGPs      March 2015


5.  IANA Considerations

   This document has no actions for IANA.

6.  Normative references

   [I-D.ietf-homenet-hncp]
              Stenberg, M., Barth, S., and P. Pfister, "Home Networking
              Control Protocol", draft-ietf-homenet-hncp-04 (work in
              progress), March 2015.

Appendix A.  Acknowledgements

   Thanks to Pierre Pfister and Markus Stenberg for comments and
   suggestions.

Author's Address

   Steven Barth
   Halle  06114
   Germany

   Email: cyrus@openwrt.org




























Barth                  Expires September 10, 2015               [Page 4]
