<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard%20http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>Receiver driven trasport protocol for CONET ICN</title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";3
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction">
<link href="#rfc.section.2" rel="Chapter" title="2 CONET Basics">
<link href="#rfc.section.3" rel="Chapter" title="3 RDITP Data Structures">
<link href="#rfc.section.3.1" rel="Chapter" title="3.1 Interest CIU Payload Header">
<link href="#rfc.section.3.2" rel="Chapter" title="3.2 DATA CIU Payload Header">
<link href="#rfc.section.3.3" rel="Chapter" title="3.3 EVLE Efficient Variable Length Encoding">
<link href="#rfc.section.4" rel="Chapter" title="4 RDITP mechanisms">
<link href="#rfc.section.4.1" rel="Chapter" title="4.1 Congestion control mechanisms">
<link href="#rfc.section.4.1.1" rel="Chapter" title="4.1.1 Fast recovery and fast retransmit">
<link href="#rfc.section.4.1.2" rel="Chapter" title="4.1.2 Slow start and congestion avoidance">
<link href="#rfc.section.4.2" rel="Chapter" title="4.2 RDITP specific mechanisms">
<link href="#rfc.section.4.2.1" rel="Chapter" title="4.2.1 Prefetch option">
<link href="#rfc.section.4.2.2" rel="Chapter" title="4.2.2 Request chunk information">
<link href="#rfc.section.5" rel="Chapter" title="5 Acknowledgments">
<link href="#rfc.section.6" rel="Chapter" title="6 Performance Considerations">
<link href="#rfc.section.7" rel="Chapter" title="7 IANA Considerations">
<link href="#rfc.section.8" rel="Chapter" title="8 Security Considerations">
<link href="#rfc.references" rel="Chapter" title="9 References">
<link href="#rfc.references.1" rel="Chapter" title="9.1 Normative References">
<link href="#rfc.references.2" rel="Chapter" title="9.2 Informative References">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content=
  "http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.539, 2011-01-02 17:13:00, XSLT vendor: SAXON 6.5.5 from Michael Kay http://saxon.sf.net/" />
  <meta name="viewport" content="width=600;" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />
  <meta name="dct.creator" content="Doe, J." />
  <meta name="dct.identifier" content="urn:ietf:id:draft-sample-input-00" />
  <meta name="dct.issued" scheme="ISO8601" content="2010-12" />
  
  <meta name="dct.abstract" content="Let us consider an Information Centric Networking (ICN) solution, in which an End Node requests for a content sending "content requests" (or "interest packets"). The content is provided back to the requestor by the "origin" node or by an intermediate node that had cached the content. The content is usually divided into "chunks" that can be individually requested, sent back to the requester, cached into intermediate nodes. The sending rate of content requests can be adjusted in order to perform congestion control, implementing a receiver driven transport protocol. As it can be useful to have large chunks (significantly larger than the Maximum Tranfer Unit across the network), the trasport protocol should also be used to further segment the chunks rather than relying to IP fragmentation. In this memo we define a receiver driven trasport protocol for ICN, which relies on the CONET ICN solution described in a companion draft." />
  <meta name="description" content="Let us consider an Information Centric Networking (ICN) solution, in which an End Node requests for a content sending "content requests" (or "interest packets"). The content is provided back to the requestor by the "origin" node or by an intermediate node that had cached the content. The content is usually divided into "chunks" that can be individually requested, sent back to the requester, cached into intermediate nodes. The sending rate of content requests can be adjusted in order to perform congestion control, implementing a receiver driven transport protocol. As it can be useful to have large chunks (significantly larger than the Maximum Tranfer Unit across the network), the trasport protocol should also be used to further segment the chunks rather than relying to IP fragmentation. In this memo we define a receiver driven trasport protocol for ICN, which relies on the CONET ICN solution described in a companion draft." />
  <meta name="keywords" content="I-D, Internet-Draft, Information Centric Networking, Transport Protocol, Congestion Control" />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">Network Working Group</td>
<td class="right">S. Salsano</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right">M. Cancellieri</td>
</tr>
<tr>
<td class="left">Intended status: Informational</td>
<td class="right">A. Detti</td>
</tr>
<tr>
<td class="left">Expires: May 28, 2012</td>
<td class="right">Univ. of Rome "Tor Vergata"</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">November 25, 2011</td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">Receiver driven trasport protocol for CONET ICN<br />
  <span class="filename">draft-salsano-rditp-00</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>Let us consider an Information Centric Networking (ICN) solution, in which an End Node requests for a content sending "content requests" (or "interest packets"). The content is provided back to the requestor by the "origin" node or by an intermediate node that had cached the content. The content is usually divided into "chunks" that can be individually requested, sent back to the requester, cached into intermediate nodes. The sending rate of content requests can be adjusted in order to perform congestion control, implementing a receiver driven transport protocol. As it can be useful to have large chunks (significantly larger than the Maximum Tranfer Unit across the network), the trasport protocol should also be used to further segment the chunks rather than relying to IP fragmentation. In this memo we define a receiver driven trasport protocol for ICN, which relies on the CONET ICN solution described in a companion draft.</p>
<h1 id="rfc.status"><a href="#rfc.status">Status of this Memo</a></h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet- Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on May 28, 2012.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2011 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a>
</li>
<li>2.   <a href="#rfc.section.2">CONET Basics</a>
</li>
<li>3.   <a href="#rfc.section.3">RDITP Data Structures</a>
</li>
<li>3.1.   <a href="#rfc.section.3.1">Interest CIU Payload Header</a>
</li>
<li>3.2.   <a href="#rfc.section.3.2">DATA CIU Payload Header</a>
</li>
<li>3.3.   <a href="#rfc.section.3.3">EVLE Efficient Variable Length Encoding</a>
</li>
<li>4.   <a href="#rfc.section.4">RDITP mechanisms</a>
</li>
<li>4.1.   <a href="#rfc.section.4.1">Congestion control mechanisms</a>
</li>
<li>4.1.1.   <a href="#rfc.section.4.1.1">Fast recovery and fast retransmit</a>
</li>
<li>4.1.2.   <a href="#rfc.section.4.1.2">Slow start and congestion avoidance</a>
</li>
<li>4.2.   <a href="#rfc.section.4.2">RDITP specific mechanisms</a>
</li>
<li>4.2.1.   <a href="#rfc.section.4.2.1">Prefetch option</a>
</li>
<li>4.2.2.   <a href="#rfc.section.4.2.2">Request chunk information</a>
</li>
<li>5.   <a href="#rfc.section.5">Acknowledgments</a>
</li>
<li>6.   <a href="#rfc.section.6">Performance Considerations</a>
</li>
<li>7.   <a href="#rfc.section.7">IANA Considerations</a>
</li>
<li>8.   <a href="#rfc.section.8">Security Considerations</a>
</li>
<li>9.   <a href="#rfc.references">References</a>
</li>
<li>9.1.   <a href="#rfc.references.1">Normative References</a>
</li>
<li>9.2.   <a href="#rfc.references.2">Informative References</a>
</li>
<li><a href="#rfc.authors">Authors' Addresses</a>
</li>


  </ul>

  <h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> <a href="#intro" id="intro">Introduction</a>
</h1>
<p><a href="#I-D.CONET">[I-D.CONET]</a> proposes an approach to Information Centric Networking <a href="#Koponen07">[Koponen07]</a><a href="#Jacobson09">[Jacobson09]</a> based on extending the IP protocol by using a new IP Option called CONET IP option (defined both for IPv4 <a href="#RFC0791">[RFC0791]</a> and IPv6 <a href="#RFC2460">[RFC2460]</a>). The CONET IP option can be used by routers to support content aware networking, in addition to classical address based networking. Further information on the proposed solution can also be found in <a href="#CONET11">[CONET11]</a>.  </p>
<p id="rfc.section.1.p.2">In this memo we define a receiver driven trasport protocol for CONET ICN, called RDITP - Receiver Driven ICN Transport Protocol. The trasport protocol is able to provide a reliable transfer of the content and to perform congestion control in TCP-friendly way.  </p>
<p id="rfc.section.1.p.3">As shown in <a href="#architecture">Figure 1</a>, the CONET architecture proposed in <a href="#I-D.CONET">[I-D.CONET]</a> foresees End-Nodes, Serving Nodes and CONET nodes. End-Nodes request for content. Serving Nodes provide content. CONET nodes: i) forward content requests from End-Nodes to Serving Nodes; ii) deliver content from Serving Nodes to End-Nodes; iii) may cache content and therefore provide it to End-Nodes without contacting the Serving Node.  </p>
<div id="#rfc.figure.1"></div>
<div id="#architecture"></div>
<pre>

              requests for content
              -------------------&gt;
              content is provided
              &lt;-------------------
  +----+                              +----+      +----+
  |    |                            --|    |------|    | 
  +----+\                         /   +----+      +----+
         \    +----+      +----+ /                       
          ----|    |------|    |/                        
              +----+      +----+                        
End-Node      legacy    Intermediate   Border     Serving
              IP router     Node        Node        Node
    |                                   |
    +---------CONET next hop-----------&gt;+

		   </pre>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> <a href="#anchor-section-1" id="anchor-section-1">CONET Basics</a>
</h1>
<p id="rfc.section.2.p.1">In this section we recall the basic aspects of the CONET ICN solution, as needed to introduce the proposed Receiver Driven ICN Transport Protocol.</p>
<p id="rfc.section.2.p.2">The figure below shows the CONET protocol stack. CONET protocol is divided in two sub-layers, whose data unit are respectively denoted as "Carrier Packets" and "CONET Information Units". Two types of CONET Information Units are currently defined ("Interests CIU" and "Named Data CIU"). The CONET Information Unit Type field in the CONET IP option differentiates among the two types. A CONET Information Unit (CIU) can be split into different Carrier Packets. Each Carrier Packet is transported by an IP packet.  </p>
<div id="#rfc.figure.2"></div>
<div id="#CONET-layers"></div>
<pre>

    +--------+--------+--------+ \
    | CONET Information Units  |  |
    +--------+--------+--------+  |
                                  | 
    +--------+--------+--------+  |- CONET protocol
	|     Carrier Packets      |  |
    +--------+--------+--------+  |
                                  | 
    +--------+--------+--------+ /
    | IP (with CONET IP option)|
    +--------+--------+--------+
           </pre>
<p id="rfc.section.2.p.3">The generic structure of a Carrier Packet (CP) is reported hereafter: </p>
<div id="#rfc.figure.3"></div>
<pre>

    +-------------------------+
    |    CP Payload header    |
    +-------------------------+
    |       CP Payload        |
    +-------------------------+
    |      CP Path state      |
    +-------------------------+
   </pre>
<p id="rfc.section.2.p.4">"Interest CIU" are used by End-Nodes to request for content. The Interest CIUs contain the identifier of the content called ICN-ID and transported within the IP CONET Option. Optionally, the IP CONET option can explicitly carry a "Chunk Sequence Number" to identify one of the chunk in which a content has been split. Another possibility is that the chunk number is carried within the ICN-ID itself. A Serving Node or a CONET node that had previously cached the information can reply to the content request by sending a "Named-data CIU". These Named-data CIU will also contain the ICN-ID in the IP CONET Option.</p>
<p id="rfc.section.2.p.5">The CP payload header contains the length of the CP Payload and allows to identify the start of the CP Path state field. The use of CP Path state field was explained in <a href="#I-D.CONET">[I-D.CONET]</a> and is out of scope here.  </p>
<p id="rfc.section.2.p.6">The information contained in the CP Payload header is specific for each CIU type. The information transported in the CP Payload header can be used to implement the functionalities of a transport protocol, providing a reliable transmission of content and performing congestion control. In this document we define the CP Payload header for Interest and Data CIUc using the RDITP protocol.  </p>
<p id="rfc.section.2.p.7">An end-node that wants to retrieve a content (or better a Chunk of a content) issues an Interest CIU, the ICN-ID and (optionally) the Chunk Sequence Number of the required Content are respectively transported in the ICN Identifier (ICN-ID) field and in the CSN field of the CONET IP option. Assuming for simplicity that the Interest CIU will fit into a single Carrier Packet, the Interest CIU will be included in the Carrier Packet that in turn is inserted into an IP packet. The RDITP comes into play because a Chunk of content may need to be fragmented in more than one Carrier Packet, as the chunk size can be much larger than the layer 2 MTU. For example with a chunk size of 64 KB or 256 KB and an MTU of 1500 bytes, the chunks need to be split in tens or hundreds of packets. In this case the RDTP allows to specify in the request the specific segment of the chunk that is required.  </p>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> <a href="#anchor-section-2" id="anchor-section-2">RDITP Data Structures</a>
</h1>
<h1 id="rfc.section.3.1">
<a href="#rfc.section.3.1">3.1.</a> <a href="#anchor-interest-ciu-structure" id="anchor-interest-ciu-structure">Interest CIU Payload Header</a>
</h1>
<p id="rfc.section.3.1.p.1">The structure of the interest CP payload header is reported hereafter: </p>
<div id="#rfc.figure.4"></div>
<pre>

    +-------------------------+
    |TTrrrrrPI| ..Left Edge...|
    +-------------------------+
    |    ...Right Edge...     |
    +-------------------------+

   </pre>
<p id="rfc.section.3.1.p.2">Flags: </p>
<p id="rfc.section.3.1.p.3">TT : Trasport protocol type. It allows to define different transport protocols. 0 indicates RDITP which is defined in this draft. 1-3 are reserved and can be used to indicate different trasport protocols. The rest of the bits in this field and in the following bytes may have a different semantic depending on the transport protocol, we are providing here only the defintion for TT=0 i.e. the RDITP protocol. Therefore the number of transport protocols is NOT limited to 4.  </p>
<p id="rfc.section.3.1.p.4">P : Prefetch flag - This flag indicates that this packet comes from a receiver that asks to perform prefetch on the content chunks.  </p>
<p id="rfc.section.3.1.p.5">I : Ask Chunk Info flag - If this flag is set, the serving node is requested to add chunk-related information to the data CIU payload, particularly the chunk size.  </p>
<p id="rfc.section.3.1.p.6">Left edge/Right edge : These fields contain respectively the value of first and the last byte of the requested chunk segment. The fields are encoded with the EVLE (Efficient Variable Lenght Encoding) mechanim described below </p>
<h1 id="rfc.section.3.2">
<a href="#rfc.section.3.2">3.2.</a> <a href="#anchor-data-ciu-structure" id="anchor-data-ciu-structure">DATA CIU Payload Header</a>
</h1>
<p id="rfc.section.3.2.p.1">The structure of the data CP payload header is reported hereafter: </p>
<div id="#rfc.figure.5"></div>
<pre>

    +-------------------------+
    |TTrFSSSS| ...Left Edge...|
    +-------------------------+
    |    ...Right Edge...     |
    +-------------------------+
    | (Optional) Chunk size   |
    +-------------------------+

   </pre>
<p id="rfc.section.3.2.p.2">Flags: </p>
<p id="rfc.section.3.2.p.3">TT : Trasport protocol type. It allows to define different transport protocols. 0 indicates RDITP which is defined in this draft. 1-3 are reserved and can be used to indicate different trasport protocols. The same considerations apply that have been reported above for the TT subfield in the interest CIU payload header.  </p>
<p id="rfc.section.3.2.p.4">F : Final segment flag - If this bit is set to 1 this carrier packet carries the last segment of a chunk.  </p>
<p id="rfc.section.3.2.p.5">SSSS : Chunk size flag - This flag describes the size of a chunk as follows: </p>
<div id="#rfc.figure.6"></div>
<pre>

   0 : unspecified (it may have been already indicated
       in a previous data)
   1 : the chunk size is trasnported in the optional
       Chunk size field, encoded with the EVLE variable length
       encoding described below
   2-16 : let n be the value from 2 to 16, it can represent
          14 different chunk sizes from 2KBytes to 8Mbyte
          with the following relation:
          chunk size = 2 ^ (9+n)
           </pre>
<p id="rfc.section.3.2.p.6">Left edge/Right edge : These fields contains respectively the value of first and the last byte of the trasported chunk segment. The fields are encoded with EVLE variable length encoding described below. These fields carry the actual value of the segment transported that may differ from the request.  </p>
<h1 id="rfc.section.3.3">
<a href="#rfc.section.3.3">3.3.</a> <a href="#anchor-EVLE" id="anchor-EVLE">EVLE Efficient Variable Length Encoding</a>
</h1>
<p id="rfc.section.3.3.p.1">Some of the fields described above are encoded using a variable lenght encoding that we denote as "Efficient Variable Lenght Encoding". The same encoding is used for the Chunk Sequence Number (CSN) field in the CONET IP Option, as described in <a href="#I-D.CONET">[I-D.CONET]</a>. To help the reader, we report the definition of the encoding hereafter. An EVLE field is represented with a variable number of bytes. An initial bit pattern determines the length of the EVLE field.  </p>
<div id="#rfc.figure.7"></div>
<pre>

1 byte EVLE (7 bits range)
    +--------+
    |0       | 
    +--------+

2 bytes EVLE (15 bit range)
    +--------+--------+
    |10               | 
    +--------+--------+

3 bytes EVLE (21 bit range)
    +--------+--------+--------+
    |110     |        |        |
    +--------+--------+--------+

4 bytes EVLE (28 bit range)
    +--------+--------+--------+--------+
    |1110    |        |        |        |
    +--------+--------+--------+--------+

5 bytes EVLE (32 bit range)
    +--------+--------+--------+--------+
    |11110000|        |        |        |
    +--------+--------+--------+--------+
    |        |
    +--------+

6 bytes EVLE (40 bit range)
    +--------+--------+--------+--------+
    |11110001|        |        |        |
    +--------+--------+--------+--------+
    |        |        |
    +--------+--------+

           </pre>
<p id="rfc.section.3.3.p.2">As explained in in <a href="#I-D.CONET">[I-D.CONET]</a>, binary patterns from 11110010 to 11111111 are reserved and could be used to extend the EVLE range if needed. With the above definion the maximum value is 2^40, roughly 1 Tera.  </p>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> <a href="#anchor-section-3" id="anchor-section-3">RDITP mechanisms</a>
</h1>
<p id="rfc.section.4.p.1">The transport protocol described in this draft mimics the TPC mechanisms described in <a href="#RFC2581">[RFC2581]</a>, with the required adaptations for a receiver driven approach. In fact, while in TCP the sender sends data segment and implements retransmissions and congestion control based on the reception of ACKs, in ICN based content download the receiver asks for content sending the Interests and implements re-sending of Interests and congestion control based on the reception of Data. </p>
<h1 id="rfc.section.4.1">
<a href="#rfc.section.4.1">4.1.</a> <a href="#anchor-section-3-congestion" id="anchor-section-3-congestion">Congestion control mechanisms</a>
</h1>
<h1 id="rfc.section.4.1.1">
<a href="#rfc.section.4.1.1">4.1.1.</a> <a href="#anchor-fast-rec-ret" id="anchor-fast-rec-ret">Fast recovery and fast retransmit</a>
</h1>
<p id="rfc.section.4.1.1.p.1">The receiver bases its flow control on the received data CP. The out of sequence recognition is based on the expected chunk number and segment bytes. When three out-of-sequence data CP are received the slow start threshold (ssthresh, see <a href="#RFC2581">[RFC2581]</a>) is set to half the window plus the 3 data carrier packet already received and the interest for the missing segment is retransmitted.  </p>
<h1 id="rfc.section.4.1.2">
<a href="#rfc.section.4.1.2">4.1.2.</a> <a href="#anchor-slow-start-ca" id="anchor-slow-start-ca">Slow start and congestion avoidance</a>
</h1>
<p id="rfc.section.4.1.2.p.1">To manage the increase of congestion window slow start and congestion avoidance mechanism are performed. During slow start, (e.g. the beginning of the connection), the congestion window increases of an amount equal to the received data CP. This corresponds to an "exponential" growth of the window. During congestion avoidance, the growth of the window is aproximately "linear" with time.  Let us define a "segment" as the portion of content transported in a data CP. We define the congestion window cwnd in segments. During slow start cwnd = cwnd + 1 for each received data CP. During congestion avoidance cwnd = cwnd + 1/cwnd for each received data CP.  </p>
<h1 id="rfc.section.4.2">
<a href="#rfc.section.4.2">4.2.</a> <a href="#anchor-section-3-rditp" id="anchor-section-3-rditp">RDITP specific mechanisms</a>
</h1>
<h1 id="rfc.section.4.2.1">
<a href="#rfc.section.4.2.1">4.2.1.</a> <a href="#anchor-prefetch-option" id="anchor-prefetch-option">Prefetch option</a>
</h1>
<p id="rfc.section.4.2.1.p.1">In a ICN based network, we can have applications separately requesting the download of each chunk of content. In our RDITP approach this means that we can only request the segments of a given chunk after that we have received the request for the chunk coming from the application. The application may implement retransmission and congestion control, therefore the RDITP could receive requests for more than a chunk of the same content in parallel. Anyway the interaction between the congestion control performed at application level and the congestion control performed at RDITP level could prove inefficient. Therefore we believe that the API offered to the application should allow the application to request for a whole content (or for the content starting from a given chunk number). Then the RDITP protocol can handle the retrieval of all the (rest of) the content. Therefore the RDITP protocol offers also a "prefetch option". Whit the prefetch option active, if the congestion window has space left, the mechanism allow to issue requests for segments of next expected chunks, without waiting for an explicit request from application level.  </p>
<h1 id="rfc.section.4.2.2">
<a href="#rfc.section.4.2.2">4.2.2.</a> <a href="#anchor-chunk-info" id="anchor-chunk-info">Request chunk information</a>
</h1>
<p id="rfc.section.4.2.2.p.1">When the transmission start, the receiver must issue a request for at least the chunk size. Receiver should set the flags in carrier packet accordingly to <a href="#anchor-interest-ciu-structure">Section 3.1</a>. The data ciu requested will carry at least the chunk size, receiver should use this information to create data structure best suited for the chunk size.  </p>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> Acknowledgments</h1>
<p id="rfc.section.5.p.1">We acknowledge the financial support by the EU in the context of the CONVERGENCE research project.</p>
<h1 id="rfc.section.6">
<a href="#rfc.section.6">6.</a> <a href="#perf-consider" id="perf-consider">Performance Considerations</a>
</h1>
<p></p>
<h1 id="rfc.section.7">
<a href="#rfc.section.7">7.</a> <a href="#iana" id="iana">IANA Considerations</a>
</h1>
<p id="rfc.section.7.p.1">This document requires the allocation of one IP option by the IANA.</p>
<p id="rfc.section.7.p.2">This document requires the allocation of one IP protocol number by the IANA.</p>
<p id="rfc.section.7.p.3">This document requires that IANA will maintain the registry of CONET namespaces.</p>
<h1 id="rfc.section.8">
<a href="#rfc.section.8">8.</a> <a href="#security" id="security">Security Considerations</a>
</h1>
<p id="rfc.section.8.p.1">Security considerations to be provided</p>
<h1 id="rfc.references">
<a href="#rfc.references">9.</a> References</h1>
<h1 id="rfc.references.1">
<a href="#rfc.references.1">9.1.</a> Normative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC2629">[RFC2629]</b></td>
<td class="top">
<a href="mailto:mrose@not.invisible.net" title="Invisible Worlds, Inc.">Rose, M.T.</a>, "<a href="http://tools.ietf.org/html/rfc2629">Writing I-Ds and RFCs using XML</a>", RFC 2629, June 1999.</td>
</tr>
<tr>
<td class="reference"><b id="RFC0791">[RFC0791]</b></td>
<td class="top">
<a title="University of Southern California (USC)/Information Sciences Institute">Postel, J.</a>, "<a href="http://tools.ietf.org/html/rfc791">Internet Protocol</a>", STD 5, RFC 791, September 1981.</td>
</tr>
<tr>
<td class="reference"><b id="RFC2460">[RFC2460]</b></td>
<td class="top">
<a href="mailto:deering@cisco.com" title="Cisco Systems, Inc.">Deering, S.E.</a> and <a href="mailto:hinden@iprg.nokia.com" title="Nokia">R.M. Hinden</a>, "<a href="http://tools.ietf.org/html/rfc2460">Internet Protocol, Version 6 (IPv6) Specification</a>", RFC 2460, December 1998.</td>
</tr>
</tbody></table>
<h1 id="rfc.references.2">
<a href="#rfc.references.2">9.2.</a> Informative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="Koponen07">[Koponen07]</b></td>
<td class="top">
<a>T. Koponen et al., </a>, "<a>A data-oriented (and beyond) network architecture</a>", Proc. of ACM SIGCOMM 2007 , 2007.</td>
</tr>
<tr>
<td class="reference"><b id="Jacobson09">[Jacobson09]</b></td>
<td class="top">
<a>V. Jacobson, et al., </a>, "<a>Networking named content</a>", Proc. of ACM CoNEXT 2009 , 2009.</td>
</tr>
<tr>
<td class="reference"><b id="CONET11">[CONET11]</b></td>
<td class="top">
<a>A. Detti, et al., </a>, "<a>CONET: A Content Centric Inter-Networking Architecture</a>", ACM SIGCOMM Workshop on Information-Centric Networking (ICN-2011), Toronto, Canada , August 2011.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.CONET">[I-D.CONET]</b></td>
<td class="top">
<a>Detti, A</a>, <a>Salsano, S</a> and <a>N Blefari-Melazzi</a>, "<a href="http://tools.ietf.org/html/draft-detti-conet-ip-option-01">An IPv4 Option to support Content Networking</a>", Internet-Draft draft-detti-conet-ip-option-01, September 2011.</td>
</tr>
<tr>
<td class="reference"><b id="RFC2581">[RFC2581]</b></td>
<td class="top">
<a href="mailto:mallman@grc.nasa.gov" title="NASA Glenn Research Center/Sterling Software">Allman, M.</a>, <a href="mailto:vern@aciri.org" title="ACIRI / ICSI">Paxson, V.</a> and <a href="mailto:rstevens@kohala.com">W. Stevens</a>, "<a href="http://tools.ietf.org/html/rfc2581">TCP Congestion Control</a>", RFC 2581, April 1999.</td>
</tr>
</tbody></table>
<h1 id="rfc.authors"><a href="#rfc.authors">Authors' Addresses</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Stefano Salsano</span> 
	  <span class="n hidden">
		<span class="family-name">Salsano</span>
	  </span>
	</span>
	<span class="org vcardline">Univ. of Rome "Tor Vergata"</span>
	<span class="adr">
	  <span>Via del Politecnico, 1</span>

	  <span class="vcardline">
		<span class="locality">Rome</span>,  
		<span class="region"></span>
		<span class="code">00133</span>
	  </span>
	  <span class="country-name vcardline">Italy</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:stefano.salsano@uniroma2.it">stefano.salsano@uniroma2.it</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Matteo Cancellieri</span> 
	  <span class="n hidden">
		<span class="family-name">Cancellieri</span>
	  </span>
	</span>
	<span class="org vcardline">Univ. of Rome "Tor Vergata"</span>
	<span class="adr">
	  <span>Via del Politecnico, 1</span>

	  <span class="vcardline">
		<span class="locality">Rome</span>,  
		<span class="region"></span>
		<span class="code">00133</span>
	  </span>
	  <span class="country-name vcardline">Italy</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:matteo.cancellieri@gmail.com">matteo.cancellieri@gmail.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Andrea Detti</span> 
	  <span class="n hidden">
		<span class="family-name">Detti</span>
	  </span>
	</span>
	<span class="org vcardline">Univ. of Rome "Tor Vergata"</span>
	<span class="adr">
	  <span>Via del Politecnico, 1</span>

	  <span class="vcardline">
		<span class="locality">Rome</span>,  
		<span class="region"></span>
		<span class="code">00133</span>
	  </span>
	  <span class="country-name vcardline">Italy</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:andrea.detti@uniroma2.it">andrea.detti@uniroma2.it</a></span>

  </address>
</div>

</body>
</html>