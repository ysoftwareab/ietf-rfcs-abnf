<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard%20http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>PRECIS Framework: Handling Internationalized Strings in Protocols</title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";3
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction">
<link href="#rfc.section.2" rel="Chapter" title="2 Terminology">
<link href="#rfc.section.3" rel="Chapter" title="3 String Classes">
<link href="#rfc.section.3.1" rel="Chapter" title="3.1 NameClass">
<link href="#rfc.section.3.1.1" rel="Chapter" title="3.1.1 Valid">
<link href="#rfc.section.3.1.2" rel="Chapter" title="3.1.2 Disallowed">
<link href="#rfc.section.3.1.3" rel="Chapter" title="3.1.3 Unassigned">
<link href="#rfc.section.3.1.4" rel="Chapter" title="3.1.4 Directionality">
<link href="#rfc.section.3.1.5" rel="Chapter" title="3.1.5 Case Mapping">
<link href="#rfc.section.3.1.6" rel="Chapter" title="3.1.6 Normalization">
<link href="#rfc.section.3.2" rel="Chapter" title="3.2 FreeClass">
<link href="#rfc.section.3.2.1" rel="Chapter" title="3.2.1 Valid">
<link href="#rfc.section.3.2.2" rel="Chapter" title="3.2.2 Disallowed">
<link href="#rfc.section.3.2.3" rel="Chapter" title="3.2.3 Unassigned">
<link href="#rfc.section.3.2.4" rel="Chapter" title="3.2.4 Directionality">
<link href="#rfc.section.3.2.5" rel="Chapter" title="3.2.5 Case Mapping">
<link href="#rfc.section.3.2.6" rel="Chapter" title="3.2.6 Normalization">
<link href="#rfc.section.4" rel="Chapter" title="4 Use of PRECIS String Classes">
<link href="#rfc.section.4.1" rel="Chapter" title="4.1 Principles">
<link href="#rfc.section.4.2" rel="Chapter" title="4.2 Subclassing">
<link href="#rfc.section.4.3" rel="Chapter" title="4.3 Registration">
<link href="#rfc.section.5" rel="Chapter" title="5 Code Point Properties">
<link href="#rfc.section.6" rel="Chapter" title="6 Category Definitions Used to Calculate Derived Property Value">
<link href="#rfc.section.6.1" rel="Chapter" title="6.1 LetterDigits (A)">
<link href="#rfc.section.6.2" rel="Chapter" title="6.2 Unstable (B)">
<link href="#rfc.section.6.3" rel="Chapter" title="6.3 IgnorableProperties (C)">
<link href="#rfc.section.6.4" rel="Chapter" title="6.4 IgnorableBlocks (D)">
<link href="#rfc.section.6.5" rel="Chapter" title="6.5 LDH (E)">
<link href="#rfc.section.6.6" rel="Chapter" title="6.6 Exceptions (F)">
<link href="#rfc.section.6.7" rel="Chapter" title="6.7 BackwardCompatible (G)">
<link href="#rfc.section.6.8" rel="Chapter" title="6.8 JoinControl (H)">
<link href="#rfc.section.6.9" rel="Chapter" title="6.9 OldHangulJamo (I)">
<link href="#rfc.section.6.10" rel="Chapter" title="6.10 Unassigned (J)">
<link href="#rfc.section.6.11" rel="Chapter" title="6.11 ASCII7 (K)">
<link href="#rfc.section.6.12" rel="Chapter" title="6.12 Controls (L)">
<link href="#rfc.section.6.13" rel="Chapter" title="6.13 PrecisIgnorableProperties (M)">
<link href="#rfc.section.6.14" rel="Chapter" title="6.14 Spaces (N)">
<link href="#rfc.section.6.15" rel="Chapter" title="6.15 Symbols (O)">
<link href="#rfc.section.6.16" rel="Chapter" title="6.16 Punctuation (P)">
<link href="#rfc.section.6.17" rel="Chapter" title="6.17 HasCompat (Q)">
<link href="#rfc.section.7" rel="Chapter" title="7 Calculation of the Derived Property">
<link href="#rfc.section.8" rel="Chapter" title="8 Code Points">
<link href="#rfc.section.9" rel="Chapter" title="9 IANA Considerations">
<link href="#rfc.section.9.1" rel="Chapter" title="9.1 PRECIS Derived Property Value Registry">
<link href="#rfc.section.9.2" rel="Chapter" title="9.2 PRECIS Usage Registry">
<link href="#rfc.section.10" rel="Chapter" title="10 Security Considerations">
<link href="#rfc.section.10.1" rel="Chapter" title="10.1 General Issues">
<link href="#rfc.section.10.2" rel="Chapter" title="10.2 Local Character Set Issues">
<link href="#rfc.section.10.3" rel="Chapter" title="10.3 Visually Similar Characters">
<link href="#rfc.section.10.4" rel="Chapter" title="10.4 Security of Passwords and Passphrases">
<link href="#rfc.section.11" rel="Chapter" title="11 Interoperability Considerations">
<link href="#rfc.section.12" rel="Chapter" title="12 Acknowledgements">
<link href="#rfc.section.13" rel="Chapter" title="13 Codepoints 0x0000 - 0x10FFFF">
<link href="#rfc.section.13.1" rel="Chapter" title="13.1 Codepoints in Unicode Character Database (UCD) format">
<link href="#rfc.references" rel="Chapter" title="14 References">
<link href="#rfc.references.1" rel="Chapter" title="14.1 Normative References">
<link href="#rfc.references.2" rel="Chapter" title="14.2 Informative References">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content=
  "http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.539, 2011-01-02 17:13:00, XSLT vendor: SAXON 6.5.5 from Michael Kay http://saxon.sf.net/" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />
  <meta name="dct.creator" content="Doe, J." />
  <meta name="dct.identifier" content="urn:ietf:id:draft-sample-input-00" />
  <meta name="dct.issued" scheme="ISO8601" content="2010-12" />
  
  <meta name="dct.abstract" content="Application protocols that make use of Unicode code points in protocol strings need to prepare such strings in order to perform comparison operations (e.g., for purposes of authentication or authorization).  In general, this problem has been labeled the "preparation and comparison of internationalized strings" or "PRECIS".  This document defines a framework that enables application protocols to prepare various classes of strings in a way that depends on the properties of Unicode code points.  Because this framework does not depend on large tables of Unicode code points as in stringprep (RFC 3454), it is more agile with regard to changes in the underlying Unicode database and thus provides improved flexibility to application protocols.  A specification that uses this framework either can directly use the base string classes defined in this document or can subclass the base string classes as needed.  This framework uses an approach similar to that of the revised internationalized domain names in applications (IDNA) technology (RFC 5890, RFC 5891, RFC 5892, RFC 5893, RFC 5894) and thus adheres to the high-level design goals described in RFC 4690, albeit for application technologies other than the Domain Name System (DNS).  This document obsoletes RFC 3454." />
  <meta name="description" content="Application protocols that make use of Unicode code points in protocol strings need to prepare such strings in order to perform comparison operations (e.g., for purposes of authentication or authorization).  In general, this problem has been labeled the "preparation and comparison of internationalized strings" or "PRECIS".  This document defines a framework that enables application protocols to prepare various classes of strings in a way that depends on the properties of Unicode code points.  Because this framework does not depend on large tables of Unicode code points as in stringprep (RFC 3454), it is more agile with regard to changes in the underlying Unicode database and thus provides improved flexibility to application protocols.  A specification that uses this framework either can directly use the base string classes defined in this document or can subclass the base string classes as needed.  This framework uses an approach similar to that of the revised internationalized domain names in applications (IDNA) technology (RFC 5890, RFC 5891, RFC 5892, RFC 5893, RFC 5894) and thus adheres to the high-level design goals described in RFC 4690, albeit for application technologies other than the Domain Name System (DNS).  This document obsoletes RFC 3454." />
  <meta name="keywords" content="" />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">Network Working Group</td>
<td class="right">M. Blanchet</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right">Viagenie</td>
</tr>
<tr>
<td class="left">Obsoletes: 3454 (if approved)</td>
<td class="right">P. Saint-Andre</td>
</tr>
<tr>
<td class="left">Intended status: Standards Track</td>
<td class="right">Cisco</td>
</tr>
<tr>
<td class="left">Expires: May 02, 2012</td>
<td class="right">October 30, 2011</td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">PRECIS Framework: Handling Internationalized Strings in Protocols<br />
  <span class="filename">draft-ietf-precis-framework-01</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>Application protocols that make use of Unicode code points in protocol strings need to prepare such strings in order to perform comparison operations (e.g., for purposes of authentication or authorization).  In general, this problem has been labeled the "preparation and comparison of internationalized strings" or "PRECIS".  This document defines a framework that enables application protocols to prepare various classes of strings in a way that depends on the properties of Unicode code points.  Because this framework does not depend on large tables of Unicode code points as in stringprep (RFC 3454), it is more agile with regard to changes in the underlying Unicode database and thus provides improved flexibility to application protocols.  A specification that uses this framework either can directly use the base string classes defined in this document or can subclass the base string classes as needed.  This framework uses an approach similar to that of the revised internationalized domain names in applications (IDNA) technology (RFC 5890, RFC 5891, RFC 5892, RFC 5893, RFC 5894) and thus adheres to the high-level design goals described in RFC 4690, albeit for application technologies other than the Domain Name System (DNS).  This document obsoletes RFC 3454.</p>
<h1 id="rfc.status"><a href="#rfc.status">Status of this Memo</a></h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet- Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on May 02, 2012.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2011 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a>
</li>
<li>2.   <a href="#rfc.section.2">Terminology</a>
</li>
<li>3.   <a href="#rfc.section.3">String Classes</a>
</li>
<li>3.1.   <a href="#rfc.section.3.1">NameClass</a>
</li>
<li>3.1.1.   <a href="#rfc.section.3.1.1">Valid</a>
</li>
<li>3.1.2.   <a href="#rfc.section.3.1.2">Disallowed</a>
</li>
<li>3.1.3.   <a href="#rfc.section.3.1.3">Unassigned</a>
</li>
<li>3.1.4.   <a href="#rfc.section.3.1.4">Directionality</a>
</li>
<li>3.1.5.   <a href="#rfc.section.3.1.5">Case Mapping</a>
</li>
<li>3.1.6.   <a href="#rfc.section.3.1.6">Normalization</a>
</li>
<li>3.2.   <a href="#rfc.section.3.2">FreeClass</a>
</li>
<li>3.2.1.   <a href="#rfc.section.3.2.1">Valid</a>
</li>
<li>3.2.2.   <a href="#rfc.section.3.2.2">Disallowed</a>
</li>
<li>3.2.3.   <a href="#rfc.section.3.2.3">Unassigned</a>
</li>
<li>3.2.4.   <a href="#rfc.section.3.2.4">Directionality</a>
</li>
<li>3.2.5.   <a href="#rfc.section.3.2.5">Case Mapping</a>
</li>
<li>3.2.6.   <a href="#rfc.section.3.2.6">Normalization</a>
</li>
<li>4.   <a href="#rfc.section.4">Use of PRECIS String Classes</a>
</li>
<li>4.1.   <a href="#rfc.section.4.1">Principles</a>
</li>
<li>4.2.   <a href="#rfc.section.4.2">Subclassing</a>
</li>
<li>4.3.   <a href="#rfc.section.4.3">Registration</a>
</li>
<li>5.   <a href="#rfc.section.5">Code Point Properties</a>
</li>
<li>6.   <a href="#rfc.section.6">Category Definitions Used to Calculate Derived Property Value</a>
</li>
<li>6.1.   <a href="#rfc.section.6.1">LetterDigits (A)</a>
</li>
<li>6.2.   <a href="#rfc.section.6.2">Unstable (B)</a>
</li>
<li>6.3.   <a href="#rfc.section.6.3">IgnorableProperties (C)</a>
</li>
<li>6.4.   <a href="#rfc.section.6.4">IgnorableBlocks (D)</a>
</li>
<li>6.5.   <a href="#rfc.section.6.5">LDH (E)</a>
</li>
<li>6.6.   <a href="#rfc.section.6.6">Exceptions (F)</a>
</li>
<li>6.7.   <a href="#rfc.section.6.7">BackwardCompatible (G)</a>
</li>
<li>6.8.   <a href="#rfc.section.6.8">JoinControl (H)</a>
</li>
<li>6.9.   <a href="#rfc.section.6.9">OldHangulJamo (I)</a>
</li>
<li>6.10.   <a href="#rfc.section.6.10">Unassigned (J)</a>
</li>
<li>6.11.   <a href="#rfc.section.6.11">ASCII7 (K)</a>
</li>
<li>6.12.   <a href="#rfc.section.6.12">Controls (L)</a>
</li>
<li>6.13.   <a href="#rfc.section.6.13">PrecisIgnorableProperties (M)</a>
</li>
<li>6.14.   <a href="#rfc.section.6.14">Spaces (N)</a>
</li>
<li>6.15.   <a href="#rfc.section.6.15">Symbols (O)</a>
</li>
<li>6.16.   <a href="#rfc.section.6.16">Punctuation (P)</a>
</li>
<li>6.17.   <a href="#rfc.section.6.17">HasCompat (Q)</a>
</li>
<li>7.   <a href="#rfc.section.7">Calculation of the Derived Property</a>
</li>
<li>8.   <a href="#rfc.section.8">Code Points</a>
</li>
<li>9.   <a href="#rfc.section.9">IANA Considerations</a>
</li>
<li>9.1.   <a href="#rfc.section.9.1">PRECIS Derived Property Value Registry</a>
</li>
<li>9.2.   <a href="#rfc.section.9.2">PRECIS Usage Registry</a>
</li>
<li>10.   <a href="#rfc.section.10">Security Considerations</a>
</li>
<li>10.1.   <a href="#rfc.section.10.1">General Issues</a>
</li>
<li>10.2.   <a href="#rfc.section.10.2">Local Character Set Issues</a>
</li>
<li>10.3.   <a href="#rfc.section.10.3">Visually Similar Characters</a>
</li>
<li>10.4.   <a href="#rfc.section.10.4">Security of Passwords and Passphrases</a>
</li>
<li>11.   <a href="#rfc.section.11">Interoperability Considerations</a>
</li>
<li>12.   <a href="#rfc.section.12">Acknowledgements</a>
</li>
<li>13.   <a href="#rfc.section.13">Codepoints 0x0000 - 0x10FFFF</a>
</li>
<li>13.1.   <a href="#rfc.section.13.1">Codepoints in Unicode Character Database (UCD) format</a>
</li>
<li>14.   <a href="#rfc.references">References</a>
</li>
<li>14.1.   <a href="#rfc.references.1">Normative References</a>
</li>
<li>14.2.   <a href="#rfc.references.2">Informative References</a>
</li>
<li><a href="#rfc.authors">Authors' Addresses</a>
</li>


  </ul>

  <h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> <a href="#intro" id="intro">Introduction</a>
</h1>
<p id="rfc.section.1.p.1">A number of IETF application technologies use stringprep <a href="#RFC3454">[RFC3454]</a> as the basis for comparing protocol strings that contain Unicode characters or "code points" <a href="#UNICODE">[UNICODE]</a>.  Since the publication of <a href="#RFC3454">[RFC3454]</a> in 2002, the Internet community has gained much more experience with internationalization, some of it reflected in <a href="#RFC4690">[RFC4690]</a>.  In particular, the IETF's technology for internationalized domain names (IDNs) has changed significantly: IDNA2003 <a href="#RFC3490">[RFC3490]</a>, which was based on stringprep, has been superseded by IDNA2008 (<a href="#RFC5890">[RFC5890]</a>, <a href="#RFC5891">[RFC5891]</a>, <a href="#RFC5892">[RFC5892]</a>, <a href="#RFC5893">[RFC5893]</a>, <a href="#RFC5894">[RFC5894]</a>), which does not use stringprep.  This migration away from stringprep for internationalized domain names has prompted other "customers" of stringprep to consider new approaches to the preparation and comparison of internationalized strings ("PRECIS"), as described in <a href="#PROBLEM">[PROBLEM]</a>.</p>
<p id="rfc.section.1.p.2">This document proposes a technical framework for a post-stringprep approach to the preparation and comparison of internationalized strings in application protocols.  The framework is based on several principles:</p>
<p></p>

<ol>
<li>Define a small set of base string classes appropriate for common application protocol constructs such as usernames and free-form strings.<br><br>
</li>
<li>Define each base string class in terms of Unicode code points and their properties, specifying whether each code point or character category is valid, disallowed, or unassigned.<br><br>
</li>
<li>Enable application protocols to subclass the base string classes, mainly to disallow particular code points that are currently disallowed in the relevant application protocol (e.g., characters with special or reserved meaning, such as "@" and "/" when used as separators within identifiers).<br><br>
</li>
<li>Leave various mapping operations (e.g., case preservation or lowercasing, Unicode normalization, right-to-left characters) as the responsibility of application protocols, as was done for IDNA2008 via <a href="#RFC5895">[RFC5895]</a>.</li>
</ol>

<p> </p>
<p id="rfc.section.1.p.4">It is expected that this framework will yield the following benefits:</p>
<p></p>

<ul>
<li>Application protocols will be more version-agile with regard to the Unicode database.</li>
<li>Implementers will be able to share code point tables and software code across application protocols, most likely by means of software libraries.</li>
<li>End users will be able to acquire more accurate expectations about the code points that are acceptable in various contexts.  Given this more uniform set of string classes, it is also expected that copy/paste operations between software implementing different application protocols will be more predictable and coherent.</li>
</ul>

<p> </p>
<p id="rfc.section.1.p.6">Although this framework is similar to IDNA2008 and borrows some of the character categories defined in <a href="#RFC5892">[RFC5892]</a>, it defines additional string classes and character categories to meet the needs of common application protocols.</p>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> <a href="#terms" id="terms">Terminology</a>
</h1>
<p id="rfc.section.2.p.1">Many important terms used in this document are defined in <a href="#PROBLEM">[PROBLEM]</a>, <a href="#RFC6365">[RFC6365]</a>, <a href="#RFC5890">[RFC5890]</a>, and <a href="#UNICODE">[UNICODE]</a>.</p>
<p id="rfc.section.2.p.2">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a href="#RFC2119">[RFC2119]</a>.</p>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> <a href="#classes" id="classes">String Classes</a>
</h1>
<p id="rfc.section.3.p.1">IDNA2008 essentially defines a base string class of internationalized domain name, although it does not use the term "string class".  (This document does not define a string class for domain names, and application protocols are strongly encouraged to use IDNA2008 as the appropriate method to prepare domain names and hostnames.)</p>
<p id="rfc.section.3.p.2">We propose the following additional base string classes for use in application protocols:</p>
<p></p>

<dl>
<dt>NameClass:</dt>
<dd style="margin-left: 8">a sequence of letters, numbers, and symbols that is used to identify or address a network entity such as a user, an account, a venue (e.g., a chatroom), an information source (e.g., a data feed), or a collection of data (e.g., a file).<br><br>
</dd>
<dt>FreeClass:</dt>
<dd style="margin-left: 8">a sequence of letters, numbers, symbols, spaces, and other code points that is used for free-form strings, including passwords and passphrases as well as display elements such as a human-friendly nickname in a chatroom.</dd>
</dl>

<p> </p>
<p id="rfc.section.3.p.4">Note: <a href="#PROBLEM">[PROBLEM]</a> mentions a class of "string blobs" containing "elements of the protocol that look like strings to users, but that are passed around in the protocol unchanged and that cannot be used for comparison or other purposes."  It is an open question whether application protocols need to apply preparation and comparison rules to such strings.</p>
<p id="rfc.section.3.p.5">The following subsections discuss these string classes in more detail, with reference to the dimensions described in Section 3 of <a href="#PROBLEM">[PROBLEM]</a>.</p>
<p id="rfc.section.3.p.6">Each string class is defined by the following behavioral rules:</p>
<p></p>

<dl>
<dt>Valid:</dt>
<dd style="margin-left: 8">defines which code points and character categories are treated as valid input to preparation of the string.<br><br>
</dd>
<dt>Disallowed:</dt>
<dd style="margin-left: 8">defines which code points and character categories are treated as disallowed during preparation of the string.<br><br>
</dd>
<dt>Unassigned:</dt>
<dd style="margin-left: 8">defines application behavior in the presence of code points that are unassigned, i.e. unknown for the version of Unicode the application is built upon.<br><br>
</dd>
<dt>Directionality:</dt>
<dd style="margin-left: 8">defines application behavior in the presence of code points that have directionality, in particular right-to-left code points as defined in the Unicode database (see <a href="#UAX9">[UAX9]</a>).<br><br>
</dd>
<dt>Casemapping:</dt>
<dd style="margin-left: 8">defines if case mapping is used for this class, and how the mapping is done.<br><br>
</dd>
<dt>Normalization:</dt>
<dd style="margin-left: 8">defines which Unicode normalization form (D, KD, C, or KC) is to be applied (see <a href="#UAX15">[UAX15]</a>).</dd>
</dl>

<p> </p>
<p id="rfc.section.3.p.8">This document defines the valid, disallowed, and unassigned rules.  Application protocols that use the PRECIS string classes MUST define the directionality, casemapping, and normalization rules, as further described under <a href="#iana-usage">Section 9.2</a>.</p>
<h1 id="rfc.section.3.1">
<a href="#rfc.section.3.1">3.1.</a> <a href="#classes-name" id="classes-name">NameClass</a>
</h1>
<p id="rfc.section.3.1.p.1">Most application technologies need a special class of strings that can be used to refer to, include, or communicate things like usernames, file names, data feed names, and chatroom names.  We group such things into a bucket called "NameClass" having the following features.</p>
<h1 id="rfc.section.3.1.1">
<a href="#rfc.section.3.1.1">3.1.1.</a> <a href="#classes-name-valid" id="classes-name-valid">Valid</a>
</h1>
<p></p>

<ul>
<li>Letters and numbers, i.e., the LetterDigits ("A") category first defined in <a href="#RFC5892">[RFC5892]</a> and listed here under <a href="#A">Section 6.1</a>.</li>
<li>Code points in the range U+0021 through U+007E, i.e., the ASCII7 ("K") rule defined under <a href="#K">Section 6.11</a>.  These code points are valid even if they would otherwise be disallowed according to the property-based rules specified in the next section.</li>
</ul>

<p> </p>
<h1 id="rfc.section.3.1.2">
<a href="#rfc.section.3.1.2">3.1.2.</a> <a href="#classes-name-disallowed" id="classes-name-disallowed">Disallowed</a>
</h1>
<p></p>

<ul>
<li>Control characters, i.e., the Controls ("L") category defined under <a href="#L">Section 6.12</a>.</li>
<li>Space characters, i.e., the Spaces ("N") category defined under <a href="#N">Section 6.14</a>.</li>
<li>Symbol characters, i.e., the Symbols ("O") category defined under <a href="#O">Section 6.15</a>.</li>
<li>Punctuation characters, i.e., the Punctuation ("P") category defined under <a href="#P">Section 6.16</a>.</li>
<li>Any character that has a compatibility equivalent, i.e., the HasCompat ("Q") category defined under <a href="#Q">Section 6.17</a>.  These code points are disallowed even if they would otherwise be valid according to the property-based rules specified in the previous section.</li>
</ul>

<p> </p>
<h1 id="rfc.section.3.1.3">
<a href="#rfc.section.3.1.3">3.1.3.</a> <a href="#classes-name-unassigned" id="classes-name-unassigned">Unassigned</a>
</h1>
<p id="rfc.section.3.1.3.p.1">Any code points that are not yet assigned in the Unicode character set SHALL be considered Unassigned for purposes of the NameClass.</p>
<h1 id="rfc.section.3.1.4">
<a href="#rfc.section.3.1.4">3.1.4.</a> <a href="#classes-name-directionality" id="classes-name-directionality">Directionality</a>
</h1>
<p id="rfc.section.3.1.4.p.1">The directionality rule MUST be specified by each application protocol that uses or subclasses the NameClass.</p>
<h1 id="rfc.section.3.1.5">
<a href="#rfc.section.3.1.5">3.1.5.</a> <a href="#classes-name-mapping" id="classes-name-mapping">Case Mapping</a>
</h1>
<p id="rfc.section.3.1.5.p.1">The casemapping rule MUST be specified by each application protocol that uses or subclasses the NameClass.</p>
<h1 id="rfc.section.3.1.6">
<a href="#rfc.section.3.1.6">3.1.6.</a> <a href="#classes-name-normalization" id="classes-name-normalization">Normalization</a>
</h1>
<p id="rfc.section.3.1.6.p.1">The normalization form MUST be specified by each application protocol that uses or subclasses the NameClass.</p>
<p id="rfc.section.3.1.6.p.2">However, in accordance with <a href="#RFC5198">[RFC5198]</a>, normalization form C (NFC) is RECOMMENDED.</p>
<h1 id="rfc.section.3.2">
<a href="#rfc.section.3.2">3.2.</a> <a href="#classes-free" id="classes-free">FreeClass</a>
</h1>
<p id="rfc.section.3.2.p.1">Some application technologies need a special class of strings that can be used in a free-form way (e.g., as a passphrase or a nickname in a chatroom).  We group such things into a bucket called "FreeClass" having the following features.</p>
<p id="rfc.section.3.2.p.2">NOTE: Consult <a href="#security-secrets">Section 10.4</a> for relevant security considerations when strings conforming to the FreeClass, or a subclass thereof, are used as passwords or passphrases.</p>
<h1 id="rfc.section.3.2.1">
<a href="#rfc.section.3.2.1">3.2.1.</a> <a href="#classes-free-valid" id="classes-free-valid">Valid</a>
</h1>
<p></p>

<ul>
<li>Letters and numbers, i.e., the LetterDigits ("A") category first defined in <a href="#RFC5892">[RFC5892]</a> and listed here under <a href="#A">Section 6.1</a>.</li>
<li>Code points in the range U+0021 through U+007E, i.e., the ASCII7 ("K") rule defined under <a href="#K">Section 6.11</a>.</li>
<li>Any character that has a compatibility equivalent, i.e., the HasCompat ("Q") category defined under <a href="#Q">Section 6.17</a>.</li>
<li>Space characters, i.e., the Spaces ("N") category defined under <a href="#N">Section 6.14</a>.</li>
<li>Symbol characters, i.e., the Symbols ("O") category defined under <a href="#O">Section 6.15</a>.</li>
<li>Punctuation characters, i.e., the Punctuation ("P") category defined under <a href="#P">Section 6.16</a>.</li>
</ul>

<p> </p>
<h1 id="rfc.section.3.2.2">
<a href="#rfc.section.3.2.2">3.2.2.</a> <a href="#classes-free-disallowed" id="classes-free-disallowed">Disallowed</a>
</h1>
<p></p>

<ul><li>Control characters, i.e., the Controls ("L") category defined under <a href="#L">Section 6.12</a>.</li></ul>

<p> </p>
<h1 id="rfc.section.3.2.3">
<a href="#rfc.section.3.2.3">3.2.3.</a> <a href="#classes-free-unassigned" id="classes-free-unassigned">Unassigned</a>
</h1>
<p id="rfc.section.3.2.3.p.1">Any code points that are not yet assigned in the Unicode character set SHALL be considered Unassigned for purposes of the FreeClass.</p>
<h1 id="rfc.section.3.2.4">
<a href="#rfc.section.3.2.4">3.2.4.</a> <a href="#classes-free-directionality" id="classes-free-directionality">Directionality</a>
</h1>
<p id="rfc.section.3.2.4.p.1">The directionality rule MUST be specified by each application protocol that uses or subclasses the FreeClass.</p>
<h1 id="rfc.section.3.2.5">
<a href="#rfc.section.3.2.5">3.2.5.</a> <a href="#classes-free-mapping" id="classes-free-mapping">Case Mapping</a>
</h1>
<p id="rfc.section.3.2.5.p.1">The casemapping rule MUST be specified by each application protocol that uses or subclasses the FreeClass.</p>
<p id="rfc.section.3.2.5.p.2">In order to maximize entropy, it is NOT RECOMMENDED for application protocols to map uppercase and titlecase code points to their lowercase equivalents when strings conforming to the FreeClass, or a subclass thereof, are used in passwords or passphrases; instead, it is RECOMMENDED to preserve the case of all code points contained in such strings.</p>
<h1 id="rfc.section.3.2.6">
<a href="#rfc.section.3.2.6">3.2.6.</a> <a href="#classes-free-normalization" id="classes-free-normalization">Normalization</a>
</h1>
<p id="rfc.section.3.2.6.p.1">The normalization form MUST be specified by each application protocol that uses or subclasses the FreeClass.</p>
<p id="rfc.section.3.2.6.p.2">However, in accordance with <a href="#RFC5198">[RFC5198]</a>, normalization form C (NFC) is RECOMMENDED.</p>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> <a href="#use" id="use">Use of PRECIS String Classes</a>
</h1>
<h1 id="rfc.section.4.1">
<a href="#rfc.section.4.1">4.1.</a> <a href="#use-principles" id="use-principles">Principles</a>
</h1>
<p id="rfc.section.4.1.p.1">This document defines the valid, disallowed, and unassigned rules.  Application protocols that use the PRECIS string classes MUST define the directionality, casemapping, and normalization rules.  Such definitions MUST at a minimum specify the following:</p>
<p></p>

<dl>
<dt>Directionality:</dt>
<dd style="margin-left: 8">Whether any instance of the class that contains a right-to-left code point is to be considered a right-to-left string, or whether some other rule is to be applied (e.g., the "Bidi Rule" from <a href="#RFC5893">[RFC5893]</a>).<br><br>
</dd>
<dt>Casemapping:</dt>
<dd style="margin-left: 8">Whether uppercase and titlecase code points are to be (a) preserved or (b) mapped to lowercase.<br><br>
</dd>
<dt>Normalization:</dt>
<dd style="margin-left: 8">Which Unicode normalization form (D, KD, C, or KC) is to be applied (see <a href="#UAX15">[UAX15]</a> for background information); in accordance with <a href="#RFC5198">[RFC5198]</a>, NFC is RECOMMENDED.</dd>
</dl>

<p> </p>
<h1 id="rfc.section.4.2">
<a href="#rfc.section.4.2">4.2.</a> <a href="#use-subclassing" id="use-subclassing">Subclassing</a>
</h1>
<p id="rfc.section.4.2.p.1">Application protocols are allowed to subclass the base string classes specified in this document.  As the word "subclass" implies, a subclass MUST NOT add as valid any code points or character categories that are disallowed by the base string class.  However, a subclass MAY do either of the following:</p>
<p></p>

<ol>
<li>Exclude specific code points that are included in the base string class.</li>
<li>Exclude characters matching certain Unicode properties (e.g., math symbols) that are included in the base string class.</li>
</ol>

<p> </p>
<h1 id="rfc.section.4.3">
<a href="#rfc.section.4.3">4.3.</a> <a href="#use-registration" id="use-registration">Registration</a>
</h1>
<p id="rfc.section.4.3.p.1">Application protocols that use the PRECIS string classes MUST register with the IANA as described under <a href="#iana-usage">Section 9.2</a>.  This is especially important for protocols that subclass the PRECIS string classes.</p>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> Code Point Properties</h1>
<p id="rfc.section.5.p.1">In order to implement the string classes described above, this document does the following:</p>
<p></p>

<ol>
<li>Reviews and classifies the collections of code points in the Unicode character set by examining various code point properties.<br><br>
</li>
<li>Defines an algorithm for determining a derived property value, which can vary depending on the string class being used by the relevant application protocol.</li>
</ol>

<p> </p>
<p id="rfc.section.5.p.3">This document is not intended to specify precisely how derived property values are to be applied in protocol strings.  That information should be defined in the protocol specification that uses or subclasses a base string class from this document.</p>
<p id="rfc.section.5.p.4">The value of the property is to be interpreted as follows.</p>
<p></p>

<dl>
<dt>PROTOCOL VALID</dt>
<dd style="margin-left: 8">Those code points that are allowed to be used in any PRECIS string class (NameClass and FreeClass).  Code points with this property value are permitted for general use in any string class.  The abbreviated term PVALID is used to refer to this value in the remainder of this document.<br><br>
</dd>
<dt>SPECIFIC CLASS PROTOCOL VALID</dt>
<dd style="margin-left: 8">Those code points that are allowed to be used in specific string classes. Code points with this property value are permitted for use in specific string classes.  In the remainder of this document, the abbreviated term *_PVALID is used, where * = (NAMECLASS | SECRETCLASS | FREECLASS).<br><br>
</dd>
<dt>CONTEXTUAL RULE REQUIRED</dt>
<dd style="margin-left: 8">Some characteristics of the character, such as its being invisible in certain contexts or problematic in others, require that it not be used in labels unless specific other characters or properties are present.  The abbreviated term CONTEXT is used to refer to this value in the remainder of this document.  There are two subdivisions of CONTEXTUAL RULE REQUIRED, the first for Join_controls (called CONTEXTJ) and the second for other characters (called CONTEXTO).<br><br>
</dd>
<dt>DISALLOWED</dt>
<dd style="margin-left: 8">Those code points that must not be included in any string class.  Code points with this property value are not permitted in any string class.<br><br>
</dd>
<dt>SPECIFIC CLASS DISALLOWED</dt>
<dd style="margin-left: 8">Those code points that are not to be included in a specific string class.  Code points with this property value are not permitted in one of the string classes but might be permitted in others.  In the remainder of this document, the abbreviated term *_DISALLOWED is used, where * = (NAMECLASS | SECRETCLASS | FREECLASS).<br><br>
</dd>
<dt>UNASSIGNED</dt>
<dd style="margin-left: 8">Those code points that are not designated (i.e. are unassigned) in the Unicode Standard.</dd>
</dl>

<p> </p>
<p id="rfc.section.5.p.6">The mechanisms described here allow determination of the value of the property for future versions of Unicode (including characters added after Unicode 5.2 or 6.0 depending on the category, since some categories in this document are reused from IDNA2008).  Changes in Unicode properties that do not affect the outcome of this process do not affect this framework.  For example, a character can have its Unicode General_Category value <a href="#UNICODE">[UNICODE]</a> change from So to Sm, or from Lo to Ll, without affecting the algorithm results.  Moreover, even if such changes were to result, the <a href="#G">BackwardCompatible list</a> <cite title="NONE">[G]</cite> can be adjusted to ensure the stability of the results.</p>
<p id="rfc.section.5.p.7">Some code points need to be allowed in exceptional circumstances, but should be excluded in all other cases; these rules are also described in other documents.  The most notable of these are the Join Control characters, U+200D ZERO WIDTH JOINER and U+200C ZERO WIDTH NON-JOINER.  Both of them have the derived property value CONTEXTJ.  A character with the derived property value CONTEXTJ or CONTEXTO (CONTEXTUAL RULE REQUIRED) is not to be used unless an appropriate rule has been established and the context of the character is consistent with that rule.  It is invalid to generate a string containing these characters unless such a contextual rule is found and satisfied.  PRECIS does not define its own contextual rules, but instead re-uses the contextual rules defined for IDNA2008; please see Appendix A of <a href="#RFC5892">[RFC5892]</a> for more information.</p>
<h1 id="rfc.section.6">
<a href="#rfc.section.6">6.</a> <a href="#categories" id="categories">Category Definitions Used to Calculate Derived Property Value</a>
</h1>
<p id="rfc.section.6.p.1">The derived property obtains its value based on a two-step procedure:</p>
<p></p>

<ol>
<li>Characters are placed in one or more character categories either (1) based on core properties defined by the Unicode Standard or (2) by treating the code point as an exception and addressing the code point as its code point value.  These categories are not mutually exclusive.<br><br>
</li>
<li>Set operations are used with these categories to determine the values for a property that is specific to a given string class. These operations are specified under <a href="#PropertyCalculation">Section 7</a>.</li>
</ol>

<p> </p>
<p id="rfc.section.6.p.3">(NOTE: Unicode property names and property value names might have short abbreviations, such as "gc" for the General_Category property and "Ll" for the Lowercase_Letter property value of the gc property.)</p>
<p id="rfc.section.6.p.4">In the following specification of character categories, the operation that returns the value of a particular Unicode character property for a code point is designated by using the formal name of that property (from the Unicode <a href="http://unicode.org/Public/UNIDATA/PropertyAliases.txt">PropertyAliases.txt</a>) followed by '(cp)' for "code point".  For example, the value of the General_Category property for a code point is indicated by General_Category(cp).</p>
<p id="rfc.section.6.p.5">The first ten categories (A-J) shown below were previously defined for IDNA2008 and are copied directly from <a href="#RFC5892">[RFC5892]</a>.  Some of these categories are reused in PRECIS and some of them are not; however, the lettering of categories is retained to prevent overlap and to ease implementation of both IDNA2008 and PRECIS in a single software application.  The next seven categories (K-Q) are specific to PRECIS.</p>
<h1 id="rfc.section.6.1">
<a href="#rfc.section.6.1">6.1.</a> <a href="#A" id="A">LetterDigits (A)</a>
</h1>
<p id="rfc.section.6.1.p.1">NOTE: This category is defined in <a href="#RFC5892">[RFC5892]</a> and copied here for use in PRECIS.</p>
<div id="#rfc.figure.1"></div>
<pre>
A: General_Category(cp) is in {Ll, Lu, Lo, Nd, Lm, Mn, Mc}
            </pre>
<p id="rfc.section.6.1.p.2">These rules identify characters commonly used in mnemonics and often informally described as "language characters".</p>
<p id="rfc.section.6.1.p.3">For more information, see section 4.5 of <a href="#UNICODE">[UNICODE]</a>.</p>
<p id="rfc.section.6.1.p.4">The categories used in this rule are: </p>

<ul>
<li>Ll - Lowercase_Letter</li>
<li>Lu - Uppercase_Letter</li>
<li>Lo - Other_Letter</li>
<li>Nd - Decimal_Number</li>
<li>Lm - Modifier_Letter</li>
<li>Mn - Nonspacing_Mark</li>
<li>Mc - Spacing_Mark</li>
</ul>

<p> </p>
<h1 id="rfc.section.6.2">
<a href="#rfc.section.6.2">6.2.</a> <a href="#B" id="B">Unstable (B)</a>
</h1>
<p id="rfc.section.6.2.p.1">NOTE: This category is defined in <a href="#RFC5892">[RFC5892]</a> but not used in PRECIS.</p>
<h1 id="rfc.section.6.3">
<a href="#rfc.section.6.3">6.3.</a> <a href="#C" id="C">IgnorableProperties (C)</a>
</h1>
<p id="rfc.section.6.3.p.1">NOTE: This category is defined in <a href="#RFC5892">[RFC5892]</a> but not used in PRECIS.  See the "PrecisIgnorableProperties (M)" category below for a more inclusive category used in PRECIS identifiers.</p>
<h1 id="rfc.section.6.4">
<a href="#rfc.section.6.4">6.4.</a> <a href="#D" id="D">IgnorableBlocks (D)</a>
</h1>
<p id="rfc.section.6.4.p.1">NOTE: This category is defined in <a href="#RFC5892">[RFC5892]</a> but not used in PRECIS.</p>
<h1 id="rfc.section.6.5">
<a href="#rfc.section.6.5">6.5.</a> <a href="#E" id="E">LDH (E)</a>
</h1>
<p id="rfc.section.6.5.p.1">NOTE: This category is defined in <a href="#RFC5892">[RFC5892]</a> but not used in PRECIS.  See the "ASCII7 (K)" category below for a more inclusive category used in PRECIS identifiers.</p>
<h1 id="rfc.section.6.6">
<a href="#rfc.section.6.6">6.6.</a> <a href="#F" id="F">Exceptions (F)</a>
</h1>
<p id="rfc.section.6.6.p.1">NOTE: This category is defined in <a href="#RFC5892">[RFC5892]</a> and might be used in a future version of this specification.</p>
<div id="#rfc.figure.2"></div>
<pre>
F: cp is in {00B7, 00DF, 0375, 03C2, 05F3, 05F4, 0640, 0660,
             0661, 0662, 0663, 0664, 0665, 0666, 0667, 0668,
             0669, 06F0, 06F1, 06F2, 06F3, 06F4, 06F5, 06F6,
             06F7, 06F8, 06F9, 06FD, 06FE, 07FA, 0F0B, 3007,
             302E, 302F, 3031, 3032, 3033, 3034, 3035, 303B,
             30FB}
            </pre>
<p id="rfc.section.6.6.p.2">This category explicitly lists code points for which the category cannot be assigned using only the core property values that exist in the Unicode standard.  The values are according to the table below:</p>
<div id="#rfc.figure.3"></div>
<pre>
PVALID -- Would otherwise have been DISALLOWED

00DF; PVALID     # LATIN SMALL LETTER SHARP S
03C2; PVALID     # GREEK SMALL LETTER FINAL SIGMA
06FD; PVALID     # ARABIC SIGN SINDHI AMPERSAND
06FE; PVALID     # ARABIC SIGN SINDHI POSTPOSITION MEN
0F0B; PVALID     # TIBETAN MARK INTERSYLLABIC TSHEG
3007; PVALID     # IDEOGRAPHIC NUMBER ZERO

CONTEXTO -- Would otherwise have been DISALLOWED

00B7; CONTEXTO   # MIDDLE DOT
0375; CONTEXTO   # GREEK LOWER NUMERAL SIGN (KERAIA)
05F3; CONTEXTO   # HEBREW PUNCTUATION GERESH
05F4; CONTEXTO   # HEBREW PUNCTUATION GERSHAYIM
30FB; CONTEXTO   # KATAKANA MIDDLE DOT

CONTEXTO -- Would otherwise have been PVALID

0660; CONTEXTO   # ARABIC-INDIC DIGIT ZERO
0661; CONTEXTO   # ARABIC-INDIC DIGIT ONE
0662; CONTEXTO   # ARABIC-INDIC DIGIT TWO
0663; CONTEXTO   # ARABIC-INDIC DIGIT THREE
0664; CONTEXTO   # ARABIC-INDIC DIGIT FOUR
0665; CONTEXTO   # ARABIC-INDIC DIGIT FIVE
0666; CONTEXTO   # ARABIC-INDIC DIGIT SIX
0667; CONTEXTO   # ARABIC-INDIC DIGIT SEVEN
0668; CONTEXTO   # ARABIC-INDIC DIGIT EIGHT
0669; CONTEXTO   # ARABIC-INDIC DIGIT NINE
06F0; CONTEXTO   # EXTENDED ARABIC-INDIC DIGIT ZERO
06F1; CONTEXTO   # EXTENDED ARABIC-INDIC DIGIT ONE
06F2; CONTEXTO   # EXTENDED ARABIC-INDIC DIGIT TWO
06F3; CONTEXTO   # EXTENDED ARABIC-INDIC DIGIT THREE
06F4; CONTEXTO   # EXTENDED ARABIC-INDIC DIGIT FOUR
06F5; CONTEXTO   # EXTENDED ARABIC-INDIC DIGIT FIVE
06F6; CONTEXTO   # EXTENDED ARABIC-INDIC DIGIT SIX
06F7; CONTEXTO   # EXTENDED ARABIC-INDIC DIGIT SEVEN
06F8; CONTEXTO   # EXTENDED ARABIC-INDIC DIGIT EIGHT
06F9; CONTEXTO   # EXTENDED ARABIC-INDIC DIGIT NINE

DISALLOWED -- Would otherwise have been PVALID

0640; DISALLOWED # ARABIC TATWEEL
07FA; DISALLOWED # NKO LAJANYALAN
302E; DISALLOWED # HANGUL SINGLE DOT TONE MARK
302F; DISALLOWED # HANGUL DOUBLE DOT TONE MARK
3031; DISALLOWED # VERTICAL KANA REPEAT MARK
3032; DISALLOWED # VERTICAL KANA REPEAT WITH VOICED SOUND MARK
3033; DISALLOWED # VERTICAL KANA REPEAT MARK UPPER HALF
3034; DISALLOWED # VERTICAL KANA REPEAT WITH VOICED SOUND MARK 
                   UPPER HA
3035; DISALLOWED # VERTICAL KANA REPEAT MARK LOWER HALF
303B; DISALLOWED # VERTICAL IDEOGRAPHIC ITERATION MARK
            </pre>
<h1 id="rfc.section.6.7">
<a href="#rfc.section.6.7">6.7.</a> <a href="#G" id="G">BackwardCompatible (G)</a>
</h1>
<p id="rfc.section.6.7.p.1">NOTE: This category is defined in <a href="#RFC5892">[RFC5892]</a> and copied here for use in PRECIS.  Because of how the PRECIS string classes are defined, only changes that would result in code points being added to or removed from the LetterDigits ("A") category would result in backward-incompatible modifications to code point assignments.  Therefore, management of this category is handled via the processes specified in <a href="#RFC5892">[RFC5892]</a>.</p>
<div id="#rfc.figure.4"></div>
<pre>
G: cp is in {}
            </pre>
<p id="rfc.section.6.7.p.2">This category includes the code points for which property values in versions of Unicode after 5.2 have changed in such a way that the derived property value would no longer be PVALID or DISALLOWED.  If changes are made to future versions of Unicode so that code points might change property value from PVALID or DISALLOWED, then this table can be updated and keep special exception values so that the property values for code points stay stable.</p>
<h1 id="rfc.section.6.8">
<a href="#rfc.section.6.8">6.8.</a> <a href="#H" id="H">JoinControl (H)</a>
</h1>
<p id="rfc.section.6.8.p.1">NOTE: This category is defined in <a href="#RFC5892">[RFC5892]</a> and copied here for use in PRECIS.</p>
<div id="#rfc.figure.5"></div>
<pre>
H: Join_Control(cp) = True
            </pre>
<p id="rfc.section.6.8.p.2">This category consists of Join Control characters (i.e., they are not in <a href="#A">LetterDigits</a> <cite title="NONE">[A]</cite>) but are still required in strings under some circumstances.</p>
<h1 id="rfc.section.6.9">
<a href="#rfc.section.6.9">6.9.</a> <a href="#I" id="I">OldHangulJamo (I)</a>
</h1>
<p id="rfc.section.6.9.p.1">NOTE: This category is defined in <a href="#RFC5892">[RFC5892]</a> and copied here for use in PRECIS.</p>
<div id="#rfc.figure.6"></div>
<pre>
I: Hangul_Syllable_Type(cp) is in {L, V, T}
            </pre>
<p id="rfc.section.6.9.p.2">This category consists of all conjoining Hangul Jamo (Leading Jamo, Vowel Jamo, and Trailing Jamo).</p>
<p id="rfc.section.6.9.p.3">Elimination of conjoining Hangul Jamos from the set of PVALID characters results in restricting the set of Korean PVALID characters just to preformed, modern Hangul syllable characters. Old Hangul syllables, which must be spelled with sequences of conjoining Hangul Jamos, are not PVALID for string classes.</p>
<h1 id="rfc.section.6.10">
<a href="#rfc.section.6.10">6.10.</a> <a href="#J" id="J">Unassigned (J)</a>
</h1>
<p id="rfc.section.6.10.p.1">NOTE: This category is defined in <a href="#RFC5892">[RFC5892]</a> and copied here for use in PRECIS.</p>
<div id="#rfc.figure.7"></div>
<pre>
J: General_Category(cp) is in {Cn} and
   Noncharacter_Code_Point(cp) = False
            </pre>
<p id="rfc.section.6.10.p.2">This category consists of code points in the Unicode character set that are not (yet) assigned. It should be noted that Unicode distinguishes between 'unassigned code points' and 'unassigned characters'. The unassigned code points are all but (Cn - Noncharacters), while the unassigned *characters* are all but (Cn + Cs).</p>
<h1 id="rfc.section.6.11">
<a href="#rfc.section.6.11">6.11.</a> <a href="#K" id="K">ASCII7 (K)</a>
</h1>
<p id="rfc.section.6.11.p.1">This PRECIS-specific category exempts most characters in the ASCII-7 range from other rules that might be applied during PRECIS processing, on the assumption that these code points are in such wide use that disallowing them would be counter-productive.</p>
<div id="#rfc.figure.8"></div>
<pre>
K: cp is in {0021..007E}
            </pre>
<h1 id="rfc.section.6.12">
<a href="#rfc.section.6.12">6.12.</a> <a href="#L" id="L">Controls (L)</a>
</h1>
<div id="#rfc.figure.9"></div>
<pre>
L: Control(cp) = True
            </pre>
<h1 id="rfc.section.6.13">
<a href="#rfc.section.6.13">6.13.</a> <a href="#M" id="M">PrecisIgnorableProperties (M)</a>
</h1>
<p id="rfc.section.6.13.p.1">This PRECIS-specific category is used to group code points that are not recommended for use in PRECIS string classes.</p>
<div id="#rfc.figure.10"></div>
<pre>
M: Default_Ignorable_Code_Point(cp) = True or
   Noncharacter_Code_Point(cp) = True
            </pre>
<p id="rfc.section.6.13.p.2">The definition for Default_Ignorable_Code_Point can be found in the <a href="http://unicode.org/Public/UNIDATA/DerivedCoreProperties.txt">DerivedCoreProperties.txt</a> file, and at the time of Unicode 6.0 is as follows:</p>
<div id="#rfc.figure.11"></div>
<pre>
  Other_Default_Ignorable_Code_Point 
+ Cf (Format characters)
+ Variation_Selector 
- White_Space 
- FFF9..FFFB (Annotation Characters) 
- 0600..0603, 06DD, 070F (exceptional Cf characters 
                          that should be visible)
            </pre>
<h1 id="rfc.section.6.14">
<a href="#rfc.section.6.14">6.14.</a> <a href="#N" id="N">Spaces (N)</a>
</h1>
<p id="rfc.section.6.14.p.1">This PRECIS-specific category is used to group code points that are space characters.</p>
<div id="#rfc.figure.12"></div>
<pre>
N: General_Category(cp) is in {Zs}
            </pre>
<h1 id="rfc.section.6.15">
<a href="#rfc.section.6.15">6.15.</a> <a href="#O" id="O">Symbols (O)</a>
</h1>
<p id="rfc.section.6.15.p.1">This PRECIS-specific category is used to group code points that are symbols.</p>
<div id="#rfc.figure.13"></div>
<pre>
O: General_Category(cp) is in {Sc}
            </pre>
<h1 id="rfc.section.6.16">
<a href="#rfc.section.6.16">6.16.</a> <a href="#P" id="P">Punctuation (P)</a>
</h1>
<p id="rfc.section.6.16.p.1">This PRECIS-specific category is used to group code points that are punctuation marks.</p>
<div id="#rfc.figure.14"></div>
<pre>
P: General_Category(cp) is in {Pi}
            </pre>
<h1 id="rfc.section.6.17">
<a href="#rfc.section.6.17">6.17.</a> <a href="#Q" id="Q">HasCompat (Q)</a>
</h1>
<p id="rfc.section.6.17.p.1">This PRECIS-specific category is used to group code points that have compatibility equivalents as explained in Chapter 2 and Chapter 3 of <a href="#UNICODE">[UNICODE]</a>.</p>
<div id="#rfc.figure.15"></div>
<pre>
Q: toNFKC(cp) != cp
            </pre>
<p id="rfc.section.6.17.p.2">The toNFKC() operation returns the code point in normalization form KC.  For more information, see Section 5 of <a href="#UAX15">[UAX15]</a>.</p>
<h1 id="rfc.section.7">
<a href="#rfc.section.7">7.</a> <a href="#PropertyCalculation" id="PropertyCalculation">Calculation of the Derived Property</a>
</h1>
<p id="rfc.section.7.p.1">Possible values of the derived property are:</p>
<p></p>

<ul>
<li>PVALID</li>
<li>NAMECLASS_VALID</li>
<li>SECRETCLASS_VALID</li>
<li>FREECLASS_VALID</li>
<li>CONTEXTJ</li>
<li>CONTEXTO</li>
<li>DISALLOWED</li>
<li>NAMECLASS_DISALLOWED</li>
<li>SECRETCLASS_DISALLOWED</li>
<li>FREECLASS_DISALLOWED</li>
<li>UNASSIGNED</li>
</ul>

<p> </p>
<p id="rfc.section.7.p.3">NOTE: In some instances, the value of the derived property calculated depends on the string class (e.g., if an identifier used in an application protocol is defined as using or subclassing the PRECIS NameClass, then a space character would be assigned to NAMECLASS_DISALLOWED).</p>
<p id="rfc.section.7.p.4">The algorithm to calculate the value of the derived property is as follows. (NOTE: Use of the name of a rule (such as "Exception") implies the set of code points that the rule defines, whereas the same name as a function call (such as "Exception(cp)") implies the value that the code point has in the Exceptions table.)</p>
<div id="#rfc.figure.16"></div>
<pre>
If .cp. .in. Exceptions Then Exceptions(cp);
Else If .cp. .in. BackwardCompatible Then BackwardCompatible(cp);
Else If .cp. .in. Unassigned Then UNASSIGNED;
Else If .cp. .in. ASCII7 Then PVALID;
Else If .cp. .in. JoinControl Then CONTEXTJ;
Else If .cp. .in. PrecisIgnorableProperties Then DISALLOWED;
Else If .cp. .in. Controls Then DISALLOWED;
Else If .cp. .in. OldHangulJamo Then DISALLOWED;
Else If .cp. .in. LetterDigits Then PVALID;
Else If .cp. .in. Spaces Then NAMECLASS_DISALLOWED 
                  or SECRETCLASS_DISALLOWED 
                  or FREECLASS_VALID;
Else If .cp. .in. Symbols Then NAMECLASS_DISALLOWED 
                  or SECRETCLASS_DISALLOWED 
                  or FREECLASS_VALID;
Else If .cp. .in. Punctuation Then NAMECLASS_DISALLOWED 
                  or SECRETCLASS_DISALLOWED 
                  or FREECLASS_VALID;
Else If .cp. .in. HasCompat Then NAMECLASS_DISALLOWED 
                  or SECRETCLASS_VALID 
                  or FREECLASS_VALID;
Else DISALLOWED;
            </pre>
<h1 id="rfc.section.8">
<a href="#rfc.section.8">8.</a> <a href="#codepointexplain" id="codepointexplain">Code Points</a>
</h1>
<p id="rfc.section.8.p.1">The Categories and Rules defined in <a href="#categories">Section 6</a> and <a href="#PropertyCalculation">Section 7</a> apply to all Unicode code points. The table in <a href="#codepoints">Section 13</a> shows, for illustrative purposes, the consequences of the categories and classification rules, and the resulting property values.</p>
<p id="rfc.section.8.p.2">The list of code points that can be found in <a href="#codepoints">Section 13</a> is non-normative.  Instead, the rules defined by <a href="#categories">Section 6</a> and <a href="#PropertyCalculation">Section 7</a> are normative, and any tables are derived from the rules.</p>
<h1 id="rfc.section.9">
<a href="#rfc.section.9">9.</a> <a href="#iana" id="iana">IANA Considerations</a>
</h1>
<h1 id="rfc.section.9.1">
<a href="#rfc.section.9.1">9.1.</a> <a href="#iana-derived" id="iana-derived">PRECIS Derived Property Value Registry</a>
</h1>
<p id="rfc.section.9.1.p.1">IANA is requested to create a PRECIS-specific registry with the Derived Properties for the versions of Unicode that are released after (and including) version 6.0.  The derived property value is to be calculated in cooperation with a designated expert <a href="#RFC5226">[RFC5226]</a> according to the specifications in <a href="#categories">Section 6</a> and <a href="#PropertyCalculation">Section 7</a>, and not by copying the non-normative table found in <a href="#codepoints">Section 13</a>.</p>
<p id="rfc.section.9.1.p.2">If during this process (creation of the table of derived property values) followed by a designated expert review, either backward-incompatible changes to the table of derived properties are discovered, or otherwise problems during the creation of the table arises, that is to be flagged to the IESG. Changes to the rules (as specified in <a href="#categories">Section 6</a> and <a href="#PropertyCalculation">Section 7</a>) require IETF Review, as described in <a href="#RFC5226">[RFC5226]</a>.</p>
<h1 id="rfc.section.9.2">
<a href="#rfc.section.9.2">9.2.</a> <a href="#iana-usage" id="iana-usage">PRECIS Usage Registry</a>
</h1>
<p id="rfc.section.9.2.p.1">IANA is requested to create a registry of application protocols that use the base string classes.  The registry will include one entry for each use (e.g., if a protocol uses both the NameClass and the FreeClass then the specification for that protocol would submit two registrations).  In accordance with <a href="#RFC5226">[RFC5226]</a>, the registration policy is "First Come First Served".</p>
<p id="rfc.section.9.2.p.2">The registration template is as follows:</p>
<p></p>

<dl>
<dt>Application Protocol:</dt>
<dd style="margin-left: 8">[the application protocol that is using or subclassing the PRECIS string class]</dd>
<dt>Base Class:</dt>
<dd style="margin-left: 8">[which base class is being used]</dd>
<dt>Subclassing:</dt>
<dd style="margin-left: 8">[whether the base class is being subclassed and, if so, where documentation of the subclassing can be found]</dd>
<dt>Directionality:</dt>
<dd style="margin-left: 8">[the behavioral rule for handling of right-to-left code points]</dd>
<dt>Casemapping:</dt>
<dd style="margin-left: 8">[the behavioral rule for handling of case]</dd>
<dt>Normalization:</dt>
<dd style="margin-left: 8">[which Unicode normalization form is applied]</dd>
<dt>Specification:</dt>
<dd style="margin-left: 8">[a pointer to relevant documentation, such as an RFC or Internet-Draft]</dd>
</dl>

<p> </p>
<h1 id="rfc.section.10">
<a href="#rfc.section.10">10.</a> <a href="#security" id="security">Security Considerations</a>
</h1>
<h1 id="rfc.section.10.1">
<a href="#rfc.section.10.1">10.1.</a> <a href="#security-gen" id="security-gen">General Issues</a>
</h1>
<p id="rfc.section.10.1.p.1">The security of applications that use this framework can depend in part on the proper preparation and comparison of internationalized strings.  For example, such strings can be used to make authentication and authorization decisions, and the security of an application could be compromised if an entity providing a given string is connected to the wrong account or online resource based on different interpretations of the string.</p>
<p id="rfc.section.10.1.p.2">Specifications of application protocols that use this framework are encouraged to describe how internationalized strings are used in the protocol, including the security implications of any false positives and false negatives that might result from various comparison operations.  For some helpful guidelines, refer to <a href="#IDENTIFIER">[IDENTIFIER]</a>, <a href="#RFC5890">[RFC5890]</a>, <a href="#UTR36">[UTR36]</a>, and <a href="#UTR39">[UTR39]</a>.</p>
<h1 id="rfc.section.10.2">
<a href="#rfc.section.10.2">10.2.</a> <a href="#security-charset" id="security-charset">Local Character Set Issues</a>
</h1>
<p id="rfc.section.10.2.p.1">When systems use local character sets other than ASCII and Unicode, these specifications leave the problem of converting between the local character set and Unicode up to the application or local system.  If different applications (or different versions of one application) implement different rules for conversions among coded character sets, they could interpret the same name differently and contact different application servers or other network entities.  This problem is not solved by security protocols, such as Transport Layer Security (TLS) <a href="#RFC5246">[RFC5246]</a> and the Simple Authentication and Security Layer (SASL) <a href="#RFC4422">[RFC4422]</a>, that do not take local character sets into account.</p>
<h1 id="rfc.section.10.3">
<a href="#rfc.section.10.3">10.3.</a> <a href="#security-confusables" id="security-confusables">Visually Similar Characters</a>
</h1>
<p id="rfc.section.10.3.p.1">Some characters are visually similar and thus can cause confusion among humans.  Such characters are often called "confusable characters" or "confusables".</p>
<p id="rfc.section.10.3.p.2">The problem of confusable characters is not necessarily caused by the use of Unicode code points outside the US-ASCII range.  For example, in some presentations and to some individuals the string "ju1iet" (spelled with the Arabic numeral one as the third character) might appear to be the same as "juliet" (spelled with the lowercase version of the letter "L"), especially on casual visual inspection.  This phenomenon is sometimes called "typejacking".</p>
<p id="rfc.section.10.3.p.3">However, the problem is made more serious by introducing the full range of Unicode code points into protocol strings.  For example, the characters U+13DA U+13A2 U+13B5 U+13AC U+13A2 U+13AC U+13D2 from the Cherokee block look similar to the US-ASCII characters "STPETER" as they might look when presented in a "creative" font.</p>
<p id="rfc.section.10.3.p.4">In some examples of confusable characters, it is unlikely that the average human could tell the difference between the real string and the fake string.  (Indeed, there is no programmatic way to distinguish with full certainty which is the fake string and which is the real string; in some contexts, the string formed of Cherokee characters might be the real string and the string formed of US-ASCII characters might be the fake string.)  Because PRECIS-compliant strings can contain almost any properly encoded Unicode code point, it can be relatively easy to fake or mimic some strings in systems that use the PRECIS framework.  The fact that some strings are easily confused introduces security vulnerabilities of the kind that have also plagued the World Wide Web, specifically the phenomenon known as phishing.</p>
<p id="rfc.section.10.3.p.5">Despite the fact that some specific suggestions about identification and handling of confusable characters appear in the Unicode Security Considerations <a href="#UTR36">[UTR36]</a>, it is also true (as noted in <a href="#RFC5890">[RFC5890]</a>) that "there are no comprehensive technical solutions to the problems of confusable characters".  Because it is impossible to map visually similar characters without a great deal of context (such as knowing the fonts used), the PRECIS framework does nothing to map similar-looking characters together, nor does it prohibit some characters because they look like others.</p>
<p id="rfc.section.10.3.p.6">However, specifications for application protocols that use this framework MUST describe how confusable characters can be used to compromise the security of systems that use the protocol in question, and any protocol-specific suggestions for overcoming those threats.  In particular, software implementations and service deployments that use PRECIS-based technologies are strongly encouraged to define and implement consistent policies regarding the registration, storage, and presentation of visually similar characters.  The following recommendations are appropriate:</p>
<p></p>

<ol>
<li>An application service SHOULD define a policy that specifies the scripts or blocks of characters that the service will allow to be registered (e.g., in an account name) or stored (e.g., in a file name).  Such a policy SHOULD be informed by the languages and scripts that are used to write registered account names; in particular, to reduce confusion, the service SHOULD forbid registration or storage of stings that contain characters from more than one script and to restrict registrations to characters drawn from a very small number of scripts (e.g., scripts that are well-understood by the administrators of the service, to improve manageability).<br><br>
</li>
<li>User-oriented application software SHOULD define a policy that specifies how internationalized strings will be presented to a human user.  Because every human user of such software has a preferred language or a small set of preferred languages, the software SHOULD gather that information either explicitly from the user or implicitly via the operating system of the user's device.  Furthermore, because most languages are typically represented by a single script or a small set of scripts, and because and most scripts are typically contained in one or more blocks of characters, the software SHOULD warn the user when presenting a string that mixes characters from more than one script or block, or that uses characters outside the normal range of the user's preferred language(s).  (Such a recommendation is not intended to discourage communication across different communities of language users; instead, it recognizes the existence of such communities and encourages due caution when presenting unfamiliar scripts or characters to human users.)</li>
</ol>

<p> </p>
<h1 id="rfc.section.10.4">
<a href="#rfc.section.10.4">10.4.</a> <a href="#security-secrets" id="security-secrets">Security of Passwords and Passphrases</a>
</h1>
<p id="rfc.section.10.4.p.1">One goal of passwords and passphrases is to maximize the amount of entropy, for example by allowing a wide range of code points and by ensuring that secrets are not prepared in such a way that code points are compared aggressively.  Therefore, it is NOT RECOMMENDED for application protocols to subclass the FreeClass for use in passwords and passphrases in a way that removes entire categories (e.g., by disallowing symbols or punctuation).  Furthermore, it is NOT RECOMMENDED for application protocols to map uppercase and titlecase code points to their lowercase equivalents in such strings; instead, it is RECOMMENDED to preserve the case of all code points contained in such strings.</p>
<p id="rfc.section.10.4.p.2">That said, software implementers need to be aware that there exist tradeoffs between entropy and usability.  For example, allowing a user to establish a password containing "uncommon" code points might make it difficult for the user to access an application when using an unfamiliar or constrained input device.</p>
<p id="rfc.section.10.4.p.3">Some application protocols use passwords and passphrases directly, whereas others reuse technologies that themselves process passwords (one example is the Simple Authentication and Security Layer <a href="#RFC4422">[RFC4422]</a>).  Moreover, passwords are often carried by a sequence of protocols with backends authentication systems or data storage systems such as RADIUS <a href="#RFC2865">[RFC2865]</a> and LDAP <a href="#RFC4510">[RFC4510]</a>.  Developers of application protocols are encouraged to look into reusing these profiles instead of defining new ones, so that end-user expectations about passwords are consistent no matter which application protocol is used.</p>
<h1 id="rfc.section.11">
<a href="#rfc.section.11">11.</a> <a href="#interop" id="interop">Interoperability Considerations</a>
</h1>
<p id="rfc.section.11.p.1">Although strings that are consumed in PRECIS-based application protocols are often encoded using UTF-8 <a href="#RFC3629">[RFC3629]</a>, the exact encoding is a matter for the using protocol, not the PRECIS framework.</p>
<p id="rfc.section.11.p.2">It is known that some existing systems are unable to support the full Unicode character set, or even any characters outside the US-ASCII range.  If two (or more) applications need to interoperate when exchanging data (e.g., for the purpose of authenticating a username or password), they will naturally need have in common at least one coded character set (as defined by <a href="#RFC6365">[RFC6365]</a>).  Establishing such a baseline is a matter for the using protocol, not the PRECIS framework.</p>
<h1 id="rfc.section.12">
<a href="#rfc.section.12">12.</a> Acknowledgements</h1>
<p id="rfc.section.12.p.1">The authors would like to acknowledge the comments and contributions of the following individuals: David Black, Mark Davis, Alan DeKok, Martin Duerst, Patrik Faltstrom, Ted Hardie, Joe Hildebrand, Paul Hoffman, Jeffrey Hutzelman, Simon Josefsson, John Klensin, Alexey Melnikov, Yoav Nir, Mike Parker, Pete Resnick, Andrew Sullivan, Dave Thaler, and Yoshiro Yoneya.</p>
<p id="rfc.section.12.p.2">Some algorithms and textual descriptions have been borrowed from <a href="#RFC5892">[RFC5892]</a>.  Some text regarding security has been borrowed from <a href="#RFC5890">[RFC5890]</a> and <a href="#XMPP-ADDR">[XMPP-ADDR]</a>.</p>
<h1 id="rfc.section.13">
<a href="#rfc.section.13">13.</a> <a href="#codepoints" id="codepoints">Codepoints 0x0000 - 0x10FFFF</a>
</h1>
<p id="rfc.section.13.p.1">To follow.</p>
<h1 id="rfc.section.13.1">
<a href="#rfc.section.13.1">13.1.</a> Codepoints in Unicode Character Database (UCD) format</h1>
<p id="rfc.section.13.1.p.1">To follow.</p>
<h1 id="rfc.references">
<a href="#rfc.references">14.</a> References</h1>
<h1 id="rfc.references.1">
<a href="#rfc.references.1">14.1.</a> Normative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC2119">[RFC2119]</b></td>
<td class="top">
<a href="mailto:sob@harvard.edu" title="Harvard University">Bradner, S.</a>, "<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>", BCP 14, RFC 2119, March 1997.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5198">[RFC5198]</b></td>
<td class="top">
<a>Klensin, J.</a> and <a>M. Padlipsky</a>, "<a href="http://tools.ietf.org/html/rfc5198">Unicode Format for Network Interchange</a>", RFC 5198, March 2008.</td>
</tr>
<tr>
<td class="reference"><b id="UNICODE">[UNICODE]</b></td>
<td class="top">
<a>The Unicode Consortium</a>, "<a>The Unicode Standard, Version 6.0</a>", 2010.</td>
</tr>
</tbody></table>
<h1 id="rfc.references.2">
<a href="#rfc.references.2">14.2.</a> Informative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="IDENTIFIER">[IDENTIFIER]</b></td>
<td class="top">
<a>Thaler, D</a>, "<a href="http://tools.ietf.org/html/draft-iab-identifier-comparison-00">Issues in Identifier Comparison for Security Purposes</a>", Internet-Draft draft-iab-identifier-comparison-00, July 2011.</td>
</tr>
<tr>
<td class="reference"><b id="PROBLEM">[PROBLEM]</b></td>
<td class="top">
<a>Blanchet, M</a> and <a>A Sullivan</a>, "<a href="http://tools.ietf.org/html/draft-ietf-precis-problem-statement-03">Stringprep Revision Problem Statement</a>", Internet-Draft draft-ietf-precis-problem-statement-03, July 2011.</td>
</tr>
<tr>
<td class="reference"><b id="RFC2865">[RFC2865]</b></td>
<td class="top">
<a>Rigney, C.</a>, <a>Willens, S.</a>, <a>Rubens, A.</a> and <a>W. Simpson</a>, "<a href="http://tools.ietf.org/html/rfc2865">Remote Authentication Dial In User Service (RADIUS)</a>", RFC 2865, June 2000.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3454">[RFC3454]</b></td>
<td class="top">
<a>Hoffman, P.</a> and <a>M. Blanchet</a>, "<a href="http://tools.ietf.org/html/rfc3454">Preparation of Internationalized Strings ("stringprep")</a>", RFC 3454, December 2002.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3490">[RFC3490]</b></td>
<td class="top">
<a>Faltstrom, P.</a>, <a>Hoffman, P.</a> and <a>A. Costello</a>, "<a href="http://tools.ietf.org/html/rfc3490">Internationalizing Domain Names in Applications (IDNA)</a>", RFC 3490, March 2003.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3629">[RFC3629]</b></td>
<td class="top">
<a>Yergeau, F.</a>, "<a href="http://tools.ietf.org/html/rfc3629">UTF-8, a transformation format of ISO 10646</a>", STD 63, RFC 3629, November 2003.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4422">[RFC4422]</b></td>
<td class="top">
<a>Melnikov, A.</a> and <a>K. Zeilenga</a>, "<a href="http://tools.ietf.org/html/rfc4422">Simple Authentication and Security Layer (SASL)</a>", RFC 4422, June 2006.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4510">[RFC4510]</b></td>
<td class="top">
<a>Zeilenga, K.</a>, "<a href="http://tools.ietf.org/html/rfc4510">Lightweight Directory Access Protocol (LDAP): Technical Specification Road Map</a>", RFC 4510, June 2006.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4690">[RFC4690]</b></td>
<td class="top">
<a>Klensin, J.</a>, <a>Faltstrom, P.</a>, <a>Karp, C.</a>, <a>IAB</a>, "<a href="http://tools.ietf.org/html/rfc4690">Review and Recommendations for Internationalized Domain Names (IDNs)</a>", RFC 4690, September 2006.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5226">[RFC5226]</b></td>
<td class="top">
<a>Narten, T.</a> and <a>H. Alvestrand</a>, "<a href="http://tools.ietf.org/html/rfc5226">Guidelines for Writing an IANA Considerations Section in RFCs</a>", BCP 26, RFC 5226, May 2008.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5246">[RFC5246]</b></td>
<td class="top">
<a>Dierks, T.</a> and <a>E. Rescorla</a>, "<a href="http://tools.ietf.org/html/rfc5246">The Transport Layer Security (TLS) Protocol Version 1.2</a>", RFC 5246, August 2008.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5890">[RFC5890]</b></td>
<td class="top">
<a>Klensin, J.</a>, "<a href="http://tools.ietf.org/html/rfc5890">Internationalized Domain Names for Applications (IDNA): Definitions and Document Framework</a>", RFC 5890, August 2010.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5891">[RFC5891]</b></td>
<td class="top">
<a>Klensin, J.</a>, "<a href="http://tools.ietf.org/html/rfc5891">Internationalized Domain Names in Applications (IDNA): Protocol</a>", RFC 5891, August 2010.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5892">[RFC5892]</b></td>
<td class="top">
<a>Faltstrom, P.</a>, "<a href="http://tools.ietf.org/html/rfc5892">The Unicode Code Points and Internationalized Domain Names for Applications (IDNA)</a>", RFC 5892, August 2010.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5893">[RFC5893]</b></td>
<td class="top">
<a>Alvestrand, H.</a> and <a>C. Karp</a>, "<a href="http://tools.ietf.org/html/rfc5893">Right-to-Left Scripts for Internationalized Domain Names for Applications (IDNA)</a>", RFC 5893, August 2010.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5894">[RFC5894]</b></td>
<td class="top">
<a>Klensin, J.</a>, "<a href="http://tools.ietf.org/html/rfc5894">Internationalized Domain Names for Applications (IDNA): Background, Explanation, and Rationale</a>", RFC 5894, August 2010.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5895">[RFC5895]</b></td>
<td class="top">
<a>Resnick, P.</a> and <a>P. Hoffman</a>, "<a href="http://tools.ietf.org/html/rfc5895">Mapping Characters for Internationalized Domain Names in Applications (IDNA) 2008</a>", RFC 5895, September 2010.</td>
</tr>
<tr>
<td class="reference"><b id="RFC6365">[RFC6365]</b></td>
<td class="top">
<a>Hoffman, P.</a> and <a>J. Klensin</a>, "<a href="http://tools.ietf.org/html/rfc6365">Terminology Used in Internationalization in the IETF</a>", BCP 166, RFC 6365, September 2011.</td>
</tr>
<tr>
<td class="reference"><b id="UAX9">[UAX9]</b></td>
<td class="top">
<a>The Unicode Consortium</a>, "<a>Unicode Standard Annex #9: Unicode Bidirectional Algorithm</a>", September 2010.</td>
</tr>
<tr>
<td class="reference"><b id="UAX15">[UAX15]</b></td>
<td class="top">
<a>The Unicode Consortium</a>, "<a>Unicode Standard Annex #15: Unicode Normalization Forms</a>", September 2010.</td>
</tr>
<tr>
<td class="reference"><b id="UTR36">[UTR36]</b></td>
<td class="top">
<a>The Unicode Consortium</a>, "<a>Unicode Technical Report #36: Unicode Security Considerations</a>", August 2010.</td>
</tr>
<tr>
<td class="reference"><b id="UTR39">[UTR39]</b></td>
<td class="top">
<a>The Unicode Consortium</a>, "<a>Unicode Technical Report #39: Unicode Security Mechanisms</a>", August 2010.</td>
</tr>
<tr>
<td class="reference"><b id="XMPP-ADDR">[XMPP-ADDR]</b></td>
<td class="top">
<a>Saint-Andre, P</a>, "<a href="http://tools.ietf.org/html/draft-saintandre-xmpp-6122bis-02">Extensible Messaging and Presence Protocol (XMPP): Address Format</a>", Internet-Draft draft-saintandre-xmpp-6122bis-02, August 2011.</td>
</tr>
</tbody></table>
<h1 id="rfc.authors"><a href="#rfc.authors">Authors' Addresses</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Marc Blanchet</span> 
	  <span class="n hidden">
		<span class="family-name">Blanchet</span>
	  </span>
	</span>
	<span class="org vcardline">Viagenie</span>
	<span class="adr">
	  <span>2600 boul. Laurier, suite 625</span>

	  <span class="vcardline">
		<span class="locality">Quebec</span>,  
		<span class="region">QC</span> 
		<span class="code">G1V 4W1</span>
	  </span>
	  <span class="country-name vcardline">Canada</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:Marc.Blanchet@viagenie.ca">Marc.Blanchet@viagenie.ca</a></span>

<span class="vcardline">URI: <a href="http://www.viagenie.ca/">http://www.viagenie.ca/</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Peter Saint-Andre</span> 
	  <span class="n hidden">
		<span class="family-name">Saint-Andre</span>
	  </span>
	</span>
	<span class="org vcardline">Cisco</span>
	<span class="adr">
	  <span>1899 Wyknoop Street, Suite 600</span>

	  <span class="vcardline">
		<span class="locality">Denver</span>,  
		<span class="region">CO</span> 
		<span class="code">80202</span>
	  </span>
	  <span class="country-name vcardline">USA</span>
	</span>
	<span class="vcardline">Phone: +1-303-308-3282</span>

<span class="vcardline">EMail: <a href="mailto:psaintan@cisco.com">psaintan@cisco.com</a></span>

  </address>
</div>

</body>
</html>