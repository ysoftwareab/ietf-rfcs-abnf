



Network Working Group                                          G. Mirsky
Internet-Draft                                                 T. Elteto
Intended status: Standards Track                                Ericsson
Expires: January 7, 2016                                    July 6, 2015


      Two-Way Active Measurement Protocol (TWAMP) Light Data Model
                 draft-mirsky-ippm-twamp-light-yang-00

Abstract

   This document specifies the data model for implementations of
   Session-Sender and Session-Reflector for Two-Way Active Measurement
   Protocol (TWAMP) Light mode using YANG.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on January 7, 2016.

Copyright Notice

   Copyright (c) 2015 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.





Mirsky & Elteto          Expires January 7, 2016                [Page 1]


Internet-Draft           TWAMP Light data model                July 2015


Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
     1.1.  Conventions used in this document . . . . . . . . . . . .   2
       1.1.1.  Requirements Language . . . . . . . . . . . . . . . .   2
   2.  Scope, Model, and Applicability . . . . . . . . . . . . . . .   3
     2.1.  Data Model Parameters . . . . . . . . . . . . . . . . . .   3
     2.2.  Session-Sender  . . . . . . . . . . . . . . . . . . . . .   3
     2.3.  Session-Reflector . . . . . . . . . . . . . . . . . . . .   3
   3.  Data Model  . . . . . . . . . . . . . . . . . . . . . . . . .   3
     3.1.  Tree Diagram  . . . . . . . . . . . . . . . . . . . . . .   4
     3.2.  YANG Module . . . . . . . . . . . . . . . . . . . . . . .   4
   4.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   8
   5.  Security Considerations . . . . . . . . . . . . . . . . . . .   9
   6.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   9
   7.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   9
     7.1.  Normative References  . . . . . . . . . . . . . . . . . .   9
     7.2.  Informative References  . . . . . . . . . . . . . . . . .  10
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  10

1.  Introduction

   The Two-Way Active Measurement Protocol (TWAMP) [RFC5357] can be used
   to measure performance parameters of IP networks such as latency,
   jitter, and packet loss by sending test packets and monitoring their
   experience in the network.  The [RFC5357] defines two protocols,
   TWAMP Control and TWAMP Test, and a profile of TWAMP Test, TWAMP
   Light.  The TWAMP Light is known to have many implementations though
   no common management framework being defined, thus leaving some
   aspects of test packet processing to interpretation.  The goal of
   this document is to collect analyze these variations; describe common
   model while allowing for extensions in the future.  This document
   defines such a TWAMP data model and specifies it formally using the
   YANG data modeling language [RFC6020].

1.1.  Conventions used in this document

1.1.1.  Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
   "OPTIONAL" in this document are to be interpreted as described in
   [RFC2119].








Mirsky & Elteto          Expires January 7, 2016                [Page 2]


Internet-Draft           TWAMP Light data model                July 2015


2.  Scope, Model, and Applicability

   The scope of this document includes model of the TWAMP Light as
   defined in Appendix I of [RFC5357] as well as model of accepted
   Errata.  The former mode of TWAMP Light will be referred in this
   document as Stateless and the latter - Stateful.  This document
   benefits from earlier attempt to define TWAMP MIB in
   [I-D.elteto-ippm-twamp-mib] and from TWAMP YANG model defined in
   [I-D.cmzrjp-ippm-twamp-yang].

   Figure 1 updates TWAMP-Light reference model presented in Appendix I
   [RFC5357] for the scenario when instantiation of a TWAMP-Test session
   between Session-Sender and Session-Reflector controlled by
   communication between a Configuration Client as a manager and
   Configuration Servers as agents of the configuration session.


         o----------------------------------------------------------o
         |                        Config client                     |
         o----------------------------------------------------------o
               ||                                          ||
               ||             NETCONF/RESTCONF             ||
               ||                                          ||
      o-------------------o                       o-------------------o
      |   Config server   |                       |   Config server   |
      |                   |                       |                   |
      +-------------------+                       +-------------------+
      |  Session-Sender   |  <--- TWAMP-Test ---> | Session-Reflector |
      +-------------------+                       +-------------------+


                   Figure 1: TWAMP Light Reference Model

2.1.  Data Model Parameters

2.2.  Session-Sender

   TBA

2.3.  Session-Reflector

   TBA

3.  Data Model

   Creating TWAMP-Light data model presents number of challenges and
   among them is identification of a test-session at Session-Reflector.
   A Session-Reflector MAY require only as little as its IP and UDP port



Mirsky & Elteto          Expires January 7, 2016                [Page 3]


Internet-Draft           TWAMP Light data model                July 2015


   number in received TWAMP-Test packet to spawn new test session.  More
   so, to test processing of Class-of-Service along the same route in
   Equal Cost Multi-Path environment Session-Sender may run TWAMP test
   sessions concurrently using the same source IP address, source UDP
   port number, destination IP address, and destination UDP port number.
   Thus the only parameter that can be used to differentiate these test
   sessions would be DSCP value.  The DSCP field may get re-marked along
   the path and without use of [I-D.ietf-ippm-type-p-monitor] that will
   go undetected, but by using five-tuple instead of four-tuple as a key
   we can ensure that TWAMP test packets that are considered as
   differesnt test sessions follow the same path even in ECMP
   environments.

3.1.  Tree Diagram

   TBA

3.2.  YANG Module


 module twampLight {
   namespace "urn:ietf:params:xml:ns:yang:ietf-twamp";
    //namespace need to be assigned by IANA
   prefix "twampLight";

   import ietf-inet-types {
     prefix inet;
   }

   organization
     "IETF IPPM (IP Performance Metrics) Working Group";

   contact
     "draft-mirsky-ippm-twamp-light-yang@tools.ietf.org";

   description "TWAMP Light Data Model";

   revision "2015-07-06" {
     description "Initial version. RFC5357 is covered,
       including Appendix I and the Errata.";
   }

   feature sessionSenderLight {
     description "This feature relates to the device functions as the
       TWAMP Light Session-Sender.";
   }

   feature sessionReflectorLight {



Mirsky & Elteto          Expires January 7, 2016                [Page 4]


Internet-Draft           TWAMP Light data model                July 2015


     description "This feature relates to the device functions as the
       TWAMP Light Session-Reflector.";
   }

   grouping maintenanceStatistics {
     leaf sentPackets {
       config "false";
       default 0;
       type uint32;
     }
     leaf rcvPackets {
       config "false";
       default 0;
       type uint32;
     }
     leaf lastSentSeq {
       config "false";
       default 0;
       type uint32;
     }
     leaf lastRcvSeq {
       config "false";
       default 0;
       type uint32;
     }
   }

   grouping sessionLightParameters {
     description "Parameters common among Session-Sender and
       Session-Reflector.";
     leaf senderIp {
       type inet:ip-address;
     }
     leaf senderUdpPort {
       type inet:port-number;
     }
     leaf reflectorIp {
       type inet:ip-address;
     }
     leaf reflectorUdpPort {
       type inet:port-number;
     }
     leaf dscp {
       description "The DSCP value to be placed in the header of TWAMP
           UDP
 test packets generated by the Session-Sender. Whether
           Session-Reflector uses this value depends upon its local
           configuration.";



Mirsky & Elteto          Expires January 7, 2016                [Page 5]


Internet-Draft           TWAMP Light data model                July 2015


       type inet:dscp;
     }
   }

    container twampLightSessionSender {
       if-feature sessionSender;
       list testSession {
         key "senderIp senderUdpPort reflectorIp reflectorUdpPort dscp";
         ordered-by system;
         status current;
         description "This structure is a container of test session
             managed objects.";

         leaf numberOfPackets {
           type uint32;
           description "The overall number of UDP test packets to be
             transmitted by the sender for this test session.";
         }

         leaf packetPaddingSize {
           type uint32;
           default 27;
           description "Size of the Packet Padding. Suggested to run
              Path MTU Discovery
 to avoid packet fragmentation in IPv4
              and packet backholing in IPv6.";
         }

          leaf sessionAuthenticationMode {
            type enumeration {
              enum unathenticated;
              enum authenticated;
              enum encrypted;
            }
            default unathenticated;
            description "Authentication mode of the TWAMP Light test
                session."
          }

         leaf interval  {
           type uint32 {
           description "Time interval between transmission of two
             consequitive pakcets in the test session.";
           }
         }

         leaf senderSessionState {
           type enumeration {



Mirsky & Elteto          Expires January 7, 2016                [Page 6]


Internet-Draft           TWAMP Light data model                July 2015


             enum active {
               description "Test session is active.";
             }
             enum ready {
               description "Test session is idle.";
             }
           }
           default ready;
           config "false";
         }
         uses maintenanceStatistics;
         uses sessionLightParameters;
       }
     }

     container twampLightSessionReflector {
       if-feature sessionReflector;
       leaf refwait {
         config "true";
         type uint32 {
           range 1..604800;
         }
         units seconds;
         default 900;
         description "REFWAIT(TWAMP test session timeout in seconds),
           the default value is 900";
       }

       leaf reflectorLightMode {
         type enumeration {
           enum stateful {
             status current;
             description "When the Session-Reflector Light is stateful,
               i.e. is aware of test session state.";
           }
           enum stateless {
             status current;
             description "when the Session-Reflector is statelss.";
           }
         }
         default stateless;
         status current;
         description "Whether Session-Sender copies sequence number
           of received TWAMP-Test packet, i.e. Stateless, or counts
           reflected TWAMP-Test packets and restarts counter based on
           external event.";
        }




Mirsky & Elteto          Expires January 7, 2016                [Page 7]


Internet-Draft           TWAMP Light data model                July 2015


        leaf dscpHandlingMode {
          type enumeration {
            enum copyReceivedValue {
              status current;
              description "Use DSCP value copied from received TWAMP
                test packet of the test session.";
              }
              enum useConfiguredValue {
                status current;
                description "Use DSCP value configured for this test
                  session on the Session-Reflector.";
                }
             }
             status current;
             default copyReceivedValue;
             description "Session-Reflector handling of DSCP:
                 - use value copied from received TWAMP-Test packet;
                 - use value explicitly configued.";
           }

       list testSession {
         key "senderIp senderUdpPort reflectorIp reflectorUdpPort dscp";
         ordered-by system;
         status current;
         description "This structure is a container of test session
             managed objects.";
         uses maintenanceStatistics;
         uses sessionLightParameters;
       }
     }
   }
 }


4.  IANA Considerations

   This document registers a URI in the IETF XML registry [RFC3688].
   Following the format in [RFC3688], the following registration is
   requested to be made.

   URI: urn:ietf:params:xml:ns:yang:ietf-twamp-light

   Registrant Contact: The IPPM WG of the IETF.

   XML: N/A, the requested URI is an XML namespace.

   This document registers a YANG module in the YANG Module Names
   registry [RFC6020].



Mirsky & Elteto          Expires January 7, 2016                [Page 8]


Internet-Draft           TWAMP Light data model                July 2015


   name: ietf-twamp-light

   namespace: urn:ietf:params:xml:ns:yang:ietf-twamp-light

   prefix: twamp

   reference: RFC XXXX

5.  Security Considerations

   The configuration, state, action data defined in this document may be
   accessed via the NETCONF protocol [RFC6241].  SSH [RFC6242] is
   mandatory secure transport that is the lowest NETCONF layer.  The
   NETCONF access control model [RFC6536] provides means to restrict
   access for particular NETCONF users to a pre-configured subset of all
   available NETCONF protocol operations and content.

   But, in general, this TWAMP Light YANG module does not change any
   underlying security issues that already may exhist in
   [I-D.elteto-ippm-twamp-mib].

6.  Acknowledgements

7.  References

7.1.  Normative References

   [I-D.cmzrjp-ippm-twamp-yang]
              Civil, R., Morton, A., Zheng, L., Rahman, R.,
              Jethanandani, M., and K. Pentikousis, "Two-Way Active
              Measurement Protocol (TWAMP) Data Model", draft-cmzrjp-
              ippm-twamp-yang-01 (work in progress), July 2015.

   [I-D.elteto-ippm-twamp-mib]
              Elteto, T. and G. Mirsky, "Two-Way Active Measurement
              Protocol (TWAMP) Management Information Base (MIB)",
              draft-elteto-ippm-twamp-mib-01 (work in progress), January
              2014.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC3688]  Mealling, M., "The IETF XML Registry", BCP 81, RFC 3688,
              January 2004.

   [RFC5357]  Hedayat, K., Krzanowski, R., Morton, A., Yum, K., and J.
              Babiarz, "A Two-Way Active Measurement Protocol (TWAMP)",
              RFC 5357, October 2008.



Mirsky & Elteto          Expires January 7, 2016                [Page 9]


Internet-Draft           TWAMP Light data model                July 2015


   [RFC6020]  Bjorklund, M., "YANG - A Data Modeling Language for the
              Network Configuration Protocol (NETCONF)", RFC 6020,
              October 2010.

   [RFC6241]  Enns, R., Bjorklund, M., Schoenwaelder, J., and A.
              Bierman, "Network Configuration Protocol (NETCONF)", RFC
              6241, June 2011.

   [RFC6242]  Wasserman, M., "Using the NETCONF Protocol over Secure
              Shell (SSH)", RFC 6242, June 2011.

   [RFC6536]  Bierman, A. and M. Bjorklund, "Network Configuration
              Protocol (NETCONF) Access Control Model", RFC 6536, March
              2012.

7.2.  Informative References

   [I-D.ietf-ippm-type-p-monitor]
              Hedin, J., Mirsky, G., and S. Baillargeon, "Differentiated
              Service Code Point and Explicit Congestion Notification
              Monitoring in Two-Way Active Measurement Protocol
              (TWAMP)", draft-ietf-ippm-type-p-monitor-02 (work in
              progress), May 2015.

Authors' Addresses

   Greg Mirsky
   Ericsson

   Email: gregory.mirsky@ericsson.com


   Tamas Elteto
   Ericsson

   Email: tamas.elteto@ericsson.com















Mirsky & Elteto          Expires January 7, 2016               [Page 10]

