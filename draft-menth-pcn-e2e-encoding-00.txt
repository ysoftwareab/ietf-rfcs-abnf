


Internet Engineering Task Force                                 M. Menth
Internet-Draft                                   University of Wuerzburg
Expires: January 8, 2009                                      J. Babiarz
                                                                  Nortel
                                                            T. Moncaster
                                                                      BT
                                                            July 7, 2008


                 End-to-end Extension for PCN Encoding
                    draft-menth-pcn-e2e-encoding-00

Status of this Memo

   By submitting this Internet-Draft, each author represents that any
   applicable patent or other IPR claims of which he or she is aware
   have been or will be disclosed, and any of which he or she becomes
   aware will be disclosed, in accordance with Section 6 of BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on January 8, 2009.

Copyright Notice

   Copyright (C) The IETF Trust (2008).











Menth, et al.            Expires January 8, 2009                [Page 1]

Internet-Draft    End-to-end Extension for PCN Encoding        July 2008


Abstract

   This document proposes an encoding of PCN marks based on the ECN
   field of the Voice-Admit DSCP.  It has global meaning and ECN
   semantics are not applied to that field.  The PCN codepoints are the
   same as those for packet-specific dual marking (PSDM) within a single
   PCN domain, but the general concept can also be applied to other
   encodings requiring only a single PCN-enabled DSCP.


Table of Contents

   1.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  3
   2.  Terminology  . . . . . . . . . . . . . . . . . . . . . . . . .  4
   3.  Encoding Support for End-to-End PCN  . . . . . . . . . . . . .  5
   4.  IANA Considerations  . . . . . . . . . . . . . . . . . . . . .  6
   5.  Security Considerations  . . . . . . . . . . . . . . . . . . .  7
   6.  Conclusions  . . . . . . . . . . . . . . . . . . . . . . . . .  8
   7.  References . . . . . . . . . . . . . . . . . . . . . . . . . .  9
     7.1.  Normative References . . . . . . . . . . . . . . . . . . .  9
     7.2.  Informative References . . . . . . . . . . . . . . . . . .  9
   Authors' Addresses . . . . . . . . . . . . . . . . . . . . . . . . 10
   Intellectual Property and Copyright Statements . . . . . . . . . . 11




























Menth, et al.            Expires January 8, 2009                [Page 2]

Internet-Draft    End-to-end Extension for PCN Encoding        July 2008


1.  Introduction

   Pre-congestion notification provides information to support admission
   control and flow termination at the boundary nodes of a Diffserv
   region in order to protect the quality of service (QoS) of inelastic
   flows [PCN-arch].  This is achieved by marking packets on interior
   nodes according to some metering function implemented at each node.
   Excess traffic marking marks PCN packets that exceed a certain
   reference rate on a link while exhaustive marking marks all PCN
   packets on a link when the PCN traffic rate exceeds a reference rate
   [PCN-marking-behaviour].  These marks are monitored by the egress
   nodes of the PCN domain.  This idea that the use of PCN marks is
   limited to a single domain is called edge-to-edge PCN.

   Packet-specific dual marking (PSDM) [PCN-pcn-encoding-PSDM] proposes
   an encoding of PCN marks that reuse the ECN field of PCN-enabled DSCP
   to record the marks in IP packets.  However, these codepoints can be
   used only within PCN domains and packets with such PCN codepoints
   must not leave the PCN domain.

   With end-to-end PCN the entities monitoring and evaluating the PCN
   marks reside in the end systems such that the notion of PCN domains
   no longer exists [Menth08-PCN-Comparison].  Here, an encoding is
   required that has a global scope.  In this document, we propose to
   use the ECN field of the Voice-Admit DSCP for that use.  As a
   consequence, ECN cannot be used with Voice-Admit anymore.  Note that
   Voice-Admit DSCP with this modified meaning can be used both for
   edge-to-edge and for end-to-end PCN.

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [RFC2119].



















Menth, et al.            Expires January 8, 2009                [Page 3]

Internet-Draft    End-to-end Extension for PCN Encoding        July 2008


2.  Terminology

   The terminology used in this document is defined either in [PCN-arch]
   or in [PCN-pcn-encoding-PSDM].

   o  Edge-to-edge PCN - Admission for a PCN domain is requested
      explicitly for flows.  When their packets enter the PCN domain,
      the ingress node sets a PCN-enabled DSCP and a PCN-capable
      codepoint (ECN field).  The packets are metered and possibly re-
      marked by the traversed node in the PCN domain.  The markings are
      evaluated by the egress node of that domain, and the DSCP and ECN
      field of the packet is reset before packets leave the PCN domain.

   o  End-to-end PCN - The source node or a proxy thereof issues PCN
      packets with a PCN-enabled DSCP and PCN-capable codepoint (ECN
      field).  Packets are metered and possibly marked by PCN nodes on
      their way.  They pass ingress and egress nodes without special
      treatment of their DSCP or ECN field.  The destination node or a
      proxy thereof evaluate the PCN markings.
































Menth, et al.            Expires January 8, 2009                [Page 4]

Internet-Draft    End-to-end Extension for PCN Encoding        July 2008


3.  Encoding Support for End-to-End PCN

   In this section describes the changes to [PCN-pcn-encoding-PSDM] to
   support end-to-end PCN.

   In [PCN-pcn-encoding-PSDM] the Voice-Admit DSCP is proposed as the
   preferred PCN-enabled DSCP to implement the PSDM encoding within
   single domains.  PCN codepoints are interpreted as such only within
   PCN domains while they are interpreted as ECN codepoints outside PCN
   domains.  Being conform with [RFC4774] requires special treatment of
   PCN packets by ingress and egress nodes of a PCN domain.

   We propose that the default ECN semantics [RFC3168] do not apply for
   the Voice-Admit DSCP [voice-admit] , but alternate PCN semantics are
   applied which are end-to-end PCN.  This requires an update to
   [voice-admit].

   Then, the ECN field can be used for PCN purposes in the general
   Internet.  One of the benefits is that end-to-end PCN can be
   supported by such a codepoint.

   This extension of the scope of Voice-Admit DSCP for PCN has no impact
   on the treatment of the PCN encoding for edge-to-edge PCN wich is
   described in [PCN-pcn-encoding-PSDM]. o PCN packets have a PCN-
   capable codepoint only within a PCN domain. o Ingress and egress
   nodes need to perform special treatment of PCN packets of edge-to-
   edge controlled PCN flows.

   In contrast, packets from end-to-end PCN controlled flows are not
   dropped by the ingress node of a PCN domain and not re-marked by the
   egress node of a PCN domain.  Special treatment of ECN-capable PCN
   flows is not needed because PCN flows are not ECN capable.

   PCN ingress and egress nodes can differentiate packets from end-to-
   end and edge-to-edge PCN flows because edge-to-edge PCN flows
   explicitly request admission for the PCN domain such that PCN ingress
   and egress nodes keep per-flow states and know whether an incoming
   packet is edge-to-edge or end-to-end PCN controlled.













Menth, et al.            Expires January 8, 2009                [Page 5]

Internet-Draft    End-to-end Extension for PCN Encoding        July 2008


4.  IANA Considerations

   This document makes no request to IANA.  It does however request a
   change to [voice-admit], requesting that a statement to be added that
   the default behaviour for the ECN semantics [RFC3168] does not apply
   for the Voice-Admit [voice-admit] DSCP.













































Menth, et al.            Expires January 8, 2009                [Page 6]

Internet-Draft    End-to-end Extension for PCN Encoding        July 2008


5.  Security Considerations

   TBD
















































Menth, et al.            Expires January 8, 2009                [Page 7]

Internet-Draft    End-to-end Extension for PCN Encoding        July 2008


6.  Conclusions

   The proposed encoding allows that PCN codepoint can be used in the
   general Internet.  This opens the possibility for end-to-end PCN.















































Menth, et al.            Expires January 8, 2009                [Page 8]

Internet-Draft    End-to-end Extension for PCN Encoding        July 2008


7.  References

7.1.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC3168]  Ramakrishnan, K., Floyd, S., and D. Black, "The Addition
              of Explicit Congestion Notification (ECN) to IP",
              RFC 3168, September 2001.

   [RFC4774]  Floyd, S., "Specifying Alternate Semantics for the
              Explicit Congestion Notification (ECN) Field", BCP 124,
              RFC 4774, November 2006.

7.2.  Informative References

   [PCN-arch]
              Eardley, P., "Pre-Congestion Notification Architecture",
              draft-ietf-pcn-architecture-03 (work in progress),
              February 2008.

   [PCN-marking-behaviour]
              Eardley, P., "Marking behaviour of PCN-nodes",
              draft-eardley-pcn-marking-behaviour-01 (work in progress),
              June 2008.

   [PCN-pcn-encoding-PSDM]
              Menth, M., Babiarz, J., Moncaster, T., and B. Briscoe,
              "PCN Encoding for Packet-Specific Dual Marking (PSDM)",
              July 2008.

   [voice-admit]
              Baker, F., Polk, J., and M. Dolly, "DSCPs for Capacity-
              Admitted Traffic",
              draft-ietf-tsvwg-admitted-realtime-dscp-04 (work in
              progress), February 2008.














Menth, et al.            Expires January 8, 2009                [Page 9]

Internet-Draft    End-to-end Extension for PCN Encoding        July 2008


Authors' Addresses

   Michael Menth
   University of Wuerzburg
   Am Hubland
   Wuerzburg  D-97074
   Germany

   Phone: +49-931-888-6644
   Email: menth@informatik.uni-wuerzburg.de


   Jozef Z. Babiarz
   Nortel
   3500 Carling Avenue
   Ottawa, Ont.  K2H 8E9
   Canada

   Phone: +1-613-763-6098
   Email: babiarz@nortel.com


   Toby Moncaster
   BT
   B54/70, Adastral Park
   Ipswich  IP5 3RE
   UK

   Phone: +44 1473 648734
   Email: toby.moncaster@bt.com





















Menth, et al.            Expires January 8, 2009               [Page 10]

Internet-Draft    End-to-end Extension for PCN Encoding        July 2008


Full Copyright Statement

   Copyright (C) The IETF Trust (2008).

   This document is subject to the rights, licenses and restrictions
   contained in BCP 78, and except as set forth therein, the authors
   retain all their rights.

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST AND
   THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS
   OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF
   THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.


Intellectual Property

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in BCP 78 and BCP 79.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   http://www.ietf.org/ipr.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.


Acknowledgment

   Funding for the RFC Editor function is provided by the IETF
   Administrative Support Activity (IASA).





Menth, et al.            Expires January 8, 2009               [Page 11]

