


Internet-Draft               WWW Service MIB                   June 1997


            Definitions of Managed Objects for WWW Services

                              June 3, 1997

                   <draft-ietf-applmib-wwwmib-03.txt>

                          Carl W. Kalbfleisch
                              Verio, Inc.
                             cwk@verio.net

                           Harrie Hazewinkel
                   Joint Research Centre of the E.C.
                        harrie.hazewinkel@jrc.it

                         Juergen Schoenwaelder
                          University of Twente
                         schoenw@cs.utwente.nl





Status of this Memo

   This document is an Internet-Draft.  Internet-Drafts are working
   documents of the Internet Engineering Task Force (IETF), its areas,
   and its working groups.  Note that other groups may also distribute
   working documents as Internet-Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet- Drafts as reference
   material or to cite them other than as ``work in progress.''

   To learn the current status of any Internet-Draft, please check the
   ``1id-abstracts.txt'' listing contained in the Internet- Drafts
   Shadow Directories on ftp.is.co.za (Africa), nic.nordu.net (Europe),
   munnari.oz.au (Pacific Rim), ds.internic.net (US East Coast), or
   ftp.isi.edu (US West Coast).

   Distribution of this document is unlimited. Please send comments to
   the Application MIB Working Group, <applmib@emi-summit.com>.










Expires October 1997                                            [Page 1]

Internet-Draft               WWW Service MIB                   June 1997


1.  Abstract

   This memo defines an experimental portion of the Management
   Information Base (MIB) for use with network management protocols in
   the Internet Community. In particular it describes a set of objects
   for managing World-Wide Web (WWW) services. This MIB extents the
   application management framework defined by the System Application
   Management MIB (SYSAPPL-MIB) [9] and the Application Management MIB
   (APPL-MIB) [10]. The WWW service statistics are based on an abstract
   document transfer protocol (DTP). This abstract protocol can be
   mapped on protocols like HTTP or FTP. Additional mappings may be
   defined in the future in order to use this MIB with other document
   transfer protocols.


2.  The SNMPv2 Network Management Framework

   The SNMP Network Management Framework presently consists of three
   major components. They are:

   o    the SMI, described in RFC 1902 [1] - the mechanisms used for
        describing and naming objects for the purpose of management.

   o    the MIB-II, STD 17, RFC 1213 [2] - the core set of managed
        objects for the Internet suite of protocols.

   o    the protocol, RFC 1157 [3] and/or RFC 1905 [4], - the protocol
        for accessing managed objects.

   The Framework permits new objects to be defined for the purpose of
   experimentation and evaluation.



2.1.  Object Definitions

   Managed objects are accessed via a virtual information store, termed
   the Management Information Base or MIB. Objects in the MIB are
   defined using the subset of Abstract Syntax Notation One (ASN.1)
   defined in the SMI [1]. In particular, each object type is named by
   an OBJECT IDENTIFIER, an administratively assigned name. The object
   type together with an object instance serves to uniquely identify a
   specific instantiation of the object. For human convenience, we often
   use a textual string, termed the object descriptor, to refer to the
   object type.







Expires October 1997                                            [Page 2]

Internet-Draft               WWW Service MIB                   June 1997


3.  Terminology

   This section defines the terminology used throughout this document.

   o    The 'World-Wide Web' (WWW) is a world wide information system
        which is based on the concept of documents that are linked
        together by embedding references (links) to other local or
        remote documents.

   o    A 'document' is a coherent piece of data which is accessible in
        the World-Wide Web. No assumptions are made about the content or
        the type of a document.

   o    A 'Uniform Resource Locator' (URL) is a formatted string
        representation for a document available via the Internet. URLs
        are used to express references between documents. For the syntax
        and semantics of the URL string representation is referred to
        RFC 1630 [6] and RFC 1738 [5]

   o    A 'Document Transfer Protocol' (DTP) is a protocol used within
        the World-Wide Web to transfer documents. The DTP is an
        abstraction from real protocols, such as HTTP [12] or FTP [13].

   o    A 'request' is a DTP protocol operation which is targeted to a
        'document' and invokes an action on the target document.  The
        request type specifies the action that should be performed. A
        request can have a document associated to it.

   o    A 'response' is a DTP protocol operation which is returned as a
        result of a previous (and associated) request. The response
        status indicates if the requested action was successful or if
        errors occurred. A response can have a document associated to
        it.

   o    An 'entity' is defined as a program which uses or provides a
        World-Wide Web service realized through a document transfer
        protocol. Entities can be further subdivided into client,
        server, proxy and caching proxy entities.

   o    A 'client' is an entity which establishes connections for the
        purpose of sending requests and receiving responses.

   o    A 'server' is an entity that accepts connections in order to
        service requests by sending back responses.

   o    A 'proxy' is an intermediary entity which acts as both a server
        and a client for the purpose of making requests on behalf of





Expires October 1997                                            [Page 3]

Internet-Draft               WWW Service MIB                   June 1997


        other clients. Requests are serviced internally or by passing
        them on, with possible translation, to other servers.

   o    A 'caching proxy' is a proxy with the capability of locally
        storing responses to associated requests. A caching proxy can
        respond to similar requests with a previously stored response.


4.  Overview

   The World-Wide Web (WWW) is a global network of information,
   accessible via user friendly programs (so-called browser).
   Information is stored in documents, which can have various formats,
   including hyper-text and multi-media documents. Access to these
   documents is provided by servers which are located all around the
   world and are linked to each other via hyper-links embedded in
   documents.

   The usability of the World-Wide Web depends largely on the
   performance of the services realized by these servers. The services
   are typically monitored through log files. This becomes a difficult
   task when a single organization is responsible for a large number of
   services. It is therefore desirable to treat WWW services as objects
   that can be managed by using the Internet network management
   framework.


4.1.  Purpose and Requirements

   The goal of this MIB is to define a standardized set of objects which
   lead to integrated and improved performance and fault management in a
   heterogenous environment of WWW services. This MIB focuses on the
   service level view. It does not deal with the operational view, which
   is covered by the system application and the application MIBs [9,10].

   The purpose of this document is to define a set of managed objects
   that allow to monitor WWW services for short-term operational
   purposes, such as problem detection and troubleshooting. No attempts
   are made here to cover accounting or hit metering issues.

   The scope of the MIB is further limited by the requirement that an
   implementation conforming to this MIB must be possible without a
   putting a huge CPU or memory burden on the WWW server implementation.

   Another issue not covered by this MIB is WWW service configuration.
   Server software has become an interesting market where competing
   vendors constantly invent new features in order to shape their





Expires October 1997                                            [Page 4]

Internet-Draft               WWW Service MIB                   June 1997


   products. It is therefore not possible to reach consensus on a common
   way to configure WWW services.


4.2.  Relationship to other Standards Efforts

   The WWW service MIB fits into the application management architecture
   defined in the system application management MIB [9]. The system
   application MIB [9] and the application MIB [10] use a process
   oriented model, where an application is viewed as a collection of
   processes. The WWW service MIB described in this memo uses a service
   oriented view, which looks at the services provided by a set of
   processes.

   The relationship between the process oriented view and the service
   oriented view is a many-to-many relationship, because one process can
   implement multiple services and multiple services can be implemented
   by a single set of processes. The application management MIB [9] is
   expected to contain a generic mapping table, which maps back and
   forth between both views.


4.3.  WWW Entities

   The MIB is organized around the concept of a WWW entity. A WWW entity
   is either a clients, a server or a proxy. Clients send out requests
   to request information from a server or proxy entity. Server entities
   receive, process and respond to requests received from client
   entities. A server has access to local documents, which can be
   transfered to clients.

   A proxy is a special server, who acts as both a server and a client
   for the purpose of making requests on behalf of other clients. A
   proxy is able to translate between the client and the origin server.
   A proxy might also interact with other information retrieval system,
   like for example databases.

   The MIB defined in this memo distinguishes between outgoing and
   incoming requests and responses. This allows to obtain statistics for
   clients, servers and proxies with a single set of objects.

   A special proxy server is the caching proxy, which maintains a cache
   of previously received documents in order to reduce the bandwidth
   used by World-Wide Web clients. One interesting management
   information is the percentage of requests that were served from the
   cache of the caching proxy (hits/miss-ratio). This ratio is not
   contained explicitly in this MIB. Instead, the ratio can be derived





Expires October 1997                                            [Page 5]

Internet-Draft               WWW Service MIB                   June 1997


   from the objects that count incoming and outgoing requests and
   responses.


4.4.  Document Transfer Protocol

   The MIB is based on the concept of an abstract document transfer
   protocol (DTP). The purpose of the abstract document transfer
   protocol is to make the MIB definitions independent from concrete
   protocols, like the Hypertext Transfer Protocol (HTTP) [11,12] or the
   File Transfer Protocol (FTP) [13].

   The document transfer protocol makes the following assumptions:

   -    The transfer protocol uses a request/response style of
        interactions.

   -    The request contains a request type, which defines the
        operations performed by the receiving server. The request type
        is represented by an OCTET STRING. It might be necessary to
        define a translation into an OCTET STRING value for protocols
        that use numbers to identify request types.

   -    The response contains a status code, which indicates if the
        request was processed successfully or which error occured. The
        status code is represented as an INTEGER value. It might be
        necessary to define a mapping for protocols that do not use an
        INTEGER status code.

   -    The MIB defined in this memo makes the assumption that every
        response can be related to a particular request. Some protocols
        allow to send multiple responses to a single request. This case
        can be handled by defining which responses is the "primary"
        response to a request.

   The appendix of this memo defines a mapping of the document transfer
   protocol on the HTTP protocol and the FTP protocol. Mappings to other
   protocols, like NNTP [RFC 0977] or WebNFS [RFC 2054, RFC 2055] might
   be defined in the future.


5.  Structure of the MIB

   This section presents the structure of the MIB. The objects are
   arranged into the following groups:







Expires October 1997                                            [Page 6]

Internet-Draft               WWW Service MIB                   June 1997


   o    entity information

   o    service statistics

   o    document statistics


5.1.  Entity Group

   The entity group consists of a table describing all the entities
   managed by the SNMP agent. The entity table contains not only basic
   network management information for (potentially) multiple entities
   running on a single host, but also information for all entities
   within virtual domains of the host. The columnar objects in the table
   can be divided into two main groups:

   1.   global administrative information of the entity, such as entity
        contact person, and

   2.   network information, such as the transfer protocol.


5.2.  Service Statistics Group

   The service statistics group provides network management information
   about the traffic received or transmitted by an entity. This group
   contains all network traffic related counters and consists of five
   tables:

   o    The wwwSummaryTable contains a set of network traffic related
        counters. The table provides a summarization of the network
        traffic which is also found in the request and response tables.
        It is well recognized that certain variables are redundant with
        respect to the request and response tables, but they are added
        to provide an operator a quick overview and to reduce SNMP
        network traffic.

   o    The wwwRequestInTable contains detailed information about
        incoming requests. Every particular request type is counted
        separately.

   o    The wwwRequestOutTable contains detailed information about
        outgoing requests. Every particular request type is counted
        separately.

   o    The wwwResponseInTable contains detailed information about
        incoming responses. Every particular response type is counted





Expires October 1997                                            [Page 7]

Internet-Draft               WWW Service MIB                   June 1997


        separately.

   o    The wwwResponseOutTable contains detailed information about
        outgoing responses. Every particular response type is counted
        separately.


5.3.  Document Statistics Group

   The document group contains information about the documents which
   where accessed in the past. The group consist of the following
   tables:

   o    The wwwDocCtrlTable provides the manager a means to control and
        configure which statistics are collected and when statistics
        will expire.

   o    The wwwDocLastNTable provides the manager information about the
        last N documents which where accessed. The table lists the
        document attempted to read together with the request and
        response type of the DTP. The request and response types provide
        a manager information of how the read attempts were handled by
        the WWW entity. The number of documents in the wwwDocLastNTable
        is controlled by the wwwDocCtrlLastNSize object in the
        wwwDocCtrlTable. The wwwDocCtrlLastNStatus object of the
        wwwDocCtrlTable allows to disable table updates so that a
        manager can read fast changing tables.

   o    The wwwDocBucketTable lists the buckets of statistical
        information that have been collected for a WWW entity. An entry
        in the wwwDocBucketTable contains administrative information
        about the bucket (the creation timestamp or the sort order) as
        well as summary information (number of accesses, number of
        document and number of bytes transferred).

   o    The wwwDocBucketTopNTable provides the manager an overview of
        the top N documents which were accessed. The size N of a bucket
        is controlled by the wwwDocCtrlBucketSize object in the
        wwwDocCtrlTable.  A new bucket is created after a certain time
        interval has passed.  The time interval is controlled by the
        wwwDocCtrlBucketTimeInterval object of the wwwDocCtrlTable. The
        maximum number of buckets maintained by the SNMP agent is
        controlled by the wwwDocCtrlBuckets object of the
        wwwDocCtrlTable. A bucket can be sorted according to the number
        of accesses or the number of bytes transferred. The sort order
        is controlled by wwwDocCtrlBucketSort object of the
        wwwDocCtrlTable.





Expires October 1997                                            [Page 8]

Internet-Draft               WWW Service MIB                   June 1997


6.  Definitions

   WWW-MIB DEFINITIONS ::= BEGIN

   IMPORTS
       mib-2,
       MODULE-IDENTITY,
       OBJECT-TYPE,
       Counter32,
       Integer32,
       Unsigned32
           FROM SNMPv2-SMI

       TEXTUAL-CONVENTION,
       DisplayString,
       TimeStamp,
       DateAndTime,
       TimeInterval
           FROM SNMPv2-TC

       MODULE-COMPLIANCE,
       OBJECT-GROUP
           FROM SNMPv2-CONF;

   wwwMIB MODULE-IDENTITY
       LAST-UPDATED "9703260000Z"
       ORGANIZATION "Application MIB Working Group"
       CONTACT-INFO
           "        Carl W. Kalbfleisch

            Postal: Verio, Inc.
                    1950 Stemmons Freeway
                    Suite 2004 - Infomart
                    Dallas, TX 75207
                    US

               Tel: +1 972 238-8303
               Fax: +1 972 238-0268

            E-mail: cwk@verio.net

                    Harrie Hazewinkel

            Postal: MUSIQ/DESIRE/CEO Program
                    Centre for Earth Observation
                    Institute for Space Applications
                    Joint Research Centre of the E.C.





Expires October 1997                                            [Page 9]

Internet-Draft               WWW Service MIB                   June 1997


                    TP. 950
                    Ispra 21020 (VA) Italy

               Tel: +39+(0)332+789384
               Fax: +39+(0)332+785500

            E-mail: harrie.hazewinkel@jrc.it

                    Juergen Schoenwaelder

            Postal: Computer Science Department
                    University of Twente
                    P.O. Box 217, NL-7500 AE Enschede
                    The Netherlands.

               Tel: +31-53-489-3678
               Fax: +31-53-489-3247

            E-mail: schoenw@cs.utwente.nl"
       DESCRIPTION
           "The MIB module for WWW entities. The MIB is applicable to
            a wide family of 'Networked Information Retrieval' protocols.
            Examples are HTTP and FTP."

       REVISION "9706030000Z"
       DESCRIPTION
           "Removed text which described relationship issues because
            relationships are now handled in the application MIB.
            Rewrote the terminology section. Changed the structure
            of the whole text. Removed the [## ##] marks because
            nearly all of them referred to the old document group.
            Rewrote and overview section. Added a discussion of
            security issues. Added two compliance statements to
            allow a minimal implementation for high-speed servers.
            Added the new document tables - renamed most objects
            in order to get a consistent naming scheme."

       REVISION "9705050000Z"
       DESCRIPTION
           "Removed all the *Bogus objects and the wwwRelate group.
            Changed the name of the document to refer to WWW services.
            Changes the WwwRequestType to OCTET STRING to avoid
            DisplayString subtyping and to make it more generic.
            Changed WwwResponseType to Integer32. Removed the
            wwwSummaryRequestErrors, wwwSummaryRequestDiscards,
            wwwSummaryResponseDiscards, wwwSummaryInUnknowns
            objects. Merged the wwwSummary[In|Out]Bytes into a





Expires October 1997                                           [Page 10]

Internet-Draft               WWW Service MIB                   June 1997


            single counters. Rewrote the abstract of this document."

       REVISION "9703260000Z"
       DESCRIPTION
           "Removed wwwEntityProtocolVersion. Change syntax of
            wwwEntityUpTime. Change index of wwwDocTable. Fix import
            for mib-2. Change description of wwwEntityLastTime. Change
            description for wwwEntityIndex. Change wwwEntityIndex to
            Unsigned32. Change wwwDocInstallPkg and wwwDocInstallElmt
            to Unsigned32 to align with change to SYSAPPL-MIB. Change
            INDEX clause for wwwDocNameEntry to use IMPLIED. Removed
            the SMICng include file. Removed the 'Done List' appendix.
            Replaced the protocol mappings section with a shorter
            version. Removed the HTTP specific section from the main
            text."

       REVISION "9701300000Z"
       DESCRIPTION
           "Removed wwwEntityAddress, wwwDocFirstAccessTimeStamp,
            wwwDocInBytes and wwwDocInCount. Rename wwwDocOutBytes to
            wwwDocBytes and wwwDocOutCount to wwwDocCount. Changed
            description of wwwDocStatus. Add separate indexes for request
            and response in and out tables."

       REVISION "9701080000Z"
       DESCRIPTION
           "Remove usage of applIndex. Split request/response tables."

       REVISION "9611190000Z"
       DESCRIPTION
           "Add skeleton tables for extending SYSAPPL-MIB framework
            within the wwwAppl branch."

       REVISION "9609240000Z"
       DESCRIPTION
           "Update a number of descriptions to make MIB less www specific
            and more general. Remove wwwEntityObjectID. Move wwwDocNamePkg
            and wwwDocNameElmt to wwwDocInstallElmt and wwwDocInstallPkg
            in wwwDocTable."

       REVISION "9609230000Z"
       DESCRIPTION
           "Update a number of descriptions to make MIB less www
            specific and more general. Changed names of Header/Data
            byte attributes to Control/Content byte attributes."

       ::= { mib-2 8080 } -- TBD





Expires October 1997                                           [Page 11]

Internet-Draft               WWW Service MIB                   June 1997


   --
   --  Object Identifier Assignments
   --

   wwwMIBObjects     OBJECT IDENTIFIER ::= { wwwMIB 1 }
   wwwMIBConformance OBJECT IDENTIFIER ::= { wwwMIB 2 }
   wwwMIBCompliances OBJECT IDENTIFIER ::= { wwwMIBConformance 1 }
   wwwMIBGroups      OBJECT IDENTIFIER ::= { wwwMIBConformance 2 }

   --
   -- Textual Conventions
   --

   WwwRequestType ::= TEXTUAL-CONVENTION
       STATUS      current
       DESCRIPTION
           "The WwwRequestType describes the types of requests.
            The value of this type is exactly the same textual
            identification of request types used in the information
            transport protocol.

            For the proper values is referred to the specific
            protocol specification."
       SYNTAX      OCTET STRING (SIZE (1..40))


   WwwResponseType ::= TEXTUAL-CONVENTION
       STATUS      current
       DESCRIPTION
           "The WwwResponseType defines the different response values
            used by information transport protocols.
            The value of this type are the 3-digit codes used in the
            information transport protocol.

            For the proper values is referred to the specific
            protocol specification."
       SYNTAX      Integer32 (0..2147483647)

   WwwEntityType ::= TEXTUAL-CONVENTION
       STATUS      current
       DESCRIPTION
           "The type of the wwwEntity."
       SYNTAX      INTEGER {
                       wwwEntityTypeServer(1),
                       wwwEntityTypeClient(2),
                       wwwEntityTypeProxy(3),
                       wwwEntityTypeCachingProxy(4),





Expires October 1997                                           [Page 12]

Internet-Draft               WWW Service MIB                   June 1997


                       wwwEntityTypeOther(5)
                   }

   WwwEntityOperStatus ::= TEXTUAL-CONVENTION
       STATUS      current
       DESCRIPTION
           "The operational status of the wwwEntity. 'down'
            indicates that the wwwEntity is not available.
            'running' indicates that the wwwEntity is operational
            and available. 'halted' indicates that the wwwEntity
            is operational but not available.  'congested'
            indicates that the wwwEntity is operational but no
            additional inbound associations can be accommodated.
            'restarting' indicates that the wwwEntity is currently
            unavailable but is in the process of restarting and
            will be available soon."
       SYNTAX      INTEGER {
                       down(1),
                       running(2),
                       halted(3),
                       congested(4),
                       restarting(5)
                   }

   WwwDocName ::= TEXTUAL-CONVENTION
       STATUS      current
       DESCRIPTION
           "The server relative name of a document. If the URL were
            http://www.x.org/standards/search/search.cgi?string=test
            then the value of this textual convention would resolve
            to '/standards/search/search.cgi'."
       SYNTAX      DisplayString

   WwwDocSort ::= TEXTUAL-CONVENTION
       STATUS      current
       DESCRIPTION
           "A data type defining the sort oder of document statistics.

            The value 'accesses' means that every new created bucket
            is sorted in descending order according to the number of
            document access attempts.

            The value 'bytes' means that every new created bucket
            is sorted in descending order according to the number of
            bytes transfered in response to document accesses."
       SYNTAX      INTEGER { accesses(1), bytes(2) }






Expires October 1997                                           [Page 13]

Internet-Draft               WWW Service MIB                   June 1997


   -- The WWW Entity Group
   --
   -- The WWW entity group contains information about the WWW entities
   -- known by the SNMP protocol entity.

   wwwEntity OBJECT IDENTIFIER ::= { wwwMIBObjects 1 }

   wwwEntityTable OBJECT-TYPE
       SYNTAX      SEQUENCE OF WwwEntityEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "The table of the entities present on the system."
       ::= { wwwEntity 1 }

   wwwEntityEntry OBJECT-TYPE
       SYNTAX      WwwEntityEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "Details of a particular entity which can be a
            Server, a Client, a Proxy or a Caching-Proxy."
       INDEX       { wwwEntityIndex }
       ::= { wwwEntityTable 1 }

   WwwEntityEntry ::= SEQUENCE {
       wwwEntityIndex              Unsigned32,
       wwwEntityDescription        DisplayString,
       wwwEntityContact            DisplayString,
       wwwEntityProtocol           OBJECT IDENTIFIER,
       wwwEntityName               DisplayString,
       wwwEntityType               WwwEntityType,
       wwwEntityUptime             TimeStamp,
       wwwEntityOperStatus         WwwEntityOperStatus,
       wwwEntityLastChange         TimeStamp
   }

   wwwEntityIndex OBJECT-TYPE
       SYNTAX      Unsigned32 (1..'ffffffff'h)
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "An integer used for indexing purposes. Generally
            monotonically increasing from 1 as new entities
            are initialized.

            The value for each entity must remain constant





Expires October 1997                                           [Page 14]

Internet-Draft               WWW Service MIB                   June 1997


            from one re-initialization of the network management
            agent to the next re-initialization."
       ::= { wwwEntityEntry 1 }

   wwwEntityDescription OBJECT-TYPE
       SYNTAX      DisplayString
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "Textual description of the entity.  This shall include
            at least the vendor and version number of the application.
            In a minimal case, this might be the Product Token (see RFC
            2086) for the application."
       ::= { wwwEntityEntry 2 }

   wwwEntityContact OBJECT-TYPE
       SYNTAX      DisplayString
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The textual identification of the contact person
            for this entity, together with information on how
            to contact this person.  For instance, this might
            be 'webmaster@domain.name'."
       ::= { wwwEntityEntry 3 }

   wwwEntityProtocol OBJECT-TYPE
       SYNTAX      OBJECT IDENTIFIER
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "An identification of the primary protocol in use by this
            entity. For Internet applications, the IANA maintains
            a registry of the OIDs which correspond to well-known
            applications.  If the application protocol is not listed
            in the registry, an OID value of the form {applTCPProtoID
            port} or {applUDProtoID port} are used for TCP-based and
            UDP-based protocols, respectively. In either case 'port'
            corresponds to the primary port number being used by the
            protocol."
       ::= { wwwEntityEntry 4 }

   wwwEntityName OBJECT-TYPE
       SYNTAX      DisplayString
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION





Expires October 1997                                           [Page 15]

Internet-Draft               WWW Service MIB                   June 1997


           "The fully qualified domain name by which this entity is
            known.  This may be different than applName since that
            value is only a textual name for the application."
       ::= { wwwEntityEntry 5 }

   wwwEntityType OBJECT-TYPE
       SYNTAX      WwwEntityType
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "Identification of the role of the entity."
       ::= { wwwEntityEntry 6 }

   wwwEntityUptime OBJECT-TYPE
       SYNTAX      TimeStamp
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The value of sysUpTime at the time the wwwEntity
            was last initialized.  If the application was
            last initialized prior to the last initialization of the
            network management subsystem, then this object contains
            a zero value."
       ::= { wwwEntityEntry 7 }

   wwwEntityOperStatus OBJECT-TYPE
       SYNTAX      WwwEntityOperStatus
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "Indicates the operational status of the wwwEntity."
       ::= { wwwEntityEntry 8 }

   wwwEntityLastChange OBJECT-TYPE
       SYNTAX      TimeStamp
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The value of wwwEntityUpTime at the time the wwwEntity
            entered its current operational state.  If
            the current state was entered prior to the last
            initialization of the local network management subsystem,
            then this object contains a zero value."
       ::= { wwwEntityEntry 9 }


   -- The WWW Service Statistics Group





Expires October 1997                                           [Page 16]

Internet-Draft               WWW Service MIB                   June 1997


   --
   -- The WWW statistics group contains information concerning the
   -- requests and responses send or received by WWW entities.

   wwwServiceStatistics OBJECT IDENTIFIER ::= { wwwMIBObjects 2 }

   wwwSummaryTable OBJECT-TYPE
       SYNTAX      SEQUENCE OF WwwSummaryEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "The table providing overview statistics for the
            entities on this system."
       ::= { wwwServiceStatistics 1 }

   wwwSummaryEntry OBJECT-TYPE
       SYNTAX      WwwSummaryEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "Overview statistics for an individual entity."
       INDEX       { wwwEntityIndex }
       ::= { wwwSummaryTable 1 }

   WwwSummaryEntry ::= SEQUENCE {
       wwwSummaryInRequests        Counter32,
       wwwSummaryOutRequests       Counter32,
       wwwSummaryInResponses       Counter32,
       wwwSummaryOutResponses      Counter32,
       wwwSummaryInBytes           Counter32,
       wwwSummaryOutBytes          Counter32
   }

   wwwSummaryInRequests OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The number of requests successfully received by and processed
            by this entity."
       ::= { wwwSummaryEntry 1 }

   wwwSummaryOutRequests OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION





Expires October 1997                                           [Page 17]

Internet-Draft               WWW Service MIB                   June 1997


           "The number of requests generated by this entity."
       ::= { wwwSummaryEntry 2 }

   wwwSummaryInResponses OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The number of responses successfully received and processed
            by this entity."
       ::= { wwwSummaryEntry 3 }

   wwwSummaryOutResponses OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The number of responses generated by this entity."
       ::= { wwwSummaryEntry 4 }

   wwwSummaryInBytes OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The number of content bytes received by this entity."
       ::= { wwwSummaryEntry 5 }

   wwwSummaryOutBytes OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The number of content bytes generated by this entity."
       ::= { wwwSummaryEntry 6 }

   -- The WWW request tables contain detailed information about
   -- requests send or received by WWW entities.

   wwwRequestInTable OBJECT-TYPE
       SYNTAX      SEQUENCE OF WwwRequestInEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "The table providing detailed request statistics for the
            entities on this system."
       ::= { wwwServiceStatistics 2 }





Expires October 1997                                           [Page 18]

Internet-Draft               WWW Service MIB                   June 1997


   wwwRequestInEntry OBJECT-TYPE
       SYNTAX      WwwRequestInEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "Request statistics for an individual entity."
       INDEX       { wwwEntityIndex, wwwRequestInIndex }
       ::= { wwwRequestInTable 1 }

   WwwRequestInEntry ::= SEQUENCE {
       wwwRequestInIndex           WwwRequestType,
       wwwRequestInCount           Counter32,
       wwwRequestInBytes           Counter32,
       wwwRequestInLastTime        TimeStamp
   }

   wwwRequestInIndex OBJECT-TYPE
       SYNTAX      WwwRequestType
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "The particular request type the statistics apply to."
       ::= { wwwRequestInEntry 1 }

   wwwRequestInCount OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The number of requests of this type received by
            this entity."
       ::= { wwwRequestInEntry 2 }

   wwwRequestInBytes OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The number of content bytes per request type
            received by this entity."
       ::= { wwwRequestInEntry 3 }

   wwwRequestInLastTime OBJECT-TYPE
       SYNTAX      TimeStamp
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION





Expires October 1997                                           [Page 19]

Internet-Draft               WWW Service MIB                   June 1997


           "The value of sysUpTime when the last byte of the last
            complete request of this type was received by this
            entity."
       ::= { wwwRequestInEntry 4 }

   wwwRequestOutTable OBJECT-TYPE
       SYNTAX      SEQUENCE OF WwwRequestOutEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "The table providing detailed request statistics for the
            entities on this system."
       ::= { wwwServiceStatistics 3 }

   wwwRequestOutEntry OBJECT-TYPE
       SYNTAX      WwwRequestOutEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "Request statistics for an individual entity."
       INDEX       { wwwEntityIndex, wwwRequestOutIndex }
       ::= { wwwRequestOutTable 1 }

   WwwRequestOutEntry ::= SEQUENCE {
       wwwRequestOutIndex          WwwRequestType,
       wwwRequestOutCount          Counter32,
       wwwRequestOutBytes          Counter32,
       wwwRequestOutLastTime       TimeStamp
   }

   wwwRequestOutIndex OBJECT-TYPE
       SYNTAX      WwwRequestType
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "The particular request type the statistics apply to."
       ::= { wwwRequestOutEntry 1 }

   wwwRequestOutCount OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The number of requests of this type generated by this
            entity."
       ::= { wwwRequestOutEntry 2 }






Expires October 1997                                           [Page 20]

Internet-Draft               WWW Service MIB                   June 1997


   wwwRequestOutBytes OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The number of content bytes per response type
            generated by this entity."
       ::= { wwwRequestOutEntry 3 }

   wwwRequestOutLastTime OBJECT-TYPE
       SYNTAX      TimeStamp
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The value of sysUpTime when the first byte of the
            last request of this type was send by this entity."
       ::= { wwwRequestOutEntry 4 }

   -- The WWW response tables contain detailed information about
   -- responses send or received by WWW entities.

   wwwResponseInTable OBJECT-TYPE
       SYNTAX      SEQUENCE OF WwwResponseInEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "The table providing detailed response statistics for the
            entities on this system."
       ::= { wwwServiceStatistics 4 }

   wwwResponseInEntry OBJECT-TYPE
       SYNTAX      WwwResponseInEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "Response statistics for an individual entity."
       INDEX       { wwwEntityIndex, wwwResponseInIndex }
       ::= { wwwResponseInTable 1 }

   WwwResponseInEntry ::= SEQUENCE {
       wwwResponseInIndex          WwwResponseType,
       wwwResponseInCount          Counter32,
       wwwResponseInBytes          Counter32,
       wwwResponseInLastTime       TimeStamp
   }

   wwwResponseInIndex OBJECT-TYPE





Expires October 1997                                           [Page 21]

Internet-Draft               WWW Service MIB                   June 1997


       SYNTAX      WwwResponseType
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "The particular response type the statistics apply to."
       ::= { wwwResponseInEntry 1 }

   wwwResponseInCount OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The number of responses of this type received by this
            entity."
       ::= { wwwResponseInEntry 2 }

   wwwResponseInBytes OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The number of content bytes per response type
            received by this entity."
       ::= { wwwResponseInEntry 3 }

   wwwResponseInLastTime OBJECT-TYPE
       SYNTAX      TimeStamp
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The value of sysUpTime when the last byte of the last
            complete response of this type was received by this
            entity."
       ::= { wwwResponseInEntry 4 }

   wwwResponseOutTable OBJECT-TYPE
       SYNTAX      SEQUENCE OF WwwResponseOutEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "The table providing detailed response statistics for the
            entities on this system."
       ::= { wwwServiceStatistics 5 }

   wwwResponseOutEntry OBJECT-TYPE
       SYNTAX      WwwResponseOutEntry
       MAX-ACCESS  not-accessible





Expires October 1997                                           [Page 22]

Internet-Draft               WWW Service MIB                   June 1997


       STATUS      current
       DESCRIPTION
           "Response statistics for an individual entity."
       INDEX       { wwwEntityIndex, wwwResponseOutIndex }
       ::= { wwwResponseOutTable 1 }

   WwwResponseOutEntry ::= SEQUENCE {
       wwwResponseOutIndex         WwwResponseType,
       wwwResponseOutCount         Counter32,
       wwwResponseOutBytes         Counter32,
       wwwResponseOutLastTime      TimeStamp
   }

   wwwResponseOutIndex OBJECT-TYPE
       SYNTAX      WwwResponseType
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "The particular response type the statistics apply to."
       ::= { wwwResponseOutEntry 1 }

   wwwResponseOutCount OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The number of responses of this type generated by this
            entity."
       ::= { wwwResponseOutEntry 2 }

   wwwResponseOutBytes OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The number of content bytes per response type
            generated by this entity."
       ::= { wwwResponseOutEntry 3 }

   wwwResponseOutLastTime OBJECT-TYPE
       SYNTAX      TimeStamp
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The value of sysUpTime when the first byte of the
            last response of this type was sent by this entity."
       ::= { wwwResponseOutEntry 4 }





Expires October 1997                                           [Page 23]

Internet-Draft               WWW Service MIB                   June 1997


   -- The WWW Document Statistics Group
   --
   -- The WWW document statistics group contains statistics about
   -- document read attempts.

   wwwDocumentStatistics OBJECT IDENTIFIER ::= { wwwMIBObjects 3 }

   wwwDocCtrlTable OBJECT-TYPE
       SYNTAX      SEQUENCE OF WwwDocCtrlEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "A table which controls the how the MIB implementation
            collects and maintains document statistics."
       ::= { wwwDocumentStatistics 1 }

   wwwDocCtrlEntry OBJECT-TYPE
       SYNTAX      WwwDocCtrlEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "An entry with which allows to configure the
            wwwDocLastNTable, the wwwDocBucketTable,
            and the wwwBucketTopNDocTable."
       INDEX       { wwwEntityIndex }
       ::= { wwwDocCtrlTable 1 }

   WwwDocCtrlEntry ::= SEQUENCE {
       wwwDocCtrlLastNSize                 Unsigned32,
       wwwDocCtrlLastNStatus               INTEGER,
       wwwDocCtrlBuckets                   Integer32,
       wwwDocCtrlBucketSize                Integer32,
       wwwDocCtrlBucketSort                WwwDocSort,
       wwwDocCtrlBucketTimeInterval        TimeInterval
   }

   wwwDocCtrlLastNSize OBJECT-TYPE
       SYNTAX      Unsigned32
       MAX-ACCESS  read-write
       STATUS      current
       DESCRIPTION
           "The maximum number of entries in the wwwDocLastNTable."
       DEFVAL { 25 }
       ::= { wwwDocCtrlEntry 1 }

   wwwDocCtrlLastNStatus OBJECT-TYPE
       SYNTAX      INTEGER { enabled(1), disabled(2) }





Expires October 1997                                           [Page 24]

Internet-Draft               WWW Service MIB                   June 1997


       MAX-ACCESS  read-write
       STATUS      current
       DESCRIPTION
           "Indicates whether the wwwDocLastNTable is currently
            updated by the agent or not. This object allows a
            manager to suspend the update process in order to
            read it in a consistent state."
       DEFVAL { enabled }
       ::= { wwwDocCtrlEntry 2 }

   wwwDocCtrlBuckets OBJECT-TYPE
       SYNTAX      Integer32 (0..2147483647)
       MAX-ACCESS  read-write
       STATUS      current
       DESCRIPTION
           "The maximum number of buckets in the associated
            'wwwDocBucketTopNTable' before the oldest bucket
            is deleted."
       DEFVAL { 2 }
       ::= { wwwDocCtrlEntry 3 }

   wwwDocCtrlBucketSize OBJECT-TYPE
       SYNTAX      Integer32 (0..2147483647)
       MAX-ACCESS  read-write
       STATUS      current
       DESCRIPTION
           "The maximum number of entries in the associated
            'wwwDocBucketTopNTable' per bucket."
       DEFVAL { 25 }
       ::= { wwwDocCtrlEntry 4 }

   wwwDocCtrlBucketSort OBJECT-TYPE
       SYNTAX      WwwDocSort
       MAX-ACCESS  read-write
       STATUS      current
       DESCRIPTION
           "The sort order of new the buckets. The value is only
            important at the moment when a new bucket is
            created. Changing this value does not affect the order
            in any existing buckets."
       DEFVAL { accesses }
       ::= { wwwDocCtrlEntry 5 }

   wwwDocCtrlBucketTimeInterval OBJECT-TYPE
       SYNTAX      TimeInterval
       MAX-ACCESS  read-write
       STATUS      current





Expires October 1997                                           [Page 25]

Internet-Draft               WWW Service MIB                   June 1997


       DESCRIPTION
           "The time interval after which a new bucket is created."
       DEFVAL { 90000 }    -- 15 minutes (resolution .01 s)
       ::= { wwwDocCtrlEntry 6 }


   wwwDocLastNTable OBJECT-TYPE
       SYNTAX      SEQUENCE OF WwwDocLastNEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "The table which logs the last N read attempts."
       ::= { wwwDocumentStatistics 2 }

   wwwDocLastNEntry OBJECT-TYPE
       SYNTAX      WwwDocLastNEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "An entry associated which logs the last N read
            attempts of an entity."
       INDEX       { wwwEntityIndex, wwwDocLastNIndex }
       ::= { wwwDocLastNTable 1 }

   WwwDocLastNEntry ::= SEQUENCE {
       wwwDocLastNIndex                 Unsigned32,
       wwwDocLastNName                  WwwDocName,
       wwwDocLastNTimeStamp             DateAndTime,
       wwwDocLastNRequestType           WwwRequestType,
       wwwDocLastNResponseType          WwwResponseType,
       wwwDocLastNBytes                 Unsigned32
   }

   wwwDocLastNIndex OBJECT-TYPE
       SYNTAX      Unsigned32
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "An arbitrary monotonically increasing integer number
            used for indexing the wwwDocLastNTable. The value
            starts from 1 and represents the order in which the
            documents were accessed."
       ::= { wwwDocLastNEntry 1 }

   wwwDocLastNName OBJECT-TYPE
       SYNTAX      WwwDocName
       MAX-ACCESS  read-only





Expires October 1997                                           [Page 26]

Internet-Draft               WWW Service MIB                   June 1997


       STATUS      current
       DESCRIPTION
           "The name of the document which was attempted to access."
       ::= { wwwDocLastNEntry 2 }

   wwwDocLastNTimeStamp OBJECT-TYPE
       SYNTAX      DateAndTime
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The date and time that this document was attempted
            to access."
       ::= { wwwDocLastNEntry 3 }

   wwwDocLastNRequestType OBJECT-TYPE
       SYNTAX      WwwRequestType
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The protocol request type which was received by the
            server when this document access was attempted."
       ::= { wwwDocLastNEntry 4 }

   wwwDocLastNResponseType OBJECT-TYPE
       SYNTAX      WwwResponseType
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The protocol response type which was sent to the client
            as a result of this attempt to access a document."
       ::= { wwwDocLastNEntry 5 }

   wwwDocLastNBytes OBJECT-TYPE
       SYNTAX      Unsigned32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The number of bytes that were returned as a result of
            this attempt to access a document."
       ::= { wwwDocLastNEntry 6 }


   wwwDocBucketTable OBJECT-TYPE
       SYNTAX      SEQUENCE OF WwwDocBucketEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION





Expires October 1997                                           [Page 27]

Internet-Draft               WWW Service MIB                   June 1997


           "The table providing a per bucket administrative and summary
            information of the 'wwwDocBucketTopNTable'."
       ::= { wwwDocumentStatistics 3 }

   wwwDocBucketEntry OBJECT-TYPE
       SYNTAX      WwwDocBucketEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "An entry associated with a particular mapping in the
            wwwDocBucketTable."
       INDEX       { wwwEntityIndex, wwwDocBucketIndex }
       ::= { wwwDocBucketTable 1 }

   WwwDocBucketEntry ::= SEQUENCE {
       wwwDocBucketIndex           Integer32,
       wwwDocBucketTimeStamp       TimeStamp,
       wwwDocBucketAccesses        Unsigned32,
       wwwDocBucketDocuments       Unsigned32,
       wwwDocBucketBytes           Unsigned32,
       wwwDocBucketSort            WwwDocSort
   }

   wwwDocBucketIndex OBJECT-TYPE
       SYNTAX      Integer32 (1..2147483647)
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "An arbitrary monotonically increasing integer number
            used for indexing the wwwDocBucketTable. The index
            number wraps to 1 whenever the maximum value is reached."
       ::= { wwwDocBucketEntry 1 }

   wwwDocBucketTimeStamp OBJECT-TYPE
       SYNTAX      TimeStamp
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The time when the bucket was created."
       ::= { wwwDocBucketEntry 2 }

   wwwDocBucketAccesses OBJECT-TYPE
       SYNTAX      Unsigned32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The total amount of access attempts counted in this bucket."





Expires October 1997                                           [Page 28]

Internet-Draft               WWW Service MIB                   June 1997


       ::= { wwwDocBucketEntry 3 }

   wwwDocBucketDocuments OBJECT-TYPE
       SYNTAX      Unsigned32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The total amount of different documents which
            were attempted to read for this bucket."
       ::= { wwwDocBucketEntry 4 }

   wwwDocBucketBytes OBJECT-TYPE
       SYNTAX      Unsigned32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The total amount of bytes which were transfered
            for this bucket."
       ::= { wwwDocBucketEntry 5 }

   wwwDocBucketSort OBJECT-TYPE
       SYNTAX      WwwDocSort
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The sort order with which this bucket was created."
       ::= { wwwDocBucketEntry 6 }


   wwwDocBucketTopNTable OBJECT-TYPE
       SYNTAX      SEQUENCE OF WwwDocBucketTopNEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "The table of documents accessible from any entity configured
            in the wwwEntityTable. The agent minimally adds entries to
            this table to correspond with documents that have been
            accessed. It may choose to add entries for documents which
            have not yet been accessed as well."
       ::= { wwwDocumentStatistics 4 }

   wwwDocBucketTopNEntry OBJECT-TYPE
       SYNTAX      WwwDocBucketTopNEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "An entry associated with a particular mapping in the





Expires October 1997                                           [Page 29]

Internet-Draft               WWW Service MIB                   June 1997


            wwwDocTable."
       INDEX       { wwwEntityIndex, wwwDocBucketIndex, wwwDocBucketTopNIndex }
       ::= { wwwDocBucketTopNTable 1 }

   WwwDocBucketTopNEntry ::= SEQUENCE {
       wwwDocBucketTopNIndex               Integer32,
       wwwDocBucketTopNName                WwwDocName,
       wwwDocBucketTopNAccesses            Unsigned32,
       wwwDocBucketTopNBytes               Unsigned32,
       wwwDocBucketTopNLastResponseType    WwwResponseType
   }

   wwwDocBucketTopNIndex OBJECT-TYPE
       SYNTAX      Integer32 (1..2147483647)
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "An arbitrary monotonically increasing integer number
            used for indexing the wwwDocBucketTopNTable. The index
            is inversely correlated to the sorting order of the
            table. For example, if the table is sorted according
            to document accesses, than the document with the highes
            access rate will get the index value 1."
       ::= { wwwDocBucketTopNEntry 1 }

   wwwDocBucketTopNName OBJECT-TYPE
       SYNTAX      WwwDocName
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The name of the document which was attempted to access."
       ::= { wwwDocBucketTopNEntry 2 }

   wwwDocBucketTopNAccesses OBJECT-TYPE
       SYNTAX      Unsigned32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The total amount of access attempts for this document."
       ::= { wwwDocBucketTopNEntry 3 }

   wwwDocBucketTopNBytes OBJECT-TYPE
       SYNTAX      Unsigned32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The number of bytes that were returned as a result of





Expires October 1997                                           [Page 30]

Internet-Draft               WWW Service MIB                   June 1997


            this attempt to access a document."
       ::= { wwwDocBucketTopNEntry 4 }

   wwwDocBucketTopNLastResponseType OBJECT-TYPE
       SYNTAX      WwwResponseType
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The protocol response type which was sent to the client
            as a result of this attempt to access a document."
       ::= { wwwDocBucketTopNEntry 5 }


   -- Conformance and Compliance Definitions
   --

   wwwMIBEntityGroup OBJECT-GROUP
       OBJECTS {
           wwwEntityDescription,
           wwwEntityContact,
           wwwEntityProtocol,
           wwwEntityName,
           wwwEntityType,
           wwwEntityUptime,
           wwwEntityOperStatus,
           wwwEntityLastChange
       }
       STATUS      current
       DESCRIPTION
           ""
       ::= { wwwMIBGroups 1 }

   wwwMIBSummaryGroup OBJECT-GROUP
       OBJECTS {
           wwwSummaryInRequests,
           wwwSummaryOutRequests,
           wwwSummaryInResponses,
           wwwSummaryOutResponses,
           wwwSummaryInBytes,
           wwwSummaryOutBytes
       }
       STATUS      current
       DESCRIPTION
           ""
       ::= { wwwMIBGroups 2 }

   wwwMIBRequestInGroup OBJECT-GROUP





Expires October 1997                                           [Page 31]

Internet-Draft               WWW Service MIB                   June 1997


       OBJECTS {
           wwwRequestInCount,
           wwwRequestInBytes,
           wwwRequestInLastTime
       }
       STATUS      current
       DESCRIPTION
           ""
       ::= { wwwMIBGroups 3 }

   wwwMIBRequestOutGroup OBJECT-GROUP
       OBJECTS {
           wwwRequestOutCount,
           wwwRequestOutBytes,
           wwwRequestOutLastTime
       }
       STATUS      current
       DESCRIPTION
           ""
       ::= { wwwMIBGroups 4 }

   wwwMIBResponseInGroup OBJECT-GROUP
       OBJECTS {
           wwwResponseInCount,
           wwwResponseInBytes,
           wwwResponseInLastTime
       }
       STATUS      current
       DESCRIPTION
           ""
       ::= { wwwMIBGroups 5 }

   wwwMIBResponseOutGroup OBJECT-GROUP
       OBJECTS {
           wwwResponseOutCount,
           wwwResponseOutBytes,
           wwwResponseOutLastTime
       }
       STATUS      current
       DESCRIPTION
           ""
       ::= { wwwMIBGroups 6 }

   wwwMIBDocumentGroup OBJECT-GROUP
       OBJECTS {
           wwwDocCtrlLastNSize,
           wwwDocCtrlLastNStatus,





Expires October 1997                                           [Page 32]

Internet-Draft               WWW Service MIB                   June 1997


           wwwDocCtrlBuckets,
           wwwDocCtrlBucketSize,
           wwwDocCtrlBucketSort,
           wwwDocCtrlBucketTimeInterval,
           wwwDocLastNName,
           wwwDocLastNTimeStamp,
           wwwDocLastNRequestType,
           wwwDocLastNResponseType,
           wwwDocLastNBytes,
           wwwDocBucketTimeStamp,
           wwwDocBucketAccesses,
           wwwDocBucketDocuments,
           wwwDocBucketBytes,
           wwwDocBucketSort,
           wwwDocBucketTopNName,
           wwwDocBucketTopNAccesses,
           wwwDocBucketTopNBytes,
           wwwDocBucketTopNLastResponseType
       }
       STATUS  current
       DESCRIPTION
           ""
       ::= { wwwMIBGroups 7 }

   wwwMinimalCompliance MODULE-COMPLIANCE
       STATUS      current
       DESCRIPTION
           "The compliance statement for SNMP entities which implement
            the minimal subset of the WWW-MIB. Implementors might
            choose this subset for high-performance server where full
            compliance might be to expensive."
       MODULE  -- this module
       MANDATORY-GROUPS {
           wwwMIBEntityGroup,
           wwwMIBSummaryGroup
       }
       ::= { wwwMIBCompliances 1 }

   wwwFullCompliance MODULE-COMPLIANCE
       STATUS      current
       DESCRIPTION
           "The compliance statement for SNMP entities which implement
            the full WWW-MIB."
       MODULE  -- this module
       MANDATORY-GROUPS {
           wwwMIBEntityGroup,
           wwwMIBSummaryGroup,





Expires October 1997                                           [Page 33]

Internet-Draft               WWW Service MIB                   June 1997


           wwwMIBRequestInGroup,
           wwwMIBRequestOutGroup,
           wwwMIBResponseInGroup,
           wwwMIBResponseOutGroup,
           wwwMIBDocumentGroup
       }
       ::= { wwwMIBCompliances 2 }

   END


7.  References

[1]  SNMPv2 Working Group, Case, J., McCloghrie, K., Rose, M., and S.
     Waldbusser, "Structure of Management Information for Version 2 of
     the Simple Network Management Protocol (SNMPv2)", RFC1902, SNMP
     Research,Inc., Cisco Systems, Inc., Dover Beach Consulting, Inc.,
     International Network Services, January 1996.

[2]  McCloghrie, K., and M. Rose, Editors, "Management Information Base
     for Network Management of TCP/IP-based internets: MIB-II", STD 17,
     RFC 1213, Hughes LAN Systems, Performance Systems International,
     March 1991.

[3]  Case, J., Fedor, M., Schoffstall, M., and J. Davin, "Simple Network
     Management Protocol", RFC 1157, SNMP Research, Performance Systems
     International, Performance Systems International, MIT Laboratory
     for Computer Science, May 1990.

[4]  SNMPv2 Working Group, Case, J., McCloghrie, K., Rose, M., and S.
     Waldbusser, "Protocol Operations for Version 2 of the Simple
     Network Management Protocol (SNMPv2)", RFC1905, SNMP Research,Inc.,
     Cisco Systems, Inc., Dover Beach Consulting, Inc., International
     Network Services, January 1996.

[5]  Berners-Lee, T., Masinter, L., and M. McCahill, "Uniform Resource
     Locators (URL)", RFC 1738, CERN, Xerox Corporation, University of
     Minnesota, December 1994.

[6]  T. Berners-Lee, "Universal Resource Identifiers in WWW", RFC 1630,
     CERN, June 1994.

[7]  D. Crocker, "STANDARD FOR THE FORMAT OF ARPA INTERNET TEXT
     MESSAGES", RFC 822, University of Delaware, August 1982.

[8]  C. Kalbfleisch, "Applicability of Standards Track MIBs to
     Management of World Wide Web Servers", RFC 2039, OnRamp





Expires October 1997                                           [Page 34]

Internet-Draft               WWW Service MIB                   June 1997


     Technologies, November 1996.

[9]  Krupczak, C., and J. Saperia, "Definitions of System-Level Managed
     Objects for Applications", draft-ietf-applmib-sysapplmib-08.txt,
     Empire Technologies, BGS Systems, March 1997.

[10] Kalbfleisch, C., Krupczak, C., Preshun, R., and J. Saperia,
     "Application Management MIB", draft-ietf-applmib-mib-02.txt, Verio,
     Empire Technologies, BMC Software, BGS Systems, March 1997.

[11] Berners-Lee, T., Fielding, R., and H. Frystyk, "Hypertext Transfer
     Protocol -- HTTP/1.0", RFC 1945, MIT/LCS, UC Irvine, MIT/LCS, May
     1996.

[12] Fielding, R., Gettys, J., Mogul, J., Frystyk, H., and T. Berners-
     Lee, "Hypertext Transfer Protocol -- HTTP/1.1", RFC 2068, UC
     Irvine, DEC, DEC, MIT/LCS, January 1997.

[13] Postel, J., and J.K. Reynolds, "File Transfer Protocol (FTP)", STD
     9, RFC 959, USC/ISI, October 1985.

[14] Kantor, B., and P. Lapsley, "Network News Transfer Protocol: A
     Proposed Standard for the Stream-Based Transmission of News", RFC
     977, UC San Diego & UC Berkeley, February 1986.

[15] Horton, M., and R. Adams, "Standard for interchange of USENET
     messages", RFC 1036, AT&T Bell Laboratories, Center for Seismic
     Studies, December 1987.

[16] Grillo, P., and S. Waldbusser, "Host Resources MIB", RFC 1514,
     Network Innovations, Intel Corporation, Carnegie Mellon University,
     September 1993.

[17] Kille, S., and N. Freed, "Network Services Monitoring MIB", RFC
     1565, ISODE Consortium, Innosoft, January 1994.

[18] Krupczak, C., and S. Waldbusser, "Applicability of Host Resources
     MIB to Application Management", Empire Technologies, Inc.,
     International Network Services, October 1995.

[19] Kille, S., and N. Freed, "Mail Monitoring MIB", RFC 1566, ISODE
     Consortium, Innosoft, January 1994.

[20] Mansfield, G., and S. Kille, "X.500 Directory Monitoring MIB", RFC
     1567, AIC Systems Laboratory, ISODE Consortium, January 1994







Expires October 1997                                           [Page 35]

Internet-Draft               WWW Service MIB                   June 1997


[21] S. Waldbusser, "Remote Network Monitoring Management Information
     Base Version 2 using SMIv2", RFC 2021, INS, January, 1997.


8.  Acknowledgments

   This document was produced by the Application MIB working group and
   the members of the http-mib@onramp.net mailing list.

   The authors gratefully acknowledges the comments of the following
   individuals:

                Randy Preshun
                John Saperia
                Cheryl Krupczak


9.  Security Considerations

   The MIB objects defined in the memo might disclose information that
   should be protected. In particular, the document statistics group
   contains traffic information, which includes the names of documents
   that were a target of a protocol operation. It is therefore adviced
   to use SNMP access control and SNMP security mechanism (where
   available) in order to protect this information in sensitive
   environments.

   The service statistics are less sensitive, because they do not
   contain details about the target of individual requests/responses.
   However, it is suggested that sites configure MIB views so that a
   user of this MIB can only see the portion of the statistics that
   belong to the WWW entities managed by that user.


10.  Document Transfer Protocol Mappings

   This appendix describes how existing protocols such as HTTP [13,14]
   and FTP [15] can be mapped on the abstract Document Transfer Protocol
   (DTP) used within the definitions of the WWW MIB. Every mapping must
   define the identifier which is used to uniquely identify the transfer
   protocol. In addition, the mappings must define how requests and
   responses are identified and how the transferred byte stream is split
   into control and content bytes.









Expires October 1997                                           [Page 36]

Internet-Draft               WWW Service MIB                   June 1997


10.1.  The HyperText Transfer Protocol

   The HyperText Transfer Protocol (HTTP) [13,14] is an application-
   level protocol used to transfer hypermedia documents in a distributed
   networked environment. HTTP is based on the request/response paradigm
   and can be mapped on the abstract DTP easily.

   The HTTP protocol usually runs over TCP and uses the well-known TCP
   port 80. Therefore, the default value for the wwwEntityProtocol
   object is { applTCPProtoID 80 }.

   HTTP allows for both requests and responses an open-ended set of
   message types. The general messages syntax of HTTP is therefore used
   for the protocol mapping. The BNF specification of the general HTTP
   message syntax as defined in [12] is as follows:

       HTTP-message = start-line
                      *message-header
                      CRLF
                      [ message-body ]

       start-line   = Request-Line | Status-Line

       Request-Line = Method SP Request-URI SP HTTP-Version CRLF

       Status-Line  = HTTP-Version SP Status-Code SP Reason-Phrase CRLF

   Every HTTP-message where the start-line is a Request-Line is
   considered a request in the abstract DTP. Every HTTP-message where
   the start-line is a Status-Line is considered a response in the
   abstract DTP. The rest of the mappings are defined as follows:

   o    The wwwRequestType corresponds to the method token in the
        Request-Line.

   o    The wwwResponseType corresponds to the Status-Code in the
        Status-Line.

   o    The control bytes of an HTTP-message are defined as the number
        of bytes in the start-line and the message headers.

   o    The content bytes of an HTTP-message are the number of bytes in
        the message body.









Expires October 1997                                           [Page 37]

Internet-Draft               WWW Service MIB                   June 1997


10.2.  The File Transfer Protocol

   The File Transfer Protocol (FTP) [13] is an application-level
   protocol used to transfer files between hosts connected by the TCP/IP
   suite of protocols. FTP is based on a request/response paradigm and
   can be mapped on the abstract DTP as defined in this section. The FTP
   model as defined in [13] is depicted below.

                                              -------------
                                              |+---------+|
                                              ||   User  ||    --------
                                              ||Interface|<--->| User |
                                              |+----|----+|    --------
                ----------                    |     |     |
                |+------+| control connection |+----|----+|
                ||Server|<------------------->||  Client ||
                ||  PI  ||  Commands/Replies  ||    PI   ||
                |+--|---+|                    |+----|----+|
                |   |    |                    |     |     |
    --------    |+--|---+|        Data        |+----|----+|    --------
    | File |<--->|Server|<------------------->||  Client |<--->| File |
    |System|    || DTP  ||     Connection     ||   DTP   ||    |System|
    --------    |+------+|                    |+---------+|    --------
                ----------                    -------------

   FTP uses two different connection types between a client and a server
   to transfer files. The control connection is persistent during a FTP
   session and used to exchange FTP commands and associated replies. The
   data connection is only available when bulk data has to be
   transferred.

   The FTP protocol usually runs over TCP and uses the well-known TCP
   port 21 to setup the control connection. Therefore, the default value
   for the wwwEntityProtocol object is { applTCPProtoID 21 }.

   Every FTP command is considered a request in the abstract DTP. Every
   FTP reply is considered a response in the abstract DTP. I should be
   noted that a single FTP command can result in multiple FTP replies
   (e.g. preliminary positive replies). The definition above maps
   multiple FTP replies into multiple DTP responses. The rest of the
   mappings are defined as follows:

   o    The wwwRequestType corresponds to the FTP command token.

   o    The wwwResponseType corresponds to the three-digit code which
        starts a reply. Multi-line replies with the same three-digit
        code are counted as a single DTP response.





Expires October 1997                                           [Page 38]

Internet-Draft               WWW Service MIB                   June 1997


   o    The control bytes of a FTP transaction are all the bytes
        transferred over the control connection.

   o    The content bytes of a FTP transaction are all the bytes
        transferred over the data connection. Note that content bytes
        can only be associated to FTP commands which cause a data
        transfer. FTP replies do not contain content bytes.


11.  Todo List

   This section will be removed when the document is complete because
   all items that are "to do" will have been done!


   o    Check if we need additional objects or clarifications to handle
        proxies and caching proxies.

   o    Check if the wwwDocLastNTable and the wwwDocBucketTopNTable can
        be combined while also solving the multiple manager problem.

   o    Rework the reference section. Some references can be removed and
        other might need to be added.


12.  Authors' Address


     Carl W. Kalbfleisch
     Verio, Inc.
     1950 Stemmons Frwy
     2004 INFOMART
     Dallas, TX 75207
     USA                                 Tel: (972) 238-8303
     cwk@verio.net                       Fax: (972) 238-0268

     Harrie Hazewinkel
     MUSIQ/DESIRE/CEO Program
     Institute for Space Applications
     Joint Research Centre of the E.C.
     TP. 950
     Ispra 21020 (VA) Italy              Tel: +39+(0)332+789384
     harrie.hazewinkel@jrc.it            Fax: +39+(0)332+785500

     Juergen Schoenwaelder
     Computer Science Department
     University of Twente





Expires October 1997                                           [Page 39]

Internet-Draft               WWW Service MIB                   June 1997


     P.O. Box 217, NL-7500 AE Enschede
     The Netherlands                     Tel: +31-53-489-3678
     schoenw@cs.utwente.nl               Fax: +31-53-489-3247

















































Expires October 1997                                           [Page 40]

Internet-Draft               WWW Service MIB                   June 1997


   Table of Contents


   1 Abstract .....................................................    2
   2 The SNMPv2 Network Management Framework ......................    2
   2.1 Object Definitions .........................................    2
   3 Terminology ..................................................    3
   4 Overview .....................................................    4
   4.1 Purpose and Requirements ...................................    4
   4.2 Relationship to other Standards Efforts ....................    5
   4.3 WWW Entities ...............................................    5
   4.4 Document Transfer Protocol .................................    6
   5 Structure of the MIB .........................................    6
   5.1 Entity Group ...............................................    7
   5.2 Service Statistics Group ...................................    7
   5.3 Document Statistics Group ..................................    8
   6 Definitions ..................................................    9
   7 References ...................................................   34
   8 Acknowledgments ..............................................   36
   9 Security Considerations ......................................   36
   10 Document Transfer Protocol Mappings .........................   36
   10.1 The HyperText Transfer Protocol ...........................   37
   10.2 The File Transfer Protocol ................................   38
   11 Todo List ...................................................   39
   12 Authors' Address ............................................   39



























Expires October 1997                                           [Page 41]

