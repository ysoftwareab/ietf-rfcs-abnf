<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Efficient XML Encoding and 6LowApp</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Efficient XML Encoding and 6LowApp">
<meta name="keywords" content="Requirements">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">6lowapp</td><td class="header">Z. Shelby</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Sensinode</td></tr>
<tr><td class="header">Intended status: Informational</td><td class="header">M. Luimula</td></tr>
<tr><td class="header">Expires: April 19, 2010</td><td class="header">CENTRIA</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">D. Peintner</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Siemens AG</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">October 16, 2009</td></tr>
</table></td></tr></table>
<h1><br />Efficient XML Encoding and 6LowApp<br />draft-shelby-6lowapp-encoding-00</h1>

<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted to IETF in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.
This document may contain material from IETF Documents or IETF
Contributions published or made publicly available before November
10, 2008. The person(s) controlling the copyright in some of this
material may not have granted the IETF Trust the right to allow
modifications of such material outside the IETF Standards Process.
Without obtaining an adequate license from the person(s) controlling
the copyright in such materials, this document may not be modified
outside the IETF Standards Process, and derivative works of it may
not be created outside the IETF Standards Process, except to format
it for publication as an RFC or to translate it into languages other
than English.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on April 19, 2010.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2009 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents in effect on the date of
publication of this document (http://trustee.ietf.org/license-info).
Please review these documents carefully, as they describe your
rights and restrictions with respect to this document.</p>

<h3>Abstract</h3>

<p>
	  For the resource constrained devices and networks of 6LowApp it is essential that the payload of messages are compact. The use of XML to represent data in web applications has become almost universal. The interoperability of 6LowApp with these applications will require that XML can also be carried over the embedded web. This document introduces and compares techniques for encoding or compressing XML for use with 6LowApp including EXI, BXML and Fast Infoset. The performance and requirements for using these encodings are analyzed in the scope of 6LowApp. It is shown that these standard encodings can represent XML in a compact form, with reasonable overhead, and require only Internet media type and content transfer encoding indication from the application protocol. 
	  
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#introduction">1.</a>&nbsp;
Introduction<br />
<a href="#binaryxml">2.</a>&nbsp;
Efficient XML Encoding<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#exi">2.1.</a>&nbsp;
Efficient XML Interchange (EXI)<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#fi">2.2.</a>&nbsp;
Fast Infoset (FI)<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#bxml">2.3.</a>&nbsp;
Binary XML (BXML)<br />
<a href="#results">3.</a>&nbsp;
Results<br />
<a href="#requirements">4.</a>&nbsp;
6LowApp Requirements<br />
<a href="#anchor1">5.</a>&nbsp;
Conclusions<br />
<a href="#anchor2">6.</a>&nbsp;
Security Considerations<br />
<a href="#anchor3">7.</a>&nbsp;
IANA Considerations<br />
<a href="#anchor4">8.</a>&nbsp;
Acknowledgments<br />
<a href="#rfc.references1">9.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">9.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">9.2.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="introduction"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>
	  For the resource constrained devices and networks of 6LowApp <a class='info' href='#I-D.bormann-6lowpan-6lowapp-problem'>[I&#8209;D.bormann&#8209;6lowpan&#8209;6lowapp&#8209;problem]<span> (</span><span class='info'>Bormann, C., Sturek, D., and Z. Shelby, &ldquo;6LowApp: Problem Statement for 6LoWPAN and LLN Application Protocols,&rdquo; July&nbsp;2009.</span><span>)</span></a> it is essential that the message payloads are compact. The use of XML to represent data in web applications has become almost universal. The interoperability of 6LowApp with these applications will require that XML can also be carried over the embedded web. Examples include Smart Energy using IEC XML markup, building automation with open Building Information Exchange (oBIX), and the OGC Sensor Markup Language (SensorML) <a class='info' href='#OGC-SensorML'>[OGC&#8209;SensorML]<span> (</span><span class='info'>Open Geospatial Consortium, &ldquo;OpenGIS Sensor Model Language (SensorML) Implementation Specification, Version 1.0.0,&rdquo; June&nbsp;2007.</span><span>)</span></a> to name a few. In the vast majority of enterprise and machine-to-machine (M2M) systems it is expected that data is represented in some form of XML. The size of typical XML payloads for even simple sensor data ranges from 100s to 1000s of bytes. This overhead is unreasonable over e.g. 6LoWPAN networks <a class='info' href='#RFC4944'>[RFC4944]<span> (</span><span class='info'>Montenegro, G., Kushalnagar, N., Hui, J., and D. Culler, &ldquo;Transmission of IPv6 Packets over IEEE 802.15.4 Networks,&rdquo; September&nbsp;2007.</span><span>)</span></a>. Furthermore, full XML parsing requires additional resources from embedded devices. 
	
</p>
<p>
	  Fortunately, the text form of XML we are all familiar with is only one way to represent an XML document or fragment. XML can also be respresented using much more compact and easy to parse encodings. The underlying XML Information Set is the same. One good example is the new Efficient XML Interchange (EXI) standard from the W3C <a class='info' href='#W3C.WD-exi-20080919'>[W3C.WD&#8209;exi&#8209;20080919]<span> (</span><span class='info'>Schneider, J. and T. Kamiya, &ldquo;Efficient XML Interchange (EXI) Format 1.0,&rdquo; September&nbsp;2008.</span><span>)</span></a>. This alternative encoding for XML represents namespaces, tags, attributes and data using optimal bit codes, supporting very simple encoding/decoding based on well-known schema knowledge. Other examples include the Binary XML (BXML) specification from the OGC <a class='info' href='#OGC-BXML'>[OGC&#8209;BXML]<span> (</span><span class='info'>Open Geospatial Consortium, &ldquo;Binary Extensible Markup Language (BXML) Encoding Specification, Version 0.0.8,&rdquo; Jan&nbsp;2006.</span><span>)</span></a>, the Fast Infoset (FI) standard from the ITU <a class='info' href='#FI'>[FI]<span> (</span><span class='info'>International Telecommunications Union, &ldquo;Information technology - Generic applications of ASN.1: Fast infoset,&rdquo; 2005.</span><span>)</span></a> and the WAP Binary XML (WBXML) technique from the mobile industry.  
	
</p>
<p>
	 This document introduces and compares techniques for encoding or compressing XML for use with 6LowApp including EXI, BXML and Fast Infoset. The performance and requirements for using these encodings are analyzed in the scope of 6LowApp. It is shown that these standard encodings can represent XML in a compact form, with reasonable overhead, and require only Internet media type and possible transfer encoding indication from the application protocol.
	
</p>
<a name="binaryxml"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Efficient XML Encoding</h3>

<p>
	In this section we introduce a few of the promising efficient XML encoding schemes available as standards or draft standards. We are aware of other standard encodings such as WBXML and compression schemes like gzip and deflate. These techniques have similar properties and requirements to the ones presented here. In general techniques can be categorized into two categories, encoding techniques and compression techniques. The following three techniques can be categorized as encodings, which are typically more suitable for very limited devices.
	
</p>
<a name="exi"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.1"></a><h3>2.1.&nbsp;
Efficient XML Interchange (EXI)</h3>

<p>
	  EXI is a very compact representation for the XML Information Set that is intended to simultaneously optimize performance and the utilization of computational resources <a class='info' href='#W3C.WD-exi-20080919'>[W3C.WD&#8209;exi&#8209;20080919]<span> (</span><span class='info'>Schneider, J. and T. Kamiya, &ldquo;Efficient XML Interchange (EXI) Format 1.0,&rdquo; September&nbsp;2008.</span><span>)</span></a>. The EXI format uses a hybrid approach drawn from the information and formal language theories, plus practical techniques verified by measurements, for entropy encoding XML information. Using a relatively simple algorithm, which is amenable to fast and compact implementation, and a small set of data types, it reliably produces efficient encodings of XML event streams. The event production system and format definition of EXI are introduced in <a class='info' href='#W3C.WD-exi-primer-20071219'>[W3C.WD&#8209;exi&#8209;primer&#8209;20071219]<span> (</span><span class='info'>Pericas-Geertsen, S. and D. Peintner, &ldquo;Efficient XML Interchange (EXI) Primer,&rdquo; December&nbsp;2007.</span><span>)</span></a>. 
	  
</p>
<p>
	  The EXI specification allows for a simplified mode of operation called schema-informed mode. Here a schema is used to form a grammar and state-machine limited to that schema, enabling an extremely efficient encoding. The result of the simple state machine is that even the most minimal embedded devices can work directly with the encoding without the need to work with a full XML parser.
	  
</p>
<a name="fi"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.2"></a><h3>2.2.&nbsp;
Fast Infoset (FI)</h3>

<p>
	  Fast Infoset is an ITU-T (X.891) <a class='info' href='#FI'>[FI]<span> (</span><span class='info'>International Telecommunications Union, &ldquo;Information technology - Generic applications of ASN.1: Fast infoset,&rdquo; 2005.</span><span>)</span></a> and ISO (IEC 24824-1) defined standard that specifies a binary encoding for the XML Information Set. Unlike other XML representations, the Fast Infoset standard has the dual benefits of both compression and performance, making it the ideal choice for moving large XML data between disparate low bandwidth systems or for high performance systems such as those utilizing Web services. 
	  
</p>
<a name="bxml"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.3"></a><h3>2.3.&nbsp;
Binary XML (BXML)</h3>

<p>
	  BXML is a straightforward encoding for XML that is designed for efficient processing in general with an emphasis on dense numeric data, which is one of the weakest areas for textual XML. This encoding specification designed by Open Geospatial Consortium (OGC) is specified for GML compression <a class='info' href='#OGC-BXML'>[OGC&#8209;BXML]<span> (</span><span class='info'>Open Geospatial Consortium, &ldquo;Binary Extensible Markup Language (BXML) Encoding Specification, Version 0.0.8,&rdquo; Jan&nbsp;2006.</span><span>)</span></a>. Thus it is an interesting technique even though it is still in best practices phase and currently meant only for GML.  It is open and about as straightforward to implement a parser/generator for as for textual XML. 
	  
</p>
<a name="results"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Results</h3>

<p>
	In this section the results of encoding XML content with EXI, BXML and Fast Infoset techniques are presented. The goal is to give an example of how the encoding of some typical XML content for simple embedded devices works. In this comparison RDF/XML sensor data, a Smart Energy example and a simplified SensorML example have been used which represent a good range of content for 6LowApp applications.
	
</p>
<p>
	The results were carried out using <a class='info' href='#EXIficient'>EXIficcient v0.3<span> (</span><span class='info'>, &ldquo;EXIficient Project Home Page,&rdquo; .</span><span>)</span></a> [EXIficient] and 
	<a class='info' href='#FI@GlassFish'>FastInfoset v1.1.9<span> (</span><span class='info'>, &ldquo;Fast Infoset GlassFish Project Home Page,&rdquo; .</span><span>)</span></a> [FI@GlassFish] from GlassFish along with a custom BXML implementation from CENTRIA <a class='info' href='#Locawe-BXML'>[Locawe&#8209;BXML]<span> (</span><span class='info'>, &ldquo;Developing geosensor network support for Locawe platform - application of standards in low-rate communication context,&rdquo; .</span><span>)</span></a>. All test content had a corresponding XML Schema, and the original content size was normalized. EXI encoding was performed in schema-informed mode using bit-alignment. Fast Infoset and BXML were both performed with schema information. Complexity is considered for using the technique on constrained  microcontrollers and was estimated based on implementations of EXI and BXML on CC2430 and MSP430 platforms, and an estimation of FI complexity to be similar to BXML. 
	
</p>
<p>
	The following figures show the XML content used for the comparison:
	
</p><br /><hr class="insert" />
<a name="rdftest"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
xmlns:res="urn:sensei:rai"&gt;
    &lt;res:Temperature rdf:about="2"
     res:hasDecimalValue="5.5"/&gt;
&lt;/rdf:RDF&gt;
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;1: XML content used for the RDF Test&nbsp;</b></font><br /></td></tr></table><hr class="insert" />
<br /><hr class="insert" />
<a name="setest"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;simpleMetering&gt;
   &lt;CurrentSummationDelivered&gt;0&lt;/CurrentSummationDelivered&gt;
   &lt;Status&gt;0&lt;/Status&gt;
   &lt;UnitOfMeasure&gt;0&lt;/UnitOfMeasure&gt;
   &lt;SummationFormatting&gt;85&lt;/SummationFormatting&gt;
   &lt;MeteringDeviceType&gt;0&lt;/MeteringDeviceType&gt;
   &lt;InstantaneousDemand&gt;1234&lt;/InstantaneousDemand&gt;
   &lt;CurrentDayConsumptionReceived&gt;23
   &lt;/CurrentDayConsumptionReceived&gt;
&lt;/simpleMetering&gt;
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;2: XML content used for the Smart Energy Test&nbsp;</b></font><br /></td></tr></table><hr class="insert" />
<br /><hr class="insert" />
<a name="sensormltest"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;GPS_Temperature_System&gt;
   &lt;TimeOfSample&gt;2009-04-08T09:30:10+02:00&lt;/TimeOfSample&gt;
   &lt;Longitude&gt;6404.48220N&lt;/Longitude&gt;
   &lt;Latitude&gt;02430.91188E&lt;/Latitude&gt;
   &lt;Temperature&gt;20.50&lt;/Temperature&gt;
&lt;/GPS_Temperature_System&gt;
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;3: XML content used for the SensorML Test&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>
	Table 1 presentes the comparison results. The results show that EXI encoding represents XML content much more efficiently than BXML and FI encodings. The main reason for this can be found from the simplicity of EXI encoding, and the efficiency of its schema-informed grammar that resulsts in a limited state machine. The result is close to that achievable when representing the same raw data content in ASN.1. BXML encoding in turn will encode not only the values but also a part of the XML structure. However, BXML also offers also possibility to store the most common structures in a separate global string table which can be stored and used locally in the node side like the schema file of EXI encoding. The structure of BXML is closer to the stuctures of OGC's markups. Although not very dense, an advantage of BXML is its readability. Fast Infoset works like a compression algorithm for XML, although with higher performance than gzip. The results of Fast Infoset and BXML are on averge equivalent. Further test results for full web content for a wide range of encoding and compression techniques can be found from <a class='info' href='#W3C.WD-exi-evaluation-20090407'>[W3C.WD&#8209;exi&#8209;evaluation&#8209;20090407]<span> (</span><span class='info'>Bournez, C., &ldquo;Efficient XML Interchange Evaluation,&rdquo; April&nbsp;2009.</span><span>)</span></a>.
	
</p><br /><hr class="insert" />
<a name="result_table"></a>
<table class="full" align="center" border="0" cellpadding="2" cellspacing="2">
<col align="left"><col align="left"><col align="left"><col align="left"><col align="left">
<tr><th align="left">Encoding</th><th align="left">Complexity</th><th align="left">RDF Test</th><th align="left">SE Test</th><th align="left">SensorML Test</th></tr>
<tr>
<td align="left">XML</td>
<td align="left">med</td>
<td align="left">206B</td>
<td align="left">409B</td>
<td align="left">300B</td>
</tr>
<tr>
<td align="left">EXI</td>
<td align="left">low</td>
<td align="left">6B (3%)</td>
<td align="left">13B (3%)</td>
<td align="left">57B (19%)</td>
</tr>
<tr>
<td align="left">BXML</td>
<td align="left">med</td>
<td align="left">177B (86%)</td>
<td align="left">210B (51%)</td>
<td align="left">177B (59%)</td>
</tr>
<tr>
<td align="left">FI</td>
<td align="left">med</td>
<td align="left">143B (69%)</td>
<td align="left">200B (49%)</td>
<td align="left">185B (62%)</td>
</tr>
</table>
<br clear="all" />
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Table 1: Results comparing efficient XML encodings&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="requirements"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
6LowApp Requirements</h3>

<p>
		The use of compact XML encoding requires very little from the application protocol of 6LowApp. In practice just a payload, and a way to indicate in the header what the Internet media type and the content transfer encoding of that payload are. This allows these standard techniques to be used without modification. One technique for encoding the type and transfer encoding in a binary header is included in <a class='info' href='#I-D.frank-6lowapp-chopan'>[I&#8209;D.frank&#8209;6lowapp&#8209;chopan]<span> (</span><span class='info'>Frank, B., &ldquo;Chopan - Compressed HTTP Over PANs,&rdquo; September&nbsp;2009.</span><span>)</span></a>.
		
</p>
<p>
		When performing application commissioning in 6LowApp some well-known encoding must be used or included in the commissioning technique. If the same application protocol is used also for commissioning, such as done with DPWS, then the payload should use a well-known markup (XML) and encoding. Based on the findings here, EXI would be a recommended choice for XML.
		
</p>
<p>The Internet media types (MIME) <a class='info' href='#RFC2046'>[RFC2046]<span> (</span><span class='info'>Freed, N. and N. Borenstein, &ldquo;Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types,&rdquo; November&nbsp;1996.</span><span>)</span></a> should be indicated by the application protocol header. This SHOULD be encoded in a compact form. Examples of typical content-types that need to be supported for efficient XML encoding:
		    </p>
<ul class="text">
<li>text/xml <a class='info' href='#RFC3023'>[RFC3023]<span> (</span><span class='info'>Murata, M., St. Laurent, S., and D. Kohn, &ldquo;XML Media Types,&rdquo; January&nbsp;2001.</span><span>)</span></a>
</li>
<li>application/xml <a class='info' href='#RFC3023'>[RFC3023]<span> (</span><span class='info'>Murata, M., St. Laurent, S., and D. Kohn, &ldquo;XML Media Types,&rdquo; January&nbsp;2001.</span><span>)</span></a>
</li>
<li>application/rdf+xml <a class='info' href='#RFC3870'>[RFC3870]<span> (</span><span class='info'>Swartz, A., &ldquo;application/rdf+xml Media Type Registration,&rdquo; September&nbsp;2004.</span><span>)</span></a>
</li>
<li>application/soap+xml <a class='info' href='#RFC3902'>[RFC3902]<span> (</span><span class='info'>Baker, M. and M. Nottingham, &ldquo;The &quot;application/soap+xml&quot; media type,&rdquo; September&nbsp;2004.</span><span>)</span></a>
</li>
<li>application/atom+xml <a class='info' href='#RFC5023'>[RFC5023]<span> (</span><span class='info'>Gregorio, J. and B. de hOra, &ldquo;The Atom Publishing Protocol,&rdquo; October&nbsp;2007.</span><span>)</span></a>
</li>
<li>application/rss+xml
</li>
<li>text/x-bxml, application/x-bxml and *+x-bxml <a class='info' href='#OGC-BXML'>[OGC&#8209;BXML]<span> (</span><span class='info'>Open Geospatial Consortium, &ldquo;Binary Extensible Markup Language (BXML) Encoding Specification, Version 0.0.8,&rdquo; Jan&nbsp;2006.</span><span>)</span></a>
</li>
<li>application/fastinfoset, application/soap+fastinfoset and *+fastinfoset <a class='info' href='#FI'>[FI]<span> (</span><span class='info'>International Telecommunications Union, &ldquo;Information technology - Generic applications of ASN.1: Fast infoset,&rdquo; 2005.</span><span>)</span></a>
</li>
<li>Unknown binary content SHOULD be treated as application/octet-stream <a class='info' href='#RFC2045'>[RFC2045]<span> (</span><span class='info'>Freed, N. and N. Borenstein, &ldquo;Multipurpose Internet Mail Extensions (MIME) Part One: Format of Internet Message Bodies,&rdquo; November&nbsp;1996.</span><span>)</span></a><a class='info' href='#RFC2046'>[RFC2046]<span> (</span><span class='info'>Freed, N. and N. Borenstein, &ldquo;Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types,&rdquo; November&nbsp;1996.</span><span>)</span></a>
</li>
<li>For simplicity it is not recommended that multipart/mixed is supported.
</li>
</ul><p>
		
</p>
<p>The content transfer encoding <a class='info' href='#RFC2045'>[RFC2045]<span> (</span><span class='info'>Freed, N. and N. Borenstein, &ldquo;Multipurpose Internet Mail Extensions (MIME) Part One: Format of Internet Message Bodies,&rdquo; November&nbsp;1996.</span><span>)</span></a> should be optionally indicated by the application protocol header, and is needed at least by EXI. This SHOULD be encoded in a compact form. At least the following need to be supported:
		    </p>
<ul class="text">
<li>x-exi <a class='info' href='#W3C.WD-exi-best-practices-20071219'>[W3C.WD&#8209;exi&#8209;best&#8209;practices&#8209;20071219]<span> (</span><span class='info'>Vogelheim, D. and M. Cokus, &ldquo;Efficient XML Interchange (EXI) Best Practices,&rdquo; December&nbsp;2007.</span><span>)</span></a>
</li>
<li>binary
</li>
</ul><p>
		
</p>
<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Conclusions</h3>

<p>  
	   Efficient XML encoding will be a key technology for enabling the embedded web, which 6LowApp will benefit greatly by supporting. The results of this analysis show that efficient XML 
	   encoding is possible within the payload and complexity constraints aimed at by 6LowApp. Although it was found that EXI is highly suitable for these types of applications, the conclusion is that any of these and other encodings may be appropriate depending on the application. 
	   
</p>
<p>
	   The recommendation is that 6LowApp should support a reasonable range of Internet media types and transfer encodings related to XML and common XML encodings. 
	   
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Security Considerations</h3>

<p>
	   No security issues have been identified in this draft.
		
	   
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
IANA Considerations</h3>

<p>
         This draft requires no IANA consideration.
	   
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
Acknowledgments</h3>

<p>
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>9.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="FI">[FI]</a></td>
<td class="author-text">International Telecommunications Union, &ldquo;Information technology - Generic applications of ASN.1: Fast infoset,&rdquo; ITU-T&nbsp;Recommendation X.891, 2005.</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.frank-6lowapp-chopan">[I-D.frank-6lowapp-chopan]</a></td>
<td class="author-text">Frank, B., &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-frank-6lowapp-chopan-00.txt">Chopan - Compressed HTTP Over PANs</a>,&rdquo; draft-frank-6lowapp-chopan-00 (work in progress), September&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-frank-6lowapp-chopan-00.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="OGC-BXML">[OGC-BXML]</a></td>
<td class="author-text">Open Geospatial Consortium, &ldquo;Binary Extensible Markup Language (BXML) Encoding Specification, Version 0.0.8,&rdquo; &nbsp;, Jan&nbsp;2006.</td></tr>
<tr><td class="author-text" valign="top"><a name="OGC-SensorML">[OGC-SensorML]</a></td>
<td class="author-text">Open Geospatial Consortium, &ldquo;OpenGIS Sensor Model Language (SensorML) Implementation Specification, Version 1.0.0,&rdquo; &nbsp;, June&nbsp;2007.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2045">[RFC2045]</a></td>
<td class="author-text"><a href="mailto:ned@innosoft.com">Freed, N.</a> and <a href="mailto:nsb@nsb.fv.com">N. Borenstein</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2045">Multipurpose Internet Mail Extensions (MIME) Part One: Format of Internet Message Bodies</a>,&rdquo; RFC&nbsp;2045, November&nbsp;1996 (<a href="http://www.rfc-editor.org/rfc/rfc2045.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2046">[RFC2046]</a></td>
<td class="author-text"><a href="mailto:ned@innosoft.com">Freed, N.</a> and <a href="mailto:nsb@nsb.fv.com">N. Borenstein</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2046">Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types</a>,&rdquo; RFC&nbsp;2046, November&nbsp;1996 (<a href="http://www.rfc-editor.org/rfc/rfc2046.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3023">[RFC3023]</a></td>
<td class="author-text">Murata, M., St. Laurent, S., and D. Kohn, &ldquo;<a href="http://tools.ietf.org/html/rfc3023">XML Media Types</a>,&rdquo; RFC&nbsp;3023, January&nbsp;2001 (<a href="http://www.rfc-editor.org/rfc/rfc3023.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3870">[RFC3870]</a></td>
<td class="author-text">Swartz, A., &ldquo;<a href="http://tools.ietf.org/html/rfc3870">application/rdf+xml Media Type Registration</a>,&rdquo; RFC&nbsp;3870, September&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3870.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3902">[RFC3902]</a></td>
<td class="author-text">Baker, M. and M. Nottingham, &ldquo;<a href="http://tools.ietf.org/html/rfc3902">The "application/soap+xml" media type</a>,&rdquo; RFC&nbsp;3902, September&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3902.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4944">[RFC4944]</a></td>
<td class="author-text">Montenegro, G., Kushalnagar, N., Hui, J., and D. Culler, &ldquo;<a href="http://tools.ietf.org/html/rfc4944">Transmission of IPv6 Packets over IEEE 802.15.4 Networks</a>,&rdquo; RFC&nbsp;4944, September&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc4944.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5023">[RFC5023]</a></td>
<td class="author-text">Gregorio, J. and B. de hOra, &ldquo;<a href="http://tools.ietf.org/html/rfc5023">The Atom Publishing Protocol</a>,&rdquo; RFC&nbsp;5023, October&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc5023.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="W3C.WD-exi-20080919">[W3C.WD-exi-20080919]</a></td>
<td class="author-text">Schneider, J. and T. Kamiya, &ldquo;<a href="http://www.w3.org/TR/2008/WD-exi-20080919">Efficient XML Interchange (EXI) Format 1.0</a>,&rdquo; World Wide Web Consortium LastCall&nbsp;WD-exi-20080919, September&nbsp;2008 (<a href="http://www.w3.org/TR/2008/WD-exi-20080919">HTML</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>9.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="EXIficient">[EXIficient]</a></td>
<td class="author-text">&ldquo;<a href="http://exificient.sourceforge.net">EXIficient Project Home Page</a>.&rdquo;</td></tr>
<tr><td class="author-text" valign="top"><a name="FI@GlassFish">[FI@GlassFish]</a></td>
<td class="author-text">&ldquo;<a href="https://fi.dev.java.net">Fast Infoset GlassFish Project Home Page</a>.&rdquo;</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.bormann-6lowpan-6lowapp-problem">[I-D.bormann-6lowpan-6lowapp-problem]</a></td>
<td class="author-text">Bormann, C., Sturek, D., and Z. Shelby, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-bormann-6lowpan-6lowapp-problem-01.txt">6LowApp: Problem Statement for 6LoWPAN and LLN Application Protocols</a>,&rdquo; draft-bormann-6lowpan-6lowapp-problem-01 (work in progress), July&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-bormann-6lowpan-6lowapp-problem-01.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="Locawe-BXML">[Locawe-BXML]</a></td>
<td class="author-text">&ldquo;Developing geosensor network support for Locawe platform - application of standards in low-rate communication context,&rdquo; Proceedings of the 6th International Conference on Pervasive Services&nbsp;London, UK, July 13-16, 2009, 73-82.</td></tr>
<tr><td class="author-text" valign="top"><a name="W3C.WD-exi-best-practices-20071219">[W3C.WD-exi-best-practices-20071219]</a></td>
<td class="author-text">Vogelheim, D. and M. Cokus, &ldquo;<a href="http://www.w3.org/TR/2007/WD-exi-best-practices-20071219">Efficient XML Interchange (EXI) Best Practices</a>,&rdquo; World Wide Web Consortium WD&nbsp;WD-exi-best-practices-20071219, December&nbsp;2007 (<a href="http://www.w3.org/TR/2007/WD-exi-best-practices-20071219">HTML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="W3C.WD-exi-evaluation-20090407">[W3C.WD-exi-evaluation-20090407]</a></td>
<td class="author-text">Bournez, C., &ldquo;<a href="http://www.w3.org/TR/2009/WD-exi-evaluation-20090407">Efficient XML Interchange Evaluation</a>,&rdquo; World Wide Web Consortium WD&nbsp;WD-exi-evaluation-20090407, April&nbsp;2009 (<a href="http://www.w3.org/TR/2009/WD-exi-evaluation-20090407">HTML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="W3C.WD-exi-primer-20071219">[W3C.WD-exi-primer-20071219]</a></td>
<td class="author-text">Pericas-Geertsen, S. and D. Peintner, &ldquo;<a href="http://www.w3.org/TR/2007/WD-exi-primer-20071219">Efficient XML Interchange (EXI) Primer</a>,&rdquo; World Wide Web Consortium WD&nbsp;WD-exi-primer-20071219, December&nbsp;2007 (<a href="http://www.w3.org/TR/2007/WD-exi-primer-20071219">HTML</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Zach Shelby</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Sensinode</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Kidekuja 2</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Vuokatti  88600</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">FINLAND</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+358407796297</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:zach@sensinode.com">zach@sensinode.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Mika Luimula</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">CENTRIA</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Vierimaantie 7</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Ylivieska  84100</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Finland</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+358444492543</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:Mika.Luimula@centria.fi">Mika.Luimula@centria.fi</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Daniel Peintner</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Siemens AG</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Otto-Hahn-Ring 6</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Munich  81739</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Germany</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+49-89-636-41274</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:Daniel.Peintner.EXT@siemens.com">Daniel.Peintner.EXT@siemens.com</a></td></tr>
</table>
</body></html>
