   Network Working Group                                 Kohei Shiomoto 
   Internet Draft                                                 (NTT) 
   draft-shiomoto-ccamp-gmpls-mrn-reqs-00.txt     Dimitri Papadimitriou
   Expires: April 2005                                        (Alcatel) 
                                                     Jean-Louis Le Roux 
                                                       (France Telecom) 
                                                       Martin Vigoureux 
                                                              (Alcatel) 
                                                      Deborah Brungard  
                                                                 (AT&T) 
                                                                        
                                                           October 2004 
                                                                        
                                                                        
                                                                        
                                                                        
    
    
    Requirements for GMPLS-based multi-region and multi-layer networks 
                draft-shiomoto-ccamp-gmpls-mrn-reqs-00.txt 
   Status of this Memo 
    
   This document is an Internet-Draft and is subject to all provisions 
   of section 3 of RFC 3667. By submitting this Internet-Draft, each 
   author represents that any applicable patent or other IPR claims of 
   which he or she is aware have been or will be disclosed, and any of 
   which he or she become aware will be disclosed, in accordance with 
   RFC 3668. 
    
   Internet-Drafts are working documents of the Internet Engineering 
   Task Force (IETF), its areas, and its working groups. Note that other 
   groups may also distribute working documents as Internet-Drafts. 
    
   Internet-Drafts are draft documents valid for a maximum of six months 
   and may be updated, replaced, or obsoleted by other documents at any 
   time. It is inappropriate to use Internet-Drafts as reference 
   material or to cite them other than as "work in progress." 
    
   The list of current Internet-Drafts can be accessed at 
   http://www.ietf.org/ietf/1id-abstracts.txt. 
    
   The list of Internet-Draft Shadow Directories can be accessed at 
   http://www.ietf.org/shadow.html. 
    
   Copyright Notice 
    
   Copyright (C) The Internet Society (2004). All Rights Reserved. 
    
   Abstract 
    
   Most of the initial efforts on Generalized MPLS (GMPLS) have been 
   related to environments hosting devices with a single switching 
   capability, that is, one data plane switching layer. The complexity 
   raised by the control of such data planes is similar to that seen in 
   classical IP/MPLS networks. 
     
   Shiomoto et al           Expires April 2005                       1 
     Requirements for GMPLS-based multi-region and multi-layer networks  
                                                           October 2004 
    
    
   GMPLS can provide a comprehensive framework for the control of a 
   network consisting of network elements based on different switching 
   technologies, which we call a ñmulti-regionï network (MRN). GMPLS can 
   also facilitate the control of layered networks where connections in 
   a higher layer network are facilitated by a lower layer network. This 
   draft defines a framework for GMPLS-based multi-region and multi-
   layer networks, and lists a set of functional requirements. 
    
1. Introduction 
    
   Generalized MPLS (GMPLS) extends MPLS to handle multiple switching 
   technologies: packet switching, layer-two switching, TDM switching, 
   wavelength switching, and fiber switching (see [GMPLS-ARCH]). The 
   Interface Switching Capability concept is introduced for those 
   switching technologies and is designated as follows: PSC (packet 
   switch capable), L2SC (Layer-2 switch capable), TDM (Time Division 
   Multiplex capable), LSC (lambda switch capable), and FSC (fiber 
   switch capable). 
    
   Service providers operate networks consisting of network elements 
   with different switching capabilities such as routers, layer-two 
   switches, TDM cross-connects, optical cross-connects, and fiber 
   switches. The networks consist of several technology domains, each of 
   which uses the same switching capability. The term ñregionï is used 
   to distinguish these technology domains [HIER]. 
    
   Since GMPLS provides a comprehensive framework for the control of 
   different switching technologies, the service provider›s network can 
   be controlled in a unified framework and therefore rapid service 
   provisioning and efficient network usage are achievable. A network 
   consisting of network elements based on different switching 
   technologies controlled by a unified GMPLS control plane is referred 
   to as a ñmulti-regionï network (MRN) in this document. 
    
   In GMPLS-based multi-region networks, TE-links with different 
   switching capabilities are consolidated into a single traffic 
   engineering database (TED). Since TE-links with different switching 
   capabilities are consolidated into a single TED, a path across 
   multiple regions can be computed using the TED. Thus optimization of 
   network resource across the multiple regions can be sought. 
    
   Optimization can take place in across multiple regions. Consider, for 
   example, a network consisting of IP routers and TDM cross-connects. 
   Assume that a packet-level LSP is routed between source and 
   destination IP routers, and that the LSP can be routed across the 
   PSC-region (i.e., utilizing only resources of the IP level topology). 
   If the performance objective for the LSP is not satisfied, new TE-
   links may be created between the IP routers across the TDM-region and 
   the LSP can be routed over those links. Further, even if the LSP can 
   be successfully established across PSC-region, TE-links across the 
   TDM-region between the IP routers may be established and used if 


     
   Shiomoto et al         Expires April 2005                         2 
     Requirements for GMPLS-based multi-region and multi-layer networks  
                                                           October 2004 
    
   doing so leaves more network resource available (e.g., link bandwidth, 
   and adaptation port between regions) across the multiple regions. 
    
   A service provider›s network may be divided into different network 
   layers. The customer›s network is considered the highest layer 
   network, and interfaces to the highest layer of the service 
   provider›s network. Connectivity across the highest layer of the 
   service provider›s network may be provided with support from networks 
   of successively lower layers. Network layers are commonly arranged 
   according to the switching capabilities of the devices in the 
   networks so that, for example, there may be layer one networks (TDM, 
   LSC and FSC) supporting layer two networks (L2SC) supporting layer 
   three networks (IP and MPLS). The support relationship is, however, a 
   client-server relationship where the lower layer provides a service 
   for the higher layer using the TE links of the lower layer, and so 
   the layering relationship is actually administrative rather than 
   dependent on the switching capabilities of the networks. 
    
   A Âmulti-layer› network is, therefore, the general case of a multi-
   region network which must embrace all of the requirements for regions 
   of different switching capabilities, but must also support the 
   arbitrary layering of networks. 
    
   More generally, such multi-layer services can be provided by the 
   combination of GMPLS based multi-region networks and non-GMPLS based 
   networks such as legacy IP and MPLS/IP networks. We call this a 
   (general) multi-layer service network. 
    
   This document describes the requirements for the multi-region network 
   and the multi-layer service network. The rest of this document is 
   organized as follows. In Section 3, the key concepts for the 
   Generalized MPLS-based multi-region and multi-layer service networks 
   are described. In Section 4, the functional requirements are listed. 
    
   There is no intention to specify solution specific elements in this 
   document. The applicability of existing GMPLS protocol to MRN, and 
   any protocol extensions, will be addressed in separate documents. 
    
2. Conventions used in this document 
    
   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", 
   "SHOULD", "SHOULD NOT", "RECOMMENDED",  "MAY", and "OPTIONAL" in this 
   document are to be interpreted as described in RFC 2119 [RFC2119]. 
    
3. Key mechanisms in GMPLS-based multi-region and multi-layer networks 
    
   3.1 The Multi-region network (MRN) 
    
   Example of MRN network, which consists of PSC, TDM and LSC. is 
   illustrated in Figure 1. The concept of region is by nature 
   hierarchical. PSC, TDM, and LSC are defined from the upper to the 
   lower regions in Figure 1. Network elements with different switching 
   technologies in the MRN are controlled by a unified GMPLS control 
     
   Shiomoto et al         Expires April 2005                         3 
     Requirements for GMPLS-based multi-region and multi-layer networks  
                                                           October 2004 
    
   plane. When a LSP is crossing a region boundary from the upper to the 
   lower regions, the LSP is be nested in a lower-region FA. 
    
    .................................................. 
    :       ..................................       : 
    :       :       .................        :       : 
    :       :       :               :        :       : 
    :  PSC  :  TDM  : LSC           :        :       : 
    : +--+  :  +--+ :   +--+   +--+ :   +--+ :  +--+ : 
    : |P1|-----|T1|-----|L1|---|L2|-----|T2|----|P2| : 
    : +--+  :  +--+ :   +--+   +--+ :   +--+ :  +--+ : 
    :       :       .................        :       : 
    :       ..................................       : 
    .................................................. 
      Figure 1: Example of .ulti-region network 
    
   3.2 Interface switching capability 
    
   The Interface Switching Capability (ISC) concept is introduced in 
   GMPLS to support various kinds of switching technology in a unified 
   way. An ISC refers to the ability of a data switch to forward data of 
   a particular type. PSC, L2SC, TDM, LSC, and FSC are defined. Each end 
   of the link in a GMPLS network is associated with at least one 
   switching capability. For example, PSC is associated with an 
   interface which can delineate IP/MPLS packets (e.g., a router›s 
   interface) while LSC is associated with an interface which can switch 
   individual wavelengths multiplexed in a fiber link (e.g., an OXC›s 
   interface). Every link in the TE database has switching capabilities 
   at both ends. 
    
   An interface may have multiple interface switching capabilities. A 
   router has only interfaces with a single switching capability (PSC) 
   while a hybrid node has a mixture of interfaces with single and 
   multiple switching capabilities. 
    
   3.3 Horizontal and vertical integration 
    
   Two types of network elements are defined in the multi-region 
   network: plain nodes and hybrid nodes. A plain node has only a single 
   switching capability configured on its any one of its interfaces but 
   may have interfaces with different switching capabilities. 
   On the other hand, the hybrid node has interfaces with single and 
   multiple switching capabilities, and interfaces of the same hybrid 
   node may have different switching capabilities. 
    
   3.3.1 Plain node model 
    
   The MRN network can consist of just plain nodes. PSC, L2SC, TDM, LSC, 
   and FSC plain nodes are deployed in the MRN network (See Figure 2). 
   Note that the node, which has links of various different switching 
   capabilities, is still a plain node as long as the end point of each 
   link is associated with a single switching capability. For example, 
   the node TL2 in Figure 2 is a plain node, which has links associated 
     
   Shiomoto et al         Expires April 2005                         4 
     Requirements for GMPLS-based multi-region and multi-layer networks  
                                                           October 2004 
    
   with TDM and links associated with LSC. At the region boundary, the 
   interface switching capabilities of the ends of the link are 
   different. When an LSP crosses the boundary from the upper to the 
   lower regions, it is nested in a lower-region FA or can be converted 
   to a lower-region LSP. 
    
  ..................................................................... 
   :       .....................................................       : 
   :       :       ....................................        :       : 
   :       :       :        ...................       :        :       : 
   :  PSC  :  TDM  : LSC    :  FSC            :       :        :       : 
   : +--+  :  +--+ :   +--+ :   +--+    +--+  :  +--+ :   +--+ :  +--+ : 
  : |P1|_____|T1|_____|L1|_____|F1|____|F3| ____|L3|_____|T3|____|P3| : 
  : +--+  :  +--+ :   +--+ :   +--+    +--+  :  +--+ :   +--+ :  +--+ : 
   :   |   :    |  :     |  :     |       |   :    |  :     |  :    |  : 
   :   |   :    |  :     |  :     |       |   :    |  :     |  :    |  : 
   : +--+  :  +-----------+ :   +--+    +--+  :  +--+ :   +--+ :  +--+ : 
   : |P2|_____|    TL2    |_____|F2|____|F4| ____|L4|_____|T4|____|P4| : 
   : +--+  :  +-----------+ :   +--+    +--+  :  +--+ :   +--+:   +--+ : 
   :       :       :        ...................       :       :        ; 
   :       :       ....................................       :        : 
   :       ...................................................         : 
   ..................................................................... 
 
                             Figure 2: Plain node MRN model. 
    
   3.3.2 Hybrid node interface capabilities 
    
   Figure 3 shows an example of a hybrid node. The hybrid node has two 
   switching elements, which have, for instance, interface switching 
   capabilities PSC and TDM. It has two external interfaces (Link1 and 
   Link2), which are directly connected to the switching element of PSC. 
   The two switching elements are interconnected via an internal 
   interface, which is not disclosed outside the network element. The 
   internal interface is used to facilitate ñadaptationï between 
   different switching capabilities: PSC and TDM. By cross-connecting 
   port #a and port #b in the TDM switching element, Link 1 is made 
   capable of PSC switching and can no longer switch TDM. 
    
                           Network element 
                      ............................. 
                      :            --------       : 
                      :           |  PSC   |      : 
                      :  +--<->---|        |      : 
                      :  |         --------       : 
            TDM       :  |        ----------      : 
            +PSC      :  +--<->--|#a  TDM   |     : 
          Link1 ------------<->--|#b        |     : 
          Link2 ------------<->--|#c        |     : 
                      :           ----------      : 
                      :............................ 
    
                           Figure 3. Hybrid node. 
    
     
   Shiomoto et al         Expires April 2005                         5 
     Requirements for GMPLS-based multi-region and multi-layer networks  
                                                           October 2004 
    
   3.3.3 Horizontal and vertical integration 
    
   Horizontal interaction is defined as the protocol exchange between 
   network elements that support a single common switching technology 
   (i.e. switching capability). For instance, the control plane 
   interactions between two LSC network elements is an example of 
   horizontal interaction. Normal GMPLS protocol operations handle 
   horizontal interactions, but of particular interest is the case where 
   the interaction takes place across a domain boundary such as between 
   two routing areas that support the same switching technology. 
    
   Vertical interaction is defined as the collaborative mechanisms 
   within a network element that is capable of supporting more than one 
   switching technology. This enables a device to connect together two 
   distinct switching domains (for example, a PSC domain and a LSC 
   domain). Such a concept is useful in order to construct a framework 
   that facilitates efficient network resource usage and rapid service 
   provisioning in carrier's networks that are based on multiple 
   switching technologies. 
    
   Networks where separate domains of switching capability exist and are 
   controllable through vertical interaction are termed "multi-layer" 
   networks. 
    
   Whereas the multi-region concept allows for the operation of one 
   network switching type over another switching type (for example, the 
   use of a PSC Forwarding Adjacency over an LSC network), the multi-
   layer concept offers a greater degree of control and interworking 
   including (but not limited too): 
   - the dynamic establishment of FAs 
   - the provisioning of end-to-end, multi-technology LSPs using 
     data plane adaptation 
   - the dynamic establishment of multi-technology stitched LSPs 
     using data plane adaptation. 
    
    
   3.4 Triggered signaling 
    
   When a LSP crosses the boundary from an upper to a lower region, it 
   may be nested in or stitched to a lower-region LSP. If such an LSP 
   does not exist, the LSP may be established dynamically. Such a 
   mechanism is referred to as "triggered signaling". 
    
    
    
   3.5 Forwarding adjacency (FA) 
    
   Once an LSP across a lower layer is created, it can be advertised as 
   a TE-link called a Forwarding Adjacency (FA), allowing other nodes to 
   use the LAP as a TE links for their path computation [HIER]. The FA 
   is a useful and powerful tool for improving the scalability of GMPLS 
   Traffic Engineering (TE) capable networks. 
    
     
   Shiomoto et al         Expires April 2005                         6 
     Requirements for GMPLS-based multi-region and multi-layer networks  
                                                           October 2004 
    
   The aggregation of TE Label Switched Paths (TE-LSPs) enables the 
   creation of a vertical (nested) TE-LSP Hierarchy. A set of FAs across 
   or within a lower region can be used by a higher region as part of 
   the path computation process, and higher region LSPs may be carried 
   across the FAs (just as they are carried across any TE link). This 
   process of requires either the nesting of LSPs through a hierarchical 
   process [HIER] or stitching at the region boundary. In the MRN, since 
   more than one higher region paths computation and modification can 
   occur, FAs in the various regions are treated in a simple and 
   efficient way. A MRN traffic engineering database (TED) is a set of 
   FA information from multiple different regions. An FA›s region is 
   identified by the interface switching capability attached to the link 
   state advertisement associated with the FA [GMPLS-ROUTING]. 
    
    
    
   3.6 Virtual network topology (VNT) 
    
   A set of lower-region FAs provides a set of information for efficient 
   path handling in the upper-region of the MRN, or provides a virtual 
   network topology to the upper-region. For instance, a set of FAs, 
   each of which is instantiated by an LSC LSP, provides a virtual 
   network topology to the PSC region, assuming that the PSC region is 
   connected to the LSC region. The virtual network topology is 
   configured by setting up or tearing down the LSC LSPs. By using GMPLS 
   signaling and routing protocols, the virtual network topology can be 
   easily adapted to traffic demands. 
    
   By reconfiguring the virtual network topology according to traffic 
   demand between source and destination node pairs, network performance 
   factors, such as maximum link utilization and residual capacity of 
   the network, can be optimized [MAMLTE]. Reconfiguration is performed 
   by computing the new VNT from the traffic demand matrix and 
   optionally from the current VNT. Exact details are outside the scope 
   of this document. However, this method MAY be tailored according to 
   the service provider's policy regarding network performance and 
   quality of service (delay, loss/disruption, utilization, residual 
   capacity, reliability). 
    
    
4. Requirements 
    
4.1. Requirements for multi-region TE 
    
   4.1.1 Scalability 
    
   The MRN relies on a unified routing model. The Traffic Engineering 
   Database in each LSR will be populated with TE-links from all regions. 
   This may lead to a huge amount of information that has to be flooded 
   and stored within the network. Furthermore, path computation delays, 
   which may be of huge importance during restoration, will depend on 
   the size of the TE Database. 
    
     
   Shiomoto et al         Expires April 2005                         7 
     Requirements for GMPLS-based multi-region and multi-layer networks  
                                                           October 2004 
    
   Thus MRN routing mechanisms MUST be designed to scale well with an 
   increase of any of the following: 
        - Number of nodes 
        - Number of TE-links (including FA-LSP) 
        - Number of LSPs 
        - Number of regions 
    
   4.1.2 FA link resource utilization 
    
   It MUST be possible to utilize network resources efficiently. 
   Particularly, resource usage in each region SHOULD be optimized as a 
   whole (i.e. across all regions), in a coordinated manner. The number 
   of lower-region FA-LSPs carrying upper-region LSPs SHOULD be 
   minimized. Redundant lower-region FA-LSPs SHOULD be avoided (except 
   for protection purpose). 
    
    
   4.1.2.1 FA release and setup 
    
   Statistical multiplexing can only be employed in PSC and L2SC regions. 
   The use of a PSC or L2SC FA-LSP may or may not consume the full 
   bandwidth of the FA-LSP. On the other hand, a TDM, LSC, or FSC FA-LSP 
   always consumes the fixed bandwidth for the LSP as long as it exists 
   (and is fully instantiated) because statistical multiplexing is not 
   available. 
    
   If there is low traffic demand, some FA-LSPs, which do not carry any 
   LSPs may be released so that resources are released. Alternatively, 
   the FA-LSPs may be retained for future usage. Release or retention of 
   underutilized FA-LSPs is a policy decision. 
    
   As part of the re-optimization process, the MRN solution MUST allow 
   rerouting of FA-LSPs while keeping interface identifiers of FA links 
   unchanged. 
    
   Additional FAs MAY also be created based on policy, which might 
   consider residual resources and the change of traffic demand across 
   the region. By creating the new FAs, the network performance such as 
   maximum residual capacity may be improved. 
    
   As the number of FAs grows, the residual resource may decrease. In 
   this case, re-optimization MAY be invoked according the policy. 
    
   4.1.2.2 Virtual FAs 
    
   If FAs are used to enable connectivity over part or all of the lower-
   region, it may be considered disadvantageous to fully instantiate 
   (i.e. pre-provision) the FA-LSPs since this may reserve bandwidth 
   within the lower-region network that could be used for other LSPs in 
   the absence of the upper-region traffic. 
    
   However, in order that the upper-region can route traffic across the 
   lower-region, the FA links MAY (this is not a MUST requirement as you 
     
   Shiomoto et al         Expires April 2005                         8 
     Requirements for GMPLS-based multi-region and multi-layer networks  
                                                           October 2004 
    
   can route an upper region LSP into a lower region based on lower 
   region TE-links, even if there is no FA) still be advertised into the 
   lower-region as TE links. Such FA links that represent the 
   possibility of an FA-LSP are termed "virtual FAs". 
    
   If an upper-region LSP that makes use of a virtual FA is set up, the 
   underlying FA-LSP MUST be immediately signaled if it has not already 
   been signaled. 
    
   If virtual FAs are used in place of FAs, the TE links across the 
   lower-region can remain stable using pre-computed paths while wastage 
   of bandwidth within the lower-region, and unnecessary reservation of 
   adaptation ports at the border nodes is avoided. 
    
   The set of the virtual FAs defines the virtual topology across the 
   lower region. The solution is expected to deliver the following 
   mechanism in terms of the build-up of virtual topology operations 
   taking into account the (forecast) traffic demand and available 
   resource in the lower-region. The virtual topology MAY be modified 
   dynamically (by adding or removing virtual FAs) according to the 
   change of the (forecast) traffic demand and the available resource in 
   the lower-region. 
    
   The virtual topology can be changed by setting up and/or tearing down 
   virtual FA-LSPs as well as by changes to real links and to real FAs. 
   The maximum number of FAs that can be soft provisioned on a given 
   resources SHOULD be well-engineered. How to design the virtual 
   topology and its changes is out of scope of this document.  
    
   4.1.3 FA LSP Attribute inheritance 
    
   FA TE-Link parameters SHOULD be inherited from FA-LSP parameters. 
   This includes: 
        - Interface Switching Capability 
        - TE metric 
        - Max LSP bandwidth per preemption priority 
        - Max Reservable bandwidth 
        - Protection attribute 
        - Min LSP bandwidth (depending on the Switching Capability) 
    
    
   Inheritance rules MUST be applied based on specific policies. 
   Particular attention should be given to the inheritance of TE metric 
   and protection attributes. 
    
   4.1.4 Verify the FA before it enters service 
    
   When the FA is created, it SHOULD be verified before it enters the 
   in-service state. Data-plane connectivity, performance SHOULD be 
   examined. 
    
   4.1.5 Disruption minimization 
    
     
   Shiomoto et al         Expires April 2005                         9 
     Requirements for GMPLS-based multi-region and multi-layer networks  
                                                           October 2004 
    
   When reconfiguring the virtual network topology according to the 
   traffic demand change, the upper-region LSP may be disrupted. Such 
   disruption MUST be minimized. 
    
   When residual resource decreases to a certain level, some FAs may be 
   released according to policies. Ideally, only FAs that are not 
   carrying LSPs would be released, but in some cases it may be 
   necessary to release FAs that are carrying traffic. 
    
   4.1.6 Path computation re-optimization stability 
    
   When the virtual network topology is reconfigured, the path 
   computation over the virtual network topology may be affected (re-
   optimized). The re-optimization of the path computation should be 
   carefully controlled when the virtual network topology is 
   reconfigured. 
    
   The path computation is dependent on the network topology and 
   associated link state. The path computation stability of upper region 
   may be impaired if the Virtual Network Topology frequently changes 
   and/or if the status and TE parameters (TE metric for instance) of 
   links in the Virtual Network Topology changes frequently. 
    
   In this context, robustness of the Virtual Network Topology is 
   defined as the capability to smooth changes that may occur and avoid 
   their subsequent propagation. Changes of the Virtual Network Topology 
   may be caused by the creation and/or deletion of several LSPs. 
    
   Creation and deletion of LSPs may be triggered by adjacent regions or 
   through operational actions to meet change of traffic demand. Routing 
   robustness should be traded with adaptability with respect to the 
   change of incoming traffic requests. 
    
   A full mesh of LSPs may be created between every pair of border nodes 
   of the PSC region. The merit of a full mesh of PSC FAs is that it 
   provides stability to the PSC-level routing. That is, the forwarding 
   table of an PSC-LSR is not impacted by re-routing changes within the 
   lower-region (e.g., TDM). Further, there is always full PSC 
   reachability and immediate access to bandwidth to support PSC LSPs. 
   But it also has significant drawbacks, since it requires the 
   maintenance of n^2 RSVP-TE sessions, which may be quite CPU and 
   memory consuming (scalability impact). 
    
    
   4.1.7 Computing paths with and without nested signaling 
    
   Path computation may take into account region boundaries when 
   computing a path for an LSP. For example, path computation may 
   restrict the path taken by an LSP to only the links whose interface 
   switching capability is PSC-1. 
    



     
   Shiomoto et al         Expires April 2005                        10 
     Requirements for GMPLS-based multi-region and multi-layer networks  
                                                           October 2004 
    
   Interface switching capability is used as a constraint in computing 
   the path. A TDM-LSP is routed over the topology composed of links, 
   both of whose ends has TDM switching capability. 
    
   In Figure . a TDM-LSP is routed from LSR-P1, through TDM_SW-T1 and 
   TDM_SW-T2, to LSR-P2. The path for the TDM-LSP is composed of links, 
   both of whose ends has TDM switching capability. Once the TDM LSP is 
   set up, it is advertised as an FA-LSP, both ends of which are PSC. In 
   calculating the path for the PSC-LSP, the TE database is filtered to 
   include the link, both ends of which include only PSC. In this way 
   hierarchical routing of the PSC-LSP and TDM-LSP is done by using a TE 
   database filtered with respect to switching capability. 
    
    
                  .................................. 
                  :       ..................       : 
                  :       :                :       : 
                  :  PSC  :  TDM           :       : 
                  : +--+  :  +--+     +--+ :  +--+ : 
                  : |P1|-----|T1|-----|T2|----|P2| : 
                  : +--+  :  +--+     +--+ :  +--+ : 
                  :       :                :       : 
                  :       ..................       : 
                  .................................. 
    
                    Figure . Path computation in MRN. 
    
    
   There may be a case, in which we can set up the LSP if we build new 
   lower-region LSPs along the computed path. Suppose that we set up the 
   TDM-LSP between P1 and P2 in Figure .. The TDM-LSP is routed over 
   the path T1-L1-L2-T2. At this time, there is no direct link between 
   T1 and T2. Then, the LSC-LSP is set up between T1 and T2. The LSC-LSP 
   setup request (between T1 and T2) is triggered by the TDM-LSP setup 
   request (between P1 and P2). If triggered signaling is allowed, the 
   path computation mechanism may produce a route containing multiple 
   regions. 
    
    
    .................................................. 
    :       ..................................       : 
    :       :       .................        :       : 
    :       :       :               :        :       : 
    :  PSC  :  TDM  : LSC           :        :       : 
    : +--+  :  +--+ :   +--+   +--+ :   +--+ :  +--+ : 
    : |P1|-----|T1|-----|L1|---|L2|-----|T2|----|P2| : 
    : +--+  :  +--+ :   +--+   +--+ :   +--+ :  +--+ : 
    :       :       .................        :       : 
    :       ..................................       : 
    .................................................. 
    
                    Figure . Path computation in MRN. 
    
     
   Shiomoto et al         Expires April 2005                        11 
     Requirements for GMPLS-based multi-region and multi-layer networks  
                                                           October 2004 
    
    
   4.1.8 Handling both vertical and horizontal integration 
    
   The MRN can consist of plain and hybrid nodes. The path computation 
   mechanism in the MRN SHOULD be able to compute the paths consisting 
   of plain and hybrid nodes. 
    
   Recall the plain node model shown in Figure 2. The switching 
   capability of both ends of a TE-link may or may not be the same. For 
   a TE-link between an LSR and a TDM switch, the switching capability 
   of the end-point on the LSR-side is PSC while the one on the TDM 
   switch-side is TDM. For a TE-link between two TDM switches, the 
   switching capability of the both end-points is TDM. 
    
   The links of the hybrid node shown in Figure 3 are advertised as TE-
   links with multiple interface switching capabilities: PSC and TDM. 
   The hybrid node is used as a transit node for a TDM-region. At the 
   same time, the hybrid node is used as an ingress, egress, or transit 
   node for the PSC-region. 
    
    
   4.1.9 Advertisement of the available adaptation resource 
    
   A node, hosting multiple ISCs, is required to hold and advertise 
   resource information on its internal links. 
    
   For example, if the hybrid node shown in Figure 3 is used as an 
   ingress or egress node, a cross-connection is made between the port 
   #a and the port #b in the TDM switching element. 
    
   Once the cross-connection is made, Link 1 is PSC not TDM capable. 
   Link1 is advertised as a new FA with a single switching capability: 
   PSC. After that, there is no available internal link to connect port 
   #b to the PSC. Link 2 is still advertised as being capable of TDM and 
   PSC, but there is no available resource to provide PSC. 
    
   Therefore, within multi-region networks, the advertisement of the so-
   called adaptation capability to terminate LSPs is required, as it 
   provides critical information when performing multi-region path 
   computation. 
    
    
    
4.2. Requirements for multi-layer service 
    
   4.2.1 Support multiple service networks 
   Since service providers sometime provide multiple different services 
   in terms of contracts, areas of provision,  access technologies, etc. 
   even though the provided services belong to the same layer,  multi-
   layer service networks should support the capability to accommodate 
   multiple service networks within a single server network.  
    
   4.2.2 Support multiple layer networks 
     
   Shiomoto et al         Expires April 2005                        12 
     Requirements for GMPLS-based multi-region and multi-layer networks  
                                                           October 2004 
    
   Since service providers sometime provide multiple different services 
   in terms of layers to efficiently to support such different 
   services, multi-layer service networks should support the capability 
   to accomodate multiple different layers service networks within a 
   single server network. 
    
   4.2.3 Address space separation for different service networks 
   Especially, since service networks may follow different administratic  
   policies and/or organizations, the control technlogies should be able 
   to be different.  One specific difference is in address spaces. 
    
   4.2.4 Autonomous control of optical path setup/teardown 
   Modification and re-optimization of LSPs is not only for GMPLS based 
   multi region networks.  This is also for multi-layer network where 
   the providor network is based on such GMPLS capability to be utilised 
   on the requirements from service networks which may not be capable of 
   GMPLS. Consider examples on traffic demands can be measured even in 
   the legacy service network to determin the need of creation and 
   modification of provider GMPLS LSPs. 
    
5. Security Considerations 
    
   The current version of .his document does not introduce any new 
   security considerations as it only lists a set of requirements. In 
   the futrue versions, new security requirements may be added. 
 
 
6. References 
 
    
6.1. Normative References
    
6.2. Informative References 
    
   [MPLSGMPLS] D. Brungard, J. L. Roux, E. Oki, D. Papadimitriou, D. 
   Shimazaki, K. Shiomoto, "Migrating from IP/MPLS to GMPLS networks," 
   draft-oki-ccamp-gmpls-ip-interworking-03.txt (work in progress) July 
   2004. 
    
   [GMPLS-ROUTING] K. Kompella and Y. Rekhter, "Routing Extensions in 
   Support of Generalized Multi-Protocol Label Switching," draft-ietf-
   ccamp-gmpls-routing-09.txt, Octorber 2003 (work in progress). 
    
   [Inter-domain] A. Farrel, J-P. Vasseur, and A. Ayyangar, "A framework 
   for inter-domain MPLS traffic engineering," <draft-ietf-ccamp-inter-
   domain-framework-00.txt> July 2004. 
    
   [HIER] K. Kompella and Y. Rekhter, "LSP hierarchy with generalized 
   MPLS TE," <draft-ietf-mpls-lsp-hierarchy-08.txt> Sept. 2002. 
    
   [MAMLTE] K. Shiomoto et al., "Multi-area multi-layer traffic 
   engineering using hierarchical LSPs in GMPLS networks", draft-
   shiomoto-multiarea-te-01.txt (work in progress). 
     
   Shiomoto et al         Expires April 2005                        13 
     Requirements for GMPLS-based multi-region network   October 2004 
    
    
   [GMPLS-LMP] J. Land, "Link management protocol (LMP)," draft-ietf-
   ccamp-lmp-10.txt (work in progress), October 2003. 
    
    
7. Author's Addresses 
    
   Kohei Shiomoto 
   NTT Network Service Systems Laboratories 
   3-9-11 Midori-cho, 
   Musashino-shi, Tokyo 180-8585, Japan 
   Email: shiomoto.kohei@lab.ntt.co.jp 
    
   Dimitri Papadimitriou 
   Alcatel 
   Francis Wellensplein 1, 
   B-2018 Antwerpen, Belgium 
   Phone : +32 3 240 8491 
   E-mail: dimitri.papadimitriou@alcatel.be 
    
   Jean-Louis Le Roux 
   France Telecom R&D 
   av Pierre Marzin 
   22300 Lannion 
   France 
   Email: jeanlouis.leroux@francetelecom.com 
    
   Martin Vigoureux (Alcatel) 
   Route de Nozay, 
   91461 Marcoussis cedex, France 
   Phone: +33 (0)1 69 63 18 52 
   E-mail: martin.vigoureux@alcatel.fr 
    
   Deborah Brungard 
   AT&T 
   Rm. D1-3C22 - 200 S. Laurel Ave. 
   Middletown, NJ 07748, USA 
   Phone: +1 732 420 1573 
   E-mail: dbrungard@att.com 
    
   Contributors 
    
   Eiji Oki (NTT Network Service Systems Laboratories) 3-9-11 Midori-cho 
   Musashino-shi, Tokyo 180-8585, Japan Phone : +81 422 59 3441 E-mail: 
   oki.eiji@lab.ntt.co.jp 
    
   Ichiro Inoue (NTT Network Service Systems Laboratories) 3-9-11 
   Midori-cho 
   Musashino-shi, Tokyo 180-8585, Japan Phone : +81 422 59 3441 E-mail: 
   ichiro.inoue@lab.ntt.co.jp 
    
   Emmanuel Dotaro (Alcatel) Route de Nozay, 91461 Marcoussis cedex, 
   France 
   Phone : +33 1 6963 4723 E-mail: emmanuel.dotaro@alcatel.fr 
     
   TBD et al              Expires April 2005                        14 
     Requirements for GMPLS-based multi-region network   October 2004 
    
    
    
8. Intellectual Property Considerations 
    
   The IETF takes no position regarding the validity or scope of any 
   Intellectual Property Rights or other rights that might be claimed to 
   pertain to the implementation or use of the technology described in 
   this document or the extent to which any license under such rights 
   might or might not be available; nor does it represent that it has 
   made any independent effort to identify any such rights. Information 
   on the procedures with respect to rights in RFC documents can be 
   found in BCP 78 and BCP 79. 
   Copies of IPR disclosures made to the IETF Secretariat and any 
   assurances of licenses to be made available, or the result of an 
   attempt made to obtain a general license or permission for the use of 
   such proprietary rights by implementers or users of this 
   specification can be obtained from the IETF on-line IPR repository at 
   http://www.ietf.org/ipr. 
    
   The IETF invites any interested party to bring to its attention any 
   copyrights, patents or patent applications, or other proprietary 
   rights that may cover technology that may be required to implement 
   this standard. Please address the information to the IETF at ietf-
   ipr@ietf.org. 
 
 
    
9. Full Copyright Statement 
    
   Copyright (C) The Internet Society (2004). This document is subject 
   to the rights, licenses and restrictions contained in BCP 78, and 
   except as set forth therein, the authors retain all their rights. 
    
   This document and the information contained herein are provided on an 
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS 
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET 
   ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED, 
   INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE 
   INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED 
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. 














     
   TBD et al              Expires April 2005                        15 