



Network Working Group                                              Z. Li
Internet-Draft                                                   S. Peng
Intended status: Standards Track                     Huawei Technologies
Expires: September 8, 2022                                        C. Xie
                                                           China Telecom
                                                           March 7, 2022


         Application-aware IPv6 Networking (APN6) Encapsulation
                       draft-li-apn-ipv6-encap-01

Abstract

   Application-aware IPv6 Networking (APN6) makes use of IPv6
   encapsulation to convey the APN Attribute along with data packets and
   make the network aware about data flow requirements at different
   granularity levels.  The APN attribute can be encapsulated in the APN
   header.  This document defines the encapsulation of the APN header in
   the IPv6 data plane.

Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on September 8, 2022.

Copyright Notice

   Copyright (c) 2022 IETF Trust and the persons identified as the
   document authors.  All rights reserved.




Li, et al.              Expires September 8, 2022               [Page 1]

Internet-Draft             APN6 Encapsulation                 March 2022


   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Terminologies . . . . . . . . . . . . . . . . . . . . . . . .   2
   3.  APN Option  . . . . . . . . . . . . . . . . . . . . . . . . .   3
   4.  Locations for APN Option  . . . . . . . . . . . . . . . . . .   4
     4.1.  Hop-by-Hop Options Header (HBH) . . . . . . . . . . . . .   4
     4.2.  Destination Options Header (DOH)  . . . . . . . . . . . .   4
   5.  APN TLV of SRH  . . . . . . . . . . . . . . . . . . . . . . .   4
   6.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   5
   7.  Security Considerations . . . . . . . . . . . . . . . . . . .   5
   8.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   5
     8.1.  Normative References  . . . . . . . . . . . . . . . . . .   5
     8.2.  Informative References  . . . . . . . . . . . . . . . . .   5
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   6

1.  Introduction

   Application-aware Networking (APN) is introduced in
   [I-D.li-apn-framework] and [I-D.li-apn-problem-statement-usecases].
   APN conveys an attribute along with data packets into network and
   make the network aware about data flow requirements at different
   granularity levels.  Such an attribute is acquired, constructed in a
   structured value, and then encapsulated in the packets.  Such
   structured value is treated as an opaque object in the network, to
   which the network operator applies policies in various nodes/service
   functions along the path and provide corresponding services.

   [I-D.li-apn-header] defines the application-aware networking (APN)
   header which can be used in different data planes to carry the APN
   attribute.  This document defines the encapsulation of the APN header
   in the IPv6 data plane.

2.  Terminologies

   APN: Application-aware Networking





Li, et al.              Expires September 8, 2022               [Page 2]

Internet-Draft             APN6 Encapsulation                 March 2022


   APN6: Application-aware IPv6 Networking, i.e. the data plane of APN
   is IPv6

   APN Attribute: Application-aware information.  It is added at the
   edge devices of an APN domain along with the tunnel encapsulation.

   APN ID: Application-aware Networking ID

   APN Para: Application-aware Networking Parameters

3.  APN Option

   In order to support the Application-aware IPv6 networking, one
   option, the APN option, is defined.

   The APN option has the following format:

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
                                   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                                   |    Opt Type   |  Opt Data Len |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   .                                                               .
   .                       APN Header (Variable)                   .
   .                                                               .
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                        Figure 1. APN Option



   where:

   o Opt Type: Type value is TBD2. 8-bit unsigned integer.  Identifier
   of the type of this APN Option.

   o Opt Data Len: 8-bit unsigned integer.  Length of the Option Data
   field of this option, that is, length of the APN header.

   o Option Data: Option-Type-specific data.  It carries the APN header.
   Variable-length field.








Li, et al.              Expires September 8, 2022               [Page 3]

Internet-Draft             APN6 Encapsulation                 March 2022


4.  Locations for APN Option

   The APN option can be placed in several locations in the IPv6 packet
   header depend upon the scenarios and implementation requirements.

4.1.  Hop-by-Hop Options Header (HBH)

   The APN option can be carried in the Hop-by-Hop Options Header as the
   new option.  By using the HBH Options Header, the information carried
   can be read by every node along the path.

4.2.  Destination Options Header (DOH)

   The APN option can be carried in the Destination Options Header as
   the new option.  By using the DOH Options Header, the information
   carried can be read by the destination node along the path.

5.  APN TLV of SRH

   [RFC8754] defines the segment routing header (SRH) and the SRH TLV.
   The SRH TLV provides meta-data for segment processing.  The APN
   header can also be placed in the SRH as one type of SRH TLV following
   the Segment List.  By using the SRH, the information carried can be
   read by the specified segments along the SRv6 path.

   The APN TLV is OPTIONAL and has the following format:

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |      Type     |     Length    |D|        RESERVED             |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   .                                                               .
   .                       APN Header (Variable)                   .
   .                                                               .
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                        Figure 2. APN TLV

   where:

   o Type: to be assigned by IANA (suggested value 5).

   o Length: The length of the variable length data in bytes.





Li, et al.              Expires September 8, 2022               [Page 4]

Internet-Draft             APN6 Encapsulation                 March 2022


   o D: 1 bit.  When it is set, it indicates the Destination Address
   verification is disabled due to use of reduced segment list.

   o RESERVED: 15 bits.  MUST be 0 on transmission.

   o APN Header: It carries the APN header.  Variable-length field.

6.  IANA Considerations

   IANA maintains the registry for the Options and TLVs.  The APN Option
   will require one new option type code and the APN TLV will require
   one new SRH TLV type code in this document:

      Type | Description       | Reference
   -----------------------------------------
      TBD1 | APN Option        | This ID
      TBD4 | APN TLV           | This ID

7.  Security Considerations

   The Security Considerations described in
   [I-D.li-apn-problem-statement-usecases] can be referred to.

8.  References

8.1.  Normative References

   [I-D.li-apn-header]
              Li, Z. and S. Peng, "Application-aware Networking (APN)
              Header", draft-li-apn-header-00 (work in progress),
              October 2021.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.

   [RFC8754]  Filsfils, C., Ed., Dukes, D., Ed., Previdi, S., Leddy, J.,
              Matsushima, S., and D. Voyer, "IPv6 Segment Routing Header
              (SRH)", RFC 8754, DOI 10.17487/RFC8754, March 2020,
              <https://www.rfc-editor.org/info/rfc8754>.

8.2.  Informative References








Li, et al.              Expires September 8, 2022               [Page 5]

Internet-Draft             APN6 Encapsulation                 March 2022


   [I-D.li-apn-framework]
              Li, Z., Peng, S., Voyer, D., Li, C., Liu, P., Cao, C.,
              Mishra, G., Ebisawa, K., Previdi, S., and J. N. Guichard,
              "Application-aware Networking (APN) Framework", draft-li-
              apn-framework-04 (work in progress), October 2021.

   [I-D.li-apn-problem-statement-usecases]
              Li, Z., Peng, S., Voyer, D., Xie, C., Liu, P., Qin, Z.,
              Mishra, G., Ebisawa, K., Previdi, S., and J. N. Guichard,
              "Problem Statement and Use Cases of Application-aware
              Networking (APN)", draft-li-apn-problem-statement-
              usecases-05 (work in progress), December 2021.

Authors' Addresses

   Zhenbin Li
   Huawei Technologies
   Beijing  100095
   China

   Email: lizhenbin@huawei.com


   Shuping Peng
   Huawei Technologies
   Beijing  100095
   China

   Email: pengshuping@huawei.com


   Chongfeng Xie
   China Telecom
   China

   Email: xiechf@chinatelecom.cn















Li, et al.              Expires September 8, 2022               [Page 6]
