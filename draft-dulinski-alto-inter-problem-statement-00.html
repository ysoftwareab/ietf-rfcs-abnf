<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard%20http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>Inter-ALTO Communication Problem Statement</title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";3
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction">
<link href="#rfc.section.2" rel="Chapter" title="2 Definitions">
<link href="#rfc.section.3" rel="Chapter" title="3 The Problem and Motivation">
<link href="#rfc.section.3.1" rel="Chapter" title="3.1 Route Asymmetry">
<link href="#rfc.section.3.2" rel="Chapter" title="3.2 Different Types of Business Relations">
<link href="#rfc.section.3.3" rel="Chapter" title="3.3 Congestion Avoidance">
<link href="#rfc.section.3.4" rel="Chapter" title="3.4 Proximity Awareness">
<link href="#rfc.section.3.5" rel="Chapter" title="3.5 Remote ISP's Preference">
<link href="#rfc.section.3.6" rel="Chapter" title="3.6 Coordination of ISPs' Policies">
<link href="#rfc.section.3.7" rel="Chapter" title="3.7 Sensitivity of Topology Information">
<link href="#rfc.section.3.8" rel="Chapter" title="3.8 Outdated Information">
<link href="#rfc.section.4" rel="Chapter" title="4 Usage of the Mechanisms Offered by the ALTO Protocol">
<link href="#rfc.section.5" rel="Chapter" title="5 Security Considerations">
<link href="#rfc.section.6" rel="Chapter" title="6 IANA Considerations">
<link href="#rfc.section.7" rel="Chapter" title="7 Acknowledgements">
<link href="#rfc.references" rel="Chapter" title="8 References">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content=
  "http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.539, 2011-01-02 17:13:00, XSLT vendor: SAXON 6.5.5 from Michael Kay http://saxon.sf.net/" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />
  <meta name="dct.creator" content="Doe, J." />
  <meta name="dct.identifier" content="urn:ietf:id:draft-sample-input-00" />
  <meta name="dct.issued" scheme="ISO8601" content="2010-12" />
  
  <meta name="dct.abstract" content="This draft considers an approach to the optimization of the traffic generated by the overlay (peer-to-peer) applications, where some information on inter-AS (Autonomous System) paths is obtained with the usage of dedicated communication scheme known as inter-ALTO communication." />
  <meta name="description" content="This draft considers an approach to the optimization of the traffic generated by the overlay (peer-to-peer) applications, where some information on inter-AS (Autonomous System) paths is obtained with the usage of dedicated communication scheme known as inter-ALTO communication." />
  <meta name="keywords" content="" />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">ALTO Working Group</td>
<td class="right">Z. Dulinski</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right">Jagiellonian University</td>
</tr>
<tr>
<td class="left">Intended status: Informational</td>
<td class="right">P. Wydrych</td>
</tr>
<tr>
<td class="left">Expires: September 05, 2011</td>
<td class="right">R. Stankiewicz</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">P. Cholda</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">M. Kantor</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">AGH University of Science and Technology</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">March 04, 2011</td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">Inter-ALTO Communication Problem Statement<br />
  <span class="filename">draft-dulinski-alto-inter-problem-statement-00</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>This draft considers an approach to the optimization of the traffic generated by the overlay (peer-to-peer) applications, where some information on inter-AS (Autonomous System) paths is obtained with the usage of dedicated communication scheme known as inter-ALTO communication.</p>
<p>The large amount of network traffic generated by overlay applications requires effective management. This traffic traverses inter-AS links and thus generates substantial costs for the operators and poses problems with overload on the external and internal links. The traffic is not time-stable as the peers connect and disconnect very often. Additionally, when the overlay traffic is observed on inter-AS links, it can be seen that sources and destinations change in a very short period of time. The ALTO (Application-Layer Traffic Optimization) service provides the information that enables more efficient management of the overlay traffic. Such applications can use the information to perform better-than-random peer selection. The ALTO servers are responsible for a pre-selection procedure; the final selection is done by overlay clients and then the ALTO protocol conveys network information to applications. To be credible, this information should be as close to real network situation as possible. However, some types of data are not hold by an operator, but they should be gained on the basis of the additional information exchange with other AS operators. This document presents rationale for the need of introduction of the inter-ALTO communication.</p>
<h1 id="rfc.status"><a href="#rfc.status">Status of this Memo</a></h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet- Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on September 05, 2011.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2011 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a>
</li>
<li>2.   <a href="#rfc.section.2">Definitions</a>
</li>
<li>3.   <a href="#rfc.section.3">The Problem and Motivation</a>
</li>
<li>3.1.   <a href="#rfc.section.3.1">Route Asymmetry</a>
</li>
<li>3.2.   <a href="#rfc.section.3.2">Different Types of Business Relations</a>
</li>
<li>3.3.   <a href="#rfc.section.3.3">Congestion Avoidance</a>
</li>
<li>3.4.   <a href="#rfc.section.3.4">Proximity Awareness</a>
</li>
<li>3.5.   <a href="#rfc.section.3.5">Remote ISP's Preference</a>
</li>
<li>3.6.   <a href="#rfc.section.3.6">Coordination of ISPs' Policies</a>
</li>
<li>3.7.   <a href="#rfc.section.3.7">Sensitivity of Topology Information</a>
</li>
<li>3.8.   <a href="#rfc.section.3.8">Outdated Information</a>
</li>
<li>4.   <a href="#rfc.section.4">Usage of the Mechanisms Offered by the ALTO Protocol</a>
</li>
<li>5.   <a href="#rfc.section.5">Security Considerations</a>
</li>
<li>6.   <a href="#rfc.section.6">IANA Considerations</a>
</li>
<li>7.   <a href="#rfc.section.7">Acknowledgements</a>
</li>
<li>8.   <a href="#rfc.references">References</a>
</li>
<li><a href="#rfc.authors">Authors' Addresses</a>
</li>


  </ul>

  <h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> <a href="#Introduction" id="Introduction">Introduction</a>
</h1>
<p id="rfc.section.1.p.1">This document describes the rationale for a communication to be used between ALTO servers located in different autonomous systems (AS). Such an inter-ALTO communication extends the <a href="#RFC5693">ALTO service</a> <cite title="NONE">[RFC5693]</cite>capabilities and provides additional information on remote peers, i.e., peers located in other ASes. To make the consideration more clear we distinguish local AS and remote ASes. Local AS is the one from which perspective we describe the communication. Local peers are located in the local AS and are served by a local ALTO server. On the contrary, all other peers are located in remote ASes. Those peers are referred to as remote and are served by remote ALTO server. This basic terminology adheres to majority of considerations in this document.</p>
<p id="rfc.section.1.p.2">The motivation for the ALTO service as discussed in the <a href="#RFC5693">ALTO problem statement</a> <cite title="NONE">[RFC5693]</cite> focuses on the overlay traffic optimization based on information gathered from the Internet Service Provider (ISP) domain, i.e., an Autonomous System (AS). Due to the suggested approach, information on the AS internal topology and some routing information obtained from the global Internet (the BGP routing tables) may be used for the peer selection procedures. The data transfer cost can be also incorporated. However, there are some parameters which can be used for the better peer selection mechanism, but they are not available in the local AS and must be obtained from outside, i.e., from a remote AS. For example, the BGP routing information available in the AS identifies only the upstream traffic. The information about the downstream traffic is not present or is incomplete and the full BGP information for this traffic could be obtained from the remote AS containing the subnetwork where the peer sending downstream traffic is attached. In order to obtain such data, we propose the inter-ALTO communication.</p>
<p id="rfc.section.1.p.3">It is assumed that the ALTO servers are deployed in the local and remote ASes. The ALTO server located in the client AS can request desired information from the ALTO server which is located in the remote AS. Each server is managed by a respective ISP. Each ISP decides what type of information can be exposed to the requesting party. The ALTO server responds with the type of information that was previously agreed to exchange. Each local ALTO server has to discover the address of the remote ALTO server before starting the communication. The discovery procedure may use the IP addresses of remote peers for the establishment of IP addresses of remote ALTO servers. The detailed analysis of this functionality is out of scope of this document.</p>
<p id="rfc.section.1.p.4">The information delivered by remote ALTO servers  may be used  by a local ALTO server to perform advanced rating/ranking procedure of peers. The general idea is as follows.  </p>

<ol>
<li>A peer receives a list of other peers from a tracker, i.e., a list of potential candidates to communicate with.</li>
<li>A peer uses <a href="#I-D.ietf-alto-protocol">the ALTO protocol</a> <cite title="NONE">[I-D.ietf-alto-protocol]</cite> to send the list of peers to its local ALTO server.</li>
<li>Local ALTO server obtains additional information on remote peers by communicating respective remote ALTO servers. If sufficient information is available locally and the inter-ALTO communication is not needed, this step is omitted.</li>
<li>Using ISP specific policies and values of parameters associated with remote peers the local ALTO server performs rating/ranking procedure.</li>
<li>Sorted/rated list of peers is sent back to the peer with usage of the ALTO protocol.</li>
</ol>

<p> </p>
<p id="rfc.section.1.p.5">The requirements, syntax and detailed operation of the inter-ALTO communication as well as the rating/ranking procedure is out of scope of this document.</p>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> <a href="#Definitions" id="Definitions">Definitions</a>
</h1>
<p id="rfc.section.2.p.1">In the scope of this document we use all the definitions specified in the Section 2 of <a href="#RFC5693">ALTO problem statement</a> <cite title="NONE">[RFC5693]</cite>. Moreover, the following terms have the special meaning.  </p>

<dl>
<dt>Local Peer:</dt>
<dd style="margin-left: 6">A peer which belongs to the same Autonomous System to which the ALTO client belongs.</dd>
<dt>Remote Peer:</dt>
<dd style="margin-left: 6">A peer which belongs to another Autonomous System than the one to which the ALTO client belongs.</dd>
<dt>Local AS:</dt>
<dd style="margin-left: 6">The Autonomous System to which the ALTO client belongs.</dd>
<dt>Remote AS:</dt>
<dd style="margin-left: 6">An Autonomous System to which a remote peer belongs.</dd>
<dt>Local ALTO Server:</dt>
<dd style="margin-left: 6">The ALTO server serving the ALTO client and the local peers.</dd>
<dt>Remote ALTO Server:</dt>
<dd style="margin-left: 6">An ALTO server serving remote peers.</dd>
</dl>

<p> </p>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> <a href="#Problem" id="Problem">The Problem and Motivation</a>
</h1>
<p id="rfc.section.3.p.1">ALTO server optimization capabilities are limited by the fact that they use information available locally only. It can be shown that more information on remote peers, a routing path, or remote ISP preferences would be useful. The data from remote ASes obtained by the external interface as shown in Figure 1 of <a href="#I-D.ietf-alto-protocol">the ALTO protocol draft</a> <cite title="NONE">[I-D.ietf-alto-protocol]</cite> may have a substantial significance for the management of overlay traffic (e.g. with respect to peer rating, ranking, or the choice of the best peers). The suggested approach to deliver these types of information is defined in the inter-ALTO communication discussed in this document.</p>
<p id="rfc.section.3.p.2">The ALTO service may also be used by the client-server applications, supporting the best choice of the mirror servers. If some mirror servers are in other ASes than the client's AS, some information about the network conditions in the remote ASes may be delivered only by the ALTO servers localized in these ASes. Both clients and mirror servers may communicate with their local ALTO servers for delivering traffic optimization parameters. As an ALTO client communicates only with its local ALTO server, the information from remote ASes is accessible only via inter-ALTO communication.</p>
<p id="rfc.section.3.p.3">The ALTO-based traffic optimization may be also used in the context of the <a href="#I-D.penno-alto-cdn">Content Delivery Networks (CDNs)</a> <cite title="NONE">[I-D.penno-alto-cdn]</cite>. Penno et al. discuss how the ALTO service can be used in the existing and future CDNs. They consider the case when the CDN nodes are in multiple administrative domains. In that case the inter-ALTO communication is used.</p>
<p id="rfc.section.3.p.4">The basic ALTO architecture presented in Figure 1 of <a href="#I-D.ietf-alto-protocol">the ALTO protocol draft</a> <cite title="NONE">[I-D.ietf-alto-protocol]</cite> defines the external interface used to communicate with other information sources like remote ALTO servers. The ALTO Protocol draft, however, does not define what information should be exchanged between ALTO servers to optimize the traffic. The inter-ALTO communication proposed by the current document implements the external interface as defined by the ALTO protocol draft.</p>
<div id="#rfc.figure.1"></div>
<div id="#fig-Problem-Architecture"></div>
<pre>
+------------------------+                 +------------------------+
|        Local AS        |                 |       Remote AS        |
| +-------------+        |                 |       +-------------+  |
| | Local       |+       |                 |       | Remote      |+ |
| | Information ||       |                 |       | Information || |
| | Sources     ||       |                 |       | Sources     || |
| +-------------+|       |                 |       +-------------+| |
|  + ------------+       |                 |        + ------------+ |
|          \             |                 |             /          |
|           \            |                 |            /           |
|            +--------+  |  Inter-ALTO     |  +--------+            |
|            | Local  |  |  Communication  |  | Remote |            |
|            | ALTO   |-----------------------| ALTO   |            |
|            | Server |  |                 |  | Server |            |
|            +--------+  |                 |  +--------+            |
|           /            |                 |            \           |
|          /             |                 |             \          |
| +---------+            |                 |           +---------+  |
| | Local   |+           |                 |           | Remote  |+ |
| | ALTO    ||           |                 |           | ALTO    || |
| | Clients ||           |                 |           | Clients || |
| +---------+|           |                 |           +---------+| |
|  +---------+           |                 |            +---------+ |
|                        |                 |                        |
+------------------------+                 +------------------------+
				</pre>
<p id="rfc.section.3.p.5">The architecture of the Inter-ALTO communication is shown in <a href="#fig-Problem-Architecture">Figure 1</a>. Both ALTO servers gather the information from their information sources like routing protocols, provisioning policies, or dynamic network information sources. The local ALTO server needs to communicate with a remote ALTO server to obtain information which is available only at the entities in the remote AS.</p>
<p id="rfc.section.3.p.6">In particular, the following key aspects motivate the proposal of the inter-ALTO communication.  </p>

<ul>
<li>Route asymmetry.</li>
<li>Different types of business relations.</li>
<li>Congestion avoidance.</li>
<li>Proximity awareness (distance to the remote AS), e.g.: <ul>
<li>number of inter-AS hops;</li>
<li>delay (RTT).</li>
</ul>
<p> </p>
</li>
<li>Remote ISP's preference.</li>
<li>Coordination of ISPs' policies.</li>
<li>Outdated information.</li>
</ul>

<p> </p>
<h1 id="rfc.section.3.1">
<a href="#rfc.section.3.1">3.1.</a> <a href="#Problem-RouteAssymetry" id="Problem-RouteAssymetry">Route Asymmetry</a>
</h1>
<p id="rfc.section.3.1.p.1">The communication between two ASes does not need to follow the same path in the upstream and downstream direction. It was shown that about 29% of paths between AS pairs in the Internet are fully symmetric, i.e., upstream and downstream traffic follows exactly the same path <a href="#ICC.optimal">[ICC.optimal]</a>. In 51% of cases the number of inter-AS hops is different for the upstream and downstream direction. Additionally, in 50.5% of all path pairs a neighbor AS for upstream and downstream paths are different.</p>
<p id="rfc.section.3.1.p.2">The ALTO server can obtain routing information locally (e.g. from BGP routers) and can determine the upstream path. Information about the downstream path is usually not easily available. Some additional routing information can be obtained from Looking Glass Servers, but not all ASes provide them. The inter-ALTO communication provides the ability to exchange the relevant information between ALTO servers. Especially, the downstream path can be reliably determined using the information provided by remote ALTO server. In the light of route asymmetry in the Internet such information appears to be necessary for a better optimization of a peer rating/ranking algorithm, as assumption that the inter-AS routes follow symmetrical paths can give not only sub-optimal, but misleading and, in effect, harmful results.</p>
<h1 id="rfc.section.3.2">
<a href="#rfc.section.3.2">3.2.</a> <a href="#Problem-BusinessRelations" id="Problem-BusinessRelations">Different Types of Business Relations</a>
</h1>
<p id="rfc.section.3.2.p.1">Two basic business relations between ISPs may be distinguished.</p>
<p id="rfc.section.3.2.p.2">When two ISPs agree to exchange the traffic without any charge, such a relation is called peering. The inter-domain link between the respective ASes is also called a peering link. Usually, there is no charge if the difference between traffic volumes passing such a link in different directions does not exceed a previously agreed limit.</p>
<p id="rfc.section.3.2.p.3">The other case occurs when one ISP serves as a network provider to another ISP (e.g. relation between tier 2 and tier 3 ISPs). In such a case one ISP (acting as a customer) has to pay the other ISP (acting as provider) for the traffic sent over the inter-AS link connecting them. The real monetary cost of the traffic volume exchanged on such a link depends on agreements between ISPs. In general, some links may be considered as cheaper or more expensive.</p>
<p id="rfc.section.3.2.p.4">AS may be connected to many other ASes with various agreements. The cost of the inter-AS traffic transfer may differ depending on which neighbor AS the path passes. For this reason an ISP may prefer that its own customers exchange data with remote peers located in such ASes that the path directed to them passes cheaper links. The ALTO server may sort peers taking into account these criteria. To receive almost complete information on routing paths to and from different remote domains the information provided by remote ALTO server using inter-AS communication may be helpful.</p>
<h1 id="rfc.section.3.3">
<a href="#rfc.section.3.3">3.3.</a> <a href="#Problem-Congestion" id="Problem-Congestion">Congestion Avoidance</a>
</h1>
<p id="rfc.section.3.3.p.1">A peer rating/ranking procedure may also take into account the congestions on inter-AS links. An ISP is able to monitor queues on its inter-domain links and assign metrics indicating the buffer occupancy or bandwidth utilization. These metrics can express percentage use of buffers or bandwidth on a particular inter-AS link. If one inter-domain link is congested it is desirable to promote peers reachable through lightly loaded links. Again, information provided by the remote ALTO server would support such optimization. The aim of the inter-ALTO communication is not to replace the existing congestion avoidance mechanisms. The idea is to support the present mechanism by the exchange of parameters describing the load on the inter-AS links.</p>
<h1 id="rfc.section.3.4">
<a href="#rfc.section.3.4">3.4.</a> <a href="#Problem-Proximity" id="Problem-Proximity">Proximity Awareness</a>
</h1>
<p id="rfc.section.3.4.p.1">For a set of reasons (e.g. the performance of an application) the ALTO server may suggest its customers to connect to remote peers located in its proximity. The simplest measure of proximity is the number of inter-AS hops. As indicated above, due to the route asymmetry, the number of hops may significantly differ between the upstream and downstream paths. Such information for the downstream path may be provided by the remote ALTO server. A more advanced metric of proximity can be found in the delay that can be approximated by exchanging messages between ALTO servers. The ALTO servers can be equipped with an application-layer ping functionality which only operates between ALTO servers. By exchanging special packets prepared by the ALTO servers, these servers can estimate delay and packet loss.</p>
<h1 id="rfc.section.3.5">
<a href="#rfc.section.3.5">3.5.</a> <a href="#Problem-RemotePreference" id="Problem-RemotePreference">Remote ISP's Preference</a>
</h1>
<p id="rfc.section.3.5.p.1">If two ISPs agree on a cooperation, the remote ALTO server may provide its preference parameters (remote preference parameters) indicating which peers are better from the point of view of the remote ISP. For instance, the AS in which the remote ALTO server is located may possess two subnetworks connected to the operator's core network by distinct links. It may happen that a connection to one of the subnetworks is cheaper than the other. The remote operator may prefer connections through cheaper link, so peers located in the subnetwork transferring data via this cheaper link are preferred.</p>
<p id="rfc.section.3.5.p.2">The remote preference parameter may be also used when a remote ISP wants to suggest peers which are connected to the Internet through access links of higher capacity. This way, the remote ALTO server, without exposing the exact values of access link bandwidth, may indicate peers with higher throughput. The remote preference parameters have only local meaning, i.e., their values are comparable for peers located in the same AS only.</p>
<p id="rfc.section.3.5.p.3">If a remote ISP does not want to reveal numerical values of network parameters related to its peers (such information might be considered as confidential) the remote ALTO server may perform a rating/ranking procedure and assign priority parameter to its peers. The rating/ranking criteria may remain hidden for the requesting local ALTO server.</p>
<h1 id="rfc.section.3.6">
<a href="#rfc.section.3.6">3.6.</a> <a href="#Problem-Coordination" id="Problem-Coordination">Coordination of ISPs' Policies</a>
</h1>
<p id="rfc.section.3.6.p.1">Operators may have an incentive to coordinate their efforts in order to decrease transfer costs on inter-AS links or improve quality experienced by peers, i.e., coordinate their peer rating/ranking strategies. This way, operators may avoid contradictory strategies resulting in inefficiency of rating/ranking algorithms. Operators may agree to promote each other's peers.</p>
<p id="rfc.section.3.6.p.2">For example, it may happen that operator A wanting to decrease traffic on one of its links discourages its own peers from communicating with peers located in operator B's domain. On the other hand, operator B would consider peers located in a domain of operator A as very attractive for its own peers. As a result, rating/ranking procedures performed by respective ALTO servers give contradictory results what may decrease the effectiveness of these procedures. To avoid such a situation, the inter-ALTO communication is needed.</p>
<p id="rfc.section.3.6.p.3">Another example of a usefulness of coordination of policies is clustering of ASes. Recent studies <a href="#IJNM.unfairness">[IJNM.unfairness]</a> have shown that locality promotion might be ineffective or even harmful if used in AS with small number of peers. A proposed solution is to create a cluster of two or more ASes. Then ALTO servers serving different ASes in the cluster treat all peers located in the cluster as if they were in a single AS. In other words, from a point of view of locality promotion algorithm all peers located in the cluster are local, regardless of their home AS.</p>
<h1 id="rfc.section.3.7">
<a href="#rfc.section.3.7">3.7.</a> <a href="#Problem-Sensitivity" id="Problem-Sensitivity">Sensitivity of Topology Information</a>
</h1>
<p id="rfc.section.3.7.p.1">The minimum information that the remote AS provides to the local ALTO server via the inter-ALTO communication may be the number of inter-AS hops and the number of the local AS's neighbor in the downstream path (the full downstream AS_PATH may be not exchanged). Such information does not reveal any sensitive information neither on the ISP internal topology details nor remote AS connections with other ASes, but does provide basic and very useful information for the local ALTO server.</p>
<h1 id="rfc.section.3.8">
<a href="#rfc.section.3.8">3.8.</a> <a href="#Problem-Outdated" id="Problem-Outdated">Outdated Information</a>
</h1>
<p id="rfc.section.3.8.p.1">It is expected that some information (parameters) from routing protocols that will be used in the rating/ranking procedures may outdate. Also information related to the network performance is constantly changing. Therefore, the information obtained from the remote AS requires updates. This updates may be generated on request (pull mechanism), on event base schema or periodically (push mechanism). The inter-ALTO communication should be equipped with mechanisms for updates. The need for the present information describing network conditions and some routing parameters are arguments for introducing specific protocol for the communication between ALTO servers.</p>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> <a href="#ALTOProtocolUsage" id="ALTOProtocolUsage">Usage of the Mechanisms Offered by the ALTO Protocol</a>
</h1>
<p id="rfc.section.4.p.1">The basic ALTO protocol architecture allows an ALTO server to communicate with a third party through the external interface. The inter-ALTO communication may use some functionalities offered by <a href="#I-D.ietf-alto-protocol">the ALTO protocol</a> <cite title="NONE">[I-D.ietf-alto-protocol]</cite>.  </p>

<dl>
<dt>Server Information Service:</dt>
<dd style="margin-left: 6">This service defined by the ALTO protocol may be extended in order to provide information about server's ability to cooperate with other ALTO servers.  Thanks to this service, the other ALTO servers may acquire the information about available parameters and their definitions. These parameters may be used by cooperating ALTO servers for the peer rating/ranking procedures. The access for this service may be restricted. Some information may be accessible only by the privileged ALTO servers after the successful authentication.</dd>
<dt>ALTO Information Services:</dt>
<dd style="margin-left: 6">These services has been defined to provide the query information services for ALTO clients. All the information delivered by these services has local meaning. This information is related to the locally defined parameters describing a particular ISP's network. Some part of this information managed by a remote ALTO server may be useful for the requesting local ALTO server. The requesting ALTO server obtains this information via inter-ALTO communication. After receiving the response, the local ALTO server has to perform some calculations, scaling, merging, or adaptation of the received parameters. In this way the local ALTO server may conform to both its internal network topology and measurements, and the external ones. However, it should be stressed that the ALTO Information Services is designed for communication between ALTO clients and servers, not for the inter-ALTO communication.</dd>
<dt>Network Map:</dt>
<dd style="margin-left: 6">This structure is defined by the ISP and reflects the internal structure of the ISP network. This structure has only a local meaning and, generally, it is not unique for all entities within the Internet.<br>A particular network map can be used by different operators. The requesting ALTO server usually has to perform some prediction of the external topology on its own. The ALTO server has to apply its own rules and definitions. The PIDs, defined in the remote ALTO server, have to be mapped on the PID structure defined in the local AS.</dd>
<dt>Cost Map:</dt>
<dd style="margin-left: 6">This structure also has the local meaning. The local ALTO server may receive the network map and the cost map from a remote ALTO server. These costs may require recalculation in order to unify the cost measures in the local AS.  After these operations, if it is needed, the rating/ranking procedure can be performed.</dd>
</dl>

<p> </p>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> <a href="#Security" id="Security">Security Considerations</a>
</h1>
<p id="rfc.section.5.p.1">The communication between ALTO servers requires authentication and authorization procedures. In some cases it may require establishment of the secured tunnels between the partner ALTO servers. The minimum security requirements for the inter-ALTO communication is out of scope of this document.</p>
<p id="rfc.section.5.p.2">The inter-ALTO communication allows ALTO servers to exchange any parameters which improve the performance of the overlay traffic, or, generally, allows them to manage overlay traffic. In order to achieve this results a group ISP may exchange sensitive data, the exchanged parameters may be confidential. They should not be accessible by a third party, e.g., some other ISPs or peers.</p>
<p id="rfc.section.5.p.3">An ISP may have its own policy how organize the overlay traffic and this policy may use a number of parameters during the evaluation procedure. The policy result may be delivered to peers in many ways. It can take the form of a sorted peer list without any parameters, a sorted list with some parameters which are derived from the parameters exchanged in the inter-ALTO communication, or raw exchanged parameters. ISPs may have an incentive not to expose these parameters in the raw form to peers. The mentioned sensitive parameters require applying a higher level of the security procedures.</p>
<p id="rfc.section.5.p.4">In order to keep the exchanged parameters confidential it may be reasonable to keep the communications between peers and ALTO server from communication among ALTO servers by the protocol differentiation separated. Different security procedures may be easier to manage if these communication procedures take the form of two distinct protocols.  This protocol separation allows to define mechanisms which are specific for the inter-ALTO communication only. The protocol should not allow to use this mechanism by overlay peers. The set of procedures for the inter-ALTO communication is expected to be separated from the client ALTO communication and this can be achieved by distinct protocols.</p>
<h1 id="rfc.section.6">
<a href="#rfc.section.6">6.</a> <a href="#IANA" id="IANA">IANA Considerations</a>
</h1>
<p id="rfc.section.6.p.1">This document has no actions for IANA.</p>
<h1 id="rfc.section.7">
<a href="#rfc.section.7">7.</a> <a href="#Acknowledgements" id="Acknowledgements">Acknowledgements</a>
</h1>
<p id="rfc.section.7.p.1">This draft evolved from draft-dulinski-alto-inter-alto-protocol-00. The authors would like to thank all authors of the Inter-ALTO communication protocol draft for their contributions.</p>
<p id="rfc.section.7.p.2">This work has been partially supported by the EU through the ICT FP7 Project SmoothIT (FP7-2007-ICT-216259).</p>
<h1 id="rfc.references">
<a href="#rfc.references">8.</a> References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC5693">[RFC5693]</b></td>
<td class="top">
<a>Seedorf, J.</a> and <a>E. Burger</a>, "<a href="http://tools.ietf.org/html/rfc5693">Application-Layer Traffic Optimization (ALTO) Problem Statement</a>", RFC 5693, October 2009.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.ietf-alto-protocol">[I-D.ietf-alto-protocol]</b></td>
<td class="top">
<a>Alimi, R</a>, <a>Penno, R</a> and <a>Y Yang</a>, "<a href="http://tools.ietf.org/html/draft-ietf-alto-protocol-06">ALTO Protocol</a>", Internet-Draft draft-ietf-alto-protocol-06, October 2010.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.penno-alto-cdn">[I-D.penno-alto-cdn]</b></td>
<td class="top">
<a>Penno, R</a>, <a>Raghunath, S</a>, <a>Medved, J</a>, <a>Alimi, R</a>, <a>Yang, R</a> and <a>S Previdi</a>, "<a href="http://tools.ietf.org/html/draft-penno-alto-cdn-02">ALTO and Content Delivery Networks</a>", Internet-Draft draft-penno-alto-cdn-02, October 2010.</td>
</tr>
<tr>
<td class="reference"><b id="ICC.optimal">[ICC.optimal]</b></td>
<td class="top">
<a>Dulinski, Z</a>, <a>Kantor, M</a>, <a>Krzysztofek, W</a>, <a>Stankiewicz, R</a> and <a>P Cholda</a>, "<a>Optimal Choice of Peers based on BGP Information</a>", Proceedings of 2010 IEEE International Conference on Communications (ICC), May 2010.</td>
</tr>
<tr>
<td class="reference"><b id="IJNM.unfairness">[IJNM.unfairness]</b></td>
<td class="top">
<a>Lehrieder, F</a>, <a>Oechsner, S</a>, <a>Hossfeld, T</a>, <a>Staehle, D</a>, <a>Despotovic, Z</a>, <a>Kellerer, W</a> and <a>M Michel</a>, "<a>Mitigating unfairness in locality-aware peer-to-peer networks</a>", International Journal of Network Management, Volume 21, Issue 1, pp. 3-20, January/February 2011.</td>
</tr>
</tbody></table>
<h1 id="rfc.authors"><a href="#rfc.authors">Authors' Addresses</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Zbigniew Dulinski</span> 
	  <span class="n hidden">
		<span class="family-name">Dulinski</span>
	  </span>
	</span>
	<span class="org vcardline">Jagiellonian University</span>
	<span class="adr">
	  <span>ul. Reymonta 4</span>

	  <span class="vcardline">
		<span class="locality">Krakow</span>,  
		<span class="region"></span>
		<span class="code">30-059</span>
	  </span>
	  <span class="country-name vcardline">Poland</span>
	</span>
	<span class="vcardline">Phone: +48 12 663 5571</span>

<span class="vcardline">EMail: <a href="mailto:dulinski@th.if.uj.edu.pl">dulinski@th.if.uj.edu.pl</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Piotr Wydrych</span> 
	  <span class="n hidden">
		<span class="family-name">Wydrych</span>
	  </span>
	</span>
	<span class="org vcardline">AGH University of Science and Technology</span>
	<span class="adr">
	  <span>al. Mickiewicza 30</span>

	  <span class="vcardline">
		<span class="locality">Krakow</span>,  
		<span class="region"></span>
		<span class="code">30-059</span>
	  </span>
	  <span class="country-name vcardline">Poland</span>
	</span>
	<span class="vcardline">Phone: +48 12 617 4817</span>

<span class="vcardline">EMail: <a href="mailto:piotr.wydrych@agh.edu.pl">piotr.wydrych@agh.edu.pl</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Rafal Stankiewicz</span> 
	  <span class="n hidden">
		<span class="family-name">Stankiewicz</span>
	  </span>
	</span>
	<span class="org vcardline">AGH University of Science and Technology</span>
	<span class="adr">
	  <span>al. Mickiewicza 30</span>

	  <span class="vcardline">
		<span class="locality">Krakow</span>,  
		<span class="region"></span>
		<span class="code">30-059</span>
	  </span>
	  <span class="country-name vcardline">Poland</span>
	</span>
	<span class="vcardline">Phone: +48 12 617 4036</span>

<span class="vcardline">EMail: <a href="mailto:rstankie@agh.edu.pl">rstankie@agh.edu.pl</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Piotr Cholda</span> 
	  <span class="n hidden">
		<span class="family-name">Cholda</span>
	  </span>
	</span>
	<span class="org vcardline">AGH University of Science and Technology</span>
	<span class="adr">
	  <span>al. Mickiewicza 30</span>

	  <span class="vcardline">
		<span class="locality">Krakow</span>,  
		<span class="region"></span>
		<span class="code">30-059</span>
	  </span>
	  <span class="country-name vcardline">Poland</span>
	</span>
	<span class="vcardline">Phone: +48 12 617 4036</span>

<span class="vcardline">EMail: <a href="mailto:piotr.cholda@agh.edu.pl">piotr.cholda@agh.edu.pl</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Miroslaw Kantor</span> 
	  <span class="n hidden">
		<span class="family-name">Kantor</span>
	  </span>
	</span>
	<span class="org vcardline">AGH University of Science and Technology</span>
	<span class="adr">
	  <span>al. Mickiewicza 30</span>

	  <span class="vcardline">
		<span class="locality">Krakow</span>,  
		<span class="region"></span>
		<span class="code">30-059</span>
	  </span>
	  <span class="country-name vcardline">Poland</span>
	</span>
	<span class="vcardline">Phone: +48 12 617 2852</span>

<span class="vcardline">EMail: <a href="mailto:kantor@kt.agh.edu.pl">kantor@kt.agh.edu.pl</a></span>

  </address>
</div>

</body>
</html>