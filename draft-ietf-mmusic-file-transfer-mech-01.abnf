attribute            = file-selector-attr /  disposition-attr /
                           file-date-attr / icon-attr /
                           file-range-attr
                           ;attribute is defined in RFC 4566

file-selector-attr   = "file-selector" [":" selector *(SP selector)]
selector             = filename-selector / filesize-selector /
                           filetype-selector / hash-selector

filename-selector    = "name:"  DQUOTE filename-string DQUOTE
                                        ; DQUOTE defined in RFC 4234
filename-string      = byte-string ;byte-string defined in RFC 4566

filesize-selector    = "size:" filesize-value
filesize-value       = integer        ;integer defined in RFC 4566

filetype-selector    = "type:" type "/" subtype *(";"parameter)
                                       ; parameter defined in RFC 2045
type                 = token
subtype              = token

hash-selector        = "hash:" hash-algorithm ":" hash-value
hash-algorithm       = token     ;see IANA Hash Function
                                     ;Textual Names registry
hash-value           = hex-val   ;hex-val defined in RFC 4234

disposition-attr     = "disposition:" disposition-value
disposition-value    = token

file-date            = "file-date:"  date-param *(SP date-param)

date-param           = c-date-param / m-date-param / r-date-param
c-date-param         = "creation:" DQUOTE date-time DQUOTE
m-date-param         = "modification:" DQUOTE date-time DQUOTE
r-date-param         = "read:" DQUOTE date-time DQUOTE
                              ; date-time is defined in RFC 2822
                              ; numeric timezones (+HHMM or -HHMM)
                              ; must be used
                              ; DQUOTE defined in RFC 4234

icon-attr            = "icon:" icon-value
icon-value           = cid-url        ;cid-url defined in RFC 2392

file-range-attr      = "file-range:" integer "-" integer
                                        ;integer defined in RFC 4566

                   Figure 1: Syntax of the SDP extension
v=0
o=alice 2890844526 2890844526 IN IP4 host.atlanta.example.com
s=
c=IN IP4 host.atlanta.example.com
t=0 0
m=message 7654 TCP/MSRP *
i=This is my latest picture
a=sendonly
a=accept-types:message/cpim
a=accept-wrapped-types:*
a=path:msrp://atlanta.example.com:7654/jshA7we;tcp
a=file-selector:name:"My cool picture.jpg" type:image/jpeg
          size:32349 hash:sha-1:72245FE8653DDAF371362F86D471913EE4A2CE2E
a=disposition:not-render
a=file-date:creation:"Mon, 15 May 2006 15:01:31 +03:00"
a=icon:cid:id2@alicepc.example.com
a=file-range:1-32349

            Figure 2: Example of SDP describing a file transfer

v=0
o=alice 2890844526 2890844526 IN IP4 alicepc.example.com
s=
c=IN IP4 alicepc.example.com
t=0 0
m=message 7654 TCP/MSRP *
i=This is my latest picture
a=sendonly
a=accept-types:message/cpim
a=accept-wrapped-types:*
a=path:msrp://alicepc.example.com:7654/jshA7we;tcp
a=file-selector:name:"My cool picture.jpg" type:image/jpeg
           size:4092 hash:sha-1:72245FE8653DDAF371362F86D471913EE4A2CE2E
a=disposition:render
a=file-date:creation:"Mon, 15 May 2006 15:01:31 +03:00"
a=icon:cid:id2@alicepc.example.com

v=0
o=bob 2890844656 2890844656 IN IP4 bobpc.example.com
s=
c=IN IP4 bobpc.example.com
t=0 0
m=message 8888 TCP/MSRP *
a=recvonly
a=accept-types:message/cpim
a=accept-wrapped-types:*
a=path:msrp://bobpc.example.com:8888/9di4ea;tcp
a=file-selector:name:"My cool picture.jpg" type:image/jpeg
           size:4092 hash:sha-1:72245FE8653DDAF371362F86D471913EE4A2CE2E


      Figure 5: SDP answer accepting the SDP offer for file transfer

creation-date="Mon, 15 May 2006 15:01:31 +03:00";
size=4092
v=0
o=alice 2890844526 2890844526 IN IP4 alicepc.example.com
s=
c=IN IP4 alicepc.example.com
t=0 0
m=message 7654 TCP/MSRP *
a=recvonly
a=accept-types:message/cpim
a=accept-wrapped-types:image/jpeg
a=path:msrp://alicepc.example.com:7654/jshA7we;tcp
a=file-selector:hash:sha-1:72245FE8653DDAF371362F86D471913EE4A2CE2E

v=0
o=bob 2890844656 2890855439 IN IP4 bobpc.example.com
s=
c=IN IP4 bobpc.example.com
t=0 0
m=message 8888 TCP/MSRP *
a=sendonly
a=accept-types:message/cpim
a=accept-wrapped-types:*
a=path:msrp://bobpc.example.com:8888/9di4ea;tcp
a=file-selector:hash:sha-1:72245FE8653DDAF371362F86D471913EE4A2CE2E
                     type:image/jpeg

      Figure 12: SDP answer accepting the SDP offer for file transfer

creation-date="Mon, 15 May 2006 15:01:31 +03:00";
modification-date="Mon, 15 May 2006 16:04:53 +03:00";
read-date="Mon, 16 May 2006 09:12:27 +03:00";
size=1931
v=0
o=alice 2890844526 2890844527 IN IP4 alicepc.example.com
s=
c=IN IP4 alicepc.example.com
t=0 0
m=message 5670 TCP/MSRP *
i=This is my latest picture
a=sendonly
a=accept-types:message/cpim
a=accept-wrapped-types:*
a=path:msrp://alicepc.example.com:5670/iau39;tcp
a=file-selector:name:"sunset.jpg" type:image/jpeg
        size:4096 hash:sha-1:58231FE8653BBCF371362F86D471913EE4B1DF2F
a=disposition:render
a=file-date:creation:"Sun, 21 May 2006 13:02:15 +03:00"
a=icon:cid:id3@alicepc.example.com

v=0
o=bob 2890844656 2890855440 IN IP4 bobpc.example.com
s=
c=IN IP4 bobpc.example.com
t=0 0
m=message 9999 TCP/MSRP *
a=recvonly
a=accept-types:message/cpim
a=accept-wrapped-types:*
a=path:msrp://bobpc.example.com:9999/9an4ea;tcp
a=file-selector:name:"sunset.jpg" type:image/jpeg
        size:4096 hash:sha-1:58231FE8653BBCF371362F86D471913EE4B1DF2F
a=disposition:render


creation-date="Sun, 21 May 2006 13:02:15";
size=1931
v=0
o=bob 2890844656 2890855439 IN IP4 bobpc.example.com
s=-
c=IN IP4 bobpc.example.com
t=0 0
m=message 0 TCP/MSRP *
a=file-selector

       Figure 20: SDP of the 200 (OK) response to an OPTIONS request


