




INTERNET-DRAFT                                              Ana Minaburo
Expires: January 2002                                      Loutfi Nuaymi
                                                         Laurent Toutain
	 		  			               ENST-Bretagne, France
						                           July 2001




                     Media Link Parameters for ROHC 
                    draft-minaburo-parameters-00.txt


Status of this memo

   This document is an Internet-Draft and is in full conformance with
   all provisions of Section 10 of RFC 2026.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet- Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html

   This document is a product of the IETF ROHC WG.  Comments should be
   directed to its mailing list, rohc@cdt.luth.se.

Abstract

   This document describes a negotiation suboption to bring some media 
   link parameters to be used in the robust IP/UDP/RTP header 
   compression developed by the ROHC WG [ROHC]. This document is based 
   on the ROHC framework documents and the 3GPP documents.  











Minaburo, et. Al.                                               [Page 1]


INTERNET-DRAFT        Media Link Parameters for ROHC           July 2001


1.  Introduction

    
    ROHC is a mechanism created to work well in links with special
    characteristics [ROHC]. The mechanism uses some parameters to make
    the compression and the decompression. The values of these 
    parameters are given by the characteristics of the media link. 

    These parameters will be used for the development of the compression 
    and decompression processes. The knowledge of the media link state 
    is required in the two first operation modes, in the compressor, it 
    allows a better level of confidence at compressor. In the 
    decompressor, it is used to estimate the values of the failure 
    detection rule [ROHC].

    The media link parameters are assumed to be known in the peers of 
    the network. In a cellular network, they change constantly and are
    always retransmitted in both directions.

    The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
    "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
    document are to be interpreted as described in RFC 2119.


2. Control Parameters  

   The coexistence of two networks technologies (cellular and IP  
   networks) requires some specific considerations. One of them is 
   taking into account the frequent degradation of the QoS and its 
   variations. The control procedure MUST be a continuous request of 
   parameters between the IP layer and the media layer.
 
   The control procedure is used in all the profiles accepted by [ROHC]. 
   These parameters are classified in media and CSV (Compression State 
   Variation).


2.2 Media parameters

   The main distinguish factors in the media parameters are the bit 
   error rate and how delay sensitive the traffic. The control procedure 
   in ROHC MUST be based on different characteristics given by the media 
   link state. 

   The QoS parameters are described in the [TR23.107] for the cellular 
   networks, where its attributes determine the characteristics of the 
   cellular link.








Minaburo, et. Al.                                               [Page 2]


INTERNET-DRAFT        Media Link Parameters for ROHC           July 2001


2.2.1 Media link QoS Parameters

   BER (Bit Error Rate): This information can give the reliability of 
       the link and also set internal parameters of ROHC. The different 
       reliability levels of the cellular link give the BER value. 
 
       4 bits represent the values of the residual BER. The values 
       of the following table are taken from [TS24.008]. The values 
       range defined for the cellular links is from 5*10-2 to 6*10-8.
       The missing ones are not used.

     Bits     Value
   1 2 3 4  
   0 0 0 1   5*10-2
   0 0 1 0   1*10-2
   0 0 1 1   5*10-3
   0 1 0 0   4*10-3
   0 1 0 1   1*10-3
   0 1 1 0   1*10-4
   0 1 1 1   1*10-5
   1 0 0 0   1*10-6
   1 0 0 1   6*10-8
   1 1 1 1   Reserved

   All the values that are not explicitly defined will be mapped to one 
   of the values specified. If the value is in the middle of two, the 
   media link will use the next upper.


   TD (Transfer Delay): This give an approximate value of the half RTT
      (Round Trip Time) in the cellular link. The values of TD are also 
      in the [TS24.008] which give a range of values in each category of 
      transfer delay. 

      Bits                       Values
   1 2 3 4 5 6
   0 0 0 0 0 1 The Transfer delay is binary coded in 6 bits, using a 
               granularity of 10 ms
   0 0 1 1 1 1 Giving a range of values from 10 ms to 150 ms in 10 ms 
               increments 
   0 1 0 0 0 0 The transfer delay is 200 ms + ((the binary coded value 
               in 6 bits - 010000) * 50 ms)
   0 1 1 1 1 1 Giving a range of values from 200 ms to 950 ms in 50ms 
               increments
   1 0 0 0 0 0 The transfer delay is 1000 ms + ((the binary coded value 
               in 6 bits - 100000) * 100 ms)
   1 1 1 1 1 0 Giving a range of values from 1000 ms to 4100 ms in 100ms 
               increments
   1 1 1 1 1 1 Reserved






Minaburo, et. Al.                                               [Page 3]


INTERNET-DRAFT         Media Link Parameters for ROHC          July 2001


2.3 CSV parameters

   The CSV parameters are the "k_out_of_n_failures" detection rule and 
   the L value from [ROHC]. 

   The Decompression logic in the [ROHC] proposition use the 
   "k_out_of_n_failures" rule. This rule is based on the bit error rate 
   and link round trip time. As these values are assumed to be known for 
   the radio link, the parameters k and n of [ROHC] can be estimated.

   Using the BER and TD, the compressor estimates how many packets will
   be damaged in our link in a period of time. This give us the L 
   parameter [ROHC] that means how many times the compressor MUST stay 
   in a compression level until it is fairly confident.

   The L parameter is used for the "Optimistic approach" [ROHC] in 
   ROHC Unidirectional and Bidirectional Optimistic modes of operation. 
   Knowing the state of the link, the number of updates are defined in 
   order to have a confident level at compressor.


2.4 CSV Procedure Description

   The control procedure MAY consists of an information exchange among 
   the media link and ROHC decompressor. The procedure take place for 
   the first time after the negotiation if the CSV negotiation suboption 
   is requested. The control variables are updated through a request 
   made by the decompressor every period of time that COULD be 0.5 
   seconds for the cellular networks. When the decompressor have these 
   values, it is possible to determine the CSV parameters values and the 
   best mode of operation.

   In the cellular network, a terminal estimates the radio parameters of 
   the received link [TS25.302]. These values are transmitted to the 
   other peer. 
  
   The control procedure takes place in parallel of the ROHC mechanism, 
   figure 2.4, it is used for the decompressor to know better the link 
   state. In order to make the compression/decompression, the 
   decompressor  will wait for the media link reply. The ROHC 
   decompressor will generate automatically a request-reply procedure 
   each period of time to update the CSV parameters.

                     Figure 2.4 Control Procedure

   +-+-+-+-+-+-+                 +-+-+-+-+-+-+-+       +-+-+-+-+-+-+
   |Compressor | --------------> | Decompressor| <---> | CSV Proc. |
   +-+-+-+-+-+-+                 +-+-+-+-+-+-+-+       +-+-+-+-+-+-+      
        ^                               |                    ^
        |_______________________________|                    |
                 Feedback {k,n,l}                            v
                                                        QoS Parameters



Minaburo, et. Al.                                               [Page 4]


INTERNET-DRAFT         Media Link Parameters for ROHC          July 2001


   If the values have changed, the decompressor will send a feedback 
   packet to the compressor to update the values.


3. CSV Control Procedure Negotiation Suboption

   The option to run the CSV procedure is subject to negotiation. The 
   compressor/decompressor can have the option to compute their 
   parameters based on the QoS media layer parameters. 
 

   Description

        Define the use of the CSV parameters by the decompressor.

          Figure 3: CSV control procedure negotiation suboption
    0                   1                  2                    3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     Type      |    Length     | CSV Control Procedure             |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

         Type
            2

         Value
            c025 (hex) for non cellular networks
            c0XX (hex) to be assigned for cellular networks


4. CSV Feedback option format
  
   The CSV Feedback option has the values of the three CSV parameters
   (k, n, L). The CSV parameters are send through a feedback option to 
   the compressor only when there is a change in this CSV parameters 
   set. 
 
                   Figure 4: CSV feedback option

                       0  1  2  3  4  5  6  7  
                     +--+--+--+--+--+--+--+--+
                     |Option Type|  Opt Len  |
                     +--+--+--+--+--+--+--+--+
                     |            k          |
                     +--+--+--+--+--+--+--+--+
                     |            n          |
                     +--+--+--+--+--+--+--+--+
                     |            L          |
                     +--+--+--+--+--+--+--+--+
   
   Option Type = 8
   Option Length = 3



Minaburo, et. Al.                                               [Page 5]


INTERNET-DRAFT         Media Link Parameters for ROHC          July 2001
   

   When receiving a CSV option, the compressor updates its variable L,  
   and robustness will be increased as "optimistic approach" is based in 
   the actual state of the link (used in the Bidirectional Optimistic 
   Mode of operation).


5. Unidirectional mode of operation

   When working in Unidirectional Mode the CSV procedure has to be done 
   in both peers, then each one, compressor and decompressor will create 
   the CSV parallel procedure to determine its own parameters. 

   There will not be a feedback option to update the values, each peer 
   will update the CSV parameters each period of time. Then when the 
   decompressor ask to work in Bidirectional Optimistic Mode the 
   compressor leave the CSV procedure and wait the feedback option 
   update.
   

6.  Security Considerations

   The security considerations of ROHC [ROHC] apply.

   The use of header compression can, in rare cases, cause the
   misdelivery of packets. If necessary, confidentiality of packet
   contents should be assured by encryption.

   Encryption applied at the IP layer (e.g., using IPSEC mechanisms)
   precludes header compression of the encrypted headers, though
   compression of the outer IP header and authentication/security
   headers is still possible as described in [ROHC].  For RTP packets,
   full header compression is possible if the RTP payload is encrypted
   by itself without encrypting the UDP or RTP headers, as described in
   [RFC1889].  This method is appropriate when the UDP and RTP header
   information need not be kept confidential.


7.  IANA considerations

   The ROHC suboption identifier is a non-negative integer.  Following
   the policies outlined in [IANA-CONSIDERATIONS], the IANA policy for
   assigning new values for the suboption identifier shall be
   Specification Required: values and their meanings must be documented
   in an RFC or in some other permanent and readily available reference,
   in sufficient detail that interoperability between independent
   implementations is possible.  The range 0 to 127 is reserved for IETF
   standard-track specifications; the range 128 to 254 is available for
   other specifications that meet this requirement (such as
   Informational RFCs). The value 255 is reserved for future
   extensibility of the present specification.





Minaburo, et. Al.                                               [Page 6]


INTERNET-DRAFT         Media Link Parameters for ROHC          July 2001

8.  References


   [ROHC]      Carsten Bormann (ed.) et al., "RObust Header Compression
               (ROHC): Framework and four profiles: RTP, UDP, ESP, and
               uncompressed", work in progress, (draft-ietf-rohc-rtp-
               09.txt), February 2001.

   [TR23.107]  3rd GPP, UMTS, "QoS Concept and Architecture" (3GPP
               TS23.107 version 4.0.0 Release 4), June 2001. 

   [TS24.008]  3rd GPP, UMTS, "Core Network Protocols-Stage 3" (3GPP TS 
               24.008 version 4.2.0 Release 4), March 2001.

   [ROHCPPP]   C. Bormann, "ROHC over PPP", (draft-ietf-rohc-over-ppp-
               01.txt), March 2001.

   [TS25.302]  3 rd GPP, UMTS, "Technical Specification", (3GPP TS 
               25.302 V4.1.0), June 2001

   [RFC1144]   Jacobson, V., "Compressing TCP/IP Headers for Low- Speed
               Serial Links", RFC 1144, February 1990.

   [RFC1332]   McGregor, G., "The PPP Internet Protocol Control Protocol
               (IPCP)", RFC 1332, May 1992.

   [RFC1889]   Schulzrinne, H., Casner, S., Frederick, R. and V.
               Jacobson, "RTP: A Transport Protocol for real-time
               applications", RFC 1889, January 1996.

   [RFC1661]   Simpson, W., Ed., "The Point-To-Point Protocol (PPP)",
               STD 51, RFC 1661, July 1994.

   [RFC2509]   M. Engan, S. Casner, C. Bormann, "IP Header Compression
               over PPP", RFC 2509, February 1999.


7.  Authors' addresses

Ana Minaburo                 Tel: +33 299 127 045  
Loutfi Nuaymi                Tel: +33 299 127 044
Laurent Toutain              Tel: +33 299 127 026

ENST-BRETAGNE                Fax: +33 299 127 030
2 rue de la chataigneraie 
BP78 35512 Cesson-Sevigne 
France
  
 
Email : Anacarolina.Minaburo@enst-bretagne.fr
        Loutfi.Nuaymi@enst-bretagne.fr
        Laurent.Toutain@enst-bretagne.fr



Minaburo, et. Al.                                               [Page 7]
