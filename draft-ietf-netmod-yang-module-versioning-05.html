<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Updated YANG Module Revision Handling</title>
<meta content="Robert Wilton" name="author">
<meta content="Reshad Rahman" name="author">
<meta content="Balazs Lengyel" name="author">
<meta content="Joe Clarke" name="author">
<meta content="Jason Sterne" name="author">
<meta content="
       This document specifies a new YANG module update procedure that can document when non-backwards-compatible changes
  have occurred during the evolution of a YANG module.  It extends the YANG import statement with an earliest revision
  filter to better represent inter-module dependencies.  It provides guidelines for managing the lifecycle of
  YANG modules and individual schema nodes.  It provides a mechanism, via the revision-label YANG extension, to specify
  a revision identifier for YANG modules and submodules.  This document updates RFC 7950, RFC 6020, RFC 8407 and RFC 8525. 
    " name="description">
<meta content="xml2rfc 3.10.0" name="generator">
<meta content="draft-ietf-netmod-yang-module-versioning-05" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.10.0
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.6.3
    pycountry 20.7.3
    pyflakes 2.4.0
    PyYAML 5.4.1
    requests 2.26.0
    setuptools 58.2.0
    six 1.16.0
-->
<link href="/tmp/draft-ietf-netmod-yang-module-versioning-avuadeus.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">Updated YANG Module Revision Handling</td>
<td class="right">November 2021</td>
</tr></thead>
<tfoot><tr>
<td class="left">Wilton, et al.</td>
<td class="center">Expires 12 May 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Network Working Group</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-ietf-netmod-yang-module-versioning-05</dd>
<dt class="label-updates">Updates:</dt>
<dd class="updates">
<a href="https://www.rfc-editor.org/rfc/rfc6020" class="eref">6020</a>, <a href="https://www.rfc-editor.org/rfc/rfc7950" class="eref">7950</a>, <a href="https://www.rfc-editor.org/rfc/rfc8407" class="eref">8407</a>, <a href="https://www.rfc-editor.org/rfc/rfc8525" class="eref">8525</a> (if approved)</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2021-11-08" class="published">8 November 2021</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-05-12">12 May 2022</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">R. Wilton, <span class="editor">Ed.</span>
</div>
<div class="org">Cisco Systems, Inc.</div>
</div>
<div class="author">
      <div class="author-name">R. Rahman, <span class="editor">Ed.</span>
</div>
</div>
<div class="author">
      <div class="author-name">B. Lengyel, <span class="editor">Ed.</span>
</div>
<div class="org">Ericsson</div>
</div>
<div class="author">
      <div class="author-name">J. Clarke</div>
<div class="org">Cisco Systems, Inc.</div>
</div>
<div class="author">
      <div class="author-name">J. Sterne</div>
<div class="org">Nokia</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Updated YANG Module Revision Handling</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This document specifies a new YANG module update procedure that can document when non-backwards-compatible changes
  have occurred during the evolution of a YANG module.  It extends the YANG import statement with an earliest revision
  filter to better represent inter-module dependencies.  It provides guidelines for managing the lifecycle of
  YANG modules and individual schema nodes.  It provides a mechanism, via the revision-label YANG extension, to specify
  a revision identifier for YANG modules and submodules.  This document updates RFC 7950, RFC 6020, RFC 8407 and RFC 8525.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 12 May 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2021 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="xref">1.1</a>.  <a href="#name-updates-to-yang-rfcs" class="xref">Updates to YANG RFCs</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-terminology-and-conventions" class="xref">Terminology and Conventions</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-refinements-to-yang-revisio" class="xref">Refinements to YANG revision handling</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="xref">3.1</a>.  <a href="#name-updating-a-yang-module-with" class="xref">Updating a YANG module with a new revision</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1.2.1">
                    <p id="section-toc.1-1.3.2.1.2.1.1"><a href="#section-3.1.1" class="xref">3.1.1</a>.  <a href="#name-backwards-compatible-rules" class="xref">Backwards-compatible rules</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1.2.2">
                    <p id="section-toc.1-1.3.2.1.2.2.1"><a href="#section-3.1.2" class="xref">3.1.2</a>.  <a href="#name-non-backwards-compatible-ch" class="xref">Non-backwards-compatible changes</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="xref">3.2</a>.  <a href="#name-non-backwards-compatible-re" class="xref">non-backwards-compatible revision extension statement</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="xref">3.3</a>.  <a href="#name-removing-revisions-from-the" class="xref">Removing revisions from the revision history</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.4">
                <p id="section-toc.1-1.3.2.4.1"><a href="#section-3.4" class="xref">3.4</a>.  <a href="#name-revision-label" class="xref">Revision label</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.4.2.1">
                    <p id="section-toc.1-1.3.2.4.2.1.1"><a href="#section-3.4.1" class="xref">3.4.1</a>.  <a href="#name-file-names" class="xref">File names</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.4.2.2">
                    <p id="section-toc.1-1.3.2.4.2.2.1"><a href="#section-3.4.2" class="xref">3.4.2</a>.  <a href="#name-revision-label-scheme-exten" class="xref">Revision label scheme extension statement</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.5">
                <p id="section-toc.1-1.3.2.5.1"><a href="#section-3.5" class="xref">3.5</a>.  <a href="#name-examples-for-updating-the-y" class="xref">Examples for updating the YANG module revision history</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-import-by-derived-revision" class="xref">Import by derived revision</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-module-import-examples" class="xref">Module import examples</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-updates-to-ietf-yang-librar" class="xref">Updates to ietf-yang-library</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="xref">5.1</a>.  <a href="#name-resolving-ambiguous-module-" class="xref">Resolving ambiguous module imports</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="xref">5.2</a>.  <a href="#name-yang-library-versioning-aug" class="xref">YANG library versioning augmentations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.1">
                    <p id="section-toc.1-1.5.2.2.2.1.1"><a href="#section-5.2.1" class="xref">5.2.1</a>.  <a href="#name-advertising-revision-label" class="xref">Advertising revision-label</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.2">
                    <p id="section-toc.1-1.5.2.2.2.2.1"><a href="#section-5.2.2" class="xref">5.2.2</a>.  <a href="#name-reporting-how-deprecated-an" class="xref">Reporting how deprecated and obsolete nodes are handled</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-versioning-of-yang-instance" class="xref">Versioning of YANG instance data</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-guidelines-for-using-the-ya" class="xref">Guidelines for using the YANG module update rules</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="xref">7.1</a>.  <a href="#name-guidelines-for-yang-module-" class="xref">Guidelines for YANG module authors</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1.2.1">
                    <p id="section-toc.1-1.7.2.1.2.1.1"><a href="#section-7.1.1" class="xref">7.1.1</a>.  <a href="#name-making-non-backwards-compat" class="xref">Making non-backwards-compatible changes to a YANG module</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="xref">7.2</a>.  <a href="#name-versioning-considerations-f" class="xref">Versioning Considerations for Clients</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-module-versioning-extension" class="xref">Module Versioning Extension YANG Modules</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-contributors" class="xref">Contributors</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="xref">11</a>. <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1">
                <p id="section-toc.1-1.11.2.1.1"><a href="#section-11.1" class="xref">11.1</a>.  <a href="#name-yang-module-registrations" class="xref">YANG Module Registrations</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.2">
                <p id="section-toc.1-1.11.2.2.1"><a href="#section-11.2" class="xref">11.2</a>.  <a href="#name-guidance-for-versioning-in-" class="xref">Guidance for versioning in IANA maintained YANG modules</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-12" class="xref">12</a>. <a href="#name-references" class="xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.1">
                <p id="section-toc.1-1.12.2.1.1"><a href="#section-12.1" class="xref">12.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.2">
                <p id="section-toc.1-1.12.2.2.1"><a href="#section-12.2" class="xref">12.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#appendix-A" class="xref">Appendix A</a>.  <a href="#name-examples-of-changes-that-ar" class="xref">Examples of changes that are NBC</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#appendix-B" class="xref">Appendix B</a>.  <a href="#name-examples-of-applying-the-nb" class="xref">Examples of applying the NBC change guidelines</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.1">
                <p id="section-toc.1-1.14.2.1.1"><a href="#appendix-B.1" class="xref">B.1</a>.  <a href="#name-removing-a-data-node" class="xref">Removing a data node</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.2">
                <p id="section-toc.1-1.14.2.2.1"><a href="#appendix-B.2" class="xref">B.2</a>.  <a href="#name-changing-the-type-of-a-leaf" class="xref">Changing the type of a leaf node</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.3">
                <p id="section-toc.1-1.14.2.3.1"><a href="#appendix-B.3" class="xref">B.3</a>.  <a href="#name-reducing-the-range-of-a-lea" class="xref">Reducing the range of a leaf node</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.4">
                <p id="section-toc.1-1.14.2.4.1"><a href="#appendix-B.4" class="xref">B.4</a>.  <a href="#name-changing-the-key-of-a-list" class="xref">Changing the key of a list</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.5">
                <p id="section-toc.1-1.14.2.5.1"><a href="#appendix-B.5" class="xref">B.5</a>.  <a href="#name-renaming-a-node" class="xref">Renaming a node</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1"><a href="#appendix-C" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="intro">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">This document defines the foundational pieces of a solution to the YANG module lifecycle problems described in <span>[<a href="#I-D.ietf-netmod-yang-versioning-reqs" class="xref">I-D.ietf-netmod-yang-versioning-reqs</a>]</span>. Complementary documents provide other parts of the solution, with the overall 
  relationship of the solution drafts described in <span>[<a href="#I-D.ietf-netmod-yang-solutions" class="xref">I-D.ietf-netmod-yang-solutions</a>]</span>.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">Specifically, this document recognises a need (within standards organizations, vendors, and the industry) to
  sometimes allow YANG modules to evolve with non-backwards-compatible changes, which could cause breakage to clients
  and importing YANG modules.  Accepting that non-backwards-compatible changes do sometimes occur, it is important to
  have mechanisms to report where these changes occur, and to manage their effect on clients and the broader YANG
  ecosystem.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">The document comprises five parts:<a href="#section-1-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1-4.1">Refinements to the YANG 1.1 module revision update procedure, supported by new extension statements to indicate
    when a revision contains non-backwards-compatible changes, and an optional revision label.<a href="#section-1-4.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-1-4.2">A YANG extension statement allowing YANG module imports to specify an earliest module revision that may satisfy the
    import dependency.<a href="#section-1-4.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-1-4.3">Updates and augmentations to ietf-yang-library to include the revision label in the module and submodule descriptions, to
    report how "deprecated" and "obsolete" nodes are handled by a server, and to clarify how module imports are resolved
    when multiple revisions could otherwise be chosen.<a href="#section-1-4.3" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-1-4.4">Considerations of how versioning applies to YANG instance data.<a href="#section-1-4.4" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-1-4.5">Guidelines for how the YANG module update rules defined in this document should be used, along with examples.<a href="#section-1-4.5" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-1-5">Note to RFC Editor (To be removed by RFC Editor)<a href="#section-1-5" class="pilcrow">¶</a></p>
<p id="section-1-6">Open issues are tracked at <span><a href="https://github.com/netmod-wg/yang-ver-dt/issues">https://github.com/netmod-wg/yang-ver-dt/issues</a></span>.<a href="#section-1-6" class="pilcrow">¶</a></p>
<div id="changes">
<section id="section-1.1">
        <h3 id="name-updates-to-yang-rfcs">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-updates-to-yang-rfcs" class="section-name selfRef">Updates to YANG RFCs</a>
        </h3>
<p id="section-1.1-1">This document updates <span>[<a href="#RFC7950" class="xref">RFC7950</a>]</span> section 11 and <span>[<a href="#RFC6020" class="xref">RFC6020</a>]</span> section 10.
    <a href="#yang_revision_handling" class="xref">Section 3</a> describes modifications to
    YANG revision handling and update rules, and <a href="#import" class="xref">Section 4</a> describes a YANG extension statement to do import by derived
    revision.<a href="#section-1.1-1" class="pilcrow">¶</a></p>
<p id="section-1.1-2">This document updates <span>[<a href="#RFC7950" class="xref">RFC7950</a>]</span> section 5.2 and <span>[<a href="#RFC6020" class="xref">RFC6020</a>]</span> section 5.2.
    <a href="#file_names" class="xref">Section 3.4.1</a> describes the use of a revision
    label in the name of a file containing a YANG module or submodule.<a href="#section-1.1-2" class="pilcrow">¶</a></p>
<p id="section-1.1-3">This document updates <span>[<a href="#RFC7950" class="xref">RFC7950</a>]</span> section 5.6.5 and <span>[<a href="#RFC8525" class="xref">RFC8525</a>]</span>. <a href="#resolving_ambiguous_imports" class="xref">Section 5.1</a> defines how a client
    of a YANG library datastore schema resolves ambiguous imports for modules which are not "import-only".<a href="#section-1.1-3" class="pilcrow">¶</a></p>
<p id="section-1.1-4">This document updates <span>[<a href="#RFC8407" class="xref">RFC8407</a>]</span> section 4.7. <a href="#guidelines" class="xref">Section 7</a> provides guidelines on managing the
    lifecycle of YANG modules that may contain non-backwards-compatible changes and a branched revision history.<a href="#section-1.1-4" class="pilcrow">¶</a></p>
<p id="section-1.1-5">This document updates <span>[<a href="#RFC8525" class="xref">RFC8525</a>]</span> with augmentations to include revision labels in the YANG library data and two
    boolean leafs to indicate whether status deprecated and status obsolete schema nodes are implemented by the server.<a href="#section-1.1-5" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="terminology">
<section id="section-2">
      <h2 id="name-terminology-and-conventions">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-terminology-and-conventions" class="section-name selfRef">Terminology and Conventions</a>
      </h2>
<p id="section-2-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT
      RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in BCP 14 <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span> when, and only when, they appear in all capitals, as shown here.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2">In addition, this document uses the following terminology:<a href="#section-2-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2-3.1">YANG module revision: An instance of a YANG module, uniquely identified with a revision date, with no implied
        ordering or backwards compatibility between different revisions of the same module.<a href="#section-2-3.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-2-3.2">Backwards-compatible (BC) change: A backwards-compatible change between two YANG module revisions, as defined
 in <a href="#bc_update_rules" class="xref">Section 3.1.1</a><a href="#section-2-3.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-2-3.3">Non-backwards-compatible (NBC) change: A non-backwards-compatible change between two YANG module revisions, as
        defined in <a href="#nbc_update_rules" class="xref">Section 3.1.2</a><a href="#section-2-3.3" class="pilcrow">¶</a>
</li>
      </ul>
</section>
</div>
<div id="yang_revision_handling">
<section id="section-3">
      <h2 id="name-refinements-to-yang-revisio">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-refinements-to-yang-revisio" class="section-name selfRef">Refinements to YANG revision handling</a>
      </h2>
<p id="section-3-1"><span>[<a href="#RFC7950" class="xref">RFC7950</a>]</span> and <span>[<a href="#RFC6020" class="xref">RFC6020</a>]</span> assume, but do not explicitly state, that the revision history for a YANG module or submodule is
  strictly linear, i.e., it is prohibited to have two independent revisions of a YANG module or submodule that are both directly
  derived from the same parent revision.<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">This document clarifies <span>[<a href="#RFC7950" class="xref">RFC7950</a>]</span> and <span>[<a href="#RFC6020" class="xref">RFC6020</a>]</span> to explicitly allow non-linear development of YANG module and submodule
  revisions, so that they MAY have multiple revisions that directly derive from the same parent revision.  As per <span>[<a href="#RFC7950" class="xref">RFC7950</a>]</span> and <span>[<a href="#RFC6020" class="xref">RFC6020</a>]</span>, YANG module and submodule revisions continue to be uniquely identified by their revision date, and hence
  all revisions of a given module or submodule MUST have unique revision dates.<a href="#section-3-2" class="pilcrow">¶</a></p>
<p id="section-3-3">A corollary to the above is that the relationship between two module or submodule revisions cannot be determined by comparing
  the module or submodule revision date alone, and the revision history, or revision label, must also be taken into consideration.<a href="#section-3-3" class="pilcrow">¶</a></p>
<p id="section-3-4">A module's name and revision date identifies a specific immutable definition of that module within its revision
  history.  Hence, if a module includes submodules then to ensure that the module's content is uniquely defined, the 
  module's "include" statements SHOULD use "revision-date"
  substatements to specify the exact revision date of each included submodule. When a module does not include its
  submodules by revision-date,  the revision of submodules used cannot be derived from the including module. Mechanisms 
  such as YANG packages <span>[<a href="#I-D.ietf-netmod-yang-packages" class="xref">I-D.ietf-netmod-yang-packages</a>]</span>, and YANG library
  <span>[<a href="#RFC8525" class="xref">RFC8525</a>]</span>, MAY be used to specify the exact submodule revisions used when the submodule revision date
  is not constrained by the "include" statement.<a href="#section-3-4" class="pilcrow">¶</a></p>
<p id="section-3-5"><span>[<a href="#RFC7950" class="xref">RFC7950</a>]</span> section 11 and <span>[<a href="#RFC6020" class="xref">RFC6020</a>]</span> section 10 require that all updates to a YANG module are BC to the previous revision of
  the module.  This document introduces a method to indicate that an NBC change has occurred between module revisions:
  this is done by using a new "non-backwards-compatible" YANG extension statement in the module revision history.<a href="#section-3-5" class="pilcrow">¶</a></p>
<p id="section-3-6">Two revisions of a module or submodule MAY have identical content except for the revision history. This could occur,
  for example, if a module or submodule has a branched history and identical changes are applied in multiple branches.<a href="#section-3-6" class="pilcrow">¶</a></p>
<div id="update_rules">
<section id="section-3.1">
        <h3 id="name-updating-a-yang-module-with">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-updating-a-yang-module-with" class="section-name selfRef">Updating a YANG module with a new revision</a>
        </h3>
<p id="section-3.1-1">This section updates <span>[<a href="#RFC7950" class="xref">RFC7950</a>]</span> section 11 and <span>[<a href="#RFC6020" class="xref">RFC6020</a>]</span> section 10 to refine the rules for permissible changes when a new
    YANG module revision is created.<a href="#section-3.1-1" class="pilcrow">¶</a></p>
<p id="section-3.1-2">Where pragmatic, updates to YANG modules SHOULD be backwards-compatible, following the definition in <a href="#bc_update_rules" class="xref">Section 3.1.1</a>.<a href="#section-3.1-2" class="pilcrow">¶</a></p>
<p id="section-3.1-3">A new module revision MAY contain NBC changes, e.g., the semantics of
    an existing data-node definition MAY be changed in an NBC manner without
    requiring a new data-node definition with a new identifier. A YANG extension,
    defined in <a href="#nbc_marker" class="xref">Section 3.2</a>, is used to signal the potential
    for incompatibility to existing module users and readers.<a href="#section-3.1-3" class="pilcrow">¶</a></p>
<p id="section-3.1-4">As per <span>[<a href="#RFC7950" class="xref">RFC7950</a>]</span> and <span>[<a href="#RFC6020" class="xref">RFC6020</a>]</span>, all published revisions of a module are given a new unique revision date.  This applies even for module revisions containing (in the module or included submodules) only changes to any whitespace, formatting, comments or line endings (e.g., DOS vs UNIX).<a href="#section-3.1-4" class="pilcrow">¶</a></p>
<div id="bc_update_rules">
<section id="section-3.1.1">
          <h4 id="name-backwards-compatible-rules">
<a href="#section-3.1.1" class="section-number selfRef">3.1.1. </a><a href="#name-backwards-compatible-rules" class="section-name selfRef">Backwards-compatible rules</a>
          </h4>
<p id="section-3.1.1-1">A change between two module revisions is defined as being "backwards-compatible" if the change conforms to
      the module update rules specified in <span>[<a href="#RFC7950" class="xref">RFC7950</a>]</span> section 11 and <span>[<a href="#RFC6020" class="xref">RFC6020</a>]</span> section 10, updated by the following rules:<a href="#section-3.1.1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.1.1-2.1">A "status" "deprecated" statement MAY be added, or changed from "current" to "deprecated", but adding or
        changing "status" to "obsolete" is not a backwards-compatible change.<a href="#section-3.1.1-2.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-3.1.1-2.2">YANG schema nodes with a "status" "obsolete" substatement MAY be removed from published modules, and are classified as backwards-compatible
        changes.  In some circumstances it may be helpful to retain the obsolete definitions since their identifiers may still be referenced by other modules and
        to ensure that their identifiers are not reused with a different meaning.<a href="#section-3.1.1-2.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-3.1.1-2.3">In statements that have any data definition statements as substatements, those data definition substatements
        MAY be reordered, as long as they do not change the ordering of any "input" or "output" data definition
        substatements of "rpc" or "action" statements.  If new data
        definition statements are added, they can be added anywhere in the sequence of existing substatements.<a href="#section-3.1.1-2.3" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-3.1.1-2.4">A statement that is defined using the YANG "extension" statement MAY be added, removed, or changed,
        if it does not change the semantics of the module.  Extension statement definitions SHOULD specify whether
        adding, removing, or changing statements defined by that extension are backwards-compatible or non-backwards-compatible.<a href="#section-3.1.1-2.4" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-3.1.1-2.5">Any changes (including whitespace or formatting changes) that do not change the semantic meaning of the 
        module are backwards compatible.<a href="#section-3.1.1-2.5" class="pilcrow">¶</a>
</li>
          </ul>
</section>
</div>
<div id="nbc_update_rules">
<section id="section-3.1.2">
          <h4 id="name-non-backwards-compatible-ch">
<a href="#section-3.1.2" class="section-number selfRef">3.1.2. </a><a href="#name-non-backwards-compatible-ch" class="section-name selfRef">Non-backwards-compatible changes</a>
          </h4>
<p id="section-3.1.2-1">Any changes to YANG modules that are not defined by <a href="#bc_update_rules" class="xref">Section 3.1.1</a> 
      as being backwards-compatible are classified as "non-backwards-compatible" changes.<a href="#section-3.1.2-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="nbc_marker">
<section id="section-3.2">
        <h3 id="name-non-backwards-compatible-re">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-non-backwards-compatible-re" class="section-name selfRef">non-backwards-compatible revision extension statement</a>
        </h3>
<p id="section-3.2-1">The "rev:non-backwards-compatible" extension statement is used to indicate YANG module revisions that contain
    NBC changes.<a href="#section-3.2-1" class="pilcrow">¶</a></p>
<p id="section-3.2-2">If a revision of a YANG module contains changes, relative to the preceding revision in the revision history,
    that do not conform to the module update rules defined in <a href="#bc_update_rules" class="xref">Section 3.1.1</a>, then a
    "rev:non-backwards-compatible" extension statement MUST be added as a substatement to the "revision" statement.<a href="#section-3.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="removing-revisions-history">
<section id="section-3.3">
        <h3 id="name-removing-revisions-from-the">
<a href="#section-3.3" class="section-number selfRef">3.3. </a><a href="#name-removing-revisions-from-the" class="section-name selfRef">Removing revisions from the revision history</a>
        </h3>
<p id="section-3.3-1">Authors may wish to remove revision statements from a module or submodule. Removal of 
      revision information may be desirable for a number of reasons including reducing the size of a large
      revision history, or removing a revision that should no longer be used or imported. Removing revision
      statements is allowed, but can cause issues and SHOULD NOT be done without careful analysis of the 
      potential impact to users of the module or submodule. Doing so can lead to import breakages when import by 
      revision-or-derived is used.  Moreover, truncating history may cause loss of visibility of when 
      non-backwards-compatible changes were introduced.<a href="#section-3.3-1" class="pilcrow">¶</a></p>
<p id="section-3.3-2"> An author MAY remove a contiguous sequence of entries from the
      end (i.e., oldest entries) of the revision history.  This is
      acceptable even if the first remaining (oldest) revision entry in the
      revision history contains a rev:non-backwards-compatible substatement.<a href="#section-3.3-2" class="pilcrow">¶</a></p>
<p id="section-3.3-3">An author MAY remove a contiguous sequence of entries in the revision
      history as long as the presence or absence of any existing
      rev:non-backwards-compatible substatements on all remaining entries still
      accurately reflect the compatibility relationship to their preceding
      entries remaining in the revision history.<a href="#section-3.3-3" class="pilcrow">¶</a></p>
<p id="section-3.3-4">The author MUST NOT remove the first (i.e., newest) revision entry in the revision history.<a href="#section-3.3-4" class="pilcrow">¶</a></p>
<p id="section-3.3-5" class="keepWithNext">Example revision history:<a href="#section-3.3-5" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3.3-6">
<pre>
revision 2020-11-11 {
  rev:revision-label 4.0.0;
  rev:non-backwards-compatible;
}

revision 2020-08-09 {
  rev:revision-label 3.0.0;
  rev:non-backwards-compatible;
}

revision 2020-06-07 {
  rev:revision-label 2.1.0;
}

revision 2020-02-10 {
  rev:revision-label 2.0.0;
  rev:non-backwards-compatible;
}

revision 2019-10-21 {
  rev:revision-label 1.1.3;
}

revision 2019-03-04 {
  rev:revision-label 1.1.2;
}

revision 2019-01-02 {
  rev:revision-label 1.1.1;
}

</pre><a href="#section-3.3-6" class="pilcrow">¶</a>
</div>
<p id="section-3.3-7">In the revision history example above, removing the revision history entry for 2020-02-10 would also remove the rev:non-backwards-compatible annotation and hence the resulting revision history would incorrectly indicate that revision 2020-06-07 is backwards-compatible with revisions 2019-01-02 through 2019-10-21 when it is not, and so this change cannot be made.  Conversely, removing one or more revisions out of 2019-03-04, 2019-10-21 and 2020-08-09 from the revision history would still retain a consistent revision history, and is acceptable, subject to an awareness of the concerns raised in the first paragraph of this section.<a href="#section-3.3-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="revision_label">
<section id="section-3.4">
        <h3 id="name-revision-label">
<a href="#section-3.4" class="section-number selfRef">3.4. </a><a href="#name-revision-label" class="section-name selfRef">Revision label</a>
        </h3>
<p id="section-3.4-1">Each revision entry in a module or submodule MAY have a revision label associated with it, providing an
    alternative alias to identify a particular revision of a module or submodule.  The revision label could be used to
    provide an additional versioning identifier associated with the revision.<a href="#section-3.4-1" class="pilcrow">¶</a></p>
<p id="section-3.4-2">A revision label scheme is a set of rules describing how a particular type of revision-label operates for versioning YANG modules and submodules.
    For example, YANG Semver <span>[<a href="#I-D.ietf-netmod-yang-semver" class="xref">I-D.ietf-netmod-yang-semver</a>]</span> defines a revision label scheme based on Semver 2.0.0 <span>[<a href="#semver" class="xref">semver</a>]</span>.
    Other documents may define other YANG revision label schemes.<a href="#section-3.4-2" class="pilcrow">¶</a></p>
<p id="section-3.4-3">Submodules MAY use a revision label scheme. When they use a revision
    label scheme, submodules MAY use a revision label scheme that is different from
    the one used in the including module.<a href="#section-3.4-3" class="pilcrow">¶</a></p>
<p id="section-3.4-4">The revision label space of submodules is separate from the revision label space of the including module.
    A change in one submodule MUST result in a new revision label of that submodule and the including module,
    but the actual values of the revision labels in the module and submodule  could be completely different. A
    change in one submodule does not result in a new revision label in another submodule. A change in a module
    revision label does not necessarily mean a change to the revision label in all included submodules.<a href="#section-3.4-4" class="pilcrow">¶</a></p>
<p id="section-3.4-5">If a revision has an associated revision label, then it may be used 
      instead of the revision date in a "rev:revision-or-derived" extension 
      statement argument.<a href="#section-3.4-5" class="pilcrow">¶</a></p>
<p id="section-3.4-6">A specific revision-label identifies a specific revision of the 
      module. If two YANG modules contain the same module name and the same 
      revision-label (and hence also the same revision-date) in their latest revision statement,
      then the file contents of the two modules, including the revision history, MUST be identical.<a href="#section-3.4-6" class="pilcrow">¶</a></p>
<div id="file_names">
<section id="section-3.4.1">
          <h4 id="name-file-names">
<a href="#section-3.4.1" class="section-number selfRef">3.4.1. </a><a href="#name-file-names" class="section-name selfRef">File names</a>
          </h4>
<p id="section-3.4.1-1">This section updates <span>[<a href="#RFC7950" class="xref">RFC7950</a>]</span> section 5.2 and <span>[<a href="#RFC6020" class="xref">RFC6020</a>]</span> section 5.2.<a href="#section-3.4.1-1" class="pilcrow">¶</a></p>
<p id="section-3.4.1-2">If a revision has an associated revision label, then the revision-label MAY be used 
      instead of the revision date in the filename of a YANG file,
      where it takes the form:<a href="#section-3.4.1-2" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3.4.1-3">
<pre>

    module-or-submodule-name [['@' revision-date]|['#' revision-label]]
        ( '.yang' / '.yin' )

      E.g., acme-router-module@2018-01-25.yang
      E.g., acme-router-module#2.0.3.yang

</pre><a href="#section-3.4.1-3" class="pilcrow">¶</a>
</div>
<p id="section-3.4.1-4">
      YANG module (or submodule) files MAY be identified using either revision-date or revision-label.
      Typically, only one file name SHOULD exist for the same module (or submodule) revision.
      Two file names, one with the revision date and another with the revision
      label, MAY exist for the same module (or submodule) revision, e.g., when migrating from one scheme to the other.<a href="#section-3.4.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="revision_label-scheme">
<section id="section-3.4.2">
          <h4 id="name-revision-label-scheme-exten">
<a href="#section-3.4.2" class="section-number selfRef">3.4.2. </a><a href="#name-revision-label-scheme-exten" class="section-name selfRef">Revision label scheme extension statement</a>
          </h4>
<p id="section-3.4.2-1">The optional "rev:revision-label-scheme" extension statement is used to indicate which revision-label
            scheme a module or submodule uses. There MUST NOT be more than one revision label scheme in a module or submodule. The mandatory argument to this extension statement:<a href="#section-3.4.2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.4.2-2.1">specifies the revision-label scheme used by the module or submodule<a href="#section-3.4.2-2.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-3.4.2-2.2">is defined in the document which specifies the revision-label scheme<a href="#section-3.4.2-2.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-3.4.2-2.3">MUST be an identity derived from "revision-label-scheme-base".<a href="#section-3.4.2-2.3" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-3.4.2-3">The revision-label scheme used by a module or submodule SHOULD NOT change during the
         lifetime of the module or submodule. If the revision-label scheme used by a module or submodule
         is changed to a new scheme, then all revision-label statements that do not
         conform to the new scheme MUST be replaced or removed.<a href="#section-3.4.2-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="example_versions">
<section id="section-3.5">
        <h3 id="name-examples-for-updating-the-y">
<a href="#section-3.5" class="section-number selfRef">3.5. </a><a href="#name-examples-for-updating-the-y" class="section-name selfRef">Examples for updating the YANG module revision history</a>
        </h3>
<p id="section-3.5-1">The following diagram, explanation, and module history illustrates how the branched revision history,
    "non-backwards-compatible" extension statement, and "revision-label" extension statement could be used:<a href="#section-3.5-1" class="pilcrow">¶</a></p>
<p id="section-3.5-2" class="keepWithNext">Example YANG module with branched revision history.<a href="#section-3.5-2" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3.5-3">
<pre>
       Module revision date        Revision label
         2019-01-01                 &lt;- 1.0.0
             |
         2019-02-01                 &lt;- 2.0.0
             |      \
         2019-03-01  \              &lt;- 3.0.0
             |        \
             |       2019-04-01     &lt;- 2.1.0
             |           |
             |       2019-05-01     &lt;- 2.2.0
             |
         2019-06-01                 &lt;- 3.1.0
</pre><a href="#section-3.5-3" class="pilcrow">¶</a>
</div>
<p id="section-3.5-4">The tree diagram above illustrates how an example module's revision history might evolve, over time.  For example,
    the tree might represent the following changes, listed in chronological order from the oldest revision to the newest revision:<a href="#section-3.5-4" class="pilcrow">¶</a></p>
<p id="section-3.5-5" class="keepWithNext">Example module, revision 2019-06-01:<a href="#section-3.5-5" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3.5-6">
<pre>
    module example-module {

      namespace "urn:example:module";
      prefix "prefix-name";
      rev:revision-label-scheme "yangver:yang-semver";

      import ietf-yang-revisions { prefix "rev"; }
      import ietf-yang-semver { prefix "yangver"; }

      description
        "to be completed";

      revision 2019-06-01 {
        rev:revision-label 3.1.0;
        description "Add new functionality.";
      }

      revision 2019-03-01 {
        rev:revision-label 3.0.0;
        rev:non-backwards-compatible;
        description
          "Add new functionality. Remove some deprecated nodes.";
      }

      revision 2019-02-01 {
        rev:revision-label 2.0.0;
        rev:non-backwards-compatible;
        description "Apply bugfix to pattern statement";
      }

      revision 2019-01-01 {
        rev:revision-label 1.0.0;
        description "Initial revision";
      }

      //YANG module definition starts here
    }
</pre><a href="#section-3.5-6" class="pilcrow">¶</a>
</div>
<p id="section-3.5-7" class="keepWithNext">Example module, revision 2019-05-01:<a href="#section-3.5-7" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3.5-8">
<pre>
    module example-module {

      namespace "urn:example:module";
      prefix "prefix-name";
      rev:revision-label-scheme "yangver:yang-semver";

      import ietf-yang-revisions { prefix "rev"; }
      import ietf-yang-semver { prefix "yangver"; }

      description
        "to be completed";

      revision 2019-05-01 {
        rev:revision-label 2.2.0;
        description "Backwards-compatible bugfix to enhancement.";
      }

      revision 2019-04-01 {
        rev:revision-label 2.1.0;
        description "Apply enhancement to older release train.";
      }

      revision 2019-02-01 {
        rev:revision-label 2.0.0;
        rev:non-backwards-compatible;
        description "Apply bugfix to pattern statement";
      }

      revision 2019-01-01 {
        rev:revision-label 1.0.0;
        description "Initial revision";
      }

      //YANG module definition starts here
    }
</pre><a href="#section-3.5-8" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="import">
<section id="section-4">
      <h2 id="name-import-by-derived-revision">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-import-by-derived-revision" class="section-name selfRef">Import by derived revision</a>
      </h2>
<p id="section-4-1"><span>[<a href="#RFC7950" class="xref">RFC7950</a>]</span> and <span>[<a href="#RFC6020" class="xref">RFC6020</a>]</span> allow YANG module "import" statements to optionally require the imported module to have a particular
  revision date.  In practice, importing a module with an exact revision date is often too restrictive because it
  requires the importing module to be updated whenever any change to the imported module occurs.  The alternative choice
  of using an import statement without any revision date statement is also not ideal because the importing module may
  not work with all possible revisions of the imported module.<a href="#section-4-1" class="pilcrow">¶</a></p>
<p id="section-4-2">Instead, it is desirable for an importing module to specify a "minimum required revision" of a module that it is
  compatible with, based on the assumption that later revisions derived from that "minimum required revision" are also
  likely to be compatible.  Many possible changes to a YANG module do not break importing modules, even if the changes
  themselves are not strictly backwards-compatible.  E.g., fixing an incorrect pattern statement or description for a
  leaf would not break an import, changing the name of a leaf could break an import but frequently would not, but
  removing a container would break imports if that container is augmented by another module.<a href="#section-4-2" class="pilcrow">¶</a></p>
<p id="section-4-3">The ietf-revisions module defines the "revision-or-derived" extension statement, a substatement to the YANG "import"
  statement, to allow for a "minimum required revision" to be specified during import:<a href="#section-4-3" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-4-4.1">The argument to the "revision-or-derived" extension statement is a revision date or a revision label.<a href="#section-4-4.1" class="pilcrow">¶</a>
</li>
        <li class="normal ulEmpty" id="section-4-4.2">A particular revision of an imported module satisfies an import's "revision-or-derived" extension statement if
    the imported module's revision history contains a revision statement with a matching revision date or
    revision label.<a href="#section-4-4.2" class="pilcrow">¶</a>
</li>
        <li class="normal ulEmpty" id="section-4-4.3">An "import" statement MUST NOT contain both a "revision-or-derived" extension statement and a "revision-date"
    statement.<a href="#section-4-4.3" class="pilcrow">¶</a>
</li>
        <li class="normal ulEmpty" id="section-4-4.4">The "revision-or-derived" extension statement MAY be specified multiple times, allowing the import to use any
    module revision that satisfies at least one of the "revision-or-derived" extension statements.<a href="#section-4-4.4" class="pilcrow">¶</a>
</li>
        <li class="normal ulEmpty" id="section-4-4.5">The "revision-or-derived" extension statement does not guarantee that all module revisions that satisfy an import
    statement are necessarily compatible; it only gives an indication that the revisions are more likely to be
    compatible.  Hence, NBC changes to an imported module may also require new revisions of any
    importing modules, updated to accommodation those changes, along with updated import "revision-or-derived" extension
    statements to depend on the updated imported module revision.<a href="#section-4-4.5" class="pilcrow">¶</a>
</li>
        <li class="normal ulEmpty" id="section-4-4.6">Adding, modifying or removing a "revision-or-derived" extension statement is considered to be a BC change.<a href="#section-4-4.6" class="pilcrow">¶</a>
</li>
      </ul>
<section id="section-4.1">
        <h3 id="name-module-import-examples">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-module-import-examples" class="section-name selfRef">Module import examples</a>
        </h3>
<p id="section-4.1-1">Consider the example module "example-module" from <a href="#example_versions" class="xref">Section 3.5</a> that is hypothetically available in
    the following revision/label pairings: 2019-01-01/1.0.0,
    2019-02-01/2.0.0, 2019-03-01/3.0.0, 2019-04-01/2.1.0,
    2019-05-01/2.2.0 and 2019-06-01/3.1.0.  The relationship between
    the revisions is as before:<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.1-2">
<pre>
       Module revision date        Revision label
         2019-01-01                 &lt;- 1.0.0
             |
         2019-02-01                 &lt;- 2.0.0
             |      \
         2019-03-01  \              &lt;- 3.0.0
             |        \
             |       2019-04-01     &lt;- 2.1.0
             |           |
             |       2019-05-01     &lt;- 2.2.0
             |
         2019-06-01                 &lt;- 3.1.0
</pre><a href="#section-4.1-2" class="pilcrow">¶</a>
</div>
<section id="section-4.1.1">
          <h4 id="name-example-1">
<a href="#section-4.1.1" class="section-number selfRef">4.1.1. </a><a href="#name-example-1" class="section-name selfRef">Example 1</a>
          </h4>
<p id="section-4.1.1-1">This example selects module revisions that match, or are derived from the revision 2019-02-01.  E.g., this
    dependency might be used if there was a new container added in revision 2019-02-01 that is augmented by the
    importing module. It includes revisions/labels: 2019-02-01/2.0.0, 2019-03-01/3.0.0, 2019-04-01/2.1.0,
    2019-05-01/2.2.0 and 2019-06-01/3.1.0.<a href="#section-4.1.1-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.1.1-2">
<pre>
import example-module {
  rev:revision-or-derived 2019-02-01;
}
</pre><a href="#section-4.1.1-2" class="pilcrow">¶</a>
</div>
<p id="section-4.1.1-3">Alternatively, the first example could have used the revision label "2.0.0" instead, which selects the same set
    of revisions/labels.<a href="#section-4.1.1-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.1.1-4">
<pre>
import example-module {
  rev:revision-or-derived 2.0.0;
}
</pre><a href="#section-4.1.1-4" class="pilcrow">¶</a>
</div>
</section>
<section id="section-4.1.2">
          <h4 id="name-example-2">
<a href="#section-4.1.2" class="section-number selfRef">4.1.2. </a><a href="#name-example-2" class="section-name selfRef">Example 2</a>
          </h4>
<p id="section-4.1.2-1">This example selects module revisions that are derived from 2019-04-01 by using the revision label 2.1.0.  It
    includes revisions/labels: 2019-04-01/2.1.0 and 2019-05-01/2.2.0.  Even though 2019-06-01/3.1.0 has a higher
    revision label number than 2019-04-01/2.1.0 it is not a derived revision, and hence it is not a valid
    revision for import.<a href="#section-4.1.2-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.1.2-2">
<pre>
import example-module {
  rev:revision-or-derived 2.1.0;
}
</pre><a href="#section-4.1.2-2" class="pilcrow">¶</a>
</div>
</section>
<section id="section-4.1.3">
          <h4 id="name-example-3">
<a href="#section-4.1.3" class="section-number selfRef">4.1.3. </a><a href="#name-example-3" class="section-name selfRef">Example 3</a>
          </h4>
<p id="section-4.1.3-1">This example selects revisions derived from either 2019-04-01 or 2019-06-01.  It includes revisions/labels:
    2019-04-01/2.1.0, 2019-05-01/2.2.0, and 2019-06-01/3.1.0.<a href="#section-4.1.3-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.1.3-2">
<pre>
import example-module {
  rev:revision-or-derived 2019-04-01;
  rev:revision-or-derived 2019-06-01;
}
</pre><a href="#section-4.1.3-2" class="pilcrow">¶</a>
</div>
</section>
</section>
</section>
</div>
<div id="ietf_yang_library_updates">
<section id="section-5">
      <h2 id="name-updates-to-ietf-yang-librar">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-updates-to-ietf-yang-librar" class="section-name selfRef">Updates to ietf-yang-library</a>
      </h2>
<p id="section-5-1">This document updates YANG 1.1 <span>[<a href="#RFC7950" class="xref">RFC7950</a>]</span> and YANG library <span>[<a href="#RFC8525" class="xref">RFC8525</a>]</span> to clarify how ambiguous
    module imports are resolved.  It also defines the YANG module, ietf-yang-library-revisions, that augments YANG library <span>[<a href="#RFC8525" class="xref">RFC8525</a>]</span> with
    revision labels and two leafs to indicate how a server implements deprecated and obsolete schema nodes.<a href="#section-5-1" class="pilcrow">¶</a></p>
<div id="resolving_ambiguous_imports">
<section id="section-5.1">
        <h3 id="name-resolving-ambiguous-module-">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-resolving-ambiguous-module-" class="section-name selfRef">Resolving ambiguous module imports</a>
        </h3>
<p id="section-5.1-1">A YANG datastore schema, defined in <span>[<a href="#RFC8525" class="xref">RFC8525</a>]</span>, can specify multiple revisions of a YANG module
      in the schema using the "import-only" list, with the requirement from <span>[<a href="#RFC7950" class="xref">RFC7950</a>]</span> section 5.6.5 that only a single
      revision of a YANG module may be implemented.<a href="#section-5.1-1" class="pilcrow">¶</a></p>
<p id="section-5.1-2">If a YANG module import statement does not specify a specific revision within the datastore schema then it
      could be ambiguous as to which module revision the import statement should resolve to.  Hence, a datastore schema
      constructed by a client using the information contained in YANG library may not exactly match the datastore schema
      actually used by the server.<a href="#section-5.1-2" class="pilcrow">¶</a></p>
<p id="section-5.1-3">The following two rules remove the ambiguity:<a href="#section-5.1-3" class="pilcrow">¶</a></p>
<p id="section-5.1-4">If a module import statement could resolve to more than one module revision defined in the datastore schema,
      and one of those revisions is implemented (i.e., not an "import-only" module), then the import statement MUST
      resolve to the revision of the module that is defined as being implemented by the datastore schema.<a href="#section-5.1-4" class="pilcrow">¶</a></p>
<p id="section-5.1-5">If a module import statement could resolve to more than one module revision defined in the datastore schema,
      and none of those revisions are implemented, then the import MUST resolve to the module revision with the latest
      revision date.<a href="#section-5.1-5" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-5.2">
        <h3 id="name-yang-library-versioning-aug">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-yang-library-versioning-aug" class="section-name selfRef">YANG library versioning augmentations</a>
        </h3>
<p id="section-5.2-1"></p>
<p id="section-5.2-2" class="keepWithNext">The "ietf-yang-library-revisions" YANG module has the following
            structure (using the notation defined in <span>[<a href="#RFC8340" class="xref">RFC8340</a>]</span>):<a href="#section-5.2-2" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.2-3">
<pre>

module: ietf-yang-library-revisions
  augment /yanglib:yang-library/yanglib:module-set/yanglib:module:
    +--ro revision-label?   rev:revision-label
  augment /yanglib:yang-library/yanglib:module-set/yanglib:module
            /yanglib:submodule:
    +--ro revision-label?   rev:revision-label
  augment /yanglib:yang-library/yanglib:module-set
            /yanglib:import-only-module/yanglib:submodule:
    +--ro revision-label?   rev:revision-label
  augment /yanglib:yang-library/yanglib:schema:
    +--ro deprecated-nodes-implemented?   boolean
    +--ro obsolete-nodes-absent?          boolean

</pre><a href="#section-5.2-3" class="pilcrow">¶</a>
</div>
<section id="section-5.2.1">
          <h4 id="name-advertising-revision-label">
<a href="#section-5.2.1" class="section-number selfRef">5.2.1. </a><a href="#name-advertising-revision-label" class="section-name selfRef">Advertising revision-label</a>
          </h4>
<p id="section-5.2.1-1">The ietf-yang-library-revisions YANG module augments the "module" and "submodule" lists in ietf-yang-library with "revision-label"
        leafs to optionally declare the revision label associated with each module and submodule.<a href="#section-5.2.1-1" class="pilcrow">¶</a></p>
</section>
<section id="section-5.2.2">
          <h4 id="name-reporting-how-deprecated-an">
<a href="#section-5.2.2" class="section-number selfRef">5.2.2. </a><a href="#name-reporting-how-deprecated-an" class="section-name selfRef">Reporting how deprecated and obsolete nodes are handled</a>
          </h4>
<p id="section-5.2.2-1">The ietf-yang-library-revisions YANG module augments YANG library with two boolean leafs to allow a server to report how it
        implements status "deprecated" and status "obsolete" schema nodes.  The leafs are:<a href="#section-5.2.2-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-5.2.2-2">
            <dt id="section-5.2.2-2.1">deprecated-nodes-implemented:</dt>
            <dd style="margin-left: 1.5em" id="section-5.2.2-2.2">If set to "true", this leaf indicates that all schema nodes with a
            status "deprecated" are implemented equivalently as if they had status "current";
            otherwise deviations MUST be used to explicitly remove "deprecated" nodes from the schema.  If this leaf is
            set to "false" or absent, then the behavior is unspecified.<a href="#section-5.2.2-2.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-5.2.2-2.3">obsolete-nodes-absent:</dt>
            <dd style="margin-left: 1.5em" id="section-5.2.2-2.4">If set to "true", this leaf indicates that the server does not implement any
            status "obsolete" schema nodes.  If this leaf is set to "false" or absent, then the behaviour is unspecified.<a href="#section-5.2.2-2.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-5.2.2-3">Servers SHOULD set both the "deprecated-nodes-implemented" and "obsolete-nodes-absent" leafs to "true".<a href="#section-5.2.2-3" class="pilcrow">¶</a></p>
<p id="section-5.2.2-4">If a server does not set the "deprecated-nodes-implemented" leaf to "true", then clients MUST NOT rely solely on the
 "rev:non-backwards-compatible" statements to determine whether two module revisions are backwards-compatible, and MUST also
 consider whether the status of any nodes has changed to "deprecated" and whether those nodes are implemented by
 the server.<a href="#section-5.2.2-4" class="pilcrow">¶</a></p>
</section>
</section>
</section>
</div>
<section id="section-6">
      <h2 id="name-versioning-of-yang-instance">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-versioning-of-yang-instance" class="section-name selfRef">Versioning of YANG instance data</a>
      </h2>
<p id="section-6-1">Instance data sets <span>[<a href="#I-D.ietf-netmod-yang-instance-file-format" class="xref">I-D.ietf-netmod-yang-instance-file-format</a>]</span> do not directly make use of the
  updated revision handling rules described in this document, as compatibility for instance data is undefined.<a href="#section-6-1" class="pilcrow">¶</a></p>
<p id="section-6-2">However, instance data specifies the content-schema of the data-set. This schema SHOULD make use of versioning
  using revision dates and/or revision labels for the individual YANG modules that comprise the schema or
  potentially for the entire schema itself (e.g., <span>[<a href="#I-D.ietf-netmod-yang-packages" class="xref">I-D.ietf-netmod-yang-packages</a>]</span>).<a href="#section-6-2" class="pilcrow">¶</a></p>
<p id="section-6-3">In this way, the versioning of a content-schema associated with an instance data set may help a client to
  determine whether the instance data could also be used in conjunction with other revisions of the YANG schema, or
  other revisions of the modules that define the schema.<a href="#section-6-3" class="pilcrow">¶</a></p>
</section>
<div id="guidelines">
<section id="section-7">
      <h2 id="name-guidelines-for-using-the-ya">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-guidelines-for-using-the-ya" class="section-name selfRef">Guidelines for using the YANG module update rules</a>
      </h2>
<p id="section-7-1">The following text updates section 4.7 of <span>[<a href="#RFC8407" class="xref">RFC8407</a>]</span> to revise the guidelines for updating YANG modules.<a href="#section-7-1" class="pilcrow">¶</a></p>
<div id="guidelines_authors">
<section id="section-7.1">
        <h3 id="name-guidelines-for-yang-module-">
<a href="#section-7.1" class="section-number selfRef">7.1. </a><a href="#name-guidelines-for-yang-module-" class="section-name selfRef">Guidelines for YANG module authors</a>
        </h3>
<p id="section-7.1-1">All IETF YANG modules MUST include revision-label statements for all newly published YANG modules, and all newly published revisions of existing YANG modules.  The revision-label MUST take the form of a YANG semantic version number <span>[<a href="#I-D.ietf-netmod-yang-semver" class="xref">I-D.ietf-netmod-yang-semver</a>]</span>.<a href="#section-7.1-1" class="pilcrow">¶</a></p>
<p id="section-7.1-2">NBC changes to YANG modules may cause problems to clients, who are consumers of YANG models, and hence YANG module authors SHOULD minimize NBC changes and keep changes BC whenever possible.<a href="#section-7.1-2" class="pilcrow">¶</a></p>
<p id="section-7.1-3">When NBC changes are introduced, consideration should be given to the impact on clients and YANG module authors SHOULD 
      try to mitigate that impact.<a href="#section-7.1-3" class="pilcrow">¶</a></p>
<p id="section-7.1-4">A "rev:non-backwards-compatible" statement MUST be added if there are NBC changes relative to the previous revision.<a href="#section-7.1-4" class="pilcrow">¶</a></p>
<p id="section-7.1-5">Removing old revision statements from a module's revision history could break import by revision, and hence it is RECOMMENDED to retain them.
         If all dependencies have been updated to not import specific revisions of a module, then the corresponding revision statements can be removed from that module.
         An alternative solution, if the revision section is too long, would be to remove, or curtail, the older description statements associated with the previous revisions.<a href="#section-7.1-5" class="pilcrow">¶</a></p>
<p id="section-7.1-6">The "rev:revision-or-derived" extension SHOULD be used in YANG module imports to indicate revision dependencies
      between modules in preference to the "revision-date" statement, which causes overly strict import dependencies and
      SHOULD NOT be used.<a href="#section-7.1-6" class="pilcrow">¶</a></p>
<p id="section-7.1-7">A module that includes submodules SHOULD use the "revision-date" statement to include specific submodule
      revisions.  The revision of the including module MUST be updated when any included submodule has changed.<a href="#section-7.1-7" class="pilcrow">¶</a></p>
<p id="section-7.1-8">In some cases a module or submodule revision that is not strictly NBC by the definition in <a href="#nbc_update_rules" class="xref">Section 3.1.2</a> of this specification may include the "non-backwards-compatible" statement. Here is an example when adding the statement may be desirable:<a href="#section-7.1-8" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.1-9.1">A "config false" leaf had its value space expanded (for example, a range was increased, or additional enum values were added) and the author or server implementor feels there is a significant compatibility impact for clients and users of the module or submodule<a href="#section-7.1-9.1" class="pilcrow">¶</a>
</li>
        </ul>
<div id="guidelines_making_changes">
<section id="section-7.1.1">
          <h4 id="name-making-non-backwards-compat">
<a href="#section-7.1.1" class="section-number selfRef">7.1.1. </a><a href="#name-making-non-backwards-compat" class="section-name selfRef">Making non-backwards-compatible changes to a YANG module</a>
          </h4>
<p id="section-7.1.1-1">There are various valid situations where a YANG module has to be modified in an NBC
       way. Here are the different ways in which this can be done:<a href="#section-7.1.1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.1.1-2.1">NBC changes can be sometimes be done incrementally using the "deprecated" status to provide clients time to adapt to NBC changes.<a href="#section-7.1.1-2.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-7.1.1-2.2">NBC changes are done at once, i.e. without using "status" statements. Depending on the change, this may have a big impact on clients.<a href="#section-7.1.1-2.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-7.1.1-2.3">If the server can support multiple revisions of the YANG module or of YANG packages (as specified in <span>[<a href="#I-D.ietf-netmod-yang-packages" class="xref">I-D.ietf-netmod-yang-packages</a>]</span>), and allows the client to select the revision (as per <span>[<a href="#I-D.ietf-netmod-yang-ver-selection" class="xref">I-D.ietf-netmod-yang-ver-selection</a>]</span>), then NBC changes MAY be done without using "status" statements. Clients would be required to select the revision which they support and the NBC change would have no impact on them.<a href="#section-7.1.1-2.3" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-7.1.1-3">Here are some guidelines on how non-backwards-compatible changes can be made incrementally, with the assumption that deprecated nodes are implemented by the server, and obsolete nodes are not:<a href="#section-7.1.1-3" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-7.1.1-4">
<li id="section-7.1.1-4.1">The changes should be made gradually, e.g., a data node's status SHOULD NOT be changed directly from
             "current" to "obsolete" (see Section 4.7 of <span>[<a href="#RFC8407" class="xref">RFC8407</a>]</span>), instead the status SHOULD first be
             marked "deprecated". At some point in the future, when support is removed for the data node, there are two options. The first, and preferred, option is to keep the data node definition in the model and change the status to "obsolete". The second option is to simply remove the data node from the model, but this has the risk of breaking
             modules which import the modified module, and the removed identifier may be accidently reused in a future revision.<a href="#section-7.1.1-4.1" class="pilcrow">¶</a>
</li>
            <li id="section-7.1.1-4.2">For deprecated data nodes the "description" statement SHOULD also indicate until when support for the node
             is guaranteed (if known). If there is a replacement data node, rpc, action or notification for the deprecated node,
             this SHOULD be stated in the "description". The reason for deprecating the node can also be included in the
             "description" if it is deemed to be of potential interest to the user.<a href="#section-7.1.1-4.2" class="pilcrow">¶</a>
</li>
            <li id="section-7.1.1-4.3">For obsolete data nodes, it is RECOMMENDED to keep the above information, from when the node had status "deprecated", which is still relevant.<a href="#section-7.1.1-4.3" class="pilcrow">¶</a>
</li>
            <li id="section-7.1.1-4.4">When obsoleting or deprecating data nodes, the "deprecated" or "obsolete" status SHOULD be applied at
             the highest possible level in the data tree. For clarity, the "status" statement SHOULD also be applied to all
             descendent data nodes, but the additional status related information does not need to be repeated if it does not introduce any additional information.<a href="#section-7.1.1-4.4" class="pilcrow">¶</a>
</li>
            <li id="section-7.1.1-4.5">NBC changes which can break imports SHOULD be avoided because of the impact on the importing 
             module. The importing modules could get broken, e.g., if an augmented node in the importing module has been removed
             from the imported module. Alternatively, the schema of the importing modules could undergo an NBC change due to the NBC change in the
             imported module, e.g., if a node in a grouping has been removed. As described in <a href="#remove_node" class="xref">Appendix B.1</a>, instead of removing a node, 
             that node  SHOULD first be deprecated and then obsoleted.<a href="#section-7.1.1-4.5" class="pilcrow">¶</a>
</li>
          </ol>
<p id="section-7.1.1-5">See <a href="#example_guidelines" class="xref">Appendix B</a> for examples on how NBC changes can be made.<a href="#section-7.1.1-5" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="guidelines_clients">
<section id="section-7.2">
        <h3 id="name-versioning-considerations-f">
<a href="#section-7.2" class="section-number selfRef">7.2. </a><a href="#name-versioning-considerations-f" class="section-name selfRef">Versioning Considerations for Clients</a>
        </h3>
<p id="section-7.2-1">Guidelines for clients of modules using the new module revision update procedure:<a href="#section-7.2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.2-2.1">Clients SHOULD be liberal when processing data received from a server. For example, the server may have
            increased the range of an operational node causing the client to receive a value which is outside the range
            of the YANG model revision it was coded against.<a href="#section-7.2-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-7.2-2.2">Clients SHOULD monitor changes to published YANG modules through their revision history, and use
            appropriate tooling to understand the specific changes between module revision.  In particular, clients
            SHOULD NOT migrate to NBC revisions of a module without understanding any potential impact of the specific NBC changes.<a href="#section-7.2-2.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-7.2-2.3">Clients SHOULD plan to make changes to match published status changes. When a node's status changes from
            "current" to "deprecated", clients SHOULD plan to stop using that node in a timely fashion.  When a node's
            status changes to "obsolete", clients MUST stop using that node.<a href="#section-7.2-2.3" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
</section>
</div>
<div id="yang_modules">
<section id="section-8">
      <h2 id="name-module-versioning-extension">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-module-versioning-extension" class="section-name selfRef">Module Versioning Extension YANG Modules</a>
      </h2>
<p id="section-8-1" class="keepWithNext"> YANG module with extension statements for annotating NBC changes, revision label, revision label scheme,
      and importing by revision.<a href="#section-8-1" class="pilcrow">¶</a></p>
<div id="section-8-2">
<pre class="sourcecode">&lt;CODE BEGINS&gt; file "ietf-yang-revisions@2021-11-04.yang"

module ietf-yang-revisions {
  yang-version 1.1;
  namespace "urn:ietf:params:xml:ns:yang:ietf-yang-revisions";
  prefix rev;

  // RFC Ed.: We need the bis version to get the new type revision-identifier
  // If 6991-bis is not yet an RFC we need to copy the definition here
  import ietf-yang-types {
    prefix yang;
    reference
      "XXXX [ietf-netmod-rfc6991-bis]: Common YANG Data Types";
  }

  organization
    "IETF NETMOD (Network Modeling) Working Group";
  contact
    "WG Web:   &lt;https://datatracker.ietf.org/wg/netmod/&gt;
    WG List:  &lt;mailto:netmod@ietf.org&gt;

    Author:   Joe Clarke
              &lt;mailto:jclarke@cisco.com&gt;

    Author:   Reshad Rahman
              &lt;mailto:reshad@yahoo.com&gt;

    Author:   Robert Wilton
              &lt;mailto:rwilton@cisco.com&gt;

    Author:   Balazs Lengyel
              &lt;mailto:balazs.lengyel@ericsson.com&gt;

    Author:   Jason Sterne
              &lt;mailto:jason.sterne@nokia.com&gt;";
  description
    "This YANG 1.1 module contains definitions and extensions to
    support updated YANG revision handling.

    Copyright (c) 2021 IETF Trust and the persons identified as
    authors of the code.  All rights reserved.

    Redistribution and use in source and binary forms, with or
    without modification, is permitted pursuant to, and subject
    to the license terms contained in, the Simplified BSD License
    set forth in Section 4.c of the IETF Trust's Legal Provisions
    Relating to IETF Documents
    (http://trustee.ietf.org/license-info).

    This version of this YANG module is part of RFC XXXX; see
    the RFC itself for full legal notices.

    The key words 'MUST', 'MUST NOT', 'REQUIRED', 'SHALL', 'SHALL
    NOT', 'SHOULD', 'SHOULD NOT', 'RECOMMENDED', 'NOT RECOMMENDED',
    'MAY', and 'OPTIONAL' in this document are to be interpreted as
    described in BCP 14 (RFC 2119) (RFC 8174) when, and only when,
    they appear in all capitals, as shown here.";

  // RFC Ed.: update the date below with the date of RFC publication
  // and remove this note.
  // RFC Ed.: replace XXXX (inc above) with actual RFC number and
  // remove this note.

  revision 2021-11-04 {
    rev:revision-label 1.0.0-draft-ietf-netmod-yang-module-versioning-05;
    description
      "Initial version.";
    reference
      "XXXX: Updated YANG Module Revision Handling";
  }

  typedef revision-label {
    type string {
      length "1..255";
      pattern '[a-zA-Z0-9,\-_.+]+';
      pattern '\d{4}-\d{2}-\d{2}' {
        modifier invert-match;
      }
    }
    description
      "A label associated with a YANG revision.

      Alphanumeric characters, comma, hyphen, underscore, period
      and plus are the only accepted characters. MUST NOT match
      revision-date.";
    reference
      "XXXX: Updated YANG Module Revision Handling;
      Section 3.3, Revision label";
  }

  typedef revision-date-or-label {
    type union {
      type yang:revision-identifier;
      type revision-label;
    }
    description
      "Represents either a YANG revision date or a revision label";
  }

  extension non-backwards-compatible {
    description
      "This statement is used to indicate YANG module revisions that
      contain non-backwards-compatible changes.

      The statement MUST only be a substatement of the 'revision'
      statement.  Zero or one 'non-backwards-compatible' statements
      per parent statement is allowed.  No substatements for this
      extension have been standardized.

      If a revision of a YANG module contains changes, relative to
      the preceding revision in the revision history, that do not
      conform to the backwards compatible module update rules defined
      in RFC-XXX, then the 'non-backwards-compatible' statement MUST
      be added as a substatement to the revision statement.

      Conversely, if a revision does not contain a
      'non-backwards-compatible' statement then all changes,
      relative to the preceding revision in the revision history,
      MUST be backwards-compatible.

      A new module revision that only contains changes that are
      backwards compatible SHOULD NOT include the
      'non-backwards-compatible' statement.  An example of when
      an author might add the 'non-backwards-compatible' statement
      is if they believe a change could negatively impact clients
      even though the backwards compatibility rules defined in
      RFC-XXXX classify it as a backwards-compatible change.

      Add, removing, or changing a 'non-backwards-compatible'
      statement is a backwards-compatible version change.";

    reference
      "XXXX: Updated YANG Module Revision Handling;
      Section 3.2, non-backwards-compatible revision extension statement";
  }

  extension revision-label {
    argument revision-label;
    description
      "The revision label can be used to provide an additional
      versioning identifier associated with a module or submodule
      revision.  One such scheme that
      could be used is [XXXX: ietf-netmod-yang-semver].

      The format of the revision-label argument MUST conform to the
      pattern defined for the revision-label typedef in this module.

      The statement MUST only be a substatement of the revision
      statement.  Zero or one revision-label statements per parent
      statement are allowed.  No substatements for this extension
      have been standardized.

      Revision labels MUST be unique amongst all revisions of a
      module or submodule.

      Adding a revision label is a backwards-compatible version
      change.  Changing or removing an existing revision label in
      the revision history is a non-backwards-compatible version
      change, because it could impact any references to that
      revision label.";

    reference
      "XXXX: Updated YANG Module Revision Handling;
      Section 3.3, Revision label";
  }

  extension revision-label-scheme {
    argument revision-label-scheme-base;
    description
      "The revision label scheme specifies which revision-label scheme
      the module or submodule uses.

      The mandatory revision-label-scheme-base argument MUST be an
      identity derived from revision-label-scheme-base.

      This extension is only valid as a top-level statement, i.e.,
      given as as a substatement to 'module' or 'submodule'.  No
      substatements for this extension have been standardized.

      This extension MUST be used if there is a revision-label
      statement in the module or submodule.

      Adding a revision label scheme is a backwards-compatible version
      change.  Changing a revision label scheme is a
      non-backwards-compatible version change, unless the new revision
      label scheme is backwards-compatible with the replaced revision
      label scheme.  Removing a revision label scheme is a
      non-backwards-compatible version change.";

    reference
      "XXXX: Updated YANG Module Revision Handling;
      Section 3.3.1, Revision label scheme extension statement";
  }

  extension revision-or-derived {
    argument revision-date-or-label;
    description
      "Restricts the revision of the module that may be imported to
      one that matches or is derived from the specified
      revision-date or revision-label.

      The argument value MUST conform to the
      'revision-date-or-label' defined type.

      The statement MUST only be a substatement of the import
      statement.  Zero, one or more 'revision-or-derived' statements
      per parent statement are allowed.  No substatements for this
      extension have been standardized.

      If specified multiple times, then any module revision that
      satisfies at least one of the 'revision-or-derived' statements
      is an acceptable revision for import.

      An 'import' statement MUST NOT contain both a
      'revision-or-derived' extension statement and a
      'revision-date' statement.

      A particular revision of an imported module satisfies an
      import's 'revision-or-derived' extension statement if the
      imported module's revision history contains a revision
      statement with a matching revision date or revision label.

      The 'revision-or-derived' extension statement does not
      guarantee that all module revisions that satisfy an import
      statement are necessarily compatible, it only gives an
      indication that the revisions are more likely to be
      compatible.

      Adding, removing or updating a 'revision-or-derived'
      statement to an import is a backwards-compatible change.
      ";

    reference
      "XXXX: Updated YANG Module Revision Handling;
      Section 4, Import by derived revision";
  }

  identity revision-label-scheme-base {
    description
      "Base identity from which all revision label schemes are
      derived.";

      reference
        "XXXX: Updated YANG Module Revision Handling;
        Section 3.3.1, Revision label scheme extension statement";

  }
}

&lt;CODE ENDS&gt;</pre><a href="#section-8-2" class="pilcrow">¶</a>
</div>
<p id="section-8-3" class="keepWithNext">YANG module with augmentations to YANG Library to revision labels<a href="#section-8-3" class="pilcrow">¶</a></p>
<div id="section-8-4">
<pre class="sourcecode">&lt;CODE BEGINS&gt; file "ietf-yang-library-revisions@2021-11-04.yang"

module ietf-yang-library-revisions {
  yang-version 1.1;
  namespace
    "urn:ietf:params:xml:ns:yang:ietf-yang-library-revisions";
  prefix yl-rev;

  import ietf-yang-revisions {
    prefix rev;
    reference
      "XXXX: Updated YANG Module Revision Handling";
  }

  import ietf-yang-library {
    prefix yanglib;
    reference "RFC 8525: YANG Library";
  }

  organization
    "IETF NETMOD (Network Modeling) Working Group";
  contact
    "WG Web:   &lt;https://datatracker.ietf.org/wg/netmod/&gt;
     WG List:  &lt;mailto:netmod@ietf.org&gt;

     Author:   Joe Clarke
               &lt;mailto:jclarke@cisco.com&gt;

     Author:   Reshad Rahman
               &lt;mailto:reshad@yahoo.com&gt;

     Author:   Robert Wilton
               &lt;mailto:rwilton@cisco.com&gt;

     Author:   Balazs Lengyel
               &lt;mailto:balazs.lengyel@ericsson.com&gt;

     Author:   Jason Sterne
               &lt;mailto:jason.sterne@nokia.com&gt;";
  description
    "This module contains augmentations to YANG Library to add module
     level revision label and to provide an indication of how
     deprecated and obsolete nodes are handled by the server.

     Copyright (c) 2021 IETF Trust and the persons identified as
     authors of the code.  All rights reserved.

     Redistribution and use in source and binary forms, with or
     without modification, is permitted pursuant to, and subject
     to the license terms contained in, the Simplified BSD License
     set forth in Section 4.c of the IETF Trust's Legal Provisions
     Relating to IETF Documents
     (http://trustee.ietf.org/license-info).

     This version of this YANG module is part of RFC XXXX; see
     the RFC itself for full legal notices.

     The key words 'MUST', 'MUST NOT', 'REQUIRED', 'SHALL', 'SHALL
     NOT', 'SHOULD', 'SHOULD NOT', 'RECOMMENDED', 'NOT RECOMMENDED',
     'MAY', and 'OPTIONAL' in this document are to be interpreted as
     described in BCP 14 (RFC 2119) (RFC 8174) when, and only when,
     they appear in all capitals, as shown here.";

  // RFC Ed.: update the date below with the date of RFC publication
  // and remove this note.
  // RFC Ed.: replace XXXX (including in the imports above) with
  // actual RFC number and remove this note.
  // RFC Ed.: please replace revision-label version with 1.0.0 and
  // remove this note.
  revision 2021-11-04 {
    rev:revision-label 1.0.0-draft-ietf-netmod-yang-module-versioning-05;
    description
      "Initial revision";
    reference
      "XXXX: Updated YANG Module Revision Handling";
  }

  // library 1.0 modules-state is not augmented with revision-label

  augment "/yanglib:yang-library/yanglib:module-set/yanglib:module" {
    description
      "Add a revision label to module information";
    leaf revision-label {
      type rev:revision-label;
      description
        "The revision label associated with this module revision.
         The label MUST match the rev:revision-label value in the specific
         revision of the module loaded in this module-set.";

      reference
        "XXXX: Updated YANG Module Revision Handling;
         Section 5.2.1, Advertising revision-label";
    }
  }

  augment "/yanglib:yang-library/yanglib:module-set/yanglib:module/"
          + "yanglib:submodule" {
    description
      "Add a revision label to submodule information";
    leaf revision-label {
      type rev:revision-label;
      description
        "The revision label associated with this submodule revision.
         The label MUST match the rev:revision-label value in the specific
         revision of the submodule included by the module loaded in
         this module-set.";

      reference
        "XXXX: Updated YANG Module Revision Handling;
         Section 5.2.1, Advertising revision-label";
    }
  }

  augment "/yanglib:yang-library/yanglib:module-set/"
          + "yanglib:import-only-module" {
    description
      "Add a revision label to module information";
    leaf revision-label {
      type rev:revision-label;
      description
        "The revision label associated with this module revision.
         The label MUST match the rev:revision-label value in the specific
         revision of the module included in this module-set.";

      reference
        "XXXX: Updated YANG Module Revision Handling;
         Section 5.2.1, Advertising revision-label";
    }
  }

  augment "/yanglib:yang-library/yanglib:module-set/"
          + "yanglib:import-only-module/yanglib:submodule" {
    description
      "Add a revision label to submodule information";
    leaf revision-label {
      type rev:revision-label;
      description
        "The revision label associated with this submodule revision.
         The label MUST match the rev:label value in the specific
         revision of the submodule included by the
         import-only-module loaded in this module-set.";

      reference
        "XXXX: Updated YANG Module Revision Handling;
         Section 5.2.1, Advertising revision-label";
    }
  }

  augment "/yanglib:yang-library/yanglib:schema" {
    description
      "Augmentations to the ietf-yang-library module to indicate how
       deprecated and obsoleted nodes are handled for each datastore
       schema supported by the server.";

    leaf deprecated-nodes-implemented {
      type boolean;
      description
        "If set to true, this leaf indicates that all schema nodes with
         a status 'deprecated' are implemented
         equivalently as if they had status 'current'; otherwise
         deviations MUST be used to explicitly remove deprecated
         nodes from the schema.  If this leaf is absent or set to false,
         then the behavior is unspecified.";

      reference
        "XXXX: Updated YANG Module Revision Handling;
         Section 5.2.2, Reporting how deprecated and obsolete nodes
         are handled";
    }

    leaf obsolete-nodes-absent {
      type boolean;
      description
        "If set to true, this leaf indicates that the server does not
         implement any status 'obsolete' schema nodes.  If this leaf is
         absent or set to false, then the behaviour is unspecified.";

      reference
        "XXXX: Updated YANG Module Revision Handling;
         Section 5.2.2, Reporting how deprecated and obsolete nodes
         are handled";
    }
  }
}

&lt;CODE ENDS&gt;</pre><a href="#section-8-4" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="contributor">
<section id="section-9">
      <h2 id="name-contributors">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-contributors" class="section-name selfRef">Contributors</a>
      </h2>
<p id="section-9-1">This document grew out of the YANG module versioning design team that started after IETF 101.  The following
  individuals are (or have been) members of the design team and have worked on the YANG versioning project:<a href="#section-9-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-9-2.1">Balazs Lengyel<a href="#section-9-2.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-9-2.2">Benoit Claise<a href="#section-9-2.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-9-2.3">Bo Wu<a href="#section-9-2.3" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-9-2.4">Ebben Aries<a href="#section-9-2.4" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-9-2.5">Jan Lindblad<a href="#section-9-2.5" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-9-2.6">Jason Sterne<a href="#section-9-2.6" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-9-2.7">Joe Clarke<a href="#section-9-2.7" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-9-2.8">Juergen Schoenwaelder<a href="#section-9-2.8" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-9-2.9">Mahesh Jethanandani<a href="#section-9-2.9" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-9-2.10">Michael (Wangzitao)<a href="#section-9-2.10" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-9-2.11">Qin Wu<a href="#section-9-2.11" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-9-2.12">Reshad Rahman<a href="#section-9-2.12" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-9-2.13">Rob Wilton<a href="#section-9-2.13" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-9-3">The initial revision of this document was refactored and built
   upon <span>[<a href="#I-D.clacla-netmod-yang-model-update" class="xref">I-D.clacla-netmod-yang-model-update</a>]</span>. We would 
   like to thank Kevin D'Souza and Benoit Claise for their initial work in this problem space.<a href="#section-9-3" class="pilcrow">¶</a></p>
<p id="section-9-4">Discussons on the use of Semver for YANG versioning has been held
   with authors of the OpenConfig YANG models.  We would like to thank both
   Anees Shaikh and Rob Shakir for their input into this problem
   space.<a href="#section-9-4" class="pilcrow">¶</a></p>
<p id="section-9-5">We would also like to thank Lou Berger, Andy Bierman, Martin Bjorklund,
   Italo Busi, Tom Hill, Scott Mansfield, Kent Watsen for their contributions
   and review comments.<a href="#section-9-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="security">
<section id="section-10">
      <h2 id="name-security-considerations">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-10-1">The document does not define any new protocol or data model.  There
  are no security considerations beyond those specified in <span>[<a href="#RFC7950" class="xref">RFC7950</a>]</span>
  and <span>[<a href="#RFC6020" class="xref">RFC6020</a>]</span>.<a href="#section-10-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="iana">
<section id="section-11">
      <h2 id="name-iana-considerations">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<div id="yang-module-registrations">
<section id="section-11.1">
        <h3 id="name-yang-module-registrations">
<a href="#section-11.1" class="section-number selfRef">11.1. </a><a href="#name-yang-module-registrations" class="section-name selfRef">YANG Module Registrations</a>
        </h3>
<p id="section-11.1-1">This document requests IANA to registers a URI in the "IETF XML
      Registry" 
      <span>[<a href="#RFC3688" class="xref">RFC3688</a>]</span>. Following the format in RFC 3688,
      the following registrations are requested.<a href="#section-11.1-1" class="pilcrow">¶</a></p>
<ul class="compact ulEmpty">
<li class="compact ulEmpty" id="section-11.1-2.1">URI: urn:ietf:params:xml:ns:yang:ietf-yang-revisions<a href="#section-11.1-2.1" class="pilcrow">¶</a>
</li>
          <li class="compact ulEmpty" id="section-11.1-2.2">Registrant Contact: The IESG.<a href="#section-11.1-2.2" class="pilcrow">¶</a>
</li>
          <li class="compact ulEmpty" id="section-11.1-2.3">XML: N/A, the requested URI is an XML namespace.<a href="#section-11.1-2.3" class="pilcrow">¶</a>
</li>
        </ul>
<ul class="compact ulEmpty">
<li class="compact ulEmpty" id="section-11.1-3.1">URI: urn:ietf:params:xml:ns:yang:ietf-yang-library-revisions<a href="#section-11.1-3.1" class="pilcrow">¶</a>
</li>
          <li class="compact ulEmpty" id="section-11.1-3.2">Registrant Contact: The IESG.<a href="#section-11.1-3.2" class="pilcrow">¶</a>
</li>
          <li class="compact ulEmpty" id="section-11.1-3.3">XML: N/A, the requested URI is an XML namespace.<a href="#section-11.1-3.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-11.1-4">The following YANG module is requested to be registred in the "IANA
  Module Names" <span>[<a href="#RFC6020" class="xref">RFC6020</a>]</span>.  Following the format in RFC 6020,
  the following registrations are requested:<a href="#section-11.1-4" class="pilcrow">¶</a></p>
<p id="section-11.1-5">The ietf-yang-revisions module:<a href="#section-11.1-5" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-11.1-6.1">Name: ietf-yang-revisions<a href="#section-11.1-6.1" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-11.1-6.2">XML Namespace: urn:ietf:params:xml:ns:yang:ietf-yang-revisions<a href="#section-11.1-6.2" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-11.1-6.3">Prefix: rev<a href="#section-11.1-6.3" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-11.1-6.4">Reference: [RFCXXXX]<a href="#section-11.1-6.4" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-11.1-7">The ietf-yang-library-revisions module:<a href="#section-11.1-7" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-11.1-8.1">Name: ietf-yang-library-revisions<a href="#section-11.1-8.1" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-11.1-8.2">XML Namespace: urn:ietf:params:xml:ns:yang:ietf-yang-library-revisions<a href="#section-11.1-8.2" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-11.1-8.3">Prefix: yl-rev<a href="#section-11.1-8.3" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-11.1-8.4">Reference: [RFCXXXX]<a href="#section-11.1-8.4" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
<section id="section-11.2">
        <h3 id="name-guidance-for-versioning-in-">
<a href="#section-11.2" class="section-number selfRef">11.2. </a><a href="#name-guidance-for-versioning-in-" class="section-name selfRef">Guidance for versioning in IANA maintained YANG modules</a>
        </h3>
<p id="section-11.2-1">Note for IANA (to be removed by the RFC editor): Please check that the
    registries and IANA YANG modules are referenced in the appropriate way.<a href="#section-11.2-1" class="pilcrow">¶</a></p>
<p id="section-11.2-2">IANA is responsible for maintaining and versioning YANG modules that are
    derived from other IANA registries. For example, <span><a href="#IfTypeYang" class="xref">"iana-if-type.yang"</a> [<a href="#IfTypeYang" class="xref">IfTypeYang</a>]</span> is derived from the <span><a href="#IfTypesReg" class="xref">"Interface Types (ifType) IANA registry"</a> [<a href="#IfTypesReg" class="xref">IfTypesReg</a>]</span>, and <span><a href="#RoutingTypesYang" class="xref">"iana-routing-types.yang"</a> [<a href="#RoutingTypesYang" class="xref">RoutingTypesYang</a>]</span> is derived from
    the <span><a href="#AddrFamilyReg" class="xref">"Address Family Numbers"</a> [<a href="#AddrFamilyReg" class="xref">AddrFamilyReg</a>]</span> and <span><a href="#SAFIReg" class="xref">"Subsequent Address Family Identifiers (SAFI)
    Parameters"</a> [<a href="#SAFIReg" class="xref">SAFIReg</a>]</span> IANA registries.<a href="#section-11.2-2" class="pilcrow">¶</a></p>
<p id="section-11.2-3">Normally, updates to the registries cause any derived YANG modules to be
    updated in a backwards-compatible way, but there are some cases where the
    registry updates can cause non-backward-compatible updates to the derived
    YANG module.  An example of such an update is the 2020-12-31 revision of
    iana-routing-types.yang <span>[<a href="#RoutingTypesDecRevision" class="xref">RoutingTypesDecRevision</a>]</span>, where the
    enum name for two SAFI values was changed.<a href="#section-11.2-3" class="pilcrow">¶</a></p>
<p id="section-11.2-4">In all cases, IANA MUST follow the versioning guidance specified in <a href="#update_rules" class="xref">Section 3.1</a>, and MUST include a "rev:non-backwards-compatible" substatement
    to the latest revision statement whenever an IANA maintained module is
    updated in a non-backwards-compatible way, as described in <a href="#nbc_marker" class="xref">Section 3.2</a>.<a href="#section-11.2-4" class="pilcrow">¶</a></p>
<p id="section-11.2-5">Note: For published IANA maintained YANG modules that contain
    non-backwards-compatible changes between revisions, a new revision should be
    published with the "rev:non-backwards-compatible" substatement retrospectively added to
    any revisions containing non-backwards-compatible changes.<a href="#section-11.2-5" class="pilcrow">¶</a></p>
<p id="section-11.2-6">Non-normative examples of updates to enumeration types in IANA maintained
    modules that would be classified as non-backwards-compatible changes are:
    Changing the status of an enumeration typedef to obsolete, changing the
    status of an enum entry to obsolete, removing an enum entry, changing the
    identifier of an enum entry, or changing the described meaning of an enum
    entry.<a href="#section-11.2-6" class="pilcrow">¶</a></p>
<p id="section-11.2-7">Non-normative examples of updates to enumeration types in IANA maintained
    modules that would be classified as backwards-compatible changes are: Adding
    a new enum entry to the end of the enumeration, changing the status or an
    enum entry to deprecated, or improving the description of an enumeration that
    does not change its defined meaning.<a href="#section-11.2-7" class="pilcrow">¶</a></p>
<p id="section-11.2-8">Non-normative examples of updates to identity types in IANA maintained
    modules that would be classified as non-backwards-compatible changes are:
    Changing the status of an identity to obsolete, removing an identity,
    renaming an identity, or changing the described meaning of an identity.<a href="#section-11.2-8" class="pilcrow">¶</a></p>
<p id="section-11.2-9">Non-normative examples of updates to identity types in IANA maintained
    modules that would be classified as backwards-compatible changes are: Adding
    a new identity, changing the status or an identity to deprecated, or improving
    the description of an identity that does not change its defined meaning.<a href="#section-11.2-9" class="pilcrow">¶</a></p>
</section>
</section>
</div>
<section id="section-12">
      <h2 id="name-references">
<a href="#section-12" class="section-number selfRef">12. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-12.1">
        <h3 id="name-normative-references">
<a href="#section-12.1" class="section-number selfRef">12.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="I-D.ietf-netmod-rfc6991-bis">[I-D.ietf-netmod-rfc6991-bis]</dt>
        <dd>
<span class="refAuthor">Schoenwaelder, J.</span>, <span class="refTitle">"Common YANG Data Types"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-netmod-rfc6991-bis-07</span>, <time datetime="2021-07-09" class="refDate">9 July 2021</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ietf-netmod-rfc6991-bis-07.txt">https://www.ietf.org/archive/id/draft-ietf-netmod-rfc6991-bis-07.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-netmod-yang-semver">[I-D.ietf-netmod-yang-semver]</dt>
        <dd>
<span class="refAuthor">Clarke, J.</span>, <span class="refAuthor">Wilton, R.</span>, <span class="refAuthor">Rahman, R.</span>, <span class="refAuthor">Lengyel, B.</span>, <span class="refAuthor">Sterne, J.</span>, and <span class="refAuthor">B. Claise</span>, <span class="refTitle">"YANG Semantic Versioning"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-netmod-yang-semver-04</span>, <time datetime="2021-10-25" class="refDate">25 October 2021</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ietf-netmod-yang-semver-04.txt">https://www.ietf.org/archive/id/draft-ietf-netmod-yang-semver-04.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3688">[RFC3688]</dt>
        <dd>
<span class="refAuthor">Mealling, M.</span>, <span class="refTitle">"The IETF XML Registry"</span>, <span class="seriesInfo">BCP 81</span>, <span class="seriesInfo">RFC 3688</span>, <span class="seriesInfo">DOI 10.17487/RFC3688</span>, <time datetime="2004-01" class="refDate">January 2004</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3688">https://www.rfc-editor.org/info/rfc3688</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6020">[RFC6020]</dt>
        <dd>
<span class="refAuthor">Bjorklund, M., Ed.</span>, <span class="refTitle">"YANG - A Data Modeling Language for the Network Configuration Protocol (NETCONF)"</span>, <span class="seriesInfo">RFC 6020</span>, <span class="seriesInfo">DOI 10.17487/RFC6020</span>, <time datetime="2010-10" class="refDate">October 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6020">https://www.rfc-editor.org/info/rfc6020</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7950">[RFC7950]</dt>
        <dd>
<span class="refAuthor">Bjorklund, M., Ed.</span>, <span class="refTitle">"The YANG 1.1 Data Modeling Language"</span>, <span class="seriesInfo">RFC 7950</span>, <span class="seriesInfo">DOI 10.17487/RFC7950</span>, <time datetime="2016-08" class="refDate">August 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7950">https://www.rfc-editor.org/info/rfc7950</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8407">[RFC8407]</dt>
        <dd>
<span class="refAuthor">Bierman, A.</span>, <span class="refTitle">"Guidelines for Authors and Reviewers of Documents Containing YANG Data Models"</span>, <span class="seriesInfo">BCP 216</span>, <span class="seriesInfo">RFC 8407</span>, <span class="seriesInfo">DOI 10.17487/RFC8407</span>, <time datetime="2018-10" class="refDate">October 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8407">https://www.rfc-editor.org/info/rfc8407</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8525">[RFC8525]</dt>
      <dd>
<span class="refAuthor">Bierman, A.</span>, <span class="refAuthor">Bjorklund, M.</span>, <span class="refAuthor">Schoenwaelder, J.</span>, <span class="refAuthor">Watsen, K.</span>, and <span class="refAuthor">R. Wilton</span>, <span class="refTitle">"YANG Library"</span>, <span class="seriesInfo">RFC 8525</span>, <span class="seriesInfo">DOI 10.17487/RFC8525</span>, <time datetime="2019-03" class="refDate">March 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8525">https://www.rfc-editor.org/info/rfc8525</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-12.2">
        <h3 id="name-informative-references">
<a href="#section-12.2" class="section-number selfRef">12.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="AddrFamilyReg">[AddrFamilyReg]</dt>
        <dd>
<span class="refTitle">"Address Family Numbers IANA Registry"</span>, <span>&lt;<a href="https://www.iana.org/assignments/address-family-numbers/address-family-numbers.xhtml">https://www.iana.org/assignments/address-family-numbers/address-family-numbers.xhtml</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.clacla-netmod-yang-model-update">[I-D.clacla-netmod-yang-model-update]</dt>
        <dd>
<span class="refAuthor">Claise, B.</span>, <span class="refAuthor">Clarke, J.</span>, <span class="refAuthor">Lengyel, B.</span>, and <span class="refAuthor">K. D'Souza</span>, <span class="refTitle">"New YANG Module Update Procedure"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-clacla-netmod-yang-model-update-06</span>, <time datetime="2018-07-02" class="refDate">2 July 2018</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-clacla-netmod-yang-model-update-06.txt">https://www.ietf.org/archive/id/draft-clacla-netmod-yang-model-update-06.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-netmod-yang-instance-file-format">[I-D.ietf-netmod-yang-instance-file-format]</dt>
        <dd>
<span class="refAuthor">Lengyel, B.</span> and <span class="refAuthor">B. Claise</span>, <span class="refTitle">"YANG Instance Data File Format"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-netmod-yang-instance-file-format-21</span>, <time datetime="2021-10-08" class="refDate">8 October 2021</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ietf-netmod-yang-instance-file-format-21.txt">https://www.ietf.org/archive/id/draft-ietf-netmod-yang-instance-file-format-21.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-netmod-yang-packages">[I-D.ietf-netmod-yang-packages]</dt>
        <dd>
<span class="refAuthor">Wilton, R.</span>, <span class="refAuthor">Rahman, R.</span>, <span class="refAuthor">Clarke, J.</span>, <span class="refAuthor">Sterne, J.</span>, and <span class="refAuthor">B. Wu</span>, <span class="refTitle">"YANG Packages"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-netmod-yang-packages-01</span>, <time datetime="2020-11-02" class="refDate">2 November 2020</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ietf-netmod-yang-packages-01.txt">https://www.ietf.org/archive/id/draft-ietf-netmod-yang-packages-01.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-netmod-yang-solutions">[I-D.ietf-netmod-yang-solutions]</dt>
        <dd>
<span class="refAuthor">Wilton, R.</span>, <span class="refTitle">"YANG Versioning Solution Overview"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-netmod-yang-solutions-01</span>, <time datetime="2020-11-02" class="refDate">2 November 2020</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ietf-netmod-yang-solutions-01.txt">https://www.ietf.org/archive/id/draft-ietf-netmod-yang-solutions-01.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-netmod-yang-ver-selection">[I-D.ietf-netmod-yang-ver-selection]</dt>
        <dd>
<span class="refAuthor">Wilton, R.</span>, <span class="refAuthor">Rahman, R.</span>, <span class="refAuthor">Clarke, J.</span>, <span class="refAuthor">Sterne, J.</span>, and <span class="refAuthor">B. Wu</span>, <span class="refTitle">"YANG Schema Selection"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-netmod-yang-ver-selection-00</span>, <time datetime="2020-03-17" class="refDate">17 March 2020</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ietf-netmod-yang-ver-selection-00.txt">https://www.ietf.org/archive/id/draft-ietf-netmod-yang-ver-selection-00.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-netmod-yang-versioning-reqs">[I-D.ietf-netmod-yang-versioning-reqs]</dt>
        <dd>
<span class="refAuthor">Clarke, J.</span>, <span class="refTitle">"YANG Module Versioning Requirements"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-netmod-yang-versioning-reqs-05</span>, <time datetime="2021-07-06" class="refDate">6 July 2021</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ietf-netmod-yang-versioning-reqs-05.txt">https://www.ietf.org/archive/id/draft-ietf-netmod-yang-versioning-reqs-05.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IfTypesReg">[IfTypesReg]</dt>
        <dd>
<span class="refTitle">"Interface Types (ifType) IANA Registry"</span>, <span>&lt;<a href="https://www.iana.org/assignments/smi-numbers/smi-numbers.xhtml#smi-numbers-5">https://www.iana.org/assignments/smi-numbers/smi-numbers.xhtml#smi-numbers-5</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IfTypeYang">[IfTypeYang]</dt>
        <dd>
<span class="refTitle">"iana-if-type YANG Module"</span>, <span>&lt;<a href="https://www.iana.org/assignments/iana-if-type/iana-if-type.xhtml">https://www.iana.org/assignments/iana-if-type/iana-if-type.xhtml</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8340">[RFC8340]</dt>
        <dd>
<span class="refAuthor">Bjorklund, M.</span> and <span class="refAuthor">L. Berger, Ed.</span>, <span class="refTitle">"YANG Tree Diagrams"</span>, <span class="seriesInfo">BCP 215</span>, <span class="seriesInfo">RFC 8340</span>, <span class="seriesInfo">DOI 10.17487/RFC8340</span>, <time datetime="2018-03" class="refDate">March 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8340">https://www.rfc-editor.org/info/rfc8340</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RoutingTypesDecRevision">[RoutingTypesDecRevision]</dt>
        <dd>
<span class="refTitle">"2020-12-31 revision of iana-routing-types.yang"</span>, <span>&lt;<a href="https://www.iana.org/assignments/yang-parameters/iana-routing-types@2020-12-31.yang">https://www.iana.org/assignments/yang-parameters/iana-routing-types@2020-12-31.yang</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RoutingTypesYang">[RoutingTypesYang]</dt>
        <dd>
<span class="refTitle">"iana-routing-types YANG Module"</span>, <span>&lt;<a href="https://www.iana.org/assignments/iana-routing-types/iana-routing-types.xhtml">https://www.iana.org/assignments/iana-routing-types/iana-routing-types.xhtml</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="SAFIReg">[SAFIReg]</dt>
        <dd>
<span class="refTitle">"Subsequent Address Family Identifiers (SAFI) Parameters IANA Registry"</span>, <span>&lt;<a href="https://www.iana.org/assignments/safi-namespace/safi-namespace.xhtml">https://www.iana.org/assignments/safi-namespace/safi-namespace.xhtml</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="semver">[semver]</dt>
      <dd>
<span class="refTitle">"Semantic Versioning 2.0.0"</span>, <span>&lt;<a href="https://www.semver.org">https://www.semver.org</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="appendix">
<section id="appendix-A">
      <h2 id="name-examples-of-changes-that-ar">
<a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-examples-of-changes-that-ar" class="section-name selfRef">Examples of changes that are NBC</a>
      </h2>
<p id="appendix-A-1">Examples of NBC changes include:<a href="#appendix-A-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A-2.1">Deleting a data node, or changing it to status obsolete.<a href="#appendix-A-2.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-A-2.2">Changing the name, type, or units of a data node.<a href="#appendix-A-2.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-A-2.3">Modifying the description in a way that changes the semantic meaning of the data node.<a href="#appendix-A-2.3" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-A-2.4">Any changes that change or reduce the allowed value set of the data node, either through changes in the type
      definition, or the addition or changes to "must" statements, or changes in the description.<a href="#appendix-A-2.4" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-A-2.5">Adding or modifying "when" statements that reduce when the data node is available in the schema.<a href="#appendix-A-2.5" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-A-2.6">Making the statement conditional on if-feature.<a href="#appendix-A-2.6" class="pilcrow">¶</a>
</li>
      </ul>
</section>
</div>
<div id="example_guidelines">
<section id="appendix-B">
      <h2 id="name-examples-of-applying-the-nb">
<a href="#appendix-B" class="section-number selfRef">Appendix B. </a><a href="#name-examples-of-applying-the-nb" class="section-name selfRef">Examples of applying the NBC change guidelines</a>
      </h2>
<p id="appendix-B-1">The following sections give steps that could be taken for making NBC changes to a YANG module or submodule using the incremental approach described in section <a href="#guidelines_making_changes" class="xref">Section 7.1.1</a>.<a href="#appendix-B-1" class="pilcrow">¶</a></p>
<p id="appendix-B-2">The examples are all for "config true" nodes.<a href="#appendix-B-2" class="pilcrow">¶</a></p>
<p id="appendix-B-3">Alternatively, the NBC changes MAY be done non-incrementally and without using "status" statements if the server can support multiple revisions of the YANG module or of YANG packages. Clients would be required to select the revision which they support and the NBC change would have no impact on them.<a href="#appendix-B-3" class="pilcrow">¶</a></p>
<div id="remove_node">
<section id="appendix-B.1">
        <h3 id="name-removing-a-data-node">
<a href="#appendix-B.1" class="section-number selfRef">B.1. </a><a href="#name-removing-a-data-node" class="section-name selfRef">Removing a data node</a>
        </h3>
<p id="appendix-B.1-1">Removing a leaf or container from the data tree, e.g., because support for the corresponding feature is
            being removed:<a href="#appendix-B.1-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="appendix-B.1-2">
<li id="appendix-B.1-2.1">The schema node's status is changed to "deprecated" and the node is supported for some period of time (e.g. one year). This is a BC change.<a href="#appendix-B.1-2.1" class="pilcrow">¶</a>
</li>
          <li id="appendix-B.1-2.2">When the schema node is not supported anymore, its status is changed to "obsolete" and the
               "description" updated. This is an NBC change.<a href="#appendix-B.1-2.2" class="pilcrow">¶</a>
</li>
        </ol>
</section>
</div>
<div id="type_change">
<section id="appendix-B.2">
        <h3 id="name-changing-the-type-of-a-leaf">
<a href="#appendix-B.2" class="section-number selfRef">B.2. </a><a href="#name-changing-the-type-of-a-leaf" class="section-name selfRef">Changing the type of a leaf node</a>
        </h3>
<p id="appendix-B.2-1">Changing the type of a leaf node. e.g., a "vpn-id" node of type integer being changed to a string:<a href="#appendix-B.2-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="appendix-B.2-2">
<li id="appendix-B.2-2.1">The status of schema node "vpn-id" is changed to "deprecated" and the node is supported for some period of time (e.g. one year). This is a BC change. The description is updated to indicate that "vpn-name" is replacing this node.<a href="#appendix-B.2-2.1" class="pilcrow">¶</a>
</li>
          <li id="appendix-B.2-2.2">A new schema node, e.g., "vpn-name", of type string is added to the same location as the existing node
               "vpn-id". This new node has status "current" and its description explains that it is replacing node
               "vpn-id".<a href="#appendix-B.2-2.2" class="pilcrow">¶</a>
</li>
          <li id="appendix-B.2-2.3">
            <p id="appendix-B.2-2.3.1">During the period of time when both schema nodes are supported, the interactions between the two nodes is outside the scope of this document and will vary on a case by case basis. Here are some options:<a href="#appendix-B.2-2.3.1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="appendix-B.2-2.3.2">
<li id="appendix-B.2-2.3.2.1">A server may prevent the new node from being set if the old node is already set (and
                  vice-versa). A "choice" construction could be used, or the new node may have a "when" statement to achieve this. The old node must not have a "when"
                  statement since this would be an NBC change, but the server could reject the old
                  node from being set if the new node is already set.<a href="#appendix-B.2-2.3.2.1" class="pilcrow">¶</a>
</li>
              <li id="appendix-B.2-2.3.2.2">If the new node is set and a client does a get or get-config operation on the old node, the server
                  could map the value. For example, if the new node "vpn-name" has value "123" then the server could return
                  integer value 123 for the old node "vpn-id". However, if the value can not be mapped then the configuration
                  would be incomplete. The behavior in this case is outside the scope of this document.<a href="#appendix-B.2-2.3.2.2" class="pilcrow">¶</a>
</li>
            </ol>
</li>
          <li id="appendix-B.2-2.4">When the schema node "vpn-id" is not supported anymore, its status is changed to "obsolete" and the
               "description" is updated. This is an NBC change.<a href="#appendix-B.2-2.4" class="pilcrow">¶</a>
</li>
        </ol>
</section>
</div>
<div id="range_reduction">
<section id="appendix-B.3">
        <h3 id="name-reducing-the-range-of-a-lea">
<a href="#appendix-B.3" class="section-number selfRef">B.3. </a><a href="#name-reducing-the-range-of-a-lea" class="section-name selfRef">Reducing the range of a leaf node</a>
        </h3>
<p id="appendix-B.3-1">Reducing the range of values of a leaf-node, e.g., consider a "vpn-id" schema node of type uint32 being changed from range 1..5000 to range 1..2000:<a href="#appendix-B.3-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="appendix-B.3-2">
<li id="appendix-B.3-2.1">If all values which are being removed were never supported, e.g., if a vpn-id of 2001 or higher was never accepted, this is a BC change for the functionality (no functionality change).  Even if it is an NBC change for the YANG model, there should be no impact for clients using that YANG model.<a href="#appendix-B.3-2.1" class="pilcrow">¶</a>
</li>
          <li id="appendix-B.3-2.2">If one or more values being removed was previously supported, e.g., if a vpn-id of 3333 was accepted previously, this is an NBC change for the YANG model. Clients using the old YANG model will be impacted, so a change of this nature should be done carefully, e.g., by using the steps described in <a href="#type_change" class="xref">Appendix B.2</a><a href="#appendix-B.3-2.2" class="pilcrow">¶</a>
</li>
        </ol>
</section>
</div>
<div id="key_change">
<section id="appendix-B.4">
        <h3 id="name-changing-the-key-of-a-list">
<a href="#appendix-B.4" class="section-number selfRef">B.4. </a><a href="#name-changing-the-key-of-a-list" class="section-name selfRef">Changing the key of a list</a>
        </h3>
<p id="appendix-B.4-1">Changing the key of  a list has a big impact to the client. For example, consider a "sessions" list which has a key "interface" and there is a need to change the key to "dest-address". Such a change can be done in steps:<a href="#appendix-B.4-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="appendix-B.4-2">
<li id="appendix-B.4-2.1">The status of list "sessions" is changed to "deprecated" and the list is supported for some period of time (e.g. one year). This is a BC change. The description is updated to indicate the new list that is replacing this list.<a href="#appendix-B.4-2.1" class="pilcrow">¶</a>
</li>
          <li id="appendix-B.4-2.2">A new list is created in the same location with the same descendant schema nodes but with "dest-address" as key. Finding an appropriate name for the new list can be difficult. In this case the new list is called "sessions-address", has status "current" and its description should explain that it is replacing list "session".<a href="#appendix-B.4-2.2" class="pilcrow">¶</a>
</li>
          <li id="appendix-B.4-2.3">
            <p id="appendix-B.4-2.3.1">During the period of time when both lists are supported, the interactions between the two lists is outside the scope of this document and will vary on a case by case basis. Here are some options:<a href="#appendix-B.4-2.3.1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="appendix-B.4-2.3.2">
<li id="appendix-B.4-2.3.2.1">A server could prevent entries in the new list from being created if the old list already has entries (and
                  vice-versa).<a href="#appendix-B.4-2.3.2.1" class="pilcrow">¶</a>
</li>
              <li id="appendix-B.4-2.3.2.2">If the new list has entries created and a client does a get or get-config operation on the old list, the server
                  could map the entries. However, if the new list has entries which would lead to duplicate keys in the old list, the mapping can not be done.<a href="#appendix-B.4-2.3.2.2" class="pilcrow">¶</a>
</li>
            </ol>
</li>
          <li id="appendix-B.4-2.4">When list "sessions" is not available anymore, its status is changed to "obsolete" and the
               "description" is updated. This is an NBC change.<a href="#appendix-B.4-2.4" class="pilcrow">¶</a>
</li>
        </ol>
<p id="appendix-B.4-3">If the server can support NBC revisions of the YANG module simultaneously using version selection <span>[<a href="#I-D.ietf-netmod-yang-ver-selection" class="xref">I-D.ietf-netmod-yang-ver-selection</a>]</span>,
            then the changes can be done immediately:<a href="#appendix-B.4-3" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="appendix-B.4-4">
<li id="appendix-B.4-4.1">The new revision of the YANG module has the list "sessions" modified to have "dest-address" as key, this is an NBC change.<a href="#appendix-B.4-4.1" class="pilcrow">¶</a>
</li>
          <li id="appendix-B.4-4.2">Clients which require the previous functionality select the older module revision<a href="#appendix-B.4-4.2" class="pilcrow">¶</a>
</li>
        </ol>
</section>
</div>
<div id="rename_node">
<section id="appendix-B.5">
        <h3 id="name-renaming-a-node">
<a href="#appendix-B.5" class="section-number selfRef">B.5. </a><a href="#name-renaming-a-node" class="section-name selfRef">Renaming a node</a>
        </h3>
<p id="appendix-B.5-1">A leaf or container schema node may be renamed, either due to a spelling error in the previous name or because of a better name. For example a node "ip-adress" could be renamed to "ip-address":<a href="#appendix-B.5-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="appendix-B.5-2">
<li id="appendix-B.5-2.1">The status of the existing node "ip-adress" is changed to "deprecated" and is supported for some period of time (e.g. one year). This is a BC change. The description is updated to indicate the node that is replacing this node.<a href="#appendix-B.5-2.1" class="pilcrow">¶</a>
</li>
          <li id="appendix-B.5-2.2">The new schema node "ip-address" is added to the same location as the existing node
               "ip-adress". This new node has status "current" and its description should explain that it is replacing node
               "ip-adress".<a href="#appendix-B.5-2.2" class="pilcrow">¶</a>
</li>
          <li id="appendix-B.5-2.3">
            <p id="appendix-B.5-2.3.1">During the period of time when both nodes are available, the interactions between the two nodes is outside the scope of this document and will vary on a case by case basis. Here are some options:<a href="#appendix-B.5-2.3.1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="appendix-B.5-2.3.2">
<li id="appendix-B.5-2.3.2.1">A server may prevent the new node from being set if the old node is already set (and
                  vice-versa). A "choice" construction could be used, or the new node may have a "when" statement to achieve this. The old node must not have a "when"
                  statement since this would be an NBC change, but the server could reject the old
                  node from being set if the new node is already set.<a href="#appendix-B.5-2.3.2.1" class="pilcrow">¶</a>
</li>
              <li id="appendix-B.5-2.3.2.2">If the new node is set and a client does a get or get-config operation on the old node, the server
                  could use the value of the new node. For example, if the new node "ip-address" has value X then the server may return
                   value X for the old node "ip-adress".<a href="#appendix-B.5-2.3.2.2" class="pilcrow">¶</a>
</li>
            </ol>
</li>
          <li id="appendix-B.5-2.4">When node "ip-adress" is not available anymore, its status is changed to "obsolete" and the
               "description" is updated. This is an NBC change.<a href="#appendix-B.5-2.4" class="pilcrow">¶</a>
</li>
        </ol>
</section>
</div>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-C">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Robert Wilton (<span class="role">editor</span>)</span></div>
<div dir="auto" class="left"><span class="org">Cisco Systems, Inc.</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:rwilton@cisco.com" class="email">rwilton@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Reshad Rahman (<span class="role">editor</span>)</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:reshad@yahoo.com" class="email">reshad@yahoo.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Balazs Lengyel (<span class="role">editor</span>)</span></div>
<div dir="auto" class="left"><span class="org">Ericsson</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:balazs.lengyel@ericsson.com" class="email">balazs.lengyel@ericsson.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Joe Clarke</span></div>
<div dir="auto" class="left"><span class="org">Cisco Systems, Inc.</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:jclarke@cisco.com" class="email">jclarke@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Jason Sterne</span></div>
<div dir="auto" class="left"><span class="org">Nokia</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:jason.sterne@nokia.com" class="email">jason.sterne@nokia.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
