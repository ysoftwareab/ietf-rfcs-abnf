



CDNI Working Group                                         F. Fieau, Ed.
Internet-Draft                                                E. Stephan
Intended status: Standards Track                                  Orange
Expires: 28 April 2022                                         G. Bichot
                                                               Broadpeak
                                                         25 October 2021


                CDNI Metadata for Delegated Credentials
          draft-fieau-interfaces-https-delegation-subcerts-00

Abstract

   The delivery of content over HTTPS involving multiple CDNs raises
   credential management issues.  This document defines metadata in CDNI
   Control and Metadata interface to setup HTTPS delegation using
   Delegated Credentials from an Upstream CDN (uCDN) to a Downstream CDN
   (dCDN).

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on 28 April 2022.

Copyright Notice

   Copyright (c) 2021 IETF Trust and the persons identified as the
   document authors.  All rights reserved.











Fieau, et al.             Expires 28 April 2022                 [Page 1]

Internet-Draft   CDNI Metadata for Delegated credentials    October 2021


   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents (https://trustee.ietf.org/
   license-info) in effect on the date of publication of this document.
   Please review these documents carefully, as they describe your rights
   and restrictions with respect to this document.  Code Components
   extracted from this document must include Simplified BSD License text
   as described in Section 4.e of the Trust Legal Provisions and are
   provided without warranty as described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   3
   3.  Known delegation methods  . . . . . . . . . . . . . . . . . .   3
   4.  DelegatedCredentialsMethod metadata . . . . . . . . . . . . .   3
   5.  IANA considerations . . . . . . . . . . . . . . . . . . . . .   5
     5.1.  CDNI MI Delegated Credentials Payload Type  . . . . . . .   6
   6.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   6
     6.1.  Normative References  . . . . . . . . . . . . . . . . . .   6
     6.2.  Informative References  . . . . . . . . . . . . . . . . .   6
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   7

1.  Introduction

   Content delivery over HTTPS using one or more CDNs along the path
   requires credential management.  This specifically applies when an
   entity delegates delivery of encrypted content to another trusted
   entity.

   Several delegation methods are currently proposed within different
   IETF working groups.  They specify different methods for provisioning
   HTTPS delivery credentials.

   This document defines the CDNI Metadata interface to setup HTTPS
   delegation using Delegated Credentials between an upstream CDN (uCDN)
   and downstream CDN (dCDN).  Furthermore, it includes a proposal of
   IANA registry to enable adding of new methods.

   Section 2 is about terminology used in this document.  Section 3
   presents delegation methods specified at the IETF.  Section 4
   addresses the metadata for handling Delegated Credentials in CDNI.
   Section 5 addresses IANA registry for delegation methods.









Fieau, et al.             Expires 28 April 2022                 [Page 2]

Internet-Draft   CDNI Metadata for Delegated credentials    October 2021


2.  Terminology

   This document uses terminology from CDNI framework documents such as:
   CDNI framework document [RFC7336], CDNI requirements [RFC7337] and
   CDNI interface specifications documents: CDNI Metadata interface
   [RFC8006] and CDNI Control interface / Triggers [RFC8007].

3.  Known delegation methods

   There are currently Internet drafts within the TLS and ACME working
   groups adopted to handle delegation of HTTPS delivery between
   entities.

   This Internet Draft (I-D) proposes standardizing HTTPS delegation
   between the CDN entities using CDNI interfaces.

   This document only considers the Delegated Credentials as a
   delegation method as defined in [I-D.ietf-tls-subcerts].

4.  DelegatedCredentialsMethod metadata

   This section defines the DelegatedCredentialsMethod metadata related
   to the use of Delegated credentials as presented in
   [I-D.ietf-tls-subcerts]



























Fieau, et al.             Expires 28 April 2022                 [Page 3]

Internet-Draft   CDNI Metadata for Delegated credentials    October 2021


Client                  dCDN                 uCDN                 Content
   |                     |                     |                  Provider
   |                     |                     |                     |
   |                     |                     | Certificate         |
   |                     |                     |<--------------------|
   |                     | GET Metadata incl. Delegated Cred. method obj.
   |                     +-------------------->|                     |
   |                     | 200 OK + Metadata   |                     |
   |                     |<--------------------+                     |
   |                     | Get Delegated Credentials                 |
   |                     +-------------------->|                     |
   |                     | Delegated Credentials                     |
   |                     |<--------------------+                     |
   | Client Hello + Delegated credentials support                    |
   +-------------------->|                     |                     |
   | Server Hello + delegated credentials      |                     |
   |<--------------------|                     |                     |
   | Certificate         |                     |                     |
   |<--------------------|                     |                     |
   | TLS ServerKeyExchange                     |                     |
   |<--------------------|                     |                     |
   | TLS ClientKeyExchange                     |                     |
   |<--------------------|                     |                     |
   | TLS Finished        |                     |                     |
   |<--------------------|                     |                     |
   |                     |                     |                     |

   Figure 2: Example call-flow of Delegated credentials in CDNI

   As expressed in [I-D.ietf-tls-subcerts], when an origin has set a
   delegation to a downstream entity such as a downstream CDN (i.e.
   dCDN), the dCDN should present the Origin or uCDN certificate or
   "delegated_credential" during the TLS handshake [RFC8446] to the end-
   user client application, instead of its own certificate.

   Below we define metadata related to DelegatedCredentialsMethod.
   Please refer to [I-D.ietf-cdni-interfaces-https-delegation] for
   details on the use of the following metadata.

   Property: credentials-delegating-entity

      Description: Endpoint ID (IP) of the delegating Entity (uCDN).
      Endpoint type defined in RFC8006, Section 4.3.3.

      Type: Endpoint

      Mandatory-to-Specify: Yes




Fieau, et al.             Expires 28 April 2022                 [Page 4]

Internet-Draft   CDNI Metadata for Delegated credentials    October 2021


   Property: credential-recipient-entity

      Description: Endpoint ID (IP) of the delegated entity (dCDN).
      Endpoint type is defined in RFC8006, Section 4.3.3.

      Type: Endpoint

      Mandatory-to-Specify: Yes

   Property: credentials-location-uri

      Description: expresses the location of the credentials to be
      fetched by the dCDN.  Link type is as defined in RFC8006,
      Section 4.3.1.

      Type: Link

      Mandatory-to-Specify: Yes

   Property: periodicity

      Description: expresses the credentials renewal periodicity.

      Type: Integer

      Mandatory-to-Specify: Yes

5.  IANA considerations

   This document requests the registration of the following entries
   under the "CDNI Payload Types" registry hosted by IANA regarding
   "CDNI delegation":


   +-------------------------------+---------------+
   | Payload Type                  | Specification |
   +-------------------------------+---------------+
   | MI.DelegatedCredentialsMethod | RFCthis       |
   +-------------------------------+---------------+

   [RFC Editor: Please replace RFCthis with the published RFC number for
      this document.]









Fieau, et al.             Expires 28 April 2022                 [Page 5]

Internet-Draft   CDNI Metadata for Delegated credentials    October 2021


5.1.  CDNI MI Delegated Credentials Payload Type

   Purpose: The purpose of this Payload Type is to distinguish Delegated
   Credentials MI objects (and any associated capability advertisement)

   Interface: MI/FCI

   Encoding: see corresponding section

6.  References

6.1.  Normative References

   [I-D.ietf-cdni-interfaces-https-delegation]
              Fieau, F., Stephan, E., and S. Mishra, "CDNI extensions
              for HTTPS delegation", Work in Progress, Internet-Draft,
              draft-ietf-cdni-interfaces-https-delegation-06, 10
              September 2021, <https://datatracker.ietf.org/doc/html/
              draft-ietf-cdni-interfaces-https-delegation-06>.

   [I-D.ietf-tls-subcerts]
              Barnes, R., Iyengar, S., Sullivan, N., and E. Rescorla,
              "Delegated Credentials for TLS", Work in Progress,
              Internet-Draft, draft-ietf-tls-subcerts-11, 23 September
              2021, <https://datatracker.ietf.org/doc/html/draft-ietf-
              tls-subcerts-11>.

   [RFC8006]  Niven-Jenkins, B., Murray, R., Caulfield, M., and K. Ma,
              "Content Delivery Network Interconnection (CDNI)
              Metadata", RFC 8006, DOI 10.17487/RFC8006, December 2016,
              <https://www.rfc-editor.org/info/rfc8006>.

   [RFC8007]  Murray, R. and B. Niven-Jenkins, "Content Delivery Network
              Interconnection (CDNI) Control Interface / Triggers",
              RFC 8007, DOI 10.17487/RFC8007, December 2016,
              <https://www.rfc-editor.org/info/rfc8007>.

6.2.  Informative References

   [RFC7336]  Peterson, L., Davie, B., and R. van Brandenburg, Ed.,
              "Framework for Content Distribution Network
              Interconnection (CDNI)", RFC 7336, DOI 10.17487/RFC7336,
              August 2014, <https://www.rfc-editor.org/info/rfc7336>.

   [RFC7337]  Leung, K., Ed. and Y. Lee, Ed., "Content Distribution
              Network Interconnection (CDNI) Requirements", RFC 7337,
              DOI 10.17487/RFC7337, August 2014,
              <https://www.rfc-editor.org/info/rfc7337>.



Fieau, et al.             Expires 28 April 2022                 [Page 6]

Internet-Draft   CDNI Metadata for Delegated credentials    October 2021


   [RFC8446]  Rescorla, E., "The Transport Layer Security (TLS) Protocol
              Version 1.3", RFC 8446, DOI 10.17487/RFC8446, August 2018,
              <https://www.rfc-editor.org/info/rfc8446>.

Authors' Addresses

   Frederic Fieau (editor)
   Orange
   40-48, avenue de la Republique
   92320 Chatillon
   France

   Email: frederic.fieau@orange.com


   Emile Stephan
   Orange
   2, avenue Pierre Marzin
   22300 Lannion
   France

   Email: emile.stephan@orange.com


   Guillaume Bichot
   Broadpeak
   80, av. Buttes de Coësmes
   35700 Rennes
   France

   Email: guillaume.bichot@broadpeak.tv




















Fieau, et al.             Expires 28 April 2022                 [Page 7]
