<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard%20http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>Prefer Header for HTTP </title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";3
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction">
<link href="#rfc.section.2" rel="Chapter" title="2 The Prefer Request Header">
<link href="#rfc.section.3" rel="Chapter" title='3 The "return-accepted" Preference'>
<link href="#rfc.section.4" rel="Chapter" title='4 The "return-content" Preference'>
<link href="#rfc.section.5" rel="Chapter" title='5 The "return-status" Preference'>
<link href="#rfc.section.6" rel="Chapter" title='6 The "return-no-content" Preference'>
<link href="#rfc.section.7" rel="Chapter" title='7 The "wait" Preference'>
<link href="#rfc.section.8" rel="Chapter" title='8 The "priority" Preference'>
<link href="#rfc.section.9" rel="Chapter" title='9 The "strict" and "lenient" Processing Preferences'>
<link href="#rfc.section.10" rel="Chapter" title='10 The "detail" Preference'>
<link href="#rfc.section.11" rel="Chapter" title="11 Registered Preferences">
<link href="#rfc.section.12" rel="Chapter" title="12 IANA Considerations">
<link href="#rfc.section.12.1" rel="Chapter" title="12.1 The Registry of Preferences">
<link href="#rfc.section.12.1.1" rel="Chapter" title="12.1.1 Initial Registry Contents">
<link href="#rfc.section.13" rel="Chapter" title="13 Security Considerations">
<link href="#rfc.references" rel="Chapter" title="14 References">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content=
  "http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.539, 2011-01-02 17:13:00, XSLT vendor: SAXON 6.5.5 from Michael Kay http://saxon.sf.net/" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />
  <meta name="dct.creator" content="Doe, J." />
  <meta name="dct.identifier" content="urn:ietf:id:draft-sample-input-00" />
  <meta name="dct.issued" scheme="ISO8601" content="2010-12" />
  
  <meta name="dct.abstract" content="This specification defines an HTTP header that can be used by a user-agent to request that certain behaviors be implemented by a server while processing a request." />
  <meta name="description" content="This specification defines an HTTP header that can be used by a user-agent to request that certain behaviors be implemented by a server while processing a request." />
  <meta name="keywords" content="I-D, http, prefer" />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">Individual Submission</td>
<td class="right">J.M. Snell</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right">October 25, 2011</td>
</tr>
<tr>
<td class="left">Intended status: Informational</td>
<td class="right"></td>
</tr>
<tr>
<td class="left">Expires: April 27, 2012</td>
<td class="right"></td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">Prefer Header for HTTP <br />
  <span class="filename">draft-snell-http-prefer-04</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>This specification defines an HTTP header that can be used by a user-agent to request that certain behaviors be implemented by a server while processing a request.</p>
<h1 id="rfc.status"><a href="#rfc.status">Status of this Memo</a></h1>
<p>This Internet-Draft is submitted to IETF in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet- Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on April 27, 2012.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2011 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a>
</li>
<li>2.   <a href="#rfc.section.2">The Prefer Request Header</a>
</li>
<li>3.   <a href="#rfc.section.3">The "return-accepted" Preference</a>
</li>
<li>4.   <a href="#rfc.section.4">The "return-content" Preference</a>
</li>
<li>5.   <a href="#rfc.section.5">The "return-status" Preference</a>
</li>
<li>6.   <a href="#rfc.section.6">The "return-no-content" Preference</a>
</li>
<li>7.   <a href="#rfc.section.7">The "wait" Preference</a>
</li>
<li>8.   <a href="#rfc.section.8">The "priority" Preference</a>
</li>
<li>9.   <a href="#rfc.section.9">The "strict" and "lenient" Processing Preferences</a>
</li>
<li>10.   <a href="#rfc.section.10">The "detail" Preference</a>
</li>
<li>11.   <a href="#rfc.section.11">Registered Preferences</a>
</li>
<li>12.   <a href="#rfc.section.12">IANA Considerations</a>
</li>
<li>12.1.   <a href="#rfc.section.12.1">The Registry of Preferences</a>
</li>
<li>12.1.1.   <a href="#rfc.section.12.1.1">Initial Registry Contents</a>
</li>
<li>13.   <a href="#rfc.section.13">Security Considerations</a>
</li>
<li>14.   <a href="#rfc.references">References</a>
</li>
<li><a href="#rfc.authors">Author's Address</a>
</li>


  </ul>

  <h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> <a href="#intro" id="intro">Introduction</a>
</h1>
<p id="rfc.section.1.p.1">This specification defines a new HTTP request header that may be used by user-agents to request optional behaviors be applied by a server during the processing the request.</p>
<p id="rfc.section.1.p.2">In this document, the key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" are to be  interpreted as described in <a href="#RFC2119">[RFC2119]</a>.</p>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> <a href="#prefer" id="prefer">The Prefer Request Header</a>
</h1>
<p id="rfc.section.2.p.1">The Prefer request-header is used to indicate that particular server behaviors are preferred by the user-agent, but not required for successful completion of the request.  Prefer is similar in nature to the Expect header defined by <a href="#RFC2616">[RFC2616]</a> with the exception that servers are allowed to ignore stated preferences.</p>
<div id="#rfc.figure.1"></div>
<pre> 
  Prefer       =  "Prefer" ":" 1#preference
 
  preference   =  (return-accepted /
                  return-no-content /
                  return-content /
                  return-status /
                  wait /
                  priority /
                  handling /
                  detail /
                  preference-extension)
                  *prefer-params
  preference-value = token / quoted-string
  preference-token = token [ "=" preference-value ]
  preference-extension =  preference-token
  prefer-params =  ";" preference-token
      </pre>
<p id="rfc.section.2.p.2">This header is defined with an extensible syntax to allow for future values included in the <a href="#registry">Registry of Preferences</a> <cite title="NONE">[registry]</cite>).  A server that does not recognize or is unable to comply with particular preference values in the Prefer header of a request MUST ignore those values and MUST NOT stop processing or signal an error.</p>
<p id="rfc.section.2.p.3">An optional, arbitrary collection of "prefer-params" MAY be specified for any of the defined preference tokens as well as any preference-extensions. The meaning and application of such parameters is dependent on the definition of each preference directive and the server's implementation thereof.</p>
<p id="rfc.section.2.p.4">Comparison of preference tokens is case-insensitive for unquoted tokens and is case-sensitive for quoted-string preference-extensions and prefer-params values.</p>
<p id="rfc.section.2.p.5">Note that the application of a preference by the server MAY affect the caching characteristics of the response. Specifically, should the application of a preference result in a variance to the representation returned by a cacheable response, a Vary header SHOULD be included listing the Prefer header as one of the selecting header fields.</p>
<p id="rfc.section.2.p.6">The Prefer request header MUST be forwarded by the proxy if the request is forwarded. In various situations, A proxy may determine that it is capable of honoring a preference independently of the server to which the request is directed. For instance, an intervening proxy may be capable of transparently providing asynchronous handling of a request using a 202 Accepted responses independently of the origin server.  Such proxies could choose to honor the "return-accepted" preference.  Individual preference directives MAY define their own requirements and restrictions as to whether and how proxies may apply the preference to a request independently of the origin server.</p>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> <a href="#return-accepted" id="return-accepted">The "return-accepted" Preference</a>
</h1>
<p id="rfc.section.3.p.1">The "return-accepted" preference indicates that the user-agent prefers the server to respond with a 202 Accepted status in the case where the length of time it takes to generate a response will exceed some arbitrary threshold established by the server.</p>
<div id="#rfc.figure.2"></div>
<pre>
  return-accepted = "return-accepted"
      </pre>
<p id="rfc.section.3.p.2">The key motivation for the "return-accepted" preference is to facilitate the operation of asynchronous request handling by allowing the user-agent to indicate to a server it's capability and preference for handling 202 Accepted responses.</p>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> <a href="#return-content" id="return-content">The "return-content" Preference</a>
</h1>
<p id="rfc.section.4.p.1">The "return-content" preference indicates that the user-agent prefers that the server include an entity representing the current state of the resource in the response to a successful request.</p>
<div id="#rfc.figure.3"></div>
<pre>
  return-content = "return-content"
      </pre>
<p id="rfc.section.4.p.2">When honoring the "return-content" preference, the server MUST include a Content-Location header specifying the URI of the resource representation being returned. Per section 6.1 of [TODO:draft-ietf-httpbis-p2-semantics], the presence of the Content-Location header in the response asserts that the payload is a representation of the resource identified by the Content-Location URI.</p>
<p id="rfc.section.4.p.3">The "return-content" preference is intended primarily to provide a means of optimizing communication between the user-agent and server by eliminating the need for a subsequent GET request to retrieve the current representation of the resource following a modification.</p>
<p id="rfc.section.4.p.4">Currently, after successfully processing a modification request such as a POST or PUT, a server may choose to return either an entity describing the status of the operation or a representation of the modified resource itself. While the selection of which type of entity to return, if any at all, is solely at the discretion of the server, the "return-content" preference -- along with the "return-status" and "return-no-content" directives defined below -- allow the server to take the user-agent's preferences into consideration while constructing the response.</p>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> <a href="#return-status" id="return-status">The "return-status" Preference</a>
</h1>
<p id="rfc.section.5.p.1">The "return-status" preference indicates that the user-agent prefers the server to include an entity describing the status of the request in the response as opposed to returning a representation of the current state of the resource.</p>
<div id="#rfc.figure.4"></div>
<pre>
  return-status = "return-status"
      </pre>
<p id="rfc.section.5.p.2">When honoring the "return-status" preference, the server SHOULD NOT include a Content-Location header in the response.</p>
<h1 id="rfc.section.6">
<a href="#rfc.section.6">6.</a> <a href="#return-no-content" id="return-no-content">The "return-no-content" Preference</a>
</h1>
<p id="rfc.section.6.p.1">The "return-no-content" preference indicates that the user-agent wishes the server to not include an entity in the response to a successful request.  Typically, such responses would use the 204 No Content status, but other codes MAY be used as appropriate. Regardless of the status returned, when honoring the "return-no-content" preference, the server MUST NOT include an entity within the response.</p>
<div id="#rfc.figure.5"></div>
<pre>
  return-no-content = "return-no-content"
      </pre>
<p id="rfc.section.6.p.2">The "return-no-content" preference is intended to provide a means of optimizing communication between the user-agent and server by reducing the amount of data the server is required to return to the user-agent following a modification request. This can be particularly useful, for instance, when communicating with limited-bandwidth mobile devices or when the user-agent simply does not require any further information about the result of a request beyond knowing if it was successfully processed.</p>
<h1 id="rfc.section.7">
<a href="#rfc.section.7">7.</a> <a href="#wait" id="wait">The "wait" Preference</a>
</h1>
<p id="rfc.section.7.p.1">The "wait" preference can be used to establish an upper bound on the length of time, in seconds, the user-agent is willing to wait for a response, after which the user-agent may choose to abandon the request.  In the case generating a response will take longer than the time specified, the server, or proxy, can choose to either return a 202 Accepted response, cancel processing, or continue attempting to complete the request.</p>
<div id="#rfc.figure.6"></div>
<pre>
  wait = "wait" "=" delta-seconds
      </pre>
<h1 id="rfc.section.8">
<a href="#rfc.section.8">8.</a> <a href="#priority" id="priority">The "priority" Preference</a>
</h1>
<p id="rfc.section.8.p.1">ED NOTE: This preference directive is currently exploratory in nature. I've added it to solicit feedback as to it's general utility.  It is possible that I may pull this back out.</p>
<p id="rfc.section.8.p.2">The "priority" preference can be used to indicate the priority a user-agent wishes the server or proxy to assign to processing the request relative to other requests that may be concurrently received. The application and assignment of a priority value to requests is entirely at the discretion of the server or proxy. Priority values are specified as non-negative integers within the range 0-100, inclusive, where the value 0 indicates that the user-agent wishes to have a server-determined default priority assigned to the request, and all other values indicate a strictly decreasing priority as the integer value increases.</p>
<div id="#rfc.figure.7"></div>
<pre>
  priority = "priority" "=" "100" / (1*2DIGIT)
    </pre>
<p id="rfc.section.8.p.3">Implementations are free to apply additional constraints on the range of acceptable values for this directive but MUST NOT signal an error or fail to process the request should the user-agent provide a value outside the acceptable range. In such cases, the server SHOULD either ignore the preference or apply a reasonable default value.</p>
<h1 id="rfc.section.9">
<a href="#rfc.section.9">9.</a> <a href="#handling" id="handling">The "strict" and "lenient" Processing Preferences</a>
</h1>
<p id="rfc.section.9.p.1">ED NOTE: This preference directive is currently exploratory in nature. I've added it to solicit feedback as to it's general utility.  It is possible that I may pull this back out.</p>
<p id="rfc.section.9.p.2">The "strict" and "lenient" preferences are mutually-exclusive directives indicating, at the servers discretion, how the user-agent wishes the server to handle potential error conditions that may arise in the processing of a request. For instance, if the payload of a request contains various minor syntactical or semantic errors, but the server is still capable of comprehending and successfully processing the request, a decision must be made to either reject the request with an appropriate 4xx error response or to go ahead with processing. The "strict" preference can be used by the user-agent to indicate that, in such conditions, it would prefer that the server reject the request, while the "lenient" preference indicates that the user-agent would prefer the server to attempt to process the request. The specific meaning and application of the "strict" and "lenient" directives is specific to each type of resource, the request method and the operation of the server.</p>
<div id="#rfc.figure.8"></div>
<pre>
  handling = "strict" / "lenient"
    </pre>
<h1 id="rfc.section.10">
<a href="#rfc.section.10">10.</a> <a href="#detail" id="detail">The "detail" Preference</a>
</h1>
<p id="rfc.section.10.p.1">ED NOTE: This preference directive is currently exploratory in nature. I've added it to solicit feedback as to it's general utility.  It is possible that I may pull this back out.</p>
<p id="rfc.section.10.p.2">The "detail" preference specifies, at the servers discretion, the level of detail the user-agent wishes the server to provide within a response to an operation. This preference is akin to specifying the level of verbose output an operation should generate or to specifying the trace level within a debug log. The detail level is specified as a non-negative integer in the range 0-100, where the value 0 indicates a server-determined default detail level and all other values specify a strictly decreasing level of detail as the integer value increases.</p>
<div id="#rfc.figure.9"></div>
<pre>
  detail = "detail" "=" "100" / (1*2DIGIT)
      </pre>
<p id="rfc.section.10.p.3">Implementations are free to apply additional constraints on the range of acceptable values for this directive but MUST NOT signal an error or fail to process the request should the user-agent provide a value outside the acceptable range. In such cases, the server SHOULD either ignore the preference or apply a reasonable default value.</p>
<p id="rfc.section.10.p.4">One example of a potential use for the application of the "detail" preference would be in deciding the amount of detailed error information a server includes in the payload of a 4xx or 5xx response. Solely at the discretion of the server, an error response to a request specifying a higher detail level (e.g., detail=1) may included significantly more detailed information about the error condition than an error response specifying a much lower detail level (e.g., detail=10).</p>
<h1 id="rfc.section.11">
<a href="#rfc.section.11">11.</a> <a href="#requirements" id="requirements">Registered Preferences</a>
</h1>
<p id="rfc.section.11.p.1">Well-defined preferences can be registered for convenience and/or to promote reuse by other applications.  This specification establishes an IANA registry of such relation types see Section <a href="#registry">Section 12.1</a>.</p>
<p id="rfc.section.11.p.2">Registered preference names MUST conform to the token rule, and MUST be compared character-by-character in a case-insensitive fashion.  They SHOULD be appropriate to the specificity of the preference; i.e., if the semantics are highly specific to a particular application, the name should reflect that, so that more general names are available for less specific use.</p>
<p id="rfc.section.11.p.3">Registered preferences MUST NOT constrain servers, user-agents or any intermediaries involved in the exchange and processing of a request to any behavior required for successful processing. The use and application of a preference within a given request MUST be optional on the part of all participants.</p>
<h1 id="rfc.section.12">
<a href="#rfc.section.12">12.</a> IANA Considerations</h1>
<p id="rfc.section.12.p.1">The 'Prefer' header should be added to the permanent registry (see <a href="#RFC3864">[RFC3864]</a>).</p>
<div id="#rfc.figure.10"></div>
<pre> 
    Header field name: Prefer    
    Applicable Protocol: HTTP
    Status: 
    Author/Change controller: IETF
    Specification document: this specification

    </pre>
<p></p>
<h1 id="rfc.section.12.1">
<a href="#rfc.section.12.1">12.1.</a> <a href="#registry" id="registry">The Registry of Preferences</a>
</h1>
<p id="rfc.section.12.1.p.1">Preferences are registered on the advice of a Designated Expert (appointed by the IESG or their delegate), with a Specification Required (using terminology from <a href="#RFC5226">[RFC5226]</a>).</p>
<p id="rfc.section.12.1.p.2">The requirements for registered preferences are described in <a href="#requirements">Section 11</a></p>
<p id="rfc.section.12.1.p.3">Registration requests consist of the completed registration template below, typically published in an RFC or Open Standard (in the sense described by <a href="#RFC2026">[RFC2026]</a>, Section 7).  However, to allow for the allocation of values prior to publication, the Designated Expert may approve registration once they are satisfied that a specification will be published.</p>
<p id="rfc.section.12.1.p.4">Note that relation types can be registered by third parties, if the Designated Expert determines that an unregistered relation type is widely deployed and not likely to be registered in a timely manner.</p>
<p id="rfc.section.12.1.p.5">The registration template is:</p>
<p></p>

<ul>
<li>Preference: (A value for the Prefer request header that conforms to the syntax rule given in <a href="#prefer">Section 2</a>)</li>
<li>Description:</li>
<li>Reference:</li>
<li>Notes: [optional]</li>
<li>Application Data: [optional]</li>
</ul>

<p> </p>
<p id="rfc.section.12.1.p.7">Registration requests should be sent to the preferences@ietf.org mailing list, marked clearly in the subject line (e.g., "NEW PREFERENCE - example" to register an "example" preference).</p>
<p id="rfc.section.12.1.p.8">Within at most 14 days of the request, the Designated Expert(s) will either approve or deny the registration request, communicating this decision to the review list and IANA.  Denials should include an explanation and, if applicable, suggestions as to how to make the request successful.</p>
<p id="rfc.section.12.1.p.9">Decisions (or lack thereof) made by the Designated Expert can be first appealed to Application Area Directors (contactable using app-ads@tools.ietf.org email address or directly by looking up their email addresses on http://www.iesg.org/ website) and, if the appellant is not satisfied with the response, to the full IESG (using the iesg@iesg.org mailing list).</p>
<p id="rfc.section.12.1.p.10">IANA should only accept registry updates from the Designated Expert(s), and should direct all requests for registration to the review mailing list.</p>
<h1 id="rfc.section.12.1.1">
<a href="#rfc.section.12.1.1">12.1.1.</a> Initial Registry Contents</h1>
<p id="rfc.section.12.1.1.p.1">The Preferences Registry's initial contents are:</p>
<p></p>

<ul>
<li>Preference: return-accepted</li>
<li>Description: Indicates that the user-agent prefers the server to respond with a 202 Accepted status as described by <a href="#return-accepted">Section 3</a>
</li>
<li>Reference: [this specification]</li>
</ul>

<p> </p>
<p></p>

<ul>
<li>Preference: return-no-content</li>
<li>Description: Indicates that the user-agent prefers the server not to include a payload in response to a request as described by <a href="#return-no-content">Section 6</a>
</li>
<li>Reference: [this specification]</li>
</ul>

<p> </p>
<p></p>

<ul>
<li>Preference: return-content</li>
<li>Description: Indicates that the user-agent prefers the server to include a representation of the current state of the resource in response to a request as described by <a href="#return-content">Section 4</a>
</li>
<li>Reference: [this specification]</li>
</ul>

<p> </p>
<p></p>

<ul>
<li>Preference: return-status</li>
<li>Description: Indicates that the user-agent prefers the server to return an entity describing the current state of a resource in response to a request as described by <a href="#return-status">Section 5</a>
</li>
<li>Reference: [this specification]</li>
</ul>

<p> </p>
<p></p>

<ul>
<li>Preference: wait</li>
<li>Description: Indicates an upper bound to the lenght of time the user-agent is willing to wait for a response, after which the request may be aborted.</li>
<li>Reference: [this specification]</li>
</ul>

<p> </p>
<p></p>

<ul>
<li>Preference: priority</li>
<li>Description: Indicates the priority a client wishes the server to assign to the processing of a request relative to other concurrently processed requests.</li>
<li>Reference: [this specification]</li>
</ul>

<p> </p>
<p></p>

<ul>
<li>Preference: strict</li>
<li>Description: Indicates that the client wishes the server to apply strict validation and error handling to the processing of a request.</li>
<li>Reference: [this specification]</li>
</ul>

<p> </p>
<p></p>

<ul>
<li>Preference: lenient</li>
<li>Description: Indicates that the client wishes the server to apply lenient validation and error handling to the processing of a request.</li>
<li>Reference: [this specification]</li>
</ul>

<p> </p>
<p></p>

<ul>
<li>Preference: detail</li>
<li>Description: Indicates the user-agent's preference as to the amount of detail the server should include in responses to a request.</li>
<li>Reference: [this specification]</li>
</ul>

<p> </p>
<h1 id="rfc.section.13">
<a href="#rfc.section.13">13.</a> Security Considerations</h1>
<p id="rfc.section.13.p.1">Specific preferences requested by a client can introduce security considerations and concerns beyond those discussed in <a href="#RFC2616">[RFC2616]</a>.  Implementors must refer to the specifications and descriptions of those preferences to determine the security considerations relevant to each.</p>
<h1 id="rfc.references">
<a href="#rfc.references">14.</a> References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC2119">[RFC2119]</b></td>
<td class="top">
<a href="mailto:sob@harvard.edu" title="Harvard University">Bradner, S.</a>, "<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>", BCP 14, RFC 2119, March 1997.</td>
</tr>
<tr>
<td class="reference"><b id="RFC2434">[RFC2434]</b></td>
<td class="top">
<a href="mailto:narten@raleigh.ibm.com" title="IBM Corporation">Narten, T.</a> and <a href="mailto:Harald@Alvestrand.no" title="Maxware">H.T. Alvestrand</a>, "<a href="http://tools.ietf.org/html/rfc2434">Guidelines for Writing an IANA Considerations Section in RFCs</a>", BCP 26, RFC 2434, October 1998.</td>
</tr>
<tr>
<td class="reference"><b id="RFC2616">[RFC2616]</b></td>
<td class="top">
<a href="mailto:fielding@ics.uci.edu" title="Department of Information and Computer Science">Fielding, R.</a>, <a href="mailto:jg@w3.org" title="World Wide Web Consortium">Gettys, J.</a>, <a href="mailto:mogul@wrl.dec.com" title="Compaq Computer Corporation">Mogul, J.</a>, <a href="mailto:frystyk@w3.org" title="World Wide Web Consortium">Frystyk, H.</a>, <a href="mailto:masinter@parc.xerox.com" title="Xerox Corporation">Masinter, L.</a>, <a href="mailto:paulle@microsoft.com" title="Microsoft Corporation">Leach, P.</a> and <a href="mailto:timbl@w3.org" title="World Wide Web Consortium">T. Berners-Lee</a>, "<a href="http://tools.ietf.org/html/rfc2616">Hypertext Transfer Protocol -- HTTP/1.1</a>", RFC 2616, June 1999.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3864">[RFC3864]</b></td>
<td class="top">
<a>Klyne, G.</a>, <a>Nottingham, M.</a> and <a>J. Mogul</a>, "<a href="http://tools.ietf.org/html/rfc3864">Registration Procedures for Message Header Fields</a>", BCP 90, RFC 3864, September 2004.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5226">[RFC5226]</b></td>
<td class="top">
<a>Narten, T.</a> and <a>H. Alvestrand</a>, "<a href="http://tools.ietf.org/html/rfc5226">Guidelines for Writing an IANA Considerations Section in RFCs</a>", BCP 26, RFC 5226, May 2008.</td>
</tr>
<tr>
<td class="reference"><b id="RFC2026">[RFC2026]</b></td>
<td class="top">
<a href="mailto:sob@harvard.edu" title="Harvard University">Bradner, S.</a>, "<a href="http://tools.ietf.org/html/rfc2026">The Internet Standards Process -- Revision 3</a>", BCP 9, RFC 2026, October 1996.</td>
</tr>
</tbody></table>
<h1 id="rfc.authors"><a href="#rfc.authors">Author's Address</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">James M Snell</span> 
	  <span class="n hidden">
		<span class="family-name">Snell</span>
	  </span>
	</span>
	<span class="org vcardline"></span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:jasnell@gmail.com">jasnell@gmail.com</a></span>

  </address>
</div>

</body>
</html>