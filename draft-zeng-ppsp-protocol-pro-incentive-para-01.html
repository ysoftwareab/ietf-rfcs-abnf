<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>P2P Streaming Protocol Pro-incentive Parameters</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="P2P Streaming Protocol Pro-incentive Parameters">
<meta name="keywords" content="pro-incentive, , ">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 60em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 60em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">PPSP</td><td class="header">W. Zeng</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Y. Gu</td></tr>
<tr><td class="header">Intended status: Informational</td><td class="header">Huawei Technologies</td></tr>
<tr><td class="header">Expires: April 25, 2011</td><td class="header">October 22, 2010</td></tr>
</table></td></tr></table>
<h1><br />P2P Streaming Protocol Pro-incentive Parameters<br />draft-zeng-ppsp-protocol-pro-incentive-para-01</h1>

<h3>Abstract</h3>

<p> This document analyzes the common parameters that are essential for deriving incentive mechanisms to 
promote peer cooperation and system robustness in a P2P system, and proposes to incorporate these pro-incentive 
parameters in information exchanges in the P2P streaming protocols to be specified, e.g., in the tracker protocol 
proposed in <a class='info' href='#draft-gu-ppsp-tracker-protocol'>[draft&#8209;gu&#8209;ppsp&#8209;tracker&#8209;protocol]<span> (</span><span class='info'>Gu, Y., Bryan, D., Zhang, Y., and H. Liao, &ldquo;Tracker               Protocol,&rdquo; July 2010.</span><span>)</span></a>, and in the future in the peer protocol 
proposed in <a class='info' href='#draft-gu-ppsp-peer-protocol'>[draft&#8209;gu&#8209;ppsp&#8209;peer&#8209;protocol]<span> (</span><span class='info'>Gu, Y. and D. Bryan, &ldquo;Peer               Protocol,&rdquo; July 2010.</span><span>)</span></a>.
</p>
<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted  in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF).  Note that other groups may also distribute
working documents as Internet-Drafts.  The list of current
Internet-Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
This Internet-Draft will expire on April 25, 2011.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2010 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents
(http://trustee.ietf.org/license-info) in effect on the date of
publication of this document.  Please review these documents
carefully, as they describe your rights and restrictions with respect
to this document. Code Components extracted from this document must
include Simplified BSD License text as described in Section 4.e of
the Trust Legal Provisions and are provided without warranty as
described in the Simplified BSD License.</p>
<p>
This document may contain material from IETF Documents or IETF
Contributions published or made publicly available before November
10, 2008.  The person(s) controlling the copyright in some of this
material may not have granted the IETF Trust the right to allow
modifications of such material outside the IETF Standards Process.
Without obtaining an adequate license from the person(s) controlling
the copyright in such materials, this document may not be modified
outside the IETF Standards Process, and derivative works of it may
not be created outside the IETF Standards Process, except to format
it for publication as an RFC or to translate it into languages other
than English.</p>
<a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
<a href="#anchor2">2.</a>&nbsp;
Document Conventions<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor3">2.1.</a>&nbsp;
Notational Conventions<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">2.2.</a>&nbsp;
Terminology<br />
<a href="#anchor5">3.</a>&nbsp;
Incentives in P2P Systems

<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">3.1.</a>&nbsp;
Measurement of peer contribution<br />
<a href="#anchor7">4.</a>&nbsp;
Pro-incentive Protocol Parameters<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor8">4.1.</a>&nbsp;
Suggested Changes in the Tracker Protocol<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor9">4.2.</a>&nbsp;
Suggested Changes in the Peer Protocol<br />
<a href="#anchor10">5.</a>&nbsp;
Acknowledgements<br />
<a href="#IANA">6.</a>&nbsp;
IANA Considerations<br />
<a href="#Security">7.</a>&nbsp;
Security Considerations<br />
<a href="#rfc.references1">8.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">8.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">8.2.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>Lack of cooperation (free riding) is one of the key problems that
   confront today's P2P systems.  What makes this problem particularly
   difficult is the unique set of challenges that P2P systems pose:
   large populations, high turnover, asymmetry of interest, collusion,
   zero-cost identities, and traitors <a class='info' href='#RobustIncentives'>[RobustIncentives]<span> (</span><span class='info'>Feldman, M., Lai, K., Stoica, I., and J. Chuang, &ldquo;Robust               Incentive Techniques for Peer-to-Peer Networks,&rdquo; 2004.</span><span>)</span></a>.
</p>
<p>Many incentive mechanisms have been proposed in the literature to
   promote cooperation and system robustness of a P2P system.  The goal
   of this contribution however is not to choose a particular incentive
   mechanism to specify in the P2P streaming protocol, but instead is to
   analyze the common parameters that are essential for various
   incentive mechanisms, and propose to incorporate these pro-incentive
   parameters in information exchanges in the P2P streaming protocols.
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Document Conventions</h3>

<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.1"></a><h3>2.1.&nbsp;
Notational Conventions</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.2"></a><h3>2.2.&nbsp;
Terminology</h3>

<p>The draft uses the terms defined in <a class='info' href='#draft-gu-ppsp-tracker-protocol'>[draft&#8209;gu&#8209;ppsp&#8209;tracker&#8209;protocol]<span> (</span><span class='info'>Gu, Y., Bryan, D., Zhang, Y., and H. Liao, &ldquo;Tracker               Protocol,&rdquo; July 2010.</span><span>)</span></a>.
</p>
<p>The draft also uses some new terms, as defined below.
</p>
<p>Piece: equivalent to Chunk, a basic unit of partitioned stream, which
   is used by a peer for the purpose of storage, advertisement and
   exchange among peers.  As the term "Piece" has been widely used in
   the literature, Piece and Chunk are used interchangably in this
   draft.
</p>
<p>Unchoking: uploading data to a selected peer in a P2P system.
</p>
<p>Rarest First: When selecting which piece to start downloading next,
   peers generally download pieces which the fewest of their own peers
   have first.
</p>
<p>Free Riding: downloading data from peers without uploading any data
   to peers.
</p>
<p>Tit-for-Tat: peers exchange chunks preferentially with other peers
   with whom they have successfully exchanged chunks in the past at high bandwidth.
</p>
<p>Discount Parameter: the weight of the next move compared to the
   current one.  It measures the degree to which the payoff of each move
   is discounted relative to the previous move.
</p>
<p>Honest Piece Revelation: peers truthfully reveal which pieces they
   have.
</p>
<p>Under-Reporting: peers not revealing some pieces they have in order
   to make profit.

</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Incentives in P2P Systems

</h3>

<p>Several works have demonstrated the limitations of P2P protocols in
   the presence of selfish or malicious users <a class='info' href='#RobustIncentives'>[RobustIncentives]<span> (</span><span class='info'>Feldman, M., Lai, K., Stoica, I., and J. Chuang, &ldquo;Robust               Incentive Techniques for Peer-to-Peer Networks,&rdquo; 2004.</span><span>)</span></a> <a class='info' href='#Free-riding'>[Free&#8209;riding]<span> (</span><span class='info'>Sirivianos, M., Park, J., Chen, R., and X. Yang, &ldquo;Free-riding in BitTorrent networks with the large view               exploit,&rdquo; 2007.</span><span>)</span></a>.  Rewarding peer contributions has been suggested to overcome
   these limitations, e.g., in <a class='info' href='#ContributionAware'>[ContributionAware]<span> (</span><span class='info'>Sung, Y., Bishop, M., and S. Rao, &ldquo;Enabling Contribution               Awareness in an Overlay Broadcasting System,&rdquo; 2006.</span><span>)</span></a><a class='info' href='#RobustIncentives'>[RobustIncentives]<span> (</span><span class='info'>Feldman, M., Lai, K., Stoica, I., and J. Chuang, &ldquo;Robust               Incentive Techniques for Peer-to-Peer Networks,&rdquo; 2004.</span><span>)</span></a>.  A
   well known example is the tit-for-tat mechanism used in BitTorrent
   <a class='info' href='#BitTorrent'>[BitTorrent]<span> (</span><span class='info'>Cohen, B., &ldquo;Incentives build robustness in BitTorrent,&rdquo; June 2003.</span><span>)</span></a>. 
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
Measurement of peer contribution</h3>

<p>
A typical metric for measuring peer's contribution is the amount of
   upload a peer has contributed.  For example, BitTorrent uses a
   bilateral mechanism called tit-for-tat.  The amount of data a peer
   would upload to another peer depends on how much it has downloaded
   from that peer in the past.
</p>
<p>
Despite its pro-incentive approach, recent study <a class='info' href='#prTorrent'>[prTorrent]<span> (</span><span class='info'>Roy, S. and W. Zeng, &ldquo;prTorrent: On Establishment of               Piece Rarity in the BitTorrent Unchoking Algorithm,&rdquo; September 2009.</span><span>)</span></a> has
   empirically shown that BitTorrent is vulnerable to strategic
   manipulation by its constituent peers in a swarm.  For example, the
   Discount Parameter (DP) attack is an incentive threat that exploits
   the core of BitTorrent cooperation - the tit-for-tat based unchoking.
   The weight (or importance) of the next move compared to the current
   is called Discount Parameter, because it measures the degree to which
   the payoff of each move is discounted relative to the previous move.
   If the DP is small, peers might defect and not worry about future
   consequences.  In BitTorrent-like file sharing systems, piece rarity
   is a DP.  This means if the pieces available for download to peer B
   from A are not lucrative enough (possibly because B can get them from
   somewhere else at cheaper uploads, i.e. the piece rarity of pieces
   that A holds are low), then B has sufficient incentive to defect.
   Defect would mean that B will not upload to A in the "tat" phase,
   denying A one round of legitimate download.  Then B will break
   connection with A, leaving A with no opportunity to snub him.
</p>
<p>
Moreover, Honest Piece Revelation and Free-Riding is becoming an
   increasing concern.  As explained in <a class='info' href='#BTAuction'>[BTAuction]<span> (</span><span class='info'>Levin, D., LaCurts, K., Spring, N., and B. Bhattacharjee, &ldquo;BitTorrent is an Auction: Analyzing and Improving BitTorrent's Incentives,&rdquo; 2008.</span><span>)</span></a>, Honest Piece
   Revelation is not enforced in BitTorrent and peers have sufficient
   incentive to stray from truthfulness.  The results in <a class='info' href='#BTAuction'>[BTAuction]<span> (</span><span class='info'>Levin, D., LaCurts, K., Spring, N., and B. Bhattacharjee, &ldquo;BitTorrent is an Auction: Analyzing and Improving BitTorrent's Incentives,&rdquo; 2008.</span><span>)</span></a>
   indicate that selfish BitTorrent clients can benefit from under-
   reporting pieces.  Under reported pieces keep getting rarer in the
   swarm and therefore, the demand of peers holding those pieces
   increases due to the rarest first piece selection approach.  It has
   been discovered in <a class='info' href='#prTorrent'>[prTorrent]<span> (</span><span class='info'>Roy, S. and W. Zeng, &ldquo;prTorrent: On Establishment of               Piece Rarity in the BitTorrent Unchoking Algorithm,&rdquo; September 2009.</span><span>)</span></a> that if a colluding group of peers are
   involved in under-reporting over a considerable period to improve
   their demand in the swarm, it might lead the whole swarm into
   premature starvation in which all peers have all the pieces of a
   file, except a few. 
</p>
<p>
The findings in <a class='info' href='#prTorrent'>[prTorrent]<span> (</span><span class='info'>Roy, S. and W. Zeng, &ldquo;prTorrent: On Establishment of               Piece Rarity in the BitTorrent Unchoking Algorithm,&rdquo; September 2009.</span><span>)</span></a> indicate that it is the orthogonal
   treatment of piece rarity and unchoking that has encouraged strategic
   manipulation enabling unfair maximization of incentives in p2p
   systems.  Note that BitTorrent uses rarest first approach for piece
   selection but not for peer selection (unchoking).  The prTorrent
   protocol <a class='info' href='#prTorrent'>[prTorrent]<span> (</span><span class='info'>Roy, S. and W. Zeng, &ldquo;prTorrent: On Establishment of               Piece Rarity in the BitTorrent Unchoking Algorithm,&rdquo; September 2009.</span><span>)</span></a> unifies a Piece Rarity factor with the
   BitTorrent Unchoking Algorithm, i.e., peer selection for unchoking
   not only depends on the uploading bandwidth of the candidate peers,
   but also how valuable the pieces they have uploaded are.  It is shown
   how strategic formulation of the Piece Rarity parameter can optimize
   incentives in a swarm, and help its constituent peers in achieving
   the equilibrium facilitating truly co-operative behavior.

</p>
<p>
The Piece Rarity factor depends on a number of other variables
   measured at the piece, peer and swarm levels, as summarized below.
</p>
<p></p>
<ul class="text">
<li>
the global availability (in all swarms of the tracker): the high
      availability of a piece outside the swarm may result in peers
      leaving the swarm. 
</li>
<li> local availability (in the target swarm) of a piece: a rarer
      downloaded piece has more value to the swarm
 
</li>
<li> number of upload slots a candidate peer has: long term benefit can
      be expected from a peer with more uploading potential 
</li>
<li> the completion factor (i.e., the ratio of the number of pieces of
      the file that a peer has to total number of pieces of that file)
      of the candidate peer: a peer with high completion factor is a
      good one to maintain a good upload/download relation with. 
</li>
<li> the contention in the swarm (i.e., the ratio of total number of
      peers to total number of seeds): high contention implies more
      strategic value of a piece.
 
</li>
</ul><p>  
</p>
<p>Several studies (e.g., <a class='info' href='#RobustIncentives'>[RobustIncentives]<span> (</span><span class='info'>Feldman, M., Lai, K., Stoica, I., and J. Chuang, &ldquo;Robust               Incentive Techniques for Peer-to-Peer Networks,&rdquo; 2004.</span><span>)</span></a><a class='info' href='#Incentives'>[Incentives]<span> (</span><span class='info'>Lai, K., Feldman, M., Stoica, I., and J. Chuang, &ldquo;Incentives               for cooperation in peer-to-peer networks,&rdquo; 2004.</span><span>)</span></a><a class='info' href='#Peer-assisted'>[Peer&#8209;assisted]<span> (</span><span class='info'>Aperjis, C., Freedman, M., and R. Johari, &ldquo;Peer-Assisted               Content Distribution with Prices,&rdquo; 2008.</span><span>)</span></a>)
   however have pointed out the limitations of bilateral mechanisms
   (e.g., in the case of asymmetry of interest), and make the case for
   designing more global contribution-aware mechanisms.  This is
   especially an issue in real-time streaming.  Many systems that
   distribute content with the help of P2P overlays measure peer
   contribution and incentivize participation.  Peers who contribute
   more are rewarded with better performance via different mechanisms
   such as higher priority in the distribution overlay (e.g.,
   <a class='info' href='#ContributionAware'>[ContributionAware]<span> (</span><span class='info'>Sung, Y., Bishop, M., and S. Rao, &ldquo;Enabling Contribution               Awareness in an Overlay Broadcasting System,&rdquo; 2006.</span><span>)</span></a><a class='info' href='#Collusion'>[Collusion]<span> (</span><span class='info'>Lian, Q., Zhang, Z., Yang, M., Zhao, B., Dai, Y., and X. Li, &ldquo;An empirical study of collusion behavior in the Maze P2P               file-sharing system,&rdquo; 2007.</span><span>)</span></a><a class='info' href='#Contracts'>[Contracts]<span> (</span><span class='info'>Piatek, M., Krishnamurthy, A., Venkataramani, A., Yang, R., Zhang, D., and A. Jaffe, &ldquo;Contracts: Practical Contribution Incentives for P2P Live Streaming,&rdquo;  April 2010.</span><span>)</span></a>) or priority service through server-
   assisted downloads (e.g., <a class='info' href='#CooperativeCD'>[CooperativeCD]<span> (</span><span class='info'>Sirivianos, M., Park, J., Yang, X., and S. Jarecki, &ldquo;Dandelion: Cooperative Content Distribution with Robust               Incentives,&rdquo; 2007.</span><span>)</span></a>), or discount coupons
   <a class='info' href='#CooperativeCD'>[CooperativeCD]<span> (</span><span class='info'>Sirivianos, M., Park, J., Yang, X., and S. Jarecki, &ldquo;Dandelion: Cooperative Content Distribution with Robust               Incentives,&rdquo; 2007.</span><span>)</span></a>).  Such systems are referred to as contribution aware
   peer-assisted content distribution systems.  A typical metric to
   measure peer's contribution to the swarm is again the amount of
   upload a peer has contributed to the swarm (as opposed to individual
   peers). Approximate equilibria has also been proposed in <a class='info' href='#FlightPath'>[FlightPath]<span> (</span><span class='info'>Li, H., Clement, A., Marchetti, M., Kapritsos, M., Robison, L., Alvisi, L., and M. Dahlin, &ldquo;FlightPath: Obedience vs. Choice in Cooperative Services,&rdquo;  Dec. 2008.</span><span>)</span></a> to guide how one designs systems to incentivize
   selfish (or rational) peers to obey protocols.
  
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Pro-incentive Protocol Parameters</h3>

<p>The above analysis suggests that it is important for a p2p streaming
   protocol to support the exchange/report of necessary information
   based on which a p2p streaming system can optimize incentives in a
   swarm to provide robust and improved services.  Some of the basic
   pro-incentive parameters are listed below.
</p>
<p></p>
<ul class="text">
<li> no_upload_slots: a peer's upload bandwidth (i.e., number of upload
      slots a peer has).
</li>
<li> bytes_uploaded: total amount of data that a peer has uploaded
</li>
<li> bytes_downloaded: total amount of data that has been downloaded from a peer
</li>
<li> chunk_nos: total number of chunks of a file that a peer has.
</li>
<li> seed_nos: total number of seeds.
</li>
<li> peer_nos: total number of peers.
</li>
<li> chunk_copies_swarm: chunk availability, i.e., total number of
      copies of a chunk available in the swarm.
</li>
</ul><p>  
</p>
<p>Exchanges of these parameters between tracker and peers SHALL be
   supported in the tracker protocol, e.g., through the methods defined
   in <a class='info' href='#draft-gu-ppsp-tracker-protocol'>[draft&#8209;gu&#8209;ppsp&#8209;tracker&#8209;protocol]<span> (</span><span class='info'>Gu, Y., Bryan, D., Zhang, Y., and H. Liao, &ldquo;Tracker               Protocol,&rdquo; July 2010.</span><span>)</span></a>.  A subset, e.g., a peer's
   no_upload_slots and the chunk_nos of a file that a peer has, SHOULD
   be supported in the peer protocol.  Some of these parameters (e.g.,no_upload_slots) have already been proposed in
   <a class='info' href='#draft-gu-ppsp-tracker-protocol'>[draft&#8209;gu&#8209;ppsp&#8209;tracker&#8209;protocol]<span> (</span><span class='info'>Gu, Y., Bryan, D., Zhang, Y., and H. Liao, &ldquo;Tracker               Protocol,&rdquo; July 2010.</span><span>)</span></a> for the purpose of facilitating
   optimization of the system performance.
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1"></a><h3>4.1.&nbsp;
Suggested Changes in the Tracker Protocol</h3>

<p>It is recommended that exchange of the following statistics be supported in the tracker protocol, e.g., by adding them to Table 3 (Section 4.1.10.1) in the proposed tracker protocol <a class='info' href='#draft-gu-ppsp-tracker-protocol'>[draft&#8209;gu&#8209;ppsp&#8209;tracker&#8209;protocol]<span> (</span><span class='info'>Gu, Y., Bryan, D., Zhang, Y., and H. Liao, &ldquo;Tracker               Protocol,&rdquo; July 2010.</span><span>)</span></a>. 
</p><br /><hr class="insert" />
<a name="table_ptypes_xml"></a>
<table class="full" align="center" border="0" cellpadding="2" cellspacing="2">
<col align="center"><col align="left">
<tr><th align="center">XML Value</th><th align="left">Definitions/Description</th></tr>
<tr>
<td align="center">BytesUploaded</td>
<td align="left">Total amount of data that a reporting peer has uploaded. This is to be reported by a peer to the tracker.</td>
</tr>
<tr>
<td align="center">ChunkMAP</td>
<td align="left">Indicates which chunks of a file that a peer has. This is to be reported by a peer to the tracker.</td>
</tr>
<tr>
<td align="center">SeedNumber</td>
<td align="left">Total number of seeds in the swarm. This is to be updated by the tracker to peers periodically or upon request by a peer.</td>
</tr>
<tr>
<td align="center">PeerNumber</td>
<td align="left">Total number of peers in the swarm. This is to be updated by the tracker to peers periodically or upon request by a peer. </td>
</tr>
<tr>
<td align="center">ChunkCopies</td>
<td align="left">Total number of copies of a chunk available in the swarm. Each ChunkCopies should be paired with a ChunkID. This is to be updated by the tracker to peers periodically or upon request by a peer. </td>
</tr>
<tr>
<td align="center">BytesDownloaded</td>
<td align="left">Total amount of data reported by a peer that has been downloaded from a different peer. Each BytesDownloaded should be paired with a PeerID. 
This is to be reported by a peer to the tracker. </td>
</tr>
</table>
<br clear="all" />
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Table 1: Additional Property Types to be supported in the tracker protocol&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2"></a><h3>4.2.&nbsp;
Suggested Changes in the Peer Protocol</h3>

<p>It is recommended that exchange of the following statistics be supported in the peer protocol.  
</p><br /><hr class="insert" />
<a name="table_ptypes_xml_peer"></a>
<table class="full" align="center" border="0" cellpadding="2" cellspacing="2">
<col align="center"><col align="left">
<tr><th align="center">XML Value</th><th align="left">Definitions/Description</th></tr>
<tr>
<td align="center">UploadBW</td>
<td align="left">A peer's upload bandwidth (i.e., number of upload slots a peer has). </td>
</tr>
<tr>
<td align="center">ChunkNumber</td>
<td align="left">Total number of chunks of a file that a peer has. This is necessary in case ChunkMAP reported is not a complete map. </td>
</tr>
<tr>
<td align="center">ChunkMAP</td>
<td align="left">Indicates which chunks of a file that a peer has. </td>
</tr>
</table>
<br clear="all" />
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Table 2: Additional Property Types to be supported in the peer protocol&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Acknowledgements</h3>

<p>The author would like to thank the following people for their help
   and comments: Robins George, Richard Yang, and Suman D. Roy.
</p>
<a name="IANA"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
IANA Considerations</h3>

<p>This draft includes no request to IANA.
      
</p>
<a name="Security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Security Considerations</h3>

<p>Trustworthiness of these pro-incentive parameters is critical to the
   effectiveness of the incentive mechanisms.  For example, ChunkMap defined above may be essential, and may need to be accurate. The P2P system should be designed in a way such that
 a peer will have the incentive to report truthfully its ChunkMap (otherwise it may penalize itself, as in the case of under-reporting addressed in <a class='info' href='#prTorrent'>[prTorrent]<span> (</span><span class='info'>Roy, S. and W. Zeng, &ldquo;prTorrent: On Establishment of               Piece Rarity in the BitTorrent Unchoking Algorithm,&rdquo; September 2009.</span><span>)</span></a>). 
Furthermore, both the amount of upload and download should be reported to the tracker to allow the tracker to check if there is any 
inconsistency between the upload and download report, and establish an appropriate credit/trust system. Alternatively, exchange of 
cryptographic receipts signed by receiving peers can be used to attest to the upload contribution of a peer to the swarm, as was suggested in <a class='info' href='#Contracts'>[Contracts]<span> (</span><span class='info'>Piatek, M., Krishnamurthy, A., Venkataramani, A., Yang, R., Zhang, D., and A. Jaffe, &ldquo;Contracts: Practical Contribution Incentives for P2P Live Streaming,&rdquo;  April 2010.</span><span>)</span></a>. Security will be
   further considered in future versions of this draft.
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>8.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>8.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="BTAuction">[BTAuction]</a></td>
<td class="author-text">Levin, D., LaCurts, K., Spring, N., and B. Bhattacharjee, &ldquo;BitTorrent is an Auction: Analyzing and Improving BitTorrent's Incentives,&rdquo; ACM Special Interest Group on
              Data Communication&nbsp;, 2008.</td></tr>
<tr><td class="author-text" valign="top"><a name="BitTorrent">[BitTorrent]</a></td>
<td class="author-text">Cohen, B., &ldquo;Incentives build robustness in BitTorrent,&rdquo; Proc. of P2P-Econ, Berkeley, California, USA&nbsp;, June 2003.</td></tr>
<tr><td class="author-text" valign="top"><a name="Collusion">[Collusion]</a></td>
<td class="author-text">Lian, Q., Zhang, Z., Yang, M., Zhao, B., Dai, Y., and X. Li, &ldquo;An empirical study of collusion behavior in the Maze P2P
              file-sharing system,&rdquo; In Proc. ICDCS&nbsp;, 2007.</td></tr>
<tr><td class="author-text" valign="top"><a name="Contracts">[Contracts]</a></td>
<td class="author-text">Piatek, M., Krishnamurthy, A., Venkataramani, A., Yang, R., Zhang, D., and A. Jaffe, &ldquo;Contracts: Practical Contribution Incentives for P2P Live Streaming,&rdquo; USENIX Symposium on Networked Systems Design and Implementation (NSDI)&nbsp;,  April 2010.</td></tr>
<tr><td class="author-text" valign="top"><a name="ContributionAware">[ContributionAware]</a></td>
<td class="author-text">Sung, Y., Bishop, M., and S. Rao, &ldquo;Enabling Contribution
              Awareness in an Overlay Broadcasting System,&rdquo; In Proc. ACM SIGCOMM&nbsp;, 2006.</td></tr>
<tr><td class="author-text" valign="top"><a name="CooperativeCD">[CooperativeCD]</a></td>
<td class="author-text">Sirivianos, M., Park, J., Yang, X., and S. Jarecki, &ldquo;Dandelion: Cooperative Content Distribution with Robust
              Incentives,&rdquo; In Proc. USENIX ATC&nbsp;, 2007.</td></tr>
<tr><td class="author-text" valign="top"><a name="FlightPath">[FlightPath]</a></td>
<td class="author-text">Li, H., Clement, A., Marchetti, M., Kapritsos, M., Robison, L., Alvisi, L., and M. Dahlin, &ldquo;FlightPath: Obedience vs. Choice in Cooperative Services,&rdquo; the USENIX Symposium on Operating System Design and Implementation (OSDI)&nbsp;,  Dec. 2008.</td></tr>
<tr><td class="author-text" valign="top"><a name="Free-riding">[Free-riding]</a></td>
<td class="author-text">Sirivianos, M., Park, J., Chen, R., and X. Yang, &ldquo;Free-riding in BitTorrent networks with the large view
              exploit,&rdquo; In Proc. IPTPS&nbsp;, 2007.</td></tr>
<tr><td class="author-text" valign="top"><a name="Incentives">[Incentives]</a></td>
<td class="author-text">Lai, K., Feldman, M., Stoica, I., and J. Chuang, &ldquo;Incentives
              for cooperation in peer-to-peer networks,&rdquo; In Proc. P2P
              Econ&nbsp;, 2004.</td></tr>
<tr><td class="author-text" valign="top"><a name="Peer-assisted">[Peer-assisted]</a></td>
<td class="author-text">Aperjis, C., Freedman, M., and R. Johari, &ldquo;Peer-Assisted
              Content Distribution with Prices,&rdquo; In Proc. CoNeXT&nbsp;, 2008.</td></tr>
<tr><td class="author-text" valign="top"><a name="RobustIncentives">[RobustIncentives]</a></td>
<td class="author-text">Feldman, M., Lai, K., Stoica, I., and J. Chuang, &ldquo;Robust
              Incentive Techniques for Peer-to-Peer Networks,&rdquo; In Proc.
              ACM EC&nbsp;, 2004.</td></tr>
<tr><td class="author-text" valign="top"><a name="draft-gu-ppsp-peer-protocol">[draft-gu-ppsp-peer-protocol]</a></td>
<td class="author-text">Gu, Y. and D. Bryan, &ldquo;Peer
              Protocol,&rdquo; (IETF Work in Progress)&nbsp;http://
              tools.ietf.org/html/draft-gu-ppsp-peer-protocol-00, July 2010.</td></tr>
<tr><td class="author-text" valign="top"><a name="draft-gu-ppsp-tracker-protocol">[draft-gu-ppsp-tracker-protocol]</a></td>
<td class="author-text">Gu, Y., Bryan, D., Zhang, Y., and H. Liao, &ldquo;Tracker
              Protocol,&rdquo; (IETF Work in Progress)&nbsp;http://
              tools.ietf.org/html/draft-gu-ppsp-tracker-protocol-01, July 2010.</td></tr>
<tr><td class="author-text" valign="top"><a name="prTorrent">[prTorrent]</a></td>
<td class="author-text">Roy, S. and W. Zeng, &ldquo;prTorrent: On Establishment of
              Piece Rarity in the BitTorrent Unchoking Algorithm,&rdquo; International Conference on Peer-to-Peer Computing
              (P2P2009)&nbsp;, September 2009.</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Wenjun (Kevin) Zeng</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Huawei Technologies</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:zengw@huawei.com">zengw@huawei.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Yingjie Gu</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Huawei Technologies</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">No.101 Software Avenue</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Nanjing, Jiangsu Province  210012</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">P.R. China</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:guyingjie@huawei.com">guyingjie@huawei.com</a></td></tr>
</table>
</body></html>
