<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Hybrid Two-Step Performance Measurement Method</title>
<meta content="Greg Mirsky" name="author">
<meta content="Wang Lingqiang" name="author">
<meta content="Guo Zhui" name="author">
<meta content="Haoyu Song" name="author">
<meta content="
       
Development of, and advancements in, automation of network operations brought new requirements
for measurement methodology. Among them is the ability to collect instant network state as the packet
being processed by the networking elements along its path through the domain. This document
introduces a new hybrid measurement method, referred to as hybrid two-step, as it separates the act
of measuring and/or calculating the performance metric from the act of collecting and transporting network state.
       
    " name="description">
<meta content="xml2rfc 3.12.0" name="generator">
<meta content="Internet-Draft" name="keyword">
<meta content="IPPM" name="keyword">
<meta content="Hybrid OAM" name="keyword">
<meta content="draft-mirsky-ippm-hybrid-two-step-12" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.12.0
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.7.1
    pycountry 22.1.10
    pyflakes 2.4.0
    PyYAML 6.0
    requests 2.27.1
    setuptools 59.6.0
    six 1.16.0
    WeasyPrint 52.5
-->
<link href="/tmp/draft-mirsky-ippm-hybrid-two-step-12-zeotd30d.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">Hybrid Two-Step</td>
<td class="right">January 2022</td>
</tr></thead>
<tfoot><tr>
<td class="left">Mirsky, et al.</td>
<td class="center">Expires 30 July 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">IPPM Working Group</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-mirsky-ippm-hybrid-two-step-12</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2022-01-26" class="published">26 January 2022</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-07-30">30 July 2022</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">G. Mirsky</div>
<div class="org">Ericsson</div>
</div>
<div class="author">
      <div class="author-name">W. Lingqiang</div>
<div class="org">ZTE Corporation</div>
</div>
<div class="author">
      <div class="author-name">G. Zhui</div>
<div class="org">ZTE Corporation</div>
</div>
<div class="author">
      <div class="author-name">H. Song</div>
<div class="org">Futurewei Technologies</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Hybrid Two-Step Performance Measurement Method</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">
Development of, and advancements in, automation of network operations brought new requirements
for measurement methodology. Among them is the ability to collect instant network state as the packet
being processed by the networking elements along its path through the domain. This document
introduces a new hybrid measurement method, referred to as hybrid two-step, as it separates the act
of measuring and/or calculating the performance metric from the act of collecting and transporting network state.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 30 July 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2022 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="xref">2</a>.  <a href="#name-conventions-used-in-this-do" class="xref">Conventions used in this document</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1" class="keepWithNext"><a href="#section-2.1" class="xref">2.1</a>.  <a href="#name-acronyms" class="xref">Acronyms</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2">
                <p id="section-toc.1-1.2.2.2.1" class="keepWithNext"><a href="#section-2.2" class="xref">2.2</a>.  <a href="#name-requirements-language" class="xref">Requirements Language</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-problem-overview" class="xref">Problem Overview</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-theory-of-operation" class="xref">Theory of Operation</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-operation-of-the-hts-ingres" class="xref">Operation of the HTS Ingress Node</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-operation-of-the-hts-interm" class="xref">Operation of the HTS Intermediate Node</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="xref">4.3</a>.  <a href="#name-operation-of-the-hts-egress" class="xref">Operation of the HTS Egress Node</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4">
                <p id="section-toc.1-1.4.2.4.1"><a href="#section-4.4" class="xref">4.4</a>.  <a href="#name-considerations-for-hts-time" class="xref">Considerations for HTS Timers</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.5">
                <p id="section-toc.1-1.4.2.5.1"><a href="#section-4.5" class="xref">4.5</a>.  <a href="#name-deploying-hts-in-a-multicas" class="xref">Deploying HTS in a Multicast Network</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-authentication-in-hts" class="xref">Authentication in HTS</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="xref">6.1</a>.  <a href="#name-ioam-option-type-for-hts" class="xref">IOAM Option-Type for HTS</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="xref">6.2</a>.  <a href="#name-hts-tlv-registry" class="xref">HTS TLV Registry</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a href="#section-6.3" class="xref">6.3</a>.  <a href="#name-hts-sub-tlv-type-sub-regist" class="xref">HTS Sub-TLV Type Sub-registry</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.4">
                <p id="section-toc.1-1.6.2.4.1"><a href="#section-6.4" class="xref">6.4</a>.  <a href="#name-hmac-type-sub-registry" class="xref">HMAC Type Sub-registry</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-acknowledgments" class="xref">Acknowledgments</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-references" class="xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a href="#section-9.1" class="xref">9.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2">
                <p id="section-toc.1-1.9.2.2.1"><a href="#section-9.2" class="xref">9.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#appendix-A" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="intro">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">
Successful resolution of challenges of automated network operation, as part of, for example, overall service orchestration
or data center operation,
relies on a timely collection of accurate information that reflects the state of network elements on an unprecedented
scale. Because performing the analysis and act upon the collected information requires considerable computing and storage
resources, the network state information is unlikely to be processed by the network elements themselves
but will be relayed into the data storage facilities, e.g., data lakes. The process of producing, collecting network state information
also referred to in this document as network telemetry, and transporting it for post-processing
should work equally well with data flows or injected in the network test packets. RFC 7799 <span>[<a href="#RFC7799" class="xref">RFC7799</a>]</span> 
describes a combination of elements of passive and active measurement as a hybrid measurement.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">
     Several technical methods have been proposed to enable the collection of network state information
     instantaneous to the packet processing, among them <span>[<a href="#P4.INT" class="xref">P4.INT</a>]</span> and
     <span>[<a href="#I-D.ietf-ippm-ioam-data" class="xref">I-D.ietf-ippm-ioam-data</a>]</span>. The instantaneous, i.e., in the data packet itself, collection
     of telemetry information simplifies the process of attribution of telemetry information to the particular monitored flow.
     On the other hand, this collection method impacts the data packets, potentially changing their treatment by the networking nodes.
     Also, the amount of information the instantaneous method collects might be incomplete because of the limited space it can be allotted.
     Other proposals defined methods to collect telemetry information in a separate packet from
     each node traversed by the monitored data flow. Examples of
     this approach to collecting telemetry information are <span>[<a href="#I-D.ietf-ippm-ioam-direct-export" class="xref">I-D.ietf-ippm-ioam-direct-export</a>]</span>
     and <span>[<a href="#I-D.song-ippm-postcard-based-telemetry" class="xref">I-D.song-ippm-postcard-based-telemetry</a>]</span>.
     These methods allow data collection from any arbitrary path and avoid directly impacting data packets.
     On the other hand, the correlation of data and the monitored flow requires that each packet with telemetry information also includes
     characteristic information about the monitored flow.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">
This document introduces Hybrid Two-Step (HTS) as a new method of telemetry collection that  improvers
accuracy of a measurement by separating the act of
measuring or calculating the performance metric from the collecting and transporting this information while minimizing the overhead
of the generated load in a network.
HTS method extends the two-step mode of Residence Time Measurement (RTM) defined in <span>[<a href="#RFC8169" class="xref">RFC8169</a>]</span> to on-path network state
collection and transport. HTS allows the collection of telemetry information from any arbitrary path, does not change data packets of the monitored flow
and makes the process of attribution of telemetry to the data flow simple.<a href="#section-1-3" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-2">
      <h2 id="name-conventions-used-in-this-do">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-conventions-used-in-this-do" class="section-name selfRef">Conventions used in this document</a>
      </h2>
<section id="section-2.1">
        <h3 id="name-acronyms">
<a href="#section-2.1" class="section-number selfRef">2.1. </a><a href="#name-acronyms" class="section-name selfRef">Acronyms</a>
        </h3>
<p id="section-2.1-1">RTM              Residence Time Measurement<a href="#section-2.1-1" class="pilcrow">¶</a></p>
<p id="section-2.1-2">ECMP            Equal Cost Multipath<a href="#section-2.1-2" class="pilcrow">¶</a></p>
<p id="section-2.1-3">MTU              Maximum Transmission Unit<a href="#section-2.1-3" class="pilcrow">¶</a></p>
<p id="section-2.1-4">HTS               Hybrid Two-Step<a href="#section-2.1-4" class="pilcrow">¶</a></p>
<p id="section-2.1-5">HMAC           Hashed Message Authentication Code<a href="#section-2.1-5" class="pilcrow">¶</a></p>
<p id="section-2.1-6">Network telemetry - the process of collecting and reporting of network state<a href="#section-2.1-6" class="pilcrow">¶</a></p>
</section>
<section id="section-2.2">
        <h3 id="name-requirements-language">
<a href="#section-2.2" class="section-number selfRef">2.2. </a><a href="#name-requirements-language" class="section-name selfRef">Requirements Language</a>
        </h3>
<p id="section-2.2-1">
   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL
   NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED",
   "MAY", and "OPTIONAL" in this document are to be interpreted as
   described in BCP 14 <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span> 
   when, and only when, they appear in all capitals, as shown here.<a href="#section-2.2-1" class="pilcrow">¶</a></p>
</section>
</section>
<div id="overview-sec">
<section id="section-3">
      <h2 id="name-problem-overview">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-problem-overview" class="section-name selfRef">Problem Overview</a>
      </h2>
<p id="section-3-1">
     Performance measurements are meant to provide data that characterize conditions experienced by traffic flows in the network
     and possibly trigger operational changes (e.g., re-route of flows, or changes in resource allocations). Modifications to a network 
     are determined based on the performance metric information available when a change is to be made. 
     The correctness of this determination is based on the quality of the collected metrics data. The quality of collected 
     measurement data is defined by:<a href="#section-3-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3-2.1">the resolution and accuracy of each measurement;<a href="#section-3-2.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-3-2.2">predictability of both the time at which each measurement is made and the timeliness of measurement collection data delivery for use.<a href="#section-3-2.2" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-3-3">
    Consider the case of delay measurement that relies on collecting time
     of packet arrival at the ingress interface and time of the packet transmission at the egress interface. 
The method includes recording a local clock value on receiving the first octet of an affected message 
at the device ingress, and again recording the clock value on transmitting the first byte of the same message 
at the device egress. In this ideal case, the difference between the two recorded clock times corresponds 
to the time that the message spent in traversing the device. In practice, the time recorded can differ 
from the ideal case by any fixed amount. A correction can be applied to compute the same time 
difference taking into account the known fixed time associated with the actual measurement. 
In this way, the resulting time difference reflects any variable delay associated with queuing.<a href="#section-3-3" class="pilcrow">¶</a></p>
<p id="section-3-4">
Depending on the implementation, it may be a challenge to 
compute the difference between message arrival and departure times and - on the 
fly - add the necessary residence time information to the same message.
     And that task may become even more challenging
     if the packet is encrypted. 
     Recording the departure of a packet time 
     in the same packet may be decremental to the accuracy of the measurement because
    the departure time includes the variable time component (such as that associated with buffering 
    and queuing of the packet). A similar problem may lower the quality of, for example, information
     that characterizes utilization of the egress interface. If unable to obtain the data consistently, without
     variable delays for additional processing, information may not accurately reflect the egress interface state.
     To mitigate this problem <span>[<a href="#RFC8169" class="xref">RFC8169</a>]</span> defined an RTM two-step mode.<a href="#section-3-4" class="pilcrow">¶</a></p>
<p id="section-3-5">
Another challenge associated with methods that collect network state information into the actual data packet is the risk to exceed the
Maximum Transmission Unit (MTU) size on the path, especially if the packet traverses overlay domains or VPNs. Since the fragmentation
is not available at the transport network, operators may have to reduce MTU size advertised to the client layer or risk
missing network state data for the part, most probably the latter part, of the path.<a href="#section-3-5" class="pilcrow">¶</a></p>
<p id="section-3-6">
      In some networks, for example, wireless that are in the scope
      of <span>[<a href="#I-D.ietf-raw-use-cases" class="xref">I-D.ietf-raw-use-cases</a>]</span>, it is beneficial to collect the telemetry,
      including the calculated performance metrics, that reflects
      conditions experienced by the monitored flow at a node, other than the egress.
      For example, a head-end can optimize path selection based on the compounded information that reflects network conditions,
      resource utilization. This mode is referred to as the upstream collection and the other -
      downstream collection to differentiate between two modes of telemetry collection..<a href="#section-3-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="theory-operation">
<section id="section-4">
      <h2 id="name-theory-of-operation">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-theory-of-operation" class="section-name selfRef">Theory of Operation</a>
      </h2>
<p id="section-4-1">
          The HTS method consists of two phases:<a href="#section-4-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4-2.1">performing a measurement and/or obtaining network state information on a node;<a href="#section-4-2.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-4-2.2">collecting and transporting the measurement and/or the telemetry information.<a href="#section-4-2.2" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-4-3">
           HTS may use an HTS Trigger carried in a data packet or a specially
           constructed test packet. For example, an HTS Trigger could be a packet that has
           IOAM Option-Type set to the "IOAM Hybrid Two-Step Option-Type"
           value (TBA1) allocated by IANA (see <a href="#ioam-option-type-sec" class="xref">Section 6.1</a>).
           The HTS Trigger also includes IOAM Namespace-ID and IOAM-Trace-Type information
           <span>[<a href="#I-D.ietf-ippm-ioam-data" class="xref">I-D.ietf-ippm-ioam-data</a>]</span>. A packet in the flow to which
           the Alternate-Marking method <span>[<a href="#RFC8321" class="xref">RFC8321</a>]</span> is applied can be used as an HTS Trigger.
           The nature of the HTS Trigger is a transport network layer-specific, and its description
           is outside the scope of this document. The packet that includes the HTS Trigger
           in this document is also referred to as the trigger packet.<a href="#section-4-3" class="pilcrow">¶</a></p>
<p id="section-4-4">
The HTS method uses the HTS Follow-up packet, referred to
as the follow-up packet, to collect measurement and network state data from the nodes.
The node that creates the HTS Trigger also generates the HTS Follow-up packet.
In some use cases, e.g., when HTS is used to collect the telemetry, including performance metrics,
calculated based on a series of measurements,
an HTS follow-up packet can be originated without using the HTS Trigger.
The follow-up packet contains characteristic information
sufficient for participating HTS nodes to associate it with the monitored data flow.
The characteristic information can be obtained using the information of the trigger packet
or constructed by a node that originates the follow-up packet.
As the follow-up packet is expected to traverse the same sequence of nodes, one element
of the characteristic information is the information that determines the path in the data plane. For example,
in a segment routing domain <span>[<a href="#RFC8402" class="xref">RFC8402</a>]</span>, a list of segment identifiers of the trigger packet is applied to the follow-up packet.
And in the case of the service function chain based on the Network Service Header <span>[<a href="#RFC8300" class="xref">RFC8300</a>]</span>,
the Base Header and Service Path Header of the trigger packet will be applied to the follow-up packet.
Also, when HTS is used to collect the telemetry information in an IOAM domain,
the IOAM trace option header <span>[<a href="#I-D.ietf-ippm-ioam-data" class="xref">I-D.ietf-ippm-ioam-data</a>]</span> of the trigger packet is applied in the follow-up packet.
The follow-up packet also uses the same
network information used to load-balance flows in 
equal-cost multipath (ECMP) as the trigger packet, e.g., IPv6 Flow Label <span>[<a href="#RFC6437" class="xref">RFC6437</a>]</span>
or an entropy label <span>[<a href="#RFC6790" class="xref">RFC6790</a>]</span>.
The exact composition of the
characteristic information is specific for each transport network, and its definition is 
outside the scope of this document.<a href="#section-4-4" class="pilcrow">¶</a></p>
<p id="section-4-5">
Only one outstanding follow-up packet MUST be on the node for the given path. 
That means that if the node receives an HTS Trigger
for the flow on which it still waits for the follow-up packet to the previous HTS Trigger, the node will
originate the follow-up packet to transport the former set of the
network state data and transmit it before it sends the follow-up
packet with the latest collection of network state information.<a href="#section-4-5" class="pilcrow">¶</a></p>
<p id="section-4-6">
      The following sections describe the operation of HTS nodes in the downstream mode of collecting the telemetry information.
      In the upstream mode, the bahavior of HTS nodes, in general, identical with the exception
      that the HTS Trigger packet does not precede the HTS Follow-up packet.<a href="#section-4-6" class="pilcrow">¶</a></p>
<div id="ingress-node-section">
<section id="section-4.1">
        <h3 id="name-operation-of-the-hts-ingres">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-operation-of-the-hts-ingres" class="section-name selfRef">Operation of the HTS Ingress Node</a>
        </h3>
<p id="section-4.1-1">
          A node that originates the HTS Trigger is referred to as the HTS ingress node.
          As stated, the ingress node originates the follow-up packet. The follow-up
          packet has the transport network encapsulation identical with the trigger packet
          followed by the HTS shim and one or more telemetry information elements
          encoded as Type-Length-Value {TLV}. <a href="#follow-up-fig" class="xref">Figure 1</a> displays an example of the follow-up
          packet format.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<span id="name-follow-up-packet-format"></span><div id="follow-up-fig">
<figure id="figure-1">
          <div class="alignLeft art-text artwork" id="section-4.1-2.1">
<pre>
     0                   1                   2                   3
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                                                               |
    ~                      Transport Network                        ~
    |                        Encapsulation                          |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |Ver|HTS Shim L |     Flags     |Sequence Number|   Reserved    |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                        HTS Max Length                         |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                    Telemetry Data Profile                     |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                                                               |
    ~                     Telemetry Data TLVs                       ~
    |                                                               |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-follow-up-packet-format" class="selfRef">Follow-up Packet Format</a>
          </figcaption></figure>
</div>
<p id="section-4.1-3">
          Fields of the HTS shim are as follows:<a href="#section-4.1-3" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-4.1-4.1">
          Version (Ver) is the two-bits long field. It specifies the version of the HTS shim format.
          This document defines the format for the 0b00 value of the field.<a href="#section-4.1-4.1" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-4.1-4.2">
          HTS Shim Length is the six bits-long field. It defines the length of
          the HTS shim in octets. The minimal value of the field is eight octets.<a href="#section-4.1-4.2" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-4.1-4.3">
            <span id="name-flags-field-format"></span><div id="flags-field-fig">
<figure id="figure-2">
              <div class="alignLeft art-text artwork" id="section-4.1-4.3.1.1">
<pre>
     0
     0 1 2 3 4 5 6 7
    +-+-+-+-+-+-+-+-+
    |F|  Reserved   |
    +-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-flags-field-format" class="selfRef">Flags Field Format</a>
              </figcaption></figure>
</div><a href="#section-4.1-4.3" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-4.1-4.4">
            <p id="section-4.1-4.4.1">
          Flags is eight-bits long. The format of the Flags field displayed in <a href="#flags-field-fig" class="xref">Figure 2</a>.<a href="#section-4.1-4.4.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.1-4.4.2.1">
          Full (F) flag MUST be set to zero by the node originating the HTS follow-up packet and MUST be set
          to one by the node that does not add its telemetry data to avoid exceeding MTU size.<a href="#section-4.1-4.4.2.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-4.1-4.4.2.2">
          The node originating the follow-up packet MUST zero the Reserved field and ignore it on the receipt.<a href="#section-4.1-4.4.2.2" class="pilcrow">¶</a>
</li>
            </ul>
</li>
          <li class="normal ulEmpty" id="section-4.1-4.5">
          Sequence Number is one octet-long field. The zero-based value of the field reflects the place of
          the HTS follow-up packet in the sequence of the HTS follow-up packets that originated in
          response to the same HTS trigger. The ingress node MUST set the value of the field to
          zero.<a href="#section-4.1-4.5" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-4.1-4.6">
          Reserved is one octet-long field. It MUST be zeroed on transmission and ignored on recepit.<a href="#section-4.1-4.6" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-4.1-4.7">
          HTS Max Length is four octet-long field. The value of th HTS Max Length
          field indicates the maximum length of the HTS Follow-up packet in octets.
          An operator MUST be able to configure the HTS Max Length field's value.
          The value SHOULD be set equal to the path MTU.<a href="#section-4.1-4.7" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-4.1-4.8">
          Telemetry Data Profile is the optional variable-length field of bit-size flags. 
          Each flag indicates the requested type of telemetry data to be collected at each HTS node.
          The increment of the field is four bytes with a minimum length of zero. For example,
          IOAM-Trace-Type information defined in <span>[<a href="#I-D.ietf-ippm-ioam-data" class="xref">I-D.ietf-ippm-ioam-data</a>]</span> can be used
          in the Telemetry Data Profile field.<a href="#section-4.1-4.8" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-4.1-4.9">
            <span id="name-telemetry-data-tlv-format"></span><div id="hts-tlv-fig">
<figure id="figure-3">
              <div class="alignLeft art-text artwork" id="section-4.1-4.9.1.1">
<pre>
       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |      Type     |    Reserved   |           Length              |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      ~                            Value                              ~
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-telemetry-data-tlv-format" class="selfRef">Telemetry Data TLV Format</a>
              </figcaption></figure>
</div><a href="#section-4.1-4.9" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-4.1-4.10">
            <p id="section-4.1-4.10.1">
          Telemetry Data TLV is a variable-length field. Multiple TLVs MAY be placed
   in an HTS packet. Additional TLVs may be enclosed within a given TLV, subject to the semantics of the (outer) TLV in question.
   <a href="#hts-tlv-fig" class="xref">Figure 3</a> presents the format of a Telemetry Data TLV, where fields are defined as the following:<a href="#section-4.1-4.10.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.1-4.10.2.1">
Type - a one-octet-long field that characterizes the interpretation of the Value field.<a href="#section-4.1-4.10.2.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-4.1-4.10.2.2">Reserved - one-octet-long field.<a href="#section-4.1-4.10.2.2" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-4.1-4.10.2.3">
Length - two-octet-long field equal to the length of the Value field in octets.<a href="#section-4.1-4.10.2.3" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-4.1-4.10.2.4">
Value - a variable-length field. The value of the Type field determines its interpretation and encoding.
IOAM data fields, defined in <span>[<a href="#I-D.ietf-ippm-ioam-data" class="xref">I-D.ietf-ippm-ioam-data</a>]</span>, MAY be carried in the Value field.<a href="#section-4.1-4.10.2.4" class="pilcrow">¶</a>
</li>
            </ul>
</li>
        </ul>
<p id="section-4.1-5">
             All multibyte fields defined in this specification are in network byte order.<a href="#section-4.1-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="intermediate-node-section">
<section id="section-4.2">
        <h3 id="name-operation-of-the-hts-interm">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-operation-of-the-hts-interm" class="section-name selfRef">Operation of the HTS Intermediate Node</a>
        </h3>
<p id="section-4.2-1">
          Upon receiving the trigger packet, the HTS intermediate node MUST:<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.2-2.1">copy the transport information;<a href="#section-4.2-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.2-2.2">start the HTS Follow-up Timer for the obtained flow;<a href="#section-4.2-2.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.2-2.3">transmit the trigger packet.<a href="#section-4.2-2.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-4.2-3">
          Upon receiving the follow-up packet, the HTS intermediate node MUST:<a href="#section-4.2-3" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-4.2-4">
<li id="section-4.2-4.1">
          verify that the matching transport information exists and the Full flag is cleared,
          then stop the associated HTS Follow-up Timer;<a href="#section-4.2-4.1" class="pilcrow">¶</a>
</li>
          <li id="section-4.2-4.2">otherwise, transmit the received packet. Proceed to Step 8;<a href="#section-4.2-4.2" class="pilcrow">¶</a>
</li>
          <li id="section-4.2-4.3">
          collect telemetry data requested in the Telemetry Data
          Profile field or defined by the local HTS policy;<a href="#section-4.2-4.3" class="pilcrow">¶</a>
</li>
          <li id="section-4.2-4.4">
          if adding the collected telemetry would not exceed HTS Max Length field's value,
          then append data as a new Telemetry Data TLV
          and transmit the follow-up packet. Proceed to Step 8;<a href="#section-4.2-4.4" class="pilcrow">¶</a>
</li>
          <li id="section-4.2-4.5">
          otherwise, set the value of the Full flag to one,
          copy the transport information from the received
          follow-up packet and transmit it accordingly. Proceed to Step 8;<a href="#section-4.2-4.5" class="pilcrow">¶</a>
</li>
          <li id="section-4.2-4.6">
          originate the new follow-up packet using the transport information copied from the received follow-up packet.
          The value of the Sequence Number field in the HTS shim MUST be set
          to the value of the field in the received follow-up packet incremented by one;<a href="#section-4.2-4.6" class="pilcrow">¶</a>
</li>
          <li id="section-4.2-4.7">
          copy collected telemetry data into the first Telemetry Data TLV's Value field
          and then transmit the packet;<a href="#section-4.2-4.7" class="pilcrow">¶</a>
</li>
          <li id="section-4.2-4.8">processing completed.<a href="#section-4.2-4.8" class="pilcrow">¶</a>
</li>
        </ol>
<p id="section-4.2-5">
          If the HTS Follow-up Timer expires, the intermediate node MUST:<a href="#section-4.2-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.2-6.1">
          originate the follow-up packet using transport information associated with the expired timer;<a href="#section-4.2-6.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.2-6.2">
          initialize the HTS shim by setting the Version field's value to 0b00 and Sequence Number field to 0.
          Values of HTS Shim Length and Telemetry Data Profile fields
          MAY be set according to the local policy.<a href="#section-4.2-6.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.2-6.3">
          copy telemetry information into Telemetry Data TLV's Value field and transmit the packet.<a href="#section-4.2-6.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-4.2-7">
          If the intermediate node receives a "late" follow-up packet,
          i.e., a packet to which the node has no associated HTS Follow-up timer,
          the node MUST forward the "late" packet.<a href="#section-4.2-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="egress-node-section">
<section id="section-4.3">
        <h3 id="name-operation-of-the-hts-egress">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-operation-of-the-hts-egress" class="section-name selfRef">Operation of the HTS Egress Node</a>
        </h3>
<p id="section-4.3-1">
          Upon receiving the trigger packet, the HTS egress node MUST:<a href="#section-4.3-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.3-2.1">
          copy the transport information;<a href="#section-4.3-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.3-2.2">
          start the HTS Collection timer for the obtained flow.<a href="#section-4.3-2.2" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-4.3-3">
          When the egress node receives the follow-up packet for the known flow, 
          i.e., the flow to which the Collection timer is running, the node for each of Telemetry Data TLVs MUST:<a href="#section-4.3-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.3-4.1">
          if HTS is used in the authenticated mode, verify the authentication of the Telemetry Data TLV using the Authentication sub-TLV (see <a href="#authen-sec" class="xref">Section 5</a>);<a href="#section-4.3-4.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.3-4.2">
          copy telemetry information from the Value field;<a href="#section-4.3-4.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.3-4.3">
          restart the corresponding Collection timer.<a href="#section-4.3-4.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-4.3-5">
          When the Collection timer expires, the egress relays the
          collected telemetry information for processing and analysis
          to a local or remote agent.<a href="#section-4.3-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="hts-timers-section">
<section id="section-4.4">
        <h3 id="name-considerations-for-hts-time">
<a href="#section-4.4" class="section-number selfRef">4.4. </a><a href="#name-considerations-for-hts-time" class="section-name selfRef">Considerations for HTS Timers</a>
        </h3>
<p id="section-4.4-1">
          This specification defines two timers - HTS Follow-up and HTS Collection. 
          For the particular flow, there MUST be no more than one HTS Trigger,
          values of HTS timers bounded by the rate of the trigger generation for that flow.<a href="#section-4.4-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="hts-mcast-section">
<section id="section-4.5">
        <h3 id="name-deploying-hts-in-a-multicas">
<a href="#section-4.5" class="section-number selfRef">4.5. </a><a href="#name-deploying-hts-in-a-multicas" class="section-name selfRef">Deploying HTS in a Multicast Network</a>
        </h3>
<p id="section-4.5-1">
          Previous sections discussed the operation of HTS in a unicast network. Multicast services are important,
          and the ability to collect telemetry information is invaluable in delivering a high quality of experience.
          While the replication of data packets is necessary, replication of HTS follow-up packets is not.
          Replication of multicast data packets down a multicast tree may be set based on multicast routing information
          or explicit information included in the special header, as, for example, in Bit-Indexed Explicit Replication
          <span>[<a href="#RFC8296" class="xref">RFC8296</a>]</span>. A replicating node
          processes the HTS packet as defined below:<a href="#section-4.5-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.5-2.1">the first transmitted multicast packet MUST be followed
          by the received corresponding HTS packet as described in <a href="#intermediate-node-section" class="xref">Section 4.2</a>;<a href="#section-4.5-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.5-2.2">each consecutively transmitted copy of the original multicast packet MUST be followed by the new HTS packet
          originated by the replicating node that acts as an intermediate HTS node when the HTS Follow-up timer expired.<a href="#section-4.5-2.2" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-4.5-3">
          As a result, there are no duplicate copies of Telemetry Data TLV
          for the same pair of ingress and egress interfaces. At the same time,
          all ingress/egress pairs traversed by the given multicast packet reflected in their respective Telemetry Data TLV.
          Consequently, a centralized controller would reconstruct and analyze the state
          of the particular multicast distribution tree based on HTS packets collected from egress nodes.<a href="#section-4.5-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="authen-sec">
<section id="section-5">
      <h2 id="name-authentication-in-hts">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-authentication-in-hts" class="section-name selfRef">Authentication in HTS</a>
      </h2>
<p id="section-5-1">
 Telemetry information may be used to drive network operation, closing the control loop for self-driving, self-healing networks.
 Thus it is critical to provide a mechanism to protect the telemetry information collected using the HTS method. This document
 defines an optional authentication of a Telemetry Data TLV that protects the collected information's integrity.<a href="#section-5-1" class="pilcrow">¶</a></p>
<p id="section-5-2">
 The format of the Authentication sub-TLV is displayed in <a href="#hmac-tlv-fig" class="xref">Figure 4</a>.<a href="#section-5-2" class="pilcrow">¶</a></p>
<span id="name-hmac-sub-tlv"></span><div id="hmac-tlv-fig">
<figure id="figure-4">
        <div class="alignLeft art-text artwork" id="section-5-3.1">
<pre>
    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Authentic. Type|   HMAC Type   |             Length            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   |                            Digest                             |
   |                                                               |
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a>:
<a href="#name-hmac-sub-tlv" class="selfRef">HMAC sub-TLV</a>
        </figcaption></figure>
</div>
<p id="section-5-4"> 
        where fields are defined as follows:<a href="#section-5-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5-5.1">Authentication Type - is a one-octet-long field, value TBA2 allocated by IANA <a href="#iana-hts-tlv-registry" class="xref">Section 6.2</a>.<a href="#section-5-5.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-5-5.2">Length - two-octet-long field, set equal to the length of the Digest field in octets.<a href="#section-5-5.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-5-5.3">
        HMAC Type - is a one-octet-long field that identifies the type of the HMAC and the length of the digest 
        and the length of the digest according to the HTS HMAC Type sub-registry (see <a href="#iana-sha-type-reg" class="xref">Section 6.4</a>).<a href="#section-5-5.3" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-5-5.4">Digest - is a variable-length field that carries HMAC digest of the text that includes the encompassing TLV.<a href="#section-5-5.4" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-5-6">
 This specification defines the use of HMAC-SHA-256 truncated to 128 bits (<span>[<a href="#RFC4868" class="xref">RFC4868</a>]</span>) in HTS.
 Future specifications may define the use in HTS of more advanced cryptographic algorithms or the use of digest of a different length.
 HMAC is calculated as defined in <span>[<a href="#RFC2104" class="xref">RFC2104</a>]</span> over text as the concatenation of
 the Sequence Number field of the follow-up packet (see <a href="#follow-up-fig" class="xref">Figure 1</a>) and the
 preceding data collected in the Telemetry Data TLV. The digest then MUST be truncated to 128 bits and written into the Digest field.
 Distribution and management of shared keys are outside the scope of this document.
 In the HTS authenticated mode, the Authentication sub-TLV MUST be present
 in each Telemetry Data TLV.
 HMAC MUST be verified before using any data in the included Telemetry Data TLV.
 If HMAC verification fails, the system MUST stop processing corresponding Telemetry Data TLV and notify an operator.
 Specification of the notification mechanism is outside the scope of this document.<a href="#section-5-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="iana-considerations">
<section id="section-6">
      <h2 id="name-iana-considerations">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<div id="ioam-option-type-sec">
<section id="section-6.1">
        <h3 id="name-ioam-option-type-for-hts">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-ioam-option-type-for-hts" class="section-name selfRef">IOAM Option-Type for HTS</a>
        </h3>
<p id="section-6.1-1">
The IOAM Option-Type registry is requested in <span>[<a href="#I-D.ietf-ippm-ioam-data" class="xref">I-D.ietf-ippm-ioam-data</a>]</span>. IANA is requested
to allocate a new code point as listed in <a href="#ioam-option-hts-tbl" class="xref">Table 1</a>.<a href="#section-6.1-1" class="pilcrow">¶</a></p>
<span id="name-ioam-option-type-for-hts-2"></span><div id="ioam-option-hts-tbl">
<table class="center" id="table-1">
          <caption>
<a href="#table-1" class="selfRef">Table 1</a>:
<a href="#name-ioam-option-type-for-hts-2" class="selfRef">IOAM Option-Type for HTS</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Value</th>
              <th class="text-center" rowspan="1" colspan="1">Description</th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">TBA1</td>
              <td class="text-center" rowspan="1" colspan="1">IOAM Hybrid Two-Step Option-Type</td>
              <td class="text-left" rowspan="1" colspan="1">This document</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</div>
<div id="iana-hts-tlv-registry">
<section id="section-6.2">
        <h3 id="name-hts-tlv-registry">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-hts-tlv-registry" class="section-name selfRef">HTS TLV Registry</a>
        </h3>
<p id="section-6.2-1">
   IANA is requested to create the HTS TLV Type registry.
    All code points in the range 1 through 175 in this registry shall be allocated
    according to the "IETF Review" procedure specified in <span>[<a href="#RFC8126" class="xref">RFC8126</a>]</span>.
    Code points in the range
     176 through 239 in this registry shall be allocated according to the "First Come First Served" procedure
     specified in <span>[<a href="#RFC8126" class="xref">RFC8126</a>]</span>.
         The remaining code points are allocated according to <a href="#iana-hts-type-tbl" class="xref">Table 2</a>:<a href="#section-6.2-1" class="pilcrow">¶</a></p>
<span id="name-hts-tlv-type-registry"></span><div id="iana-hts-type-tbl">
<table class="center" id="table-2">
          <caption>
<a href="#table-2" class="selfRef">Table 2</a>:
<a href="#name-hts-tlv-type-registry" class="selfRef">HTS TLV Type Registry</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Value</th>
              <th class="text-center" rowspan="1" colspan="1">Description</th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0</td>
              <td class="text-center" rowspan="1" colspan="1">Reserved</td>
              <td class="text-left" rowspan="1" colspan="1">This document</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">1- 175</td>
              <td class="text-center" rowspan="1" colspan="1">Unassigned</td>
              <td class="text-left" rowspan="1" colspan="1">This document</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">176 - 239</td>
              <td class="text-center" rowspan="1" colspan="1">Unassigned</td>
              <td class="text-left" rowspan="1" colspan="1">This document</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">240 - 251</td>
              <td class="text-center" rowspan="1" colspan="1">Experimental</td>
              <td class="text-left" rowspan="1" colspan="1">This document</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">252 - 254</td>
              <td class="text-center" rowspan="1" colspan="1">Private Use</td>
              <td class="text-left" rowspan="1" colspan="1">This document</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">255</td>
              <td class="text-center" rowspan="1" colspan="1">Reserved</td>
              <td class="text-left" rowspan="1" colspan="1">This document</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</div>
<div id="iana-hts-sub-tlv-registry">
<section id="section-6.3">
        <h3 id="name-hts-sub-tlv-type-sub-regist">
<a href="#section-6.3" class="section-number selfRef">6.3. </a><a href="#name-hts-sub-tlv-type-sub-regist" class="section-name selfRef">HTS Sub-TLV Type Sub-registry</a>
        </h3>
<p id="section-6.3-1">
   IANA is requested to create the HTS sub-TLV Type sub-registry as part of the HTS TLV Type registry.
    All code points in the range 1 through 175 in this registry shall be allocated
    according to the "IETF Review" procedure specified in <span>[<a href="#RFC8126" class="xref">RFC8126</a>]</span>.
    Code points in the range
     176 through 239 in this registry shall be allocated according to the "First Come First Served" procedure
     specified in <span>[<a href="#RFC8126" class="xref">RFC8126</a>]</span>.
         The remaining code points are allocated according to <a href="#iana-hts-sub-type-tbl" class="xref">Table 3</a>:<a href="#section-6.3-1" class="pilcrow">¶</a></p>
<span id="name-hts-sub-tlv-type-sub-registr"></span><div id="iana-hts-sub-type-tbl">
<table class="center" id="table-3">
          <caption>
<a href="#table-3" class="selfRef">Table 3</a>:
<a href="#name-hts-sub-tlv-type-sub-registr" class="selfRef">HTS Sub-TLV Type Sub-registry</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Value</th>
              <th class="text-center" rowspan="1" colspan="1">Description</th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0</td>
              <td class="text-center" rowspan="1" colspan="1">Reserved</td>
              <td class="text-left" rowspan="1" colspan="1">This document</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">1- 175</td>
              <td class="text-center" rowspan="1" colspan="1">Unassigned</td>
              <td class="text-left" rowspan="1" colspan="1">This document</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">176 - 239</td>
              <td class="text-center" rowspan="1" colspan="1">Unassigned</td>
              <td class="text-left" rowspan="1" colspan="1">This document</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">240 - 251</td>
              <td class="text-center" rowspan="1" colspan="1">Experimental</td>
              <td class="text-left" rowspan="1" colspan="1">This document</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">252 - 254</td>
              <td class="text-center" rowspan="1" colspan="1">Private Use</td>
              <td class="text-left" rowspan="1" colspan="1">This document</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">255</td>
              <td class="text-center" rowspan="1" colspan="1">Reserved</td>
              <td class="text-left" rowspan="1" colspan="1">This document</td>
            </tr>
          </tbody>
        </table>
</div>
<p id="section-6.3-3">This document defines the following new values in the IETF Review range of the HTS sub-TLV Type sub-registry:<a href="#section-6.3-3" class="pilcrow">¶</a></p>
<span id="name-hts-sub-tlv-types"></span><div id="sub-tlv-type-tbl">
<table class="center" id="table-4">
          <caption>
<a href="#table-4" class="selfRef">Table 4</a>:
<a href="#name-hts-sub-tlv-types" class="selfRef">HTS sub-TLV Types</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Value</th>
              <th class="text-center" rowspan="1" colspan="1">Description</th>
              <th class="text-left" rowspan="1" colspan="1">TLV Used</th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">TBA2</td>
              <td class="text-center" rowspan="1" colspan="1">HMAC</td>
              <td class="text-left" rowspan="1" colspan="1">Any</td>
              <td class="text-left" rowspan="1" colspan="1">This document</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</div>
<div id="iana-sha-type-reg">
<section id="section-6.4">
        <h3 id="name-hmac-type-sub-registry">
<a href="#section-6.4" class="section-number selfRef">6.4. </a><a href="#name-hmac-type-sub-registry" class="section-name selfRef">HMAC Type Sub-registry</a>
        </h3>
<p id="section-6.4-1">
   IANA is requested to create the HMAC Type sub-registry as part of the HTS TLV Type registry.
    All code points in the range 1 through 127 in this registry shall be allocated
    according to the "IETF Review" procedure specified in <span>[<a href="#RFC8126" class="xref">RFC8126</a>]</span>.
    Code points in the range
     128 through 239 in this registry shall be allocated according to the "First Come First Served" procedure
     specified in <span>[<a href="#RFC8126" class="xref">RFC8126</a>]</span>.
         The remaining code points are allocated according to <a href="#iana-sha-type-tbl" class="xref">Table 5</a>:<a href="#section-6.4-1" class="pilcrow">¶</a></p>
<span id="name-hmac-type-sub-registry-2"></span><div id="iana-sha-type-tbl">
<table class="center" id="table-5">
          <caption>
<a href="#table-5" class="selfRef">Table 5</a>:
<a href="#name-hmac-type-sub-registry-2" class="selfRef">HMAC Type Sub-registry</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Value</th>
              <th class="text-center" rowspan="1" colspan="1">Description</th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0</td>
              <td class="text-center" rowspan="1" colspan="1">Reserved</td>
              <td class="text-left" rowspan="1" colspan="1">This document</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">1- 127</td>
              <td class="text-center" rowspan="1" colspan="1">Unassigned</td>
              <td class="text-left" rowspan="1" colspan="1">This document</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">128 - 239</td>
              <td class="text-center" rowspan="1" colspan="1">Unassigned</td>
              <td class="text-left" rowspan="1" colspan="1">This document</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">240 - 249</td>
              <td class="text-center" rowspan="1" colspan="1">Experimental</td>
              <td class="text-left" rowspan="1" colspan="1">This document</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">250 - 254</td>
              <td class="text-center" rowspan="1" colspan="1">Private Use</td>
              <td class="text-left" rowspan="1" colspan="1">This document</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">255</td>
              <td class="text-center" rowspan="1" colspan="1">Reserved</td>
              <td class="text-left" rowspan="1" colspan="1">This document</td>
            </tr>
          </tbody>
        </table>
</div>
<p id="section-6.4-3">     This document defines the following new values in the HMAC Type sub-registry:<a href="#section-6.4-3" class="pilcrow">¶</a></p>
<span id="name-hmac-types"></span><div id="sha-type-new-tbl">
<table class="center" id="table-6">
          <caption>
<a href="#table-6" class="selfRef">Table 6</a>:
<a href="#name-hmac-types" class="selfRef">HMAC Types</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Value</th>
              <th class="text-center" rowspan="1" colspan="1">Description</th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">1</td>
              <td class="text-center" rowspan="1" colspan="1">HMAC-SHA-256 16 octets long</td>
              <td class="text-left" rowspan="1" colspan="1">This document</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</div>
</section>
</div>
<div id="security">
<section id="section-7">
      <h2 id="name-security-considerations">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-7-1">
Nodes that practice the HTS method are presumed to share a trust model that depends on the existence of a trusted
relationship among nodes. This is necessary as these nodes are expected to
   correctly modify the specific content of the data in the follow-up packet, and the
   degree to which HTS measurement is useful for network operation depends on this ability. In
   practice, this means either confidentiality or integrity protection
   cannot cover those portions of messages that contain the network state data. Though
   there are methods that make it possible in theory to provide either
   or both such protections and still allow for intermediate nodes to
   make detectable yet authenticated modifications, such methods do not
   seem practical at present, particularly for protocols that used to
   measure latency and/or jitter.<a href="#section-7-1" class="pilcrow">¶</a></p>
<p id="section-7-2">
This document defines the use of authentication (<a href="#authen-sec" class="xref">Section 5</a>) to protect the integrity of
the telemetry information collected using the HTS method. Privacy protection can be achieved by, for example, sharing
the IPsec tunnel with a data flow that generates information that is collected using HTS.<a href="#section-7-2" class="pilcrow">¶</a></p>
<p id="section-7-3">
   While it is possible for a supposed compromised node to intercept and
   modify the network state information in the follow-up packet;
  this is an issue that exists for nodes in
   general - for all data that to be carried over the particular networking
   technology - and is therefore the basis for an additional presumed trust model
   associated with an existing network.<a href="#section-7-3" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-8">
      <h2 id="name-acknowledgments">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-acknowledgments" class="section-name selfRef">Acknowledgments</a>
      </h2>
<p id="section-8-1">
         Authors express their gratitude and appreciation to Joel Halpern
         for the most helpful and insightful discussion on the applicability of
         HTS in a Service Function Chaining domain.<a href="#section-8-1" class="pilcrow">¶</a></p>
</section>
<section id="section-9">
      <h2 id="name-references">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-9.1">
        <h3 id="name-normative-references">
<a href="#section-9.1" class="section-number selfRef">9.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2104">[RFC2104]</dt>
        <dd>
<span class="refAuthor">Krawczyk, H.</span>, <span class="refAuthor">Bellare, M.</span>, and <span class="refAuthor">R. Canetti</span>, <span class="refTitle">"HMAC: Keyed-Hashing for Message Authentication"</span>, <span class="seriesInfo">RFC 2104</span>, <span class="seriesInfo">DOI 10.17487/RFC2104</span>, <time datetime="1997-02" class="refDate">February 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2104">https://www.rfc-editor.org/info/rfc2104</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8126">[RFC8126]</dt>
        <dd>
<span class="refAuthor">Cotton, M.</span>, <span class="refAuthor">Leiba, B.</span>, and <span class="refAuthor">T. Narten</span>, <span class="refTitle">"Guidelines for Writing an IANA Considerations Section in RFCs"</span>, <span class="seriesInfo">BCP 26</span>, <span class="seriesInfo">RFC 8126</span>, <span class="seriesInfo">DOI 10.17487/RFC8126</span>, <time datetime="2017-06" class="refDate">June 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8126">https://www.rfc-editor.org/info/rfc8126</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
      <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-9.2">
        <h3 id="name-informative-references">
<a href="#section-9.2" class="section-number selfRef">9.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="I-D.ietf-ippm-ioam-data">[I-D.ietf-ippm-ioam-data]</dt>
        <dd>
<span class="refAuthor">Brockners, F.</span>, <span class="refAuthor">Bhandari, S.</span>, and <span class="refAuthor">T. Mizrahi</span>, <span class="refTitle">"Data Fields for In-situ OAM"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-ippm-ioam-data-17</span>, <time datetime="2021-12-13" class="refDate">13 December 2021</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-ippm-ioam-data-17">https://datatracker.ietf.org/doc/html/draft-ietf-ippm-ioam-data-17</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-ippm-ioam-direct-export">[I-D.ietf-ippm-ioam-direct-export]</dt>
        <dd>
<span class="refAuthor">Song, H.</span>, <span class="refAuthor">Gafni, B.</span>, <span class="refAuthor">Zhou, T.</span>, <span class="refAuthor">Li, Z.</span>, <span class="refAuthor">Brockners, F.</span>, <span class="refAuthor">Bhandari, S.</span>, <span class="refAuthor">Sivakolundu, R.</span>, and <span class="refAuthor">T. Mizrahi</span>, <span class="refTitle">"In-situ OAM Direct Exporting"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-ippm-ioam-direct-export-07</span>, <time datetime="2021-10-13" class="refDate">13 October 2021</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-ippm-ioam-direct-export-07">https://datatracker.ietf.org/doc/html/draft-ietf-ippm-ioam-direct-export-07</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-raw-use-cases">[I-D.ietf-raw-use-cases]</dt>
        <dd>
<span class="refAuthor">Papadopoulos, G. Z.</span>, <span class="refAuthor">Thubert, P.</span>, <span class="refAuthor">Theoleyre, F.</span>, and <span class="refAuthor">C. J. Bernardos</span>, <span class="refTitle">"RAW use cases"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-raw-use-cases-03</span>, <time datetime="2021-10-20" class="refDate">20 October 2021</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-raw-use-cases-03">https://datatracker.ietf.org/doc/html/draft-ietf-raw-use-cases-03</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.song-ippm-postcard-based-telemetry">[I-D.song-ippm-postcard-based-telemetry]</dt>
        <dd>
<span class="refAuthor">Song, H.</span>, <span class="refAuthor">Mirsky, G.</span>, <span class="refAuthor">Filsfils, C.</span>, <span class="refAuthor">Abdelsalam, A.</span>, <span class="refAuthor">Zhou, T.</span>, <span class="refAuthor">Li, Z.</span>, <span class="refAuthor">Shin, J.</span>, and <span class="refAuthor">K. Lee</span>, <span class="refTitle">"In-Situ OAM Marking-based Direct Export"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-song-ippm-postcard-based-telemetry-11</span>, <time datetime="2021-11-15" class="refDate">15 November 2021</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-song-ippm-postcard-based-telemetry-11">https://datatracker.ietf.org/doc/html/draft-song-ippm-postcard-based-telemetry-11</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="P4.INT">[P4.INT]</dt>
        <dd>
<span class="refTitle">"In-band Network Telemetry (INT)"</span>, <span class="seriesInfo">P4.org Specification</span>, <time datetime="2017-10" class="refDate">October 2017</time>. </dd>
<dd class="break"></dd>
<dt id="RFC4868">[RFC4868]</dt>
        <dd>
<span class="refAuthor">Kelly, S.</span> and <span class="refAuthor">S. Frankel</span>, <span class="refTitle">"Using HMAC-SHA-256, HMAC-SHA-384, and HMAC-SHA-512 with IPsec"</span>, <span class="seriesInfo">RFC 4868</span>, <span class="seriesInfo">DOI 10.17487/RFC4868</span>, <time datetime="2007-05" class="refDate">May 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4868">https://www.rfc-editor.org/info/rfc4868</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6437">[RFC6437]</dt>
        <dd>
<span class="refAuthor">Amante, S.</span>, <span class="refAuthor">Carpenter, B.</span>, <span class="refAuthor">Jiang, S.</span>, and <span class="refAuthor">J. Rajahalme</span>, <span class="refTitle">"IPv6 Flow Label Specification"</span>, <span class="seriesInfo">RFC 6437</span>, <span class="seriesInfo">DOI 10.17487/RFC6437</span>, <time datetime="2011-11" class="refDate">November 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6437">https://www.rfc-editor.org/info/rfc6437</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6790">[RFC6790]</dt>
        <dd>
<span class="refAuthor">Kompella, K.</span>, <span class="refAuthor">Drake, J.</span>, <span class="refAuthor">Amante, S.</span>, <span class="refAuthor">Henderickx, W.</span>, and <span class="refAuthor">L. Yong</span>, <span class="refTitle">"The Use of Entropy Labels in MPLS Forwarding"</span>, <span class="seriesInfo">RFC 6790</span>, <span class="seriesInfo">DOI 10.17487/RFC6790</span>, <time datetime="2012-11" class="refDate">November 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6790">https://www.rfc-editor.org/info/rfc6790</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7799">[RFC7799]</dt>
        <dd>
<span class="refAuthor">Morton, A.</span>, <span class="refTitle">"Active and Passive Metrics and Methods (with Hybrid Types In-Between)"</span>, <span class="seriesInfo">RFC 7799</span>, <span class="seriesInfo">DOI 10.17487/RFC7799</span>, <time datetime="2016-05" class="refDate">May 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7799">https://www.rfc-editor.org/info/rfc7799</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8169">[RFC8169]</dt>
        <dd>
<span class="refAuthor">Mirsky, G.</span>, <span class="refAuthor">Ruffini, S.</span>, <span class="refAuthor">Gray, E.</span>, <span class="refAuthor">Drake, J.</span>, <span class="refAuthor">Bryant, S.</span>, and <span class="refAuthor">A. Vainshtein</span>, <span class="refTitle">"Residence Time Measurement in MPLS Networks"</span>, <span class="seriesInfo">RFC 8169</span>, <span class="seriesInfo">DOI 10.17487/RFC8169</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8169">https://www.rfc-editor.org/info/rfc8169</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8296">[RFC8296]</dt>
        <dd>
<span class="refAuthor">Wijnands, IJ., Ed.</span>, <span class="refAuthor">Rosen, E., Ed.</span>, <span class="refAuthor">Dolganow, A.</span>, <span class="refAuthor">Tantsura, J.</span>, <span class="refAuthor">Aldrin, S.</span>, and <span class="refAuthor">I. Meilik</span>, <span class="refTitle">"Encapsulation for Bit Index Explicit Replication (BIER) in MPLS and Non-MPLS Networks"</span>, <span class="seriesInfo">RFC 8296</span>, <span class="seriesInfo">DOI 10.17487/RFC8296</span>, <time datetime="2018-01" class="refDate">January 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8296">https://www.rfc-editor.org/info/rfc8296</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8300">[RFC8300]</dt>
        <dd>
<span class="refAuthor">Quinn, P., Ed.</span>, <span class="refAuthor">Elzur, U., Ed.</span>, and <span class="refAuthor">C. Pignataro, Ed.</span>, <span class="refTitle">"Network Service Header (NSH)"</span>, <span class="seriesInfo">RFC 8300</span>, <span class="seriesInfo">DOI 10.17487/RFC8300</span>, <time datetime="2018-01" class="refDate">January 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8300">https://www.rfc-editor.org/info/rfc8300</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8321">[RFC8321]</dt>
        <dd>
<span class="refAuthor">Fioccola, G., Ed.</span>, <span class="refAuthor">Capello, A.</span>, <span class="refAuthor">Cociglio, M.</span>, <span class="refAuthor">Castaldelli, L.</span>, <span class="refAuthor">Chen, M.</span>, <span class="refAuthor">Zheng, L.</span>, <span class="refAuthor">Mirsky, G.</span>, and <span class="refAuthor">T. Mizrahi</span>, <span class="refTitle">"Alternate-Marking Method for Passive and Hybrid Performance Monitoring"</span>, <span class="seriesInfo">RFC 8321</span>, <span class="seriesInfo">DOI 10.17487/RFC8321</span>, <time datetime="2018-01" class="refDate">January 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8321">https://www.rfc-editor.org/info/rfc8321</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8402">[RFC8402]</dt>
      <dd>
<span class="refAuthor">Filsfils, C., Ed.</span>, <span class="refAuthor">Previdi, S., Ed.</span>, <span class="refAuthor">Ginsberg, L.</span>, <span class="refAuthor">Decraene, B.</span>, <span class="refAuthor">Litkowski, S.</span>, and <span class="refAuthor">R. Shakir</span>, <span class="refTitle">"Segment Routing Architecture"</span>, <span class="seriesInfo">RFC 8402</span>, <span class="seriesInfo">DOI 10.17487/RFC8402</span>, <time datetime="2018-07" class="refDate">July 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8402">https://www.rfc-editor.org/info/rfc8402</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="authors-addresses">
<section id="appendix-A">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Greg Mirsky</span></div>
<div dir="auto" class="left"><span class="org">Ericsson</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:gregimirsky@gmail.com" class="email">gregimirsky@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Wang Lingqiang</span></div>
<div dir="auto" class="left"><span class="org">ZTE Corporation</span></div>
<div dir="auto" class="left"><span class="street-address">No 19 ,East Huayuan Road</span></div>
<div dir="auto" class="left"><span class="locality">Beijing </span></div>
<div class="tel">
<span>Phone:</span>
<a href="tel:+86%2010%2082963945" class="tel">+86 10 82963945</a>
</div>
<div class="email">
<span>Email:</span>
<a href="mailto:wang.lingqiang@zte.com.cn" class="email">wang.lingqiang@zte.com.cn</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Guo Zhui</span></div>
<div dir="auto" class="left"><span class="org">ZTE Corporation</span></div>
<div dir="auto" class="left"><span class="street-address">No 19 ,East Huayuan Road</span></div>
<div dir="auto" class="left"><span class="locality">Beijing </span></div>
<div class="tel">
<span>Phone:</span>
<a href="tel:+86%2010%2082963945" class="tel">+86 10 82963945</a>
</div>
<div class="email">
<span>Email:</span>
<a href="mailto:guo.zhui@zte.com.cn" class="email">guo.zhui@zte.com.cn</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Haoyu Song</span></div>
<div dir="auto" class="left"><span class="org">Futurewei Technologies</span></div>
<div dir="auto" class="left"><span class="street-address">2330 Central Expressway</span></div>
<div dir="auto" class="left">
<span class="locality">Santa Clara</span>,  </div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:hsong@futurewei.com" class="email">hsong@futurewei.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
