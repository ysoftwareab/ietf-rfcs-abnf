<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>BIER Egress Protection</title>
<meta content="Huaimo Chen" name="author">
<meta content="Mike McBride" name="author">
<meta content="Aijun Wang" name="author">
<meta content="Gyan S. Mishra" name="author">
<meta content="Yisong Liu" name="author">
<meta content="Michael Menth" name="author">
<meta content="Boris Khasanov" name="author">
<meta content="Xuesong Geng" name="author">
<meta content="Yanhe Fan" name="author">
<meta content="Lei Liu" name="author">
<meta content="Xufeng Liu" name="author">
<meta content='
       This document describes a mechanism for fast protection against the
failure of an egress node of a "Bit Index Explicit Replication" (BIER)
domain. It is called BIER egress protection. It does not require any
per-flow state in the core of the domain. With BIER egress protection
the failure of a primary BFER (Bit Forwarding Egress Router) is
protected with a backup BFER such that traffic destined to the primary
BFER in the BIER domain is fast rerouted by a neighbor BFR to the backup
BFER on the BIER layer. The mechanism is applicable if all BIER traffic
sent to the primary BFER can reach its destination also via the backup
BFER. It is complementary to BIER-FRR which cannot protect against the
failure of a BFER. 
    ' name="description">
<meta content="xml2rfc 3.10.0" name="generator">
<meta content="draft-chen-bier-egress-protect-03" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.10.0
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.6.3
    pycountry 20.7.3
    pyflakes 2.4.0
    PyYAML 5.4.1
    requests 2.26.0
    setuptools 58.2.0
    six 1.16.0
-->
<link href="/tmp/draft-chen-bier-egress-protect-03-_91nnmv4.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">BIER Egress Protect</td>
<td class="right">October 2021</td>
</tr></thead>
<tfoot><tr>
<td class="left">Chen, et al.</td>
<td class="center">Expires 28 April 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Network Working Group</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-chen-bier-egress-protect-03</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2021-10-25" class="published">25 October 2021</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-04-28">28 April 2022</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">H. Chen</div>
<div class="org">Futurewei</div>
</div>
<div class="author">
      <div class="author-name">M. McBride</div>
<div class="org">Futurewei</div>
</div>
<div class="author">
      <div class="author-name">A. Wang</div>
<div class="org">China Telecom</div>
</div>
<div class="author">
      <div class="author-name">G. Mishra</div>
<div class="org">Verizon Inc.</div>
</div>
<div class="author">
      <div class="author-name">Y. Liu</div>
<div class="org">China Mobile</div>
</div>
<div class="author">
      <div class="author-name">M. Menth</div>
<div class="org">University of Tuebingen</div>
</div>
<div class="author">
      <div class="author-name">B. Khasanov</div>
<div class="org">Yandex LLC</div>
</div>
<div class="author">
      <div class="author-name">X. Geng</div>
<div class="org">Huawei</div>
</div>
<div class="author">
      <div class="author-name">Y. Fan</div>
<div class="org">Casa Systems</div>
</div>
<div class="author">
      <div class="author-name">L. Liu</div>
<div class="org">Fujitsu</div>
</div>
<div class="author">
      <div class="author-name">X. Liu</div>
<div class="org">Volta Networks</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">BIER Egress Protection</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This document describes a mechanism for fast protection against the
failure of an egress node of a "Bit Index Explicit Replication" (BIER)
domain. It is called BIER egress protection. It does not require any
per-flow state in the core of the domain. With BIER egress protection
the failure of a primary BFER (Bit Forwarding Egress Router) is
protected with a backup BFER such that traffic destined to the primary
BFER in the BIER domain is fast rerouted by a neighbor BFR to the backup
BFER on the BIER layer. The mechanism is applicable if all BIER traffic
sent to the primary BFER can reach its destination also via the backup
BFER. It is complementary to BIER-FRR which cannot protect against the
failure of a BFER.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<section class="note" id="section-note.1">
      <h2 id="name-requirements-language">
<a href="#name-requirements-language" class="section-name selfRef">Requirements Language</a>
      </h2>
<p id="section-note.1-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
      "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
      document are to be interpreted as described in 
      <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span> 
      when, and only when, they appear in all capitals, as shown here.<a href="#section-note.1-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo-2">
<a href="#name-status-of-this-memo-2" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 28 April 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice-2">
<a href="#name-copyright-notice-2" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2021 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents-2">
<a href="#name-table-of-contents-2" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction-2" class="xref">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="xref">1.1</a>.  <a href="#name-terminology" class="xref">Terminology</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-overview-of-bier-egress-pro" class="xref">Overview of BIER Egress Protection</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-protocol-extensions" class="xref">Protocol Extensions</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="xref">3.1</a>.  <a href="#name-extensions-to-ospf" class="xref">Extensions to OSPF</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="xref">3.2</a>.  <a href="#name-extensions-to-is-is" class="xref">Extensions to IS-IS</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-extensions-to-bift" class="xref">Extensions to BIFT</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-integrated-one-bift" class="xref">Integrated one BIFT</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.1">
                    <p id="section-toc.1-1.4.2.1.2.1.1"><a href="#section-4.1.1" class="xref">4.1.1</a>.  <a href="#name-ep-bift-on-bfr-as-plr" class="xref">EP-BIFT on BFR as PLR</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.2">
                    <p id="section-toc.1-1.4.2.1.2.2.1"><a href="#section-4.1.2" class="xref">4.1.2</a>.  <a href="#name-ep-bift-on-backup-egress" class="xref">EP-BIFT on Backup Egress</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.3">
                    <p id="section-toc.1-1.4.2.1.2.3.1"><a href="#section-4.1.3" class="xref">4.1.3</a>.  <a href="#name-updated-forwarding-procedur" class="xref">Updated Forwarding Procedure for Integrated BIFT</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-multiple-backup-bifts" class="xref">Multiple Backup BIFTs</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.1">
                    <p id="section-toc.1-1.4.2.2.2.1.1"><a href="#section-4.2.1" class="xref">4.2.1</a>.  <a href="#name-multiple-backup-bifts-on-bf" class="xref">Multiple Backup BIFTs on BFR as PLR</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.2">
                    <p id="section-toc.1-1.4.2.2.2.2.1"><a href="#section-4.2.2" class="xref">4.2.2</a>.  <a href="#name-multiple-backup-bifts-on-ba" class="xref">Multiple Backup BIFTs on Backup Egress</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.3">
                    <p id="section-toc.1-1.4.2.2.2.3.1"><a href="#section-4.2.3" class="xref">4.2.3</a>.  <a href="#name-updated-forwarding-procedure-" class="xref">Updated Forwarding Procedure for Multiple BIFTs</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.4">
                    <p id="section-toc.1-1.4.2.2.2.4.1"><a href="#section-4.2.4" class="xref">4.2.4</a>.  <a href="#name-switching-between-ep-and-no" class="xref">Switching between EP and Normal Forwarding</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-example-application-of-bier" class="xref">Example Application of BIER Egress Protection</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="xref">5.1</a>.  <a href="#name-birt-and-bift-on-a-bfr" class="xref">BIRT and BIFT on a BFR</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="xref">5.2</a>.  <a href="#name-backup-birts-and-backup-bif" class="xref">Backup BIRTs and Backup BIFTs on a BFR</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3">
                <p id="section-toc.1-1.5.2.3.1"><a href="#section-5.3" class="xref">5.3</a>.  <a href="#name-forwarding-using-backup-bif" class="xref">Forwarding using Backup BIFT</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-security-considerations-2" class="xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-iana-considerations-2" class="xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-acknowledgements-2" class="xref">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-references-2" class="xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a href="#section-9.1" class="xref">9.1</a>.  <a href="#name-normative-references-2" class="xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2">
                <p id="section-toc.1-1.9.2.2.1"><a href="#section-9.2" class="xref">9.2</a>.  <a href="#name-informative-references-2" class="xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#appendix-A" class="xref"></a><a href="#name-authors-addresses-2" class="xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction-2">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction-2" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1"><span>[<a href="#RFC8279" class="xref">RFC8279</a>]</span> specifies 
         "Bit Index Explicit Replication" (BIER). 
         It provides optimal forwarding of multicast data
         packets through a "multicast/BIER domain". It
         does not require the use of a protocol for explicitly 
         building multicast distribution trees, and it does not
         require intermediate nodes to maintain any per-flow state.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">This document describes a mechanism for fast  
         protection against the failure of an egress node of 
         a "Bit Index Explicit Replication" (BIER) domain,
         which is called BIER Egress Protection.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">This BIER Egress Protection does not require intermediate 
         nodes to maintain
         any per-flow state for fast protection against the failure of 
         an egress node of the flow.<a href="#section-1-3" class="pilcrow">¶</a></p>
<section id="section-1.1">
        <h3 id="name-terminology">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
        </h3>
<span class="break"></span><dl class="dlParallel" id="section-1.1-1">
          <dt id="section-1.1-1.1">BFR:</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.2">Bit-Forwarding Router.<a href="#section-1.1-1.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.3">BFIR:</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.4">Bit-Forwarding Ingress Router.<a href="#section-1.1-1.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.5">BFER:</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.6">Bit-Forwarding Egress Router.<a href="#section-1.1-1.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.7">BFR-id:</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.8">BFR Identifier. 
          It is a number in the range [1,65535].<a href="#section-1.1-1.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.9">BFR-NBR:</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.10">BFR Neighbor.<a href="#section-1.1-1.10" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.11">F-BM:</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.12">Forwarding Bit Mask.<a href="#section-1.1-1.12" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.13">BFR-prefix:</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.14">An IP address (either IPv4 or IPv6) of a BFR.<a href="#section-1.1-1.14" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.15">BIRT:</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.16">Bit Index Routing Table. 
          It is a table that maps from the BFR-id (in a particular sub-domain)
          of a BFER to the BFR-prefix of that BFER, and to the BFR-NBR 
          on the path to that BFER.<a href="#section-1.1-1.16" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.17">BIFT:</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.18">Bit Index Forwarding Table.<a href="#section-1.1-1.18" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.19">FRR:</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.20">Fast Re-Route.<a href="#section-1.1-1.20" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.21">PLR:</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.22">Point of Local Repair.<a href="#section-1.1-1.22" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.23">LFA:</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.24">Loop-Free Alternate.<a href="#section-1.1-1.24" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.25">Basic LFA:</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.26">It is the LFA defined in 
          <span>[<a href="#RFC5286" class="xref">RFC5286</a>]</span>.<a href="#section-1.1-1.26" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.27">RLFA:</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.28">Remote LFA. It is the LFA defined in 
          <span>[<a href="#RFC7490" class="xref">RFC7490</a>]</span>.<a href="#section-1.1-1.28" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.29">TI-LFA:</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.30">Topology Independent LFA. It is the LFA defined in 
           <span>[<a href="#I-D.ietf-rtgwg-segment-routing-ti-lfa" class="xref">I-D.ietf-rtgwg-segment-routing-ti-lfa</a>]</span>.<a href="#section-1.1-1.30" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.31">IGP:</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.32">Interior Gateway Protocol.<a href="#section-1.1-1.32" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.33">LSDB:</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.34">Link State DataBase.<a href="#section-1.1-1.34" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.35">SPF:</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.36">Shortest Path First.<a href="#section-1.1-1.36" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.37">SPT:</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.38">Shortest Path Tree.<a href="#section-1.1-1.38" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.39">OSPF:</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.40">Open Shortest Path First.<a href="#section-1.1-1.40" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.41">IS-IS:</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.42">Intermediate System to Intermediate System.<a href="#section-1.1-1.42" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.43">LSA:</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.44">Link State Advertisement in OSPF.<a href="#section-1.1-1.44" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.45">LSP:</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.46">Link State Protocol Data Unit (PDU) in IS-IS.<a href="#section-1.1-1.46" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.47">FIB:</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.48">Forwarding Information Base or Forwarding Table.<a href="#section-1.1-1.48" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd></dl>
</section>
</section>
<section id="section-2">
      <h2 id="name-overview-of-bier-egress-pro">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-overview-of-bier-egress-pro" class="section-name selfRef">Overview of BIER Egress Protection</a>
      </h2>
<p id="section-2-1">
This section introduces BIER egress protection and describes its operation
using the BIER topology in  <a href="#bier-top-1" class="xref">Figure 1</a> as an example. 
The figure
illustrates a BIER sub-domain with the 8 nodes/BFRs A, B, C, D, E, F, G
and H. Each link connecting these nodes/BFRs has a cost. The cost of a
link (for routing purposes) is indicated in the figure unless it is 1 by
default. Nodes/BFRs D, F, E, H and A are BFERs and have BFR-ids 1, 2, 3,
4, and 5 respectively. For simplicity, these BFR-ids are represented by
(SI:BitString), where SI = 0 and BitString is 5 bits long. BFR-ids 1, 2,
3, 4, and 5 are represented by (0:00001), (0:00010), (0:00100),
(0:01000) and (0:10000), respectively.<a href="#section-2-1" class="pilcrow">¶</a></p>
<span id="name-example-bier-topology"></span><div id="bier-top-1">
<figure id="figure-1">
        <div class="alignLeft art-text artwork" id="section-2-2.1">
<pre>
                                          (CE2) Receiver
                                            \
                                             \  4 (0:01000)
                      /--------( G )--------- ( H ) Backup Egress for D
                    2/           2\______      /    \
                    /               _____)____/      \
                   /               /     (____        (CE1) Receiver
                  /               /           \      /
                 /               /             \    /
( A )----------( B )-----------( C )----------( D ) Primary Egress
  5 (0:10000)    \               \              1 (0:00001)
                 4\               \
                   \               \
                  ( E )-----------( F )
                    3 (0:00100)     2 (0:00010)</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-example-bier-topology" class="selfRef">Example BIER topology</a>
        </figcaption></figure>
</div>
<p id="section-2-3">CE1 and CE2 in neighboring networks are multicast traffic receivers. 
          CE1 is connected to both BFER D and BFER H.
          CE2 is connected to H but it is not connected to D.<a href="#section-2-3" class="pilcrow">¶</a></p>
<p id="section-2-4">We explain BIER egress protection for primary BFER D
           using backup BFER H. At first, 
           BFER H is configured to protect BFER D. 
           In addition, whether primary egress D and 
          backup egress H send their BIER packets' payloads
          to the same receiver CE1 
          (i.e., after decapsulating their BIER packets, 
           whether they send the same 
           decapsulated packets 
           to the same receiver CE1)
          is configured. And then,
           this information is distributed to BFR D's
           neighbors (BFR C and BFR G) and the domain by IGP. 
           BFR C, BFR G, and BFER H know
           that H is the backup egress to protect the primary 
           egress D. 
           Two different backup strategies or methods, 
           Bit Protection Switching and Proxy Backup, 
           are specified for two different configurations
           regarding to whether D and H send their BIER packets' 
           payloads to the same receiver.<a href="#section-2-4" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-2-5">
        <dt id="section-2-5.1">1. Bit Protection Switching:</dt>
        <dd style="margin-left: 3.0em" id="section-2-5.2">
If a neighbor of D detects D's outage, it performs the following
operations on all the packets that are destined to D. It clears the bit for
destination D and sets the bit for H. Afterwards, these packets are
forwarded towards H and eventually reach H which decapsulates them
and delivers their payloads to the same receiver CE as D does.<a href="#section-2-5.2" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-5.3">2. Proxy Backup:</dt>
        <dd style="margin-left: 3.0em" id="section-2-5.4">
If a neighbor as PLR of D detects D's outage, it reroutes a copy of 
the packet with D as a destination towards H. 
When H as backup BFER detects its primary BFER D's outage, 
H, acting as a proxy of D, decapsulates all the BIER packets with
destination D and forwards their payloads according to
D's forwarding behavior for the payloads.<a href="#section-2-5.4" class="pilcrow">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
<p id="section-2-6">Bit Protection Switching is well applicable to the case where 
          primary egress D and backup egress H send their BIER 
          packets' payloads to the same receiver CE1. 
          In this case, after D decapsulates D's BIER packet (i.e.,
          the BIER packet with BFER D as a destination), 
          D sends the decapsulated packet 
          (i.e., the payload of the BIER packet) to receiver CE1
          through its multicast layer. 
          After H decapsulates H's BIER packet (i.e., 
          the BIER packet with BFER H as a destination),
          H sends the same decapsulated packet 
          (i.e., the same payload as the one in D's BIER packet)
          to the same 
          receiver CE1 through its multicast layer as D.<a href="#section-2-6" class="pilcrow">¶</a></p>
<p id="section-2-7">During normal operations, there is no multicast traffic 
          to CE1 from backup egress H, and CE1 receives
          the multicast traffic only from primary egress D.
          There is no duplicated traffic to receiver CE1.<a href="#section-2-7" class="pilcrow">¶</a></p>
<p id="section-2-8">When primary egress D fails, 
          the BIER packet with destination D is updated through  
          bit switch (i.e., the bit for D is cleared and bit for H is set 
          in the packet) 
          by a PLR such as BFR C when the PLR 
          detects the failure of D. 
          The updated packet with destination H is sent to 
          backup egress H. H decapsulates the packet and 
          delivers the packet's payload to its multicast layer,
          which sends the payload to CE1.<a href="#section-2-8" class="pilcrow">¶</a></p>
<p id="section-2-9">Proxy Backup is applicable to the case where
          D and H send their BIER packets' payloads 
          to different receivers.

          In this case, after D decapsulates D's BIER packet, 
          D sends the decapsulated packet 
          (i.e., the payload of the BIER packet) to receiver CE1
          through its multicast layer. 
          After H decapsulates H's BIER packet,
          H drops the same decapsulated packet 
          (i.e., the same payload as the one in D's BIER packet) or
          sends it
          to different receiver CE2 through its multicast layer.<a href="#section-2-9" class="pilcrow">¶</a></p>
<p id="section-2-10">During normal operations, 
          primary egress D sends the payload of the BIER packet
          with destination D to receiver CE1 and 
          backup egress H sends the payload of the BIER packet
          with destination H to receiver CE2. 
          H sends the BIER packet
          with destination D towards node D along the shortest path to D.<a href="#section-2-10" class="pilcrow">¶</a></p>
<p id="section-2-11">When D fails, 
          the BIER packet with destination D is sent to 
          backup egress H by a PLR such as BFR C when the PLR 
          detects the failure of D. 
          H acting as a proxy of D
          MUST have a fast way to detect the failure of D and
          obtain the forwarding behavior of D for the payload of 
          the BIER packet with destination D in advance. 
          When H as the proxy of D 
          detects the failure of D,
          it sends the payload of the BIER packet
          with destination D to receiver CE1 according to
          the forwarding behavior of D for the payload.<a href="#section-2-11" class="pilcrow">¶</a></p>
<p id="section-2-12">Backup egress H may obtain the forwarding behavior of 
          its primary egress D for the payload of the BIER packet
          with the primary egress as a destination 
          from configurations or 
          through some protocols such as BGP or PCEP.
          How for a backup egress to obtain the forwarding behavior 
          of its primary egress
          is out scope of this document.<a href="#section-2-12" class="pilcrow">¶</a></p>
<p id="section-2-13">The fast egress protection mechanism in this document 
          is different from MoFRR in <span>[<a href="#RFC7431" class="xref">RFC7431</a>]</span>,
          where the same traffic is sent through two separated paths/trees 
          to both primary egress node D and backup egress node H, 
          to which the receiver CE1 is dual homed. It will 
          use less network resources such as link bandwidth than MoFRR
          in <span>[<a href="#RFC7431" class="xref">RFC7431</a>]</span>.<a href="#section-2-13" class="pilcrow">¶</a></p>
</section>
<section id="section-3">
      <h2 id="name-protocol-extensions">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-protocol-extensions" class="section-name selfRef">Protocol Extensions</a>
      </h2>
<p id="section-3-1">This section defines extensions to OSPF and IS-IS for advertising 
         the backup information 
         (including the backup egress node for protecting a primary 
          egress node).<a href="#section-3-1" class="pilcrow">¶</a></p>
<section id="section-3.1">
        <h3 id="name-extensions-to-ospf">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-extensions-to-ospf" class="section-name selfRef">Extensions to OSPF</a>
        </h3>
<p id="section-3.1-1">When a node P (as a primary egress node) has a backup egress
         node configured to protect against its failure,
         node P advertises the information about the backup egress 
         node to its neighbors  
         in its router information opaque LSA of LS type 9 or 10. 
         Using the LSA of LS type 9, 
         node P will advertise the information
         only to its neighbors 
         (which will not advertise the information further).
         Using the LSA of LS type 10, 
         node P will advertise the information
         to the whole BIER network domain (i.e., P's neighbors
         will advertise the information further until 
         the information reaches every node in the domain).
         The information is included in a
         backup egress node TLV. The format of the TLV is shown in
         <a href="#ospf-backup-egress-tlv" class="xref">Figure 2</a>.<a href="#section-3.1-1" class="pilcrow">¶</a></p>
<p id="section-3.1-2">After each of the neighbors receives the backup egress node TLV,
         it knows that node P as a primary egress node
         will be protected by the backup egress node in the TLV.
         Once detecting the failure of node P, it sends the BIER packet
         with the bit for destination P 
         towards node P's backup egress node.<a href="#section-3.1-2" class="pilcrow">¶</a></p>
<span id="name-ospf-backup-egress-tlv"></span><div id="ospf-backup-egress-tlv">
<figure id="figure-2">
          <div class="alignLeft art-text artwork" id="section-3.1-3.1">
<pre>
  0                   1                   2                   3
  0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |         Type (TBD1)           |             Length            |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |         Reserved            |S| BFR-id of backup egress node  |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |                       Sub-TLVs (Optional)                     |
 :                                                               :
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-ospf-backup-egress-tlv" class="selfRef">OSPF Backup Egress TLV</a>
          </figcaption></figure>
</div>
<span class="break"></span><dl class="dlParallel" id="section-3.1-4">
          <dt id="section-3.1-4.1">Type:</dt>
          <dd style="margin-left: 3.0em" id="section-3.1-4.2"> 2 octets, its value (TBD1) is to be 
         assigned by IANA.<a href="#section-3.1-4.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-4.3">Length:</dt>
          <dd style="margin-left: 3.0em" id="section-3.1-4.4"> 2 octets, its value is 4 plus the length of
         the Sub-TLVs included. If no Sub-TLV is included, its value is 4.<a href="#section-3.1-4.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-4.5">Reserved:</dt>
          <dd style="margin-left: 3.0em" id="section-3.1-4.6"> 15 bits, they MUST be set to zero when 
         sending and be ignored while receiving.<a href="#section-3.1-4.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-4.7">S flag:</dt>
          <dd style="margin-left: 3.0em" id="section-3.1-4.8"> 1 bit. It is set to one to indicate that the 
         primary egress and backup egress send their BIER packets'
         payloads to the same CE receiver
; 
         it is set to zero to indicate that the primary egress 
         and backup egress send their BIER packets' payloads to 
         different CE receivers
.<a href="#section-3.1-4.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-4.9">BFR-id of backup egress node:</dt>
          <dd style="margin-left: 3.0em" id="section-3.1-4.10"> 2 octets, its value is 
         the BFR-id
         of the backup egress node configured to protect against 
         the failure of the primary egress node.<a href="#section-3.1-4.10" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-4.11">Sub-TLVs (Optional):</dt>
          <dd style="margin-left: 3.0em" id="section-3.1-4.12"> No Sub-TLV is defined now.<a href="#section-3.1-4.12" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
<section id="section-3.2">
        <h3 id="name-extensions-to-is-is">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-extensions-to-is-is" class="section-name selfRef">Extensions to IS-IS</a>
        </h3>
<p id="section-3.2-1">For supporting fast protection against the failure of 
         a primary egress node in a BIER domain, 
         a new IS-IS TLV, called IS-IS backup egress node TLV, is defined.
         It contains the BFR-id of a backup egress node.<a href="#section-3.2-1" class="pilcrow">¶</a></p>
<p id="section-3.2-2">When a node P (as a primary egress node) has a backup egress
         node configured to protect against its failure,
         node P advertises the information about the backup egress 
         node using a IS-IS backup egress node TLV.<a href="#section-3.2-2" class="pilcrow">¶</a></p>
<p id="section-3.2-3">This TLV may be advertised in IS-IS Hello (IIH) PDUs, 
         LSPs, or in Circuit Scoped Link State PDUs (CS-LSP) 
         <span>[<a href="#RFC7356" class="xref">RFC7356</a>]</span>.

         Using CS-LSP or IIH PDUs, 
         node P will advertise the information
         only to its neighbors.
         Using LSPs, 
         node P will advertise the information
         to the whole BIER network domain.

         The format of the TLV is shown in
         <a href="#isis-backup-egress-tlv" class="xref">Figure 3</a>.<a href="#section-3.2-3" class="pilcrow">¶</a></p>
<span id="name-is-is-backup-egress-tlv"></span><div id="isis-backup-egress-tlv">
<figure id="figure-3">
          <div class="alignCenter art-text artwork" id="section-3.2-4.1">
<pre>
  0                   1                   2                   3
  0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |  Type (TBD2)  |     Length    |          Reserved           |S|
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 | BFR-id of backup egress node  |    Sub-TLVs (Optional)        ~
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-is-is-backup-egress-tlv" class="selfRef">IS-IS Backup Egress TLV</a>
          </figcaption></figure>
</div>
<span class="break"></span><dl class="dlParallel" id="section-3.2-5">
          <dt id="section-3.2-5.1">Type:</dt>
          <dd style="margin-left: 3.0em" id="section-3.2-5.2"> 1 octet, its value (TBD2) is to be 
         assigned by IANA.<a href="#section-3.2-5.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.2-5.3">Length:</dt>
          <dd style="margin-left: 3.0em" id="section-3.2-5.4"> 1 octet, its value is 4 plus the length of
         the Sub-TLVs included. If no Sub-TLV is included, its value is 4.<a href="#section-3.2-5.4" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-3.2-6">
      The other fields are the same as those 
      in <a href="#ospf-backup-egress-tlv" class="xref">Figure 2</a>.<a href="#section-3.2-6" class="pilcrow">¶</a></p>
</section>
</section>
<section id="section-4">
      <h2 id="name-extensions-to-bift">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-extensions-to-bift" class="section-name selfRef">Extensions to BIFT</a>
      </h2>
<p id="section-4-1">This section specifies the BIFT extended for 
         egress protection (EP-BIFT) on a BFR as a PLR and 
         the BIFT extended on a backup egress node.
         In one option, the EP-BIFT is implemented in 
         an Integrated one BIFT.
         In another, it is implemented in Multiple Backup BIFTs.<a href="#section-4-1" class="pilcrow">¶</a></p>
<section id="section-4.1">
        <h3 id="name-integrated-one-bift">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-integrated-one-bift" class="section-name selfRef">Integrated one BIFT</a>
        </h3>
<p id="section-4.1-1">A BFR has an integrated BIFT for both normal operations 
         and protections against the failure of each of its neighbor
         BFERs. 
         That is that the normal BIFT on the BFR is extended 
         to have a backup entry (or say sub-entry) for each of its 
         neighbor BFERs.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<div id="ep-bift-on-plr">
<section id="section-4.1.1">
          <h4 id="name-ep-bift-on-bfr-as-plr">
<a href="#section-4.1.1" class="section-number selfRef">4.1.1. </a><a href="#name-ep-bift-on-bfr-as-plr" class="section-name selfRef">EP-BIFT on BFR as PLR</a>
          </h4>
<p id="section-4.1.1-1">To protect a primary egress node (e.g., BFER D in 
         <a href="#bier-top-1" class="xref">Figure 1</a>), 
         a BFR as the primary egress node's neighbor (e.g., BFR C in 
         <a href="#bier-top-1" class="xref">Figure 1</a>) and a PLR
         has a backup entry in its BIFT extended for egress protection 
         (EP-BIFT). 
         The backup entry contains: Backup Entry Active (BEA), 
         Same CE receiver (SC), Backup Egress BFER (BE-BFER), 
         Backup F-BM (BF-BM) and Backup BFR-NBR (BBFR-NBR).<a href="#section-4.1.1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.1.1-2.1">BEA = 1 indicates that the Backup Entry for egress 
                     protection is active.<a href="#section-4.1.1-2.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.1.1-2.2">SC = 1 indicates that both primary egress node and backup 
                    egress node send their BIER packets' payloads to 
                    the same receiver CE.<a href="#section-4.1.1-2.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.1.1-2.3">BE-BFER is the BFR-id of the backup egress node for the 
                   primary egress node.<a href="#section-4.1.1-2.3" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.1.1-2.4">BBFR-NBR is the backup BFR-NBR to the backup egress node 
             (e.g., H in <a href="#bier-top-1" class="xref">Figure 1</a>). 
 
             When SC = 1 (i.e., both primary egress node and backup 
                    egress node send their BIER packets' payloads to 
                    the same receiver CE), 
             the BFR finds a basic, remote or topology 
             independent (TI) LFA to the backup egress node and 
             sets BBFR-NBR to the LFA. 

             When SC = 0 (i.e., the primary egress node and its backup 
                    egress node send their BIER packets' payloads to 
                    different receiver CEs), 
             the BFR obtains the value of BBFR-NBR in following steps.
             At first, the BFR finds a basic, remote or  
             TI LFA to the backup egress node.
             And then the BFR checks if
             the LFA is the backup egress node or 
             the backup egress node is on the shortest path from the
             LFA to the primary egress node 
             without going through the primary egress node.
             If so, the LFA is used as the BBFR-NBR;
             otherwise (i.e., 
             the LFA is not the backup egress node and 
             the backup egress node is not on the shortest path 
             from the LFA to the primary egress node
             without going through the primary egress node), 
             the BBFR-NBR is set to the backup egress node through a tunnel 
             to the backup egress node without going through
             the primary egress node.
             This is to make sure that the BIER packet with 
             the primary egress 
             node as a destination reaches the backup egress node.<a href="#section-4.1.1-2.4" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-4.1.1-3">When primary egress node (e.g., BFER D in 
         <a href="#bier-top-1" class="xref">Figure 1</a>) fails, 
         the BFR as a PLR sets 
         BEA in the entry for primary egress node to one 
         after the BFR detects the failure.
         The BFR uses  
         the backup entry with BEA = 1 to forward the BIER 
         packet with primary egress node as a destination.

          The BFR forwards the packet to BBFR-NBR.
          Before forwarding the packet, 
          the BFR checks whether SC equals to one in the entry. 
          If SC = 1, the BFR as a PLR replaces 
          the primary egress node as a destination with
          its backup egress node as a destination through 
          clearing the bit for primary egress
          node (e.g., D) 
          as a destination 
          in the BIER packet and setting the bit for backup egress node
          (e.g., H) as a destination in the packet.<a href="#section-4.1.1-3" class="pilcrow">¶</a></p>
<p id="section-4.1.1-4">For example, the integrated BIFT (or say EP-BIFT) on BFR C
         in <a href="#bier-top-1" class="xref">Figure 1</a> is shown in 
         <a href="#int-bift-on-c" class="xref">Figure 4</a>.<a href="#section-4.1.1-4" class="pilcrow">¶</a></p>
<span id="name-integrated-bift-on-bfr-c"></span><div id="int-bift-on-c">
<figure id="figure-4">
            <div class="alignCenter art-text artwork" id="section-4.1.1-5.1">
<pre>
+--------------+-------+-------+---+---+----------+-------+---------+
|    BFR-id    | F-BM  |BFR-NBR|BEA|SC | BE-BFER  | BF-BM |BBFR-NBR |
|(SI:BitString)|       |       |   |   |          |       |         |
+==============+=======+=======+===+===+==========+=======+=========+
|  1 (0:00001) | 00001 |   D   | 0 | 1 | H(01000) | 01001 |    H    |
+--------------+-------+-------+---+---+----------+-------+---------+
|  2 (0:00010) | 00110 |   F   | 0 | 0 | E(00100) | 00010 |E(TI-LFA)|
+--------------+-------+-------+---+---+----------+-------+---------+
|  3 (0:00100) | 00110 |   F   | 0 | 0 | F(00010) | 00110 |    F    |
+--------------+-------+-------+---+---+----------+-------+---------+
|  4 (0:01000) | 01000 |   H   | 0 | 1 | D(00001) | 01001 |    D    |
+--------------+-------+-------+---+---+----------+-------+---------+
|  5 (0:10000) | 10000 |   B   | 0 |   |    0     | NULL  |   NULL  |
+--------------+-------+-------+---+---+----------+-------+---------+</pre>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a>:
<a href="#name-integrated-bift-on-bfr-c" class="selfRef">Integrated BIFT on BFR C</a>
            </figcaption></figure>
</div>
<p id="section-4.1.1-6">BFR C in <a href="#bier-top-1" class="xref">Figure 1</a> has three neighbor 
         BFERs D, F and H with BFR-ids 1, 2 and 4 respectively. 

         The backup entry for BFER D with BFR-id = 1 is 
         the last five columns in the first row of 
         <a href="#int-bift-on-c" class="xref">Figure 4</a>.<a href="#section-4.1.1-6" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.1.1-7.1">BEA = 0 means that D is working well.<a href="#section-4.1.1-7.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.1.1-7.2">SC = 1 means that the primary egress node D and 
            backup egress node H send their BIER packets' payloads to 
            the same CE receiver.<a href="#section-4.1.1-7.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.1.1-7.3">BE-BFER = H means that H is the backup egress node 
            for primary egress node D.<a href="#section-4.1.1-7.3" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.1.1-7.4">BF-BM = 01001 is computed by ORing the bit of BFR-id with 
            BFR-NBR = H and the bit of BFR-id with BBFR-NBR = H. 
            BFR-id = 1 is with BBFR-NBR = H and BFR-id = 4 is 
            with BFR-NBR = H.<a href="#section-4.1.1-7.4" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.1.1-7.5">BBFR-NBR = H means that BFER H is the next hop on the 
            shortest path to H without going D.<a href="#section-4.1.1-7.5" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-4.1.1-8">The backup entry for BFER F with BFR-id = 2 is 
         the last five columns in the second row of 
         <a href="#int-bift-on-c" class="xref">Figure 4</a>.<a href="#section-4.1.1-8" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.1.1-9.1">BEA = 0 means that F is working well.<a href="#section-4.1.1-9.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.1.1-9.2">SC = 0 means that the primary egress node F and backup 
            egress node E send their BIER packets' payloads to 
            different CE receivers.<a href="#section-4.1.1-9.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.1.1-9.3">BE-BFER = E means that E is the backup egress node 
            for primary egress node F.<a href="#section-4.1.1-9.3" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.1.1-9.4">BF-BM = 00010 is computed by ORing the bit of BFR-id 
            with BFR-NBR = E and the bit of BFR-id with BBFR-NBR = E.
            Since there is no BFR-id with BFR-NBR = E, BF-BM = 00010.<a href="#section-4.1.1-9.4" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.1.1-9.5">BBFR-NBR = E (TI-LFA) means that B and E 
            in <a href="#bier-top-1" class="xref">Figure 1</a> 
            are not on the shortest path to E without going F and 
            TI-LFA tunnel is used to send primary egress node F's 
            BIER packet to backup egress node E when F fails and 
            BEA is set to one.<a href="#section-4.1.1-9.5" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-4.1.1-10">The backup entry for BFER H is similar to the one for BFER D. 
         The backup entry for BFER E is similar to the one for BFER F.<a href="#section-4.1.1-10" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-4.1.2">
          <h4 id="name-ep-bift-on-backup-egress">
<a href="#section-4.1.2" class="section-number selfRef">4.1.2. </a><a href="#name-ep-bift-on-backup-egress" class="section-name selfRef">EP-BIFT on Backup Egress</a>
          </h4>
<p id="section-4.1.2-1">If a primary egress node (e.g., D in 
         <a href="#bier-top-1" class="xref">Figure 1</a>) and 
          its backup egress 
          node (e.g., H in <a href="#bier-top-1" class="xref">Figure 1</a>) 
          send their BIER packets' payloads to the same 
          receiver CE (e.g., CE1 in <a href="#bier-top-1" class="xref">Figure 1</a>), 
          then the forwarding entry for the primary egress node 
          in the BIFT on 
          the backup egress node keeps the same as normal.<a href="#section-4.1.2-1" class="pilcrow">¶</a></p>
<p id="section-4.1.2-2">For example, 
         the integrated BIFT on backup egress node H in 
         <a href="#bier-top-1" class="xref">Figure 1</a> with SC = 1 is the same 
         as H's normal BIFT, which is illustrated in 
         <a href="#int-bift-on-backup-egress-h-sc-1" class="xref">Figure 5</a>.<a href="#section-4.1.2-2" class="pilcrow">¶</a></p>
<span id="name-integrated-bift-on-backup-e"></span><div id="int-bift-on-backup-egress-h-sc-1">
<figure id="figure-5">
            <div class="alignCenter art-text artwork" id="section-4.1.2-3.1">
<pre>
+--------------+-------+-------+
|    BFR-id    | F-BM  |BFR-NBR|
|(SI:BitString)|       |       |
+==============+=======+=======+
|  1 (0:00001) | 10111 |   C   |
+--------------+-------+-------+
|  2 (0:00010) | 10111 |   C   |
+--------------+-------+-------+
|  3 (0:00100) | 10111 |   C   |
+--------------+-------+-------+
|  4 (0:01000) | 01000 |   H   |
+--------------+-------+-------+
|  5 (0:10000) | 10111 |   C   |
+--------------+-------+-------+</pre>
</div>
<figcaption><a href="#figure-5" class="selfRef">Figure 5</a>:
<a href="#name-integrated-bift-on-backup-e" class="selfRef">Integrated BIFT on Backup Egress H with SC = 1</a>
            </figcaption></figure>
</div>
<p id="section-4.1.2-4">If the primary egress node and the
          backup egress node send their BIER packets' payloads 
          to different receiver CEs, 
          for example, D as a primary egress node sends 
          its BIER packet's payload to CE1, 
          H as the backup egress node for D sends its BIER packet's 
          payload to CE2, 
          then the forwarding entry for the primary egress node 
          on the backup egress node is extended to contain a 
          backup entry for primary egress node. 
          The backup entry includes:<a href="#section-4.1.2-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.1.2-5.1">Backup Entry Active (BEA), SC, BE-BFER, Backup F-BM (BF-BM). 
             These have the same meanings
             as those in <a href="#ep-bift-on-plr" class="xref">Section 4.1.1</a>.<a href="#section-4.1.2-5.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.1.2-5.2">Backup BFR-NBR or 
             Pointer to FIB for Primary Egress (BBFR-NBR/P-FIB) is 
             a pointer to the FIB for 
             the primary egress node. Using this FIB, 
             the backup egress node will forward the payload of the 
             BIER packet with the primary egress node
             as a destination to the same CE receiver 
             as the primary egress node.<a href="#section-4.1.2-5.2" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-4.1.2-6">BEA is set to one when the backup egress node detects 
          the failure of the primary egress node. 
          After detecting the failure and 
          receiving the BIER packet with the bit for the primary 
          egress node as a destination set to one, 
          the backup egress node forwards the packet's payload 
          to the primary egress node's CE receiver using the backup 
          forwarding entry with BEA = 1.<a href="#section-4.1.2-6" class="pilcrow">¶</a></p>
<p id="section-4.1.2-7">For example, the integrated BIFT on backup egress node H in 
         <a href="#bier-top-1" class="xref">Figure 1</a> with SC = 0 is illustrated in 
         <a href="#int-bift-on-backup-egress-h-sc-0" class="xref">Figure 6</a>.<a href="#section-4.1.2-7" class="pilcrow">¶</a></p>
<span id="name-integrated-bift-on-backup-eg"></span><div id="int-bift-on-backup-egress-h-sc-0">
<figure id="figure-6">
            <div class="alignCenter art-text artwork" id="section-4.1.2-8.1">
<pre>
+--------------+-------+-------+---+---+----------+-------+---------+
|    BFR-id    | F-BM  |BFR-NBR|BEA|SC | BE-BFER  | BF-BM |BBFR-NBR |
|(SI:BitString)|       |       |   |   |          |       |/P-FIB   |
+==============+=======+=======+===+===+==========+=======+=========+
|  1 (0:00001) | 10111 |   C   | 0 | 0 | H(01000) | 00001 |P-FIB-4D |
+--------------+-------+-------+---+---+----------+-------+---------+
|  2 (0:00010) | 10111 |   C   | 0 | 0 |          |       |  NULL   |
+--------------+-------+-------+---+---+----------+-------+---------+
|  3 (0:00100) | 10111 |   C   | 0 | 0 |          |       |  NULL   |
+--------------+-------+-------+---+---+----------+-------+---------+
|  4 (0:01000) | 01000 |   H   | 0 | 0 |          |       |  NULL   |
+--------------+-------+-------+---+---+----------+-------+---------+
|  5 (0:10000) | 10111 |   C   | 0 |   |          |       |  NULL   |
+--------------+-------+-------+---+---+----------+-------+---------+</pre>
</div>
<figcaption><a href="#figure-6" class="selfRef">Figure 6</a>:
<a href="#name-integrated-bift-on-backup-eg" class="selfRef">Integrated BIFT on Backup Egress H with SC = 0</a>
            </figcaption></figure>
</div>
<p id="section-4.1.2-9">In <a href="#int-bift-on-backup-egress-h-sc-0" class="xref">Figure 6</a>,
         the backup entry for primary egress node D with BFR-id = 1 is 
         the last five columns in the first row.<a href="#section-4.1.2-9" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.1.2-10.1">BEA = 0 means that D is working well.<a href="#section-4.1.2-10.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.1.2-10.2">SC = 0 means that the primary egress node D and backup 
            egress node H send their BIER packets' payloads to 
            different CE receivers.<a href="#section-4.1.2-10.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.1.2-10.3">BE-BFER = H means that H is the backup egress node 
            for primary egress node D.<a href="#section-4.1.2-10.3" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.1.2-10.4">BF-BM = 00001 is computed by ORing the bit of BFR-id 
            with BFR-NBR = P-FIB-4D and the bit of BFR-id with BBFR-NBR = P-FIB-4D.
            Since there is no BFR-id with BFR-NBR = P-FIB-4D, BF-BM = 00001.<a href="#section-4.1.2-10.4" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.1.2-10.5">BBFR-NBR/P-FIB = P-FIB-4D is the pointer to the FIB
            for the primary egress node D.
            When D fails and BEA is set to one, 
            backup egress node H for D acts as a proxy of D 
            and sends D's BIER packet's payload to CE receiver CE1
            using the FIB for D. 
            Backup egress node H for D decapsulates the BIER packet
            with D as a destination and forwards the payload using
            the FIB for D after it detects the failure of D.<a href="#section-4.1.2-10.5" class="pilcrow">¶</a>
</li>
          </ul>
</section>
<section id="section-4.1.3">
          <h4 id="name-updated-forwarding-procedur">
<a href="#section-4.1.3" class="section-number selfRef">4.1.3. </a><a href="#name-updated-forwarding-procedur" class="section-name selfRef">Updated Forwarding Procedure for Integrated BIFT</a>
          </h4>
<p id="section-4.1.3-1">The forwarding procedure defined in <span>[<a href="#RFC8279" class="xref">RFC8279</a>]</span>
          is updated/enhanced for integrated BIFT to consider the egress 
          protection.<a href="#section-4.1.3-1" class="pilcrow">¶</a></p>
<p id="section-4.1.3-2">For a multicast packet with the BitString indicating a BFER 
          as one of its destinations, the updated forwarding procedure
          on a BFR as a PLR 
          sends the packet towards the backup egress node of the BFER
          if the BFER is protected.
          On the backup egress, the procedure sends the packet's 
          payload to the BFER's CE receiver.<a href="#section-4.1.3-2" class="pilcrow">¶</a></p>
<p id="section-4.1.3-3">It checks whether BEA = 1 in the forwarding entry for the BFER. 
          If BEA = 1, it determines whether the current node is backup 
          egress node. On backup egress node, the procedure
          sends the packet's payload to the CE receiver.
          On the BFR as a PLR, the procedure sends the packet
          copy to BBFR-NBR.
          Before sending the packet copy, the procedure updates
          the packet copy by
          clearing the bit for primary egress node and
          setting the bit for backup egress node when
          primary egress node and backup egress node send
          their BIER packets' payload to the same CE receiver.
          The bits for the other destinations which are not through 
          BBFR-NBR are cleared in the packet copy's BitString
          by ANDing the BitString with BF-BM.

          The original packet's BitString is updated to remove the bits for 
          the destinations towards which the packet copy is sent
          through BBFR-NBR by ANDing the BitString with 
          the INVERSE of BF-BM.<a href="#section-4.1.3-3" class="pilcrow">¶</a></p>
<p id="section-4.1.3-4">The updated forwarding procedure for integrated BFIT 
          is described in 
          <a href="#proc4-frr-bift" class="xref">Figure 7</a>.<a href="#section-4.1.3-4" class="pilcrow">¶</a></p>
<span id="name-updated-forwarding-procedure"></span><div id="proc4-frr-bift">
<figure id="figure-7">
            <div class="alignLeft art-text artwork" id="section-4.1.3-5.1">
<pre>
 Packet = the packet received by BFR;
 FOR each BFER k (from the rightmost in Packet's BitString) {
    IF BFER k is the BFR itself {
       copies Packet, sends the copy to the multicast
       flow overlay and clears bit k in Packet's BitString
    } ELSE {
       finds the row in the EP-BIFT for the sub-domain using
       Packet's SI and BitString as the key/index
       IF BEA == 1 { // Primary Egress fails
         IF (BBFR-NBR/P-FIB is Pointer to FIB) {// on Backup Egress
            Sends payload to CE using the FIB for primary egress;
         } ELSE {
            IF (SC == 1) {// on PLR and SC == 1
               clears bit k in Packet's BitString;//BFER k is PE-BFER
               sets bit j in Packet's BitString;  //BFER j is BE-BFER
            } // SC == 0, no updates to packet
            Copies Packet, updates the copy's BitString by ANDing it
            with BF-BM in the entry, sends updated copy to BBFR-NBR;
          }
          updates Packet's BitString by ANDing it with
          the INVERSE of BF-BM;
       } ELSE {
          Copies Packet, updates the copy's BitString by ANDing
          it with F-BM in the entry, sends updated copy to BFR-NBR;
          updates Packet's BitString by ANDing it with the INVERSE
          of the F-BM in the entry
       }
    }
 }</pre>
</div>
<figcaption><a href="#figure-7" class="selfRef">Figure 7</a>:
<a href="#name-updated-forwarding-procedure" class="selfRef">Updated Forwarding Procedure for Integrated BIFT</a>
            </figcaption></figure>
</div>
</section>
</section>
<section id="section-4.2">
        <h3 id="name-multiple-backup-bifts">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-multiple-backup-bifts" class="section-name selfRef">Multiple Backup BIFTs</a>
        </h3>
<p id="section-4.2-1">A BFR has a normal BIFT and multiple backup BIFTs for 
         egress protection. For each of the BFR's neighbor BFERs, 
         the BFR has a backup BIFT for the BFER, 
         which considers the failure of the BFER. 
         In normal operations, the BFR uses its normal BIFT to forward 
         all the BIER packets. 
         When the BFR detects the failure of the BFER, 
         the BFR uses the backup BIFT for the BFER to forward all the 
         BIER packets.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<section id="section-4.2.1">
          <h4 id="name-multiple-backup-bifts-on-bf">
<a href="#section-4.2.1" class="section-number selfRef">4.2.1. </a><a href="#name-multiple-backup-bifts-on-bf" class="section-name selfRef">Multiple Backup BIFTs on BFR as PLR</a>
          </h4>
<p id="section-4.2.1-1">A BFR as a PLR has a backup BIFT for a BFER 
         that has the same structure as the normal 
         BIFT except for a backup BFER (BE-BFER) for the BFER and 
         same CE receiver (SC) flag indicating 
         whether the BE-BFER and BFER send their BIER packets' payloads 
         to the same CE receiver. 
         In the entry for the BFER in the backup BIFT, 
         the value of BFR-NBR is the backup BFR-NBR (BBFR-NBR),
         which is computed in the same way
         as the BBFR-NBR is computed in 
         <a href="#ep-bift-on-plr" class="xref">Section 4.1.1</a>.<a href="#section-4.2.1-1" class="pilcrow">¶</a></p>
<p id="section-4.2.1-2">For example, the backup BIFT for BFER D
         on BFR C in <a href="#bier-top-1" class="xref">Figure 1</a> is shown in 
         <a href="#cs-backup-bift4-d" class="xref">Figure 8</a>. 
         The backup BIFT for D considers BFER D's failure.<a href="#section-4.2.1-2" class="pilcrow">¶</a></p>
<span id="name-bfr-cs-backup-bift-for-bfer"></span><div id="cs-backup-bift4-d">
<figure id="figure-8">
            <div class="alignCenter art-text artwork" id="section-4.2.1-3.1">
<pre>
+--------------+-------+-------+---+----------+
|    BFR-id    | F-BM  |BFR-NBR|SC | BE-BFER  |
|(SI:BitString)|       |       |   |          |
+==============+=======+=======+===+==========+
|  1 (0:00001) | 01001 |   H   | 1 | H(01000) |
+--------------+-------+-------+---+----------+
|  2 (0:00010) | 00110 |   F   |   |          |
+--------------+-------+-------+---+----------+
|  3 (0:00100) | 00110 |   F   |   |          |
+--------------+-------+-------+---+----------+
|  4 (0:01000) | 01001 |   H   |   |          |
+--------------+-------+-------+---+----------+
|  5 (0:10000) | 10000 |   B   |   |          |
+--------------+-------+-------+---+----------+</pre>
</div>
<figcaption><a href="#figure-8" class="selfRef">Figure 8</a>:
<a href="#name-bfr-cs-backup-bift-for-bfer" class="selfRef">BFR C's Backup BIFT for BFER D</a>
            </figcaption></figure>
</div>
<p id="section-4.2.1-4">In <a href="#cs-backup-bift4-d" class="xref">Figure 8</a>, 
         the entry for BFER D with BFR-id = 1 has its BFR-NBR with 
         value of the BBFR-NBR (which is H)
         and contains SC = 1 and BE-BFER = H. 
         BE-BFER = H means that BFER H is the backup egress node 
         for primary egress node D. 
         SC = 1 means that primary egress node D and backup egress 
         node H send their BIER packets' payloads to the same CE 
         receiver.<a href="#section-4.2.1-4" class="pilcrow">¶</a></p>
<p id="section-4.2.1-5">For the entry with BFR-NBR = X, 
         its F-BM has the bit of the BFR-id in each entry with BFR-NBR = X. 
         For example, the first entry with BFR-NBR = H, 
         its F-BM in the first entry has the bit of BFR-id = 1 and 
         BFR-id = 4 in the first entry and the fourth entry, 
         which are with BFR-NBR = H.<a href="#section-4.2.1-5" class="pilcrow">¶</a></p>
<p id="section-4.2.1-6">When BFR C detects the failure of BFER D, it uses 
         the backup BIFT for D to forwards all the BIER packets. 
         For the packet with destination D (i.e., BitString = 00001), 
         BFR C sends the packet to BFR-NBR H after clearing the bit 
         for primary egress node D and setting the bit for backup egress 
         node H since SC = 1. 
         The packet received by H contains BitString = 01000 
         for destination H. After receiving the packet, 
         BFER H sends the packet's payload to the same CE receiver CE1.<a href="#section-4.2.1-6" class="pilcrow">¶</a></p>
<p id="section-4.2.1-7">If SC = 0, BFR C sends the packet to BFR-NBR H without 
         clearing the bit for D or setting the bit for H. 
         After receiving the packet with destination D 
         (i.e., BitString 00001) and detecting the failure of D, 
         BFER H as a proxy of D sends the packet's payload 
         to primary egress node D's CE receiver CE1.<a href="#section-4.2.1-7" class="pilcrow">¶</a></p>
</section>
<section id="section-4.2.2">
          <h4 id="name-multiple-backup-bifts-on-ba">
<a href="#section-4.2.2" class="section-number selfRef">4.2.2. </a><a href="#name-multiple-backup-bifts-on-ba" class="section-name selfRef">Multiple Backup BIFTs on Backup Egress</a>
          </h4>
<p id="section-4.2.2-1">When a primary egress node and its backup egress node 
         send their BIER packets' payloads to the same CE receiver,
         the backup BIFT for the primary egress node 
         on the backup egress node is the same as 
         the normal BIFT on the backup egress node.
         For example, 
         the backup BIFT for primary egress node on backup egress node H in 
         <a href="#bier-top-1" class="xref">Figure 1</a> with SC = 1 is the same 
         as H's normal BIFT, which is illustrated in 
         <a href="#int-bift-on-backup-egress-h-sc-1" class="xref">Figure 5</a>.<a href="#section-4.2.2-1" class="pilcrow">¶</a></p>
<p id="section-4.2.2-2">When a primary egress node and its backup egress node 
         send their BIER packets' payloads to different CE receivers, 
         the backup BIFT for the primary egress node 
         on the backup egress node considers the failure of 
         the primary egress node.

         The BFR-NBR/P-FIB in the entry for the primary egress node
         is the pointer to the FIB for the primary egress node 
         which is used to forward the payload of the BIER packet with
         the primary egress node as a destination.

         For example, the backup BIFT for primary egress node D
         on backup egress node H in 
         <a href="#bier-top-1" class="xref">Figure 1</a> with SC = 0 is illustrated in 
         <a href="#backup-bift4-d-on-backup-egress-h-sc-0" class="xref">Figure 9</a>.<a href="#section-4.2.2-2" class="pilcrow">¶</a></p>
<span id="name-backup-egress-hs-backup-bif"></span><div id="backup-bift4-d-on-backup-egress-h-sc-0">
<figure id="figure-9">
            <div class="alignCenter art-text artwork" id="section-4.2.2-3.1">
<pre>
+--------------+-------+---------+---+----------+
|    BFR-id    | F-BM  | BFR-NBR |SC | BE-BFER  |
|(SI:BitString)|       | /P-FIB  |   |          |
+==============+=======+=========+===+==========+
|  1 (0:00001) | 00001 |P-FIB-4D | 0 | H(01000) |
+--------------+-------+---------+---+----------+
|  2 (0:00010) | 00110 |    C    |   |          |
+--------------+-------+---------+---+----------+
|  3 (0:00100) | 00110 |    C    |   |          |
+--------------+-------+---------+---+----------+
|  4 (0:01000) | 01001 |    H    |   |          |
+--------------+-------+---------+---+----------+
|  5 (0:10000) | 10000 |    C    |   |          |
+--------------+-------+---------+---+----------+</pre>
</div>
<figcaption><a href="#figure-9" class="selfRef">Figure 9</a>:
<a href="#name-backup-egress-hs-backup-bif" class="selfRef">Backup Egress H's Backup BIFT for Egress D</a>
            </figcaption></figure>
</div>
<p id="section-4.2.2-4">In <a href="#backup-bift4-d-on-backup-egress-h-sc-0" class="xref">Figure 9</a>,
         the entry for BFER D with BFR-id = 1 has 
         its BFR-NBR/P-FIB = P-FIB-4D 
         (the pointer to the FIB for primary egress node D) and 
         contains BE-BFER = H and SC = 0. 
         BE-BFER = H means that BFER H is the backup egress node 
         for primary egress node D. 
         SC = 0 means that primary egress node D and backup egress 
         node H send their BIER packets' payloads to different 
         CE receivers. 
         Note that the last two columns can be removed since they
         are not used for forwarding.<a href="#section-4.2.2-4" class="pilcrow">¶</a></p>
<p id="section-4.2.2-5">When backup egress node H detects the failure of 
         primary egress node D, node H uses 
         the backup BIFT for egress D to forward 
         all the BIER packets. 
         For the packet with destination D (i.e., BitString = 00001), 
         node H as a proxy of D sends the packet's payload to the CE1 
         (D's CE receiver) using the FIB for BFER D, 
         which contains the forwarding behavior of primary egress node D
         for the payload of D's BIER packet.<a href="#section-4.2.2-5" class="pilcrow">¶</a></p>
</section>
<section id="section-4.2.3">
          <h4 id="name-updated-forwarding-procedure-">
<a href="#section-4.2.3" class="section-number selfRef">4.2.3. </a><a href="#name-updated-forwarding-procedure-" class="section-name selfRef">Updated Forwarding Procedure for Multiple BIFTs</a>
          </h4>
<p id="section-4.2.3-1">The updated forwarding procedure for 
          multiple BIFTs is illustrated in
          <a href="#proc4-frr-bifts" class="xref">Figure 10</a>. 
          This forwarding procedure is used
          with the normal BIFT on a BFR in normal operations.
          It is used with a backup BIFT for a primary egress node 
          on a BFR as a PLR and on a backup egress node when
          the primary egress node fails.<a href="#section-4.2.3-1" class="pilcrow">¶</a></p>
<p id="section-4.2.3-2">On the backup egress node (i.e., BFR-NBR/P-FIB is a pointer
          to the FIB for the primary egress node), 
          the procedure sends the
          payload of the packet with 
          primary egress node/BFER as a destination to 
          the BFER's CE receiver.<a href="#section-4.2.3-2" class="pilcrow">¶</a></p>
<p id="section-4.2.3-3">The forwarding procedure on a BFR as a PLR 
          for each of multiple backup BIFTs
          is the same as the one defined in <span>[<a href="#RFC8279" class="xref">RFC8279</a>]</span>
          except for sending the packet with primary egress node 
          as a destination 
          to the backup egress node of primary egress node.

          Before sending the packet to the backup egress node,
          the procedure updates the BitString in the packet by
          clearing the bit for the primary egress node and setting
          the bit for the backup egress node when SC = 1 (i.e., 
          the primary egress node and backup egress node 
          send their BIER packets' payloads to the same CE receiver).<a href="#section-4.2.3-3" class="pilcrow">¶</a></p>
<span id="name-updated-forwarding-procedure-f"></span><div id="proc4-frr-bifts">
<figure id="figure-10">
            <div class="alignLeft art-text artwork" id="section-4.2.3-4.1">
<pre>
 Packet = the packet received by BFR;
 FOR each BFER k (from the rightmost in Packet's BitString) {
    IF BFER k is the BFR itself {
       copies Packet, sends the copy to the multicast
       flow overlay and clears bit k in Packet's BitString
    } ELSE {
       finds the row in the EP-BIFT for the sub-domain using
       Packet's SI and BitString as the key/index
       IF (BFR-NBR/P-FIB is Pointer to FIB) {// on Backup Egress
          Sends payload using the FIB for the primary egress;
       } ELSE {
          IF (SC == 1) {// on PLR and SC == 1
             clears bit k in Packet's BitString;//BFER k is PE-BFER
             sets bit j in Packet's BitString;  //BFER j is BE-BFER
          } // SC == 0, no updates to packet
          Copies Packet, updates the copy's BitString by ANDing
          it with F-BM in the entry, sends updated copy to BFR-NBR;
       }
       updates Packet's BitString by ANDing it with the INVERSE
       of the F-BM in the entry
    }
 }</pre>
</div>
<figcaption><a href="#figure-10" class="selfRef">Figure 10</a>:
<a href="#name-updated-forwarding-procedure-f" class="selfRef">Updated Forwarding Procedure for Multiple BIFTs</a>
            </figcaption></figure>
</div>
</section>
<section id="section-4.2.4">
          <h4 id="name-switching-between-ep-and-no">
<a href="#section-4.2.4" class="section-number selfRef">4.2.4. </a><a href="#name-switching-between-ep-and-no" class="section-name selfRef">Switching between EP and Normal Forwarding</a>
          </h4>
<p id="section-4.2.4-1">When multiple backup BIFTs are used,
          the multiple backup BIFTs are pre-computed and installed ready 
          for activation when an egress node failure is detected.

          In normal operations, a BFR uses its normal BIFT to 
          forward BIER packets.

          Once the BFR detects the failure of its BFR-NBR X as an egress,
          it activates (i.e., uses) the backup BIFT for X 
          to forward BIER packets 
          and de-activates (i.e., does not use) its normal BIFT.

          After activation of the backup BIFT, it remains in effect
          until it is no longer required.<a href="#section-4.2.4-1" class="pilcrow">¶</a></p>
<p id="section-4.2.4-2">In general, when the routing protocol has re-converged 
          on the new topology taking into account the failure of X, 
          the BIRT is re-computed using the updated LSDB and
          the BIFT is re-derived from the BIRT.

          Once the BIFT is installed ready for activation, 
          it is activated to forward packets with BIER headers
          and the backup BIFT for X is de-activated.<a href="#section-4.2.4-2" class="pilcrow">¶</a></p>
<p id="section-4.2.4-3">From the new topology, the BFR computes/re-computes 
          the backup BIRT for each BFR-NBR Y as an egress and 
          the backup BIFT for Y is derived/re-derived from the backup 
          BIRT for Y.

          The backup BIFT is installed/re-installed ready 
          for activation when Y fails.<a href="#section-4.2.4-3" class="pilcrow">¶</a></p>
</section>
</section>
</section>
<section id="section-5">
      <h2 id="name-example-application-of-bier">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-example-application-of-bier" class="section-name selfRef">Example Application of BIER Egress Protection</a>
      </h2>
<p id="section-5-1">This section illustrates an example application of 
         BIER Egress Protection using multiple backup BIFTs
         on a BFR in a BIER topology 
         in <a href="#bier-top-1" class="xref">Figure 1</a>.<a href="#section-5-1" class="pilcrow">¶</a></p>
<section id="section-5.1">
        <h3 id="name-birt-and-bift-on-a-bfr">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-birt-and-bift-on-a-bfr" class="section-name selfRef">BIRT and BIFT on a BFR</a>
        </h3>
<p id="section-5.1-1">Every BFR in a BIER sub-domain/topology builds and maintains 
           a Bit Index Routing Table (BIRT). 
           For the BIER topology in <a href="#bier-top-1" class="xref">Figure 1</a>,
           each of 8 nodes/BFRs A, B, C, D, E, F, G and H 
           builds and maintains a BIRT using the LSDB for the topology.<a href="#section-5.1-1" class="pilcrow">¶</a></p>
<p id="section-5.1-2">The BIRT built on BFR C (i.e., node C) is shown in
           <a href="#birt-bfr-c" class="xref">Figure 11</a>.<a href="#section-5.1-2" class="pilcrow">¶</a></p>
<span id="name-bit-index-routing-table-on-"></span><div id="birt-bfr-c">
<figure id="figure-11">
          <div class="alignLeft art-text artwork" id="section-5.1-3.1">
<pre>
           +----------------+--------------+------------+
           |     BFR-id     |  BFR-Prefix  |  BFR-NBR   |
           | (SI:BitString) | of Dest BFER | (Next Hop) |
           +================+==============+============+
           |  1 (0:00001)   |     D        |     D      |
           +----------------+--------------+------------+
           |  2 (0:00010)   |     F        |     F      |
           +----------------+--------------+------------+
           |  3 (0:00100)   |     E        |     F      |
           +----------------+--------------+------------+
           |  4 (0:01000)   |     H        |     H      |
           +----------------+--------------+------------+
           |  5 (0:10000)   |     A        |     B      |
           +----------------+--------------+------------+</pre>
</div>
<figcaption><a href="#figure-11" class="selfRef">Figure 11</a>:
<a href="#name-bit-index-routing-table-on-" class="selfRef">Bit Index Routing Table on BFR C</a>
          </figcaption></figure>
</div>
<p id="section-5.1-4">
            The 1st row in the BIRT indicates that the next hop BFR-NBR
            on the shortest path to BFER D with BFR-id 1 is BFR D.<a href="#section-5.1-4" class="pilcrow">¶</a></p>
<p id="section-5.1-5">The 2nd row in the BIRT indicates that the next hop BFR-NBR
            on the shortest path to BFER F with BFR-id 2 is BFR F.<a href="#section-5.1-5" class="pilcrow">¶</a></p>
<p id="section-5.1-6">The 3rd row in the BIRT indicates that the next hop BFR-NBR
            on the shortest path to BFER E with BFR-id 3 is BFR F.<a href="#section-5.1-6" class="pilcrow">¶</a></p>
<p id="section-5.1-7">The 4-th row in the BIRT indicates that the next hop BFR-NBR
            on the shortest path to BFER H with BFR-id 4 is BFR H.<a href="#section-5.1-7" class="pilcrow">¶</a></p>
<p id="section-5.1-8">The 5-th row in the BIRT indicates that the next hop BFR-NBR
            on the shortest path to BFER A with BFR-id 5 is BFR B.<a href="#section-5.1-8" class="pilcrow">¶</a></p>
<p id="section-5.1-9">From this BIRT on BFR C, 
            a Bit Index Forwarding Table (BIFT) is derived. 
            This BIFT is shown in
            <a href="#bift-bfr-c" class="xref">Figure 12</a>.<a href="#section-5.1-9" class="pilcrow">¶</a></p>
<p id="section-5.1-10">The 2nd and 3-th rows in the BIRT have 
            the same SI = 0 and next hop BFR-NBR = F.
            The F-BM for each of these two rows in the
            BIFT is the logical OR of the BitStrings of these rows,
            which is 00110 (00010 OR 00100 = 00110).<a href="#section-5.1-10" class="pilcrow">¶</a></p>
<p id="section-5.1-11">The F-BM for 1st row in the BIFT is 00001.<a href="#section-5.1-11" class="pilcrow">¶</a></p>
<p id="section-5.1-12">The F-BM for 4-th row in the BIFT is 01000.<a href="#section-5.1-12" class="pilcrow">¶</a></p>
<p id="section-5.1-13">The F-BM for 5-th row in the BIFT is 10000.<a href="#section-5.1-13" class="pilcrow">¶</a></p>
<span id="name-bit-index-forwarding-table-"></span><div id="bift-bfr-c">
<figure id="figure-12">
          <div class="alignLeft art-text artwork" id="section-5.1-14.1">
<pre>
              +----------------+---------+------------+
              |     BFR-id     |  F-BM   |  BFR-NBR   |
              | (SI:BitString) |         | (Next Hop) |
              +================+=========+============+
              |  1 (0:00001)   |  00001  |     D      |
              +----------------+---------+------------+
              |  2 (0:00010)   |  00110  |     F      |
              +----------------+---------+------------+
              |  3 (0:00100)   |  00110  |     F      |
              +----------------+---------+------------+
              |  4 (0:01000)   |  01000  |     H      |
              +----------------+---------+------------+
              |  5 (0:10000)   |  10000  |     B      |
              +----------------+---------+------------+</pre>
</div>
<figcaption><a href="#figure-12" class="selfRef">Figure 12</a>:
<a href="#name-bit-index-forwarding-table-" class="selfRef">Bit Index Forwarding Table on BFR C</a>
          </figcaption></figure>
</div>
</section>
<section id="section-5.2">
        <h3 id="name-backup-birts-and-backup-bif">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-backup-birts-and-backup-bif" class="section-name selfRef">Backup BIRTs and Backup BIFTs on a BFR</a>
        </h3>
<p id="section-5.2-1">Each of the BFRs that are neighbors of egress nodes 
           (i.e., BFERs) in a BIER sub-domain/topology 
           builds and maintains a number of 
           Egress Protection Bit Index Routing Tables (EP-BIRTs)
           or say backup BIRTs.<a href="#section-5.2-1" class="pilcrow">¶</a></p>
<p id="section-5.2-2">For the BIER topology in <a href="#bier-top-1" class="xref">Figure 1</a>,<a href="#section-5.2-2" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.2-3">
<pre>
           BFR B is the neighbor of BFERs A and E;
           BFR C is the neighbor of BFERs D, F and H;
           BFR E is the neighbor of BFER F;
           BFR F is the neighbor of BFER E;
           BFR G is the neighbor of BFERs D and H.</pre><a href="#section-5.2-3" class="pilcrow">¶</a>
</div>
<p id="section-5.2-4">Each of 5 nodes/BFRs B, C, E, F and G 
           builds and maintains a number of backup BIRTs using the LSDB 
           for the topology for its every BFR-NBR as an egress node.<a href="#section-5.2-4" class="pilcrow">¶</a></p>
<p id="section-5.2-5">For example, BFR C (i.e., node C) in the BIER topology
           builds and maintains three backup BIRTs for its three BFR-NBRs
           (BFERs D, F and H) that are egress nodes respectively.<a href="#section-5.2-5" class="pilcrow">¶</a></p>
<p id="section-5.2-6">The backup BIRT for BEFR D built by BFR C based on the BIRT
           on BFR C (refer to <a href="#birt-bfr-c" class="xref">Figure 11</a>)
           is shown in <a href="#ep-birt4d-bfr-c" class="xref">Figure 13</a>.<a href="#section-5.2-6" class="pilcrow">¶</a></p>
<p id="section-5.2-7">The BIRT is copied to the backup BIRT for BFER D 
          (i.e., the first three columns of the backup BIRT).
          The new backup information (i.e., the 4-th column) 
          for every row in the backup BIRT
          is initialized with BE-BFER = 0/NULL.<a href="#section-5.2-7" class="pilcrow">¶</a></p>
<span id="name-cs-backup-birt-for-bfer-d"></span><div id="ep-birt4d-bfr-c">
<figure id="figure-13">
          <div class="alignLeft art-text artwork" id="section-5.2-8.1">
<pre>
     +--------------+--------------+----------+-----------+
     |    BFR-id    |  BFR-Prefix  |  BFR-NBR |  BE-BFER  |
     |(SI:BitString)| of Dest BFER |(Next Hop)|           |
     +==============+==============+==========+===========+
     |  1 (0:00001) |      D       |    H     |     H     |
     +--------------+--------------+----------+-----------+
     |  2 (0:00010) |      F       |    F     |     0     |
     +--------------+--------------+----------+-----------+
     |  3 (0:00100) |      E       |    F     |     0     |
     +--------------+--------------+----------+-----------+
     |  4 (0:01000) |      H       |    H     |     0     |
     +--------------+--------------+----------+-----------+
     |  5 (0:10000) |      A       |    B     |     0     |
     +--------------+--------------+----------+-----------+</pre>
</div>
<figcaption><a href="#figure-13" class="selfRef">Figure 13</a>:
<a href="#name-cs-backup-birt-for-bfer-d" class="selfRef">C's Backup BIRT for BFER D</a>
          </figcaption></figure>
</div>
<p id="section-5.2-9">
            In the backup BIRT for BFER D, the row that has 
            Destination BFER == D is the 1st row. This row has the new 
            backup information 
            BE-BFER = H, which indicates that
            BFER D (i.e., primary egress node D) is protected by 
            BFER H (i.e., backup egress node H).
            Each of the other rows has the new backup information 
            BE-BFER = 0/NULL.<a href="#section-5.2-9" class="pilcrow">¶</a></p>
<p id="section-5.2-10">The 1st row in the EP-BIRT indicates that the packet with
            destination D will be sent to D's backup egress node H 
            when D fails.<a href="#section-5.2-10" class="pilcrow">¶</a></p>
<p id="section-5.2-11">The 2nd row in the backup BIRT indicates that the next hop BFR-NBR
            on the path to BFER F with BFR-id 2 is BFR F.<a href="#section-5.2-11" class="pilcrow">¶</a></p>
<p id="section-5.2-12">The 3rd row in the backup BIRT indicates that the next hop BFR-NBR
            on the path to BFER E with BFR-id 3 is BFR F.<a href="#section-5.2-12" class="pilcrow">¶</a></p>
<p id="section-5.2-13">The 4-th row in the backup BIRT indicates that the next hop BFR-NBR
            on the path to BFER H with BFR-id 4 is BFR H.<a href="#section-5.2-13" class="pilcrow">¶</a></p>
<p id="section-5.2-14">The 5-th row in the backup BIRT indicates that the next hop BFR-NBR
            on the path to BFER A with BFR-id 5 is BFR B.<a href="#section-5.2-14" class="pilcrow">¶</a></p>
<p id="section-5.2-15">From this backup BIRT for BFER D on BFR C, 
            an Egress Protection Bit Index Forwarding Table (EP-BIFT) or say
            backup BIFT for BFER D is derived. 
            This backup BIFT for BFER D is shown in
            <a href="#ep-bift4d-bfr-c" class="xref">Figure 14</a>.<a href="#section-5.2-15" class="pilcrow">¶</a></p>
<p id="section-5.2-16">The first and 4-th rows in the backup BIRT have 
            the same next hop BFR-NBR = H.
            The F-BM for each of these two rows in the
            backup BIFT is the logical OR of the BitStrings of these rows,
            which is 01001 (00001 OR 01000 = 01001).<a href="#section-5.2-16" class="pilcrow">¶</a></p>
<p id="section-5.2-17">The 2nd and 3rd rows in the backup BIRT have 
            the same next hop BFR-NBR = E.
            The F-BM for each of these two rows in the
            backup BIFT is the logical OR of the BitStrings of these rows,
            which is 00110 (00010 OR 00100 = 00110).<a href="#section-5.2-17" class="pilcrow">¶</a></p>
<span id="name-cs-backup-bift-for-bfer-d"></span><div id="ep-bift4d-bfr-c">
<figure id="figure-14">
          <div class="alignLeft art-text artwork" id="section-5.2-18.1">
<pre>
      +----------------+---------+------------+----+----------+
      |     BFR-id     |  F-BM   |  BFR-NBR   | SC | BE-BFER  |
      | (SI:BitString) |         | (Next Hop) |    |          |
      +================+=========+============+====+==========+
      |  1 (0:00001)   |  01001  |     H      | 1  |    H     |
      +----------------+---------+------------+----+----------+
      |  2 (0:00010)   |  00110  |     F      | 0  |    0     |
      +----------------+---------+------------+----+----------+
      |  3 (0:00100)   |  00110  |     F      | 0  |    0     |
      +----------------+---------+------------+----+----------+
      |  4 (0:01000)   |  01001  |     H      | 0  |    0     |
      +----------------+---------+------------+----+----------+
      |  5 (0:10000)   |  10000  |     B      | 0  |    0     |
      +----------------+---------+------------+----+----------+</pre>
</div>
<figcaption><a href="#figure-14" class="selfRef">Figure 14</a>:
<a href="#name-cs-backup-bift-for-bfer-d" class="selfRef">C's Backup BIFT for BFER D</a>
          </figcaption></figure>
</div>
<div class="alignLeft art-text artwork" id="section-5.2-19">
<pre>
The F-BM for 5-th row in the backup BIFT is 10000.</pre><a href="#section-5.2-19" class="pilcrow">¶</a>
</div>
</section>
<section id="section-5.3">
        <h3 id="name-forwarding-using-backup-bif">
<a href="#section-5.3" class="section-number selfRef">5.3. </a><a href="#name-forwarding-using-backup-bif" class="section-name selfRef">Forwarding using Backup BIFT</a>
        </h3>
<p id="section-5.3-1">Suppose that there is a multicast traffic from
           BFR A as ingress/BFIR to egresses/BFERs D, F and E.
           For every packet of the traffic, after receiving it, 
           BFR A adds a BIER header into the packet and 
           sends the packet with the BIER header to BFR B, 
           which sends the packet BFR C.
           The BIER header contains (SI:BitString) = (0:00111) for 
           egresses/BFERs D, F and E.<a href="#section-5.3-1" class="pilcrow">¶</a></p>
<p id="section-5.3-2">In normal operations, after receiving the packet from BFR B,
           BFR C copies, updates and sends the packet to
           BFR D and BFR F using the normal BIFT on BFR C according to
           the forwarding procedure defined in 
           <span>[<a href="#RFC8279" class="xref">RFC8279</a>]</span>.<a href="#section-5.3-2" class="pilcrow">¶</a></p>
<p id="section-5.3-3">Once BFR C detects the failure of its BFR-NBR D,
           which is a BFER,
           after receiving the packet from BFR B,
           BFR C copies, updates and sends the packet 
           using the backup BIFT for BFER D on BFR C according to the 
           updated forwarding procedure.<a href="#section-5.3-3" class="pilcrow">¶</a></p>
<p id="section-5.3-4">For the packet targeting to BFER D (i.e., primary egress node),
           BFR C sends it towards BFER H (i.e., backup egress node),
           which is configured to protect BFER D.<a href="#section-5.3-4" class="pilcrow">¶</a></p>
<p id="section-5.3-5">For example, 
           once BFR C detects the failure of its BFR-NBR D,  
           after receiving the packet from BFR B,
           BFR C copies, updates and sends the packet to 
           BFR H and BFR F using the backup BIFT for BFER D on BFR C.<a href="#section-5.3-5" class="pilcrow">¶</a></p>
<p id="section-5.3-6">The packet received by BFR C from BFR B contains 
           (SI:BitString) = (0:00111). 
           The rightmost one bit in BitString is bit 1.
           For BFER 1 (0:00001) (i.e., BFR D as BFER), 
           BFR C gets the 1st row (i.e., forwarding entry) in the 
           backup BIFT for BFER D. 
           BE-BFER = H in the row indicates that BFER D is protected against 
           the failure of D by backup BFER H.
           BFR C clears bit 1 in Packet's BitString 
           and sets bit 4 (i.e., the bit for BE-BFER = H) 
           in Packet's BitString to one since SC = 1. 
           The BitString in Packet is 01110 now.
           BFR C copies, updates the BitString by ANDing it with
           F-BM (which is 01001) and sends the packet copy with 
           BitString = 01000 to
           BFR-NBR H in the entry.<a href="#section-5.3-6" class="pilcrow">¶</a></p>
<p id="section-5.3-7">After sending the packet to H, 
           BFR C updates the original packet by ANDing its BitString 
           with the
           INVERSE of the F-BM in the first row. 
           The updated BitString = 00110,
           which is 01110 &amp; ~F-BM in the row 
           = 01110 &amp; 10110 = 00110.<a href="#section-5.3-7" class="pilcrow">¶</a></p>
<p id="section-5.3-8">For the packet containing BitString = 00110, 
           the rightmost one bit in BitString is bit 2.
           For BFER 2 (0:00010) (i.e., BFR F as BFER), 
           BFR C gets the 2nd row (i.e., forwarding entry) in the 
           backup BIFT for BFER D. 
           The next hop BFR-NBR is F in the row.
           BFR C copies, updates and sends the packet to F.<a href="#section-5.3-8" class="pilcrow">¶</a></p>
<p id="section-5.3-9">The packet sent to F contains the updated 
           BitString = 00110, 
           which is 00110 &amp; F-BM in the 2nd row = 00110 &amp; 00110
           = 00110.<a href="#section-5.3-9" class="pilcrow">¶</a></p>
<p id="section-5.3-10">After sending the packet to F, 
           BFR C updates the original packet by ANDing its BitString 
           with the
           INVERSE of the F-BM in the 2nd row. 
           The updated BitString = 00000,
           which is 00110 &amp; ~F-BM in the row = 00110 &amp; 11001 = 00000.<a href="#section-5.3-10" class="pilcrow">¶</a></p>
<p id="section-5.3-11">The updated packet has BitString without any one bit.
           BFR C finishes forwarding the packet to F 
           and H (backup for D). 
           BFR F will sends the packet to E.<a href="#section-5.3-11" class="pilcrow">¶</a></p>
</section>
</section>
<div id="Security">
<section id="section-6">
      <h2 id="name-security-considerations-2">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-security-considerations-2" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-6-1">TBD.<a href="#section-6-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="IANA">
<section id="section-7">
      <h2 id="name-iana-considerations-2">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-iana-considerations-2" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-7-1">No requirements for IANA.<a href="#section-7-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="Acknowledgements">
<section id="section-8">
      <h2 id="name-acknowledgements-2">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-acknowledgements-2" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="section-8-1">The authors would like to thank Jeffrey Zhang, Jingrong Xie
      for their comments to this work.<a href="#section-8-1" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-9">
      <h2 id="name-references-2">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-references-2" class="section-name selfRef">References</a>
      </h2>
<section id="section-9.1">
        <h3 id="name-normative-references-2">
<a href="#section-9.1" class="section-number selfRef">9.1. </a><a href="#name-normative-references-2" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5226">[RFC5226]</dt>
        <dd>
<span class="refAuthor">Narten, T.</span> and <span class="refAuthor">H. Alvestrand</span>, <span class="refTitle">"Guidelines for Writing an IANA Considerations Section in RFCs"</span>, <span class="seriesInfo">RFC 5226</span>, <span class="seriesInfo">DOI 10.17487/RFC5226</span>, <time datetime="2008-05" class="refDate">May 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5226">https://www.rfc-editor.org/info/rfc5226</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5250">[RFC5250]</dt>
        <dd>
<span class="refAuthor">Berger, L.</span>, <span class="refAuthor">Bryskin, I.</span>, <span class="refAuthor">Zinin, A.</span>, and <span class="refAuthor">R. Coltun</span>, <span class="refTitle">"The OSPF Opaque LSA Option"</span>, <span class="seriesInfo">RFC 5250</span>, <span class="seriesInfo">DOI 10.17487/RFC5250</span>, <time datetime="2008-07" class="refDate">July 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5250">https://www.rfc-editor.org/info/rfc5250</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5286">[RFC5286]</dt>
        <dd>
<span class="refAuthor">Atlas, A., Ed.</span> and <span class="refAuthor">A. Zinin, Ed.</span>, <span class="refTitle">"Basic Specification for IP Fast Reroute: Loop-Free Alternates"</span>, <span class="seriesInfo">RFC 5286</span>, <span class="seriesInfo">DOI 10.17487/RFC5286</span>, <time datetime="2008-09" class="refDate">September 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5286">https://www.rfc-editor.org/info/rfc5286</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5714">[RFC5714]</dt>
        <dd>
<span class="refAuthor">Shand, M.</span> and <span class="refAuthor">S. Bryant</span>, <span class="refTitle">"IP Fast Reroute Framework"</span>, <span class="seriesInfo">RFC 5714</span>, <span class="seriesInfo">DOI 10.17487/RFC5714</span>, <time datetime="2010-01" class="refDate">January 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5714">https://www.rfc-editor.org/info/rfc5714</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5880">[RFC5880]</dt>
        <dd>
<span class="refAuthor">Katz, D.</span> and <span class="refAuthor">D. Ward</span>, <span class="refTitle">"Bidirectional Forwarding Detection (BFD)"</span>, <span class="seriesInfo">RFC 5880</span>, <span class="seriesInfo">DOI 10.17487/RFC5880</span>, <time datetime="2010-06" class="refDate">June 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5880">https://www.rfc-editor.org/info/rfc5880</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7356">[RFC7356]</dt>
        <dd>
<span class="refAuthor">Ginsberg, L.</span>, <span class="refAuthor">Previdi, S.</span>, and <span class="refAuthor">Y. Yang</span>, <span class="refTitle">"IS-IS Flooding Scope Link State PDUs (LSPs)"</span>, <span class="seriesInfo">RFC 7356</span>, <span class="seriesInfo">DOI 10.17487/RFC7356</span>, <time datetime="2014-09" class="refDate">September 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7356">https://www.rfc-editor.org/info/rfc7356</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7490">[RFC7490]</dt>
        <dd>
<span class="refAuthor">Bryant, S.</span>, <span class="refAuthor">Filsfils, C.</span>, <span class="refAuthor">Previdi, S.</span>, <span class="refAuthor">Shand, M.</span>, and <span class="refAuthor">N. So</span>, <span class="refTitle">"Remote Loop-Free Alternate (LFA) Fast Reroute (FRR)"</span>, <span class="seriesInfo">RFC 7490</span>, <span class="seriesInfo">DOI 10.17487/RFC7490</span>, <time datetime="2015-04" class="refDate">April 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7490">https://www.rfc-editor.org/info/rfc7490</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7684">[RFC7684]</dt>
        <dd>
<span class="refAuthor">Psenak, P.</span>, <span class="refAuthor">Gredler, H.</span>, <span class="refAuthor">Shakir, R.</span>, <span class="refAuthor">Henderickx, W.</span>, <span class="refAuthor">Tantsura, J.</span>, and <span class="refAuthor">A. Lindem</span>, <span class="refTitle">"OSPFv2 Prefix/Link Attribute Advertisement"</span>, <span class="seriesInfo">RFC 7684</span>, <span class="seriesInfo">DOI 10.17487/RFC7684</span>, <time datetime="2015-11" class="refDate">November 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7684">https://www.rfc-editor.org/info/rfc7684</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7770">[RFC7770]</dt>
        <dd>
<span class="refAuthor">Lindem, A., Ed.</span>, <span class="refAuthor">Shen, N.</span>, <span class="refAuthor">Vasseur, JP.</span>, <span class="refAuthor">Aggarwal, R.</span>, and <span class="refAuthor">S. Shaffer</span>, <span class="refTitle">"Extensions to OSPF for Advertising Optional Router Capabilities"</span>, <span class="seriesInfo">RFC 7770</span>, <span class="seriesInfo">DOI 10.17487/RFC7770</span>, <time datetime="2016-02" class="refDate">February 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7770">https://www.rfc-editor.org/info/rfc7770</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8279">[RFC8279]</dt>
        <dd>
<span class="refAuthor">Wijnands, IJ., Ed.</span>, <span class="refAuthor">Rosen, E., Ed.</span>, <span class="refAuthor">Dolganow, A.</span>, <span class="refAuthor">Przygienda, T.</span>, and <span class="refAuthor">S. Aldrin</span>, <span class="refTitle">"Multicast Using Bit Index Explicit Replication (BIER)"</span>, <span class="seriesInfo">RFC 8279</span>, <span class="seriesInfo">DOI 10.17487/RFC8279</span>, <time datetime="2017-11" class="refDate">November 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8279">https://www.rfc-editor.org/info/rfc8279</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8556">[RFC8556]</dt>
      <dd>
<span class="refAuthor">Rosen, E., Ed.</span>, <span class="refAuthor">Sivakumar, M.</span>, <span class="refAuthor">Przygienda, T.</span>, <span class="refAuthor">Aldrin, S.</span>, and <span class="refAuthor">A. Dolganow</span>, <span class="refTitle">"Multicast VPN Using Bit Index Explicit Replication (BIER)"</span>, <span class="seriesInfo">RFC 8556</span>, <span class="seriesInfo">DOI 10.17487/RFC8556</span>, <time datetime="2019-04" class="refDate">April 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8556">https://www.rfc-editor.org/info/rfc8556</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-9.2">
        <h3 id="name-informative-references-2">
<a href="#section-9.2" class="section-number selfRef">9.2. </a><a href="#name-informative-references-2" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="I-D.ietf-rtgwg-segment-routing-ti-lfa">[I-D.ietf-rtgwg-segment-routing-ti-lfa]</dt>
        <dd>
<span class="refAuthor">Litkowski, S.</span>, <span class="refAuthor">Bashandy, A.</span>, <span class="refAuthor">Filsfils, C.</span>, <span class="refAuthor">Francois, P.</span>, <span class="refAuthor">Decraene, B.</span>, and <span class="refAuthor">D. Voyer</span>, <span class="refTitle">"Topology Independent Fast Reroute using Segment Routing"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-rtgwg-segment-routing-ti-lfa-07</span>, <time datetime="2021-06-29" class="refDate">29 June 2021</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ietf-rtgwg-segment-routing-ti-lfa-07.txt">https://www.ietf.org/archive/id/draft-ietf-rtgwg-segment-routing-ti-lfa-07.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-spring-segment-protection-sr-te-paths">[I-D.ietf-spring-segment-protection-sr-te-paths]</dt>
        <dd>
<span class="refAuthor">Hegde, S.</span>, <span class="refAuthor">Bowers, C.</span>, <span class="refAuthor">Litkowski, S.</span>, <span class="refAuthor">Xu, X.</span>, and <span class="refAuthor">F. Xu</span>, <span class="refTitle">"Segment Protection for SR-TE Paths"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-spring-segment-protection-sr-te-paths-01</span>, <time datetime="2021-07-11" class="refDate">11 July 2021</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ietf-spring-segment-protection-sr-te-paths-01.txt">https://www.ietf.org/archive/id/draft-ietf-spring-segment-protection-sr-te-paths-01.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7431">[RFC7431]</dt>
        <dd>
<span class="refAuthor">Karan, A.</span>, <span class="refAuthor">Filsfils, C.</span>, <span class="refAuthor">Wijnands, IJ., Ed.</span>, and <span class="refAuthor">B. Decraene</span>, <span class="refTitle">"Multicast-Only Fast Reroute"</span>, <span class="seriesInfo">RFC 7431</span>, <span class="seriesInfo">DOI 10.17487/RFC7431</span>, <time datetime="2015-08" class="refDate">August 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7431">https://www.rfc-editor.org/info/rfc7431</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8296">[RFC8296]</dt>
        <dd>
<span class="refAuthor">Wijnands, IJ., Ed.</span>, <span class="refAuthor">Rosen, E., Ed.</span>, <span class="refAuthor">Dolganow, A.</span>, <span class="refAuthor">Tantsura, J.</span>, <span class="refAuthor">Aldrin, S.</span>, and <span class="refAuthor">I. Meilik</span>, <span class="refTitle">"Encapsulation for Bit Index Explicit Replication (BIER) in MPLS and Non-MPLS Networks"</span>, <span class="seriesInfo">RFC 8296</span>, <span class="seriesInfo">DOI 10.17487/RFC8296</span>, <time datetime="2018-01" class="refDate">January 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8296">https://www.rfc-editor.org/info/rfc8296</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8401">[RFC8401]</dt>
        <dd>
<span class="refAuthor">Ginsberg, L., Ed.</span>, <span class="refAuthor">Przygienda, T.</span>, <span class="refAuthor">Aldrin, S.</span>, and <span class="refAuthor">Z. Zhang</span>, <span class="refTitle">"Bit Index Explicit Replication (BIER) Support via IS-IS"</span>, <span class="seriesInfo">RFC 8401</span>, <span class="seriesInfo">DOI 10.17487/RFC8401</span>, <time datetime="2018-06" class="refDate">June 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8401">https://www.rfc-editor.org/info/rfc8401</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8444">[RFC8444]</dt>
      <dd>
<span class="refAuthor">Psenak, P., Ed.</span>, <span class="refAuthor">Kumar, N.</span>, <span class="refAuthor">Wijnands, IJ.</span>, <span class="refAuthor">Dolganow, A.</span>, <span class="refAuthor">Przygienda, T.</span>, <span class="refAuthor">Zhang, J.</span>, and <span class="refAuthor">S. Aldrin</span>, <span class="refTitle">"OSPFv2 Extensions for Bit Index Explicit Replication (BIER)"</span>, <span class="seriesInfo">RFC 8444</span>, <span class="seriesInfo">DOI 10.17487/RFC8444</span>, <time datetime="2018-11" class="refDate">November 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8444">https://www.rfc-editor.org/info/rfc8444</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="authors-addresses">
<section id="appendix-A">
      <h2 id="name-authors-addresses-2">
<a href="#name-authors-addresses-2" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Huaimo Chen</span></div>
<div dir="auto" class="left"><span class="org">Futurewei</span></div>
<div dir="auto" class="left">
<span class="locality">Boston, MA</span>,  </div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:Huaimo.chen@futurewei.com" class="email">Huaimo.chen@futurewei.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Mike McBride</span></div>
<div dir="auto" class="left"><span class="org">Futurewei</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:michael.mcbride@futurewei.com" class="email">michael.mcbride@futurewei.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Aijun Wang</span></div>
<div dir="auto" class="left"><span class="org">China Telecom</span></div>
<div dir="auto" class="left"><span class="street-address">Beiqijia Town, Changping District</span></div>
<div dir="auto" class="left"><span class="locality">Beijing</span></div>
<div dir="auto" class="left"><span class="postal-code">102209</span></div>
<div dir="auto" class="left"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:wangaj3@chinatelecom.cn" class="email">wangaj3@chinatelecom.cn</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Gyan S. Mishra</span></div>
<div dir="auto" class="left"><span class="org">Verizon Inc.</span></div>
<div dir="auto" class="left"><span class="street-address">13101 Columbia Pike</span></div>
<div dir="auto" class="left">
<span class="locality">Silver Spring</span>,  <span class="postal-code">MD 20904</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="tel">
<span>Phone:</span>
<a href="tel:301%20502-1347" class="tel">301 502-1347</a>
</div>
<div class="email">
<span>Email:</span>
<a href="mailto:gyan.s.mishra@verizon.com" class="email">gyan.s.mishra@verizon.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Yisong Liu</span></div>
<div dir="auto" class="left"><span class="org">China Mobile</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:liuyisong@chinamobile.com" class="email">liuyisong@chinamobile.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Michael Menth</span></div>
<div dir="auto" class="left"><span class="org">University of Tuebingen</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:menth@uni-tuebingen.de" class="email">menth@uni-tuebingen.de</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Boris Khasanov</span></div>
<div dir="auto" class="left"><span class="org">Yandex LLC</span></div>
<div dir="auto" class="left"><span class="locality">Moscow</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:bhassanov@yahoo.com" class="email">bhassanov@yahoo.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Xuesong Geng</span></div>
<div dir="auto" class="left"><span class="org">Huawei</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:gengxuesong@huawei.com" class="email">gengxuesong@huawei.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Yanhe Fan</span></div>
<div dir="auto" class="left"><span class="org">Casa Systems</span></div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:yfan@casa-systems.com" class="email">yfan@casa-systems.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Lei Liu</span></div>
<div dir="auto" class="left"><span class="org">Fujitsu</span></div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:liulei.kddi@gmail.com" class="email">liulei.kddi@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Xufeng Liu</span></div>
<div dir="auto" class="left"><span class="org">Volta Networks</span></div>
<div dir="auto" class="left">
<span class="locality">McLean</span>, <span class="region">VA</span> </div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:xufeng.liu.ietf@gmail.com" class="email">xufeng.liu.ietf@gmail.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
