<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Extensions to the Path Computation Element Communication Protocol for Enhanced Errors and Notifications</title>
<meta content="Helia Pouyllau" name="author">
<meta content="Remi Theillaud" name="author">
<meta content="Julien Meuric" name="author">
<meta content="Haomian Zheng (Editor)" name="author">
<meta content="Xian Zhang" name="author">
<meta content="
       This document defines new error and notification TLVs for the PCE Communication Protocol (PCEP) specified in RFC5440, and will update it.  It identifies the possible PCEP behaviors in case of error or notification.  Thus, this draft defines types of errors and how they are disclosed to other PCEs in order to support predefined PCEP behaviors. 
    " name="description">
<meta content="xml2rfc 3.12.3" name="generator">
<meta content="draft-ietf-pce-enhanced-errors-11" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.12.3
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.8.0
    MarkupSafe 2.0.1
    pycountry 22.1.10
    pyflakes 2.4.0
    PyYAML 6.0
    requests 2.27.1
    setuptools 59.6.0
    six 1.16.0
    WeasyPrint 52.5
-->
<link href="/tmp/draft-ietf-pce-enhanced-errors-11-u7c99450.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">Extensions to PCEP for Enhanced errors</td>
<td class="right">March 2022</td>
</tr></thead>
<tfoot><tr>
<td class="left">Pouyllau, et al.</td>
<td class="center">Expires 8 September 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">PCE Working Group</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-ietf-pce-enhanced-errors-11</dd>
<dt class="label-updates">Updates:</dt>
<dd class="updates">
<a href="https://www.rfc-editor.org/rfc/rfc5440" class="eref">5440</a> (if approved)</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2022-03-07" class="published">7 March 2022</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-09-08">8 September 2022</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">H.P. Pouyllau</div>
<div class="org">Alcatel-Lucent</div>
</div>
<div class="author">
      <div class="author-name">R.T. Theillaud</div>
<div class="org">Marben Products</div>
</div>
<div class="author">
      <div class="author-name">J.M. Meuric</div>
<div class="org">Orange</div>
</div>
<div class="author">
      <div class="author-name">H. Zheng (Editor)</div>
<div class="org">Huawei Technologies</div>
</div>
<div class="author">
      <div class="author-name">X. Zhang</div>
<div class="org">Huawei Technologies</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Extensions to the Path Computation Element Communication Protocol for Enhanced Errors and Notifications</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This document defines new error and notification TLVs for the PCE Communication Protocol (PCEP) specified in RFC5440, and will update it.  It identifies the possible PCEP behaviors in case of error or notification.  Thus, this draft defines types of errors and how they are disclosed to other PCEs in order to support predefined PCEP behaviors.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo-3">
<a href="#name-status-of-this-memo-3" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 8 September 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice-3">
<a href="#name-copyright-notice-3" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2022 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents-3">
<a href="#name-table-of-contents-3" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-terminology" class="xref">Terminology</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-conventions-used-in-this-do" class="xref">Conventions used in this document</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-introduction-3" class="xref">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="xref">3.1</a>.  <a href="#name-examples" class="xref">Examples</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1.2.1">
                    <p id="section-toc.1-1.3.2.1.2.1.1" class="keepWithNext"><a href="#section-3.1.1" class="xref">3.1.1</a>.  <a href="#name-error-use-case" class="xref">Error use-case</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1.2.2">
                    <p id="section-toc.1-1.3.2.1.2.2.1"><a href="#section-3.1.2" class="xref">3.1.2</a>.  <a href="#name-notification-use-case" class="xref">Notification use-case</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-pcep-behaviors" class="xref">PCEP Behaviors</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-pcep-behaviors-in-case-of-e" class="xref">PCEP Behaviors in Case of Error</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-pcep-behaviors-in-case-of-n" class="xref">PCEP Behaviors in Case of Notification</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="xref">4.3</a>.  <a href="#name-pce-peer-identification" class="xref">PCE Peer Identification</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-pcep-extensions-for-error-a" class="xref">PCEP Extensions for Error and Notification Handling</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="xref">5.1</a>.  <a href="#name-propagation-tlv" class="xref">Propagation TLV</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="xref">5.2</a>.  <a href="#name-error-criticality-tlv" class="xref">Error-criticality TLV</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3">
                <p id="section-toc.1-1.5.2.3.1"><a href="#section-5.3" class="xref">5.3</a>.  <a href="#name-behaviors-and-tlv-combinati" class="xref">Behaviors and TLV combinations</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.4">
                <p id="section-toc.1-1.5.2.4.1"><a href="#section-5.4" class="xref">5.4</a>.  <a href="#name-propagation-restrictions-tl" class="xref">Propagation Restrictions TLVs</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.4.2.1">
                    <p id="section-toc.1-1.5.2.4.2.1.1"><a href="#section-5.4.1" class="xref">5.4.1</a>.  <a href="#name-time-to-live-ttl-tlv" class="xref">Time-To-Live (TTL) TLV</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.4.2.2">
                    <p id="section-toc.1-1.5.2.4.2.2.1"><a href="#section-5.4.2" class="xref">5.4.2</a>.  <a href="#name-diffusion-list-tlv" class="xref">DIFFUSION-LIST TLV</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.4.2.3">
                    <p id="section-toc.1-1.5.2.4.2.3.1"><a href="#section-5.4.3" class="xref">5.4.3</a>.  <a href="#name-rules-applied-to-existing-e" class="xref">Rules Applied to Existing Errors and Notifications</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-error-handling-guidelines-f" class="xref">Error Handling Guidelines for Future PCEP Extension</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-backward-compatibility-cons" class="xref">Backward Compatibility Consideration</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-implementation-status" class="xref">Implementation Status</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-security-considerations-3" class="xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-iana-considerations-3" class="xref">IANA Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a href="#section-10.1" class="xref">10.1</a>.  <a href="#name-pcep-tlv-type-indicators" class="xref">PCEP TLV Type Indicators</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a href="#section-10.2" class="xref">10.2</a>.  <a href="#name-new-diffusion-list-tlv" class="xref">New DIFFUSION-LIST TLV</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="xref">11</a>. <a href="#name-references-2" class="xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1">
                <p id="section-toc.1-1.11.2.1.1"><a href="#section-11.1" class="xref">11.1</a>.  <a href="#name-normative-references-2" class="xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.2">
                <p id="section-toc.1-1.11.2.2.1"><a href="#section-11.2" class="xref">11.2</a>.  <a href="#name-informational-references" class="xref">Informational References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#appendix-A" class="xref">Appendix A</a>.  <a href="#name-error-and-notification-scen" class="xref">Error and Notification Scenarios</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.1">
                <p id="section-toc.1-1.12.2.1.1"><a href="#appendix-A.1" class="xref">A.1</a>.  <a href="#name-error-behavior-type-1" class="xref">Error Behavior Type 1</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.2">
                <p id="section-toc.1-1.12.2.2.1"><a href="#appendix-A.2" class="xref">A.2</a>.  <a href="#name-error-behavior-type-2" class="xref">Error Behavior Type 2</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.3">
                <p id="section-toc.1-1.12.2.3.1"><a href="#appendix-A.3" class="xref">A.3</a>.  <a href="#name-error-behavior-type-4" class="xref">Error Behavior Type 4</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.4">
                <p id="section-toc.1-1.12.2.4.1"><a href="#appendix-A.4" class="xref">A.4</a>.  <a href="#name-error-behavior-type-5" class="xref">Error Behavior Type 5</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#appendix-B" class="xref"></a><a href="#name-authors-addresses-2" class="xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-terminology">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
      </h2>
<p id="section-1-1">PCE terminology is defined in <span>[<a href="#RFC4655" class="xref">RFC4655</a>]</span>.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">PCEP Peer: An element involved in a PCEP session (i.e. a PCC or a PCE).<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">Source PCC: the PCC, for a given path computation query, initiating the first PCEP request, which may then trigger a chain of successive requests.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">Target PCE: the PCE that can compute a path to the destination without having to query any other PCE.<a href="#section-1-4" class="pilcrow">¶</a></p>
</section>
<section id="section-2">
      <h2 id="name-conventions-used-in-this-do">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-conventions-used-in-this-do" class="section-name selfRef">Conventions used in this document</a>
      </h2>
<p id="section-2-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span>.<a href="#section-2-1" class="pilcrow">¶</a></p>
</section>
<section id="section-3">
      <h2 id="name-introduction-3">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-introduction-3" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-3-1">
  The PCE Communication Protocol <span>[<a href="#RFC5440" class="xref">RFC5440</a>]</span> is designed to be flexible and extensible in order to allow future evolutions or specific constraint support such as proposed in 
  <span>[<a href="#RFC7470" class="xref">RFC7470</a>]</span>.  Crossing different PCE implementations (e.g. from different providers or due to different releases), a PCEP request may encounter unknown errors or notification messages. In such a case, the PCEP RFC <span>[<a href="#RFC5440" class="xref">RFC5440</a>]</span> specifies to send a specific error code to the PCEP peer.  This document updates <span>[<a href="#RFC5440" class="xref">RFC5440</a>]</span> by introducing mechanism to propagate the error message, with specifying error and notification TLVs.<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">
  In the context of path computation crossing different routing domains or autonomous systems, the number of different PCE system specificities is potentially high, thus possibly leading to divergent and unstable situations.  Such phenomenon can also occur in homogeneous cases since PCE systems have their own policies that can introduce differences in requests treatment even for requests having the same destination.  In order to generalize PCEP behaviors in the case of heterogeneous PCE systems, new objects have to be defined.  Dealing with heterogeneity is a major challenge considering PCE applicability, particularly in multi-layer, multi-domain and H-PCE contexts <span>[<a href="#RFC8751" class="xref">RFC8751</a>]</span>.  Thus, extending such error codes and PCEP behaviors accordingly would improve interoperability among different PCEP implementations and would solve some of these issues.  However, some of them would still remain (e.g. the divergences in request treatment introduced by different policies).<a href="#section-3-2" class="pilcrow">¶</a></p>
<p id="section-3-3">
  The purpose of this draft is to identify and specify new optional TLVs and objects in order to generalize PCEP behaviors.<a href="#section-3-3" class="pilcrow">¶</a></p>
<section id="section-3.1">
        <h3 id="name-examples">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-examples" class="section-name selfRef">Examples</a>
        </h3>
<p id="section-3.1-1">
         The two following scenarios underline the need for a normalization of the PCEP behaviors according to existing error or notification types.<a href="#section-3.1-1" class="pilcrow">¶</a></p>
<section id="section-3.1.1">
          <h4 id="name-error-use-case">
<a href="#section-3.1.1" class="section-number selfRef">3.1.1. </a><a href="#name-error-use-case" class="section-name selfRef">Error use-case</a>
          </h4>
<p id="section-3.1.1-1">
              PCE(i-1) has sent a request to PCE(i) which has also sent a request to PCE(i+1).  PCE(i-1) and PCE(i+1) have the same error semantic but not PCE(i). If PCE(i+1) throws an error type and value unknown by PCE(i).  PCE(i) could then adopt any other behaviors and sends back to PCE(i-1) an error of type 2 (Capability not supported), 3 (Unknown Object) or 4 (Not supported Object) for instance.  As a consequence, the path request would be cancelled but the error has no meaning for PCE(i-1) whereas if PCE(i) had simply forwarded the error sent by PCE(i+1), it would have been understood by PCE(i-1).<a href="#section-3.1.1-1" class="pilcrow">¶</a></p>
</section>
<section id="section-3.1.2">
          <h4 id="name-notification-use-case">
<a href="#section-3.1.2" class="section-number selfRef">3.1.2. </a><a href="#name-notification-use-case" class="section-name selfRef">Notification use-case</a>
          </h4>
<p id="section-3.1.2-1">
              PCE(i-1) has sent a request to PCE(i) which has also sent a request to PCE(i+1) but PCE(i+1) is overloaded. Without extensions, PCE(i+1) should send a notification of type 2 and a value flag giving its estimated congestion duration. PCE(i) can choose to stop the path computation and send a NO_PATH reply to PCE(i-1). Hence, PCE(i-1) ignores the congestion duration on PCE(i+1) and could seek it for further requests.<a href="#section-3.1.2-1" class="pilcrow">¶</a></p>
</section>
</section>
</section>
<div id="behaviors">
<section id="section-4">
      <h2 id="name-pcep-behaviors">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-pcep-behaviors" class="section-name selfRef">PCEP Behaviors</a>
      </h2>
<p id="section-4-1">
  One of the purposes of the PCE architecture is to compute paths across networks, but an added value is to compute such paths in inter-area/layer/domain environments.  The PCE Communication Protocol 
  <span>[<a href="#RFC5440" class="xref">RFC5440</a>]</span> is based on the Transport Communication Protocol (TCP).  Thus, to compute a path within the PCE architecture, several TCP/PCEP sessions have to be set up, in a peer-to-peer manner, along a set of identified PCEs.<a href="#section-4-1" class="pilcrow">¶</a></p>
<p id="section-4-2">
  When the PCEP session is up for two PCEP peers, the PCC of the first PCE System (the source PCC) sends a PCReq message.  If the PCC does not receive any reply before the dead timer is out, then it goes back to the idle state.  A PCC can expect two kinds of replies: a PCRep message containing one or more valid paths (EROs) or a negative PCRep message containing a NO-PATH object.<a href="#section-4-2" class="pilcrow">¶</a></p>
<p id="section-4-3">
  Beside PCReq and PCRep messages, notification and error messages, named respectively PCNtf and PCErr, can be sent.  There are two types of notification messages: type 1 is for cancelling pending requests and type 2 for signaling a congestion of the PCE.  Several error values are described in <span>[<a href="#RFC5440" class="xref">RFC5440</a>]</span>.  The error types concerning the session phase begin at 2, error type 1 values are dedicated to the initialization phase.<a href="#section-4-3" class="pilcrow">¶</a></p>
<p id="section-4-4">
  As the PCE Communication Protocol is built to work in a peer-to-peer manner (i.e. supported by a TCP Connection), it supposes that the "deadtimer" of the source PCC is long enough to support the end-to-end distributed path computation process.<a href="#section-4-4" class="pilcrow">¶</a></p>
<p id="section-4-5">
   The exchange of messages in the PCE Communication Protocol is described in details when PCEP is in states OpenWait and KeepWait in <span>[<a href="#RFC5440" class="xref">RFC5440</a>]</span>.  When the session is up, message exchange is defined in <span>[<a href="#RFC5440" class="xref">RFC5440</a>]</span>.  <span>[<a href="#RFC5441" class="xref">RFC5441</a>]</span> describes the Backward Recursive Path Computation (BRPC) procedure, and, because it considers an inter-domain path computation, gives a bigger picture of the possible behaviors when the session is up.  Detailed behavior is mostly let free to any specific implementation.  The following sections identifies the PCEP behaviors in case of error or notification and also introduce the requirement of PCEP peer identification in both cases.<a href="#section-4-5" class="pilcrow">¶</a></p>
<div id="errorbehave">
<section id="section-4.1">
        <h3 id="name-pcep-behaviors-in-case-of-e">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-pcep-behaviors-in-case-of-e" class="section-name selfRef">PCEP Behaviors in Case of Error</a>
        </h3>
<p id="section-4.1-1">
          <span>[<a href="#RFC5440" class="xref">RFC5440</a>]</span> specifies that "a PCEP Error message is sent in several situations: when a protocol error condition is met or the request is not compliant with the PCEP specification".  On this basis, and according to the other RFCs, the identified PCEP behaviors are the followings:<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.1-2.1">"Propagation": the received message requires to be propagated forwardly or backwardly (depending on which PCEP peer has sent the message) to a set of PCEP peers;<a href="#section-4.1-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.1-2.2">"Criticality level": in different RFCs, error-types affects the state of the PCEP request or session in different manners; hence, different level of criticality can be observed:<a href="#section-4.1-2.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.1-2.3">
            <ul class="normal">
<li class="normal" id="section-4.1-2.3.1.1">Low-level of criticality: the received message does not affect the PCEP connection and further answer can still be expected;<a href="#section-4.1-2.3.1.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-4.1-2.3.1.2">Medium-level of criticality: the received message does not affect the PCEP connection but the request(s) is(are) cancelled;<a href="#section-4.1-2.3.1.2" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-4.1-2.3.1.3">High-level of criticality: the received message indicates that the PCEP peer will close the session with its peer (and so pending requests associated by the error, if any, are cancelled.)<a href="#section-4.1-2.3.1.3" class="pilcrow">¶</a>
</li>
            </ul>
</li>
        </ul>
<p id="section-4.1-3">
      The high-level of criticality has been extracted from <span>[<a href="#RFC5440" class="xref">RFC5440</a>]</span> which associates such a behavior to error-type of 1 (errors raised during the PCEP session establishment). Hence, such errors are quite specific. For the sake of completeness, they have been included in this document.<a href="#section-4.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="notifbehave">
<section id="section-4.2">
        <h3 id="name-pcep-behaviors-in-case-of-n">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-pcep-behaviors-in-case-of-n" class="section-name selfRef">PCEP Behaviors in Case of Notification</a>
        </h3>
<p id="section-4.2-1">
      Notification messages can be employed in two different manners: during the treatment of a PCEP request, or independently from it to advertise information (in <span>[<a href="#RFC5440" class="xref">RFC5440</a>]</span>, the request ID list within a PCNtf message is optional).  Hence, three different types of behaviors can be identified:<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.2-2.1">"Local": the notification does not imply any forward or backward propagation of the message;<a href="#section-4.2-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.2-2.2">"Request-specific propagation": the received message requires to be propagated forwardly or backwardly (depending on which peer has sent the message) to the PCEP peers;<a href="#section-4.2-2.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.2-2.3">"Non request-specific propagation": the received message must be propagated to any known peers (e.g. if PCE discovery is activated) or to a list of identified peers.<a href="#section-4.2-2.3" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
<section id="section-4.3">
        <h3 id="name-pce-peer-identification">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-pce-peer-identification" class="section-name selfRef">PCE Peer Identification</a>
        </h3>
<p id="section-4.3-1">
        The propagation of errors and notifications affects the state of the PCEP peers along the chain.  In some cases, for instance a notification that a PCE is overloaded, the identification of the PCEP peer - or that the sender PCE is not the direct neighbor - might be an important information for the PCEP peers receiving the message. The ID of sender PCE is not carried in the error TLVs, but can be achieved via the speaker entity ID TLV during state synchronization. An example can be found in <span>[<a href="#RFC8232" class="xref">RFC8232</a>]</span>.<a href="#section-4.3-1" class="pilcrow">¶</a></p>
</section>
</section>
</div>
<div id="extensions">
<section id="section-5">
      <h2 id="name-pcep-extensions-for-error-a">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-pcep-extensions-for-error-a" class="section-name selfRef">PCEP Extensions for Error and Notification Handling</a>
      </h2>
<p id="section-5-1">
        This section describes extensions to support error and notification with respect to the PCEP behavior description defined in <a href="#behaviors" class="xref">Section 4</a>.  This document does not intend to modify errors and notification types previously defined in existing documents (e.g. <span>[<a href="#RFC5440" class="xref">RFC5440</a>]</span>, <span>[<a href="#RFC5441" class="xref">RFC5441</a>]</span>, etc.). Error related TLVs have been specified in this section, while the notification functionality can be achieved via using PCNtf message with RP object with no need to extend further notification type.<a href="#section-5-1" class="pilcrow">¶</a></p>
<section id="section-5.1">
        <h3 id="name-propagation-tlv">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-propagation-tlv" class="section-name selfRef">Propagation TLV</a>
        </h3>
<p id="section-5.1-1">
        To support the propagation behavior mentioned in <a href="#errorbehave" class="xref">Section 4.1</a> and <a href="#notifbehave" class="xref">Section 4.2</a>, a new optional TLV is defined, which can be carried in PCEP-ERROR and NOTIFICATION objects, to indicate whether a message has to be propagateed or not.  The allocation from the "PCEP TLV Type Indicators" sub-registry will be assigned by IANA and the request is documented in <a href="#iana" class="xref">Section 10</a>.<a href="#section-5.1-1" class="pilcrow">¶</a></p>
<p id="section-5.1-2">
        The description is "Propagation", the length value is 2 bytes and the value field is 1 byte.  The value field is set to 0 meaning that the message MUST NOT be propagated.  If the value field is set to 1, the message MUST be propagated.  <a href="#propagationRestriction" class="xref">Section 5.4</a> specifies the destination and to limit the number of messages.<a href="#section-5.1-2" class="pilcrow">¶</a></p>
</section>
<section id="section-5.2">
        <h3 id="name-error-criticality-tlv">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-error-criticality-tlv" class="section-name selfRef">Error-criticality TLV</a>
        </h3>
<p id="section-5.2-1">
        To support the shutdown behavior mentioned in <a href="#errorbehave" class="xref">Section 4.1</a>, we extend the PCEP-ERROR object by creating a new optional TLV to indicate whether an error is recoverable or not.  The allocation from the "PCEP TLV Type Indicators" sub-registry will be assigned by IANA and the request is documented in <a href="#iana" class="xref">Section 10</a>.<a href="#section-5.2-1" class="pilcrow">¶</a></p>
<p id="section-5.2-2">
        The description is "Error-criticality", the length value is 2 bytes and the value field is 1 byte.  The value field is set to 0 meaning that the error has a low-level of criticality (so further messages can be expected for this request).  If the value field is set to 1, the error has a medium-level of criticality and requests whose identifiers appear in the same message MUST be cancelled (so no further messages can be expected for these requests).  If the value field is set to 2, the error has a high-level of criticality, the connection for this PCEP session is closed by the sender PCE peer.<a href="#section-5.2-2" class="pilcrow">¶</a></p>
</section>
<section id="section-5.3">
        <h3 id="name-behaviors-and-tlv-combinati">
<a href="#section-5.3" class="section-number selfRef">5.3. </a><a href="#name-behaviors-and-tlv-combinati" class="section-name selfRef">Behaviors and TLV combinations</a>
        </h3>
<p id="section-5.3-1">
        The propagation behavior MAY be combined with all criticality levels, thus leading to 6 different behaviors.  In the case of a criticality level of 2, the session is closed by the PCE peer which sends the message.  Hence, the criticality level is purely informative for the PCE peer which receives the message.  If it is combined with a propagation behavior, then the PCE propagating the message MUST indicate the same level of criticality if it closes the session.  Otherwise, it MUST use a criticality level of 1 if it does not close the session.<a href="#section-5.3-1" class="pilcrow">¶</a></p>
<p id="section-5.3-2">
        For a PCErr message, all the possible behaviors described in <a href="#errorbehave" class="xref">Section 4.1</a> can be covered with TLVs included in a PCEP-ERROR object.  The following table captures all combinations of error behaviors:<a href="#section-5.3-2" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.3-3">
<pre>

| Error      \Propogation|      0       |       1      |
| criticallity\ Value    | (   No       |(Propogation  |
|  value       \         | Propagation) |  Required)   |
|------------------------------------------------------|
|      0 (low)           |    Type 1    |   Type 4     |
|      1 (medium)        |    Type 2    |   Type 5     |
|      2 (high)          |    Type 3    |   Type 6     |
|------------------------------------------------------|


</pre><a href="#section-5.3-3" class="pilcrow">¶</a>
</div>
<ul class="normal">
<li class="normal" id="section-5.3-4.1">"Error Behavior Type 1" : Local Error with a low level of criticality;<a href="#section-5.3-4.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-5.3-4.2">"Error Behavior Type 2": Local Error with a medium level of criticality;<a href="#section-5.3-4.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-5.3-4.3">"Error Behavior Type 3": Local Error with a high level of criticality;<a href="#section-5.3-4.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-5.3-4.4">"Error Behavior Type 4": Propagated Error with a low level of criticality;<a href="#section-5.3-4.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-5.3-4.5">"Error Behavior Type 5": Propagated Error with a medium level of criticality;<a href="#section-5.3-4.5" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-5.3-4.6">"Error Behavior Type 6": Propagated Error with a high level of criticality;<a href="#section-5.3-4.6" class="pilcrow">¶</a>
</li>
        </ul>
</section>
<div id="propagationRestriction">
<section id="section-5.4">
        <h3 id="name-propagation-restrictions-tl">
<a href="#section-5.4" class="section-number selfRef">5.4. </a><a href="#name-propagation-restrictions-tl" class="section-name selfRef">Propagation Restrictions TLVs</a>
        </h3>
<p id="section-5.4-1">
        In order to limit the propagation of errors and notifications, the following mechanisms SHOULD be used:<a href="#section-5.4-1" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-5.4-2.1">A Time-To-Live(TTL) RLV: to limit the number of PCEP peers that will recursively receive the message;<a href="#section-5.4-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-5.4-2.2">A DIFFUSION-LIST TLV: to specify the PCEP peer addresses or domains of PCEP peers the message must be propagate to;<a href="#section-5.4-2.2" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-5.4-2.3">History mechanism: if a PCEP peer keeps track of the messages it has relayed, it could avoid propagating an error or notification it has already received.<a href="#section-5.4-2.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-5.4-3">
        Such mechanisms SHOULD be used jointly or independently depending the error or notification behaviors they are associated to.  The conditions of use for the TTL and DIFFUSION-LIST TLVs are described in sections below.<a href="#section-5.4-3" class="pilcrow">¶</a></p>
<section id="section-5.4.1">
          <h4 id="name-time-to-live-ttl-tlv">
<a href="#section-5.4.1" class="section-number selfRef">5.4.1. </a><a href="#name-time-to-live-ttl-tlv" class="section-name selfRef">Time-To-Live (TTL) TLV</a>
          </h4>
<p id="section-5.4.1-1">
            The TTL value is set to any integer value to indicate the number of PCEP peers that will recursively receive the message.  The TTL TLV SHOULD be used with propagated errors or notifications ("Propagation" TLV with value 1 in PCEP-ERROR or NOTIFICATION objects).  Each PCEP peer MUST decrement the TTL value before propagating the message.  When the TTL value becomes 0, the message is no more propagated.<a href="#section-5.4.1-1" class="pilcrow">¶</a></p>
<p id="section-5.4.1-2">
            If the message to be propagated is request-specific and there is no TTL or DIFFUSION-LIST TLVs included, the message MUST reach the source PCC (or alternatively the target PCE).<a href="#section-5.4.1-2" class="pilcrow">¶</a></p>
</section>
<section id="section-5.4.2">
          <h4 id="name-diffusion-list-tlv">
<a href="#section-5.4.2" class="section-number selfRef">5.4.2. </a><a href="#name-diffusion-list-tlv" class="section-name selfRef">DIFFUSION-LIST TLV</a>
          </h4>
<p id="section-5.4.2-1">
            The DIFFUSION-LIST TLV can be carried within either the error object of a PCErr message, or the notification object of a PCNtf message. It can either be used in a message sent by a PCC to a PCE or vice versa.  The DIFFUSION-LIST MAY be used with propagated errors (TLV "Propagation"at value 1 in PCEP-ERROR object).<a href="#section-5.4.2-1" class="pilcrow">¶</a></p>
<p id="section-5.4.2-2">
            The format of the DIFFUSION-LIST object body is as follows:<a href="#section-5.4.2-2" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.4.2-3">
<pre>

 0                   1                    2                  3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|           Type                |       Length                  |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
//                        (Sub-objects)                         //
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

</pre><a href="#section-5.4.2-3" class="pilcrow">¶</a>
</div>
<p id="section-5.4.2-4">
            Type (16 bits):  restricts the diffusion to certain peers. The following values are currently defined:<a href="#section-5.4.2-4" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-5.4.2-5.1">0: Any PCEP peer indicated in the list must be reached.<a href="#section-5.4.2-5.1" class="pilcrow">¶</a>
</li>
            <li class="normal ulEmpty" id="section-5.4.2-5.2">1: Only PCEs must be reached (and not PCC).<a href="#section-5.4.2-5.2" class="pilcrow">¶</a>
</li>
            <li class="normal ulEmpty" id="section-5.4.2-5.3">2: All PCEP peers with which a session is still opened must be reached.<a href="#section-5.4.2-5.3" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-5.4.2-6">
            The value of DIFFUSION-LIST is made of sub-objects similar to the IRO defined in <span>[<a href="#RFC5440" class="xref">RFC5440</a>]</span>. The following sub-object types are supported.<a href="#section-5.4.2-6" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.4.2-7">
<pre>

      Type Sub-object

      1 IPv4 address
      2 IPv6 address
      4 Unnumbered Interface ID
      5 4-byte AS number
      6 OSPF area ID
      7 IS-IS Area ID
      32 Autonomous System number
      33 Explicit eXclusion Route Sub-object (EXRS)

</pre><a href="#section-5.4.2-7" class="pilcrow">¶</a>
</div>
<p id="section-5.4.2-8">
            If the error or notification codes target specific PCEP peers, a DIFFUSION-LIST TLV avoids partially flooding all PCEP peers.  Any PCEP peer receiving a PCErr or PCNTf message containing a PCEP-ERROR or a NOTIFICATION object with  a TLV "Propagation" at value 1 and where a DIFFUSION-LIST appears, MUST remove the addresses of the PCEP peers from the DIFFUSION-LIST, before sending the message to any other PCEP peers.  This is performed by adding the PCEP peer addresses to the Explicit eXclusion Route Sub-object of the DIFFUSION-LIST.  If a DIFFUSION-LIST value is empty, the PCEP peer MUST NOT propagate the message to any peer.<a href="#section-5.4.2-8" class="pilcrow">¶</a></p>
<p id="section-5.4.2-9">
            Note that, a Diffusion-List could contain strict or loose addresses to refer to a network domain (e.g. an Autonomous System number, an OSPF area, an IP address).  Hence, the PCEP peers targeted by the message would be the PCEP peers covering the corresponding domain.  If an address is loose, each time a PCEP peer forwards a message to another PCEP peer of this address, it MUST add it own address to the Explicit eXclusion Route Sub-object (EXRS) of the Diffusion-List for any forwarded messages.  Hence, a PCE SHOULD avoid forwarding the same message repeated to the same set of peers.  Finally, when an address is loose, the forwarding SHOULD be restrained indicating what type of PCEP peers are targeted (i.e. PCE and/or PCC).<a href="#section-5.4.2-9" class="pilcrow">¶</a></p>
</section>
<section id="section-5.4.3">
          <h4 id="name-rules-applied-to-existing-e">
<a href="#section-5.4.3" class="section-number selfRef">5.4.3. </a><a href="#name-rules-applied-to-existing-e" class="section-name selfRef">Rules Applied to Existing Errors and Notifications</a>
          </h4>
<p id="section-5.4.3-1">Many existing normative references states on error definitions (see for instance <span>[<a href="#RFC5440" class="xref">RFC5440</a>]</span>, <span>[<a href="#RFC5441" class="xref">RFC5441</a>]</span>,<span>[<a href="#RFC5455" class="xref">RFC5455</a>]</span>, <span>[<a href="#RFC5521" class="xref">RFC5521</a>]</span>, <span>[<a href="#RFC5557" class="xref">RFC5557</a>]</span>, <span>[<a href="#RFC5886" class="xref">RFC5886</a>]</span>,  <span>[<a href="#RFC8231" class="xref">RFC8231</a>]</span>, <span>[<a href="#RFC8232" class="xref">RFC8232</a>]</span>,<span>[<a href="#RFC8253" class="xref">RFC8253</a>]</span>, <span>[<a href="#RFC8281" class="xref">RFC8281</a>]</span>, <span>[<a href="#RFC8306" class="xref">RFC8306</a>]</span>, <span>[<a href="#RFC8408" class="xref">RFC8408</a>]</span>, <span>[<a href="#RFC8697" class="xref">RFC8697</a>]</span>). This section provides processing rules for existing error types handling, as a recommendation. According to the definitions provided in this document, the follwoing rules are applicable:<a href="#section-5.4.3-1" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-5.4.3-2.1">
                Error-type 1, described in <span>[<a href="#RFC5440" class="xref">RFC5440</a>]</span>, relates to PCEP session establishement failures. All errors of this type are local and not propagated. Hence, if a "Propagation" TLV is added to the error message it is recommended to be set to value 0. Error-values 1,2,6,7 have a high level of criticality.  Hence, if the "Error-criticality" TLV  is included within a PCErr message of type 1 and value 1,2,6 or 7, it is recommended to have a value of 2.<a href="#section-5.4.3-2.1" class="pilcrow">¶</a>
</li>
            <li class="normal ulEmpty" id="section-5.4.3-2.2">
                Error-type 2,3,4, "Capability not supported", "Unknown object" and "Not supported object" respectively, described in <span>[<a href="#RFC5440" class="xref">RFC5440</a>]</span>: errors of this type MAY be propagated using the TLV "Propagation".  Their level of criticality is defined as leading to cancel the path computation request <span>[<a href="#RFC5440" class="xref">RFC5440</a>]</span>.  Hence, if the "Error-criticality" TLV is included, it usually have a value of 1. The error-value 4 of error-type 4 ("Unsupported parameter") associated to the BRPC procedure <span>[<a href="#RFC5441" class="xref">RFC5441</a>]</span> is suggested to contain the "Propagation" TLV  with a DIFFUSION-LIST requesting a propagation to the PCC at the origin of the request.<a href="#section-5.4.3-2.2" class="pilcrow">¶</a>
</li>
            <li class="normal ulEmpty" id="section-5.4.3-2.3">Error-type 5 refers to "Policy violation", error values for this type have been defined in <span>[<a href="#RFC5440" class="xref">RFC5440</a>]</span>, <span>[<a href="#RFC5541" class="xref">RFC5541</a>]</span>, <span>[<a href="#RFC5557" class="xref">RFC5557</a>]</span>, <span>[<a href="#RFC5886" class="xref">RFC5886</a>]</span> and <span>[<a href="#RFC8306" class="xref">RFC8306</a>]</span>. In <span>[<a href="#RFC5440" class="xref">RFC5440</a>]</span>, it is specified that the path computation request MUST be cancelled when an error of type 5 occurs.  Hence, if the "Error-criticality" TLV is included, it usually have a value of 1.  As such errors might be conveyed to several PCEs, the "Propagation" TLV MAY be used.<a href="#section-5.4.3-2.3" class="pilcrow">¶</a>
</li>
            <li class="normal ulEmpty" id="section-5.4.3-2.4">
                Error-type 6 described as "Mandatory object missing" in <span>[<a href="#RFC5440" class="xref">RFC5440</a>]</span>, leads to the cancellation of the path computation request.  Hence, if the "Error-criticality" TLV is included, it usually have a value of 1.  The "Propagation" TLV MAY be used with such errors.  The error-value of 4 for Monitoring object missing defined in <span>[<a href="#RFC5886" class="xref">RFC5886</a>]</span> is no exception to the rule.<a href="#section-5.4.3-2.4" class="pilcrow">¶</a>
</li>
            <li class="normal ulEmpty" id="section-5.4.3-2.5">
                Error-type 7 is described as "synchronized path computation request missing".  In <span>[<a href="#RFC5440" class="xref">RFC5440</a>]</span>, it is specified that the reffered synchronized path computation request MUST be cancelled when an error of type 5 occurs.  Hence, if the "Error-criticality" TLV is included, it usually have a value of 1.  The "Propagation" TLV  MAY be used with such errors.<a href="#section-5.4.3-2.5" class="pilcrow">¶</a>
</li>
            <li class="normal ulEmpty" id="section-5.4.3-2.6">
                Error-type 8 is raised when a PCE receives a PCRep with an unknown request reference.  If the "Propagation" TLV is used with error-type 8, it is recommended to be set at a value of 0.  The "Error-criticality" TLV is not particularly relevant for error-type 8.  Hence, it usually have the value of 0 if used.<a href="#section-5.4.3-2.6" class="pilcrow">¶</a>
</li>
            <li class="normal ulEmpty" id="section-5.4.3-2.7">
                Error-type 9 is raised when a PCE attempts to establish a second PCEP session. The existing session must be preserved.  Hence, if the "Error-criticality" TLV is included, it usually have a value of 0.  By definition, such an error message SHOULD NOT be propagated.  Thus, if the "Propagation" TLV is used with error-type 9, it is usually set to a value of 0.<a href="#section-5.4.3-2.7" class="pilcrow">¶</a>
</li>
            <li class="normal ulEmpty" id="section-5.4.3-2.8">
                Error-type 10 which refers to the reception of an invalid object as described in <span>[<a href="#RFC5440" class="xref">RFC5440</a>]</span> no indication is provided on the cancellation of the path computation request.  Hence, if the "Error-criticality" TLV is included, it usually have a value of 0.  The "Propagation" TLV MAY be used with such errors with any value depending on the expected behavior.<a href="#section-5.4.3-2.8" class="pilcrow">¶</a>
</li>
            <li class="normal ulEmpty" id="section-5.4.3-2.9">
                Error-type 11 relates to "Unrecognized EXRS subobject" and is described in <span>[<a href="#RFC5521" class="xref">RFC5521</a>]</span>.  No path computation request cancellation is required by <span>[<a href="#RFC5521" class="xref">RFC5521</a>]</span>.  Hence, if the "Error-criticality" TLV  is included, it usually have a value of 0. The "Propagation" TLV MAY be used with such errors with any value depending on the expected behavior.<a href="#section-5.4.3-2.9" class="pilcrow">¶</a>
</li>
            <li class="normal ulEmpty" id="section-5.4.3-2.10">
                Error-type 12 refers to "Diffserv-aware TE error" and is described in <span>[<a href="#RFC5455" class="xref">RFC5455</a>]</span>.  Such errors are raised when the CLASSTYPE object of a PCReq is recognized but not supported by a PCE.  <span>[<a href="#RFC5455" class="xref">RFC5455</a>]</span> does not state about the path computation request when such errors are met.  Hence, both "Propagation" and "Error-criticality" TLVs COULD be used within such error-types' messages and set to any specified values.<a href="#section-5.4.3-2.10" class="pilcrow">¶</a>
</li>
            <li class="normal ulEmpty" id="section-5.4.3-2.11">
                Error-type 13 on "BRPC procedure completion failure" is described in <span>[<a href="#RFC5441" class="xref">RFC5441</a>]</span>.  <span>[<a href="#RFC5441" class="xref">RFC5441</a>]</span> states that in such cases, the PCErr message MUST be relayed to the PCC.  Hence, such messages SHOULD contain a "Propagation" TLV and a DIFFUSION-LIST with a Target-Type of 0 and corresponding addresses or with a Target-Type of 2.  It is not specified in <span>[<a href="#RFC5441" class="xref">RFC5441</a>]</span> whether the path computation request should be canceled or not.  If the procedure is not supported, it does not necessarily imply to cancel the path computation request if another procedure is able to read and write VSPT objects.  Thus, the "Error-criticality" TLV  MAY be used with any value depending on the expected behavior.<a href="#section-5.4.3-2.11" class="pilcrow">¶</a>
</li>
            <li class="normal ulEmpty" id="section-5.4.3-2.12">
                Error-type 15 refers to "Global Concurrent Optimization Error" defined in <span>[<a href="#RFC5557" class="xref">RFC5557</a>]</span>.  <span>[<a href="#RFC5557" class="xref">RFC5557</a>]</span> states that the corresponding global concurrent path optimization MUST be cancelled at the PCC.  Hence, if the "Error-criticality" TLV is included, it usually have a value of 1.  The "Propagation" TLV MAY be used with such errors.<a href="#section-5.4.3-2.12" class="pilcrow">¶</a>
</li>
            <li class="normal ulEmpty" id="section-5.4.3-2.13">
                Error-type 16 relates to "P2MP Capability Error" defined in <span>[<a href="#RFC8306" class="xref">RFC8306</a>]</span>.  Such errors lead to the cancellation of the path computation request. Hence, if the "Error-criticality" TLV is included, it usually have a value of 1.  The "Propagation" TLV MAY be used with such errors.<a href="#section-5.4.3-2.13" class="pilcrow">¶</a>
</li>
            <li class="normal ulEmpty" id="section-5.4.3-2.14">
                Error-type 17, titled "P2MP END-POINTS Error" is defined <span>[<a href="#RFC8306" class="xref">RFC8306</a>]</span>.  Such errors are thrown when a PCE tries to add or prune nodes to or from a P2MP Tree.  <span>[<a href="#RFC8306" class="xref">RFC8306</a>]</span> does not specify if such errors lead to cancel the path computation request.  Hence, the "Error-criticality" and "Propagation" TLVs MAY be used with this type of error with any value depending on the expected behavior.<a href="#section-5.4.3-2.14" class="pilcrow">¶</a>
</li>
            <li class="normal ulEmpty" id="section-5.4.3-2.15">
                Error-type 18 of "P2MP Fragmentation Error" is described <span>[<a href="#RFC8306" class="xref">RFC8306</a>]</span> which does not specify whether the path computation request should be cancelled.  But, as messages are fragmented, it is natural to think that the PCE should wait at least a bit for further messages.  The "Error-criticality" TLV MAY be included in such error messages and is particularly adapted to differ the semantic of the same error-type message:  if it is included with a value of 0 then the PCE will still wait for further fragmented messages, when this waiting time ends, the TLV can be included with a value of 1 in order to finally cancel the request.  The "Propagation" TLV  MAY also be used with such errors.<a href="#section-5.4.3-2.15" class="pilcrow">¶</a>
</li>
            <li class="normal ulEmpty" id="section-5.4.3-2.16">
              Error-type 19 of "Invalid Operation" is described in <span>[<a href="#RFC8231" class="xref">RFC8231</a>]</span> and <span>[<a href="#RFC8281" class="xref">RFC8281</a>]</span>, which implies a wrong capability description for PCEP session. In this case, the PCErr message MUST be returned to PCC, and this message usually contain a "Propagation" TLV and a DIFFUSION-LIST with a Target-Type of 0 or 2. The "Error-criticality" TLV is recommended be set to 2 in order to guanrantee the termination of PCEP session.<a href="#section-5.4.3-2.16" class="pilcrow">¶</a>
</li>
            <li class="normal ulEmpty" id="section-5.4.3-2.17">
              Error-type 20 of "LSP State Synchronization Error" is described in <span>[<a href="#RFC8231" class="xref">RFC8231</a>]</span> and <span>[<a href="#RFC8232" class="xref">RFC8232</a>]</span>, which cannot successfully sync up the LSP states. In this case, the "Error-criticality" TLV should be set to 2 in order to guanrantee the termination of PCEP session. The "Propagation" TLV  MAY also be used with such errors.<a href="#section-5.4.3-2.17" class="pilcrow">¶</a>
</li>
            <li class="normal ulEmpty" id="section-5.4.3-2.18">
              Error-type 21 of "Invalid traffic engineering path setup type" is described in <span>[<a href="#RFC8408" class="xref">RFC8408</a>]</span> . Such errors failed to find a matched path setup type and the PCEP sessions MUST be closed. In this case, the "Error-criticality" TLV is usually set to 2 in order to guanrantee the termination of PCEP session. The "Propagation" TLV  MAY also be used with such errors.<a href="#section-5.4.3-2.18" class="pilcrow">¶</a>
</li>
            <li class="normal ulEmpty" id="section-5.4.3-2.19">
              Error-type 23 of "Bad parameter value" is described in <span>[<a href="#RFC8281" class="xref">RFC8281</a>]</span> . Such errors occur when there is a conflict in path name of C flag not set for PCE initiation. In this case, the "Error-criticality" TLV may be set to either 0 or 1 to indicate whether the request is still valid, with the PCEP session open.  The "Propagation" TLV  MAY also be used with such errors.<a href="#section-5.4.3-2.19" class="pilcrow">¶</a>
</li>
            <li class="normal ulEmpty" id="section-5.4.3-2.20">
              Error-type 24 of "LSP instantiation error" is described in <span>[<a href="#RFC8281" class="xref">RFC8281</a>]</span> . Such errors occur when PCC detects problems when establishing the path, the message MUST relay to the PCE, therefore the "Propogation" TLV is usually contained. The "Error-criticality" TLV may be set to either 0 or 1 to indicate whether the request is still valid, with the PCEP session open.<a href="#section-5.4.3-2.20" class="pilcrow">¶</a>
</li>
            <li class="normal ulEmpty" id="section-5.4.3-2.21">
              Error-type 25 of "PCEP StartTLS failure" is described in <span>[<a href="#RFC8253" class="xref">RFC8253</a>]</span>. Such errors indicate the security issue in transport layer. In this case, the "Error-criticality" TLV is usually set to 2 in order to close the PCEP session. The "Propagation" TLV MAY also be used with such errors, depending on the detailed security conditions.<a href="#section-5.4.3-2.21" class="pilcrow">¶</a>
</li>
            <li class="normal ulEmpty" id="section-5.4.3-2.22">
              Error-type 26 of "Association Error " is described in <span>[<a href="#RFC8697" class="xref">RFC8697</a>]</span> . Such errors occur when there is problem for LSP association. In this case, the "Error-criticality" TLV should be set to  either 0 or 1 to indicate whether the request is still valid, with the PCEP session open. The "Propagation" TLV  MAY also be used with such errors.<a href="#section-5.4.3-2.22" class="pilcrow">¶</a>
</li>
          </ul>
</section>
</section>
</div>
</section>
</div>
<section id="section-6">
      <h2 id="name-error-handling-guidelines-f">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-error-handling-guidelines-f" class="section-name selfRef">Error Handling Guidelines for Future PCEP Extension</a>
      </h2>
<p id="section-6-1">
        Error and Notification handling in this document should be considered in PCE documents that include new errors and notifications. A requirement for the authors of these drafts is to evaluate the applicability of the procedure in this document and provide details about the "Error-criticality" TLV and "Propagation" TLV for errors and notifications defined in the draft. Example text is provided as follow.<a href="#section-6-1" class="pilcrow">¶</a></p>
<p id="section-6-2">
        Error-type XX (fill in value of the Error-type) of " XXXX " (fill in name of the Error-type) is described in [RFCYYYY] (fill in the document reference of the Error-type). Such errors occur when ZZZZ (fill in typical scenario). In this case, the "Error-criticality" TLV should be set to X (fill in the recommended value) to indicate whether the request is still valid, with the PCEP session open. The error messages SHOULD/MAY (select the mandatory level) contain a "Propagation" TLV and a DIFFUSION-LIST with a Target-Type of A(fill in the recommended value).<a href="#section-6-2" class="pilcrow">¶</a></p>
</section>
<section id="section-7">
      <h2 id="name-backward-compatibility-cons">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-backward-compatibility-cons" class="section-name selfRef">Backward Compatibility Consideration</a>
      </h2>
<p id="section-7-1">
        There would be backward compatibility issue if there are multiple PCEs with different level understanding of error message. In a scenario that PCE(i) propagate the error message to PCE (i+1), it is possible that PCE (i+1) is not capable to extract the message correctly, then such error message would be ignored and not be further propagated.<a href="#section-7-1" class="pilcrow">¶</a></p>
<p id="section-7-2">
        There can be potential approach to avoid these problem, such as recognizing the incapable PCE and avoiding propagation. However, these approach is not in the scope of this document.<a href="#section-7-2" class="pilcrow">¶</a></p>
</section>
<section id="section-8">
      <h2 id="name-implementation-status">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-implementation-status" class="section-name selfRef">Implementation Status</a>
      </h2>
<p id="section-8-1">
    [NOTE TO RFC EDITOR : This whole section and the reference to <span>[<a href="#RFC7942" class="xref">RFC7942</a>]</span> is to be removed before publication as an RFC]<a href="#section-8-1" class="pilcrow">¶</a></p>
<p id="section-8-2">
    This section records the status of known implementations of the protocol defined by this specification at the time of posting of this Internet-Draft, and is based on a proposal described in <span>[<a href="#RFC7942" class="xref">RFC7942</a>]</span>. The description of implementations in this section is intended to assist the IETF in its decision processes in progressing drafts to RFCs.  Please note that the listing of any individual implementation here does not imply endorsement by the IETF.  Furthermore, no effort has been spent to verify the information presented here that was supplied by IETF contributors.  This is not intended as, and must not be construed to be, a catalog of available implementations or their features.  Readers are advised to note that other implementations may exist.<a href="#section-8-2" class="pilcrow">¶</a></p>
<p id="section-8-3">
    According to <span>[<a href="#RFC7942" class="xref">RFC7942</a>]</span>, "this will allow reviewers and working groups to assign due consideration to documents that have the benefit of running code, which may serve as evidence of valuable experimentation and feedback that have made the implemented protocols more mature. It is up to the individual working groups to use this information as they see fit".<a href="#section-8-3" class="pilcrow">¶</a></p>
<p id="section-8-4">
    At the time of posting the -08 version of this document, there are no known implementations of this mechanism.  It is believed that two vendors are considering prototype implementations, but these plans are too vague to make any further assertions.<a href="#section-8-4" class="pilcrow">¶</a></p>
</section>
<section id="section-9">
      <h2 id="name-security-considerations-3">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-security-considerations-3" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-9-1">
    Within the introduced set of TLVs, the "Propagation" TLV affects PCEP security considerations since it forces propagation behaviors.  Thus, a PCEP implementation SHOULD activate stateful mechanism when receiving PCEP-ERROR or NOTIFICATION object including this TLV in order to avoid DoS attacks.<a href="#section-9-1" class="pilcrow">¶</a></p>
</section>
<div id="iana">
<section id="section-10">
      <h2 id="name-iana-considerations-3">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-iana-considerations-3" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-10-1">IANA maintains a registry of PCEP parameters. This includes a sub-registry for PCEP Objects.<a href="#section-10-1" class="pilcrow">¶</a></p>
<p id="section-10-2">IANA is requested to make an allocation from the sub-registry as follows. The values here are suggested for use by IANA.<a href="#section-10-2" class="pilcrow">¶</a></p>
<section id="section-10.1">
        <h3 id="name-pcep-tlv-type-indicators">
<a href="#section-10.1" class="section-number selfRef">10.1. </a><a href="#name-pcep-tlv-type-indicators" class="section-name selfRef">PCEP TLV Type Indicators</a>
        </h3>
<p id="section-10.1-1">As described in <a href="#propagationRestriction" class="xref">Section 5.4</a> the newly defined TLVs allows a PCE to enforce specific error and notification behaviors within PCEP-ERROR and NOTIFICATION objects. IANA is requested to make the following allocations from the "PCEP TLV Type Indicators" sub-registry.<a href="#section-10.1-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-10.1-2">
<pre>

 Value              Description                 Reference
  TBD               Propagation                this document
  TBD            Error-criticality           this document

</pre><a href="#section-10.1-2" class="pilcrow">¶</a>
</div>
</section>
<section id="section-10.2">
        <h3 id="name-new-diffusion-list-tlv">
<a href="#section-10.2" class="section-number selfRef">10.2. </a><a href="#name-new-diffusion-list-tlv" class="section-name selfRef">New DIFFUSION-LIST TLV</a>
        </h3>
<div class="alignLeft art-text artwork" id="section-10.2-1">
<pre>

Type Value         Meaning                    Reference
   0               Any PCEP peers                  this document

   1               PCEs but excludes
                   PCC-only peers                  this document

   2               PCEs and PCCs                   this document
                   with which a session
                   is still opened

   Subobjects                                    Reference
   1: IPv4 prefix                                  this document
   2: IPv6 prefix                                  this document
   4: Unnumbered Interface ID                      this document
   5: 4-byte AS number                             this document
   6 OSPF area ID                                  this document
   7 IS-IS Area ID                                 this document
   32: Autonomous system number                    this document
   33: Explicit Exclusion Route subobject (EXRS)   this document

</pre><a href="#section-10.2-1" class="pilcrow">¶</a>
</div>
</section>
</section>
</div>
<section id="section-11">
      <h2 id="name-references-2">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-references-2" class="section-name selfRef">References</a>
      </h2>
<section id="section-11.1">
        <h3 id="name-normative-references-2">
<a href="#section-11.1" class="section-number selfRef">11.1. </a><a href="#name-normative-references-2" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5440">[RFC5440]</dt>
        <dd>
<span class="refAuthor">Vasseur, JP., Ed.</span> and <span class="refAuthor">JL. Le Roux, Ed.</span>, <span class="refTitle">"Path Computation Element (PCE) Communication Protocol (PCEP)"</span>, <span class="seriesInfo">RFC 5440</span>, <span class="seriesInfo">DOI 10.17487/RFC5440</span>, <time datetime="2009-03" class="refDate">March 2009</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5440">https://www.rfc-editor.org/info/rfc5440</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5441">[RFC5441]</dt>
        <dd>
<span class="refAuthor">Vasseur, JP., Ed.</span>, <span class="refAuthor">Zhang, R.</span>, <span class="refAuthor">Bitar, N.</span>, and <span class="refAuthor">JL. Le Roux</span>, <span class="refTitle">"A Backward-Recursive PCE-Based Computation (BRPC) Procedure to Compute Shortest Constrained Inter-Domain Traffic Engineering Label Switched Paths"</span>, <span class="seriesInfo">RFC 5441</span>, <span class="seriesInfo">DOI 10.17487/RFC5441</span>, <time datetime="2009-04" class="refDate">April 2009</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5441">https://www.rfc-editor.org/info/rfc5441</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5455">[RFC5455]</dt>
        <dd>
<span class="refAuthor">Sivabalan, S., Ed.</span>, <span class="refAuthor">Parker, J.</span>, <span class="refAuthor">Boutros, S.</span>, and <span class="refAuthor">K. Kumaki</span>, <span class="refTitle">"Diffserv-Aware Class-Type Object for the Path Computation Element Communication Protocol"</span>, <span class="seriesInfo">RFC 5455</span>, <span class="seriesInfo">DOI 10.17487/RFC5455</span>, <time datetime="2009-03" class="refDate">March 2009</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5455">https://www.rfc-editor.org/info/rfc5455</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5521">[RFC5521]</dt>
        <dd>
<span class="refAuthor">Oki, E.</span>, <span class="refAuthor">Takeda, T.</span>, and <span class="refAuthor">A. Farrel</span>, <span class="refTitle">"Extensions to the Path Computation Element Communication Protocol (PCEP) for Route Exclusions"</span>, <span class="seriesInfo">RFC 5521</span>, <span class="seriesInfo">DOI 10.17487/RFC5521</span>, <time datetime="2009-04" class="refDate">April 2009</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5521">https://www.rfc-editor.org/info/rfc5521</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5541">[RFC5541]</dt>
        <dd>
<span class="refAuthor">Le Roux, JL.</span>, <span class="refAuthor">Vasseur, JP.</span>, and <span class="refAuthor">Y. Lee</span>, <span class="refTitle">"Encoding of Objective Functions in the Path Computation Element Communication Protocol (PCEP)"</span>, <span class="seriesInfo">RFC 5541</span>, <span class="seriesInfo">DOI 10.17487/RFC5541</span>, <time datetime="2009-06" class="refDate">June 2009</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5541">https://www.rfc-editor.org/info/rfc5541</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5557">[RFC5557]</dt>
        <dd>
<span class="refAuthor">Lee, Y.</span>, <span class="refAuthor">Le Roux, JL.</span>, <span class="refAuthor">King, D.</span>, and <span class="refAuthor">E. Oki</span>, <span class="refTitle">"Path Computation Element Communication Protocol (PCEP) Requirements and Protocol Extensions in Support of Global Concurrent Optimization"</span>, <span class="seriesInfo">RFC 5557</span>, <span class="seriesInfo">DOI 10.17487/RFC5557</span>, <time datetime="2009-07" class="refDate">July 2009</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5557">https://www.rfc-editor.org/info/rfc5557</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5886">[RFC5886]</dt>
        <dd>
<span class="refAuthor">Vasseur, JP., Ed.</span>, <span class="refAuthor">Le Roux, JL.</span>, and <span class="refAuthor">Y. Ikejiri</span>, <span class="refTitle">"A Set of Monitoring Tools for Path Computation Element (PCE)-Based Architecture"</span>, <span class="seriesInfo">RFC 5886</span>, <span class="seriesInfo">DOI 10.17487/RFC5886</span>, <time datetime="2010-06" class="refDate">June 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5886">https://www.rfc-editor.org/info/rfc5886</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8231">[RFC8231]</dt>
        <dd>
<span class="refAuthor">Crabbe, E.</span>, <span class="refAuthor">Minei, I.</span>, <span class="refAuthor">Medved, J.</span>, and <span class="refAuthor">R. Varga</span>, <span class="refTitle">"Path Computation Element Communication Protocol (PCEP) Extensions for Stateful PCE"</span>, <span class="seriesInfo">RFC 8231</span>, <span class="seriesInfo">DOI 10.17487/RFC8231</span>, <time datetime="2017-09" class="refDate">September 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8231">https://www.rfc-editor.org/info/rfc8231</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8232">[RFC8232]</dt>
        <dd>
<span class="refAuthor">Crabbe, E.</span>, <span class="refAuthor">Minei, I.</span>, <span class="refAuthor">Medved, J.</span>, <span class="refAuthor">Varga, R.</span>, <span class="refAuthor">Zhang, X.</span>, and <span class="refAuthor">D. Dhody</span>, <span class="refTitle">"Optimizations of Label Switched Path State Synchronization Procedures for a Stateful PCE"</span>, <span class="seriesInfo">RFC 8232</span>, <span class="seriesInfo">DOI 10.17487/RFC8232</span>, <time datetime="2017-09" class="refDate">September 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8232">https://www.rfc-editor.org/info/rfc8232</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8253">[RFC8253]</dt>
        <dd>
<span class="refAuthor">Lopez, D.</span>, <span class="refAuthor">Gonzalez de Dios, O.</span>, <span class="refAuthor">Wu, Q.</span>, and <span class="refAuthor">D. Dhody</span>, <span class="refTitle">"PCEPS: Usage of TLS to Provide a Secure Transport for the Path Computation Element Communication Protocol (PCEP)"</span>, <span class="seriesInfo">RFC 8253</span>, <span class="seriesInfo">DOI 10.17487/RFC8253</span>, <time datetime="2017-10" class="refDate">October 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8253">https://www.rfc-editor.org/info/rfc8253</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8281">[RFC8281]</dt>
        <dd>
<span class="refAuthor">Crabbe, E.</span>, <span class="refAuthor">Minei, I.</span>, <span class="refAuthor">Sivabalan, S.</span>, and <span class="refAuthor">R. Varga</span>, <span class="refTitle">"Path Computation Element Communication Protocol (PCEP) Extensions for PCE-Initiated LSP Setup in a Stateful PCE Model"</span>, <span class="seriesInfo">RFC 8281</span>, <span class="seriesInfo">DOI 10.17487/RFC8281</span>, <time datetime="2017-12" class="refDate">December 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8281">https://www.rfc-editor.org/info/rfc8281</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8306">[RFC8306]</dt>
        <dd>
<span class="refAuthor">Zhao, Q.</span>, <span class="refAuthor">Dhody, D., Ed.</span>, <span class="refAuthor">Palleti, R.</span>, and <span class="refAuthor">D. King</span>, <span class="refTitle">"Extensions to the Path Computation Element Communication Protocol (PCEP) for Point-to-Multipoint Traffic Engineering Label Switched Paths"</span>, <span class="seriesInfo">RFC 8306</span>, <span class="seriesInfo">DOI 10.17487/RFC8306</span>, <time datetime="2017-11" class="refDate">November 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8306">https://www.rfc-editor.org/info/rfc8306</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8408">[RFC8408]</dt>
        <dd>
<span class="refAuthor">Sivabalan, S.</span>, <span class="refAuthor">Tantsura, J.</span>, <span class="refAuthor">Minei, I.</span>, <span class="refAuthor">Varga, R.</span>, and <span class="refAuthor">J. Hardwick</span>, <span class="refTitle">"Conveying Path Setup Type in PCE Communication Protocol (PCEP) Messages"</span>, <span class="seriesInfo">RFC 8408</span>, <span class="seriesInfo">DOI 10.17487/RFC8408</span>, <time datetime="2018-07" class="refDate">July 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8408">https://www.rfc-editor.org/info/rfc8408</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8697">[RFC8697]</dt>
      <dd>
<span class="refAuthor">Minei, I.</span>, <span class="refAuthor">Crabbe, E.</span>, <span class="refAuthor">Sivabalan, S.</span>, <span class="refAuthor">Ananthakrishnan, H.</span>, <span class="refAuthor">Dhody, D.</span>, and <span class="refAuthor">Y. Tanaka</span>, <span class="refTitle">"Path Computation Element Communication Protocol (PCEP) Extensions for Establishing Relationships between Sets of Label Switched Paths (LSPs)"</span>, <span class="seriesInfo">RFC 8697</span>, <span class="seriesInfo">DOI 10.17487/RFC8697</span>, <time datetime="2020-01" class="refDate">January 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8697">https://www.rfc-editor.org/info/rfc8697</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-11.2">
        <h3 id="name-informational-references">
<a href="#section-11.2" class="section-number selfRef">11.2. </a><a href="#name-informational-references" class="section-name selfRef">Informational References</a>
        </h3>
<dl class="references">
<dt id="RFC4655">[RFC4655]</dt>
        <dd>
<span class="refAuthor">Farrel, A.</span>, <span class="refAuthor">Vasseur, J.-P.</span>, and <span class="refAuthor">J. Ash</span>, <span class="refTitle">"A Path Computation Element (PCE)-Based Architecture"</span>, <span class="seriesInfo">RFC 4655</span>, <span class="seriesInfo">DOI 10.17487/RFC4655</span>, <time datetime="2006-08" class="refDate">August 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4655">https://www.rfc-editor.org/info/rfc4655</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7470">[RFC7470]</dt>
        <dd>
<span class="refAuthor">Zhang, F.</span> and <span class="refAuthor">A. Farrel</span>, <span class="refTitle">"Conveying Vendor-Specific Constraints in the Path Computation Element Communication Protocol"</span>, <span class="seriesInfo">RFC 7470</span>, <span class="seriesInfo">DOI 10.17487/RFC7470</span>, <time datetime="2015-03" class="refDate">March 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7470">https://www.rfc-editor.org/info/rfc7470</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7942">[RFC7942]</dt>
        <dd>
<span class="refAuthor">Sheffer, Y.</span> and <span class="refAuthor">A. Farrel</span>, <span class="refTitle">"Improving Awareness of Running Code: The Implementation Status Section"</span>, <span class="seriesInfo">BCP 205</span>, <span class="seriesInfo">RFC 7942</span>, <span class="seriesInfo">DOI 10.17487/RFC7942</span>, <time datetime="2016-07" class="refDate">July 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7942">https://www.rfc-editor.org/info/rfc7942</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8751">[RFC8751]</dt>
      <dd>
<span class="refAuthor">Dhody, D.</span>, <span class="refAuthor">Lee, Y.</span>, <span class="refAuthor">Ceccarelli, D.</span>, <span class="refAuthor">Shin, J.</span>, and <span class="refAuthor">D. King</span>, <span class="refTitle">"Hierarchical Stateful Path Computation Element (PCE)"</span>, <span class="seriesInfo">RFC 8751</span>, <span class="seriesInfo">DOI 10.17487/RFC8751</span>, <time datetime="2020-03" class="refDate">March 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8751">https://www.rfc-editor.org/info/rfc8751</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<section id="appendix-A">
      <h2 id="name-error-and-notification-scen">
<a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-error-and-notification-scen" class="section-name selfRef">Error and Notification Scenarios</a>
      </h2>
<p id="appendix-A-1">
    This section provides some examples depicting how the error  described above can be used in a PCEP session.  The origin of the errors or notifications is only illustrative and has no normative purpose.  Sometimes the PCE features behind may be implementation-specific (e.g. detection of flooding).  This section does not provide scenarios for errors with a high-level of critcity (i.e., Error behaviors 3 and 6) since such errors are very specific and until now have been normalized only during the session establishment (error-type of 1).<a href="#appendix-A-1" class="pilcrow">¶</a></p>
<section id="appendix-A.1">
        <h3 id="name-error-behavior-type-1">
<a href="#appendix-A.1" class="section-number selfRef">A.1. </a><a href="#name-error-behavior-type-1" class="section-name selfRef">Error Behavior Type 1</a>
        </h3>
<p id="appendix-A.1-1">
        In this example, a PCC attempts to establish a second PCEP session with the same PCE for another request.  Consequently the PCE sends back an error message with error-type 9.  This error stays local and does not affect the former session.   The second session is ignored. If the "Propagation" TLV and "Error-criticality" TLV are used, they should be both set to value 0.<a href="#appendix-A.1-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="appendix-A.1-2">
<pre>

                  +-+-+                  +-+-+
                  |PCC|                  |PCE|
                  +-+-+                  +-+-+
1) Path computation |                      |
 event              |                      |
2) PCE selection    |----- Open Message---&gt;|
                    |&lt;--- Open message ----|
3) Path computation |---- PCReq message---&gt;|
 request X sent to  |                      |4) Path computation
 the selected PCE   |                      | request queued
                    |                      |
5) Path computation |                      |
 event              |                      |
6) PCE selection    |                      |
                    |----- Open Message---&gt;|8) Session already
                    |                      |opened
                    |&lt;--- PCErr message----| Error-type=9
                    |                      |

</pre><a href="#appendix-A.1-2" class="pilcrow">¶</a>
</div>
</section>
<section id="appendix-A.2">
        <h3 id="name-error-behavior-type-2">
<a href="#appendix-A.2" class="section-number selfRef">A.2. </a><a href="#name-error-behavior-type-2" class="section-name selfRef">Error Behavior Type 2</a>
        </h3>
<p id="appendix-A.2-1">
        In this example, the PCC sends a DiffServ-aware path computation request.  If the PCE receiving the request does not support the indicated class-type, it thus sends back a PCErr message with error-type=12 and error-value=1.  If the  "Propagation" TLV and "Error-criticality" TLV are present, they should carry value 0 and value 1 respectively.  Consequently, the request is cancelled.<a href="#appendix-A.2-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="appendix-A.2-2">
<pre>

                  +-+-+                  +-+-+
                  |PCC|                  |PCE|
                  +-+-+                  +-+-+
1) Path computation |                      |
 event              |                      |
2) PCE selection    |                      |
3) Path computation |---- PCReq message---&gt;|
 request X sent to  |                      |4) Path computation
 the selected PCE   |                      | request queued
                    |                      |
                    |                      |5) DiffServ class-type
                    |                      | not supported
                    |                      |6) Path computation
                    |                      | request X
                    |                      | cancelled
                    |&lt;--- PCErr message----| Error-type=12
                    |                      |

</pre><a href="#appendix-A.2-2" class="pilcrow">¶</a>
</div>
</section>
<section id="appendix-A.3">
        <h3 id="name-error-behavior-type-4">
<a href="#appendix-A.3" class="section-number selfRef">A.3. </a><a href="#name-error-behavior-type-4" class="section-name selfRef">Error Behavior Type 4</a>
        </h3>
<p id="appendix-A.3-1">
        In this example, a PCC sends a path computation requests with no P flag set (e.g. END-POINT object with P-flag cleared).  This is detected by another PCE in the sequence.  The path computation request can thus be treated but the P-Flag will be ignored.  Hence, this error is not critical but the source PCC should be informed of this fact.  So, a PCErr message with error-type 10 ("Reception of an invalid object").  The PCEP-ERROR object of the message contains a "Propagation" TLV at value 1 and a "Error-criticality" TLV at value 0.  It is hence propagated backwardly to the source PCC.<a href="#appendix-A.3-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="appendix-A.3-2">
<pre>

 +-+-+              +-+-+-+-+                +-+-+
 |PCC|              |PCE|PCC|                |PCE|
 +-+-+              +-+-+-+-+                +-+-+
  |---- PCReq message--&gt;|                      |
  |                     |                      |
  |                     |---- PCReq message---&gt;|
  |                     |                      |
  |                     |                      |1) Parameter is
  |                     |                      | not supported
  |                     |                      |
  |                     |&lt;--- PCErr message----| Error-type=10
  |&lt;--- PCErr message---|                      |
  |                     |                      |

</pre><a href="#appendix-A.3-2" class="pilcrow">¶</a>
</div>
</section>
<section id="appendix-A.4">
        <h3 id="name-error-behavior-type-5">
<a href="#appendix-A.4" class="section-number selfRef">A.4. </a><a href="#name-error-behavior-type-5" class="section-name selfRef">Error Behavior Type 5</a>
        </h3>
<p id="appendix-A.4-1">
        In this example, PCEs are using the BRPC procedure to treat a path computation request <span>[<a href="#RFC5441" class="xref">RFC5441</a>]</span>.  However, one of the PCEs does not support a parameter of the request.  Hence, a PCErr message with error-type 4 and error-value 4 is sent by this PCE and has to be forwarded to the source PCC.  The PCEP-ERROR object includes a "Propagation" TLV at value 1 and "Error-criticality" TLV at value 1 and the message is propagated backwardly to the source PCC.  Consequently, the request is cancelled.<a href="#appendix-A.4-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="appendix-A.4-2">
<pre>

 +-+-+               +-+-+-+-+                +-+-+
 |PCC|               |PCE|PCC|                |PCE|
 +-+-+               +-+-+-+-+                +-+-+
   |---- PCReq message--&gt;|                      |
   |                     |                      |
   |                     |---- PCReq message---&gt;|
   |                     |                      |
   |                     |                      |1) Unsupported
   |                     |                      | Parameter BRPC
   |                     |                      |2) Path
   |                     |                      | computation
   |                     |                      | request X
   |                     |                      | cancelled
   |                     |&lt;--- PCErr message----| Error-type=4
   |&lt;--- PCErr message---|                      |
   |                     |                      |

</pre><a href="#appendix-A.4-2" class="pilcrow">¶</a>
</div>
</section>
</section>
<div id="authors-addresses">
<section id="appendix-B">
      <h2 id="name-authors-addresses-2">
<a href="#name-authors-addresses-2" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Helia Pouyllau</span></div>
<div dir="auto" class="left"><span class="org">Alcatel-Lucent</span></div>
<div dir="auto" class="left"><span class="street-address">Route de Villejust</span></div>
<div dir="auto" class="left">
<span class="postal-code">91620</span> <span class="locality">NOZAY</span>
</div>
<div dir="auto" class="left"><span class="country-name">France</span></div>
<div class="tel">
<span>Phone:</span>
<a href="tel:+%2033%20(0)1%2030%2077%2063%2011" class="tel">+ 33 (0)1 30 77 63 11</a>
</div>
<div class="email">
<span>Email:</span>
<a href="mailto:helia.pouyllau@alcatel-lucent.com" class="email">helia.pouyllau@alcatel-lucent.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Remi Theillaud</span></div>
<div dir="auto" class="left"><span class="org">Marben Products</span></div>
<div dir="auto" class="left"><span class="street-address">176 rue Jean Jaures</span></div>
<div dir="auto" class="left">
<span class="postal-code">92800</span> <span class="locality">Puteaux</span>
</div>
<div dir="auto" class="left"><span class="country-name">France</span></div>
<div class="tel">
<span>Phone:</span>
<a href="tel:+%2033%20(0)1%2079%2062%2010%2022" class="tel">+ 33 (0)1 79 62 10 22</a>
</div>
<div class="email">
<span>Email:</span>
<a href="mailto:remi.theillaud@marben-products.com" class="email">remi.theillaud@marben-products.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Julien Meuric</span></div>
<div dir="auto" class="left"><span class="org">Orange</span></div>
<div dir="auto" class="left"><span class="street-address">2, avenue Pierre Marzin</span></div>
<div dir="auto" class="left">
<span class="postal-code">22307</span> <span class="locality">Lannion</span>
</div>
<div dir="auto" class="left"><span class="country-name">France</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:julien.meuric@orange.com" class="email">julien.meuric@orange.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Haomian Zheng (Editor)</span></div>
<div dir="auto" class="left"><span class="org">Huawei Technologies</span></div>
<div dir="auto" class="left"><span class="street-address">H1, Xiliu Beipo Village, Songshan Lake,</span></div>
<div dir="auto" class="left"><span class="locality">Dongguan</span></div>
<div dir="auto" class="left">
<span class="region">Guangdong</span>, <span class="postal-code">523808</span>
</div>
<div dir="auto" class="left"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:zhenghaomian@huawei.com" class="email">zhenghaomian@huawei.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Xian Zhang</span></div>
<div dir="auto" class="left"><span class="org">Huawei Technologies</span></div>
<div dir="auto" class="left"><span class="street-address">A10, Huawei Industrial Base, Bantian, Longgang District</span></div>
<div dir="auto" class="left"><span class="locality">Shenzhen</span></div>
<div dir="auto" class="left">
<span class="region">Guangdong</span>, <span class="postal-code">518129</span>
</div>
<div dir="auto" class="left"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:zhang.xian@huawei.com" class="email">zhang.xian@huawei.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
