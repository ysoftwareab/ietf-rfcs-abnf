<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Generic Protocol Extension for VXLAN (VXLAN-GPE)</title>
<meta content="Fabio Maino (Editor)" name="author">
<meta content="Larry Kreeger (editor)" name="author">
<meta content="Uri Elzur (editor)" name="author">
<meta content="
       This document describes extending Virtual eXtensible Local Area
      Network (VXLAN), via changes to the VXLAN header, with four new
      capabilities: support for multi-protocol encapsulation, support for
      operations, administration and maintenance (OAM) signaling, support for
      ingress-replicated BUM Traffic (i.e. Broadcast, Unknown unicast, or
      Multicast), and explicit versioning. New protocol capabilities can be
      introduced via shim headers. 
    " name="description">
<meta content="xml2rfc 3.9.1" name="generator">
<meta content="LISP; L2 Overlay, L3 Overlay" name="keyword">
<meta content="draft-ietf-nvo3-vxlan-gpe-12" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.9.1
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.2
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.6.3
    pycountry 20.7.3
    pyflakes 2.3.1
    PyYAML 5.4.1
    requests 2.26.0
    setuptools 58.0.4
    six 1.16.0
-->
<link href="/tmp/draft-ietf-nvo3-vxlan-gpe-12-v9foel22.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: avoid-page;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">VXLAN-GPE</td>
<td class="right">September 2021</td>
</tr></thead>
<tfoot><tr>
<td class="left">Maino, Ed., et al.</td>
<td class="center">Expires 26 March 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Network Working Group</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-ietf-nvo3-vxlan-gpe-12</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2021-09-22" class="published">22 September 2021</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Informational</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-03-26">26 March 2022</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">F. Maino, Ed.</div>
<div class="org">Cisco Systems</div>
</div>
<div class="author">
      <div class="author-name">L. Kreeger, Ed.</div>
<div class="org">Arrcus</div>
</div>
<div class="author">
      <div class="author-name">U. Elzur, Ed.</div>
<div class="org">Intel</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Generic Protocol Extension for VXLAN (VXLAN-GPE)</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This document describes extending Virtual eXtensible Local Area
      Network (VXLAN), via changes to the VXLAN header, with four new
      capabilities: support for multi-protocol encapsulation, support for
      operations, administration and maintenance (OAM) signaling, support for
      ingress-replicated BUM Traffic (i.e. Broadcast, Unknown unicast, or
      Multicast), and explicit versioning. New protocol capabilities can be
      introduced via shim headers.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<section class="note" id="section-note.1">
      <h2 id="name-requirements-language">
<a href="#name-requirements-language" class="section-name selfRef">Requirements Language</a>
      </h2>
<p id="section-note.1-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
      "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
      document are to be interpreted as described in <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span>.<a href="#section-note.1-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 26 March 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2021 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact ulEmpty ulBare toc">
<li class="compact ulEmpty ulBare toc" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
</li>
          <li class="compact ulEmpty ulBare toc" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-vxlan-without-protocol-exte" class="xref">VXLAN Without Protocol Extension</a></p>
</li>
          <li class="compact ulEmpty ulBare toc" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-generic-protocol-extension-" class="xref">Generic Protocol Extension for VXLAN (VXLAN-GPE)</a></p>
<ul class="compact ulEmpty ulBare toc">
<li class="compact ulEmpty ulBare toc" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1" class="keepWithNext"><a href="#section-3.1" class="xref">3.1</a>.  <a href="#name-vxlan-gpe-header" class="xref">VXLAN-GPE Header</a></p>
</li>
              <li class="compact ulEmpty ulBare toc" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="xref">3.2</a>.  <a href="#name-multi-protocol-support" class="xref">Multi Protocol Support</a></p>
</li>
              <li class="compact ulEmpty ulBare toc" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="xref">3.3</a>.  <a href="#name-replicated-bum-traffic" class="xref">Replicated BUM Traffic</a></p>
</li>
              <li class="compact ulEmpty ulBare toc" id="section-toc.1-1.3.2.4">
                <p id="section-toc.1-1.3.2.4.1"><a href="#section-3.4" class="xref">3.4</a>.  <a href="#name-oam-support" class="xref">OAM Support</a></p>
</li>
              <li class="compact ulEmpty ulBare toc" id="section-toc.1-1.3.2.5">
                <p id="section-toc.1-1.3.2.5.1"><a href="#section-3.5" class="xref">3.5</a>.  <a href="#name-version-bits" class="xref">Version Bits</a></p>
</li>
            </ul>
</li>
          <li class="compact ulEmpty ulBare toc" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-outer-encapsulations" class="xref">Outer Encapsulations</a></p>
<ul class="compact ulEmpty ulBare toc">
<li class="compact ulEmpty ulBare toc" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-inner-vlan-tag-handling" class="xref">Inner VLAN Tag Handling</a></p>
</li>
              <li class="compact ulEmpty ulBare toc" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-fragmentation-consideration" class="xref">Fragmentation Considerations</a></p>
</li>
            </ul>
</li>
          <li class="compact ulEmpty ulBare toc" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-implementation-and-deployme" class="xref">Implementation and Deployment Considerations</a></p>
<ul class="compact ulEmpty ulBare toc">
<li class="compact ulEmpty ulBare toc" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="xref">5.1</a>.  <a href="#name-applicability-statement" class="xref">Applicability Statement</a></p>
</li>
              <li class="compact ulEmpty ulBare toc" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="xref">5.2</a>.  <a href="#name-congestion-control-function" class="xref">Congestion Control Functionality</a></p>
</li>
              <li class="compact ulEmpty ulBare toc" id="section-toc.1-1.5.2.3">
                <p id="section-toc.1-1.5.2.3.1"><a href="#section-5.3" class="xref">5.3</a>.  <a href="#name-udp-checksum" class="xref">UDP Checksum</a></p>
<ul class="compact ulEmpty ulBare toc">
<li class="compact ulEmpty ulBare toc" id="section-toc.1-1.5.2.3.2.1">
                    <p id="section-toc.1-1.5.2.3.2.1.1"><a href="#section-5.3.1" class="xref">5.3.1</a>.  <a href="#name-udp-zero-checksum-handling-" class="xref">UDP Zero Checksum Handling with IPv6</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact ulEmpty ulBare toc" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-backward-compatibility" class="xref">Backward Compatibility</a></p>
<ul class="compact ulEmpty ulBare toc">
<li class="compact ulEmpty ulBare toc" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="xref">6.1</a>.  <a href="#name-vxlan-vtep-to-vxlan-gpe-vte" class="xref">VXLAN VTEP to VXLAN-GPE VTEP</a></p>
</li>
              <li class="compact ulEmpty ulBare toc" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="xref">6.2</a>.  <a href="#name-vxlan-gpe-vtep-to-vxlan-vte" class="xref">VXLAN-GPE VTEP to VXLAN VTEP</a></p>
</li>
              <li class="compact ulEmpty ulBare toc" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a href="#section-6.3" class="xref">6.3</a>.  <a href="#name-vxlan-gpe-udp-ports" class="xref">VXLAN-GPE UDP Ports</a></p>
</li>
              <li class="compact ulEmpty ulBare toc" id="section-toc.1-1.6.2.4">
                <p id="section-toc.1-1.6.2.4.1"><a href="#section-6.4" class="xref">6.4</a>.  <a href="#name-vxlan-gpe-and-encapsulated-" class="xref">VXLAN-GPE and Encapsulated IP Header Fields</a></p>
</li>
            </ul>
</li>
          <li class="compact ulEmpty ulBare toc" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-vxlan-gpe-examples" class="xref">VXLAN-GPE Examples</a></p>
</li>
          <li class="compact ulEmpty ulBare toc" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
</li>
          <li class="compact ulEmpty ulBare toc" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-contributors" class="xref">Contributors</a></p>
</li>
          <li class="compact ulEmpty ulBare toc" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-acknowledgments" class="xref">Acknowledgments</a></p>
</li>
          <li class="compact ulEmpty ulBare toc" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="xref">11</a>. <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
<ul class="compact ulEmpty ulBare toc">
<li class="compact ulEmpty ulBare toc" id="section-toc.1-1.11.2.1">
                <p id="section-toc.1-1.11.2.1.1"><a href="#section-11.1" class="xref">11.1</a>.  <a href="#name-udp-port" class="xref">UDP Port</a></p>
</li>
              <li class="compact ulEmpty ulBare toc" id="section-toc.1-1.11.2.2">
                <p id="section-toc.1-1.11.2.2.1"><a href="#section-11.2" class="xref">11.2</a>.  <a href="#name-vxlan-gpe-next-protocol" class="xref">VXLAN-GPE Next Protocol</a></p>
</li>
              <li class="compact ulEmpty ulBare toc" id="section-toc.1-1.11.2.3">
                <p id="section-toc.1-1.11.2.3.1"><a href="#section-11.3" class="xref">11.3</a>.  <a href="#name-vxlan-gpe-flag-and-reserved" class="xref">VXLAN-GPE Flag and Reserved Bits</a></p>
</li>
            </ul>
</li>
          <li class="compact ulEmpty ulBare toc" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-12" class="xref">12</a>. <a href="#name-references" class="xref">References</a></p>
<ul class="compact ulEmpty ulBare toc">
<li class="compact ulEmpty ulBare toc" id="section-toc.1-1.12.2.1">
                <p id="section-toc.1-1.12.2.1.1"><a href="#section-12.1" class="xref">12.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a></p>
</li>
              <li class="compact ulEmpty ulBare toc" id="section-toc.1-1.12.2.2">
                <p id="section-toc.1-1.12.2.2.1"><a href="#section-12.2" class="xref">12.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact ulEmpty ulBare toc" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#appendix-A" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">Virtual eXtensible Local Area Network VXLAN <span>[<a href="#RFC7348" class="xref">RFC7348</a>]</span>
      defines an encapsulation format that encapsulates Ethernet frames in an
      outer UDP/IP transport. As data centers evolve, the need to carry other
      protocols encapsulated in an IP packet is required, as well as the need
      to provide increased visibility and diagnostic capabilities within the
      overlay. The VXLAN header does not specify the protocol being
      encapsulated and therefore is currently limited to encapsulating only
      Ethernet frame payload, nor does it provide the ability to define OAM
      protocols. In addition, <span>[<a href="#RFC6335" class="xref">RFC6335</a>]</span> requires that new
      transports not use transport layer port numbers to identify tunnel
      payload, rather it encourages encapsulations to use their own
      identifiers for this purpose. VXLAN-GPE is intended to extend the
      existing VXLAN protocol to provide protocol typing, OAM, and versioning
      capabilities.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">The Version and OAM bits are introduced in <a href="#vxlan-gpe" class="xref">Section 3</a>, and the choice of location for these fields is
      driven by minimizing the impact on existing deployed hardware.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">In order to facilitate deployments of VXLAN-GPE with hardware
      currently deployed to support VXLAN, changes from legacy VXLAN have been
      kept to a minimum. <a href="#compatibility" class="xref">Section 6</a> provides a detailed
      discussion about how VXLAN-GPE addresses the requirement for backward
      compatibility with VXLAN.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">The capabilities of the VXLAN-GPE protocol can be extended by
      defining next protocol "shim" headers that are used to implement new
      data plane functions. For example, Group-Based Policy (GBP) or In-situ
      Operations, Administration, and Maintenance (IOAM) metadata
      functionalities can be added as specified in <span>[<a href="#I-D.lemon-vxlan-lisp-gpe-gbp" class="xref">I-D.lemon-vxlan-lisp-gpe-gbp</a>]</span> and <span>[<a href="#I-D.brockners-ippm-ioam-vxlan-gpe" class="xref">I-D.brockners-ippm-ioam-vxlan-gpe</a>]</span>.<a href="#section-1-4" class="pilcrow">¶</a></p>
</section>
<section id="section-2">
      <h2 id="name-vxlan-without-protocol-exte">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-vxlan-without-protocol-exte" class="section-name selfRef">VXLAN Without Protocol Extension</a>
      </h2>
<p id="section-2-1">VXLAN provides a method of creating multi-tenant overlay networks by
      encapsulating packets in IP/UDP along with a header containing a network
      identifier which is used to isolate tenant traffic in each overlay
      network from each other. This allows the overlay networks to run over an
      existing IP network.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2">Through this encapsulation, VXLAN creates stateless tunnels between
      VXLAN Tunnel End Points (VTEPs) which are responsible for adding/
      removing the IP/UDP/VXLAN headers and providing tenant traffic isolation
      based on the VXLAN Network Identifier (VNI). Tenant systems are unaware
      that their networking service is being provided by an overlay.<a href="#section-2-2" class="pilcrow">¶</a></p>
<p id="section-2-3">When encapsulating packets, a VTEP must know the IP address of the
      proper remote VTEP at the far end of the tunnel that can deliver the
      inner packet to the Tenant System corresponding to the inner destination
      address. The control plane used to distribute inner to outer mappings is
      out of the scope of this document.<a href="#section-2-3" class="pilcrow">¶</a></p>
<p id="section-2-4">The VXLAN Network Identifier (VNI) provides scoping for the addresses
      in the header of the encapsulated PDU. If the encapsulated packet is an
      Ethernet frame, this means the Ethernet MAC addresses are only unique
      within a given VNI and may overlap with MAC addresses within a different
      VNI. If the encapsulated packet is an IP packet, this means the IP
      addresses are only unique within that VNI.<a href="#section-2-4" class="pilcrow">¶</a></p>
<p id="section-2-5" class="keepWithNext"></p>
<span id="name-vxlan-header"></span><div id="vxlan_header">
<figure id="figure-1">
        <div class="artwork art-text alignLeft" id="section-2-6.1">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|R|R|R|R|I|R|R|R|            Reserved                           |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                VXLAN Network Identifier (VNI) |   Reserved    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-vxlan-header" class="selfRef">VXLAN Header</a>
        </figcaption></figure>
</div>
<p id="section-2-7" class="keepWithPrevious"></p>
</section>
<div id="vxlan-gpe">
<section id="section-3">
      <h2 id="name-generic-protocol-extension-">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-generic-protocol-extension-" class="section-name selfRef">Generic Protocol Extension for VXLAN (VXLAN-GPE)</a>
      </h2>
<section id="section-3.1">
        <h3 id="name-vxlan-gpe-header">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-vxlan-gpe-header" class="section-name selfRef">VXLAN-GPE Header</a>
        </h3>
<p id="section-3.1-1" class="keepWithNext"></p>
<span id="name-vxlan-gpe-header-2"></span><div id="vxlan_gpe">
<figure id="figure-2">
          <div class="artwork art-text alignLeft" id="section-3.1-2.1">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|R|R|Ver|I|P|B|O|       Reserved                |Next Protocol  |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                VXLAN Network Identifier (VNI) |   Reserved    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-vxlan-gpe-header-2" class="selfRef">VXLAN-GPE Header</a>
          </figcaption></figure>
</div>
<span class="break"></span><dl class="dlParallel" id="section-3.1-3">
          <dt id="section-3.1-3.1">Flags (8 bits):</dt>
          <dd style="margin-left: 1.5em" id="section-3.1-3.2">The first 8 bits of the header are
            the flag field. The bits designated "R" above are reserved flags.
            These MUST be set to zero on transmission and ignored on
            receipt.<a href="#section-3.1-3.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-3.3">Version (Ver):</dt>
          <dd style="margin-left: 1.5em" id="section-3.1-3.4">Indicates VXLAN-GPE protocol version.
            The initial version is 0. If a receiver does not support the
            version indicated it MUST drop the packet.<a href="#section-3.1-3.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-3.5">Instance Bit (I bit):</dt>
          <dd style="margin-left: 1.5em" id="section-3.1-3.6">The I bit MUST be set to
            indicate a valid VNI.<a href="#section-3.1-3.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-3.7">Next Protocol Bit (P bit):</dt>
          <dd style="margin-left: 1.5em" id="section-3.1-3.8">The P bit is set to
            indicate that the Next Protocol field is present.<a href="#section-3.1-3.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-3.9">BUM Traffic Bit (B bit):</dt>
          <dd style="margin-left: 1.5em" id="section-3.1-3.10">The B bit is set to
            indicate that this is ingress-replicated BUM Traffic (ie,
            Broadcast, Unknown unicast, or Multicast).<a href="#section-3.1-3.10" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-3.11">OAM Flag Bit (O bit):</dt>
          <dd style="margin-left: 1.5em" id="section-3.1-3.12">The O bit is set to indicate
            that the packet is an OAM packet.<a href="#section-3.1-3.12" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-3.13">Next Protocol:</dt>
          <dd style="margin-left: 1.5em" id="section-3.1-3.14">This 8 bit field indicates the
            protocol header immediately following the VXLAN-GPE header.<a href="#section-3.1-3.14" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-3.15">VNI:</dt>
          <dd style="margin-left: 1.5em" id="section-3.1-3.16">This 24 bit field identifies the VXLAN overlay
            network the inner packet belongs to. Inner packets belonging to
            different VNIs cannot communicate with each other (unless
            explicitly allowed by policy).<a href="#section-3.1-3.16" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-3.17">Reserved:</dt>
          <dd style="margin-left: 1.5em" id="section-3.1-3.18">Reserved fields MUST be set to zero on
            transmission and ignored on receipt.<a href="#section-3.1-3.18" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
<section id="section-3.2">
        <h3 id="name-multi-protocol-support">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-multi-protocol-support" class="section-name selfRef">Multi Protocol Support</a>
        </h3>
<p id="section-3.2-1">This draft defines the following two changes to the VXLAN header in
        order to support multi-protocol encapsulation:<a href="#section-3.2-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-3.2-2">
          <dt id="section-3.2-2.1">P Bit:</dt>
          <dd style="margin-left: 1.5em" id="section-3.2-2.2">Flag bit 5 is defined as the Next Protocol
            bit. The P bit MUST be set to 1 to indicate the presence of the 8
            bit next protocol field.<a href="#section-3.2-2.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.2-2.3"></dt>
          <dd style="margin-left: 1.5em" id="section-3.2-2.4">When UDP dest port=4790, P = 0 the "Next Protocol"
            field must be set to zero and the payload MUST be ETHERNET(L2) as
            defined by <span>[<a href="#RFC7348" class="xref">RFC7348</a>]</span>.<a href="#section-3.2-2.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.2-2.5"></dt>
          <dd style="margin-left: 1.5em" id="section-3.2-2.6">Flag bit 5 was chosen as the P bit because this
            flag bit is currently reserved in VXLAN.<a href="#section-3.2-2.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.2-2.7">Next Protocol Field:</dt>
          <dd style="margin-left: 1.5em" id="section-3.2-2.8">The lower 8 bits of the first
            word are used to carry a next protocol. This next protocol field
            contains the protocol of the encapsulated payload packet. A new
            protocol registry will be requested from IANA, see section
            10.2.<a href="#section-3.2-2.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.2-2.9"></dt>
          <dd style="margin-left: 1.5em" id="section-3.2-2.10">This draft defines the following Next Protocol
            values:<a href="#section-3.2-2.10" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.2-2.11"></dt>
          <dd style="margin-left: 1.5em" id="section-3.2-2.12">
            <span class="break"></span><dl class="dlParallel" id="section-3.2-2.12.1">
              <dt id="section-3.2-2.12.1.1">0x00 :</dt>
              <dd style="margin-left: 1.5em" id="section-3.2-2.12.1.2">Reserved<a href="#section-3.2-2.12.1.2" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-3.2-2.12.1.3">0x01 :</dt>
              <dd style="margin-left: 1.5em" id="section-3.2-2.12.1.4">IPv4<a href="#section-3.2-2.12.1.4" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-3.2-2.12.1.5">0x02 :</dt>
              <dd style="margin-left: 1.5em" id="section-3.2-2.12.1.6">IPv6<a href="#section-3.2-2.12.1.6" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-3.2-2.12.1.7">0x03 :</dt>
              <dd style="margin-left: 1.5em" id="section-3.2-2.12.1.8">Ethernet<a href="#section-3.2-2.12.1.8" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-3.2-2.12.1.9">0x04 :</dt>
              <dd style="margin-left: 1.5em" id="section-3.2-2.12.1.10">Network Service Header <span>[<a href="#RFC8300" class="xref">RFC8300</a>]</span><a href="#section-3.2-2.12.1.10" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-3.2-2.12.1.11">0x05 to 0x7D:</dt>
              <dd style="margin-left: 1.5em" id="section-3.2-2.12.1.12">Unassigned<a href="#section-3.2-2.12.1.12" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-3.2-2.12.1.13">0x7E, 0x7F:</dt>
              <dd style="margin-left: 1.5em" id="section-3.2-2.12.1.14">Experimentation and testing<a href="#section-3.2-2.12.1.14" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-3.2-2.12.1.15">0x80 to 0xFD:</dt>
              <dd style="margin-left: 1.5em" id="section-3.2-2.12.1.16">Unassigned (shim headers)<a href="#section-3.2-2.12.1.16" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-3.2-2.12.1.17">0xFE, 0xFF:</dt>
              <dd style="margin-left: 1.5em" id="section-3.2-2.12.1.18">Experimentation and testing (shim
                headers)<a href="#section-3.2-2.12.1.18" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-3.2-3">Next protocol values 0x7E, 0x7F and 0xFE, 0xFF are assigned for
        experimentation and testing as per <span>[<a href="#RFC3692" class="xref">RFC3692</a>]</span>.<a href="#section-3.2-3" class="pilcrow">¶</a></p>
<p id="section-3.2-4">Next protocol values from Ox80 to 0xFD are assigned to protocols
        encoded as generic "shim" headers. All shim protocols MUST use the
        header structure in <a href="#shim" class="xref">Figure 3</a>, which includes a Type, a
        Lenght, and a Next Protocol field. When shim headers are used with
        other protocols identified by next protocol values from 0x0 to 0x7F,
        all the shim headers MUST come first.<a href="#section-3.2-4" class="pilcrow">¶</a></p>
<p id="section-3.2-5">Shim headers can be used to incrementally deploy new GPE features
        without updating the implementation of each transit node between two
        tunnel endpoints, and without punting the packet with shim headers of
        unknown type to the 'slow' path. Transit nodes that are not aware of a
        given shim header type MUST ignore that shim header and proceed to
        parse the next protocol.<a href="#section-3.2-5" class="pilcrow">¶</a></p>
<p id="section-3.2-6">VTEP implementations can keep the processing of known shim headers
        in the 'fast' path (typically an ASIC), while punting the processing
        of the remaining new GPE features to the 'slow' path.<a href="#section-3.2-6" class="pilcrow">¶</a></p>
<p id="section-3.2-7">Shim protocols MUST have the first 32 bits defined as:<a href="#section-3.2-7" class="pilcrow">¶</a></p>
<p id="section-3.2-8" class="keepWithNext"></p>
<span id="name-shim-header"></span><div id="shim">
<figure id="figure-3">
          <div class="artwork art-text alignLeft" id="section-3.2-9.1">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     Type      |    Length     |   Reserved    | Next Protocol |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
~                    Protocol Specific Fields                   ~
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-shim-header" class="selfRef">Shim Header</a>
          </figcaption></figure>
</div>
<p id="section-3.2-10" class="keepWithPrevious"></p>
<p id="section-3.2-11">Where:<a href="#section-3.2-11" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-3.2-12">
          <dt id="section-3.2-12.1">Type:</dt>
          <dd style="margin-left: 1.5em" id="section-3.2-12.2">This field MAY be used to identify different
            messages of this protocol.<a href="#section-3.2-12.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.2-12.3">Length:</dt>
          <dd style="margin-left: 1.5em" id="section-3.2-12.4">The length, in in 4-octet units, of this
            protocol message not including the first 4 octets.<a href="#section-3.2-12.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.2-12.5">Reserved:</dt>
          <dd style="margin-left: 1.5em" id="section-3.2-12.6">The use of this field is reserved to the
            protocol defined in this message.<a href="#section-3.2-12.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.2-12.7">Next Protocol Field:</dt>
          <dd style="margin-left: 1.5em" id="section-3.2-12.8">This next protocol field
            contains the protocol of the encapsulated payload. The protocol
            registry will be requested from IANA as per section 10.2.<a href="#section-3.2-12.8" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
<section id="section-3.3">
        <h3 id="name-replicated-bum-traffic">
<a href="#section-3.3" class="section-number selfRef">3.3. </a><a href="#name-replicated-bum-traffic" class="section-name selfRef">Replicated BUM Traffic</a>
        </h3>
<p id="section-3.3-1">Flag bit 6 is defined as the B bit. When the B bit is set to 1, the
        packet is marked as an an ingress-replicated BUM Traffic (i.e.
        Broadcast, Unknown unicast, or Multicast) to help egress VTEP to
        differentiate between known and unknown unicast. The details of using
        the B bit are out of scope for this document, but please see <span>[<a href="#RFC8365" class="xref">RFC8365</a>]</span> for an example in the EVPN context. As with the
        P-bit, bit 6 is currently a reserved flag in VXLAN.<a href="#section-3.3-1" class="pilcrow">¶</a></p>
</section>
<section id="section-3.4">
        <h3 id="name-oam-support">
<a href="#section-3.4" class="section-number selfRef">3.4. </a><a href="#name-oam-support" class="section-name selfRef">OAM Support</a>
        </h3>
<p id="section-3.4-1">Flag bit 7 is defined as the O bit. When the O bit is set to 1, the
        packet is an OAM packet and OAM processing MUST occur. Other header
        fields including Next Protocol MUST adhere to the definitions in <a href="#vxlan-gpe" class="xref">Section 3</a>. The OAM protocol details are out of scope for
        this document. As with the P-bit, bit 7 is currently a reserved flag
        in VXLAN.<a href="#section-3.4-1" class="pilcrow">¶</a></p>
</section>
<section id="section-3.5">
        <h3 id="name-version-bits">
<a href="#section-3.5" class="section-number selfRef">3.5. </a><a href="#name-version-bits" class="section-name selfRef">Version Bits</a>
        </h3>
<p id="section-3.5-1">VXLAN-GPE bits 2 and 3 are defined as version bits. These bits are
        reserved in VXLAN. The version field is used to ensure backward
        compatibility going forward with future VXLAN-GPE updates.<a href="#section-3.5-1" class="pilcrow">¶</a></p>
<p id="section-3.5-2">The initial version for VXLAN-GPE is 0.<a href="#section-3.5-2" class="pilcrow">¶</a></p>
</section>
</section>
</div>
<section id="section-4">
      <h2 id="name-outer-encapsulations">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-outer-encapsulations" class="section-name selfRef">Outer Encapsulations</a>
      </h2>
<p id="section-4-1">In addition to the VXLAN-GPE header, the packet is further
      encapsulated in UDP and IP. Data centers based on Ethernet, will then
      send this IP packet over Ethernet.<a href="#section-4-1" class="pilcrow">¶</a></p>
<p id="section-4-2">Outer UDP Header:<a href="#section-4-2" class="pilcrow">¶</a></p>
<p id="section-4-3">Destination UDP Port: IANA has assigned the value 4790 for the
      VXLAN-GPE UDP port. This well-known destination port is used when
      sending VXLAN-GPE encapsulated packets.<a href="#section-4-3" class="pilcrow">¶</a></p>
<p id="section-4-4">Source UDP Port: The source UDP port is used as entropy for devices
      forwarding encapsulated packets across the underlay (ECMP for IP
      routers, or load splitting for link aggregation by bridges). Tenant
      traffic flows should all use the same source UDP port to lower the
      chances of packet reordering by the underlay for a given flow. It is
      recommended for VTEPs to generate this port number using a hash of the
      inner packet headers. Implementations MAY use the entire 16 bit source
      UDP port for entropy.<a href="#section-4-4" class="pilcrow">¶</a></p>
<p id="section-4-5">UDP Checksum: see <a href="#UDPChecksum" class="xref">Section 5.3</a> for considerations
      related to UDP Checksum processing.<a href="#section-4-5" class="pilcrow">¶</a></p>
<p id="section-4-6">Outer IP Header:<a href="#section-4-6" class="pilcrow">¶</a></p>
<p id="section-4-7">This is the header used by the underlay network to deliver packets
      between VTEPs. The destination IP address can be a unicast or a
      multicast IP address. The source IP address must be the source VTEP IP
      address which can be used to return tenant packets to the tenant system
      source address within the inner packet header.<a href="#section-4-7" class="pilcrow">¶</a></p>
<p id="section-4-8">When the outer IP header is IPv4, VTEPs MUST set the DF bit.<a href="#section-4-8" class="pilcrow">¶</a></p>
<p id="section-4-9">Outer Ethernet Header:<a href="#section-4-9" class="pilcrow">¶</a></p>
<p id="section-4-10">Most data centers networks are built on Ethernet. Assuming the outer
      IP packet is being sent across Ethernet, there will be an Ethernet
      header used to deliver the IP packet to the next hop, which could be the
      destination VTEP or be a router used to forward the IP packet towards
      the destination VTEP. If VLANs are in use within the data center, then
      this Ethernet header would also contain a VLAN tag.<a href="#section-4-10" class="pilcrow">¶</a></p>
<p id="section-4-11">The following figures show the entire stack of protocol headers that
      would be seen on an Ethernet link carrying encapsulated packets from a
      VTEP across the underlay network for both IPv4 and IPv6 based underlay
      networks.<a href="#section-4-11" class="pilcrow">¶</a></p>
<p id="section-4-12" class="keepWithNext"></p>
<span id="name-outer-headers-for-vxlan-gpe"></span><div id="outer_header">
<figure id="figure-4">
        <div class="artwork art-text alignLeft" id="section-4-13.1">
<pre> 0                   1                   2                   3
0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1

Outer Ethernet Header:
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|             Outer Destination MAC Address                     |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| Outer Destination MAC Address | Outer Source MAC Address      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                Outer Source MAC Address                       |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| Opt Ethertype = C-Tag 802.1Q  |     Outer VLAN Tag            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| Ethertype = 0x0800            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


Outer IPv4 Header:
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|Version|  IHL  |Type of Service|          Total Length         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|         Identification        |Flags|      Fragment Offset    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  Time to Live |Protocl=17(UDP)|   Header Checksum             |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                       Outer Source IPv4 Address               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                   Outer Destination IPv4 Address              |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


Outer UDP Header:
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|           Source Port         |       Dest Port = 4790        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|           UDP Length          |        UDP Checksum           |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


VXLAN-GPE Header:
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|R|R|Ver|I|P|R|O|       Reserved                |Next Protocol  |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                VXLAN Network Identifier (VNI) |   Reserved    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


Payload:
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|      Depends on VXLAN-GPE Next Protocol field above.          |
|    Note that if the payload is Ethernet, then the original    |
|    Ethernet Frame's FCS is not included.                      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


Frame Check Sequence:
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   New FCS (Frame Check Sequence) for Outer Ethernet Frame     |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</pre>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a>:
<a href="#name-outer-headers-for-vxlan-gpe" class="selfRef">Outer Headers for VXLAN-GPE over IPv4</a>
        </figcaption></figure>
</div>
<p id="section-4-14" class="keepWithPrevious"></p>
<p id="section-4-15" class="keepWithNext"></p>
<span id="name-outer-headers-for-vxlan-gpe-"></span><div id="outer_header_ipv6">
<figure id="figure-5">
        <div class="artwork art-text alignLeft" id="section-4-16.1">
<pre> 0                   1                   2                   3
0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1

Outer Ethernet Header:
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|             Outer Destination MAC Address                     |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| Outer Destination MAC Address | Outer Source MAC Address      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                Outer Source MAC Address                       |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| Opt Ethertype = C-Tag 802.1Q  |     Outer VLAN Tag            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| Ethertype = 0x86DD            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

Outer IPv6 Header:
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|Version| Traffic Class |           Flow Label                  |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|         Payload Length        | NxtHdr=17(UDP)|   Hop Limit   |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
+                                                               +
|                                                               |
+                     Outer Source IPv6 Address                 +
|                                                               |
+                                                               +
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
+                                                               +
|                                                               |
+                  Outer Destination IPv6 Address               +
|                                                               |
+                                                               +
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

Outer UDP Header:
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|           Source Port         |       Dest Port = 4790        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|           UDP Length          |        UDP Checksum           |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

VXLAN-GPE Header:
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|R|R|Ver|I|P|R|O|       Reserved                |Next Protocol  |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                VXLAN Network Identifier (VNI) |   Reserved    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

Payload:
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|      Depends on VXLAN-GPE Next Protocol field above.          |
|    Note that if the payload is Ethernet, then the original    |
|    Ethernet Frame's FCS is not included.                      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

Frame Check Sequence:
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   New FCS (Frame Check Sequence) for Outer Ethernet Frame     |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</pre>
</div>
<figcaption><a href="#figure-5" class="selfRef">Figure 5</a>:
<a href="#name-outer-headers-for-vxlan-gpe-" class="selfRef">Outer Headers for VXLAN-GPE over IPv6</a>
        </figcaption></figure>
</div>
<p id="section-4-17" class="keepWithPrevious"></p>
<section id="section-4.1">
        <h3 id="name-inner-vlan-tag-handling">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-inner-vlan-tag-handling" class="section-name selfRef">Inner VLAN Tag Handling</a>
        </h3>
<p id="section-4.1-1">If the inner packet (as indicated by the VXLAN-GPE Next Protocol
        field) is an Ethernet frame, it is recommended that it does not
        contain a VLAN tag. In the most common scenarios, the tenant VLAN tag
        is translated into a VXLAN Network Identifier. In these scenarios,
        VTEPs should never send an inner Ethernet frame with a VLAN tag, and a
        VTEP performing decapsulation should discard any inner frames received
        with a VLAN tag. However, if the VTEPs are specifically configured to
        support it for a specific VXLAN Network Identifier, a VTEP may support
        transparent transport of the inner VLAN tag between all tenant systems
        on that VNI. The VTEP never looks at the value of the inner VLAN tag,
        but simply passes it across the underlay.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
</section>
<section id="section-4.2">
        <h3 id="name-fragmentation-consideration">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-fragmentation-consideration" class="section-name selfRef">Fragmentation Considerations</a>
        </h3>
<p id="section-4.2-1">VTEPs MUST never fragment an encapsulated VXLAN-GPE packet, and
        when the outer IP header is IPv4, VTEPs MUST set the DF bit in the
        outer IPv4 header. It is recommended that the underlay network be
        configured to carry an MTU at least large enough to accommodate the
        added encapsulation headers. It is recommended that VTEPs perform Path
        MTU discovery <span>[<a href="#RFC1191" class="xref">RFC1191</a>]</span> <span>[<a href="#RFC1981" class="xref">RFC1981</a>]</span> to
        determine if the underlay network can carry the encapsulated payload
        packet.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
</section>
</section>
<div id="Deployments">
<section id="section-5">
      <h2 id="name-implementation-and-deployme">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-implementation-and-deployme" class="section-name selfRef">Implementation and Deployment Considerations</a>
      </h2>
<div id="Applicability">
<section id="section-5.1">
        <h3 id="name-applicability-statement">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-applicability-statement" class="section-name selfRef">Applicability Statement</a>
        </h3>
<p id="section-5.1-1">VXLAN-GPE conforms, as an UDP-based encapsulation protocol, to the
        UDP usage guidelines as specified in <span>[<a href="#RFC8085" class="xref">RFC8085</a>]</span>. The
        applicability of these guidelines are dependent on the underlay IP
        network and the nature of the encapsulated payload.<a href="#section-5.1-1" class="pilcrow">¶</a></p>
<p id="section-5.1-2"><span>[<a href="#RFC8085" class="xref">RFC8085</a>]</span> outlines two applicability scenarios for
        UDP applications, 1) general Internet and 2) controlled environment.
        The controlled environment means a single administrative domain or
        adjacent set of cooperating domains. A network in a controlled
        environment can be managed to operate under certain conditions whereas
        in general Internet this cannot be done. Hence requirements for a
        tunnel protocol operating under a controlled environment can be less
        restrictive than the requirements of general internet.<a href="#section-5.1-2" class="pilcrow">¶</a></p>
<p id="section-5.1-3">VXLAN-GPE is intended to be deployed in a data center network
        environment operated by a single operator or adjacent set of
        cooperating network operators that fits with the definition of
        controlled environments in [RFC8085].<a href="#section-5.1-3" class="pilcrow">¶</a></p>
<p id="section-5.1-4">For the purpose of this document, a traffic-managed controlled
        environment (TMCE), outlined in <span>[<a href="#RFC8086" class="xref">RFC8086</a>]</span>, is defined
        as an IP network that is traffic-engineered and/or otherwise managed
        (e.g., via use of traffic rate limiters) to avoid congestion.
        Significant portions of text in this Section are based on <span>[<a href="#RFC8086" class="xref">RFC8086</a>]</span>.<a href="#section-5.1-4" class="pilcrow">¶</a></p>
<p id="section-5.1-5">It is the responsibility of the network operators to ensure that
        the guidelines/requirements in this section are followed as applicable
        to their VXLAN-GPE deployments<a href="#section-5.1-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="CongestionControl">
<section id="section-5.2">
        <h3 id="name-congestion-control-function">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-congestion-control-function" class="section-name selfRef">Congestion Control Functionality</a>
        </h3>
<p id="section-5.2-1">VXLAN-GPE does not natively provide congestion control
        functionality and relies on the payload protocol traffic for
        congestion control. As such VXLAN-GPE MUST be used with congestion
        controlled traffic or within a network that is traffic managed to
        avoid congestion (TMCE). An operator of a traffic managed network
        (TMCE) may avoid congestion by careful provisioning of their networks,
        rate-limiting of user data traffic and traffic engineering according
        to path capacity.<a href="#section-5.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="UDPChecksum">
<section id="section-5.3">
        <h3 id="name-udp-checksum">
<a href="#section-5.3" class="section-number selfRef">5.3. </a><a href="#name-udp-checksum" class="section-name selfRef">UDP Checksum</a>
        </h3>
<p id="section-5.3-1">In order to provide integrity of VXLAN-GPE headers and payload, for
        example to avoid mis-delivery of payload to different tenant systems
        in case of data corruption, outer UDP checksum SHOULD be used with
        VXLAN-GPE when transported over IPv4. The UDP checksum provides a
        statistical guarantee that a payload was not corrupted in transit.
        These integrity checks are not strong from a coding or cryptographic
        perspective and are not designed to detect physical-layer errors or
        malicious modification of the datagram (see Section 3.4 of <span>[<a href="#RFC8085" class="xref">RFC8085</a>]</span>). In deployments where such a risk exists, an
        operator SHOULD use additional data integrity mechanisms such as
        offered by IPSec.<a href="#section-5.3-1" class="pilcrow">¶</a></p>
<p id="section-5.3-2">An operator MAY choose to disable UDP checksum and use zero
        checksum if VXLAN-GPE packet integrity is provided by other data
        integrity mechanisms such as IPsec or additional checksums or if one
        of the conditions in <a href="#IPv6Checksum" class="xref">Section 5.3.1</a> a, b, c are
        met.<a href="#section-5.3-2" class="pilcrow">¶</a></p>
<div id="IPv6Checksum">
<section id="section-5.3.1">
          <h4 id="name-udp-zero-checksum-handling-">
<a href="#section-5.3.1" class="section-number selfRef">5.3.1. </a><a href="#name-udp-zero-checksum-handling-" class="section-name selfRef">UDP Zero Checksum Handling with IPv6</a>
          </h4>
<p id="section-5.3.1-1">By default, UDP checksum MUST be used when VXLAN-GPE is
          transported over IPv6. A tunnel endpoint MAY be configured for use
          with zero UDP checksum if additional requirements described in this
          section are met.<a href="#section-5.3.1-1" class="pilcrow">¶</a></p>
<p id="section-5.3.1-2">When VXLAN-GPE is used over IPv6, UDP checksum is used to protect
          IPv6 headers, UDP headers and VXLAN-GPE headers and payload from
          potential data corruption. As such by default VXLAN-GPE MUST use UDP
          checksum when transported over IPv6. An operator MAY choose to
          configure to operate with zero UDP checksum if operating in a
          traffic managed controlled environment as stated in <a href="#Applicability" class="xref">Section 5.1</a> if one of the following conditions are
          met:<a href="#section-5.3.1-2" class="pilcrow">¶</a></p>
<ol start="1" type="a" class="normal type-a" id="section-5.3.1-3">
<li id="section-5.3.1-3.1">It is known that the packet corruption is exceptionally
              unlikely (perhaps based on knowledge of equipment types in their
              underlay network) and the operator is willing to take a risk of
              undetected packet corruption<a href="#section-5.3.1-3.1" class="pilcrow">¶</a>
</li>
            <li id="section-5.3.1-3.2">It is judged through observational measurements (perhaps
              through historic or current traffic flows that use non zero
              checksum) that the level of packet corruption is tolerably low
              and where the operator is willing to take the risk of undetected
              corruption<a href="#section-5.3.1-3.2" class="pilcrow">¶</a>
</li>
            <li id="section-5.3.1-3.3">VXLAN-GPE payload is carrying applications that are tolerant
              of misdelivered or corrupted packets (perhaps through higher
              layer checksum validation and/or reliability through
              retransmission)<a href="#section-5.3.1-3.3" class="pilcrow">¶</a>
</li>
          </ol>
<p id="section-5.3.1-4">In addition VXLAN-GPE tunnel implementations using Zero UDP
          checksum MUST meet the following requirements:<a href="#section-5.3.1-4" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-5.3.1-5">
<li id="section-5.3.1-5.1">Use of UDP checksum over IPv6 MUST be the default
              configuration for all VXLAN-GPE tunnels<a href="#section-5.3.1-5.1" class="pilcrow">¶</a>
</li>
            <li id="section-5.3.1-5.2">If VXLAN-GPE is used with zero UDP checksum over IPv6 then
              such VTEP implementation MUST meet all the requirements
              specified in section 4 of <span>[<a href="#RFC6936" class="xref">RFC6936</a>]</span> and
              requirements 1 as specified in section 5 of <span>[<a href="#RFC6936" class="xref">RFC6936</a>]</span><a href="#section-5.3.1-5.2" class="pilcrow">¶</a>
</li>
            <li id="section-5.3.1-5.3">The VTEP that decapsulates the packet SHOULD check the source
              and destination IPv6 addresses are valid for the VXLAN-GPE
              tunnel that is configured to receive Zero UDP checksum and
              discard other packets for which such check fails<a href="#section-5.3.1-5.3" class="pilcrow">¶</a>
</li>
            <li id="section-5.3.1-5.4">The VTEP that encapsulates the packet MAY use different IPv6
              source addresses for each VXLAN-GPE tunnel that uses Zero UDP
              checksum mode in order to strengthen the decapsulator's check of
              the IPv6 source address (i.e the same IPv6 source address is not
              to be used with more than one IPv6 destination address,
              irrespective of whether that destination address is a unicast or
              multicast address). When this is not possible, it is RECOMMENDED
              to use each source address for as few VXLAN-GPE tunnels that use
              zero UDP checksum as is feasible<a href="#section-5.3.1-5.4" class="pilcrow">¶</a>
</li>
            <li id="section-5.3.1-5.5">Measures SHOULD be taken to prevent VXLAN-GPE traffic over
              IPv6 with zero UDP checksum from escaping into the general
              Internet. Examples of such measures include employing packet
              filters at the gateways or edge of a VXLAN-GPE network, and/or
              keeping logical or physical separation of VXLAN network from
              networks carrying General Internet<a href="#section-5.3.1-5.5" class="pilcrow">¶</a>
</li>
          </ol>
<p id="section-5.3.1-6">The above requirements do not change either the
          requirements specified in <span>[<a href="#RFC2460" class="xref">RFC2460</a>]</span> as modified by
          <span>[<a href="#RFC6935" class="xref">RFC6935</a>]</span> or the requirements specified in <span>[<a href="#RFC6936" class="xref">RFC6936</a>]</span>.<a href="#section-5.3.1-6" class="pilcrow">¶</a></p>
<p id="section-5.3.1-7">The requirement to check the source IPv6 address in addition to
          the destination IPv6 address, plus the recommendation against reuse
          of source IPv6 addresses among VXLAN-GPE tunnels collectively
          provide some mitigation for the absence of UDP checksum coverage of
          the IPv6 header. A traffic-managed controlled environment that
          satisfies at least one of three conditions listed at the beginning
          of this section provides additional assurance.<a href="#section-5.3.1-7" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="compatibility">
<section id="section-6">
      <h2 id="name-backward-compatibility">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-backward-compatibility" class="section-name selfRef">Backward Compatibility</a>
      </h2>
<section id="section-6.1">
        <h3 id="name-vxlan-vtep-to-vxlan-gpe-vte">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-vxlan-vtep-to-vxlan-gpe-vte" class="section-name selfRef">VXLAN VTEP to VXLAN-GPE VTEP</a>
        </h3>
<p id="section-6.1-1">A VXLAN VTEP conforms to VXLAN frame format and uses UDP
        destination port 4789 when sending traffic to VXLAN-GPE VTEP. As per
        VXLAN, reserved bits 5 and 7, VXLAN-GPE P and O-bits respectively must
        be set to zero. The remaining reserved bits must be zero, including
        the VXLAN-GPE version field, bits 2 and 3. The encapsulated payload
        MUST be Ethernet.<a href="#section-6.1-1" class="pilcrow">¶</a></p>
</section>
<section id="section-6.2">
        <h3 id="name-vxlan-gpe-vtep-to-vxlan-vte">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-vxlan-gpe-vtep-to-vxlan-vte" class="section-name selfRef">VXLAN-GPE VTEP to VXLAN VTEP</a>
        </h3>
<p id="section-6.2-1">A VXLAN-GPE VTEP MUST NOT encapsulate non-Ethernet frames to a
        VXLAN VTEP. When encapsulating Ethernet frames to a VXLAN VTEP, the
        VXLAN-GPE VTEP MUST conform to VXLAN frame format and hence will set
        the P bit to 0, the Next Protocol to 0 and use UDP destination port
        4789. A VXLAN-GPE VTEP MUST also set O = 0 and Ver = 0 when
        encapsulating Ethernet frames to VXLAN VTEP. The receiving VXLAN VTEP
        will treat this packet as a VXLAN packet.<a href="#section-6.2-1" class="pilcrow">¶</a></p>
<p id="section-6.2-2">A method for determining the capabilities of a VXLAN VTEP (GPE or
        non-GPE) is out of the scope of this draft.<a href="#section-6.2-2" class="pilcrow">¶</a></p>
</section>
<section id="section-6.3">
        <h3 id="name-vxlan-gpe-udp-ports">
<a href="#section-6.3" class="section-number selfRef">6.3. </a><a href="#name-vxlan-gpe-udp-ports" class="section-name selfRef">VXLAN-GPE UDP Ports</a>
        </h3>
<p id="section-6.3-1">VXLAN-GPE uses a IANA assigned UDP destination port, 4790, when
        sending traffic to VXLAN-GPE VTEPs.<a href="#section-6.3-1" class="pilcrow">¶</a></p>
</section>
<section id="section-6.4">
        <h3 id="name-vxlan-gpe-and-encapsulated-">
<a href="#section-6.4" class="section-number selfRef">6.4. </a><a href="#name-vxlan-gpe-and-encapsulated-" class="section-name selfRef">VXLAN-GPE and Encapsulated IP Header Fields</a>
        </h3>
<p id="section-6.4-1">When encapsulating IP (including over Ethernet) packets <span>[<a href="#RFC2983" class="xref">RFC2983</a>]</span> provides guidance for mapping DSCP between
        inner and outer IP headers. The Pipe model typically fits better
        Network virtualization. The DSCP value on the tunnel header is set
        based on a policy (which may be a fixed value, one based on the inner
        traffic class, or some other mechanism for grouping traffic). Some
        aspects of the Uniform model (which treats the inner and outer DSCP
        value as a single field by copying on ingress and egress) may also
        apply, such as the ability to remark the inner header on tunnel egress
        based on transit marking. However, the Uniform model is not
        conceptually consistent with network virtualization, which seeks to
        provide strong isolation between encapsulated traffic and the physical
        network.<a href="#section-6.4-1" class="pilcrow">¶</a></p>
<p id="section-6.4-2"><span>[<a href="#RFC6040" class="xref">RFC6040</a>]</span> describes the mechanism for exposing ECN
        capabilities on IP tunnels and propagating congestion markers to the
        inner packets. This behavior MUST be followed for IP packets
        encapsulated in VXLAN-GPE.<a href="#section-6.4-2" class="pilcrow">¶</a></p>
<p id="section-6.4-3">Though Uniform or Pipe models could be used for TTL (or Hop Limit
        in case of IPv6) handling when tunneling IP packets, Pipe model is
        more aligned with network virtualization. <span>[<a href="#RFC2003" class="xref">RFC2003</a>]</span>
        provides guidance on handling TTL between inner IP header and outer IP
        tunnels; this model is more aligned with the Pipe model and is
        recommended for use with VXLAN-GPE for network virtualization
        applications.<a href="#section-6.4-3" class="pilcrow">¶</a></p>
<p id="section-6.4-4">When a VXLAN-GPE router performs Ethernet encapsulation, the inner
        802.1Q 3-bit priority code point (PCP) field MAY be mapped from the
        encapsulated frame to the DSCP codepoint of the DS field defined in
        <span>[<a href="#RFC2474" class="xref">RFC2474</a>]</span>.<a href="#section-6.4-4" class="pilcrow">¶</a></p>
<p id="section-6.4-5">When a VXLAN-GPE router performs Ethernet encapsulation, the inner
        header 802.1Q VLAN Identifier (VID) MAY be mapped to, or used to
        determine the VXLAN Network Identitifer (VNI) field.<a href="#section-6.4-5" class="pilcrow">¶</a></p>
</section>
</section>
</div>
<div id="examples">
<section id="section-7">
      <h2 id="name-vxlan-gpe-examples">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-vxlan-gpe-examples" class="section-name selfRef">VXLAN-GPE Examples</a>
      </h2>
<p id="section-7-1">This section provides three examples of protocols encapsulated using
      the Generic Protocol Extension for VXLAN described in this document.<a href="#section-7-1" class="pilcrow">¶</a></p>
<p id="section-7-2" class="keepWithNext"></p>
<span id="name-ipv4-and-vxlan-gpe"></span><div id="ipv4_example">
<figure id="figure-6">
        <div class="artwork art-text alignLeft" id="section-7-3.1">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|R|R|0|0|I|1|R|0|       Reserved                |    NP = IPv4  |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                VXLAN Network Identifier (VNI) |   Reserved    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|               Original IPv4 Packet                            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</pre>
</div>
<figcaption><a href="#figure-6" class="selfRef">Figure 6</a>:
<a href="#name-ipv4-and-vxlan-gpe" class="selfRef">IPv4 and VXLAN-GPE</a>
        </figcaption></figure>
</div>
<p id="section-7-4" class="keepWithPrevious"></p>
<p id="section-7-5" class="keepWithNext"></p>
<span id="name-ipv6-and-vxlan-gpe"></span><div id="ipv6_example">
<figure id="figure-7">
        <div class="artwork art-text alignLeft" id="section-7-6.1">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|R|R|0|0|I|1|R|0|       Reserved                |  NP = IPv6    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                VXLAN Network Identifier (VNI) |   Reserved    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|               Original IPv6 Packet                            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</pre>
</div>
<figcaption><a href="#figure-7" class="selfRef">Figure 7</a>:
<a href="#name-ipv6-and-vxlan-gpe" class="selfRef">IPv6 and VXLAN-GPE</a>
        </figcaption></figure>
</div>
<p id="section-7-7" class="keepWithPrevious"></p>
<p id="section-7-8" class="keepWithNext"></p>
<span id="name-ethernet-and-vxlan-gpe"></span><div id="ethernet_example">
<figure id="figure-8">
        <div class="artwork art-text alignLeft" id="section-7-9.1">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|R|R|0|0|I|1|R|0|       Reserved                |NP = Ethernet  |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                VXLAN Network Identifier (VNI) |   Reserved    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|               Original Ethernet Frame                         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-8" class="selfRef">Figure 8</a>:
<a href="#name-ethernet-and-vxlan-gpe" class="selfRef">Ethernet and VXLAN-GPE</a>
        </figcaption></figure>
</div>
<p id="section-7-10" class="keepWithPrevious"></p>
<p id="section-7-11"></p>
</section>
</div>
<div id="security">
<section id="section-8">
      <h2 id="name-security-considerations">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-8-1">VXLAN-GPE encapsulation does not affect security for the payload
      protocol. The security considerations for VXLAN applies to VXLAN-GPE,
      see <span>[<a href="#RFC7348" class="xref">RFC7348</a>]</span>.<a href="#section-8-1" class="pilcrow">¶</a></p>
<p id="section-8-2">When crossing an untrusted link, such as the public Internet, IPsec
      <span>[<a href="#RFC4301" class="xref">RFC4301</a>]</span> may be used to provide authentication and/or
      encryption of the IP packets formed as part of VXLAN-GPE
      encapsulation.<a href="#section-8-2" class="pilcrow">¶</a></p>
<p id="section-8-3">Operators have to make an assessment based on their network
      environment and determine the risks that are applicable to their
      specific environment and use appropriate mitigation approaches as
      applicable.<a href="#section-8-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="contributors">
<section id="section-9">
      <h2 id="name-contributors">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-contributors" class="section-name selfRef">Contributors</a>
      </h2>
<div class="artwork art-text alignLeft" id="section-9-1">
<pre>Paul Quinn
Cisco Systems
paulq@cisco.com

Rajeev Manur
Broadcom
rmanur@broadcom.com

Michael Smith
Cisco Systems
michsmit@cisco.com

Darrel Lewis
Cisco Systems
darlewis@cisco.com

Puneet Agarwal
Innovium, Inc
puneet@acm.org

Lucy Yong
Huawei USA
lucy.yong@huawei.com

Xiaohu Xu
Alibaba Inc
xiaohu.xxh@alibaba-inc.com

Pankaj Garg
Microsoft
pankajg@microsoft.com

David Melman
Marvell
davidme@marvell.com

Jennifer Lemon
Broadcom Limited
jennifer.lemon@broadcom.com

</pre><a href="#section-9-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="Acknowledgements">
<section id="section-10">
      <h2 id="name-acknowledgments">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-acknowledgments" class="section-name selfRef">Acknowledgments</a>
      </h2>
<p id="section-10-1">A special thank you goes to Dino Farinacci for his guidance and
      detailed review. Thanks to Tom Herbert for the suggestion to assign
      codepoints for experimentations and testing.<a href="#section-10-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="IANA">
<section id="section-11">
      <h2 id="name-iana-considerations">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<section id="section-11.1">
        <h3 id="name-udp-port">
<a href="#section-11.1" class="section-number selfRef">11.1. </a><a href="#name-udp-port" class="section-name selfRef">UDP Port</a>
        </h3>
<p id="section-11.1-1">UDP 4790 port has been assigned by IANA for VXLAN-GPE.<a href="#section-11.1-1" class="pilcrow">¶</a></p>
</section>
<section id="section-11.2">
        <h3 id="name-vxlan-gpe-next-protocol">
<a href="#section-11.2" class="section-number selfRef">11.2. </a><a href="#name-vxlan-gpe-next-protocol" class="section-name selfRef">VXLAN-GPE Next Protocol</a>
        </h3>
<p id="section-11.2-1">IANA is requested to set up a registry of "Next Protocol". These
        are 8-bit values. Next Protocol values in the table below are defined
        in this draft. New values are assigned via Standards Action <span>[<a href="#RFC5226" class="xref">RFC5226</a>]</span>.<a href="#section-11.2-1" class="pilcrow">¶</a></p>
<p id="section-11.2-2"></p>
<table class="center" id="table-1">
          <caption><a href="#table-1" class="selfRef">Table 1</a></caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Next Protocol</th>
              <th class="text-left" rowspan="1" colspan="1">Description</th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0x0</td>
              <td class="text-left" rowspan="1" colspan="1">Reserved</td>
              <td class="text-left" rowspan="1" colspan="1">This Document</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0x1</td>
              <td class="text-left" rowspan="1" colspan="1">IPv4</td>
              <td class="text-left" rowspan="1" colspan="1">This Document</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0x2</td>
              <td class="text-left" rowspan="1" colspan="1">IPv6</td>
              <td class="text-left" rowspan="1" colspan="1">This Document</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0x3</td>
              <td class="text-left" rowspan="1" colspan="1">Ethernet</td>
              <td class="text-left" rowspan="1" colspan="1">This Document</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0x4</td>
              <td class="text-left" rowspan="1" colspan="1">NSH</td>
              <td class="text-left" rowspan="1" colspan="1">This Document</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0x05..0x7D</td>
              <td class="text-left" rowspan="1" colspan="1">Unassigned</td>
              <td class="text-left" rowspan="1" colspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0x7E, 0x7F</td>
              <td class="text-left" rowspan="1" colspan="1">Experimentation and testing</td>
              <td class="text-left" rowspan="1" colspan="1">This Document</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0x80..0xFD</td>
              <td class="text-left" rowspan="1" colspan="1">Unassigned (shim headers)</td>
              <td class="text-left" rowspan="1" colspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0x8E, 0x8F</td>
              <td class="text-left" rowspan="1" colspan="1">Experimentation and testing (shim headers)</td>
              <td class="text-left" rowspan="1" colspan="1">This Document</td>
            </tr>
          </tbody>
        </table>
<p id="section-11.2-4"></p>
</section>
<section id="section-11.3">
        <h3 id="name-vxlan-gpe-flag-and-reserved">
<a href="#section-11.3" class="section-number selfRef">11.3. </a><a href="#name-vxlan-gpe-flag-and-reserved" class="section-name selfRef">VXLAN-GPE Flag and Reserved Bits</a>
        </h3>
<p id="section-11.3-1">There are ten flag bits at the beginning of the VXLAN-GPE header,
        followed by 16 reserved bits and an 8-bit reserved field at the end of
        the header. New bits are assigned via Standards Action <span>[<a href="#RFC5226" class="xref">RFC5226</a>]</span>.<a href="#section-11.3-1" class="pilcrow">¶</a></p>
<ul class="ulEmpty normal">
<li class="ulEmpty normal" id="section-11.3-2.1">Bits 0-1 - Reserve6<a href="#section-11.3-2.1" class="pilcrow">¶</a>
</li>
          <li class="ulEmpty normal" id="section-11.3-2.2">Bits 2-3 - Version<a href="#section-11.3-2.2" class="pilcrow">¶</a>
</li>
          <li class="ulEmpty normal" id="section-11.3-2.3">Bit 4 - Instance ID (I bit)<a href="#section-11.3-2.3" class="pilcrow">¶</a>
</li>
          <li class="ulEmpty normal" id="section-11.3-2.4">Bit 5 - Next Protocol (P bit)<a href="#section-11.3-2.4" class="pilcrow">¶</a>
</li>
          <li class="ulEmpty normal" id="section-11.3-2.5">Bit 6 - Reserved<a href="#section-11.3-2.5" class="pilcrow">¶</a>
</li>
          <li class="ulEmpty normal" id="section-11.3-2.6">Bit 7 - OAM (O bit)<a href="#section-11.3-2.6" class="pilcrow">¶</a>
</li>
          <li class="ulEmpty normal" id="section-11.3-2.7">Bit 8-23 - Reserved<a href="#section-11.3-2.7" class="pilcrow">¶</a>
</li>
          <li class="ulEmpty normal" id="section-11.3-2.8">Bits 24-31 in the 2nd Word -- Reserved<a href="#section-11.3-2.8" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-11.3-3">Reserved bits/fields MUST be set to 0 by the sender and ignored by
        the receiver.<a href="#section-11.3-3" class="pilcrow">¶</a></p>
</section>
</section>
</div>
<section id="section-12">
      <h2 id="name-references">
<a href="#section-12" class="section-number selfRef">12. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-12.1">
        <h3 id="name-normative-references">
<a href="#section-12.1" class="section-number selfRef">12.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC1191">[RFC1191]</dt>
        <dd>
<span class="refAuthor">Mogul, J.</span> and <span class="refAuthor">S. Deering</span>, <span class="refTitle">"Path MTU discovery"</span>, <span class="seriesInfo">RFC 1191</span>, <span class="seriesInfo">DOI 10.17487/RFC1191</span>, <time datetime="1990-11" class="refDate">November 1990</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc1191">https://www.rfc-editor.org/info/rfc1191</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC1981">[RFC1981]</dt>
        <dd>
<span class="refAuthor">McCann, J.</span>, <span class="refAuthor">Deering, S.</span>, and <span class="refAuthor">J. Mogul</span>, <span class="refTitle">"Path MTU Discovery for IP version 6"</span>, <span class="seriesInfo">RFC 1981</span>, <span class="seriesInfo">DOI 10.17487/RFC1981</span>, <time datetime="1996-08" class="refDate">August 1996</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc1981">https://www.rfc-editor.org/info/rfc1981</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2003">[RFC2003]</dt>
        <dd>
<span class="refAuthor">Perkins, C.</span>, <span class="refTitle">"IP Encapsulation within IP"</span>, <span class="seriesInfo">RFC 2003</span>, <span class="seriesInfo">DOI 10.17487/RFC2003</span>, <time datetime="1996-10" class="refDate">October 1996</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2003">https://www.rfc-editor.org/info/rfc2003</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2460">[RFC2460]</dt>
        <dd>
<span class="refAuthor">Deering, S.</span> and <span class="refAuthor">R. Hinden</span>, <span class="refTitle">"Internet Protocol, Version 6 (IPv6) Specification"</span>, <span class="seriesInfo">RFC 2460</span>, <span class="seriesInfo">DOI 10.17487/RFC2460</span>, <time datetime="1998-12" class="refDate">December 1998</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2460">https://www.rfc-editor.org/info/rfc2460</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2474">[RFC2474]</dt>
        <dd>
<span class="refAuthor">Nichols, K.</span>, <span class="refAuthor">Blake, S.</span>, <span class="refAuthor">Baker, F.</span>, and <span class="refAuthor">D. Black</span>, <span class="refTitle">"Definition of the Differentiated Services Field (DS Field) in the IPv4 and IPv6 Headers"</span>, <span class="seriesInfo">RFC 2474</span>, <span class="seriesInfo">DOI 10.17487/RFC2474</span>, <time datetime="1998-12" class="refDate">December 1998</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2474">https://www.rfc-editor.org/info/rfc2474</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2983">[RFC2983]</dt>
        <dd>
<span class="refAuthor">Black, D.</span>, <span class="refTitle">"Differentiated Services and Tunnels"</span>, <span class="seriesInfo">RFC 2983</span>, <span class="seriesInfo">DOI 10.17487/RFC2983</span>, <time datetime="2000-10" class="refDate">October 2000</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2983">https://www.rfc-editor.org/info/rfc2983</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3692">[RFC3692]</dt>
        <dd>
<span class="refAuthor">Narten, T.</span>, <span class="refTitle">"Assigning Experimental and Testing Numbers Considered Useful"</span>, <span class="seriesInfo">BCP 82</span>, <span class="seriesInfo">RFC 3692</span>, <span class="seriesInfo">DOI 10.17487/RFC3692</span>, <time datetime="2004-01" class="refDate">January 2004</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3692">https://www.rfc-editor.org/info/rfc3692</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4301">[RFC4301]</dt>
        <dd>
<span class="refAuthor">Kent, S.</span> and <span class="refAuthor">K. Seo</span>, <span class="refTitle">"Security Architecture for the Internet Protocol"</span>, <span class="seriesInfo">RFC 4301</span>, <span class="seriesInfo">DOI 10.17487/RFC4301</span>, <time datetime="2005-12" class="refDate">December 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4301">https://www.rfc-editor.org/info/rfc4301</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5226">[RFC5226]</dt>
        <dd>
<span class="refAuthor">Narten, T.</span> and <span class="refAuthor">H. Alvestrand</span>, <span class="refTitle">"Guidelines for Writing an IANA Considerations Section in RFCs"</span>, <span class="seriesInfo">RFC 5226</span>, <span class="seriesInfo">DOI 10.17487/RFC5226</span>, <time datetime="2008-05" class="refDate">May 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5226">https://www.rfc-editor.org/info/rfc5226</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6040">[RFC6040]</dt>
        <dd>
<span class="refAuthor">Briscoe, B.</span>, <span class="refTitle">"Tunnelling of Explicit Congestion Notification"</span>, <span class="seriesInfo">RFC 6040</span>, <span class="seriesInfo">DOI 10.17487/RFC6040</span>, <time datetime="2010-11" class="refDate">November 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6040">https://www.rfc-editor.org/info/rfc6040</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6335">[RFC6335]</dt>
        <dd>
<span class="refAuthor">Cotton, M.</span>, <span class="refAuthor">Eggert, L.</span>, <span class="refAuthor">Touch, J.</span>, <span class="refAuthor">Westerlund, M.</span>, and <span class="refAuthor">S. Cheshire</span>, <span class="refTitle">"Internet Assigned Numbers Authority (IANA) Procedures for the Management of the Service Name and Transport Protocol Port Number Registry"</span>, <span class="seriesInfo">BCP 165</span>, <span class="seriesInfo">RFC 6335</span>, <span class="seriesInfo">DOI 10.17487/RFC6335</span>, <time datetime="2011-08" class="refDate">August 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6335">https://www.rfc-editor.org/info/rfc6335</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6935">[RFC6935]</dt>
        <dd>
<span class="refAuthor">Eubanks, M.</span>, <span class="refAuthor">Chimento, P.</span>, and <span class="refAuthor">M. Westerlund</span>, <span class="refTitle">"IPv6 and UDP Checksums for Tunneled Packets"</span>, <span class="seriesInfo">RFC 6935</span>, <span class="seriesInfo">DOI 10.17487/RFC6935</span>, <time datetime="2013-04" class="refDate">April 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6935">https://www.rfc-editor.org/info/rfc6935</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6936">[RFC6936]</dt>
        <dd>
<span class="refAuthor">Fairhurst, G.</span> and <span class="refAuthor">M. Westerlund</span>, <span class="refTitle">"Applicability Statement for the Use of IPv6 UDP Datagrams with Zero Checksums"</span>, <span class="seriesInfo">RFC 6936</span>, <span class="seriesInfo">DOI 10.17487/RFC6936</span>, <time datetime="2013-04" class="refDate">April 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6936">https://www.rfc-editor.org/info/rfc6936</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7348">[RFC7348]</dt>
        <dd>
<span class="refAuthor">Mahalingam, M.</span>, <span class="refAuthor">Dutt, D.</span>, <span class="refAuthor">Duda, K.</span>, <span class="refAuthor">Agarwal, P.</span>, <span class="refAuthor">Kreeger, L.</span>, <span class="refAuthor">Sridhar, T.</span>, <span class="refAuthor">Bursell, M.</span>, and <span class="refAuthor">C. Wright</span>, <span class="refTitle">"Virtual eXtensible Local Area Network (VXLAN): A Framework for Overlaying Virtualized Layer 2 Networks over Layer 3 Networks"</span>, <span class="seriesInfo">RFC 7348</span>, <span class="seriesInfo">DOI 10.17487/RFC7348</span>, <time datetime="2014-08" class="refDate">August 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7348">https://www.rfc-editor.org/info/rfc7348</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8085">[RFC8085]</dt>
        <dd>
<span class="refAuthor">Eggert, L.</span>, <span class="refAuthor">Fairhurst, G.</span>, and <span class="refAuthor">G. Shepherd</span>, <span class="refTitle">"UDP Usage Guidelines"</span>, <span class="seriesInfo">BCP 145</span>, <span class="seriesInfo">RFC 8085</span>, <span class="seriesInfo">DOI 10.17487/RFC8085</span>, <time datetime="2017-03" class="refDate">March 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8085">https://www.rfc-editor.org/info/rfc8085</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8086">[RFC8086]</dt>
        <dd>
<span class="refAuthor">Yong, L., Ed.</span>, <span class="refAuthor">Crabbe, E.</span>, <span class="refAuthor">Xu, X.</span>, and <span class="refAuthor">T. Herbert</span>, <span class="refTitle">"GRE-in-UDP Encapsulation"</span>, <span class="seriesInfo">RFC 8086</span>, <span class="seriesInfo">DOI 10.17487/RFC8086</span>, <time datetime="2017-03" class="refDate">March 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8086">https://www.rfc-editor.org/info/rfc8086</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8300">[RFC8300]</dt>
        <dd>
<span class="refAuthor">Quinn, P., Ed.</span>, <span class="refAuthor">Elzur, U., Ed.</span>, and <span class="refAuthor">C. Pignataro, Ed.</span>, <span class="refTitle">"Network Service Header (NSH)"</span>, <span class="seriesInfo">RFC 8300</span>, <span class="seriesInfo">DOI 10.17487/RFC8300</span>, <time datetime="2018-01" class="refDate">January 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8300">https://www.rfc-editor.org/info/rfc8300</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8365">[RFC8365]</dt>
      <dd>
<span class="refAuthor">Sajassi, A., Ed.</span>, <span class="refAuthor">Drake, J., Ed.</span>, <span class="refAuthor">Bitar, N.</span>, <span class="refAuthor">Shekhar, R.</span>, <span class="refAuthor">Uttaro, J.</span>, and <span class="refAuthor">W. Henderickx</span>, <span class="refTitle">"A Network Virtualization Overlay Solution Using Ethernet VPN (EVPN)"</span>, <span class="seriesInfo">RFC 8365</span>, <span class="seriesInfo">DOI 10.17487/RFC8365</span>, <time datetime="2018-03" class="refDate">March 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8365">https://www.rfc-editor.org/info/rfc8365</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-12.2">
        <h3 id="name-informative-references">
<a href="#section-12.2" class="section-number selfRef">12.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="I-D.brockners-ippm-ioam-vxlan-gpe">[I-D.brockners-ippm-ioam-vxlan-gpe]</dt>
        <dd>
<span class="refAuthor">Brockners, F.</span>, <span class="refAuthor">Bhandari, S.</span>, <span class="refAuthor">Govindan, V. P.</span>, <span class="refAuthor">Pignataro, C.</span>, <span class="refAuthor">Gredler, H.</span>, <span class="refAuthor">Leddy, J.</span>, <span class="refAuthor">Youell, S.</span>, <span class="refAuthor">Mizrahi, T.</span>, <span class="refAuthor">Kfir, A.</span>, <span class="refAuthor">Gafni, B.</span>, <span class="refAuthor">Lapukhov, P.</span>, and <span class="refAuthor">M. Spiegel</span>, <span class="refTitle">"VXLAN-GPE Encapsulation for In-situ OAM Data"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-brockners-ippm-ioam-vxlan-gpe-03</span>, <time datetime="2019-11-04" class="refDate">4 November 2019</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-brockners-ippm-ioam-vxlan-gpe-03.txt">https://www.ietf.org/archive/id/draft-brockners-ippm-ioam-vxlan-gpe-03.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.lemon-vxlan-lisp-gpe-gbp">[I-D.lemon-vxlan-lisp-gpe-gbp]</dt>
      <dd>
<span class="refAuthor">Lemon, J.</span>, <span class="refAuthor">Maino, F.</span>, <span class="refAuthor">Smith, M.</span>, and <span class="refAuthor">A. Isaac</span>, <span class="refTitle">"Group Policy Encoding with VXLAN-GPE and LISP-GPE"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-lemon-vxlan-lisp-gpe-gbp-02</span>, <time datetime="2019-04-30" class="refDate">30 April 2019</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-lemon-vxlan-lisp-gpe-gbp-02.txt">https://www.ietf.org/archive/id/draft-lemon-vxlan-lisp-gpe-gbp-02.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="authors-addresses">
<section id="appendix-A">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Fabio Maino (Editor)</span></div>
<div dir="auto" class="left"><span class="org">Cisco Systems</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:fmaino@cisco.com" class="email">fmaino@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Larry Kreeger (editor)</span></div>
<div dir="auto" class="left"><span class="org">Arrcus</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:lkreeger@gmail.com" class="email">lkreeger@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Uri Elzur (editor)</span></div>
<div dir="auto" class="left"><span class="org">Intel</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:uri.elzur@intel.com" class="email">uri.elzur@intel.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
