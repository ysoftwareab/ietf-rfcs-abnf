



Network Working Group                                              C. Li
Internet-Draft                                                     G. Xu
Intended status: Informational                                     Z. Hu
Expires: 6 September 2022                                         Huawei
                                                            5 March 2022


          IS-IS Traffic Engineering (TE) Metric LAN Extensions
             draft-li-lsr-isis-te-metric-lan-extensions-00

Abstract

   In certain networks, network-performance criteria (e.g., latency) are
   becoming as critical to data-path selection as other metrics.  This
   document describes extensions to IS-IS Traffic Engineering (TE)
   Metric Extensions (RFC 8570) for LAN subnetworks.  These extensions
   provide a way to distribute and collect network-performance
   information in LAN subnetworks.

Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in BCP 14 [RFC2119]
   [RFC8174] when, and only when, they appear in all capitals, as shown
   here.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on 6 September 2022.

Copyright Notice

   Copyright (c) 2022 IETF Trust and the persons identified as the
   document authors.  All rights reserved.



Li, et al.              Expires 6 September 2022                [Page 1]

Internet-Draft  IS-IS Traffic Engineering (TE) Metric LA      March 2022


   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents (https://trustee.ietf.org/
   license-info) in effect on the date of publication of this document.
   Please review these documents carefully, as they describe your rights
   and restrictions with respect to this document.  Code Components
   extracted from this document must include Revised BSD License text as
   described in Section 4.e of the Trust Legal Provisions and are
   provided without warranty as described in the Revised BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Sub-TLV Details . . . . . . . . . . . . . . . . . . . . . . .   3
     2.1.  Unidirectional Link Delay LAN Sub-TLV . . . . . . . . . .   3
     2.2.  Min/Max Unidirectional Link Delay LAN Sub-TLV . . . . . .   4
     2.3.  Unidirectional Delay Variation LAN Sub-TLV  . . . . . . .   5
     2.4.  Unidirectional Link Loss LAN Sub-TLV  . . . . . . . . . .   5
     2.5.  Unidirectional Residual Bandwidth LAN Sub-TLV . . . . . .   6
     2.6.  Unidirectional Available Bandwidth LAN Sub-TLV  . . . . .   7
     2.7.  Unidirectional Utilized Bandwidth LAN Sub-TLV . . . . . .   8
   3.  Announcement Thresholds and Filters . . . . . . . . . . . . .   8
   4.  Announcement Suppression  . . . . . . . . . . . . . . . . . .   8
   5.  Network Stability and Announcement Periodicity  . . . . . . .   9
   6.  Enabling and Disabling Sub-TLVs . . . . . . . . . . . . . . .   9
   7.  Compatibility . . . . . . . . . . . . . . . . . . . . . . . .   9
   8.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   9
   9.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   9
   10. Security Considerations . . . . . . . . . . . . . . . . . . .   9
   11. References  . . . . . . . . . . . . . . . . . . . . . . . . .   9
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  10

1.  Introduction

   In certain networks, network-performance criteria (e.g., latency) are
   becoming as critical to data-path selection as other metrics.  This
   document describes extensions to IS-IS Traffic Engineering (TE)
   Metric Extensions (RFC 8570) for LAN subnetworks.  These extensions
   provide a way to distribute and collect network-performance
   information in LAN subnetworks.

   In LAN subnetworks, the Designated Intermediate System (DIS) is
   elected and originates the Pseudonode LSP (PN LSP) including all
   neighbors of the DIS.  Since, on LANs, each router only advertises
   one adjacency to the DIS (and doesn't advertise any other adjacency),
   each router should advertise the TE metric for each of its neighbors.






Li, et al.              Expires 6 September 2022                [Page 2]

Internet-Draft  IS-IS Traffic Engineering (TE) Metric LA      March 2022


2.  Sub-TLV Details

   This document registers new IS-IS TE sub-TLVs in the "Sub-TLVs for
   TLVs 22, 23, 141, 222, and 223" registry.  These new sub-TLVs
   provides ways to distribute network-performance information in LAN
   subnetworks.

   This document registers new sub-TLVs:

          Type    Description
          ----------------------------------------------------
          TBD     Unidirectional Link Delay LAN Sub-TLV
          TBD     Min/Max Unidirectional Link Delay LAN Sub-TLV
          TBD     Unidirectional Delay Variation LAN Sub-TLV
          TBD     Unidirectional Link Loss LAN Sub-TLV
          TBD     Unidirectional Residual Bandwidth LAN Sub-TLV
          TBD     Unidirectional Available Bandwidth LAN Sub-TLV
          TBD     Unidirectional Utilized Bandwidth LAN Sub-TLV

                             Figure 1: Figure 1

2.1.  Unidirectional Link Delay LAN Sub-TLV

   This sub-TLV advertises the average link delay between two real
   connected IS-IS neighbors in LAN.  Each router advertises the average
   link delay for each of its neighbors inside a newly defined sub-TLV
   that is a part of the TLV advertising the adjacency to the DIS (e.g.,
   TLV-22).  The format of this sub-TLV is shown in the following
   diagram:

      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |   Type        |     Length    |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                  Neighbor System-ID (ID length octets)        |
     +                               +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                               |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+--+-+-+-+-+-+-+--+
     |A|  RESERVED   |               Delay                           |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+--+-+-+-+-+-+-+--+

         Figure 2: Figure 2: Unidirectional Link Delay LAN Sub-TLV

   Type: TBD (suggested value 41) is to be assigned by IANA.

   Length: 4 + System-ID length.




Li, et al.              Expires 6 September 2022                [Page 3]

Internet-Draft  IS-IS Traffic Engineering (TE) Metric LA      March 2022


   Neighbor System-ID: IS-IS System-ID of length "ID Length" as defined
   in [ISO10589].

   The other fields are the same as defined in [RFC8570] for
   Unidirectional Link Delay Sub-TLV.

   This sub-TLV is optional.

2.2.  Min/Max Unidirectional Link Delay LAN Sub-TLV

   This sub-TLV advertises the minimum and maximum delay values between
   two real connected IS-IS neighbors in LAN.  Each router advertises
   the minimum and maximum delay for each of its neighbors inside a
   newly defined sub-TLV that is a part of the TLV advertising the
   adjacency to the DIS (e.g., TLV-22).  The format of this sub-TLV is
   shown in the following diagram:

      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |   Type        |     Length    |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                  Neighbor System-ID (ID length octets)        |
     +                               +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                               |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+--+-+-+-+-+-+-+--+
     |A|  RESERVED   |               Min Delay                       |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+--+-+-+-+-+-+-+--+
     |    RESERVED   |               Max Delay                       |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+--+-+-+-+-+-+-+--+

     Figure 3: Figure 3: Min/Max Unidirectional Link Delay LAN Sub-TLV

   Type: TBD (suggested value 42) is to be assigned by IANA.

   Length: 8 + System-ID length.

   Neighbor System-ID: IS-IS System-ID of length "ID Length" as defined
   in [ISO10589].

   The other fields are the same as defined in [RFC8570] for Min/Max
   Unidirectional Link Delay Sub-TLV.

   This sub-TLV is optional.







Li, et al.              Expires 6 September 2022                [Page 4]

Internet-Draft  IS-IS Traffic Engineering (TE) Metric LA      March 2022


2.3.  Unidirectional Delay Variation LAN Sub-TLV

   This sub-TLV advertises the average link delay variation between two
   real connected IS-IS neighbors in LAN.  Each router advertises
   average link delay variation for each of its neighbors inside a newly
   defined sub-TLV that is a part of the TLV advertising the adjacency
   to the DIS (e.g., TLV-22).  The format of this sub-TLV is shown in
   the following diagram:

      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |   Type        |     Length    |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                  Neighbor System-ID (ID length octets)        |
     +                               +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                               |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+--+-+-+-+-+-+-+--+
     |A|  RESERVED   |               Delay Variation                 |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+--+-+-+-+-+-+-+--+

       Figure 4: Figure 4: Unidirectional Delay Variation LAN Sub-TLV

   Type: TBD (suggested value 43) is to be assigned by IANA.

   Length: 4 + System-ID length.

   Neighbor System-ID: IS-IS System-ID of length "ID Length" as defined
   in [ISO10589].

   The other fields are the same as defined in [RFC8570] for
   Unidirectional Delay Variation Sub-TLV.

   This sub-TLV is optional.

2.4.  Unidirectional Link Loss LAN Sub-TLV

   This sub-TLV advertises the loss (as a packet percentage) between two
   real connected IS-IS neighbors in LAN.  Each router advertises the
   link loss for each of its neighbors inside a newly defined sub-TLV
   that is a part of the TLV advertising the adjacency to the DIS (e.g.,
   TLV-22).  The format of this sub-TLV is shown in the following
   diagram:








Li, et al.              Expires 6 September 2022                [Page 5]

Internet-Draft  IS-IS Traffic Engineering (TE) Metric LA      March 2022


      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |   Type        |     Length    |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                  Neighbor System-ID (ID length octets)        |
     +                               +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                               |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+--+-+-+-+-+-+-+--+
     |A|  RESERVED   |               Link Loss                       |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+--+-+-+-+-+-+-+--+

          Figure 5: Figure 5: Unidirectional Link Loss LAN Sub-TLV

   Type: TBD (suggested value 44) is to be assigned by IANA.

   Length: 4 + System-ID length.

   Neighbor System-ID: IS-IS System-ID of length "ID Length" as defined
   in [ISO10589].

   The other fields are the same as defined in [RFC8570] for
   Unidirectional Link Loss Sub-TLV.

   This sub-TLV is optional.

2.5.  Unidirectional Residual Bandwidth LAN Sub-TLV

   This sub-TLV advertises the residual bandwidth between two real
   connected IS-IS neighbors in LAN.  Each router advertises the
   residual bandwidth for each of its neighbors inside a newly defined
   sub-TLV that is a part of the TLV advertising the adjacency to the
   DIS (e.g., TLV-22).  The format of this sub-TLV is shown in the
   following diagram:

      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |   Type        |     Length    |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                  Neighbor System-ID (ID length octets)        |
     +                               +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                               |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+--+-+-+-+-+-+-+--+
     |                      Residual Bandwidth                       |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+--+-+-+-+-+-+-+--+

     Figure 6: Figure 6: Unidirectional Residual Bandwidth LAN Sub-TLV



Li, et al.              Expires 6 September 2022                [Page 6]

Internet-Draft  IS-IS Traffic Engineering (TE) Metric LA      March 2022


   Type: TBD (suggested value 45) is to be assigned by IANA.

   Length: 4 + System-ID length.

   Neighbor System-ID: IS-IS System-ID of length "ID Length" as defined
   in [ISO10589].

   The other fields are the same as defined in [RFC8570] for
   Unidirectional Residual Bandwidth Sub-TLV.

   This sub-TLV is optional.

2.6.  Unidirectional Available Bandwidth LAN Sub-TLV

   This sub-TLV advertises the available bandwidth between two real
   connected IS-IS neighbors in LAN.  Each router advertises the
   available bandwidth for each of its neighbors inside a newly defined
   sub-TLV that is a part of the TLV advertising the adjacency to the
   DIS (e.g., TLV-22).  The format of this sub-TLV is shown in the
   following diagram:

     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |   Type        |     Length    |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                  Neighbor System-ID (ID length octets)        |
    +                               +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                               |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+--+-+-+-+-+-+-+--+
    |                      Available Bandwidth                       |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+--+-+-+-+-+-+-+--+

     Figure 7: Figure 7: Unidirectional Available Bandwidth LAN Sub-TLV

   Type: TBD (suggested value 46) is to be assigned by IANA.

   Length: 4 + System-ID length.

   Neighbor System-ID: IS-IS System-ID of length "ID Length" as defined
   in [ISO10589].

   The other fields are the same as defined in [RFC8570] for
   Unidirectional Available Bandwidth Sub-TLV.

   This sub-TLV is optional.





Li, et al.              Expires 6 September 2022                [Page 7]

Internet-Draft  IS-IS Traffic Engineering (TE) Metric LA      March 2022


2.7.  Unidirectional Utilized Bandwidth LAN Sub-TLV

   This sub-TLV advertises the bandwidth utilization between two real
   connected IS-IS neighbors in LAN.  Each router advertises the
   bandwidth utilization (for each of its neighbors) inside a newly
   defined sub-TLV that is a part of the TLV advertising the adjacency
   to the DIS (e.g., TLV-22).  The format of this sub-TLV is shown in
   the following diagram:

      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |   Type        |     Length    |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                  Neighbor System-ID (ID length octets)        |
     +                               +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                               |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+--+-+-+-+-+-+-+--+
     |                      Utilized Bandwidth                       |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+--+-+-+-+-+-+-+--+

     Figure 8: Figure 8: Unidirectional Utilized Bandwidth LAN Sub-TLV

   Type: TBD (suggested value 47) is to be assigned by IANA.

   Length: 4 + System-ID length.

   Neighbor System-ID: IS-IS System-ID of length "ID Length" as defined
   in [ISO10589].

   The other fields are the same as defined in [RFC8570] for
   Unidirectional Utilized Bandwidth Sub-TLV.

   This sub-TLV is optional.

3.  Announcement Thresholds and Filters

   This document uses the same principle for announcement thresholds and
   filters as described in RFC 8570.

4.  Announcement Suppression

   This document uses the same principle for announcement suppression as
   described in RFC 8570.







Li, et al.              Expires 6 September 2022                [Page 8]

Internet-Draft  IS-IS Traffic Engineering (TE) Metric LA      March 2022


5.  Network Stability and Announcement Periodicity

   This document uses the same principle for network stability and
   announcement periodicity as described in RFC 8570.

6.  Enabling and Disabling Sub-TLVs

   Implementations MUST make it possible to enable or disable each sub-
   TLV based on configuration.

7.  Compatibility

   Unrecognized sub-TLVs should be silently ignored.

8.  Acknowledgements

   TBD.

9.  IANA Considerations

   This document requests that IANA allocates new sub-TLV types from the
   "Sub-TLVs for TLVs 22, 23, 25, 141, 222, and 223 (Extended IS
   reachability, IS Neighbor Attribute, L2 Bundle Member Attributes,
   inter-AS reachability information, MT-ISN, and MT IS Neighbor
   Attribute TLVs)" registry as specified.

   Value       Description
   ---------------------------------------------------------------
   TBD         Unidirectional Link Delay LAN Sub-TLV
   TBD         Min/Max Unidirectional Link Delay LAN Sub-TLV
   TBD         Unidirectional Delay Variation LAN Sub-TLV
   TBD         Unidirectional Link Loss LAN Sub-TLV
   TBD         Unidirectional Residual Bandwidth LAN Sub-TLV
   TBD         Unidirectional Available Bandwidth LAN Sub-TLV
   TBD         Unidirectional Utilized Bandwidth LAN Sub-TLV

                             Figure 9: Figure 9

10.  Security Considerations

   These extensions to IS-IS do not add any new security issues to the
   existing IGP.

11.  References

   [RFC5305]  Li, T. and H. Smit, "IS-IS Extensions for Traffic
              Engineering", RFC 5305, DOI 10.17487/RFC5305, October
              2008, <https://www.rfc-editor.org/info/rfc5305>.



Li, et al.              Expires 6 September 2022                [Page 9]

Internet-Draft  IS-IS Traffic Engineering (TE) Metric LA      March 2022


   [RFC8570]  Ginsberg, L., Ed., Previdi, S., Ed., Giacalone, S., Ward,
              D., Drake, J., and Q. Wu, "IS-IS Traffic Engineering (TE)
              Metric Extensions", RFC 8570, DOI 10.17487/RFC8570, March
              2019, <https://www.rfc-editor.org/info/rfc8570>.

Authors' Addresses

   Chenxi Li
   Huawei
   Huawei Bld., No.156 Beiqing Rd.
   Beijing
   100095
   China
   Email: lichenxi1@huawei.com


   Guoqi Xu
   Huawei
   Huawei Bld., No. 156 Beiqing Rd.
   Beijing
   100095
   China
   Email: xuguoqi@huawei.com


   Zhibo Hu
   Huawei
   Huawei Bld., No.156 Beiqing Rd.
   Beijing
   100095
   China
   Email: huzhibo@huawei.com



















Li, et al.              Expires 6 September 2022               [Page 10]
