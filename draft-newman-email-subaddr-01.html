<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Internet Email Subaddressing</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Internet Email Subaddressing">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Network Working Group</td><td class="header">D. Cridland</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Isode Limited</td></tr>
<tr><td class="header">Intended status: Informational</td><td class="header">November 16, 2007</td></tr>
<tr><td class="header">Expires: May 19, 2008</td><td class="header">&nbsp;</td></tr>
</table></td></tr></table>
<h1><br />Internet Email Subaddressing<br />draft-newman-email-subaddr-01</h1>

<h3>Status of this Memo</h3>
<p>
By submitting this Internet-Draft,
each author represents that any applicable patent or other IPR claims of which
he or she is aware have been or will be disclosed,
and any of which he or she becomes aware will be disclosed,
in accordance with Section&nbsp;6 of BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on May 19, 2008.</p>

<h3>Abstract</h3>

<p>It is often useful for a single user to have multiple email
     addresses which can be used to assist categorizing incoming email.
     One way of doing this is to divide the local-part of an email
     address into user and detail parts.  The user part is used
     to route the message within the specified domain
     and the detail part is used to route the message according to a
     particular user's wishes.
</p>
<p>This specification formalizes the de-facto standard for
     subaddressing in use today and includes advice and requirements for
     final delivery agents, MUAs and mail list servers which wish to
     support subaddressing.
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor2">1.1.</a>&nbsp;
Conventions used in this document<br />
<a href="#anchor3">2.</a>&nbsp;
Definitions<br />
<a href="#anchor4">3.</a>&nbsp;
Subaddressing Syntax<br />
<a href="#anchor5">4.</a>&nbsp;
Subaddress Support Requirements<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">4.1.</a>&nbsp;
Final Delivery Agent Requirements<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">4.2.</a>&nbsp;
Gateway/Firewall Requirements<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor8">4.3.</a>&nbsp;
MUA Requirements<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#mlm">4.4.</a>&nbsp;
Mailing List Server Requirements<br />
<a href="#anchor9">5.</a>&nbsp;
Security Considerations<br />
<a href="#anchor10">6.</a>&nbsp;
Acknowledgements<br />
<a href="#rfc.references1">7.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">7.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">7.2.</a>&nbsp;
Informative References<br />
<a href="#anchor13">Appendix&nbsp;A.</a>&nbsp;
Subaddressing Scenarios<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor14">A.1.</a>&nbsp;
Subscribe to Mailing List by Detailed Address<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor15">A.2.</a>&nbsp;
User Controlled Distribution Lists<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor16">A.3.</a>&nbsp;
Mailto URL Indicator<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor17">A.4.</a>&nbsp;
Support for Special Addresses<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor18">A.5.</a>&nbsp;
Priority Categorization<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#bank">A.6.</a>&nbsp;
Anti-Phishing<br />
<a href="#anchor19">Appendix&nbsp;B.</a>&nbsp;
Open Issues and Discussion<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor20">B.1.</a>&nbsp;
To-do<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Author's Address<br />
<a href="#rfc.copyright">&#167;</a>&nbsp;
Intellectual Property and Copyright Statements<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>Subaddressing is a common technique for providing users with multiple addresses which can be used for filtering incoming email. A key feature is that no administrative action is required to provision or enable a particular detail part; instead, as long as the domain's mail system is subaddress-aware, the user may use arbitrary detail parts.
</p>
<p>Although commonly deployed, subaddressing has had minimal formal documentation; this document attempts to define subaddressing, and also define what it means to be subaddress-aware.
</p>
<p>In general, deployed forms of subaddressing divide the local-part of an email address into two strings, seperated by a delimiter character. This is most commonly a plus sign, "+".
</p>
<p>This document does not document all forms of subaddressing, merely the most common form, also known as "plus-addressing". Other forms are also deployed, sometimes using a minus sign, and in some rare cases using encoding rules rather than simple catenation.
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.1"></a><h3>1.1.&nbsp;
Conventions used in this document</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in <a class='info' href='#KEYWORDS'>[KEYWORDS]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.
</p>
<p>The formal grammar in this document uses Augmented BNF <a class='info' href='#ABNF'>[ABNF]<span> (</span><span class='info'>Crocker, D., Ed. and P. Overell, &ldquo;Augmented BNF for Syntax Specifications: ABNF,&rdquo; October&nbsp;2005.</span><span>)</span></a>.
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Definitions</h3>

<p></p>
<blockquote class="text"><dl>
<dt>Final Delivery Agent</dt>
<dd>
    The final delivery agent is the agent started by the Final MTA
    which interprets the local-part of the email address.
    <br />
<br />

</dd>
<dt>Final MTA</dt>
<dd>
    The final MTA is the MTA designated by the domain to the left
    of the "@" in an email address.
    <br />
<br />

</dd>
<dt>Local-Part</dt>
<dd>
          The local-part of an email address is everything to the left
          of the "@" in the address used for delivery and is formally
          defined in [IMAIL].  It is also know as the "left hand side"
          of an address.
    <br />
<br />

</dd>
<dt>Mail List Server</dt>
<dd>
          A Mail List Server takes messages directed to it, rewrites the
          envelope addresses and redistributes the message to one or
          more subscribers.

    <br />
<br />

</dd>
<dt>MTA</dt>
<dd>  A Mail Transport Agent (MTA) receives email from other MTAs or
          MUAs and routes it towards the final MTA.

    <br />
<br />

</dd>
<dt>MUA</dt>
<dd>  A Mail User Agent (MUA) is used by a user to send and read
          email.

    <br />
<br />

</dd>
<dt>Detail Part</dt>
<dd>
          A detail part is information in addition to the address of a
          primary mailbox which may be used for categorization by the
          recipient. It is also known as a subaddress.
    <br />
<br />

</dd>
<dt>User Part</dt>
<dd>
          A user part is that portion of the local part which indicates the
	  primary mailbox. In a mail system which is not subaddress-aware, the
	  user part is equal to the local part.
    <br />
<br />

</dd>
<dt>Detailed Address</dt>
<dd>
    An email address which has a detail part.
    <br />
<br />

</dd>
<dt>Primary Address</dt>
<dd>
    An email address which has no detail part, or the corresponding address to a detailed address with the detail part removed.
    <br />
<br />

</dd>
</dl></blockquote>

<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Subaddressing Syntax</h3>

<p>A subaddress-aware final delivery agent divides the local-part into two pieces
     separated by a "+".  The user part is to the left of the "+"
     and the detail part is to the right of the "+".  A message with a
     valid user part is delivered to the primary address by
     default, regardless of the contents of the detail part.  The
     detail part MAY be used by final delivery filtering (e.g. to deliver
     messages with a particular detail part into a special mailbox) or by
     an MUA.
</p>
<p>For example, the detailed address &lt;delenn+grey-council@babylon5.example.org&gt; might be
     used to send email to &lt;delenn@babylon5.example.org&gt; relating to grey-council
     business.  Delenn can then direct her final delivery agent
     to file messages with a "grey-council" subaddress into her "grey-council" mailbox, perhaps with the <a class='info' href='#SIEVE-SUBADDRESS'>[SIEVE&#8209;SUBADDRESS]<span> (</span><span class='info'>Murchison, K., &ldquo;Sieve Email Filtering -- Subaddress Extension,&rdquo; June&nbsp;2006.</span><span>)</span></a> extension.
</p>
<p>When generating a detailed address, the local part of the address MUST be
     canonically quoted.  A local part is canonically quoted if it is
     legal according to both the formal grammer in <a class='info' href='#IMAIL'>[IMAIL]<span> (</span><span class='info'>Resnick, P., &ldquo;Internet Message Format,&rdquo; April&nbsp;2001.</span><span>)</span></a> and the
     formal grammar in <a class='info' href='#SMTP'>[SMTP]<span> (</span><span class='info'>Klensin, J., &ldquo;Simple Mail Transfer Protocol,&rdquo; April&nbsp;2001.</span><span>)</span></a>.  The following formal grammar restricts
     &lt;local-part&gt; in this fashion and distinguishes the user part
     from the detail part.  Subaddress-aware MUAs MUST NOT generate
     addresses which violate this syntax and subaddress-aware final
     delivery agents MAY refuse to apply subaddress interpretation to
     addresses which violate this syntax.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
<dfn>local-part</dfn>     = <cite class='id'>local-quoted</cite> / <cite class='id'>local-unquoted</cite>

<dfn>local-quoted</dfn>   = <cite class='key'>DQUOTE</cite> <cite class='id'>user-part-q</cite> ["<span class='str'>+</span>" <cite class='id'>detail-q</cite>] <cite class='key'>DQUOTE</cite>

<dfn>local-unquoted</dfn> = [<cite class='id'>user-part-c</cite>] ["<span class='str'>+</span>" [<cite class='id'>detail-c</cite>]]

<dfn>user-part</dfn>      = <span class='rep'>*</span>(<cite class='id'>SAFEQ-CHAR</cite> / <cite class='id'>QUOTE-CHAR</cite>)
                 <em>;; This is the syntax for an unquoted user-part</em>
                 <em>;; address. If it fits canonical form (user-part-c)</em>
                 <em>;; it is used directly in a local-part.  Otherwise</em>
                 <em>;; QUOTE-CHARs are escaped to fit quoted form.</em>

<dfn>user-part-c</dfn>    = <cite class='id'>userc-word</cite> <span class='rep'>*</span>("<span class='str'>.</span>" <cite class='id'>userc-word</cite>)

<dfn>user-part-q</dfn>    = <span class='rep'>*</span>(<cite class='id'>SAFEQ-CHAR</cite> / <cite class='id'>quoted</cite>)

<dfn>userc-word</dfn>     = <span class='rep'>1*</span><cite class='id'>SAFE-CHAR</cite>

<dfn>quoted</dfn>         = "<span class='str'>\</span>" <cite class='id'>QUOTE-CHAR</cite>

<dfn>detail-part</dfn>    = <span class='rep'>*</span>(<cite class='id'>SAFEQ-CHAR</cite> / <cite class='id'>QUOTE-CHAR</cite> / "<span class='str'>+</span>")
                 <em>;; This is the syntax for an unquoted subaddress.</em>
                 <em>;; If it fits canonical form (subaddress-c) it is</em>
                 <em>;; used directly in a local-part.  Otherwise</em>
                 <em>;; QUOTE-CHARs are escaped to fit quoted form.</em>

<dfn>detail-c</dfn>       = <cite class='id'>detailc-word</cite> <span class='rep'>*</span>("<span class='str'>.</span>" <cite class='id'>detailc-word</cite>)

<dfn>detail-q</dfn>       = <span class='rep'>*</span>(<cite class='id'>SAFEQ-CHAR</cite> / "<span class='str'>+</span>" / <cite class='id'>quoted</cite>)

<dfn>detailc-word</dfn>   = <span class='rep'>1*</span>(<cite class='id'>SAFE-CHAR</cite> / "<span class='str'>+</span>")

<dfn>QUOTE-CHAR</dfn>     = <cite class='key'>DQUOTE</cite> / "<span class='str'>\</span>"

<dfn>SAFE-CHAR</dfn>      = <span class='val'>%x21</span> / <span class='val'>%x23-27</span> / <span class='val'>%x2A</span> / <span class='val'>%x2D</span> / <span class='val'>%x2F-39</span> / <span class='val'>%x3D</span> /
                 <span class='val'>%x3F</span> / <span class='val'>%x41-5A</span> / <span class='val'>%x5E-7E</span>
                 <em>;; All printable US-ASCII characters except</em>
                 <em>;; space, plus "+" and &lt;specials&gt; as defined</em>
                 <em>;; in [IMAIL]</em>

<dfn>SAFEQ-CHAR</dfn>     = <span class='val'>%x20-21</span> / <span class='val'>%x23-2A</span> / <span class='val'>%x2C-5B</span> / <span class='val'>%x5D-7E</span>
                 <em>;; All printable US-ASCII characters except</em>
                 <em>;; plus, quote and backslash.</em>

</pre></div>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Subaddress Support Requirements</h3>

<p>This section defines the requirements for subaddress aware final
     delivery agents, gateway/firewalls, MUAs and mail list servers.
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1"></a><h3>4.1.&nbsp;
Final Delivery Agent Requirements</h3>

<p>By default, delivery to a detailed address MUST be identical to delivery to the primary address. Configuration MAY be used to override behaviour for specific detailed addresses.
</p>
<p>If <a class='info' href='#SIEVE'>[SIEVE]<span> (</span><span class='info'>Showalter, T. and P. Guenther, &ldquo;Sieve: An Email Filtering Language,&rdquo; October&nbsp;2007.</span><span>)</span></a> is supported by the delivery agent, then <a class='info' href='#SIEVE-SUBADDRESS'>[SIEVE&#8209;SUBADDRESS]<span> (</span><span class='info'>Murchison, K., &ldquo;Sieve Email Filtering -- Subaddress Extension,&rdquo; June&nbsp;2006.</span><span>)</span></a> MUST be supported.
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2"></a><h3>4.2.&nbsp;
Gateway/Firewall Requirements</h3>

<p>A subaddress-aware gateway or firewall SHOULD preserve the
     detail part when rewriting an address.  A subaddress aware gateway
     MAY rewrite an address into canonical quoted form.
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.3"></a><h3>4.3.&nbsp;
MUA Requirements</h3>

<p>A subaddress-aware MUA MUST allow the user to include a detail part
     in the From header when sending a message.  A subaddress-aware MUA
     MUST generate addresses in canonically quoted form following the
     syntax for local-part in this specification.  A subaddress-aware
     MUA SHOULD allow the user to user a detailed address as the envelope
     sender address (as used in the SMTP MAIL FROM command).  A
     subaddress-aware MUA which validates local addresses MUST ignore
     detail parts for the purposes of such validation.
</p>
<a name="mlm"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.4"></a><h3>4.4.&nbsp;
Mailing List Server Requirements</h3>

<p>A subaddress-aware mailing list server MUST allow users to subscribe
     using a detailed address.  If such a server restricts postings by their
     envelope sender, Sender or From address, it MUST be able to be configured,
     by the subscriber, to ignore
     detail parts for the purposes of such restrictions.
</p>
<p>Mailing list servers SHOULD provide a per-user configuration setting to allow for
     alternate delimiters, such as "-".
</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Security Considerations</h3>

<p>If a final delivery agent executes a command line containing the
     delivery address and the detail part contains meta-characters with
     special meaning to the command line interpretor this could result
     in a serious security violation.  In order to avoid this problem,
     the final delivery agent MUST verify the detail part contains no
     characters with special meaning to the command line interpretor,
     not use a command line interpretor, or strip the detail part from
     the address prior to generating the command line when it contains
     characters with special meaning.
</p>
<p>If a final delivery agent were to automatically create a mailbox
     based on the detail part, this could result in a denial of service
     problem as well as placing control of a user's mailbox namespace in
     the hands of outsiders.  In order to avoid this problem, final
     delivery agents MUST NOT automatically create new mailboxes based on
     the detail part without explicit permission from the owner of the
     primary address.  Final delivery agents SHOULD NOT automatically
     file a message into a mailbox based on the subaddress without
     explicit configuration from the owner of the primary address.
</p>
<p>Detailed addresses themselves may be used as a weak form of authorization
     token, for example in the scenario given in <a class='info' href='#bank'>Appendix&nbsp;A.6<span> (</span><span class='info'>Anti-Phishing</span><span>)</span></a>. In such
     cases, acquisition of the token by a third party may aid in fraud.
     Therefore such subaddresses MUST be random, and MUST NOT be disclosed.
</p>
<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Acknowledgements</h3>

<p>This draft is a direct ancestor of a 1997 draft by Chris Newman. Some usages documented herein may reflect this long heritage, however it has been updated with current usages, including the use of subaddressing as an anti-phishing technique described by John Klensin on the IETF mailing list. No existing usages had fallen out of fashion in the intervening decade.
</p>
<p>Discussions within the SIEVE working group also influenced the changes to the draft - in particular, the terminology has been changed to match that of <a class='info' href='#SIEVE-SUBADDRESS'>[SIEVE&#8209;SUBADDRESS]<span> (</span><span class='info'>Murchison, K., &ldquo;Sieve Email Filtering -- Subaddress Extension,&rdquo; June&nbsp;2006.</span><span>)</span></a>.
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>7.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="ABNF">[ABNF]</a></td>
<td class="author-text"><a href="mailto:dcrocker@bbiw.net">Crocker, D., Ed.</a> and <a href="mailto:paul.overell@thus.net">P. Overell</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc4234">Augmented BNF for Syntax Specifications: ABNF</a>,&rdquo; RFC&nbsp;4234, October&nbsp;2005 (<a href="ftp://ftp.isi.edu/in-notes/rfc4234.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc4234.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc4234.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="IMAIL">[IMAIL]</a></td>
<td class="author-text">Resnick, P., &ldquo;<a href="http://tools.ietf.org/html/rfc2822">Internet Message Format</a>,&rdquo; RFC&nbsp;2822, April&nbsp;2001 (<a href="ftp://ftp.isi.edu/in-notes/rfc2822.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="KEYWORDS">[KEYWORDS]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="ftp://ftp.isi.edu/in-notes/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="SIEVE">[SIEVE]</a></td>
<td class="author-text">Showalter, T. and P. Guenther, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-sieve-3028bis-13.txt">Sieve: An Email Filtering Language</a>,&rdquo; draft-ietf-sieve-3028bis-13 (work in progress), October&nbsp;2007 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-sieve-3028bis-13.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="SIEVE-SUBADDRESS">[SIEVE-SUBADDRESS]</a></td>
<td class="author-text">Murchison, K., &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-sieve-rfc3598bis-05.txt">Sieve Email Filtering -- Subaddress Extension</a>,&rdquo; draft-ietf-sieve-rfc3598bis-05 (work in progress), June&nbsp;2006 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-sieve-rfc3598bis-05.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="SMTP">[SMTP]</a></td>
<td class="author-text">Klensin, J., &ldquo;<a href="http://tools.ietf.org/html/rfc2821">Simple Mail Transfer Protocol</a>,&rdquo; RFC&nbsp;2821, April&nbsp;2001 (<a href="ftp://ftp.isi.edu/in-notes/rfc2821.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>7.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="MAIL-ARCH">[MAIL-ARCH]</a></td>
<td class="author-text">Crocker, D., &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-crocker-email-arch-09.txt">Internet Mail Architecture</a>,&rdquo; draft-crocker-email-arch-09 (work in progress), May&nbsp;2007 (<a href="http://www.ietf.org/internet-drafts/draft-crocker-email-arch-09.txt">TXT</a>, <a href="http://www.ietf.org/internet-drafts/draft-crocker-email-arch-09.pdf">PDF</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="MBOX-NAMES">[MBOX-NAMES]</a></td>
<td class="author-text"><a href="mailto:dcrocker@imc.org">Crocker, D.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2142">MAILBOX NAMES FOR COMMON SERVICES, ROLES AND FUNCTIONS</a>,&rdquo; RFC&nbsp;2142, May&nbsp;1997 (<a href="ftp://ftp.isi.edu/in-notes/rfc2142.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2142.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2142.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="MIXER">[MIXER]</a></td>
<td class="author-text"><a href="mailto:S.Kille@ISODE.COM">Kille, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2156">MIXER (Mime Internet X.400 Enhanced Relay): Mapping between X.400 and RFC 822/MIME</a>,&rdquo; RFC&nbsp;2156, January&nbsp;1998 (<a href="ftp://ftp.isi.edu/in-notes/rfc2156.txt">TXT</a>).</td></tr>
</table>

<a name="anchor13"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A"></a><h3>Appendix A.&nbsp;
Subaddressing Scenarios</h3>

<p>This appendix includes examples of how subaddressing used on the
     Internet today.
</p>
<a name="anchor14"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.1"></a><h3>A.1.&nbsp;
Subscribe to Mailing List by Detailed Address</h3>

<p>Many users subscribe
     to mailing lists using a detailed address and use the final delivery
     agent to file all messages from that mailing list into a different
     incoming mailbox based on the detail part.  This sorts mailing list
     traffic into appropriate mailboxes with 100% accuracy and without
     scanning the contents of the message headers.
</p>
<a name="anchor15"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.2"></a><h3>A.2.&nbsp;
User Controlled Distribution Lists</h3>

<p>Some final delivery agents allow a user to set up a distribution
     list and associate it with a particular detailed address.  This permits
     users to manage their own distribution lists without administrative
     intervention.
</p>
<a name="anchor16"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.3"></a><h3>A.3.&nbsp;
Mailto URL Indicator</h3>

<p>By including a different detail part for each mailto URL on a web
     page, a user can determine which mailto URL was selected for a
     particular message.
</p>
<a name="anchor17"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.4"></a><h3>A.4.&nbsp;
Support for Special Addresses</h3>

<p>A user may forward mail from special purpose addresses, such as
     those described in <a class='info' href='#MBOX-NAMES'>[MBOX&#8209;NAMES]<span> (</span><span class='info'>Crocker, D., &ldquo;MAILBOX NAMES FOR COMMON SERVICES, ROLES AND FUNCTIONS,&rdquo; May&nbsp;1997.</span><span>)</span></a> to a subaddress of their primary
     account.  This avoids the need to login as multiple users while
     still keeping the mail separated.
</p>
<a name="anchor18"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.5"></a><h3>A.5.&nbsp;
Priority Categorization</h3>

<p>A user may advertise different detailed addresses to different audiences
     and prioritize reading them appropriately.  For example, one of the
     current esteemed area directors uses an "ietf" detail part to
     prioritize IETF traffic separately from regular email.
</p>
<a name="bank"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.6"></a><h3>A.6.&nbsp;
Anti-Phishing</h3>

<p>If a user provides their bank with a unique detailed address, then any messages
  arriving either to the primary address or to a different detailed address are more easily detirmined to be fraudulent, and can be easily filtered out.
</p>
<p>This effectively uses the detailed address as a weak authorization token, so it is advisable to choose a random or unusual detail part.
</p>
<a name="anchor19"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.B"></a><h3>Appendix B.&nbsp;
Open Issues and Discussion</h3>

<p>This section will hopefully be empty prior to publication as an RFC.
</p>
<p>The author is aware of two main areas of contention which stalled the original document. Firstly, the choice of subaddress delimiter character is not universal, nor even the choice of having one at all. Unfortunately, a choice must be made for interoperability, therefore the plus character remains specified by this document, being the most common case.
</p>
<p>Secondly, the recommendation in <a class='info' href='#mlm'>Section&nbsp;4.4<span> (</span><span class='info'>Mailing List Server Requirements</span><span>)</span></a> effectively means that mailing list management software is encouraged into interpreting the local-part of addresses in foreign domains. This recommendation has been reduced in this version - to requiring that the ability be present, and possible to configure by the subscriber. It is the author's assertion that modern mailing list management software is typically able to be configured by the subscriber in many ways already, so this ought to settle contention.
</p>
<a name="anchor20"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.B.1"></a><h3>B.1.&nbsp;
To-do</h3>

<p>This is likely to break <a class='info' href='#MIXER'>[MIXER]<span> (</span><span class='info'>Kille, S., &ldquo;MIXER (Mime Internet X.400 Enhanced Relay): Mapping between X.400 and RFC 822/MIME,&rdquo; January&nbsp;1998.</span><span>)</span></a> - either a solution or advice will be needed here.
</p>
<p>Need to switch to and use terminology within <a class='info' href='#MAIL-ARCH'>[MAIL&#8209;ARCH]<span> (</span><span class='info'>Crocker, D., &ldquo;Internet Mail Architecture,&rdquo; May&nbsp;2007.</span><span>)</span></a>, rather than defining potentially clashing terminology.
</p>
<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Author's Address</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Dave Cridland</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Isode Limited</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">5 Castle Business Village</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">36, Station Road</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Hampton, Middlesex  TW12 2BX</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">GB</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:dave.cridland@isode.com">dave.cridland@isode.com</a></td></tr>
</table>
<a name="rfc.copyright"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Full Copyright Statement</h3>
<p class='copyright'>
Copyright &copy; The IETF Trust (2007).</p>
<p class='copyright'>
This document is subject to the rights,
licenses and restrictions contained in BCP&nbsp;78,
and except as set forth therein,
the authors retain all their rights.</p>
<p class='copyright'>
This document and the information contained herein are provided
on an &ldquo;AS IS&rdquo; basis and THE CONTRIBUTOR,
THE ORGANIZATION HE/SHE REPRESENTS
OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST
AND THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT
THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY
IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR
PURPOSE.</p>
<h3>Intellectual Property</h3>
<p class='copyright'>
The IETF takes no position regarding the validity or scope of any
Intellectual Property Rights or other rights that might be claimed
to pertain to the implementation or use of the technology
described in this document or the extent to which any license
under such rights might or might not be available; nor does it
represent that it has made any independent effort to identify any
such rights.
Information on the procedures with respect to
rights in RFC documents can be found in BCP&nbsp;78 and BCP&nbsp;79.</p>
<p class='copyright'>
Copies of IPR disclosures made to the IETF Secretariat and any
assurances of licenses to be made available,
or the result of an attempt made to obtain a general license or
permission for the use of such proprietary rights by implementers or
users of this specification can be obtained from the IETF on-line IPR
repository at <a href='http://www.ietf.org/ipr'>http://www.ietf.org/ipr</a>.</p>
<p class='copyright'>
The IETF invites any interested party to bring to its attention
any copyrights,
patents or patent applications,
or other
proprietary rights that may cover technology that may be required
to implement this standard.
Please address the information to the IETF at <a href='mailto:ietf-ipr@ietf.org'>ietf-ipr@ietf.org</a>.</p>
</body></html>
