



Network Working Group                                        C. Filsfils
Internet-Draft                                             D. Dukes, Ed.
Intended status: Informational                       Cisco Systems, Inc.
Expires: January 28, 2021                                       K. Patel
                                                            Arrcus, Inc.
                                                           July 27, 2020


        Analysis Framework For Extensions of SRv6 Encapsulation
         draft-filsfils-spring-analysis-fmwk-ext-srv6-encap-01

Abstract

   This document provides a framework for analysis of multiple proposals
   to extend SRv6 encapsulation with the objective of minimizing
   encapsulation size or leveraging legacy equipment.  It defines
   relevant metrics to evaluate each proposal.

Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on January 28, 2021.

Copyright Notice

   Copyright (c) 2020 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents



Filsfils, et al.        Expires January 28, 2021                [Page 1]

Internet-Draft         SRv6 Encapsulation Analysis             July 2020


   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Metrics . . . . . . . . . . . . . . . . . . . . . . . . . . .   2
     2.1.  Compliance  . . . . . . . . . . . . . . . . . . . . . . .   3
     2.2.  Data Plane Efficiency . . . . . . . . . . . . . . . . . .   4
     2.3.  State Efficiency  . . . . . . . . . . . . . . . . . . . .   4
     2.4.  Encapsulation Size  . . . . . . . . . . . . . . . . . . .   4
   3.  Variables For Metrics . . . . . . . . . . . . . . . . . . . .   4
   4.  Analysis of Proposals . . . . . . . . . . . . . . . . . . . .   5
   5.  Normative References  . . . . . . . . . . . . . . . . . . . .   5
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   6

1.  Introduction

   Traffic traversing an SR domain is encapsulated in an outer IPv6
   header with an optional Segment Routing Header (SRH) for its journey
   through the SR domain [I-D.ietf-6man-segment-routing-header].

   This document provides a framework for analysis of multiple proposals
   to extend SRv6 encapsulation with the objective of minimizing
   encapsulation size or leveraging legacy equipment.  It defines
   relevant metrics to evaluate each proposal.

   Future revisions will evaluate and document the metrics for each
   proposal, compare them and draw conclusions.

2.  Metrics

   Metrics are identified as metric:score.  Metric is the abbreviation
   of the metric name, and score is an integer reporting its evaluation.
   A proposal with a metric (M) and score of zero is represented as M:0.

   A score may vary based on the number and type of instructions in a
   segment list.  Three types of segments are considered: T for
   topological, S for service, and V for VPN.

   A proposal with a metric (M), computed for a segment list of 5
   topological segments followed by 1 VPN segment, with a score of 10 is
   represented as M(5T.1V):10.



Filsfils, et al.        Expires January 28, 2021                [Page 2]

Internet-Draft         SRv6 Encapsulation Analysis             July 2020


   A score may vary based on node parameters.  Three parameters are
   considered: N the number of nodes in the network, I the number of IGP
   algorithms [I-D.ietf-lsr-flex-algo] configured at the node, and A the
   number of adjacency SIDs configured at the node.

   A proposal with metric (M), computed for a node in a network of 100
   nodes with 1 IGP algorithm and 5 adjacency SIDs configured at the
   node, with a score of 10 is represented by M(100N.1I.5A):10.

2.1.  Compliance

   The compliance metric (C) records how aligned a proposal is with the
   SRv6 solution.

   o  C.RFC8402: compliance with [RFC8402]

   o  C.SRH: compliance with [I-D.ietf-6man-segment-routing-header]

   o  C.PGM: compliance with [I-D.ietf-spring-srv6-network-programming]

   o  C.IGP: compliance with [I-D.ietf-lsr-isis-srv6-extensions]

   o  C.BGP: compliance with [I-D.ietf-bess-srv6-services]

   o  C.POL: compliance with [I-D.ietf-spring-segment-routing-policy]

   o  C.BLS: compliance with [I-D.ietf-idr-bgpls-srv6-ext]

   o  C.SVC: compliance with [I-D.ietf-spring-sr-service-programming]

   o  C.OAM: compliance with [I-D.ietf-6man-spring-srv6-oam]

   Each of the above metrics are assigned a compliance value:

   o  10: complies with the specification

   o  5: extends the specification

   o  0: redefines the specification

   C.TOT is the sum of all C.* metrics listed above.  It provides an
   overall assessment of the proposal's alignment with the SRv6 RFCs and
   working group drafts.








Filsfils, et al.        Expires January 28, 2021                [Page 3]

Internet-Draft         SRv6 Encapsulation Analysis             July 2020


2.2.  Data Plane Efficiency

   The data plane efficiency metric (D) records the data plane
   forwarding efficiency of the proposed solution.  Two separate metrics
   are used:

   o  D.PRS(segment list): worst-case number of headers parsed during
      processing of the segment list.

   o  D.LKU(segment list): worst-case number of FIB lookups during
      processing of the segment list.

2.3.  State Efficiency

   The state efficiency metric (S) records the number of additional FIB
   entries (states) required by the proposed solution.

   o  S(node parameters): the number of additional FIB entries for a
      node, given a set of parameters.

2.4.  Encapsulation Size

   The encapsulation size metric (E) records the number of bytes
   required for the proposals

   o  E(segment list): the number of bytes required to encapsulate a
      packet traversing the SR domain with segment list applied at an SR
      source node.  Specifically, the number of bytes from the beginning
      of the encapsulating IPv6 header to the beginning of the packet
      traversing the SR domain, including any and all headers in
      between.

3.  Variables For Metrics

   For the E, D.PRS, D.LKU metrics the following segment lists are used
   during analysis.

   o  5T.1V

   o  10T.1V

   o  15T.1V

   o  5T.1S.5T.1V

   o  4T.1S.4T.1S.4T.1V

   This list may be updated in subsequent revisions of this document.



Filsfils, et al.        Expires January 28, 2021                [Page 4]

Internet-Draft         SRv6 Encapsulation Analysis             July 2020


   For the S metric the following node parameters are used in analysis.

   o  1500N.2I.100A

   This list may be updated in subsequent revisions of this document.

4.  Analysis of Proposals

   To be completed in subsequent revisions of this document.

5.  Normative References

   [I-D.ietf-6man-segment-routing-header]
              Filsfils, C., Dukes, D., Previdi, S., Leddy, J.,
              Matsushima, S., and D. Voyer, "IPv6 Segment Routing Header
              (SRH)", draft-ietf-6man-segment-routing-header-26 (work in
              progress), October 2019.

   [I-D.ietf-6man-spring-srv6-oam]
              Ali, Z., Filsfils, C., Matsushima, S., Voyer, D., and M.
              Chen, "Operations, Administration, and Maintenance (OAM)
              in Segment Routing Networks with IPv6 Data plane (SRv6)",
              draft-ietf-6man-spring-srv6-oam-07 (work in progress),
              July 2020.

   [I-D.ietf-bess-srv6-services]
              Dawra, G., Filsfils, C., Raszuk, R., Decraene, B., Zhuang,
              S., and J. Rabadan, "SRv6 BGP based Overlay services",
              draft-ietf-bess-srv6-services-03 (work in progress), July
              2020.

   [I-D.ietf-idr-bgpls-srv6-ext]
              Dawra, G., Filsfils, C., Talaulikar, K., Chen, M.,
              daniel.bernier@bell.ca, d., and B. Decraene, "BGP Link
              State Extensions for SRv6", draft-ietf-idr-bgpls-
              srv6-ext-03 (work in progress), July 2020.

   [I-D.ietf-lsr-flex-algo]
              Psenak, P., Hegde, S., Filsfils, C., Talaulikar, K., and
              A. Gulko, "IGP Flexible Algorithm", draft-ietf-lsr-flex-
              algo-08 (work in progress), July 2020.

   [I-D.ietf-lsr-isis-srv6-extensions]
              Psenak, P., Filsfils, C., Bashandy, A., Decraene, B., and
              Z. Hu, "IS-IS Extension to Support Segment Routing over
              IPv6 Dataplane", draft-ietf-lsr-isis-srv6-extensions-08
              (work in progress), April 2020.




Filsfils, et al.        Expires January 28, 2021                [Page 5]

Internet-Draft         SRv6 Encapsulation Analysis             July 2020


   [I-D.ietf-spring-segment-routing-policy]
              Filsfils, C., Talaulikar, K., Voyer, D., Bogdanov, A., and
              P. Mattes, "Segment Routing Policy Architecture", draft-
              ietf-spring-segment-routing-policy-08 (work in progress),
              July 2020.

   [I-D.ietf-spring-sr-service-programming]
              Clad, F., Xu, X., Filsfils, C., daniel.bernier@bell.ca,
              d., Li, C., Decraene, B., Ma, S., Yadlapalli, C.,
              Henderickx, W., and S. Salsano, "Service Programming with
              Segment Routing", draft-ietf-spring-sr-service-
              programming-02 (work in progress), March 2020.

   [I-D.ietf-spring-srv6-network-programming]
              Filsfils, C., Camarillo, P., Leddy, J., Voyer, D.,
              Matsushima, S., and Z. Li, "SRv6 Network Programming",
              draft-ietf-spring-srv6-network-programming-16 (work in
              progress), June 2020.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.

   [RFC8402]  Filsfils, C., Ed., Previdi, S., Ed., Ginsberg, L.,
              Decraene, B., Litkowski, S., and R. Shakir, "Segment
              Routing Architecture", RFC 8402, DOI 10.17487/RFC8402,
              July 2018, <https://www.rfc-editor.org/info/rfc8402>.

Authors' Addresses

   Clarence Filsfils
   Cisco Systems, Inc.
   Belgium

   Email: cfilsfil@cisco.com


   Darren Dukes (editor)
   Cisco Systems, Inc.
   Ottawa
   Canada

   Email: ddukes@cisco.com







Filsfils, et al.        Expires January 28, 2021                [Page 6]

Internet-Draft         SRv6 Encapsulation Analysis             July 2020


   Keyur Patel
   Arrcus, Inc.
   USA

   Email: keyur@arrcus.com














































Filsfils, et al.        Expires January 28, 2021                [Page 7]
