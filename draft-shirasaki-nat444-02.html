<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>NAT444</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="NAT444">
<meta name="keywords" content="Large-Scale,NAT">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 60em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 60em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Internet Engineering Task Force</td><td class="header">I. Yamagata</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Y. Shirasaki</td></tr>
<tr><td class="header">Intended status: Informational</td><td class="header">NTT Communications</td></tr>
<tr><td class="header">Expires: January 13, 2011</td><td class="header">A. Nakagawa</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Japan Internet Exchange (JPIX)</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">J. Yamaguchi</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">IIJ</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">H. Ashida</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">iTSCOM</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">July 12, 2010</td></tr>
</table></td></tr></table>
<h1><br />NAT444<br />draft-shirasaki-nat444-02</h1>

<h3>Abstract</h3>

<p>This document describes one of the network models that
	are designed for smooth transition to IPv6.
	It is called NAT444 model. NAT444 model is composed of IPv6,
	and IPv4 with Large Scale NAT (LSN).
</p>
<p>NAT444 is the only scheme not to require replacing Customer Premises Equipment (CPE) even if IPv4 address exhausted.  But it must be noted that NAT444 has serious restrictions i.e. it limits the number of sessions per CPE so that rich applications such as AJAX and RSS feed cannot work well.
</p>
<p>Therefore, IPv6 which is free from such a difficulty has to be introduced into the network at the same time.  In other words, NAT444 is just a tool to make IPv6 transition easy to be swallowed.  It is designed for the days IPv4 and IPv6 co-existence.
</p>
<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted  in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF).  Note that other groups may also distribute
working documents as Internet-Drafts.  The list of current
Internet-Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
This Internet-Draft will expire on January 13, 2011.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2010 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents
(http://trustee.ietf.org/license-info) in effect on the date of
publication of this document.  Please review these documents
carefully, as they describe your rights and restrictions with respect
to this document. Code Components extracted from this document must
include Simplified BSD License text as described in Section 4.e of
the Trust Legal Provisions and are provided without warranty as
described in the Simplified BSD License.</p>
<a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
<a href="#anchor2">2.</a>&nbsp;
Definition of NAT444 Model<br />
<a href="#behavior">3.</a>&nbsp;
Behavior of NAT444 Model<br />
<a href="#proscons">4.</a>&nbsp;
Pros and Cons of NAT444 Model<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#pros">4.1.</a>&nbsp;
Pros of NAT444 Model<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#cons">4.2.</a>&nbsp;
Cons of NAT444 Model<br />
<a href="#Acknowledgements">5.</a>&nbsp;
Acknowledgements<br />
<a href="#IANA">6.</a>&nbsp;
IANA Considerations<br />
<a href="#Security">7.</a>&nbsp;
Security Considerations<br />
<a href="#rfc.references1">8.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">8.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">8.2.</a>&nbsp;
Informative References<br />
<a href="#transition">Appendix&nbsp;A.</a>&nbsp;
Example IPv6 Transition Scenario<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>The only permanent solution of the IPv4 address exhaustion is to deploy IPv6. Now, just before the exhaustion, it's time to make a transition to IPv6.
</p>
<p>After the exhaustion, unless ISP takes any action, end users will not be able to get IPv4 address.
</p>
<p>The servers that have only IPv4 address will continue to exist on the Internet after the IPv4 address exhaustion.
In this situation, IPv6 only hosts cannot reach IPv4 only hosts.
</p>
<p>This document explains NAT444 model that bridges the gap between the coming IPv6 Internet and the present IPv4 Internet.
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Definition of NAT444 Model</h3>

<p>NAT444 Model is a network model that uses
	two Network Address and Port Translators (NAPTs)
	with three types of IPv4 address blocks.
</p>
<p>The first NAPT is in CPE, and the second NAPT is in
	<a class='info' href='#I-D.nishitani-cgn'>Large Scale NAT (LSN)<span> (</span><span class='info'>Yamagata, I., Nishitani, T., Miyakawa, S., Nakagawa, A., and H. Ashida, &ldquo;Common requirements for IP address sharing schemes,&rdquo; March&nbsp;2010.</span><span>)</span></a> [I&#8209;D.nishitani&#8209;cgn].
	LSN is supposed to be installed in the ISP's network.
</p>
<p>The first IPv4 address block is
	<a class='info' href='#RFC1918'>Private Address<span> (</span><span class='info'>Rekhter, Y., Moskowitz, R., Karrenberg, D., Groot, G., and E. Lear, &ldquo;Address Allocation for Private Internets,&rdquo; February&nbsp;1996.</span><span>)</span></a> [RFC1918] inside CPE.
	The second one is an IPv4 Address block between CPEs and LSN.
	The third one is IPv4 Global Addresses that is outside LSN.
	The ISPs using NAT444 provide IPv6 connectivity by dual stack model.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    (The IPv4 Internet)    (The IPv6 Internet)
             |                       |
             +---------+             |
IPv4 Global Address    |             |
              +--------+--------+    |
              |       LSN       |    |
              +--------+--------+    |
                  IPv4 |             | IPv6
                       +-------------+
            Dual Stack |
       +---------------+----------------+
       |  IPv4 NAT/IPv6 Dual Stack CPE  |
       +---------------+----------------+
IPv4 Private Address / |
IPv6 Dual Stack        |
           +-----------+-------------+
           |IPv4/IPv6 Dual Stack host|
           +-------------------------+
</pre></div>
<a name="behavior"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Behavior of NAT444 Model</h3>

<p>The IPv6 packets from the host reach the IPv6 Internet without using NAT functionality.
</p>
<p>The following figure shows the behavior of the IPv4 packet from the host to the IPv4 server via two NATs. The first NAT in CPE overwrites the Source IP Address and Source Port from 10.0.0.2:tt to w.w.w.w:uu. Then the second NAT in LSN overwrites them from w.w.w.w:uu to y.y.y.y:vv. 
 Destination IP Address and Port are not overwritten.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
             +-------------+
(Port=80)    | IPv4 Server |  ^
   x.x.x.x-&gt; +------+------+  :
                    |         :
IPv4 Global Address |         :
                    |         :
           (The IPv4 Internet):(Dst=x.x.x.x:80/Src=y.y.y.y:vv)
                    |         :
IPv4 Global Address |         :
                    |         :
    y.y.y.y-&gt;  +----+----+    :
     (Port=vv) |   LSN   |    ^
    z.z.z.z-&gt;  +----+----+    :
                    |         :
       IPv4 Address |         :(Dst=x.x.x.x:80/Src=w.w.w.w:uu)
                    |         :
  w.w.w.w-&gt; +-------+-------+ :
  (Port=uu) | IPv4 NAT CPE  | ^
 10.0.0.1-&gt; +-------+-------+ :
                    |         :
IPv4 Private Address|         :
                    |         :
   10.0.0.2-&gt;  +----+----+    :(Dst=x.x.x.x:80/Src=10.0.0.2:tt)
     (Port=tt) |IPv4 Host|
               +---------+
</pre></div>
<p>The following figure explains the behavior of returning IPv4 packet via two NATs. The first NAT in LSN overwrites the Destination IP Address and Port Number from y.y.y.y:vv to w.w.w.w:uu.  Then the second NAT in CPE overwrites them from w.w.w.w:u to 10.0.0.2:tt.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
              +-------------+
    (Port=80) | IPv4 Server |  :
    x.x.x.x-&gt; +------+------+  :
                     |         :
 IPv4 Global Address |         :
                     |         :
            (The IPv4 Internet):(Dst=y.y.y.y:vv/Src=x.x.x.x:80)
                     |         :
IPv4 Global Address  |         :
                     |         :
      y.y.y.y-&gt; +----+----+    :
      (Port=vv) |   LSN   |    v
      z.z.z.z-&gt; +----+----+    :
                     |         :
       IPv4 Address  |         :(Dst=w.w.w.w:uu/Src=x.x.x.x:80)
                     |         :
   w.w.w.w-&gt; +-------+-------+ :
   (Port=uu) | IPv4 NAT CPE  | v
  10.0.0.1-&gt; +-------+-------+ :
                     |         :
IPv4 Private Address |         :(Dst=10.0.0.2:tt/Src=x.x.x.x:80)
                     |         :
     10.0.0.2-&gt; +----+----+    :
      (Port=tt) |IPv4 Host|    v
                +---------+
</pre></div>
<a name="proscons"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Pros and Cons of NAT444 Model</h3>

<a name="pros"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1"></a><h3>4.1.&nbsp;
Pros of NAT444 Model</h3>

<p>This network model has following advantages.
</p>
<p> - This is the only network model that doesn't require replacing CPEs those are owned by customers.<br />

	  - This network model is composed of the present technology.<br />

	  - This network model doesn't require address family translation.<br />

	  - This network model doesn't require DNS rewriting.<br />

	  - This network model doesn't require additional fragment for the packets because it doesn't use tunneling technology.
</p>
<a name="cons"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2"></a><h3>4.2.&nbsp;
Cons of NAT444 Model</h3>

<p>This network model has some technical restrictions.
</p>
<p>- Some application such as SIP requires special treatment,
	  because IP address is written in the payload of the packet.
	  Special treatment means application itself aware double NAPT
	  or both of two NAPTs support inspecting and rewriting the packets.
	  <br />

	  - Because both IPv4 route and IPv6 route exist,
	  it doubles the number of IGP route inside the LSN.
	  <br />

	  - UPnP doesn't work with double NAPTs.
</p>
<a name="Acknowledgements"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Acknowledgements</h3>

<p>Thanks for the input and review by Shin Miyakawa, Shirou Niinobe, Takeshi Tomochika, Tomohiro Fujisaki, Dai Nishino,
	    JP address community members, AP address community members
	    and JPNIC members.
</p>
<a name="IANA"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
IANA Considerations</h3>

<p>There are no IANA considerations.
</p>
<a name="Security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Security Considerations</h3>

<p>Each customer inside a LSN looks using the same Global Address
	from outside an ISP.
	In case of incidents,
	the ISP must have the function to trace back the record
	of each customer's access without using	only IP address.
</p>
<p>If a Global Address of the LSN is listed on the blacklist,
	other customers who share the same address could be affected.
      
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>8.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC1918">[RFC1918]</a></td>
<td class="author-text"><a href="mailto:yakov@cisco.com">Rekhter, Y.</a>, <a href="mailto:rgm3@is.chrysler.com">Moskowitz, R.</a>, <a href="mailto:Daniel.Karrenberg@ripe.net">Karrenberg, D.</a>, <a href="mailto:GeertJan.deGroot@ripe.net">Groot, G.</a>, and <a href="mailto:lear@sgi.com">E. Lear</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc1918">Address Allocation for Private Internets</a>,&rdquo; BCP&nbsp;5, RFC&nbsp;1918, February&nbsp;1996 (<a href="http://www.rfc-editor.org/rfc/rfc1918.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4925">[RFC4925]</a></td>
<td class="author-text">Li, X., Dawkins, S., Ward, D., and A. Durand, &ldquo;<a href="http://tools.ietf.org/html/rfc4925">Softwire Problem Statement</a>,&rdquo; RFC&nbsp;4925, July&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc4925.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.nishitani-cgn">[I-D.nishitani-cgn]</a></td>
<td class="author-text">Yamagata, I., Nishitani, T., Miyakawa, S., Nakagawa, A., and H. Ashida, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-nishitani-cgn-04.txt">Common requirements for IP address sharing schemes</a>,&rdquo; draft-nishitani-cgn-04 (work in progress), March&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-nishitani-cgn-04.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>8.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="I-D.shirasaki-isp-shared-addr">[I-D.shirasaki-isp-shared-addr]</a></td>
<td class="author-text">Yamagata, I., Miyakawa, S., Nakagawa, A., Yamaguchi, J., and H. Ashida, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-shirasaki-isp-shared-addr-04.txt">ISP Shared Address</a>,&rdquo; draft-shirasaki-isp-shared-addr-04 (work in progress), March&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-shirasaki-isp-shared-addr-04.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.shirasaki-nat444-isp-shared-addr">[I-D.shirasaki-nat444-isp-shared-addr]</a></td>
<td class="author-text">Shirasaki, Y., Miyakawa, S., Nakagawa, A., Yamaguchi, J., and H. Ashida, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-shirasaki-nat444-isp-shared-addr-03.txt">NAT444 addressing models</a>,&rdquo; draft-shirasaki-nat444-isp-shared-addr-03 (work in progress), March&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-shirasaki-nat444-isp-shared-addr-03.txt">TXT</a>).</td></tr>
</table>

<a name="transition"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A"></a><h3>Appendix A.&nbsp;
Example IPv6 Transition Scenario</h3>

<p>The steps of IPv6 transition are as follows.
</p>
<p>Step 1: Enabling softwire client in host
</p>
<p>ISP provides IPv6 connectivity to customers with <a class='info' href='#RFC4925'>softwire<span> (</span><span class='info'>Li, X., Dawkins, S., Ward, D., and A. Durand, &ldquo;Softwire Problem Statement,&rdquo; July&nbsp;2007.</span><span>)</span></a> [RFC4925]. ISP installs LSN and softwire concentrator in its network. A softwire client in host connects to the IPv6 internet via ISP's concentrator.
ISP can use existing IPv4 equipments. Customers can just use existing CPE.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  (The IPv4 Internet)  (The IPv6 Internet)
           |                    | IPv6
           |        +-----------+-----------+
           |        | Softwire Concentrator |
           |        +-----------+-----------+
           +---------+----------+  ^
 IPv4 Global Address |             :
          +----------+----------+  :
          |         LSN         |  :
          +----------+----------+  :
    Any IPv4 Address |             : IPv6 over IPv4 Softwire
       (ISP Network) |             : (e.g. IPv6 over IPv4 L2TP)
          +----------+----------+  :
          |  IPv4 NAT only CPE  |  :
          +----------+----------+  :
IPv4 Private Address |             v
     +---------------+-----------------+
     |IPv4/IPv6 Softwire Client in host|
     +---------------------------------+
</pre></div>
<p>Step 2: Enabling softwire client in CPE
</p>
<p>A customer enables softwire client in CPE. A softwire client in CPE connects to the IPv6 internet via ISP's concentrator. A Customer's network is now dual stack.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    (The IPv4 Internet)    (The IPv6 Internet)
             |                      | IPv6
             |           +----------+------------+
             |           | Softwire Concentrator |
             |           +----------+------------+
             +---------+------------+  ^
IPv4 Global Address    |               :
            +----------+------------+  :
            |         LSN           |  : IPv6 over IPv4 Softwire
            +----------+------------+  : (e.g. IPv6 over IPv4 L2TP)
      Any IPv4 Address |               :
        (ISP Network)  |               v
       +---------------+--------------------+
       |IPv4 NAT/IPv6 Softwire client in CPE|
       +---------------+--------------------+
IPv4 Private Address / |
IPv6 Dual Stack        |
           +-----------+-------------+
           |IPv4/IPv6 Dual Stack host|
           +-------------------------+
</pre></div>
<p>Step 3: Moving on to dual stack
</p>
<p>ISP provides dual stack access to CPE. A CPE uplink is now dual stack.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    (The IPv4 Internet)    (The IPv6 Internet)
             |                       |
             +---------+             |
IPv4 Global Address    |             |
              +--------+--------+    |
              |       LSN       |    | IPv6
              +--------+--------+    |
    Any IPv4 Address / |             |
     IPv6 Dual Stack   +-------------+
        (ISP Network)  |
       +---------------+----------------+
       |  IPv4 NAT/IPv6 Dual Stack CPE  |
       +---------------+----------------+
IPv4 Private Address / |
IPv6 Dual Stack        |
           +-----------+-------------+
           |IPv4/IPv6 Dual Stack host|
           +-------------------------+
</pre></div>
<p> Step 4: Moving on to pure IPv6
</p>
<p>IPv6 transition completes.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
(The IPv6 Internet)
         |
    IPv6 |
+--------+----------+
|     IPv6 CPE      |
+--------+----------+
    IPv6 |
+--------+----------+
|     IPv6 host     |
+-------------------+
</pre></div>
<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Ikuhei Yamagata</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">NTT Communications Corporation</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Granpark Tower 17F, 3-4-1 Shibaura, Minato-ku</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Tokyo  108-8118</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Japan</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+81 3 6733 8671</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:ikuhei@nttv6.jp">ikuhei@nttv6.jp</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Yasuhiro Shirasaki</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">NTT Communications Corporation</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">NTT Hibiya Bldg. 7F, 1-1-6 Uchisaiwai-cho, Chiyoda-ku</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Tokyo  100-8019</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Japan</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+81 3 6700 8530</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:yasuhiro@nttv6.jp">yasuhiro@nttv6.jp</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Akira Nakagawa</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Japan Internet Exchange Co., Ltd. (JPIX)</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Otemachi Building 21F, 1-8-1 Otemachi, Chiyoda-ku</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Tokyo  100-0004</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Japan</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+81 90 9242 2717</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:a-nakagawa@jpix.ad.jp">a-nakagawa@jpix.ad.jp</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Jiro Yamaguchi</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Internet Initiative Japan Inc.</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Kakyoin Square Bldg., 15F, 1-1-20 Kakyoin, Aoba-ku</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Sendai  980-0013</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Japan</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+81 22 216 5650</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:jiro-y@iij.ad.jp">jiro-y@iij.ad.jp</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Hiroyuki Ashida</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">its communications Inc.</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">3-5-7 Hisamoto Takatsu-ku Kawasaki-shi</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Kanagawa  213-0011</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Japan</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:ashida@itscom.ad.jp">ashida@itscom.ad.jp</a></td></tr>
</table>
</body></html>
