<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard%20http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>Revision of the Binary Floor Control Protocol (BFCP) for use over an unreliable transport</title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";3
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction">
<link href="#rfc.section.2" rel="Chapter" title="2 Terminology">
<link href="#rfc.section.3" rel="Chapter" title="3 Motivation">
<link href="#rfc.section.3.1" rel="Chapter" title="3.1 Alternatives Considered">
<link href="#rfc.section.3.1.1" rel="Chapter" title="3.1.1 ICE TCP">
<link href="#rfc.section.3.1.2" rel="Chapter" title="3.1.2 Teredo">
<link href="#rfc.section.3.1.3" rel="Chapter" title="3.1.3 GUT">
<link href="#rfc.section.3.1.4" rel="Chapter" title="3.1.4 UPnP IGD">
<link href="#rfc.section.3.1.5" rel="Chapter" title="3.1.5 NAT PMP">
<link href="#rfc.section.4" rel="Chapter" title="4 Difference from RFC4582">
<link href="#rfc.section.4.1" rel="Chapter" title="4.1 Overview of Operation (4)">
<link href="#rfc.section.4.1.1" rel="Chapter" title="4.1.1 Floor Participant to Floor Control Server Interface (4.1)">
<link href="#rfc.section.4.2" rel="Chapter" title="4.2 COMMON-HEADER Format (5.1)">
<link href="#rfc.section.4.3" rel="Chapter" title="4.3 ERROR-CODE (5.2.6)">
<link href="#rfc.section.4.4" rel="Chapter" title="4.4 FloorRequestStatusAck (5.3.14)">
<link href="#rfc.section.4.5" rel="Chapter" title="4.5 ErrorAck (5.3.15)">
<link href="#rfc.section.4.6" rel="Chapter" title="4.6 FloorStatusAck (5.3.16)">
<link href="#rfc.section.4.7" rel="Chapter" title="4.7 Goodbye (5.3.17)">
<link href="#rfc.section.4.8" rel="Chapter" title="4.8 GoodbyeAck (5.3.18)">
<link href="#rfc.section.4.9" rel="Chapter" title="4.9 Transport (6)">
<link href="#rfc.section.4.9.1" rel="Chapter" title="4.9.1 Reliable Transport (6.1)">
<link href="#rfc.section.4.9.2" rel="Chapter" title="4.9.2 Unreliable Transport (6.2)">
<link href="#rfc.section.4.9.2.1" rel="Chapter" title="4.9.2.1 Congestion Control">
<link href="#rfc.section.4.9.2.2" rel="Chapter" title="4.9.2.2 ICMP Error Handling">
<link href="#rfc.section.4.9.3" rel="Chapter" title="4.9.3 Large Message Considerations">
<link href="#rfc.section.4.10" rel="Chapter" title="4.10 Lower-Layer Security (7)">
<link href="#rfc.section.4.11" rel="Chapter" title="4.11 Protocol Transactions (8)">
<link href="#rfc.section.4.12" rel="Chapter" title="4.12 Server Behavior (8.2)">
<link href="#rfc.section.4.13" rel="Chapter" title="4.13 Timers (8.3)">
<link href="#rfc.section.4.14" rel="Chapter" title="4.14 Request Retransmission Timer, T1 (8.3.1)">
<link href="#rfc.section.4.15" rel="Chapter" title="4.15 Response Retransmission Timer, T2 (8.3.2)">
<link href="#rfc.section.4.16" rel="Chapter" title="4.16 Timer Values (8.3.3)">
<link href="#rfc.section.4.17" rel="Chapter" title="4.17 Authentication and Authorization (9)">
<link href="#rfc.section.4.17.1" rel="Chapter" title="4.17.1 TLS Based Mutual Authentication (9.1)">
<link href="#rfc.section.4.18" rel="Chapter" title="4.18 Receiving a Response [to a FloorRequest Message] (10.1.2)">
<link href="#rfc.section.4.19" rel="Chapter" title="4.19 Receiving a Response [to a FloorRelease Message] (10.2.2)">
<link href="#rfc.section.4.20" rel="Chapter" title="4.20 Receiving a Response [to a ChairAction Message] (11.2)">
<link href="#rfc.section.4.21" rel="Chapter" title="4.21 Receiving a Response [to a FloorQuery Message] (12.1.2)">
<link href="#rfc.section.4.22" rel="Chapter" title="4.22 Receiving a Response [to a FloorRequestQuery Message] (12.2.2)">
<link href="#rfc.section.4.23" rel="Chapter" title="4.23 Receiving a Response [to a UserQuery Message] (12.3.2)">
<link href="#rfc.section.4.24" rel="Chapter" title="4.24 Receiving a Response [to a Hello Message] (12.4.2)">
<link href="#rfc.section.4.25" rel="Chapter" title="4.25 Reception of a FloorRequestStatus Message (13.1.3)">
<link href="#rfc.section.4.26" rel="Chapter" title="4.26 Reception of a FloorStatus Message (13.5.3)">
<link href="#rfc.section.4.27" rel="Chapter" title="4.27 Reception of an Error Message (13.8.1)">
<link href="#rfc.section.4.28" rel="Chapter" title="4.28 Security Considerations (14)">
<link href="#rfc.section.4.29" rel="Chapter" title="4.29 IANA Considerations - Primitive Subregistry (15.2)">
<link href="#rfc.section.4.30" rel="Chapter" title="4.30 IANA Considerations - Error Code Subregistry (15.4)">
<link href="#rfc.section.4.31" rel="Chapter" title="4.31 Example Call Flows for BFCP over Unreliable Transport (Appendix A)">
<link href="#rfc.section.5" rel="Chapter" title="5 Revision of RFC4583">
<link href="#rfc.section.5.1" rel="Chapter" title="5.1 Fields in the 'm' Line (3)">
<link href="#rfc.section.5.2" rel="Chapter" title="5.2 Authentication (8)">
<link href="#rfc.section.5.3" rel="Chapter" title="5.3 Security Considerations (10)">
<link href="#rfc.section.5.4" rel="Chapter" title="5.4 Registration of SDP 'proto' Values (11.1)">
<link href="#rfc.section.6" rel="Chapter" title="6 NAT Traversal">
<link href="#rfc.section.7" rel="Chapter" title="7 Future Work">
<link href="#rfc.section.8" rel="Chapter" title="8 Acknowledgements">
<link href="#rfc.references" rel="Chapter" title="9 References">
<link href="#rfc.references.1" rel="Chapter" title="9.1 Normative References">
<link href="#rfc.references.2" rel="Chapter" title="9.2 Informative References">
<link href="#rfc.appendix.Appendix%20A" rel="Chapter" title="Appendix A Change History">
<link href="#rfc.appendix.Appendix%20A.1" rel="Chapter" title="Appendix A.1 draft-sandbakken-dispatch-bfcp-udp-02 to -03">
<link href="#rfc.appendix.Appendix%20A.2" rel="Chapter" title="Appendix A.2 draft-sandbakken-dispatch-bfcp-udp-01 to -02">
<link href="#rfc.appendix.Appendix%20A.3" rel="Chapter" title="Appendix A.3 draft-sandbakken-dispatch-bfcp-udp-00 to -01">
<link href="#rfc.appendix.Appendix%20A.4" rel="Chapter" title="Appendix A.4 draft-sandbakken-xcon-bfcp-udp-02 to draft-sandbakken-dispatch-bfcp-udp-00">
<link href="#rfc.appendix.Appendix%20A.5" rel="Chapter" title="Appendix A.5 draft-sandbakken-xcon-bfcp-udp-01 to -02">
<link href="#rfc.appendix.Appendix%20A.6" rel="Chapter" title="Appendix A.6 draft-sandbakken-xcon-bfcp-udp-00 to -01">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content=
  "http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.539, 2011-01-02 17:13:00, XSLT vendor: SAXON 6.5.5 from Michael Kay http://saxon.sf.net/" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />
  <meta name="dct.creator" content="Doe, J." />
  <meta name="dct.identifier" content="urn:ietf:id:draft-sample-input-00" />
  <meta name="dct.issued" scheme="ISO8601" content="2010-12" />
  
  <meta name="dct.abstract" content="This draft describes how to extend the Binary Floor Control Protocol (BFCP) for use over an unreliable transport. It details the differences from the BFCP protocol definition document and the Session Description Protocol (SDP) format specified for BFCP streams." />
  <meta name="description" content="This draft describes how to extend the Binary Floor Control Protocol (BFCP) for use over an unreliable transport. It details the differences from the BFCP protocol definition document and the Session Description Protocol (SDP) format specified for BFCP streams." />
  <meta name="keywords" content="" />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">Dispatch Working Group</td>
<td class="right">C. Eckel</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right">T. Kristensen</td>
</tr>
<tr>
<td class="left">Intended status: Informational</td>
<td class="right">M.K. Thompson</td>
</tr>
<tr>
<td class="left">Expires: May 03, 2012</td>
<td class="right">G.A. Sandbakken</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">E. McLeod</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">Cisco</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">October 31, 2011</td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">Revision of the Binary Floor Control Protocol (BFCP) for use over an unreliable transport<br />
  <span class="filename">draft-sandbakken-dispatch-bfcp-udp-03</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>This draft describes how to extend the Binary Floor Control Protocol (BFCP) for use over an unreliable transport. It details the differences from the BFCP protocol definition document and the Session Description Protocol (SDP) format specified for BFCP streams.</p>
<h1 id="rfc.status"><a href="#rfc.status">Status of this Memo</a></h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet- Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on May 03, 2012.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2011 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a>
</li>
<li>2.   <a href="#rfc.section.2">Terminology</a>
</li>
<li>3.   <a href="#rfc.section.3">Motivation</a>
</li>
<li>3.1.   <a href="#rfc.section.3.1">Alternatives Considered</a>
</li>
<li>3.1.1.   <a href="#rfc.section.3.1.1">ICE TCP</a>
</li>
<li>3.1.2.   <a href="#rfc.section.3.1.2">Teredo</a>
</li>
<li>3.1.3.   <a href="#rfc.section.3.1.3">GUT</a>
</li>
<li>3.1.4.   <a href="#rfc.section.3.1.4">UPnP IGD</a>
</li>
<li>3.1.5.   <a href="#rfc.section.3.1.5">NAT PMP</a>
</li>
<li>4.   <a href="#rfc.section.4">Difference from RFC4582</a>
</li>
<li>4.1.   <a href="#rfc.section.4.1">Overview of Operation (4)</a>
</li>
<li>4.1.1.   <a href="#rfc.section.4.1.1">Floor Participant to Floor Control Server Interface (4.1)</a>
</li>
<li>4.2.   <a href="#rfc.section.4.2">COMMON-HEADER Format (5.1)</a>
</li>
<li>4.3.   <a href="#rfc.section.4.3">ERROR-CODE (5.2.6)</a>
</li>
<li>4.4.   <a href="#rfc.section.4.4">FloorRequestStatusAck (5.3.14)</a>
</li>
<li>4.5.   <a href="#rfc.section.4.5">ErrorAck (5.3.15)</a>
</li>
<li>4.6.   <a href="#rfc.section.4.6">FloorStatusAck (5.3.16)</a>
</li>
<li>4.7.   <a href="#rfc.section.4.7">Goodbye (5.3.17)</a>
</li>
<li>4.8.   <a href="#rfc.section.4.8">GoodbyeAck (5.3.18)</a>
</li>
<li>4.9.   <a href="#rfc.section.4.9">Transport (6)</a>
</li>
<li>4.9.1.   <a href="#rfc.section.4.9.1">Reliable Transport (6.1)</a>
</li>
<li>4.9.2.   <a href="#rfc.section.4.9.2">Unreliable Transport (6.2)</a>
</li>
<li>4.9.2.1.   <a href="#rfc.section.4.9.2.1">Congestion Control</a>
</li>
<li>4.9.2.2.   <a href="#rfc.section.4.9.2.2">ICMP Error Handling</a>
</li>
<li>4.9.3.   <a href="#rfc.section.4.9.3">Large Message Considerations</a>
</li>
<li>4.10.   <a href="#rfc.section.4.10">Lower-Layer Security (7)</a>
</li>
<li>4.11.   <a href="#rfc.section.4.11">Protocol Transactions (8)</a>
</li>
<li>4.12.   <a href="#rfc.section.4.12">Server Behavior (8.2)</a>
</li>
<li>4.13.   <a href="#rfc.section.4.13">Timers (8.3)</a>
</li>
<li>4.14.   <a href="#rfc.section.4.14">Request Retransmission Timer, T1 (8.3.1)</a>
</li>
<li>4.15.   <a href="#rfc.section.4.15">Response Retransmission Timer, T2 (8.3.2)</a>
</li>
<li>4.16.   <a href="#rfc.section.4.16">Timer Values (8.3.3)</a>
</li>
<li>4.17.   <a href="#rfc.section.4.17">Authentication and Authorization (9)</a>
</li>
<li>4.17.1.   <a href="#rfc.section.4.17.1">TLS Based Mutual Authentication (9.1)</a>
</li>
<li>4.18.   <a href="#rfc.section.4.18">Receiving a Response [to a FloorRequest Message] (10.1.2)</a>
</li>
<li>4.19.   <a href="#rfc.section.4.19">Receiving a Response [to a FloorRelease Message] (10.2.2)</a>
</li>
<li>4.20.   <a href="#rfc.section.4.20">Receiving a Response [to a ChairAction Message] (11.2)</a>
</li>
<li>4.21.   <a href="#rfc.section.4.21">Receiving a Response [to a FloorQuery Message] (12.1.2)</a>
</li>
<li>4.22.   <a href="#rfc.section.4.22">Receiving a Response [to a FloorRequestQuery Message] (12.2.2)</a>
</li>
<li>4.23.   <a href="#rfc.section.4.23">Receiving a Response [to a UserQuery Message] (12.3.2)</a>
</li>
<li>4.24.   <a href="#rfc.section.4.24">Receiving a Response [to a Hello Message] (12.4.2)</a>
</li>
<li>4.25.   <a href="#rfc.section.4.25">Reception of a FloorRequestStatus Message (13.1.3)</a>
</li>
<li>4.26.   <a href="#rfc.section.4.26">Reception of a FloorStatus Message (13.5.3)</a>
</li>
<li>4.27.   <a href="#rfc.section.4.27">Reception of an Error Message (13.8.1)</a>
</li>
<li>4.28.   <a href="#rfc.section.4.28">Security Considerations (14)</a>
</li>
<li>4.29.   <a href="#rfc.section.4.29">IANA Considerations - Primitive Subregistry (15.2)</a>
</li>
<li>4.30.   <a href="#rfc.section.4.30">IANA Considerations - Error Code Subregistry (15.4)</a>
</li>
<li>4.31.   <a href="#rfc.section.4.31">Example Call Flows for BFCP over Unreliable Transport (Appendix A)</a>
</li>
<li>5.   <a href="#rfc.section.5">Revision of RFC4583</a>
</li>
<li>5.1.   <a href="#rfc.section.5.1">Fields in the 'm' Line (3)</a>
</li>
<li>5.2.   <a href="#rfc.section.5.2">Authentication (8)</a>
</li>
<li>5.3.   <a href="#rfc.section.5.3">Security Considerations (10)</a>
</li>
<li>5.4.   <a href="#rfc.section.5.4">Registration of SDP 'proto' Values (11.1)</a>
</li>
<li>6.   <a href="#rfc.section.6">NAT Traversal</a>
</li>
<li>7.   <a href="#rfc.section.7">Future Work</a>
</li>
<li>8.   <a href="#rfc.section.8">Acknowledgements</a>
</li>
<li>9.   <a href="#rfc.references">References</a>
</li>
<li>9.1.   <a href="#rfc.references.1">Normative References</a>
</li>
<li>9.2.   <a href="#rfc.references.2">Informative References</a>
</li>
<li>Appendix A.   <a href="#rfc.appendix.Appendix%20A">Change History</a>
</li>
<li>Appendix A.1.   <a href="#rfc.appendix.Appendix%20A.1">draft-sandbakken-dispatch-bfcp-udp-02 to -03</a>
</li>
<li>Appendix A.2.   <a href="#rfc.appendix.Appendix%20A.2">draft-sandbakken-dispatch-bfcp-udp-01 to -02</a>
</li>
<li>Appendix A.3.   <a href="#rfc.appendix.Appendix%20A.3">draft-sandbakken-dispatch-bfcp-udp-00 to -01</a>
</li>
<li>Appendix A.4.   <a href="#rfc.appendix.Appendix%20A.4">draft-sandbakken-xcon-bfcp-udp-02 to draft-sandbakken-dispatch-bfcp-udp-00</a>
</li>
<li>Appendix A.5.   <a href="#rfc.appendix.Appendix%20A.5">draft-sandbakken-xcon-bfcp-udp-01 to -02</a>
</li>
<li>Appendix A.6.   <a href="#rfc.appendix.Appendix%20A.6">draft-sandbakken-xcon-bfcp-udp-00 to -01</a>
</li>
<li><a href="#rfc.authors">Authors' Addresses</a>
</li>


  </ul>

  <h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> Introduction</h1>
<p id="rfc.section.1.p.1">This draft describes how to extend the BFCP protocol to support unreliable transport. Minor changes to the transaction model are introduced in that all requests now have an appropriate response to complete the transaction. The requests are sent with a retransmit timer associated with the response to achieve reliability.</p>
<p id="rfc.section.1.p.2">This extension does not change the semantics of BFCP. It permits UDP as an alternate transport. Existing implementations, in the spirit of the approach detailed in earlier versions of this draft (see <a href="#chghist">Appendix Appendix A</a>), have demonstrated the approach to be feasible. Initial compatibility among implementations has been achieved at previous interoperability events. The purpose of this draft is to formalize and publish the extension from the standard specification to facilitate complete interoperability between implementations.</p>
<p id="rfc.section.1.p.3">The content of this draft relates to the BFCP protocol specification <a href="#RFC4582">[RFC4582]</a> and the SDP format for describing BFCP streams <a href="#RFC4583">[RFC4583]</a>. This draft is written with the goal of identifying the extensions associated with adding support for UDP as an alternate transport to an existing BFCP implementation.</p>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> Terminology</h1>
<p id="rfc.section.2.p.1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a href="#RFC2119">[RFC2119]</a>.</p>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> <a href="#motivation" id="motivation">Motivation</a>
</h1>
<p id="rfc.section.3.p.1">In existing video conferencing deployments, BFCP is used to manage the floor for the content sharing associated with the conference. For peer to peer scenarios, including business to business conferences and point to point conferences in general, it is frequently the case that one or both endpoints exists behind a NAT/firewall. BFCP roles are negotiated in the offer/answer exchange as specified in <a href="#RFC4583">[RFC4583]</a>, resulting in one endpoint being responsible for opening the TCP connection used for the BFCP communication.</p>
<div id="#rfc.figure.1"></div>
<div id="#use_case"></div>
<pre>
             +---------+
             | Network |
             +---------+
      +-----+ /       \ +-----+
      | NAT |/         \| NAT |
      +-----+           +-----+
+----+ /                     \ +----+
|BFCP|/                       \|BFCP|
| UA |                         | UA |
+----+                         +----+ </pre>
<p></p>
<p id="rfc.section.3.p.3">The communication session between the video conferencing endpoints typically consists of a number of RTP over UDP media streams, for audio and video, and a BFCP connection for floor control. Existing deployments are most common in, but not limited to, enterprise networks. In existing deployments, NAT/firewall traversal for the RTP streams works using ICE and/or other methods, including those described in <a href="#I-D.ietf-mmusic-media-path-middleboxes">[I-D.ietf-mmusic-media-path-middleboxes]</a>.</p>
<p id="rfc.section.3.p.4">When enhancing an existing SIP based video conferencing deployment with support for content sharing, the BFCP connection often poses a problem. The reasons for this fall into two general classes. First, there may be a strong preference for UDP based signaling in general. On high capacity endpoints (e.g. PSTN gateways or SIP/H.323 interworking gateways), TCP can suffer from head of line blocking, and it uses many kernel buffers. Network operators view UDP as a way to avoid both of these. Second, establishment and traversal of the TCP connection involving ephemeral ports, as is typically the case with BFCP over TCP, can be problematic, as described in Appendix A of <a href="#I-D.ietf-mmusic-ice-tcp">[I-D.ietf-mmusic-ice-tcp]</a>. A broad study of NAT behavior and peer-to-peer TCP establishment for a comprehensive set of TCP NAT traversal techniques over a wide range of commercial NAT products concluded it was not possible to establish a TCP connection in 11% of the cases <a href="#IMC05">[IMC05]</a>. The results are worse when focusing on enterprise NATs. A study of hole punching as a NAT traversal technique across a wide variety of deployed NATs reported consistently higher success rates when using UDP than when using TCP <a href="#P2PNAT">[P2PNAT]</a>.</p>
<p id="rfc.section.3.p.5">To overcome the problems with establishing TCP flows between BFCP entities, this draft defines UDP as an alternate transport for BFCP, leveraging the same mechanisms in place for the RTP over UDP media streams for the BFCP communication. When using UDP as the transport, it is RECOMMENDED to follow the guidelines provided in <a href="#RFC5405">[RFC5405]</a>. NAT traversal for BFCP over UDP entities is discussed in more detail in <a href="#nat_traversal">Section 6</a>.</p>
<p id="rfc.section.3.p.6">The authors view this extension as an admittedly non-ideal, but pragmatic, solution to an existing deployment challenge.</p>
<h1 id="rfc.section.3.1">
<a href="#rfc.section.3.1">3.1.</a> <a href="#alternatives" id="alternatives">Alternatives Considered</a>
</h1>
<p id="rfc.section.3.1.p.1">In selecting the approach of defining UDP as an alternate transport for BFCP, several alternatives were considered and explored to some degree. Each of these is discussed briefly in the following subsections. In summary, while these alternatives work in a number of scenarios, they are not sufficient, in and of themselves, to address the use case targeted by this draft.</p>
<h1 id="rfc.section.3.1.1">
<a href="#rfc.section.3.1.1">3.1.1.</a> <a href="#ice_tcp" id="ice_tcp">ICE TCP</a>
</h1>
<p id="rfc.section.3.1.1.p.1">ICE TCP <a href="#I-D.ietf-mmusic-ice-tcp">[I-D.ietf-mmusic-ice-tcp]</a> extends ICE to TCP based media, including the ability to offer a mix of TCP and UDP based candidates for a single stream. ICE TCP has, in general, a lower success probability for enabling TCP connectivity without a relay if both of the hosts are behind a NAT (see Appendix A of <a href="#I-D.ietf-mmusic-ice-tcp">[I-D.ietf-mmusic-ice-tcp]</a>) than enabling UDP connectivity in the same scenarios. The happens because many of the currently deployed NATs in video conferencing networks do not support the flow of TCP hand shake packets seen in case of TCP simultaneous-open, either because they do not allow incoming TCP SYN packets from an address to which a SYN packet has been sent to recently, or because they do not properly process the subsequent SYNACK. Implementing various techniques advocated for candidate collection in <a href="#I-D.ietf-mmusic-ice-tcp">[I-D.ietf-mmusic-ice-tcp]</a> should increase the success probability, but many of these techniques require support from some network elements (e.g., from the NATs). Such support is not common in enterprise firewalls and NATs.</p>
<h1 id="rfc.section.3.1.2">
<a href="#rfc.section.3.1.2">3.1.2.</a> <a href="#teredo" id="teredo">Teredo</a>
</h1>
<p id="rfc.section.3.1.2.p.1">Teredo <a href="#RFC4380">[RFC4380]</a> enables nodes located behind one or more IPv4 NATs to obtain IPv6 connectivity by tunneling packets over UDP.  Teredo extensions <a href="#RFC6081">[RFC6081]</a> provide additional capabilities to Teredo, including support for more types of NATs and support for more efficient communication.</p>
<p id="rfc.section.3.1.2.p.2">As defined, Teredo could be used to make BFCP work for the video conferencing use cases addressed in this draft. However, running the service requires the help of "Teredo servers" and "Teredo relays" <a href="#RFC4380">[RFC4380]</a>. These servers and relays generally do not exist in the existing video conferencing deployments. It also requires IPv6 awareness on the endpoints. It should also be noted that ICMP6, as used with Teredo to complete an initial protocol exchange and confirm that the appropriate NAT bindings have been set up, is not a conventional feature of IPv4 or even IPv6, and some currently deployed IPv6 firewalls discard ICMP messages. As these networks continue to evolve and tackle the transaction to IPv6, Teredo servers and relays may be deployed, making Teredo available as a suitable alternative to BFCP over UDP.</p>
<h1 id="rfc.section.3.1.3">
<a href="#rfc.section.3.1.3">3.1.3.</a> <a href="#gut" id="gut">GUT</a>
</h1>
<p id="rfc.section.3.1.3.p.1">GUT <a href="#I-D.manner-tsvwg-gut">[I-D.manner-tsvwg-gut]</a> attempts to facilitate tunneling over UDP by encapsulating the native transport protocol and its payload (in general the whole IP payload) within a UDP packet destined to the well-known port GUT_P. Unfortunately, it requires user-space TCP, for which there is not a readily available implementation, and creating one is a large project in itself. This draft has expired and its future is still not clear as it has not yet been adopted by a working group.</p>
<h1 id="rfc.section.3.1.4">
<a href="#rfc.section.3.1.4">3.1.4.</a> <a href="#upnp_igd" id="upnp_igd">UPnP IGD</a>
</h1>
<p id="rfc.section.3.1.4.p.1">Universal Plug and Play Internet Gateway Devices (UPnP IGD) sit on the edge of the network, providing connectivity to the Internet for computers internal to the LAN, but do not allow Internet devices to connect to computers on the internal LAN. IGDs enable a computer on an internal LAN to create port mappings on their NAT, through which hosts on the Internet can send data that will be forwarded to the computer on the internal LAN. IGDs may be self-contained hardware devices or may be software components provided within an operating system.</p>
<p id="rfc.section.3.1.4.p.2">In considering UPnP IGD, several issues exist. Not all NATs support UPnP, and many that do support it are configured with it turned off by default. NATs are often multilayered, and UPnP does not work well with such NATs. For example, a typical DSL modems acts as a NAT, and the user plugs in a wireless access point behind that, which adds another layer NAT. The client can discover the first layer of NAT using multicast but it is harder to figure out how to discover and control NATs in the next layer up.</p>
<h1 id="rfc.section.3.1.5">
<a href="#rfc.section.3.1.5">3.1.5.</a> <a href="#nat_pmp" id="nat_pmp">NAT PMP</a>
</h1>
<p id="rfc.section.3.1.5.p.1">The NAT Port Mapping Protocol (NAT PMP) allows a computer in a private network (behind a NAT router) to automatically configure the router to allow parties outside the private network to contact it. NAT PMP runs over UDP. It essentially automates the process of port forwarding. Included in the protocol is a method for retrieving the public IP address of a NAT gateway, thus allowing a client to make this public IP address and port number known to peers that may wish to communicate with it.</p>
<p id="rfc.section.3.1.5.p.2">Many NATs do not support PMP. In those that do support it, it has similar issues with negotiation of multilayer NATs as UPnP. Video conferencing is used extensively in enterprise networks, and NAT PMP is not generally available in enterprise-class routers.</p>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> <a href="#rfc4582bis" id="rfc4582bis">Difference from RFC4582</a>
</h1>
<p id="rfc.section.4.p.1">This section details the difference from <a href="#RFC4582">[RFC4582]</a>, the base protocol specification of BFCP, required for use over an unreliable transport. The section numbers to which differences apply are indicated in parentheses in the titles of the sub-sections below.</p>
<h1 id="rfc.section.4.1">
<a href="#rfc.section.4.1">4.1.</a> Overview of Operation (4)</h1>
<p id="rfc.section.4.1.p.1">Fourth paragraph change:</p>
<p></p>

<ul class="empty"><li>There are two types of transaction in BFCP: client-initiated transactions and server-initiated transactions. Client-initiated transactions consist of a message from a client to the floor control server and a response from the floor control server to the client. Correspondingly, server-initiated transactions consist of a message from the floor control server to a client and the associated acknowledgement message from the client to the floor control server. Both messages can be related because they carry the same Transaction ID value in their common headers.</li></ul>
<h1 id="rfc.section.4.1.1">
<a href="#rfc.section.4.1.1">4.1.1.</a> Floor Participant to Floor Control Server Interface (4.1)</h1>
<p id="rfc.section.4.1.1.p.1">Before seventh paragraph (page 9), insert:</p>
<p></p>

<ul class="empty"><li>Figures 2 and 3 below show call flows for two sample BFCP interactions when used over reliable transport. Appendix A (Editorial Note: here-in <a href="#unrelcallflow">Section 4.31</a>) shows the same sample interactions but over an unreliable transport.</li></ul>
<h1 id="rfc.section.4.2">
<a href="#rfc.section.4.2">4.2.</a> COMMON-HEADER Format (5.1)</h1>
<p id="rfc.section.4.2.p.1">The figure below should replace Figure 5: COMMON-HEADER format.</p>
<div id="#rfc.figure.2"></div>
<div id="#common_header"></div>
<pre>
  0                   1                   2                   3
  0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 | Ver |I|  Res  |  Primitive    |        Payload Length         |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |                         Conference ID                         |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |         Transaction ID        |            User ID            |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ </pre>
<p></p>
<p id="rfc.section.4.2.p.3">The following text precedes "Reserved" on page 15:</p>
<p></p>

<ul class="empty"><li>I: The Transaction Initiator (I) flag-bit has relevance only for use of BFCP over unreliable transport. When clear, it indicates that this message is a request initiating a new transaction, and the Transaction ID that follows has been generated for this transaction. When set, it indicates that this message is a response to a previous request, and the Transaction ID that follows is the one associated with that request. When BFCP is used over reliable transports, the flag has no significance and SHOULD be cleared.</li></ul>
<p id="rfc.section.4.2.p.5">The Reserved field changes name to Res due to limited space in the ASCII graphic in <a href="#common_header">Figure 2</a>. In the description of the Reserved field "the 5 bits" is changed to "the 4 bits".</p>
<p id="rfc.section.4.2.p.6">The description of Transaction ID should have the final clause deleted with the reference to Section 8 remaining. The value used for server-initiated transactions MUST be non-zero when BFCP is used over unreliable transports, and this qualification shall be described in the updated Section 8.</p>
<p id="rfc.section.4.2.p.7">The values below should be appended to the end of Table 1: BFCP primitives.</p>
<div id="#rfc.table.1"></div>
<div id="#headerprimitives"></div>
<table cellpadding="3" cellspacing="0" class="tt full center">
<caption>BFCP primitives</caption>
<thead><tr>
<th class="center">Value</th>
<th class="left">Primitive</th>
<th class="left">Direction</th>
</tr></thead>
<tbody>
<tr>
<td class="center">14</td>
<td class="left">FloorRequestStatusAck</td>
<td class="left">P -&gt; S ; Ch -&gt; S</td>
</tr>
<tr>
<td class="center">15</td>
<td class="left">ErrorAck</td>
<td class="left">P -&gt; S ; Ch -&gt; S</td>
</tr>
<tr>
<td class="center">16</td>
<td class="left">FloorStatusAck</td>
<td class="left">P -&gt; S ; Ch -&gt; S</td>
</tr>
<tr>
<td class="center">17</td>
<td class="left">Goodbye</td>
<td class="left">P -&gt; S ; Ch -&gt; S ; </td>
</tr>
<tr>
<td class="center"></td>
<td class="left"></td>
<td class="left">P &lt;- S ; Ch &lt;- S</td>
</tr>
<tr>
<td class="center">18</td>
<td class="left">GoodbyeAck</td>
<td class="left">P -&gt; S ; Ch -&gt; S ; </td>
</tr>
<tr>
<td class="center"></td>
<td class="left"></td>
<td class="left">P &lt;- S ; Ch &lt;- S</td>
</tr>
</tbody>
</table>
<h1 id="rfc.section.4.3">
<a href="#rfc.section.4.3">4.3.</a> ERROR-CODE (5.2.6)</h1>
<p id="rfc.section.4.3.p.1">The value below should be appended to the end of Table 5: Error Code meaning.</p>
<div id="#rfc.table.2"></div>
<div id="#errorcode"></div>
<table cellpadding="3" cellspacing="0" class="tt full center">
<caption>Error Code meaning</caption>
<thead><tr>
<th class="center">Value</th>
<th class="left">Meaning</th>
</tr></thead>
<tbody>
<tr>
<td class="center">10</td>
<td class="left">Unable to parse message</td>
</tr>
<tr>
<td class="center">11</td>
<td class="left">Use DTLS</td>
</tr>
</tbody>
</table>
<h1 id="rfc.section.4.4">
<a href="#rfc.section.4.4">4.4.</a> FloorRequestStatusAck (5.3.14)</h1>
<p id="rfc.section.4.4.p.1">This new subsection specifies the normative ABNF for the new primitive, FloorRequestStatusAck.</p>
<div id="#rfc.figure.3"></div>
<div id="#FloorRequestStatusAck"></div>
<pre>
FloorRequestStatusAck          =    (COMMON-HEADER)
                                   *[EXTENSION-ATTRIBUTE] </pre>
<p></p>

<ul class="empty">
<li>Floor participants and chairs acknowledge the receipt of a FloorRequestStatus message from the floor control server when communicating over unreliable transport. The following is the format of the FloorRequestStatusAck message:</li>
<li>
</ul>
<h1 id="rfc.section.4.5">
<a href="#rfc.section.4.5">4.5.</a> ErrorAck (5.3.15)</h1>
<p id="rfc.section.4.5.p.1">This new subsection specifies the normative ABNF for the new primitive, ErrorAck.</p>
<div id="#rfc.figure.4"></div>
<div id="#ErrorAck"></div>
<pre>
ErrorAck                       =    (COMMON-HEADER)
                                   *[EXTENSION-ATTRIBUTE] </pre>
<p></p>

<ul class="empty">
<li>Floor participants and chairs acknowledge the receipt of an Error message from the floor control server when communicating over unreliable transport. The following is the format of the ErrorAck message:</li>
<li>
</ul>
<h1 id="rfc.section.4.6">
<a href="#rfc.section.4.6">4.6.</a> FloorStatusAck (5.3.16)</h1>
<p id="rfc.section.4.6.p.1">This new subsection specifies the normative ABNF for the new primitive, FloorStatusAck.</p>
<div id="#rfc.figure.5"></div>
<div id="#FloorStatusAck"></div>
<pre>
FloorStatusAck                 =    (COMMON-HEADER)
                                   *[EXTENSION-ATTRIBUTE] </pre>
<p></p>

<ul class="empty">
<li>Floor participants and chairs acknowledge the receipt of a FloorStatus message from the floor control server when communicating over unreliable transport. The following is the format of the FloorStatusAck message:</li>
<li>
</ul>
<h1 id="rfc.section.4.7">
<a href="#rfc.section.4.7">4.7.</a> Goodbye (5.3.17)</h1>
<p id="rfc.section.4.7.p.1">This new subsection specifies the normative ABNF for the new primitive, Goodbye.</p>
<div id="#rfc.figure.6"></div>
<div id="#Goodbye"></div>
<pre>
Goodbye                        =    (COMMON-HEADER)
                                   *[EXTENSION-ATTRIBUTE] </pre>
<p></p>

<ul class="empty">
<li>BFCP entities that wish to dissociate themselves from their remote participant do so through the transmission of a Goodbye. The following is the format of the Goodbye message:</li>
<li>
</ul>
<h1 id="rfc.section.4.8">
<a href="#rfc.section.4.8">4.8.</a> GoodbyeAck (5.3.18)</h1>
<p id="rfc.section.4.8.p.1">This new subsection specifies the normative ABNF for the new primitive, GoodbyeAck.</p>
<div id="#rfc.figure.7"></div>
<div id="#GoodbyeAck"></div>
<pre>
GoodbyeAck                     =    (COMMON-HEADER)
                                   *[EXTENSION-ATTRIBUTE] </pre>
<p></p>

<ul class="empty">
<li>BFCP entities communicating over an unreliable transport should acknowledge the receipt of a Goodbye message from a peer. The following is the format of the GoodbyeAck message:</li>
<li>
</ul>
<h1 id="rfc.section.4.9">
<a href="#rfc.section.4.9">4.9.</a> Transport (6)</h1>
<p id="rfc.section.4.9.p.1">An additional behavior is recommended for entities participating in communication over an unreliable transport that either wish to leave or are asked to leave an established BFCP connection, as detailed in the revised section introduction text below.</p>
<p></p>

<ul class="empty">
<li>The transport over which BFCP entities exchange messages depends on how clients obtain information to contact the floor control server (e.g. using an SDP offer/answer exchange <a href="#RFC4583">[RFC4583]</a>). Two transports are supported: TCP, appropriate where entities can be sure that their connectivity is not impeded by NAT devices, media relays or firewalls; and UDP for those deployments where TCP may not be applicable or appropriate.</li>
<li>If a client wishes to end its BFCP association with a floor control server, it is RECOMMENDED that the client send a Goodbye message to dissociate itself from any allocated resources. If a floor control server wishes to end its BFCP association with a client (e.g. the Focus of the conference informs the floor control server that the client has been kicked out from the conference), it is RECOMMENDED that the floor control server send a Goodbye message towards the client.</li>
</ul>
<h1 id="rfc.section.4.9.1">
<a href="#rfc.section.4.9.1">4.9.1.</a> <a href="#tcp_transport" id="tcp_transport">Reliable Transport (6.1)</a>
</h1>
<p id="rfc.section.4.9.1.p.1">BFCP entities may elect to exchange BFCP messages using TCP connections. TCP provides an in-order reliable delivery of a stream of bytes. Consequently, message framing is implemented in the application layer. BFCP implements application-layer framing using TLV-encoded attributes.</p>
<p id="rfc.section.4.9.1.p.2">A client MUST NOT use more than one TCP connection to communicate with a given floor control server within a conference. Nevertheless, if the same physical box handles different clients (e.g. a floor chair and a floor participant), which are identified by different User IDs, a separate connection per client is allowed.</p>
<p id="rfc.section.4.9.1.p.3">If a BFCP entity (a client or a floor control server) receives data that cannot be parsed, the entity MUST close the TCP connection, and the connection SHOULD be reestablished. Similarly, if a TCP connection cannot deliver a BFCP message and times out, the TCP connection SHOULD be reestablished.</p>
<p id="rfc.section.4.9.1.p.4">The way connection reestablishment is handled depends on how the client obtains information to contact the floor control server. Once the TCP connection is reestablished, the client MAY resend those messages for which it did not get a response from the floor control server.</p>
<p id="rfc.section.4.9.1.p.5">If a floor control server detects that the TCP connection towards one of the floor participants is lost, it is up to the local policy of the floor control server what to do with the pending floor requests of the floor participant. In any case, it is RECOMMENDED that the floor control server keep the floor requests (i.e., that it does not cancel them) while the TCP connection is reestablished.</p>
<p id="rfc.section.4.9.1.p.6">To maintain backwards compatibility with older implementations of <a href="#RFC4583">[RFC4583]</a>, BFCP entities MUST interpret the graceful close of their TCP connection from their associated participant as an implicit Goodbye message.</p>
<h1 id="rfc.section.4.9.2">
<a href="#rfc.section.4.9.2">4.9.2.</a> <a href="#udp_transport" id="udp_transport">Unreliable Transport (6.2)</a>
</h1>
<p id="rfc.section.4.9.2.p.1">BFCP entities may elect to exchange BFCP messages using UDP datagrams. UDP is an unreliable transport where neither delivery nor order is assured. Each BFCP UDP datagram MUST contain exactly one BFCP message. In the event the size of a BFCP message exceeds the MTU size, the BFCP message will be fragmented at the IP layer. Considerations related to fragmentation are covered in <a href="#large_messages">Section 4.9.3</a>. The message format for exchange of BFCP in UDP datagrams is the same as for a TCP stream above.</p>
<p id="rfc.section.4.9.2.p.2">Clients MUST announce their presence to the floor control server by transmission of a Hello message. This Hello message MUST be responded to with a HelloAck message and only upon receipt can the client consider the floor control service as present and available.</p>
<p id="rfc.section.4.9.2.p.3">As described in Section 8, each request sent by a floor participant or chair shall form a client transaction that expects an acknowledgement message back from the floor control server within a retransmission window. Concordantly, messages sent by the floor control server that are not transaction-completing (e.g. FloorStatus announcements as part of a FloorQuery subscription) are server-initiated transactions that require acknowledgement messages from the floor participant and chair entities to which they were sent.</p>
<p id="rfc.section.4.9.2.p.4">If a BFCP entity receives data that cannot be parsed, the receiving participant MAY send an Error message with parameter value 10 indicating receipt of a malformed message. If the message can be parsed to the extent that it is able to discern that it was a response to an outstanding request transaction, the client MAY discard the message and await retransmission. BFCP entities receiving an Error message with value 10 SHOULD acknowledge the error and act accordingly.</p>
<p id="rfc.section.4.9.2.p.5">Transaction ID values are non-sequential and entities are at liberty to select values at random. Entities MUST only have at most one outstanding request transaction at any one time. Implicit subscriptions, such as FloorRequest messages that have multiple responses as the floor control server processes intermediate states until Granted or Denied terminal states attained, can be characterized by a client-initiated request transaction whose acknowledgement is implied by the first FloorRequestStatus response from the floor control server. The subsequent changes in state for the request are new transactions whose Transaction ID is determined by the floor control server and whose receipt by the client participant shall be acknowledged with a FloorRequestStatusAck message. [Editorial note: would it be more straightforward to have all FloorRequestStatus messages acknowledged with a FloorRequestStatusAck message?]</p>
<p id="rfc.section.4.9.2.p.6">By restricting entities to having at most one pending transaction open, both the out-of-order receipt of messages as well as the possibility for congestion are mitigated. Additional details regarding congestion control are provided in <a href="#congestion">Section 4.9.2.1</a>. A server-initiated request (e.g. a FloorStatus with an update from the floor control server) received by a participant before the initial FloorRequestStatus message that closes the client-initiated transaction that was instigated by the FloorRequest MUST be treated as superseding the information conveyed in any delinquent response. As the floor control server cannot send a second update to the implicit floor status subscription until the first is acknowledged, ordinality is maintained.</p>
<h1 id="rfc.section.4.9.2.1">
<a href="#rfc.section.4.9.2.1">4.9.2.1.</a> <a href="#congestion" id="congestion">Congestion Control</a>
</h1>
<p id="rfc.section.4.9.2.1.p.1">BFCP may be characterized to generate "low data-volume" traffic, per the classification in <a href="#RFC5405">[RFC5405]</a>. Nevertheless is it necessary to ensure suitable and necessary congestion control mechanisms are used for BFCP over UDP. As described in previous paragraph every entity - client or server - is only allowed to send one request at a time, and await the acknowledging response. This way at most one datagram is sent per RTT given the message is not lost during transmission. In case the message is lost, the request retransmission timer T1 specified in <a href="#timers_retrans">Section 4.14</a> will fire and the message is retransmitted up to three times. The default initial interval is set to 500ms and the interval is doubled after each retransmission attempt,  this is identical to the specification of the T1 timer in SIP as described in Section 17.1.1.2 of <a href="#RFC3261">[RFC3261]</a>. </p>
<h1 id="rfc.section.4.9.2.2">
<a href="#rfc.section.4.9.2.2">4.9.2.2.</a> <a href="#icmp" id="icmp">ICMP Error Handling</a>
</h1>
<p id="rfc.section.4.9.2.2.p.1">If a BFCP entity receives an ICMP port unreachable message mid-conversation, the entity SHOULD treat the conversation as closed (e.g. an implicit Goodbye message from the peer) and behave accordingly. The entity MAY attempt to re-establish the conversation afresh. The new connection will appear as a wholly new floor participant, chair or floor control server with all state previously held about that participant lost.</p>
<p id="rfc.section.4.9.2.2.p.2">Note: This is because the peer entities cannot rely on IP and port tuple to uniquely identify the participant, nor would extending Hello to include an attribute that advertised what the entity previously was assigned as a User ID be acceptable due to session hijacking.</p>
<p id="rfc.section.4.9.2.2.p.3">In deployments where NAT appliances, firewalls or other such devices are present and affecting port reachability for each entity, one possibility is to utilize the peer connectivity checks, relay use and NAT pinhole maintenance mechanisms defined in ICE <a href="#RFC5245">[RFC5245]</a>.</p>
<h1 id="rfc.section.4.9.3">
<a href="#rfc.section.4.9.3">4.9.3.</a> <a href="#large_messages" id="large_messages">Large Message Considerations</a>
</h1>
<p id="rfc.section.4.9.3.p.1">Large messages become a concern when using BFCP if the overall size of a single BFCP message exceeds that representable within the 16-bit Payload Length field of the COMMON-HEADER.  When using UDP, there is the added concern that a single BFCP message can be fragmented at the IP layer if its overall size exceeds the MTU threshold of the network.</p>
<p id="rfc.section.4.9.3.p.2">The target use cases for BFCP via UDP typically involve relatively small BFCP messages.  Combining that with the goal of minimizing differences to the standard BFCP specification, BFCP entities SHOULD ensure that their messages are smaller than the recommended MTU size of 1300 bytes when encoded to minimize the likelihood of fragmentation in route to their peer entity.</p>
<p></p>

<ul class="empty">
<li>Note: While outside the scope of this document, the definition of additional mechanisms to further address BFCP message fragmentation are welcome. Potential mechanisms mentioned previously include:</li>
<li><ul class="empty">
<li>- a mechanism for splitting a single large message into additive messages. The mechanism defined for RELOAD in section 5.7 of <a href="#I-D.ietf-p2psip-base">[I-D.ietf-p2psip-base]</a> has been identified as a good candidate.</li>
<li>- an applicability statement on those BFCP messages and/or attributes deemed as inappropriate for use over transports where fragmentation is a concern.</li>
<li>- a SIP event package to deliver information to the endpoints.</li>
</ul></li>
</ul>
<h1 id="rfc.section.4.10">
<a href="#rfc.section.4.10">4.10.</a> <a href="#lowerlayersec" id="lowerlayersec">Lower-Layer Security (7)</a>
</h1>
<p id="rfc.section.4.10.p.1">Expand the section to mandate support for DTLS when transport over UDP is used such that it reads as follows:</p>
<p></p>

<ul class="empty">
<li>BFCP relies on lower-layer security mechanisms to provide replay and integrity protection and confidentiality.  BFCP floor control servers and clients (which include both floor participants and floor chairs) MUST support TLS for transport over TCP and MUST support DTLS for transport over UDP <a href="#RFC5246">[RFC5246]</a>.  Any BFCP entity MAY support other security mechanisms.</li>
<li>BFCP entities MUST support, at a minimum, the TLS_RSA_WITH_AES_128_CBC_SHA ciphersuite <a href="#RFC5246">[RFC5246]</a>.</li>
<li>Which party, the client or the floor control server, acts as the TLS/DTLS server depends on how the underlying TCP/DTLS connection is established.  For example, when the TCP/DTLS connection is established using an SDP offer/answer exchange <a href="#RFC4583">[RFC4583]</a>, the answerer (which may be the client or the floor control server) always acts as the TLS/DTLS server.</li>
</ul>
<h1 id="rfc.section.4.11">
<a href="#rfc.section.4.11">4.11.</a> Protocol Transactions (8)</h1>
<p id="rfc.section.4.11.p.1">The final clause of the introduction to section 8 should be read as:</p>
<p></p>

<ul class="empty">
<li>Since they do not trigger any response, their Transaction ID is set to 0 when used over reliable transports, but must be non-zero and unique in the context of outstanding transactions over unreliable transports.</li>
<li>When using BFCP over unreliable transports, all requests will use retransmit timer T1 (see <a href="#timers">Section 4.13</a>) until the transaction is completed.</li>
</ul>
<h1 id="rfc.section.4.12">
<a href="#rfc.section.4.12">4.12.</a> Server Behavior (8.2)</h1>
<p id="rfc.section.4.12.p.1">The final clause of this section should be read as:</p>
<p></p>

<ul class="empty"><li>Server-initiated transactions MUST contain a Transaction ID equal to 0 when BFCP is used over reliable transports. Over unreliable transport, the Transaction ID shall have the same properties as for client-initiated transactions: the server MUST set the Transaction ID value in the common header to a number that is different from 0 and that MUST NOT be reused in another message from the server until the appropriate response from the client is received for the transaction.  The server uses the Transaction ID value to match this message with the response from the floor participant or floor chair.</li></ul>
<h1 id="rfc.section.4.13">
<a href="#rfc.section.4.13">4.13.</a> <a href="#timers" id="timers">Timers (8.3)</a>
</h1>
<p id="rfc.section.4.13.p.1">New section:</p>
<p></p>

<ul class="empty"><li>When BFCP entities are communicating over an unreliable transport, two retransmission timers are employed to help mitigate against loss of datagrams. Retransmission and response caching are not required when BFCP entities communicate over reliable transports.</li></ul>
<h1 id="rfc.section.4.14">
<a href="#rfc.section.4.14">4.14.</a> <a href="#timers_retrans" id="timers_retrans">Request Retransmission Timer, T1 (8.3.1)</a>
</h1>
<p id="rfc.section.4.14.p.1">T1 is a timer that schedules retransmission of a request until an appropriate response is received or until the maximum number of retransmissions have occurred. The timer doubles on each re-transmit, failing after three unacknowledged transmission attempts.</p>
<p id="rfc.section.4.14.p.2">If a valid response is not received for a client- or server-initiated transaction, the implementation MUST consider the BFCP association as failed. Implementations SHOULD follow the reestablishment procedure described in section 6 (e.g. initiate a new offer/answer <a href="#RFC3264">[RFC3264]</a> exchange). Alternatively, they MAY continue without BFCP and therefore not be participant in any floor control actions.</p>
<h1 id="rfc.section.4.15">
<a href="#rfc.section.4.15">4.15.</a> <a href="#timers_cache" id="timers_cache">Response Retransmission Timer, T2 (8.3.2)</a>
</h1>
<p id="rfc.section.4.15.p.1">T2 is a timer that, when fires, signals that the BFCP entity can release knowledge of the transaction against which it is running. It is started upon the first transmission of the response to a request and is the only mechanism by which that response is released by the BFCP entity. Any subsequent retransmissions of the same request can be responded to by replaying the cached response, whilst that value is retained until the timer has fired.</p>
<p id="rfc.section.4.15.p.2">T2 shall be set such that it encompasses all legal retransmissions per T1 plus a factor to accommodate network latency between BFCP entities.</p>
<h1 id="rfc.section.4.16">
<a href="#rfc.section.4.16">4.16.</a> <a href="#timers_values" id="timers_values">Timer Values (8.3.3)</a>
</h1>
<p id="rfc.section.4.16.p.1">The table below defines the different timers required when BFCP entities communicate over an unreliable transport.</p>
<div id="#rfc.table.3"></div>
<div id="#timertable"></div>
<table cellpadding="3" cellspacing="0" class="tt full center">
<caption>Timers</caption>
<thead><tr>
<th class="center">Timer</th>
<th class="left">Description</th>
<th class="center">Value/s</th>
</tr></thead>
<tbody>
<tr>
<td class="center">T1</td>
<td class="left">Initial request retransmission timer</td>
<td class="center">0.5s</td>
</tr>
<tr>
<td class="center">T2</td>
<td class="left">Response retransmission timer</td>
<td class="center">10s</td>
</tr>
</tbody>
</table>
<p></p>
<p id="rfc.section.4.16.p.3">The default value for T1 is 500 ms, this is an estimate of the RTT for completing the transaction. T1 MAY be chosen larger,  and this is RECOMMENDED if it is known in advance that the RTT is larger. Regardless of the value of T1, the exponential backoffs on retransmissions described in <a href="#timers_retrans">Section 4.14</a> MUST be used.</p>
<h1 id="rfc.section.4.17">
<a href="#rfc.section.4.17">4.17.</a> Authentication and Authorization (9)</h1>
<p id="rfc.section.4.17.p.1">The first sentence of the second paragraph should be read as:</p>
<p></p>

<ul class="empty"><li>BFCP supports TLS/DTLS mutual authentication between client and floor control servers, as specified in section 9.1. </li></ul>
<h1 id="rfc.section.4.17.1">
<a href="#rfc.section.4.17.1">4.17.1.</a> TLS Based Mutual Authentication (9.1)</h1>
<p id="rfc.section.4.17.1.p.1">Change each instance of "TLS" to "TLS/DTLS", and each instance of "TCP" to "TCP/UDP".</p>
<h1 id="rfc.section.4.18">
<a href="#rfc.section.4.18">4.18.</a> Receiving a Response [to a FloorRequest Message] (10.1.2)</h1>
<p id="rfc.section.4.18.p.1">Prepend the sentence below at the start of this subsection:</p>
<p></p>

<ul class="empty"><li>When communicating over unreliable transport and upon receiving a FloorRequest from a participant, the floor control server MUST respond with a FloorRequestStatus message within the transaction failure window to complete the transaction.</li></ul>
<h1 id="rfc.section.4.19">
<a href="#rfc.section.4.19">4.19.</a> Receiving a Response [to a FloorRelease Message] (10.2.2)</h1>
<p id="rfc.section.4.19.p.1">Prepend the sentence below at the start of this subsection:</p>
<p></p>

<ul class="empty"><li>When communicating over unreliable transport and upon receiving a FloorRelease from a participant, the floor control server MUST respond with a FloorRequestStatus message within the transaction failure window to complete the transaction.</li></ul>
<h1 id="rfc.section.4.20">
<a href="#rfc.section.4.20">4.20.</a> Receiving a Response [to a ChairAction Message] (11.2)</h1>
<p id="rfc.section.4.20.p.1">Prepend the sentence below at the start of this subsection:</p>
<p></p>

<ul class="empty"><li>When communicating over unreliable transport and upon receiving a ChairAction from a participant, the floor control server MUST respond with a ChairActionAck message within the transaction failure window to complete the transaction.</li></ul>
<h1 id="rfc.section.4.21">
<a href="#rfc.section.4.21">4.21.</a> Receiving a Response [to a FloorQuery Message] (12.1.2)</h1>
<p id="rfc.section.4.21.p.1">Prepend the sentence below at the start of this subsection:</p>
<p></p>

<ul class="empty"><li>When communicating over unreliable transport and upon receiving a FloorQuery from a participant, the floor control server MUST respond with a FloorStatus message within the transaction failure window to complete the transaction.</li></ul>
<h1 id="rfc.section.4.22">
<a href="#rfc.section.4.22">4.22.</a> Receiving a Response [to a FloorRequestQuery Message] (12.2.2)</h1>
<p id="rfc.section.4.22.p.1">Prepend the sentence below at the start of this subsection:</p>
<p></p>

<ul class="empty"><li>When communicating over unreliable transport and upon receiving a FloorRequestQuery from a participant, the floor control server MUST respond with a FloorRequestStatus message within the transaction failure window to complete the transaction.</li></ul>
<h1 id="rfc.section.4.23">
<a href="#rfc.section.4.23">4.23.</a> Receiving a Response [to a UserQuery Message] (12.3.2)</h1>
<p id="rfc.section.4.23.p.1">Prepend the sentence below at the start of this subsection:</p>
<p></p>

<ul class="empty"><li>When communicating over unreliable transport and upon receiving a UserQuery from a participant, the floor control server MUST respond with a UserStatus message within the transaction failure window to complete the transaction.</li></ul>
<h1 id="rfc.section.4.24">
<a href="#rfc.section.4.24">4.24.</a> Receiving a Response [to a Hello Message] (12.4.2)</h1>
<p id="rfc.section.4.24.p.1">Prepend the sentence below at the start of this subsection:</p>
<p></p>

<ul class="empty"><li>When communicating over unreliable transport and upon receiving a Hello from a participant, the floor control server MUST respond with a HelloAck message within the transaction failure window to complete the transaction.</li></ul>
<h1 id="rfc.section.4.25">
<a href="#rfc.section.4.25">4.25.</a> Reception of a FloorRequestStatus Message (13.1.3)</h1>
<p id="rfc.section.4.25.p.1">The sentence below shall appear as a new subsection:</p>
<p></p>

<ul class="empty"><li>When communicating over unreliable transport and upon receiving a FloorRequestStatus message from a floor control server, the participant MUST respond with a FloorRequestStatusAck message within the transaction failure window to complete the transaction.</li></ul>
<h1 id="rfc.section.4.26">
<a href="#rfc.section.4.26">4.26.</a> Reception of a FloorStatus Message (13.5.3)</h1>
<p id="rfc.section.4.26.p.1">The sentence below shall appear as a new subsection:</p>
<p></p>

<ul class="empty"><li>When communicating over unreliable transport and upon receiving a FloorStatus message from a floor control server, the participant MUST respond with a FloorStatusAck message within the transaction failure window to complete the transaction.</li></ul>
<h1 id="rfc.section.4.27">
<a href="#rfc.section.4.27">4.27.</a> Reception of an Error Message (13.8.1)</h1>
<p id="rfc.section.4.27.p.1">The sentence below shall appear as a new subsection:</p>
<p></p>

<ul class="empty"><li>When communicating over unreliable transport and upon receiving an Error message from a floor control server, the participant MUST respond with a ErrorAck message within the transaction failure window to complete the transaction.</li></ul>
<h1 id="rfc.section.4.28">
<a href="#rfc.section.4.28">4.28.</a> <a href="#seccon4582" id="seccon4582">Security Considerations (14)</a>
</h1>
<p id="rfc.section.4.28.p.1">Change each instance of "TLS" to "TLS/DTLS", and each instance of "TCP" to "TCP/UDP".</p>
<h1 id="rfc.section.4.29">
<a href="#rfc.section.4.29">4.29.</a> IANA Considerations - Primitive Subregistry (15.2)</h1>
<p id="rfc.section.4.29.p.1">This section instructs the IANA to register the following new values for the BFCP primitive subregistry.</p>
<div id="#rfc.table.4"></div>
<div id="#iana_4582_primitive"></div>
<table cellpadding="3" cellspacing="0" class="tt full center">
<caption>BFCP primitive subregistry</caption>
<thead><tr>
<th class="center">Value</th>
<th class="left">Primitive</th>
<th class="center">Reference</th>
</tr></thead>
<tbody>
<tr>
<td class="center">14</td>
<td class="left">FloorRequestStatusAck</td>
<td class="center">RFC 4582bis</td>
</tr>
<tr>
<td class="center">15</td>
<td class="left">ErrorAck</td>
<td class="center">RFC 4582bis</td>
</tr>
<tr>
<td class="center">16</td>
<td class="left">FloorStatusAck</td>
<td class="center">RFC 4582bis</td>
</tr>
<tr>
<td class="center">17</td>
<td class="left">Goodbye</td>
<td class="center">RFC 4582bis</td>
</tr>
<tr>
<td class="center">18</td>
<td class="left">GoodbyeAck</td>
<td class="center">RFC 4582bis</td>
</tr>
</tbody>
</table>
<h1 id="rfc.section.4.30">
<a href="#rfc.section.4.30">4.30.</a> IANA Considerations - Error Code Subregistry (15.4)</h1>
<p id="rfc.section.4.30.p.1">This section instructs the IANA to register the following new values for the BFCP Error Code subregistry.</p>
<div id="#rfc.table.5"></div>
<div id="#iana_4582_errcode"></div>
<table cellpadding="3" cellspacing="0" class="tt full center">
<caption>BFCP Error Code subregistry</caption>
<thead><tr>
<th class="center">Value</th>
<th class="left">Meaning</th>
<th class="center">Reference</th>
</tr></thead>
<tbody>
<tr>
<td class="center">10</td>
<td class="left">Unable to parse message</td>
<td class="center">RFC 4582bis</td>
</tr>
<tr>
<td class="center">11</td>
<td class="left">Use DTLS</td>
<td class="center">RFC 4582bis</td>
</tr>
</tbody>
</table>
<h1 id="rfc.section.4.31">
<a href="#rfc.section.4.31">4.31.</a> <a href="#unrelcallflow" id="unrelcallflow">Example Call Flows for BFCP over Unreliable Transport (Appendix A)</a>
</h1>
<p id="rfc.section.4.31.p.1">With reference to Section 4.1, the following figures show representative call-flows for requesting and releasing a floor, and obtaining status information about a floor when BFCP is deployed over an unreliable transport. The figures here show a loss-less interaction.</p>
<p id="rfc.section.4.31.p.2">Editorial Note: A future version of this draft will show an example with lost packets due to unreliable transport, as well as examples on usage of DTLS and STUN in call the setup phase.</p>
<div id="#rfc.figure.8"></div>
<div id="#ReqRelUnrelExample"></div>
<pre>
      Floor Participant                                 Floor Control
                                                           Server
              |(1) FloorRequest                               |
              |Transaction ID: 123                            |
              |User ID: 234                                   |
              |FLOOR-ID: 543                                  |
              |----------------------------------------------&gt;|
              |                                               |
              |(2) FloorRequestStatus                         |
              |Transaction ID: 123                            |
              |User ID: 234                                   |
              |FLOOR-REQUEST-INFORMATION                      |
              |      Floor Request ID: 789                    |
              |      OVERALL-REQUEST-STATUS                   |
              |              Request Status: Pending          |
              |      FLOOR-REQUEST-STATUS                     |
              |            Floor ID: 543                      |
              |&lt;----------------------------------------------|
              |                                               |
              |(3) FloorRequestStatus                         |
              |Transaction ID: 4098                           |
              |User ID: 234                                   |
              |FLOOR-REQUEST-INFORMATION                      |
              |      Floor Request ID: 789                    |
              |      OVERALL-REQUEST-STATUS                   |
              |              Request Status: Accepted         |
              |              Queue Position: 1st              |
              |      FLOOR-REQUEST-STATUS                     |
              |            Floor ID: 543                      |
              |&lt;----------------------------------------------|
              |                                               |
              |(4) FloorRequestStatusAck                      |
              |Transaction ID: 4098                           |
              |User ID: 234                                   |
              |----------------------------------------------&gt;|
              |                                               |
              |(5) FloorRequestStatus                         |
              |Transaction ID: 4130                           |
              |User ID: 234                                   |
              |FLOOR-REQUEST-INFORMATION                      |
              |      Floor Request ID: 789                    |
              |      OVERALL-REQUEST-STATUS                   |
              |              Request Status: Granted          |
              |      FLOOR-REQUEST-STATUS                     |
              |            Floor ID: 543                      |
              |&lt;----------------------------------------------|
              |                                               |
              |(6) FloorRequestStatusAck                      |
              |Transaction ID: 4130                           |
              |User ID: 234                                   |
              |----------------------------------------------&gt;|
              |                                               |
              |(7) FloorRelease                               |
              |Transaction ID: 154                            |
              |User ID: 234                                   |
              |FLOOR-REQUEST-ID: 789                          |
              |----------------------------------------------&gt;|
              |                                               |
              |(8) FloorRequestStatus                         |
              |Transaction ID: 154                            |
              |User ID: 234                                   |
              |FLOOR-REQUEST-INFORMATION                      |
              |      Floor Request ID: 789                    |
              |      OVERALL-REQUEST-STATUS                   |
              |              Request Status: Released         |
              |      FLOOR-REQUEST-STATUS                     |
              |            Floor ID: 543                      |
              |&lt;----------------------------------------------| </pre>
<p></p>
<p id="rfc.section.4.31.p.4">Note that in <a href="#ReqRelUnrelExample">Figure 8</a>, the FloorRequestStatus message from the floor control server to the floor participant is a transaction-closing message as a response to the client-initiated transaction with Transaction ID 154. It does not and SHOULD NOT be followed by a FloorRequestStatusAck message from the floor participant to the floor control server.</p>
<div id="#rfc.figure.9"></div>
<div id="#StatusUnrelExample"></div>
<pre>
      Floor Participant                                 Floor Control
                                                           Server
              |(1) FloorQuery                                 |
              |Transaction ID: 257                            |
              |User ID: 234                                   |
              |FLOOR-ID: 543                                  |
              |----------------------------------------------&gt;|
              |                                               |
              |(2) FloorStatus                                |
              |Transaction ID: 257                            |
              |User ID: 234                                   |
              |FLOOR-ID:543                                   |
              |FLOOR-REQUEST-INFORMATION                      |
              |      Floor Request ID: 764                    |
              |      OVERALL-REQUEST-STATUS                   |
              |              Request Status: Accepted         |
              |              Queue Position: 1st              |
              |      FLOOR-REQUEST-STATUS                     |
              |            Floor ID: 543                      |
              |      BENEFICIARY-INFORMATION                  |
              |                  Beneficiary ID: 124          |
              |FLOOR-REQUEST-INFORMATION                      |
              |      Floor Request ID: 635                    |
              |      OVERALL-REQUEST-STATUS                   |
              |              Request Status: Accepted         |
              |              Queue Position: 2nd              |
              |      FLOOR-REQUEST-STATUS                     |
              |            Floor ID: 543                      |
              |      BENEFICIARY-INFORMATION                  |
              |                  Beneficiary ID: 154          |
              |&lt;----------------------------------------------|
              |                                               |
              |(3) FloorStatus                                |
              |Transaction ID: 4319                           |
              |User ID: 234                                   |
              |FLOOR-ID:543                                   |
              |FLOOR-REQUEST-INFORMATION                      |
              |      Floor Request ID: 764                    |
              |      OVERALL-REQUEST-STATUS                   |
              |              Request Status: Granted          |
              |      FLOOR-REQUEST-STATUS                     |
              |            Floor ID: 543                      |
              |      BENEFICIARY-INFORMATION                  |
              |                  Beneficiary ID: 124          |
              |FLOOR-REQUEST-INFORMATION                      |
              |      Floor Request ID: 635                    |
              |      OVERALL-REQUEST-STATUS                   |
              |              Request Status: Accepted         |
              |              Queue Position: 1st              |
              |      FLOOR-REQUEST-STATUS                     |
              |            Floor ID: 543                      |
              |      BENEFICIARY-INFORMATION                  |
              |                  Beneficiary ID: 154          |
              |&lt;----------------------------------------------|
              |                                               |
              |(4) FloorStatusAck                             |
              |Transaction ID: 4319                           |
              |User ID: 234                                   |
              |----------------------------------------------&gt;|
              |                                               |
              |(5) FloorStatus                                |
              |Transaction ID: 4392                           |
              |User ID: 234                                   |
              |FLOOR-ID:543                                   |
              |FLOOR-REQUEST-INFORMATION                      |
              |      Floor Request ID: 635                    |
              |      OVERALL-REQUEST-STATUS                   |
              |              Request Status: Granted          |
              |      FLOOR-REQUEST-STATUS                     |
              |            Floor ID: 543                      |
              |      BENEFICIARY-INFORMATION                  |
              |                  Beneficiary ID: 154          |
              |&lt;----------------------------------------------|
              |                                               |
              |(6) FloorStatusAck                             |
              |Transaction ID: 4392                           |
              |User ID: 234                                   |
              |----------------------------------------------&gt;| </pre>
<p></p>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> <a href="#rfc4583bis" id="rfc4583bis">Revision of RFC4583</a>
</h1>
<p id="rfc.section.5.p.1">This section details revisions to <a href="#RFC4583">[RFC4583]</a>, the SDP format for specifying BFCP streams. The section number to which updates apply are indicated in parentheses in the titles of the sub-sections below.</p>
<h1 id="rfc.section.5.1">
<a href="#rfc.section.5.1">5.1.</a> Fields in the 'm' Line (3)</h1>
<p id="rfc.section.5.1.p.1">The section shall be re-written to remove reference to the exclusivity of TCP as a transport for BFCP streams.</p>
<p></p>

<ol>
<li>In paragraph four, "... will initiate its TCP connection ..." becomes "... will direct BFCP messages ..."</li>
<li>In paragraph four, delete "Since BFCP only runs on top of TCP, the port is always a TCP port."</li>
<li>Change paragraph five, "We define two new values ... ", to, "We define four new values for the transport field: TCP/BFCP, TCP/TLS/BFCP, UDP/BFCP, and UDP/TLS/BFCP.  TCP/BFCP is used when BFCP runs directly on top of TCP, and TCP/TLS/BFCP is used when BFCP runs on top of TLS, which in turn runs on top of TCP.  Similarly, UDP/BFCP is used when BFCP runs directly on top of UDP, and UDP/TLS/BFCP is used when BFCP runs on top of DTLS <a href="#RFC4347">[RFC4347]</a>, which in turn runs on top of UDP.</li>
</ol>
<h1 id="rfc.section.5.2">
<a href="#rfc.section.5.2">5.2.</a> Authentication (8)</h1>
<p id="rfc.section.5.2.p.1">In last paragraph, change "When TLS is used, once the underlaying TCP connection is established" to "When TLS is used with TCP, once the underlying connection is established".</p>
<h1 id="rfc.section.5.3">
<a href="#rfc.section.5.3">5.3.</a> <a href="#seccon4583" id="seccon4583">Security Considerations (10)</a>
</h1>
<p id="rfc.section.5.3.p.1">Append to the first paragraph, "Furthermore, when using DTLS over UDP, considerations for its use with RTP and RTCP are presented in <a href="#RFC5763">[RFC5763]</a>. The requirements for the offer/answer exchange, as listed in Section 5 of that document, MUST be followed."</p>
<h1 id="rfc.section.5.4">
<a href="#rfc.section.5.4">5.4.</a> Registration of SDP 'proto' Values (11.1)</h1>
<p id="rfc.section.5.4.p.1">This section should be renamed now that there are more values to register in the SDP parameters registry, with the following added to the table:</p>
<div id="#rfc.table.6"></div>
<div id="#registration"></div>
<table cellpadding="3" cellspacing="0" class="tt full center">
<caption>Value for the SDP 'proto' field</caption>
<thead><tr>
<th class="left">Value</th>
<th class="left">Reference</th>
</tr></thead>
<tbody>
<tr>
<td class="left">UDP/BFCP</td>
<td class="left">RFC 4583bis</td>
</tr>
<tr>
<td class="left">UDP/TLS/BFCP</td>
<td class="left">RFC 4583bis</td>
</tr>
</tbody>
</table>
<h1 id="rfc.section.6">
<a href="#rfc.section.6">6.</a> <a href="#nat_traversal" id="nat_traversal">NAT Traversal</a>
</h1>
<p id="rfc.section.6.p.1">One of the key benefits when using UDP for BFCP communication is the ability to leverage the existing NAT traversal infrastructure and strategies deployed to facilitate transport of the media associated with the video conferencing sessions. Depending on the given deployment, this infrastructure typically includes some subset of ICE <a href="#RFC5245">[RFC5245]</a>.</p>
<p id="rfc.section.6.p.2">In order to facilitate the initial establishment of NAT bindings, and to maintain those bindings once established, BFCP over UDP entities are RECOMMENDED to use STUN <a href="#RFC5389">[RFC5389]</a> for keep-alives, as described for SIP <a href="#RFC5626">[RFC5626]</a>.  This results in each BFCP entity sending a packet, both to open the pinhole and to learn what IP/port the NAT assigned for the binding.</p>
<p id="rfc.section.6.p.3">In order to facilitate traversal of BFCP packets through NATs, BFCP over UDP entities are RECOMMENDED to use symmetric ports for sending and receiving BFCP packets, as recommended for RTP/RTCP <a href="#RFC4961">[RFC4961]</a>.</p>
<h1 id="rfc.section.7">
<a href="#rfc.section.7">7.</a> <a href="#futurework" id="futurework">Future Work</a>
</h1>
<p id="rfc.section.7.p.1">This draft reflects a work in progress, with at least the following items to be documented and/or revised:</p>
<p></p>

<dl>
<dt>Example signaling flows:</dt>
<dd style="margin-left: 6">A later version of this draft will include further examples of signaling exchanges over unreliable transport as a visual aid and reference for implementers, including updated transactions, message retransmission, usage of DTLS during call setup, and combined usage of DTLS and STUN.</dd>
<dt>IANA Considerations:</dt>
<dd style="margin-left: 6">The current considerations are based on this extension being standards track. Now that it is informational, it can no longer add attributes to the registries defined for BFCP per the requirements stated in <a href="#RFC4582">[RFC4582]</a>. As such, the sections related to IANA considerations will need to be reworked.</dd>
</dl>

<p> </p>
<h1 id="rfc.section.8">
<a href="#rfc.section.8">8.</a> Acknowledgements</h1>
<p id="rfc.section.8.p.1">We acknowledge substantial contributions to one or more previous versions of this draft from Trond G. Andersen, Alfred E. Heggestad, Gonzalo Camarillo, Roni Even, Lorenzo Miniero, Joerg Ott, Hadriel Kaplan, Dan Wing, Cullen Jennings, David Benham, and Alan Ford.</p>
<h1 id="rfc.references">
<a href="#rfc.references">9.</a> References</h1>
<h1 id="rfc.references.1">
<a href="#rfc.references.1">9.1.</a> Normative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC2119">[RFC2119]</b></td>
<td class="top">
<a href="mailto:sob@harvard.edu" title="Harvard University">Bradner, S.</a>, "<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>", BCP 14, RFC 2119, March 1997.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3264">[RFC3264]</b></td>
<td class="top">
<a>Rosenberg, J.</a> and <a>H. Schulzrinne</a>, "<a href="http://tools.ietf.org/html/rfc3264">An Offer/Answer Model with Session Description Protocol (SDP)</a>", RFC 3264, June 2002.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4347">[RFC4347]</b></td>
<td class="top">
<a>Rescorla, E.</a> and <a>N. Modadugu</a>, "<a href="http://tools.ietf.org/html/rfc4347">Datagram Transport Layer Security</a>", RFC 4347, April 2006.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4582">[RFC4582]</b></td>
<td class="top">
<a>Camarillo, G.</a>, <a>Ott, J.</a> and <a>K. Drage</a>, "<a href="http://tools.ietf.org/html/rfc4582">The Binary Floor Control Protocol (BFCP)</a>", RFC 4582, November 2006.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4583">[RFC4583]</b></td>
<td class="top">
<a>Camarillo, G.</a>, "<a href="http://tools.ietf.org/html/rfc4583">Session Description Protocol (SDP) Format for Binary Floor Control Protocol (BFCP) Streams</a>", RFC 4583, November 2006.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4961">[RFC4961]</b></td>
<td class="top">
<a>Wing, D.</a>, "<a href="http://tools.ietf.org/html/rfc4961">Symmetric RTP / RTP Control Protocol (RTCP)</a>", BCP 131, RFC 4961, July 2007.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5246">[RFC5246]</b></td>
<td class="top">
<a>Dierks, T.</a> and <a>E. Rescorla</a>, "<a href="http://tools.ietf.org/html/rfc5246">The Transport Layer Security (TLS) Protocol Version 1.2</a>", RFC 5246, August 2008.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5389">[RFC5389]</b></td>
<td class="top">
<a>Rosenberg, J.</a>, <a>Mahy, R.</a>, <a>Matthews, P.</a> and <a>D. Wing</a>, "<a href="http://tools.ietf.org/html/rfc5389">Session Traversal Utilities for NAT (STUN)</a>", RFC 5389, October 2008.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5626">[RFC5626]</b></td>
<td class="top">
<a>Jennings, C.</a>, <a>Mahy, R.</a> and <a>F. Audet</a>, "<a href="http://tools.ietf.org/html/rfc5626">Managing Client-Initiated Connections in the Session Initiation Protocol (SIP)</a>", RFC 5626, October 2009.</td>
</tr>
</tbody></table>
<h1 id="rfc.references.2">
<a href="#rfc.references.2">9.2.</a> Informative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC3261">[RFC3261]</b></td>
<td class="top">
<a>Rosenberg, J.</a>, <a>Schulzrinne, H.</a>, <a>Camarillo, G.</a>, <a>Johnston, A.</a>, <a>Peterson, J.</a>, <a>Sparks, R.</a>, <a>Handley, M.</a> and <a>E. Schooler</a>, "<a href="http://tools.ietf.org/html/rfc3261">SIP: Session Initiation Protocol</a>", RFC 3261, June 2002.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4380">[RFC4380]</b></td>
<td class="top">
<a>Huitema, C.</a>, "<a href="http://tools.ietf.org/html/rfc4380">Teredo: Tunneling IPv6 over UDP through Network Address Translations (NATs)</a>", RFC 4380, February 2006.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5245">[RFC5245]</b></td>
<td class="top">
<a>Rosenberg, J.</a>, "<a href="http://tools.ietf.org/html/rfc5245">Interactive Connectivity Establishment (ICE): A Protocol for Network Address Translator (NAT) Traversal for Offer/Answer Protocols</a>", RFC 5245, April 2010.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5405">[RFC5405]</b></td>
<td class="top">
<a>Eggert, L.</a> and <a>G. Fairhurst</a>, "<a href="http://tools.ietf.org/html/rfc5405">Unicast UDP Usage Guidelines for Application Designers</a>", BCP 145, RFC 5405, November 2008.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5763">[RFC5763]</b></td>
<td class="top">
<a>Fischl, J.</a>, <a>Tschofenig, H.</a> and <a>E. Rescorla</a>, "<a href="http://tools.ietf.org/html/rfc5763">Framework for Establishing a Secure Real-time Transport Protocol (SRTP) Security Context Using Datagram Transport Layer Security (DTLS)</a>", RFC 5763, May 2010.</td>
</tr>
<tr>
<td class="reference"><b id="RFC6081">[RFC6081]</b></td>
<td class="top">
<a>Thaler, D.</a>, "<a href="http://tools.ietf.org/html/rfc6081">Teredo Extensions</a>", RFC 6081, January 2011.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.ietf-mmusic-ice-tcp">[I-D.ietf-mmusic-ice-tcp]</b></td>
<td class="top">
<a>Rosenberg, J</a>, <a>Keranen, A</a>, <a>Lowekamp, B</a> and <a>A Roach</a>, "<a href="http://tools.ietf.org/html/draft-ietf-mmusic-ice-tcp-15">TCP Candidates with Interactive Connectivity Establishment (ICE)</a>", Internet-Draft draft-ietf-mmusic-ice-tcp-15, September 2011.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.manner-tsvwg-gut">[I-D.manner-tsvwg-gut]</b></td>
<td class="top">
<a>Manner, J</a>, <a>Varis, N</a> and <a>B Briscoe</a>, "<a href="http://tools.ietf.org/html/draft-manner-tsvwg-gut-02">Generic UDP Tunnelling (GUT)</a>", Internet-Draft draft-manner-tsvwg-gut-02, July 2010.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.ietf-mmusic-media-path-middleboxes">[I-D.ietf-mmusic-media-path-middleboxes]</b></td>
<td class="top">
<a>Stucker, B</a> and <a>H Tschofenig</a>, "<a href="http://tools.ietf.org/html/draft-ietf-mmusic-media-path-middleboxes-03">Analysis of Middlebox Interactions for Signaling Protocol Communication along the Media Path</a>", Internet-Draft draft-ietf-mmusic-media-path-middleboxes-03, July 2010.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.ietf-p2psip-base">[I-D.ietf-p2psip-base]</b></td>
<td class="top">
<a>Jennings, C</a>, <a>Lowekamp, B</a>, <a>Rescorla, E</a>, <a>Baset, S</a> and <a>H Schulzrinne</a>, "<a href="http://tools.ietf.org/html/draft-ietf-p2psip-base-19">REsource LOcation And Discovery (RELOAD) Base Protocol</a>", Internet-Draft draft-ietf-p2psip-base-19, October 2011.</td>
</tr>
<tr>
<td class="reference"><b id="IMC05">[IMC05]</b></td>
<td class="top">
<a>Guha, S</a> and <a>P Francis</a>, "<a>Characterization and Measurement of TCP Traversal through NATs and Firewalls</a>", 2005.</td>
</tr>
<tr>
<td class="reference"><b id="P2PNAT">[P2PNAT]</b></td>
<td class="top">
<a>Ford, B</a>, <a>Srisuresh, P</a> and <a>D Kegel</a>, "<a>Peer-to-Peer Communication Across Network Address Translators</a>", April 2005.</td>
</tr>
</tbody></table>
<h1 id="rfc.appendix.Appendix A">
<a href="#rfc.appendix.Appendix%20A">Appendix A.</a> <a href="#chghist" id="chghist">Change History</a>
</h1>
<h1 id="rfc.appendix.Appendix A.1">
<a href="#rfc.appendix.Appendix%20A.1">Appendix A.1.</a> draft-sandbakken-dispatch-bfcp-udp-02 to -03</h1>
<p></p>

<ol>
<li>Added fragmentation and reassembly mechanism defined for RELOAD as a candidate mechanism for consideration for BFCP when transported over UDP.</li>
<li>Added ERROR-CODE to indicate DTLS is required.</li>
<li>Added UDP/TLS/BFCP as 4th transport value for BFCP.</li>
<li>Added requirement to follow offer/answer procedure in <a href="#RFC5763">[RFC5763]</a> when using DTLS over UDP for BFCP.</li>
</ol>
<h1 id="rfc.appendix.Appendix A.2">
<a href="#rfc.appendix.Appendix%20A.2">Appendix A.2.</a> draft-sandbakken-dispatch-bfcp-udp-01 to -02</h1>
<p></p>

<ol>
<li>Switched from standards track to informational.</li>
<li>Added section on motivation, including alternatives considered, to address issues raised at IETF 79 and on various workgroup aliases.</li>
<li>Changed semantics of the Transaction Initiator (I) flag-bit.</li>
<li>Expanded transport section to more explicitly call out considerations regarding congestion control and ICMP errors, and add considerations for large messages.</li>
<li>Updated security related sections and added authentication section to address DTLS when using UDP.</li>
<li>Added section on NAT Traversal.</li>
<li>Some editorial changes.</li>
</ol>
<h1 id="rfc.appendix.Appendix A.3">
<a href="#rfc.appendix.Appendix%20A.3">Appendix A.3.</a> draft-sandbakken-dispatch-bfcp-udp-00 to -01</h1>
<p></p>

<ol>
<li>Decision made to not increase the protocol version number as a result of this extension. Certain aspects of this draft require different behaviors depending on whether a reliable or unreliable transport is being used, e.g. server-initiated transactions having Transaction ID 0 over reliable transports without acknowledgements versus non-zero and active-unique with an acknowledgement message when entities communicate over unreliable transports. As the graceful-close behavior of <a href="#RFC4582">[RFC4582]</a> is still allowed for TCP-based implementations without mandating the use of the new Goodbye message, there is no need to change the version number.</li>
<li>Removed the - a bit too verbose - rationale/motivation text describing background and why other approaches where not chosen. Was OK for a -00 draft, not strictly needed.</li>
<li>Not mandate ICE as a SHALL, but leave it as a non-mandatory way of solving the potential need for NAT/FW traversal.</li>
<li>Emphasized that the reference to DTLS-SRTP are merely informational.</li>
<li>A dash of polish and nitpicking added, some typos fixed.</li>
</ol>
<h1 id="rfc.appendix.Appendix A.4">
<a href="#rfc.appendix.Appendix%20A.4">Appendix A.4.</a> draft-sandbakken-xcon-bfcp-udp-02 to draft-sandbakken-dispatch-bfcp-udp-00</h1>
<p></p>

<ol>
<li>Draft name change. As XCON WG is closing this draft is submitted to Dispatch WG as the arena of discussion.</li>
<li>Moved Transaction Identifier bit (I) from the Transaction ID to one of the current 5 reserved bits. Keep current Transaction ID syntax and semantics. Avoid potential problems with existing TCP based implementations.</li>
<li>The way congestion control is taken care of is explained, with reference to <a href="#RFC5405">[RFC5405]</a>. One message per RTT. Backoff and normative behavior for timer T1 clarified.</li>
<li>Mandated support for DTLS in case unreliable transport (i.e. UDP) is implemented. Details and examples to be included. Model after <a href="#RFC5763">[RFC5763]</a>, details on how to adapt the SRTP associated details to BFCP and whether a reference or copying the text across and changing is needed.</li>
<li>Added the Rationale and Scope section to position and explain the motivation for this draft more in detail.</li>
<li>A number of typos and editorial changes.</li>
</ol>
<h1 id="rfc.appendix.Appendix A.5">
<a href="#rfc.appendix.Appendix%20A.5">Appendix A.5.</a> draft-sandbakken-xcon-bfcp-udp-01 to -02</h1>
<p></p>

<ol>
<li>Stepped away from changing semantics and directionality of Hello and HelloAck messages for pinhole establishment and keep-alive in favor of ICE toolset, particularly as this would have not resolved connectivity establishment as a precursor to deployment of DTLS <a href="#RFC4347">[RFC4347]</a> as a transport security mechanism.</li>
<li>Change to COMMON-HEADER to reserve bit-16 of Transaction ID to show originator of transaction such that request/response and response/acknowledgement mapping can be maintained without colliding randomly chosen Transaction IDs. This also avoids a three-way handshake scenario around FloorRequest where the implicit acknowledgement (in FloorRequestStatus) might also be interpreted as a transaction opening request on the part of the floor control server.</li>
<li>Defined additional timer (T2) to soak up lost responses without additional processing.</li>
<li>Restricted outstanding transactions to only one in-flight per direction at any one time to mitigate re-ordering issues.</li>
<li>Defined entity behavior when transactions timeout.</li>
<li>Specified initial suggestion for how to minimize fragmentation of messages.</li>
<li>Removed consideration of TCP-over-UDP after internal review.</li>
<li>Re-stated DTLS as likely preferred mechanism of securing transport, although this investigation is on-going.</li>
</ol>
<h1 id="rfc.appendix.Appendix A.6">
<a href="#rfc.appendix.Appendix%20A.6">Appendix A.6.</a> draft-sandbakken-xcon-bfcp-udp-00 to -01</h1>
<p></p>

<ol>
<li>Refactored to a format that represents explicit changes to base RFCs.</li>
<li>Introduction of issues currently under investigation that preclude adoption.</li>
<li>Specified retransmission timer for requests.</li>
</ol>
<h1 id="rfc.authors"><a href="#rfc.authors">Authors' Addresses</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Charles Eckel</span> 
	  <span class="n hidden">
		<span class="family-name">Eckel</span>
	  </span>
	</span>
	<span class="org vcardline">Cisco</span>
	<span class="adr">
	  <span>170 West Tasman Drive</span>

	  <span class="vcardline">
		<span class="locality">San Jose, CA 95134</span>,  
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline">United States</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:eckelcu@cisco.com">eckelcu@cisco.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Tom Kristensen</span> 
	  <span class="n hidden">
		<span class="family-name">Kristensen</span>
	  </span>
	</span>
	<span class="org vcardline">Cisco</span>
	<span class="adr">
	  <span>Philip Pedersens vei 22</span>

	  <span class="vcardline">
		<span class="locality">N-1366 Lysaker</span>,  
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline">Norway</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:tomkrist@cisco.com%20,%20tomkri@ifi.uio.no">tomkrist@cisco.com , tomkri@ifi.uio.no</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Mark K. Thompson</span> 
	  <span class="n hidden">
		<span class="family-name">Thompson</span>
	  </span>
	</span>
	<span class="org vcardline">Cisco</span>
	<span class="adr">
	  <span>Ruscombe Business Park</span>

	  <span class="vcardline">
		<span class="locality">Ruscombe, England</span>,  
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline">UK</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:markth2@cisco.com%20">markth2@cisco.com </a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Geir A. Sandbakken</span> 
	  <span class="n hidden">
		<span class="family-name">Sandbakken</span>
	  </span>
	</span>
	<span class="org vcardline">Cisco</span>
	<span class="adr">
	  <span>Philip Pedersens vei 22</span>

	  <span class="vcardline">
		<span class="locality">N-1366 Lysaker</span>,  
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline">Norway</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:geirsand@cisco.com%20">geirsand@cisco.com </a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Eoin McLeod</span> 
	  <span class="n hidden">
		<span class="family-name">McLeod</span>
	  </span>
	</span>
	<span class="org vcardline">Cisco</span>
	<span class="adr">
	  <span>Ruscombe Business Park</span>

	  <span class="vcardline">
		<span class="locality">Ruscombe, England</span>,  
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline">UK</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:eoimcleo@cisco.com%20">eoimcleo@cisco.com </a></span>

  </address>
</div>

</body>
</html>