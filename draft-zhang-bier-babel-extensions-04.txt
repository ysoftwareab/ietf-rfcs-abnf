



BIER WG                                                         Z. Zhang
Internet-Draft                                           ZTE Corporation
Intended status: Standards Track                           A. Przygienda
Expires: May 19, 2021                                   Juniper Networks
                                                       November 15, 2020


                             BIER in BABEL
                  draft-zhang-bier-babel-extensions-04

Abstract

   BIER introduces a novel multicast architecture.  It does not require
   a signaling protocol to explicitly build multicast distribution
   trees, nor does it require intermediate nodes to maintain any per-
   flow state.

   Babel defines a distance-vector routing protocol that operates in a
   robust and efficient fashion both in wired as well as in wireless
   mesh networks.  This document defines a way to carry necessary BIER
   signaling information in Babel.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on May 19, 2021.

Copyright Notice

   Copyright (c) 2020 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents



Zhang & Przygienda        Expires May 19, 2021                  [Page 1]

Internet-Draft            BIER Babel extensions            November 2020


   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   2
   3.  Conventions Used in This Document . . . . . . . . . . . . . .   2
   4.  Advertisement of BIER information . . . . . . . . . . . . . .   3
     4.1.  BIER BFR-prefix and BIER sub-TLV  . . . . . . . . . . . .   3
       4.1.1.  BIER sub-TLV  . . . . . . . . . . . . . . . . . . . .   3
     4.2.  BIER MPLS Encapsulation sub-sub-TLV . . . . . . . . . . .   4
     4.3.  BIER non-MPLS Encapsulation sub-sub-TLV . . . . . . . . .   5
       4.3.1.  BIER IPv6 transportation sub-sub-TLV  . . . . . . . .   5
   5.  Tree types and tunneling  . . . . . . . . . . . . . . . . . .   6
   6.  Security Considerations . . . . . . . . . . . . . . . . . . .   6
   7.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   6
   8.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   6
     8.1.  Normative References  . . . . . . . . . . . . . . . . . .   6
     8.2.  Informative References  . . . . . . . . . . . . . . . . .   7
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   8

1.  Introduction

   [RFC8279] introduces a novel multicast architecture.  It does not
   require a signaling protocol to explicitly build multicast
   distribution trees, nor does it require intermediate nodes to
   maintain any per-flow state.  All procedures necessary to support
   BIER are abbreviated by the "BIER architecture" moniker in this
   document.

   [I-D.ietf-babel-rfc6126bis] define a distance-vector routing protocol
   under the name of "Babel".  Babel operates in a robust and efficient
   fashion both in ordinary wired as well as in wireless mesh networks.

2.  Terminology

   The terminology of this documents follows [RFC8279], [RFC6126],
   [RFC7557] and [I-D.ietf-babel-rfc6126bis].

3.  Conventions Used in This Document

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
   "OPTIONAL" in this document are to be interpreted as described in BCP



Zhang & Przygienda        Expires May 19, 2021                  [Page 2]

Internet-Draft            BIER Babel extensions            November 2020


   14 [RFC2119] [RFC8174] when, and only when, they appear in all
   capitals, as shown here.

4.  Advertisement of BIER information

   In case a router is configured with BIER information, and Babel is
   the routing protocol used, such a router MAY use Babel protocol to
   announce the BIER information using the BIER sub-TLV specified below.

4.1.  BIER BFR-prefix and BIER sub-TLV

   BFR-prefix and according information is carried in a Babel Update TLV
   per [I-D.ietf-babel-rfc6126bis].  A new sub-TLV is defined to convey
   further BIER information such as BFR-id, sub-domain-id and BSL.  Two
   sub-sub-TLVs are carried as payload of BIER sub-TLV.

   The mandatory bit of BIER sub-TLV should be set to 0.  If a router
   cannot recognize a sub-TLV, the router MUST ignore this unknown sub-
   TLV.

4.1.1.  BIER sub-TLV

   The BIER sub-TLV format aligns exactly with the definition and
   restrictions in [RFC8401] , [RFC8444] and
   [I-D.ietf-bier-ospfv3-extensions].  It is a sub-TLV of Babel update
   TLV.  The prefix MUST NOT be summarized and the according sub-TLV
   MUST be treated as optional and transitive.

        0                   1                   2                   3
        0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |    Type       |   Length      |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |   BAR         |    IPA        | subdomain-id  |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |     BFR-id                    |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |  sub-sub-TLVs (variable)                                      |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                          Figure 1: BIER sub-TLV

   o  Type: as indicated in IANA section.

   o  Length: 1 octet.  Include the length of BIER sub-TLV and potential
      length of the sub-sub-TLVs.






Zhang & Przygienda        Expires May 19, 2021                  [Page 3]

Internet-Draft            BIER Babel extensions            November 2020


   o  BAR: BIER Algorithm.  Specifies a BIER-specific algorithm used to
      calculate underlay paths to reach BFERs.  Values are allocated
      from the "BIER Algorithms" registry. 1 octet.

   o  IPA: IGP Algorithm.  Specifies an IGP Algorithm to either modify,
      enhance, or replace the calculation of underlay paths to reach
      BFERs as defined by the BAR value.  Values are from the IGP
      Algorithm registry. 1 octet.

   o  subdomain-id: Unique value identifying the BIER sub-domain. 1
      octet.

   o  BFR-id: A 2 octet field encoding the BFR-id, as documented in
      [RFC8279].  If no BFR-id has been assigned this field is set to
      the invalid BFR-id.

4.2.  BIER MPLS Encapsulation sub-sub-TLV

   The BIER MPLS Encapsulation sub-sub-TLV can be carried by BIER sub-
   TLV.  The format and restrictions are aligned with [RFC8401],
   [RFC8444] and [I-D.ietf-bier-ospfv3-extensions].  This sub-sub-TLV
   carries the information for the BIER MPLS encapsulation including the
   label range for a specific BSL for a certain <MT,SD> pair.

        0                   1                   2                   3
        0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |    Type       |   Length      |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |   Max SI      |BS Len |                    Label              |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                  Figure 2: MPLS Encapsulation sub-sub-TLV

   o  Type: value of 1 indicating MPLS encapsulation.

   o  Length: 1 octet

   o  Max SI: Maximum Set Identifier (Section 1 of [RFC8279]) used in
      the encapsulation for this BIER subdomain for this BitString
      length, 1 octet.  Each SI maps to a single label in the label
      range.  The first label is for SI=0, the second label is for SI=1,
      etc.  If the label associated with the Maximum Set Identifier
      exceeds the 20-bit range, the sub-sub-TLV MUST be ignored.

   o  Local BitString Length (BS Len): Encoded BitString length as per
      [RFC8296]. 4 bits.





Zhang & Przygienda        Expires May 19, 2021                  [Page 4]

Internet-Draft            BIER Babel extensions            November 2020


   o  Label: First label, 20 bits.  The labels are as defined in
      [RFC8296].

4.3.  BIER non-MPLS Encapsulation sub-sub-TLV

   The BIER non-MPLS Encapsulation sub-sub-TLV can be carried by BIER
   sub-TLV.  The format and restrictions are aligned with
   [I-D.ietf-bier-lsr-ethernet-extensions].  This sub-sub-TLV carries
   the information for the BIER MPLS encapsulation including the label
   range for a specific BSL for a certain <MT,SD> pair.

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |              Type             |             Length            |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |     Max SI    |                  BIFT-id                      |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |BS Len |                     Reserved                          |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                   Figure 3: non-MPLS Encapsulation sub-sub-TLV

   o  Type: value of 2 indicating non-MPLS encapsulation.

   o  Length: 1 octet

   o  Max SI: Maximum Set Identifier (Section 1 of [RFC8279]) used in
      the encapsulation for this BIER subdomain for this BitString
      length, 1 octet.  The first BIFT-id is for SI=0, the second BIFT-
      id is for SI=1, etc.  If the BIFT-id associated with the Maximum
      Set Identifier exceeds the 20-bit range, the sub-sub-TLV MUST be
      ignored.

   o  BIFT-id: A 3-octet field, where the 20 rightmost bits represent
      the first BIFT-id in the BIFT-id range.  The 4 leftmost bits MUST
      be ignored.  The "BIFT-id range" is the set of 20-bit values
      beginning with the BIFT-id and ending with (BIFT-id + (Max SI)).
      These BIFT-id's are used for BIER forwarding as described in
      [RFC8279] and [RFC8296].

   o  Local BitString Length (BS Len): Encoded BitString length as per
      [RFC8296]. 4 bits.

4.3.1.  BIER IPv6 transportation sub-sub-TLV

   The BIER IPv6 transportation sub-sub-TLV can be carried by BIER non-
   MPLS Encapsulation sub-sub-TLV.  The format and restrictions are
   aligned with [I-D.zhang-bier-bierin6].  A node that requires IPv6



Zhang & Przygienda        Expires May 19, 2021                  [Page 5]

Internet-Draft            BIER Babel extensions            November 2020


   encapsualtion MUST advertise the BIER IPv6 transportation sub-sub-TLV
   according to local configuration or policy in the BIER domain to
   request other BFRs to always use IPv6 encapsulation.

   The format is the same with the definition in section 4.1,
   [I-D.zhang-bier-bierin6].

5.  Tree types and tunneling

   Since Babel is performing a diffusion computation, support for
   different tree types is not as natural as with link-state protocols.
   Hence this specification is assuming that normal Babel reachability
   computation is performed without further modifications.

   BIER architecture does not rely on all routers in a domain performing
   BFR procedures.  How to support tunnels that will allow to tunnel
   BIER across such routers in Babel is for further study.

6.  Security Considerations

   TBD

7.  IANA Considerations

   A new type of Babel update sub-TLV needs to be defined for BIER
   information advertisement.

8.  References

8.1.  Normative References

   [I-D.ietf-babel-rfc6126bis]
              Chroboczek, J. and D. Schinazi, "The Babel Routing
              Protocol", draft-ietf-babel-rfc6126bis-20 (work in
              progress), August 2020.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.

   [RFC6126]  Chroboczek, J., "The Babel Routing Protocol", RFC 6126,
              DOI 10.17487/RFC6126, April 2011,
              <https://www.rfc-editor.org/info/rfc6126>.

   [RFC7557]  Chroboczek, J., "Extension Mechanism for the Babel Routing
              Protocol", RFC 7557, DOI 10.17487/RFC7557, May 2015,
              <https://www.rfc-editor.org/info/rfc7557>.



Zhang & Przygienda        Expires May 19, 2021                  [Page 6]

Internet-Draft            BIER Babel extensions            November 2020


   [RFC8174]  Leiba, B., "Ambiguity of Uppercase vs Lowercase in RFC
              2119 Key Words", BCP 14, RFC 8174, DOI 10.17487/RFC8174,
              May 2017, <https://www.rfc-editor.org/info/rfc8174>.

   [RFC8279]  Wijnands, IJ., Ed., Rosen, E., Ed., Dolganow, A.,
              Przygienda, T., and S. Aldrin, "Multicast Using Bit Index
              Explicit Replication (BIER)", RFC 8279,
              DOI 10.17487/RFC8279, November 2017,
              <https://www.rfc-editor.org/info/rfc8279>.

   [RFC8296]  Wijnands, IJ., Ed., Rosen, E., Ed., Dolganow, A.,
              Tantsura, J., Aldrin, S., and I. Meilik, "Encapsulation
              for Bit Index Explicit Replication (BIER) in MPLS and Non-
              MPLS Networks", RFC 8296, DOI 10.17487/RFC8296, January
              2018, <https://www.rfc-editor.org/info/rfc8296>.

   [RFC8401]  Ginsberg, L., Ed., Przygienda, T., Aldrin, S., and Z.
              Zhang, "Bit Index Explicit Replication (BIER) Support via
              IS-IS", RFC 8401, DOI 10.17487/RFC8401, June 2018,
              <https://www.rfc-editor.org/info/rfc8401>.

   [RFC8444]  Psenak, P., Ed., Kumar, N., Wijnands, IJ., Dolganow, A.,
              Przygienda, T., Zhang, J., and S. Aldrin, "OSPFv2
              Extensions for Bit Index Explicit Replication (BIER)",
              RFC 8444, DOI 10.17487/RFC8444, November 2018,
              <https://www.rfc-editor.org/info/rfc8444>.

8.2.  Informative References

   [I-D.ietf-bier-lsr-ethernet-extensions]
              Dhanaraj, S., Wijnands, I., Psenak, P., Zhang, Z., Yan,
              G., and J. Xie, "LSR Extensions for BIER over Ethernet",
              draft-ietf-bier-lsr-ethernet-extensions-01 (work in
              progress), July 2019.

   [I-D.ietf-bier-ospfv3-extensions]
              Psenak, P., Nainar, N., and I. Wijnands, "OSPFv3
              Extensions for BIER", draft-ietf-bier-ospfv3-extensions-02
              (work in progress), May 2020.

   [I-D.zhang-bier-bierin6]
              Zhang, Z., Zhang, Z., Wijnands, I., Bidgoli, H., and M.
              McBride, "BIER in IPv6 (BIERin6)", draft-zhang-bier-
              bierin6-07 (work in progress), July 2020.







Zhang & Przygienda        Expires May 19, 2021                  [Page 7]

Internet-Draft            BIER Babel extensions            November 2020


Authors' Addresses

   Zheng(Sandy) Zhang
   ZTE Corporation
   No. 50 Software Ave, Yuhuatai Distinct
   Nanjing
   China

   Email: zhang.zheng@zte.com.cn


   Tony Przygienda
   Juniper Networks

   Email: prz@juniper.net




































Zhang & Przygienda        Expires May 19, 2021                  [Page 8]
