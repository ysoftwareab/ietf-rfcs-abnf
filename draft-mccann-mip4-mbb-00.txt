


Network Working Group                                          P. McCann
Internet-Draft                                                  Motorola
Intended status: Best Current                              April 4, 2008
Practice
Expires: October 6, 2008


              Make-Before-Break Handoffs with Mobile IPv4
                      draft-mccann-mip4-mbb-00.txt

Status of this Memo

   By submitting this Internet-Draft, each author represents that any
   applicable patent or other IPR claims of which he or she is aware
   have been or will be disclosed, and any of which he or she becomes
   aware will be disclosed, in accordance with Section 6 of BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on October 6, 2008.

Copyright Notice

   Copyright (C) The IETF Trust (2008).













McCann                   Expires October 6, 2008                [Page 1]

Internet-Draft           MIP4 Make-Before-Break               April 2008


Abstract

   A make-before-break handoff is one where resources on a target system
   are allocated prior to releasing the resources on a source system.
   Make-before-break can be an effective means to provide a more
   seamless handoff with fewer dropped packets.  The existing Mobile
   IPv4 specification supports simultaneous bindings, which can
   facilitate a make-before-break handoff.  However, the binding state
   at the home agent is only one example of a resource that can be
   allocated; others include the link connection to the Foreign Agent
   (or access router) and the provision of security associations between
   the mobile node and the mobility agents.  It may be desirable to set
   up these resources on the target system without necessarily creating
   a binding entry on the Home Agent.  This document provides some
   additional conventions on the use of simultaneous bindings in a make-
   before-break handoff that can be used to optimize the allocation of
   resources in these scenarios.


































McCann                   Expires October 6, 2008                [Page 2]

Internet-Draft           MIP4 Make-Before-Break               April 2008


Table of Contents

   1.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  4
   2.  Requirements Notation  . . . . . . . . . . . . . . . . . . . .  5
   3.  Authentication Only Registration Request . . . . . . . . . . .  6
   4.  Bi-receiving . . . . . . . . . . . . . . . . . . . . . . . . .  8
   5.  Security Considerations  . . . . . . . . . . . . . . . . . . .  9
   6.  Normative References . . . . . . . . . . . . . . . . . . . . . 10
   Author's Address . . . . . . . . . . . . . . . . . . . . . . . . . 11
   Intellectual Property and Copyright Statements . . . . . . . . . . 12









































McCann                   Expires October 6, 2008                [Page 3]

Internet-Draft           MIP4 Make-Before-Break               April 2008


1.  Introduction

   During a make-before-break handoff, a mobile node attempts to set up
   resources on a target system while still connected to a source
   system.  For example, a mobile node might have two wireless
   interfaces, one connected to FA1 (the source system) and another
   connected to FA2 (the target system).  The mobile node would like to
   allocate some resources on FA2 before disconnecting from FA1, so that
   the time needed for actual media handoff is as short as possible.

   The base Mobile IP specification [RFC3344] provides for simultaneous
   bindings with the setting of the 'S' bit in a Registration Request.
   When the Home Agent (HA) receives such a request, it sets up an
   additional binding entry for the Mobile Node (MN) without deleting
   any existing binding(s).  The multiple bindings cause packets
   destined for the MN to be duplicated and sent once for each binding
   to the corresponding Care-of-Address (CoA) registered as part of the
   binding.  In a real-time communications scenario such as
   Voice-over-IP (VoIP), simultaneous bindings can allow for the packet
   stream to be ready and waiting on the new CoA before the old CoA is
   released.

   However, the simultaneous bindings as currently specified lacks some
   flexibility.  In particular, the MN may need to set up a relationship
   with the HA (and a new FA) in advance of the handoff without
   necessarily beginning the forwarding of traffic.  This is especially
   true if the Mobile IP Registration Request / Response exchange is
   used for access control on the new link [RFC4721] and to distribute
   keys to the MN and mobility agents [RFC3957].  It is desirable to
   allow these procedures to complete without sending media to the new
   access link, which would be wasteful of resources in case the MN will
   stay attached to its existing link for a period of time.

   In this document we define a new convention for the use of the 'S'
   bit to establish a new session and distribute keys, but without the
   establishment of binding state at the HA.  Also, we give an
   implementation hint for HAs that implement simultaneous bindings that
   is expected to increase the quality of a real-time communication
   session.












McCann                   Expires October 6, 2008                [Page 4]

Internet-Draft           MIP4 Make-Before-Break               April 2008


2.  Requirements Notation

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [RFC2119].














































McCann                   Expires October 6, 2008                [Page 5]

Internet-Draft           MIP4 Make-Before-Break               April 2008


3.  Authentication Only Registration Request

   In this section we define an Authentication Only Registration Request
   that can be used to provide access control and set up security
   associations between the MN and mobility agents.  The existing text
   in the base Mobile IP specification says the following in Section
   3.8.2.2:

      - If the Lifetime is zero and the Care-of Address equals the
      mobile node's home address, the home agent deletes all of the
      entries in the mobility binding list for the requesting mobile
      node.  This is how a mobile node requests that its home agent
      cease providing mobility services.

      - If the Lifetime is zero and the Care-of Address does not equal
      the mobile node's home address, the home agent deletes only the
      entry containing the specified Care-of Address from the mobility
      binding list for the requesting mobile node.  Any other active
      entries containing other care-of addresses will remain active.

      - If the Lifetime is nonzero, the home agent adds an entry
      containing the requested Care-of Address to the mobility binding
      list for the mobile node.  If the 'S' bit is set and the home
      agent supports simultaneous mobility bindings, the previous
      mobility binding entries are retained.  Otherwise, the home agent
      removes all previous entries in the mobility binding list for the
      mobile node.

   This document proposes a new case be added:

      - If the Lifetime is zero and the Care-of Address does not equal
      the mobile node's home address and the 'S' bit is set, then treat
      the Registration Request as an Authentication Only Registration
      Request.  Perform authentication and key distribution [RFC3957]
      but do not establish a binding to the Care-of Address.  Leave
      existing bindings unchanged.

   With this new convention, the MN will be able to perform access
   control on the new link and set up security associations with the
   home and foreign agents without yet directing traffic to the new CoA.
   When the MN is ready to perform the actual handoff of bearer to the
   new access link, it can send an ordinary registration request (with
   or without the 'S' bit set) to start receiving packets on the new
   CoA.

   The above procedure might be especially useful when handing off from
   a technology that uses Proxy Mobile IPv4 [I-D.leung-mip4-proxy-mode]
   to a technology that uses client Mobile IPv4.  In this case, the MN



McCann                   Expires October 6, 2008                [Page 6]

Internet-Draft           MIP4 Make-Before-Break               April 2008


   does not yet have a security association with the FA and HA while it
   is connected to the Proxy Mobile IP network, and needs to develop one
   with the new FA and existing HA prior to the actual handoff of
   traffic.















































McCann                   Expires October 6, 2008                [Page 7]

Internet-Draft           MIP4 Make-Before-Break               April 2008


4.  Bi-receiving

   During the process of handoff, the MN will establish new bindings and
   tear down old bindings.  There may be a race condition here, because
   the message to delete a binding may arrive at the HA prior to some
   data packets that were sent from the old access router.  For this
   reason, we propose that the HA implement a short hang timer when
   deleting a given binding, during which it will continue to receive
   and process data packets from the old point of attachment.  This
   timer should be configured according to the expected deployment
   scenario.








































McCann                   Expires October 6, 2008                [Page 8]

Internet-Draft           MIP4 Make-Before-Break               April 2008


5.  Security Considerations

   None for now.
















































McCann                   Expires October 6, 2008                [Page 9]

Internet-Draft           MIP4 Make-Before-Break               April 2008


6.  Normative References

   [I-D.leung-mip4-proxy-mode]
              Leung, K., "WiMAX Forum/3GPP2 Proxy Mobile IPv4",
              draft-leung-mip4-proxy-mode-04 (work in progress),
              October 2007.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC3344]  Perkins, C., "IP Mobility Support for IPv4", RFC 3344,
              August 2002.

   [RFC3957]  Perkins, C. and P. Calhoun, "Authentication,
              Authorization, and Accounting (AAA) Registration Keys for
              Mobile IPv4", RFC 3957, March 2005.

   [RFC4721]  Perkins, C., Calhoun, P., and J. Bharatia, "Mobile IPv4
              Challenge/Response Extensions (Revised)", RFC 4721,
              January 2007.































McCann                   Expires October 6, 2008               [Page 10]

Internet-Draft           MIP4 Make-Before-Break               April 2008


Author's Address

   Peter J. McCann
   Motorola
   Rm 2240
   1301 E. Algonquin Rd
   Schaumburg, IL  60196

   Phone: +1 847 576 3440
   Email: pete.mccann@motorola.com









































McCann                   Expires October 6, 2008               [Page 11]

Internet-Draft           MIP4 Make-Before-Break               April 2008


Full Copyright Statement

   Copyright (C) The IETF Trust (2008).

   This document is subject to the rights, licenses and restrictions
   contained in BCP 78, and except as set forth therein, the authors
   retain all their rights.

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST AND
   THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS
   OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF
   THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.


Intellectual Property

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in BCP 78 and BCP 79.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   http://www.ietf.org/ipr.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.


Acknowledgment

   Funding for the RFC Editor function is provided by the IETF
   Administrative Support Activity (IASA).





McCann                   Expires October 6, 2008               [Page 12]

