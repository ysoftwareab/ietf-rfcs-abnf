


Network Working Group                                          A. Newton
Internet-Draft                                            VeriSign, Inc.
Expires: January 15, 2006                                  July 14, 2005


  An ENUM Registry Type for the Internet Registry Information Service
                      draft-ietf-enum-iris-ereg-01

Status of this Memo

   By submitting this Internet-Draft, each author represents that any
   applicable patent or other IPR claims of which he or she is aware
   have been or will be disclosed, and any of which he or she becomes
   aware will be disclosed, in accordance with Section 6 of BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on January 15, 2006.

Copyright Notice

   Copyright (C) The Internet Society (2005).

Abstract

   This document describes an IRIS registry schema for registered ENUM
   information.  The schema extends the necessary query and result
   operations of IRIS to provide the functional information service
   needs for syntaxes and results used by ENUM registries.








Newton                  Expires January 15, 2006                [Page 1]

Internet-Draft                  iris-ereg                      July 2005


Table of Contents

   1.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  3
   2.  Document Terminology . . . . . . . . . . . . . . . . . . . . .  4
   3.  Schema Description . . . . . . . . . . . . . . . . . . . . . .  5
     3.1   Query Derivatives  . . . . . . . . . . . . . . . . . . . .  5
       3.1.1   <findEnumsByContact> Query . . . . . . . . . . . . . .  5
       3.1.2   <findContacts> Query . . . . . . . . . . . . . . . . .  5
       3.1.3   <findEnumsByHost> Query  . . . . . . . . . . . . . . .  6
       3.1.4   Contact Search Group . . . . . . . . . . . . . . . . .  6
     3.2   Result Derivatives . . . . . . . . . . . . . . . . . . . .  6
       3.2.1   Privacy Labels . . . . . . . . . . . . . . . . . . . .  7
       3.2.2   Contact Group  . . . . . . . . . . . . . . . . . . . .  8
       3.2.3   <enum> Result  . . . . . . . . . . . . . . . . . . . .  8
       3.2.4   <host> Result  . . . . . . . . . . . . . . . . . . . . 12
       3.2.5   <contact> Result . . . . . . . . . . . . . . . . . . . 13
       3.2.6   <registrationAuthority> Result . . . . . . . . . . . . 15
       3.2.7   <validationAuthority> Result . . . . . . . . . . . . . 16
       3.2.8   <carrier> Result . . . . . . . . . . . . . . . . . . . 16
       3.2.9   <validationEvent> Result . . . . . . . . . . . . . . . 17
     3.3   Generic Code Derivatives . . . . . . . . . . . . . . . . . 18
       3.3.1   <searchTooWide>  . . . . . . . . . . . . . . . . . . . 18
       3.3.2   <languageNotSupported> . . . . . . . . . . . . . . . . 19
     3.4   Support for <iris:lookupEntity>  . . . . . . . . . . . . . 19
   4.  Formal XML Syntax  . . . . . . . . . . . . . . . . . . . . . . 21
   5.  BEEP Transport Compliance  . . . . . . . . . . . . . . . . . . 45
     5.1   Message Pattern  . . . . . . . . . . . . . . . . . . . . . 45
     5.2   Server Authentication  . . . . . . . . . . . . . . . . . . 45
   6.  URI Resolution . . . . . . . . . . . . . . . . . . . . . . . . 46
     6.1   Application Service Label  . . . . . . . . . . . . . . . . 46
   7.  Internationalization Considerations  . . . . . . . . . . . . . 47
   8.  IANA Considerations  . . . . . . . . . . . . . . . . . . . . . 48
     8.1   XML Namespace URN Registration . . . . . . . . . . . . . . 48
     8.2   S-NAPTR Registration . . . . . . . . . . . . . . . . . . . 48
     8.3   BEEP Registration  . . . . . . . . . . . . . . . . . . . . 48
   9.  Security Considerations  . . . . . . . . . . . . . . . . . . . 49
   10.   Normative References . . . . . . . . . . . . . . . . . . . . 49
       Author's Address . . . . . . . . . . . . . . . . . . . . . . . 50
   A.  Contributions and Acknowledgements . . . . . . . . . . . . . . 51
       Intellectual Property and Copyright Statements . . . . . . . . 52











Newton                  Expires January 15, 2006                [Page 2]

Internet-Draft                  iris-ereg                      July 2005


1.  Introduction

   This document describes an IRIS registry schema for registries of
   ENUM data using an XML Schema [4] derived from and using the IRIS [5]
   schema.

   The schema given is this document is specified using the Extensible
   Markup Language (XML) 1.0 as described in XML [1], XML Schema
   notation as described in XML_SD [3] and XML_SS [4], and XML
   Namespaces as described in XML_NS [2].









































Newton                  Expires January 15, 2006                [Page 3]

Internet-Draft                  iris-ereg                      July 2005


2.  Document Terminology

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC2119 [10].

   This document uses the term "ENUM" as the fully qualified domain name
   following the conventions of ENUM [17].











































Newton                  Expires January 15, 2006                [Page 4]

Internet-Draft                  iris-ereg                      July 2005


3.  Schema Description

   IRIS requires the derivation of both query and result elements by a
   registry schemas.  These descriptions follow.

   References to XML elements with no namespace qualifier are from the
   schema defined in Section 4.  References to elements and attributes
   with the "iris" XML namespace qualifier are from the schema defined
   in IRIS [5].

   The descriptions contained within this section refer to XML elements
   and attributes and their relation to the exchange of data within the
   protocol.  These descriptions also contain specifications outside the
   scope of the formal XML syntax.  Therefore, this section will use
   terms defined by RFC 2119 [10] to describe the specification outside
   the scope of the formal XML syntax.  While reading this section,
   please reference Section 4 for needed details on the formal XML
   syntax.

3.1  Query Derivatives

3.1.1  <findEnumsByContact> Query

   <findEnumsByContact> finds ENUMs by searches on fields associated
   with an ENUM's contact.

   The allowable search fields are handled with either the
   <contactHandle> element or one of the elements in the
   "contactSearchGroup" (see Section 3.1.4).  The <contactHandle>
   element allows for the ENUMs to be selected based on the contact
   having the specified contact handle.

   The query MAY also be constrained further using the optional <role>
   element.  The contents of this element signify the role the contact
   has with the ENUM.

   This query also provides optional <language> elements containing
   language tags.  Clients MAY use these elements to give a hint about
   the natural language(s) of the affected element.  Servers MAY use
   this information in processing the query, such as tailoring
   normalization routines to aid in more effective searches.

3.1.2  <findContacts> Query

   <findContacts> searches for contacts given search constraints.

   The allowable search fields are handled by one of the elements in the
   "contactSearchGroup" (see Section 3.1.4).



Newton                  Expires January 15, 2006                [Page 5]

Internet-Draft                  iris-ereg                      July 2005


   This query also provides optional <language> elements containing
   language tags.  Clients MAY use these elements to give a hint about
   the natural language(s) of the affected element.  Servers MAY use
   this information in processing the query, such as tailoring
   normalization routines to aid in more effective searches.

3.1.3  <findEnumsByHost> Query

   This query does a simple search for the ENUMs being hosted by a name
   server.  The search is constrained using either the host name [12],
   host handle, IPv4 address, or IPv6 address of the name server.

3.1.4  Contact Search Group

   Some of the queries above have similar query constraints for
   searching on contacts.  This section describes those common
   parameters.

   <commonName> allows the query to be constrained based on the common
   name of the contact.  The constraint can either constrain the query
   by an exact match using the <exactMatch> element, or it may constrain
   the query by a subset of the common name using the <beginsWith> and
   <endsWith> elements.

   <organization> allows the query to be constrained based on the
   organization name of the contact.  It has the same semantics as the
   <commonName> element.

   <eMail> constrains the query based on the e-mail address of the
   contact.  This may be done by an exact e-mail address using the
   <exactMatch> element or by any e-mail address in a domain using the
   <inDomain> element.  The <inDomain> MUST only contain a valid domain
   name (i.e. no '@' symbol), and the matching SHOULD take place only on
   the domain given (i.e. no partial matches with respect to substrings
   or parent domains).  If either the contents of the <inDomain> element
   or domain part of the contents of the <exactMatch> element contain a
   name with non-ASCII characters, they MUST be normalized according to
   the processes of RFC 3491 [15].

   The <city>, <region>, and <postalCode> elements restrict the scope of
   the query based on the city, region, or postal code of the contact,
   respectively.  Each one must only contain an <exactMatch> element
   containing the exact city, region, or postal code (i.e. no substring
   searches).

3.2  Result Derivatives





Newton                  Expires January 15, 2006                [Page 6]

Internet-Draft                  iris-ereg                      July 2005


3.2.1  Privacy Labels

   Several of the results in this registry type have values that cannot
   be given but must be specified as present or must be flagged so that
   clients do not divulge them.  In order to achieve this, some of the
   results use the following element types:

   o  "dateTimePrivacyType" - contains the XML Schema [3] data type
      "dateTime".  The contents of this element MUST be specified using
      the 'Z' indicator for Coordinated Universal Time (UTC).

   o  "stringPrivacyType" - contains the XML Schema [3] data type
      "string".

   o  "normalizedStringPrivacyType" - contains the XML Schema [3] data
      type "normalizedString".

   o  "tokenPrivacyType" - contains the XML Schema [3] data type
      "token".

   o  "enumStatusType" - contains an optional element of <appliedDate>
      indicating the date and time the status was applied and an
      optional element of <description> with required attribute
      'language' indicating a description of the status.  This element
      also has an optional attribute of 'scope' to indicate the scope or
      origin of the status value.

   o  "contactTypeType" - contains an optional <description> child
      elements.  Each <description> child element requires a 'language'
      attribute.

   As specified, they are nillable and therefore may be present with
   empty content or present with their specified content.  The use of
   these elements is also optional.

   If present without content, each of these element types MUST have one
   or more of the following boolean attributes:

   o  'private' - if true, this specifies that the content is absent
      because it may never be published.

   o  'denied' - if true, this specifies that the content is absent
      because policy does not allow it to be given under the current
      level of access.

   If present with content, each of these element types MAY have one or
   more of the following boolean attributes:




Newton                  Expires January 15, 2006                [Page 7]

Internet-Draft                  iris-ereg                      July 2005


   o  'doNotRedistribute' - if true, this specifies that the content is
      not to be redistributed.

   o  'specialAccess' - if true, this specifies that the content has
      been provided due to special access rights.

   These boolean attributes SHOULD be used in accordance with the level
   of access being granted the recepient of the data.  For example,
   marking data as 'private' or 'denied' is to be expected if the user
   is anonymous or has some other low level of access that does not
   warrant viewing of that particular data.  Likewise, data marked with
   'doNotRedistribute' or 'specialAccess' is to be expected if the user
   is authenticated and has a high level of access.

3.2.2  Contact Group

   Many of the results share a set of references to contacts regarding
   an associated role.  These are represented by the following elements:

   o  <billingContact>

   o  <technicalContact>

   o  <administrativeContact>

   o  <legalContact>

   o  <zoneContact>

   o  <abuseContact>

   o  <securityContact>

   o  <otherContact>

   Each of these elements contain an entity reference.  The referent of
   each MUST be a <contact> (Section 3.2.5).

3.2.3  <enum> Result

   An example of a <enum> result:










Newton                  Expires January 15, 2006                [Page 8]

Internet-Draft                  iris-ereg                      July 2005


     <enum
       authority="3.0.7.1.e164.arpa" registryType="ereg1"
       entityClass="enum-handle" entityName="555-1212.001" >

       <e164Number>+1.7035551212</e164Number>

       <nameServer
           iris:referentType="ereg:host"
           authority="3.0.7.1.e164.arpa" registryType="ereg1"
           entityClass="host-handle" entityName="ns1.001" />
       <nameServer
           iris:referentType="ereg:host"
           authority="3.0.7.1.e164.arpa" registryType="ereg1"
           entityClass="host-handle" entityName="ns2.001" />

       <registrant
         iris:referentType="iris:contact"
         authority="3.0.7.1.e164.arpa" registryType="ereg1"
         entityClass="contact-handle" entityName="beb140">
         <iris:displayName language="en">
           Bill Eckels
         </iris:displayName>
       </registrant>

       <technicalContact
         iris:referentType="ereg:contact"
         authority="3.0.7.1.e164.arpa" registryType="ereg1"
         entityClass="contact-handle" entityName="mak21">
         <iris:displayName language="en">
           Mark Kosters
         </iris:displayName>
       </technicalContact>

       <status>
         <assignedAndActive/>
       </status>

     </enum>

   The <enum> result represents an instance of an ENUM assignment.  The
   children of the <enum> element are as follows:

   o  <e164Number> - the E.164 number for this ENUM as defined by [13].

   o  <enumHandle> - a registry unique assigned identifier to an ENUM.

   o  <nameServer> - MUST contain an entity reference to a referent of
      type <host> (Section 3.2.4).



Newton                  Expires January 15, 2006                [Page 9]

Internet-Draft                  iris-ereg                      July 2005


   o  <registrant> - elements containing an entity reference to the
      registrant of this ENUM.  The referent MUST be a <contact>
      (Section 3.2.5) result.

   o  ENUM contacts - see Section 3.2.2.

   o  <status> - may contain at least one of the following elements of
      type 'enumStatusType' (see Section 3.2.1), but none of these
      elements may appear more than once.

      *  <reservedDelegation> - permanently inactive

      *  <assignedAndActive> - normal state

      *  <assignedAndInactive> - registration assigned but delegation
         inactive

      *  <assignedAndOnHold> - dispute

      *  <revoked> - database purge pending

      *  <transferPending> - change of authority pending

      *  <registryLock> - on hold by registry

      *  <registrarLock> - on hold by registrar

   o  <registrationReference> - an element containing an entity
      reference, the referent of which MUST be an <enum>
      (Section 3.2.3).  The intention of this element is to point to the
      downstream registration reference.  Therefore, if this is a result
      given back by an ENUM registry, it should point to the ENUM in the
      ENUM registrar or registrant service.

   o  <registry> - contains an entity reference specifying the ENUM
      registry operator for this ENUM which MUST be a
      <registrationAuthority> (Section 3.2.6).

   o  <registrar> - contains an entity reference specifying the ENUM
      registrar operator for this ENUM which MUST be a
      <registrationAuthority> (Section 3.2.6).

   o  <validator> - contains an entity reference specifying the ENUM
      validator for this ENUM which MUST be a <validationAuthority>
      (Section 3.2.6).

   o  carriers - the following elements contain an entity reference with
      a relationship to the ENUM.  The referent of each MUST be a



Newton                  Expires January 15, 2006               [Page 10]

Internet-Draft                  iris-ereg                      July 2005


      <carrier> (Section 3.2.8).

      *  <lineCarrier>

      *  <signalCarrier>

      *  <dataCarrier>

      *  <voiceCarrier>

      *  <otherCarrier>

   o  <validationEvent> -- elements containing an entity reference to
      validation events related to this ENUM.  The referent MUST be a
      <validationEvent> (Section 3.2.9).

   o  <initialDelegationDateTime> - an element containing the date and
      time of the initial delegation of this ENUM.

   o  <lastRenewalDateTime> - an element containing the date and time of
      last renewal of this ENUM.

   o  <expirationDateTime> - an element containing the date and time of
      the expiration of this ENUM.

   o  <lastContactModificationDateTime> - specifies the last time a
      contact for the ENUM was added or removed.

   o  <lastContactModificationBy> - an element containing an entity
      reference.  The referent MUST be a <contact> (Section 3.2.5)
      responsible for the last addition or removal of a contact for this
      ENUM.

   o  <lastDelegationModificationDateTime> - an element containing the
      date and time of the last time one of the nameservers was added or
      removed for the delegation of this ENUM.

   o  <lastDelegationModificationBy> - an element containing an entity
      reference.  The referent MUST be a <contact> (Section 3.2.5)
      result and be responsible for the last addition or removal of a
      nameserver for this ENUM.

   o  <lastVerificationDateTime> - an element containing the date and
      time of the last time the data for this domain was verified by the
      responsible registration authority.

   o  <iris:seeAlso> - an element containing an entity reference
      specifying a referent that is indirectly associated with this



Newton                  Expires January 15, 2006               [Page 11]

Internet-Draft                  iris-ereg                      July 2005


      domain.


3.2.4  <host> Result

   An example of a <host> result:

   <host
     authority="iana.org" registryType="ereg1"
     entityClass="host-handle" entityName="nsol184" >
     <hostHandle>nsol184</hostHandle>
     <hostName>a.iana-servers.net</hostName>
     <ipV4Address>192.0.2.43</ipV4Address>
     <hostContact
       iris:referentType="contact"
       authority="iana.org" registryType="ereg1"
       entityClass="contact-handle" entityName="dbarton" />
   </host>

   The <host> element represents an instance of a host registration.
   The children of the <host> element are as follows:

   o  <hostHandle> - a registry unique assigned identifier for the host.

   o  <hostName> - the fully qualified domain name of the host.  The
      contents of this element are a domain name and MUST conform to RFC
      1035 [9].

   o  <ipV4Address> - the content of which MUST conform to the a valid
      IP version 4 host address as specified by RFC 791 [8].

   o  <ipV6Address> - the content of which MUST conform to the a valid
      IP version 6 host address as specified by RFC 3513 [7].

   o  <hostContact> - an element containing an entity reference
      specifying a contact associated with this host.  The referent MUST
      be <contact> (Section 3.2.5) results.

   o  <createdDateTime> - an element containing the date and time this
      host was created.

   o  <lastModificationDateTime> - an element containing the date and
      time this host was last modified.

   o  <lastVerificationDateTime> - an element containing the date and
      time this data for this host was last verified to be correct by
      the appropriate registration authority.




Newton                  Expires January 15, 2006               [Page 12]

Internet-Draft                  iris-ereg                      July 2005


   o  <iris:seeAlso> - an element containing an entity reference
      specifying a referent that is indirectly associated with this
      host.


3.2.5  <contact> Result

   An example of a <contact> result:

   <contact
     authority="iana.org" registryType="ereg1"
     entityClass="contact-handle" entityName="dbarton" >
     <contactHandle>dbarton</contactHandle>
     <commonName>IANA Manager</commonName>
     <organization>Internet Assigned Numbers Authority</organization>
     <eMail>res-dom@iana.org</eMail>
     <postalAddress>
       <address>4676 Admiralty Way, Suite 330</address>
       <city>Marina del Rey</city>
       <region>CA</region>
       <postalCode>92092</postalCode>
       <country>US</country>
     </postalAddress>
     <phone>310-823-9358</phone>
   </contact>

   The <contact> element represents an instance of a contact
   registration.  The children of the <contact> element are as follows:

   o  <contactHandle> - a registry unique assigned identifier for this
      contact.

   o  <commonName> - the name of the contact.

   o  <language> - a specification of the language code to use to
      localize the data in this result.

   o  <type> - contains one of the following child elements: <person>,
      <organization>, <role>, or <other>.  Each of these elements is a
      "contactTypeType" as defined in Section 3.2.1.

   o  <organization> - an element containing the organization name of
      the contact.

   o  <eMail> - elements containing an e-mail address for this contact.

   o  <IDNeMail> - elements containing an e-mail address within an
      internationalized domain name [14].



Newton                  Expires January 15, 2006               [Page 13]

Internet-Draft                  iris-ereg                      July 2005


   o  <sip> - elements containing a SIP URI for this contact.

   o  <postalAddress> - elements containing children representing a
      postal address. <postalAddress> has the following children:

      *  <address> - an element containing the street address for this
         contact.

      *  <city> - an element containing the city for this contact.

      *  <region> - an element containing the national region for this
         contact.

      *  <postalCode> - an element containing the postal code for this
         contact.

      *  <country> - an element containing the country for this contact.
         This SHOULD be a 2-letter country code compliant with ISO 3166
         [11].

   o  <phone> - elements containing a voice phone number for this
      contact.  If it begins with a '+' (plus) character, it MUST be a
      number defined by E164 [13].  The format number defined in E164
      [13] is RECOMMENDED.

   o  <fax> - elements containing a facsimile phone number for this
      contact.  If it begins with a '+' (plus) character, it MUST be a
      number defined by E164 [13].  The format number defined in E164
      [13] is RECOMMENDED.

   o  <createdDateTime> - an element containing the date and time this
      contact was created.

   o  <lastModificationDateTime> - an element containing the date and
      time this contact was last modified.

   o  <lastVerificationDateTime> - an element containing the date and
      time this data for this contact was last verified to be correct by
      the appropriate registration authority.

   o  <translatedContacts> - an element containing an entity reference
      specifying equivalents of this contact that have been translated
      into other languages.  The referent MUST be <contact>
      (Section 3.2.5) results.

   o  <iris:seeAlso> - an element containing an entity reference
      specifying a referent that is indirectly associated with this
      contact.



Newton                  Expires January 15, 2006               [Page 14]

Internet-Draft                  iris-ereg                      July 2005


3.2.6  <registrationAuthority> Result

   An example of a <registrationAuthority> result:

   <registrationAuthority
     authority="iana.org" registryType="ereg1"
     entityClass="registration-authority" entityName="iana" >
     <serviceInstance
       iris:referentType="iris:serviceIdentification"
       authority="iana.org" registryType="ereg1"
       entityClass="iris" entityName="id" />
     <organizationName>
       Internet Assigned Numbers Authority
     </organizationName>
     <registrar />
   </registrationAuthority>

   The <registrationAuthority> result represents an entity capable of
   registering domains.

   The <serviceInstance> child element of <registrationAuthority>
   contains an entity reference pointing to the entity "id" in the
   entity class "iris".

   The <organizationName> child element contains the name of the
   registration authority.

   The <legalId> child element contains an identifier of this
   registration authority (an example of such an identifier is a
   national taxation ID or a commercial registry number).

   The registration authority type child elements, <registry>,
   <registrar>, and <other>, determine the role in which this
   registration authority plays in the process of registering ENUMs.
   The intent of this element is to explain the various roles a
   registration authority may have with regards to the authority areas
   pointed to by the <serviceInstance> element.  A client MAY understand
   the relationship of a registration authority with respect to an ENUM
   by the placement of the reference in the domain (e.g. <registry> or
   <registrar>).

   contacts - see Section 3.2.2.

   <iris:seeAlso> - an element containing an entity reference specifying
   a referent that is indirectly associated with this registration
   authority.





Newton                  Expires January 15, 2006               [Page 15]

Internet-Draft                  iris-ereg                      July 2005


3.2.7  <validationAuthority> Result

   An example of a <validationAuthority> result:

   <validationAuthority
     authority="example.org" registryType="ereg1"
     entityClass="validation-authority" entityName="govt" >
     <serviceInstance
       iris:referentType="iris:serviceIdentification"
       authority="example.org" registryType="ereg1"
       entityClass="iris" entityName="id" />
     <organizationName>
       Some Government Authority
     </organizationName>
     <technicalContact
       iris:referentType="iris:contact"
       authority="example.org" registryType="ereg1"
       entityClass="contact-handle" entityName="1234" />
     <administrativeContact
       iris:referentType="iris:contact"
       authority="example.org" registryType="ereg1"
       entityClass="contact-handle" entityName="abc" />
   </validationAuthority>

   The <validationAuthority> result represents an entity responsible for
   validating ENUMs against E.164 [13] registrations.

   The <serviceInstance> child element of <validationAuthority> contains
   an entity reference pointing to the entity "id" in the entity class
   "iris".

   The <organizationName> child element contains the name of the
   validation authority.

   The <legalId> child element contains an identifier of this validation
   authority (an example of such an identifier is a national taxation ID
   or a commercial registry number).

   contacts - see Section 3.2.2.

   <iris:seeAlso> - an element containing an entity reference specifying
   a referent that is indirectly associated with this validation
   authority.

3.2.8  <carrier> Result

   An example of a <carrier> result:




Newton                  Expires January 15, 2006               [Page 16]

Internet-Draft                  iris-ereg                      July 2005


   <carrier
     authority="bell.example.com" registryType="ereg1"
     entityClass="carrier" entityName="bellco" >
     <serviceInstance
       iris:referentType="iris:serviceIdentification"
       authority="bell.example.com" registryType="ereg1"
       entityClass="iris" entityName="id" />
     <organizationName>
       Big Phone Co.
     </organizationName>
     <line />
   </carrier>

   The <carrier> result represents an entity providing ENUM service.

   The <serviceInstance> child element of <carrier> contains an entity
   reference pointing to the entity "id" in the entity class "iris".

   The <organizationName> child element contains the name of the
   registration authority.

   The <legalId> child element contains an identifier of this carrier
   (an example of such an identifier is a national taxation ID or a
   commercial registry number).

   The carrier type child elements, <line>, <signal>, <data>, <voice>
   and <other>, details the capabilities this carrier maintains.  The
   capabilities this carrier provide to a specific ENUM are a subset of
   these capabilities and are expressed in the <enum> result using the
   <lineCarrier>, <signalCarrier>, <dataCarrier>, <voiceCarrier>, and
   <otherCarrier> entity references.

   contacts - see Section 3.2.2.

   <iris:seeAlso> - an element containing an entity reference specifying
   a referent that is indirectly associated with this carrier.

3.2.9  <validationEvent> Result

   An example of a <validationEvent> result:











Newton                  Expires January 15, 2006               [Page 17]

Internet-Draft                  iris-ereg                      July 2005


   <validationEvent
     authority="example.com" registryType="ereg1"
     entityClass="validation-event" entityName="xyz-0123" >
     <serialId>xyz-0123</serialId>
     <validator
       iris:referentType="ereg:validationAuthority"
       authority="bell.example.com" registryType="ereg1"
       entityClass="iris" entityName="id" />
   </validationEvent>

   The <validationEvent> result represents a record of validation for an
   ENUM.

   The <serialId> child element contains an identifier identifying this
   validation event between an validator and a registrar.

   The <method> child element contains an identifier describing the
   method used for validation.

   <registrar> - contains an entity reference specifying the ENUM
   registrar operator for this validation event which MUST be a
   <registrationAuthority> (Section 3.2.6).

   <validator> - contains an entity reference specifying the ENUM
   validator for this validation event which MUST be a
   <validationAuthority> (Section 3.2.6).

   <creationDateTime> - an element containing the date and time of the
   creation of this validation event.

   <lastRenewalDateTime> - an element containing the date and time of
   last renewal of this validation event.

   <expirationDateTime> - an element containing the date and time of the
   expiration of this validation event.

   <iris:seeAlso> - an element containing an entity reference specifying
   a referent that is indirectly associated with this validation event.

3.3  Generic Code Derivatives

3.3.1  <searchTooWide>

   Servers MAY use the <searchTooWide> error code when a query must be
   narrowed to yield a result set acceptable to the policies of the
   server operator.





Newton                  Expires January 15, 2006               [Page 18]

Internet-Draft                  iris-ereg                      July 2005


3.3.2  <languageNotSupported>

   The queries <findEnumsByContact>, and <findContacts> support optional
   language tags that allow a client to suggest to a server the
   languages in which to scope the queries.  If a client passes to the
   server a language which the server does not support, the server MAY
   use this error code to indicate that one of the languages is not
   supported.

   This element contains child elements named <unsupportedLanguage>.
   Each of these child elements specify a language not supported by the
   server.  When a server returns this error, it MUST give the languages
   from the query which are not supported.

3.4  Support for <iris:lookupEntity>

   The following types of entity classes are recognized by the
   <lookupEntity> query of IRIS for this registry:

   o  host-name - the fully qualified domain name of a nameserver.  It
      yields a <host> (Section 3.2.4) in the response.

   o  host-handle - the registry unique identifier given a nameserver.
      It yields a <host> (Section 3.2.4) in the response.

   o  e164 - an E.164 number as specified by [13].  It yields a <enum>
      (Section 3.2.3) in the response.

   o  enum - the fully qualified name of an ENUM domain.  This is a
      domain name as specified by RFC 1035 [9].  It yields a <enum>
      (Section 3.2.3) in the response.

   o  enum-handle - the registry unique identifier given a ENUM.  It
      yields a <enum> (Section 3.2.3) in the response.

   o  contact-handle - the registry unique identifier given a contact.
      It yields a <contact> (Section 3.2.5) in the response.

   o  ipv4-address - the IPv4 address of a nameserver.  It yields a
      <host> (Section 3.2.4) in the response.

   o  ipv6-address - the IPv6 address of a nameserver.  It yields a
      <host> (Section 3.2.4) in the response.

   o  registration-authority - the name of a registration authority.  It
      yields a <registrationAuthority> (Section 3.2.6) in the response.





Newton                  Expires January 15, 2006               [Page 19]

Internet-Draft                  iris-ereg                      July 2005


   o  validation-authority - the name of an validation authority.  It
      yields a <validationAuthority> (Section 3.2.7)

   o  carrier - the name of a carrier.  Yields a <carrier>
      (Section 3.2.8).

   o  validation-event - the identifier for a validation event.  It
      yields a <validationEvent> (Section 3.2.9).

   o  All names in these entity classes are case insensitive.









































Newton                  Expires January 15, 2006               [Page 20]

Internet-Draft                  iris-ereg                      July 2005


4.  Formal XML Syntax

   This registry schema is specified in the XML Schema notation.  The
   formal syntax presented here is a complete schema representation
   suitable for automated validation of an XML instance when combined
   with the formal schema syntax of IRIS.


   <?xml version="1.0"?>
   <schema xmlns="http://www.w3.org/2001/XMLSchema"
     xmlns:ereg="urn:ietf:params:xml:ns:ereg1"
     xmlns:iris="urn:ietf:params:xml:ns:iris1"
     targetNamespace="urn:ietf:params:xml:ns:ereg1"
     elementFormDefault="qualified" >

     <import namespace="urn:ietf:params:xml:ns:iris1" />

     <annotation>
       <documentation>
         ENUM registry schema
         derived from IRIS schema
       </documentation>
     </annotation>

     <!-- ========================================= -->
     <!--                                           -->
     <!-- Query Types                               -->
     <!--                                           -->
     <!-- ========================================= -->

     <!--                                           -->
     <!-- Find ENUMs By Contact                     -->
     <!--                                           -->

     <complexType
       name="findEnumsByContactType">
       <complexContent>
         <extension
           base="iris:queryType">
           <sequence>
             <choice>
               <group
                 ref="ereg:contactSearchGroup" />
               <element
                 name="contactHandle"
                 type="ereg:exactMatchParameter" />
             </choice>
             <element



Newton                  Expires January 15, 2006               [Page 21]

Internet-Draft                  iris-ereg                      July 2005


               name="role"
               minOccurs="0"
               maxOccurs="1" >
               <simpleType>
                 <restriction
                   base="string" >
                   <enumeration
                     value="registrant" />
                   <enumeration
                     value="billingContact" />
                   <enumeration
                     value="technicalContact" />
                   <enumeration
                     value="administrativeContact" />
                   <enumeration
                     value="legalContact" />
                   <enumeration
                     value="zoneContact" />
                   <enumeration
                     value="abuseContact" />
                   <enumeration
                     value="securityContact" />
                   <enumeration
                     value="otherContact" />
                 </restriction>
               </simpleType>
             </element>
             <element
               name="language"
               type="language"
               minOccurs="0"
               maxOccurs="unbounded"/>
           </sequence>
         </extension>
       </complexContent>
     </complexType>

     <element
       name="findEnumsByContact"
       type="ereg:findEnumsByContactType"
       substitutionGroup="iris:query" />

     <!--                                           -->
     <!-- Find Contacts                             -->
     <!--                                           -->

     <complexType
       name="findContactsType">



Newton                  Expires January 15, 2006               [Page 22]

Internet-Draft                  iris-ereg                      July 2005


       <complexContent>
         <extension
           base="iris:queryType">
           <sequence>
             <group
               ref="ereg:contactSearchGroup" />
             <element
               name="language"
               type="language"
               minOccurs="0"
               maxOccurs="unbounded"/>
            </sequence>
         </extension>
       </complexContent>
     </complexType>

     <element
       name="findContacts"
       type="ereg:findContactsType"
       substitutionGroup="iris:query" />

     <!--                                           -->
     <!-- Find ENUMs By Host                        -->
     <!--                                           -->

     <complexType
       name="findEnumsByHostType">
       <complexContent>
         <extension
           base="iris:queryType">
           <sequence>
             <choice>
               <element
                 name="hostName"
                 type="ereg:exactMatchParameter" />
               <element
                 name="hostHandle"
                 type="ereg:exactMatchParameter" />
               <element
                 name="ipV4Address"
                 type="ereg:exactMatchParameter" />
               <element
                 name="ipV6Address"
                 type="ereg:exactMatchParameter" />
             </choice>
           </sequence>
         </extension>
       </complexContent>



Newton                  Expires January 15, 2006               [Page 23]

Internet-Draft                  iris-ereg                      July 2005


     </complexType>

     <element
       name="findEnumsByHost"
       type="ereg:findEnumsByHostType"
       substitutionGroup="iris:query" />

     <!--                                           -->
     <!-- Contact Search Group                      -->
     <!--                                           -->

     <group
       name="contactSearchGroup">
       <choice>
         <element
           name="commonName"
           type="ereg:exactOrPartialMatchParameter" />
         <element
           name="organization"
           type="ereg:exactOrPartialMatchParameter" />
         <element
           name="eMail"
           type="ereg:domainResourceParameter" />
         <element
           name="sip"
           type="ereg:domainResourceParameter" />
         <element
           name="city"
           type="ereg:exactMatchParameter" />
         <element
           name="region"
           type="ereg:exactMatchParameter" />
         <element
           name="postalCode"
           type="ereg:exactMatchParameter" />
       </choice>
     </group>

     <complexType
       name="exactOrPartialMatchParameter">
       <choice>
         <group
           ref="ereg:partialMatchGroup" />
         <group
           ref="ereg:exactMatchGroup" />
       </choice>
     </complexType>




Newton                  Expires January 15, 2006               [Page 24]

Internet-Draft                  iris-ereg                      July 2005


     <complexType
       name="exactMatchParameter">
       <group
         ref="ereg:exactMatchGroup" />
     </complexType>

     <complexType
       name="partialMatchParameter">
       <sequence>
         <group
           ref="ereg:partialMatchGroup" />
       </sequence>
     </complexType>

     <complexType
       name="domainResourceParameter" >
       <choice>
         <group
           ref="ereg:exactMatchGroup" />
         <element
           name="inDomain"
           type="token" />
       </choice>
     </complexType>

     <group
       name="partialMatchGroup">
       <choice>
         <sequence>
           <element
             name="beginsWith">
             <simpleType>
               <restriction
                 base="token">
                 <minLength
                   value="1"/>
               </restriction>
             </simpleType>
           </element>
           <element
             minOccurs="0"
             name="endsWith"
             type="ereg:endsWithType" />
         </sequence>
         <element
           name="endsWith"
           type="ereg:endsWithType" />
       </choice>



Newton                  Expires January 15, 2006               [Page 25]

Internet-Draft                  iris-ereg                      July 2005


     </group>

     <simpleType
       name="endsWithType">
       <restriction
         base="token">
         <minLength
           value="1" />
       </restriction>
     </simpleType>

     <group
       name="exactMatchGroup">
       <sequence>
         <element
           name="exactMatch"
           type="normalizedString" />
       </sequence>
     </group>

     <!-- ========================================= -->
     <!--                                           -->
     <!-- Result Types                              -->
     <!--                                           -->
     <!-- ========================================= -->

     <!--                                           -->
     <!-- ENUM                                      -->
     <!--                                           -->

     <complexType
       name="enumType">
       <complexContent>
         <extension
           base="iris:resultType">
           <sequence>
             <element
               name="e164Number"
               type="token" />
             <element
               name="enumHandle"
               type="ereg:normalizedStringPrivacyType"
               nillable="true"
               minOccurs="0"
               maxOccurs="1" />
             <element
               name="nameServer"
               type="iris:entityType"



Newton                  Expires January 15, 2006               [Page 26]

Internet-Draft                  iris-ereg                      July 2005


               minOccurs="0"
               maxOccurs="unbounded" />
             <element
               name="registrant"
               type="iris:entityType"
               minOccurs="0"
               maxOccurs="unbounded" />
             <group ref="ereg:contactGroup" />
             <element
               name="lastContactModificationDateTime"
               type="ereg:dateTimePrivacyType"
               nillable="true"
               minOccurs="0"
               maxOccurs="1" />
             <element
               name="lastContactModificationBy"
               type="iris:entityType"
               minOccurs="0"
               maxOccurs="1" />
             <element
               name="status"
               minOccurs="0"
               maxOccurs="1">
               <complexType>
                 <all>
                   <element
                     name="reservedDelegation"
                     minOccurs="0"
                     maxOccurs="1"
                     type="ereg:enumStatusType" />
                   <element
                     name="assignedAndActive"
                     minOccurs="0"
                     maxOccurs="1"
                     type="ereg:enumStatusType" />
                   <element
                     name="assignedAndInactive"
                     minOccurs="0"
                     maxOccurs="1"
                     type="ereg:enumStatusType" />
                   <element
                     name="assignedAndOnHold"
                     minOccurs="0"
                     maxOccurs="1"
                     type="ereg:enumStatusType" />
                   <element
                     name="revoked"
                     minOccurs="0"



Newton                  Expires January 15, 2006               [Page 27]

Internet-Draft                  iris-ereg                      July 2005


                     maxOccurs="1"
                     type="ereg:enumStatusType" />
                   <element
                     name="transferPending"
                     minOccurs="0"
                     maxOccurs="1"
                     type="ereg:enumStatusType" />
                   <element
                     name="registryLock"
                     minOccurs="0"
                     maxOccurs="1"
                     type="ereg:enumStatusType" />
                   <element
                     name="registrarLock"
                     minOccurs="0"
                     maxOccurs="1"
                     type="ereg:enumStatusType" />
                   <element
                     name="other"
                     minOccurs="0"
                     maxOccurs="1"
                     type="ereg:enumStatusType" />
                 </all>
               </complexType>
             </element>
             <element
               name="registrationReference"
               type="iris:entityType"
               minOccurs="0"
               maxOccurs="1" />
             <element
               name="registry"
               type="iris:entityType"
               minOccurs="0"
               maxOccurs="1" />
             <element
               name="registrar"
               type="iris:entityType"
               minOccurs="0"
               maxOccurs="1" />
             <element
               name="validator"
               type="iris:entityType"
               minOccurs="0"
               maxOccurs="1" />
             <element
               name="signalCarrier"
               type="iris:entityType"



Newton                  Expires January 15, 2006               [Page 28]

Internet-Draft                  iris-ereg                      July 2005


               minOccurs="0"
               maxOccurs="unbounded" />
             <element
               name="dataCarrier"
               type="iris:entityType"
               minOccurs="0"
               maxOccurs="unbounded" />
             <element
               name="lineCarrier"
               type="iris:entityType"
               minOccurs="0"
               maxOccurs="unbounded"/>
             <element
               name="voiceCarrier"
               type="iris:entityType"
               minOccurs="0"
               maxOccurs="unbounded" />
             <element
               name="otherCarrier"
               type="iris:entityType"
               minOccurs="0"
               maxOccurs="unbounded" />
             <element
               name="validationEvent"
               type="iris:entityType"
               minOccurs="0"
               maxOccurs="unbounded"/>
             <element
               name="initialDelegationDateTime"
               type="ereg:dateTimePrivacyType"
               nillable="true"
               minOccurs="0"
               maxOccurs="1" />
             <element
               name="lastRenewalDateTime"
               type="ereg:dateTimePrivacyType"
               nillable="true"
               minOccurs="0"
               maxOccurs="1" />
             <element
               name="expirationDateTime"
               type="ereg:dateTimePrivacyType"
               nillable="true"
               minOccurs="0"
               maxOccurs="1" />
             <element
               name="lastDelegationModificationDateTime"
               type="ereg:dateTimePrivacyType"



Newton                  Expires January 15, 2006               [Page 29]

Internet-Draft                  iris-ereg                      July 2005


               nillable="true"
               minOccurs="0"
               maxOccurs="1" />
             <element
               name="lastDelegationModificationBy"
               type="iris:entityType"
               minOccurs="0"
               maxOccurs="1" />
             <element
               name="lastVerificationDateTime"
               type="ereg:dateTimePrivacyType"
               nillable="true"
               minOccurs="0"
               maxOccurs="1" />
             <element
               ref="iris:seeAlso"
               minOccurs="0"
               maxOccurs="unbounded" />
           </sequence>
         </extension>
       </complexContent>
     </complexType>

     <element
       name="enum"
       type="ereg:enumType"
       substitutionGroup="iris:result" />

     <!--                                           -->
     <!-- Host                                      -->
     <!--                                           -->

     <complexType
       name="hostType">
       <complexContent>
         <extension
           base="iris:resultType">
           <sequence>
             <element
               name="hostHandle"
               type="ereg:normalizedStringPrivacyType"
               nillable="true"
               minOccurs="0"
               maxOccurs="1" />
             <element
               name="hostName"
               type="normalizedString" />
             <element



Newton                  Expires January 15, 2006               [Page 30]

Internet-Draft                  iris-ereg                      July 2005


               name="ipV4Address"
               type="token"
               minOccurs="0"
               maxOccurs="unbounded" />
             <element
               name="ipV6Address"
               type="token"
               minOccurs="0"
               maxOccurs="unbounded" />
             <element
               name="hostContact"
               type="iris:entityType"
               minOccurs="0"
               maxOccurs="unbounded" />
             <element
               name="createdDateTime"
               type="ereg:dateTimePrivacyType"
               nillable="true"
               minOccurs="0"
               maxOccurs="1" />
             <element
               name="lastModificationDateTime"
               type="ereg:dateTimePrivacyType"
               nillable="true"
               minOccurs="0"
               maxOccurs="1" />
             <element
               name="lastVerificationDateTime"
               type="ereg:dateTimePrivacyType"
               nillable="true"
               minOccurs="0"
               maxOccurs="1" />
             <element
               ref="iris:seeAlso"
               minOccurs="0"
               maxOccurs="unbounded" />
           </sequence>
         </extension>
       </complexContent>
     </complexType>

     <element
       name="host"
       type="ereg:hostType"
       substitutionGroup="iris:result" />

     <!--                                           -->
     <!-- Contact                                   -->



Newton                  Expires January 15, 2006               [Page 31]

Internet-Draft                  iris-ereg                      July 2005


     <!--                                           -->

     <complexType
       name="contactType">
       <complexContent>
         <extension
           base="iris:resultType">
           <sequence>
             <element
               name="contactHandle"
               type="ereg:normalizedStringPrivacyType"
               nillable="true"
               minOccurs="0"
               maxOccurs="1" />
             <element
               name="commonName"
               type="ereg:normalizedStringPrivacyType"
               nillable="true"
               minOccurs="0"
               maxOccurs="1"/>
             <element
               name="language"
               type="language"
               minOccurs="0"
               maxOccurs="1" />
             <element
               name="type"
               minOccurs="0"
               maxOccurs="1">
               <complexType>
                 <choice>
                   <element
                     name="person"
                     type="ereg:contactTypeType" />
                   <element
                     name="organization"
                     type="ereg:contactTypeType" />
                   <element
                     name="role"
                     type="ereg:contactTypeType" />
                   <element
                     name="other"
                     type="ereg:contactTypeType" />
                 </choice>
               </complexType>
             </element>
             <element
               name="organization"



Newton                  Expires January 15, 2006               [Page 32]

Internet-Draft                  iris-ereg                      July 2005


               type="ereg:normalizedStringPrivacyType"
               nillable="true"
               minOccurs="0"
               maxOccurs="1" />
             <element
               name="eMail"
               type="ereg:stringPrivacyType"
               nillable="true"
               minOccurs="0"
               maxOccurs="unbounded" />
             <element
               name="IDNeMail"
               type="ereg:stringPrivacyType"
               nillable="true"
               minOccurs="0"
               maxOccurs="unbounded" />
             <element
               name="sip"
               type="ereg:stringPrivacyType"
               nillable="true"
               minOccurs="0"
               maxOccurs="unbounded" />
             <element
               name="postalAddress"
               minOccurs="0"
               maxOccurs="unbounded" >
               <complexType>
                 <sequence>
                   <element
                     name="address"
                     type="ereg:stringPrivacyType"
                     nillable="true"
                     minOccurs="0"
                     maxOccurs="1" />
                   <element
                     name="city"
                     type="ereg:stringPrivacyType"
                     nillable="true"
                     minOccurs="0"
                     maxOccurs="1" />
                   <element
                     name="region"
                     type="ereg:stringPrivacyType"
                     nillable="true"
                     minOccurs="0"
                     maxOccurs="1" />
                   <element
                     name="postalCode"



Newton                  Expires January 15, 2006               [Page 33]

Internet-Draft                  iris-ereg                      July 2005


                     type="ereg:normalizedStringPrivacyType"
                     nillable="true"
                     minOccurs="0"
                     maxOccurs="1" />
                   <element
                     name="country"
                     type="ereg:tokenPrivacyType"
                     nillable="true"
                     minOccurs="0"
                     maxOccurs="1" />
                 </sequence>
               </complexType>
             </element>
             <element
               name="phone"
               type="ereg:normalizedStringPrivacyType"
               nillable="true"
               minOccurs="0"
               maxOccurs="unbounded" />
             <element
               name="fax"
               type="ereg:normalizedStringPrivacyType"
               nillable="true"
               minOccurs="0"
               maxOccurs="unbounded" />
             <element
               name="createdDateTime"
               type="ereg:dateTimePrivacyType"
               nillable="true"
               minOccurs="0"
               maxOccurs="1" />
             <element
               name="lastModificationDateTime"
               type="ereg:dateTimePrivacyType"
               nillable="true"
               minOccurs="0"
               maxOccurs="1" />
             <element
               name="lastVerificationDateTime"
               type="ereg:dateTimePrivacyType"
               nillable="true"
               minOccurs="0"
               maxOccurs="1" />
             <element
               name="translatedContact"
               type="iris:entityType"
               minOccurs="0"
               maxOccurs="unbounded" />



Newton                  Expires January 15, 2006               [Page 34]

Internet-Draft                  iris-ereg                      July 2005


             <element
               ref="iris:seeAlso"
               minOccurs="0"
               maxOccurs="unbounded" />
           </sequence>
         </extension>
       </complexContent>
     </complexType>

     <element
       name="contact"
       type="ereg:contactType"
       substitutionGroup="iris:result" />

     <!--                                           -->
     <!-- Registration Authority                    -->
     <!--                                           -->

     <complexType
       name="registrationAuthorityType">
       <complexContent>
         <extension
           base="iris:resultType">
           <sequence>
             <element
               name="serviceInstance"
               type="iris:entityType"
               minOccurs="0"
               maxOccurs="1" />
             <element
               name="organizationName"
               type="string"
               minOccurs="0"
               maxOccurs="1" />
             <element
               name="legalId"
               type="token"
               minOccurs="0"
               maxOccurs="1"/>
             <choice
               minOccurs="0"
               maxOccurs="3">
               <element
                 name="registry">
                 <complexType/>
               </element>
               <element
                 name="registrar">



Newton                  Expires January 15, 2006               [Page 35]

Internet-Draft                  iris-ereg                      July 2005


                 <complexType/>
               </element>
               <element
                 name="other">
                 <complexType/>
               </element>
             </choice>
             <group ref="ereg:contactGroup" />
             <element
               ref="iris:seeAlso"
               minOccurs="0"
               maxOccurs="unbounded" />
           </sequence>
         </extension>
       </complexContent>
     </complexType>

     <element
       name="registrationAuthority"
       type="ereg:registrationAuthorityType"
       substitutionGroup="iris:result" />

     <!--                                           -->
     <!-- Validation Authority                      -->
     <!--                                           -->

     <complexType
       name="validationAuthorityType">
       <complexContent>
         <extension
           base="iris:resultType">
           <sequence>
             <element
               name="serviceInstance"
               type="iris:entityType"
               minOccurs="0"
               maxOccurs="1" />
             <element
               name="organizationName"
               type="string"
               minOccurs="0"
               maxOccurs="1" />
             <element
               name="legalId"
               type="token"
               minOccurs="0"
               maxOccurs="1"/>
             <group ref="ereg:contactGroup" />



Newton                  Expires January 15, 2006               [Page 36]

Internet-Draft                  iris-ereg                      July 2005


             <element
               ref="iris:seeAlso"
               minOccurs="0"
               maxOccurs="unbounded" />
           </sequence>
         </extension>
       </complexContent>
     </complexType>

     <element
       name="validationAuthority"
       type="ereg:validationAuthorityType"
       substitutionGroup="iris:result" />

     <!--                                           -->
     <!-- Carrier                                   -->
     <!--                                           -->

     <complexType
       name="carrierType">
       <complexContent>
         <extension
           base="iris:resultType">
           <sequence>
             <element
               name="serviceInstance"
               type="iris:entityType"
               minOccurs="0"
               maxOccurs="1" />
             <element
               name="organizationName"
               type="string"
               minOccurs="0"
               maxOccurs="1" />
             <element
               name="legalId"
               type="token"
               minOccurs="0"
               maxOccurs="1"/>
             <choice
               minOccurs="0"
               maxOccurs="5">
               <element
                 minOccurs="0"
                 maxOccurs="1"
                 name="line">
                 <complexType/>
               </element>



Newton                  Expires January 15, 2006               [Page 37]

Internet-Draft                  iris-ereg                      July 2005


               <element
                 minOccurs="0"
                 maxOccurs="1"
                 name="data">
                 <complexType/>
               </element>
               <element
                 minOccurs="0"
                 maxOccurs="1"
                 name="voice">
                 <complexType/>
               </element>
               <element
                 minOccurs="0"
                 maxOccurs="1"
                 name="signal">
                 <complexType/>
               </element>
               <element
                 minOccurs="0"
                 maxOccurs="1"
                 name="other">
                 <complexType/>
               </element>
             </choice>
             <group ref="ereg:contactGroup" />
             <element
               ref="iris:seeAlso"
               minOccurs="0"
               maxOccurs="unbounded" />
           </sequence>
         </extension>
       </complexContent>
     </complexType>

     <element
       name="carrier"
       type="ereg:carrierType"
       substitutionGroup="iris:result" />

     <!--                                           -->
     <!-- Validation Event                          -->
     <!--                                           -->

     <complexType
       name="validationEventType">
       <complexContent>
         <extension



Newton                  Expires January 15, 2006               [Page 38]

Internet-Draft                  iris-ereg                      July 2005


           base="iris:resultType">
           <sequence>
             <element
               name="serialId"
               type="token"
               minOccurs="0"
               maxOccurs="unbounded" />
             <element
               name="method"
               type="token"
               minOccurs="0"
               maxOccurs="unbounded" />
             <element
               name="validator"
               type="iris:entityType"
               minOccurs="0"
               maxOccurs="unbounded" />
             <element
               name="registrar"
               type="iris:entityType"
               minOccurs="0"
               maxOccurs="unbounded" />
             <element
               name="creationDateTime"
               type="ereg:dateTimePrivacyType"
               nillable="true"
               minOccurs="0"
               maxOccurs="1" />
             <element
               name="lastRenewalDateTime"
               type="ereg:dateTimePrivacyType"
               nillable="true"
               minOccurs="0"
               maxOccurs="1" />
             <element
               name="expirationDateTime"
               type="ereg:dateTimePrivacyType"
               nillable="true"
               minOccurs="0"
               maxOccurs="1" />
             <element
               ref="iris:seeAlso"
               minOccurs="0"
               maxOccurs="unbounded" />
           </sequence>
         </extension>
       </complexContent>
     </complexType>



Newton                  Expires January 15, 2006               [Page 39]

Internet-Draft                  iris-ereg                      July 2005


     <element
       name="validationEvent"
       type="ereg:validationEventType"
       substitutionGroup="iris:result" />

     <!--                                           -->
     <!-- Contact Group                             -->
     <!--                                           -->

     <group name="contactGroup">
       <sequence>
         <element
           name="billingContact"
           type="iris:entityType"
           minOccurs="0"
           maxOccurs="unbounded" />
         <element
           name="technicalContact"
           type="iris:entityType"
           minOccurs="0"
           maxOccurs="unbounded" />
         <element
           name="administrativeContact"
           type="iris:entityType"
           minOccurs="0"
           maxOccurs="unbounded" />
         <element
           name="legalContact"
           type="iris:entityType"
           minOccurs="0"
           maxOccurs="unbounded" />
         <element
           name="zoneContact"
           type="iris:entityType"
           minOccurs="0"
           maxOccurs="unbounded" />
         <element
           name="abuseContact"
           type="iris:entityType"
           minOccurs="0"
           maxOccurs="unbounded" />
         <element
           name="securityContact"
           type="iris:entityType"
           minOccurs="0"
           maxOccurs="unbounded" />
         <element
           name="otherContact"



Newton                  Expires January 15, 2006               [Page 40]

Internet-Draft                  iris-ereg                      July 2005


           type="iris:entityType"
           minOccurs="0"
           maxOccurs="unbounded" />
       </sequence>
     </group>

     <!--                                           -->
     <!-- Privacy Label Types                       -->
     <!--                                           -->

     <attributeGroup
       name="privacyLabelAttributeGroup">
       <attribute
         name="private"
         type="boolean" />
       <attribute
         name="denied"
         type="boolean" />
       <attribute
         name="doNotRedistribute"
         type="boolean" />
       <attribute
         name="specialAccess"
         type="boolean" />
     </attributeGroup>

     <complexType
       name="dateTimePrivacyType">
       <simpleContent>
         <extension
           base="dateTime">
           <attributeGroup
             ref="ereg:privacyLabelAttributeGroup" />
         </extension>
       </simpleContent>
     </complexType>

     <complexType
       name="stringPrivacyType">
       <simpleContent>
         <extension
           base="string">
           <attributeGroup
             ref="ereg:privacyLabelAttributeGroup" />
         </extension>
       </simpleContent>
     </complexType>




Newton                  Expires January 15, 2006               [Page 41]

Internet-Draft                  iris-ereg                      July 2005


     <complexType
       name="normalizedStringPrivacyType">
       <simpleContent>
         <extension
           base="normalizedString">
           <attributeGroup
             ref="ereg:privacyLabelAttributeGroup" />
         </extension>
       </simpleContent>
     </complexType>

     <complexType
       name="tokenPrivacyType">
       <simpleContent>
         <extension
           base="token">
           <attributeGroup
             ref="ereg:privacyLabelAttributeGroup" />
         </extension>
       </simpleContent>
     </complexType>

     <complexType
       name="enumStatusType">
       <sequence>
         <element
           name="appliedDate"
           type="dateTime"
           minOccurs="0"
           maxOccurs="1" />
         <element
           name="description"
           minOccurs="0"
           maxOccurs="unbounded">
           <complexType>
             <simpleContent>
               <extension
                 base="string">
                 <attribute
                   name="language"
                   type="language"
                   use="required" />
               </extension>
             </simpleContent>
           </complexType>
         </element>
       </sequence>
       <attributeGroup



Newton                  Expires January 15, 2006               [Page 42]

Internet-Draft                  iris-ereg                      July 2005


         ref="ereg:privacyLabelAttributeGroup" />
       <attribute
         name="scope"
         type="string" />
     </complexType>

     <complexType
       name="contactTypeType">
       <sequence>
         <element
           name="description"
           minOccurs="0"
           maxOccurs="unbounded">
           <complexType>
             <simpleContent>
               <extension
                 base="string">
                 <attribute
                   name="language"
                   type="language"
                   use="required" />
               </extension>
             </simpleContent>
           </complexType>
         </element>
       </sequence>
       <attributeGroup
         ref="ereg:privacyLabelAttributeGroup" />
     </complexType>

     <!-- ========================================= -->
     <!--                                           -->
     <!-- Error Codes                               -->
     <!--                                           -->
     <!-- ========================================= -->

     <!--                                           -->
     <!-- Search Too Wide                           -->
     <!--                                           -->

     <element
       name="searchTooWide"
       type="iris:codeType"
       substitutionGroup="iris:genericCode" />

     <!--                                           -->
     <!-- Language Not Supported                    -->
     <!--                                           -->



Newton                  Expires January 15, 2006               [Page 43]

Internet-Draft                  iris-ereg                      July 2005


     <complexType
       name="languageNotSupportedType">
       <complexContent>
         <extension
           base="iris:codeType">
           <sequence>
             <element
               name="unsupportedLanguage"
               type="language"
               minOccurs="1"
               maxOccurs="unbounded" />
           </sequence>
         </extension>
       </complexContent>
     </complexType>

     <element
       name="languageNotSupported"
       type="ereg:languageNotSupportedType"
       substitutionGroup="iris:genericCode" />

   </schema>

                            Figure 8: ereg.xsd



























Newton                  Expires January 15, 2006               [Page 44]

Internet-Draft                  iris-ereg                      July 2005


5.  BEEP Transport Compliance

   IRIS allows several extensions of the core capabilities.  This
   section outlines those extensions allowable by IRIS-BEEP [6].

5.1  Message Pattern

   This registry type uses the default message pattern as described in
   IRIS-BEEP [6].

5.2  Server Authentication

   This registry type only uses the basic TLS server authentication
   method as described in IRIS-BEEP [6].





































Newton                  Expires January 15, 2006               [Page 45]

Internet-Draft                  iris-ereg                      July 2005


6.  URI Resolution

6.1  Application Service Label

   The application service label associated with this registry type MUST
   be "EREG1".  This is the abbreviated form of the URN for this
   registry type, urn:ietf:params:xml:ns:ereg1.












































Newton                  Expires January 15, 2006               [Page 46]

Internet-Draft                  iris-ereg                      July 2005


7.  Internationalization Considerations

   Implementers should be aware of considerations for
   internationalization in IRIS [5].

   The social data associated with contacts may be non-ASCII, and could
   contain virtually any Unicode character.  The <language> element is
   provided in queries that have potential to traverse such data.
   Clients should use these elements to indicate to the server of the
   target languages desired, and servers should use these elements to
   better enable normalization and search processes (see
   <http://www.unicode.org/reports/tr15/>).

   Clients needing to localize the data tags in this protocol should
   take note that localization is only needed on the names of XML
   elements and attributes with the exception of elements containing
   date and time information.  The schema for this registry has been
   designed so that clients need not interpret the content of elements
   or attributes for localization, other than those elements containing
   date and time information.

   Clients should also make use of the <language> elements provided in
   many of the results.  Results containing data that may be in Unicode
   are accompanied by these elements in order to aid better presentation
   of the data to the user.

   The "dateTimePrivacyType" element type contains the XML Schema [3]
   data type "dateTime".  The contents of this element MUST be specified
   using the 'Z' indicator for Coordinated Universal Time (UTC).






















Newton                  Expires January 15, 2006               [Page 47]

Internet-Draft                  iris-ereg                      July 2005


8.  IANA Considerations

8.1  XML Namespace URN Registration

   This document makes use of a proposed XML namespace and schema
   registry specified in XML_URN [16].  Accordingly, the following
   registration information is provided for the IANA:

   o  URN/URI:

      *  urn:ietf:params:xml:ns:ereg1

   o  Contact:

      *  Andrew Newton <andy@hxr.us>

   o  XML:

      *  The XML Schema specified in Section 4


8.2  S-NAPTR Registration

   The following S-NAPTR application service label will need to be
   registered with IANA according to the IANA considerations defined in
   IRIS [5]:

      EREG1


8.3  BEEP Registration

   The following BEEP Profile URI is to be registeried with IANA, in
   addition to the registration provided in IRIS-BEEP [6].

      http://iana.org/beep/iris1/ereg1















Newton                  Expires January 15, 2006               [Page 48]

Internet-Draft                  iris-ereg                      July 2005


9.  Security Considerations

   This document lays out no new considerations for security precautions
   beyond that specified in IRIS [5].

10.  Normative References

   [1]   World Wide Web Consortium, "Extensible Markup Language (XML)
         1.0", W3C XML, February 1998,
         <http://www.w3.org/TR/1998/REC-xml-19980210>.

   [2]   World Wide Web Consortium, "Namespaces in XML", W3C XML
         Namespaces, January 1999,
         <http://www.w3.org/TR/1999/REC-xml-names-19990114>.

   [3]   World Wide Web Consortium, "XML Schema Part 2: Datatypes",
         W3C XML Schema, October 2000,
         <http://www.w3.org/TR/2001/REC-xmlschema-2-20010502/>.

   [4]   World Wide Web Consortium, "XML Schema Part 1: Structures",
         W3C XML Schema, October 2000,
         <http://www.w3.org/TR/2001/REC-xmlschema-1-20010502/>.

   [5]   Newton, A. and M. Sanz, "Internet Registry Information
         Service", RFC 3981, January 2005.

   [6]   Newton, A. and M. Sanz, "Internet Registry Information Service
         (IRIS) over Blocks Extensible Exchange Protocol (BEEP)",
         RFC 3983, January 2005.

   [7]   Hinden, R. and S. Deering, "Internet Protocol Version 6 (IPv6)
         Addressing Architecture", RFC 3513, April 2003.

   [8]   Postel, J., "Internet Protocol", STD 5, RFC 791,
         September 1981.

   [9]   Mockapetris, P., "Domain names - implementation and
         specification", STD 13, RFC 1035, November 1987.

   [10]  Bradner, S., "Key words for use in RFCs to Indicate Requirement
         Levels", RFC 2119, BCP 14, March 1997.

   [11]  International Organization for Standardization, "Codes for the
         representation of names of countries, 3rd edition",
         ISO Standard 3166, August 1988.

   [12]  Braden, R., "Requirements for Internet Hosts - Application and
         Support", STD 3, RFC 1123, October 1989.



Newton                  Expires January 15, 2006               [Page 49]

Internet-Draft                  iris-ereg                      July 2005


   [13]  International Telecommunications Union, "The International
         Public Telecommunication Numbering Plan", ITU-T Recommendation
         E.164, 1991.

   [14]  Faltstrom, P., Hoffman, P., and A. Costello,
         "Internationalizing Domain Names in Applications (IDNA)",
         RFC 3490, March 2003.

   [15]  Hoffman, P. and M. Blanchet, "Nameprep: A Stringprep Profile
         for Internationalized Domain Names (IDN)", RFC 3491,
         March 2003.

   [16]  Mealling, M., "The IETF XML Registry", BCP 81, RFC 3688,
         January 2004.

   [17]  Faltstrom, P. and M. Mealling, "The E.164 to Uniform Resource
         Identifiers (URI)  Dynamic Delegation Discovery System (DDDS)
         Application  (ENUM)", RFC 3761, April 2004.


Author's Address

   Andrew L. Newton
   VeriSign, Inc.
   21345 Ridgetop Circle
   Sterling, VA  20166
   USA

   Phone: +1.7039483382
   Email: anewton@verisignlabs.com; andy@hxr.us
   URI:   http://www.verisignlabs.com/




















Newton                  Expires January 15, 2006               [Page 50]

Internet-Draft                  iris-ereg                      July 2005


Appendix A.  Contributions and Acknowledgements

   This document is a derivative of the specification used to define
   forward domain registries for IRIS.  Marcos Sanz was a major
   contributor to that specification and many of his words and ideas are
   present in this document.













































Newton                  Expires January 15, 2006               [Page 51]

Internet-Draft                  iris-ereg                      July 2005


Intellectual Property Statement

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in BCP 78 and BCP 79.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   http://www.ietf.org/ipr.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.


Disclaimer of Validity

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET
   ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED,
   INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE
   INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.


Copyright Statement

   Copyright (C) The Internet Society (2005).  This document is subject
   to the rights, licenses and restrictions contained in BCP 78, and
   except as set forth therein, the authors retain all their rights.


Acknowledgment

   Funding for the RFC Editor function is currently provided by the
   Internet Society.




Newton                  Expires January 15, 2006               [Page 52]

