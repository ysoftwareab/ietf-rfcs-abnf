


6man WG                                                       F. Garneij
Internet-Draft                                            S. Chakrabarti
Intended status: Informational                               S. Krishnan
Expires: January 5, 2015                                        Ericsson
                                                            July 4, 2014


       Impact of IPv6 Neighbor Discovery on Cellular M2M Networks
                  draft-garneij-6man-nd-m2m-issues-00

Abstract

   The use of IPv6 in 3GPP cellular broadband networks for accessing the
   Internet and other data services like voice-over-LTE(VoLTE) has
   increased greatly as a result of EPS network deployments worldwide
   and new IPv6 capable smartphones and tablets.  The upcoming rise of
   IoT/M2M is anticipated to bring billions of new devices into these
   networks and the majority of these devices will be using only IPv6.
   This document discusses the EPS network impact of IoT/M2M IPv6
   connectivity specifically targeting the IPv6 Stateless Address Auto
   Configuration (SLAAC), as specified in [RFC4861] and [RFC4862], which
   currently is the only supported IPv6 address configuration mechanism
   in 3GPP standards.

Status of this Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on January 5, 2015.

Copyright Notice

   Copyright (c) 2014 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents



Garneij, et al.          Expires January 5, 2015                [Page 1]

Internet-Draft     IPv6 ND and Cellular networks impact        July 2014


   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.


Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . . . 3
     1.1.  Definition Of Terms . . . . . . . . . . . . . . . . . . . . 4
   2.  The M2M Scenario and IPv6 Neighbor Discovery Impact . . . . . . 5
   3.  Analysis of Results . . . . . . . . . . . . . . . . . . . . . . 6
   4.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . . . 7
   5.  References  . . . . . . . . . . . . . . . . . . . . . . . . . . 7
     5.1.  Normative References  . . . . . . . . . . . . . . . . . . . 7
     5.2.  Informative References  . . . . . . . . . . . . . . . . . . 8
   Appendix A.   . . . . . . . . . . . . . . . . . . . . . . . . . . . 8
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . . . 8






























Garneij, et al.          Expires January 5, 2015                [Page 2]

Internet-Draft     IPv6 ND and Cellular networks impact        July 2014


1.  Introduction

   Several of the IPv6 core protocols make widespread use of multicast
   messages as they wished to avoid broadcast messages.  Unfortunately,
   in practice, the multicast operation at many link layers the
   degenerates into broadcast messages. 3GPP links are cellular links
   consuming expensive and limited radio spectrum.  Thus such radio
   networks like to limit unnecessary signals in the network.  IPv6
   neighbor discovery is one of the core protocols required for the
   operation of IPv6, and this document shows how it can affect the
   cellular networks for M2M. M2M networks are usually low bandwidth
   radio networks.

   In 3GPP networks, mobility and connectivity is generated by the
   arrangement of allocated radio resources and EPC node resources into
   a PDN connection.  The following list gives the logical functions
   performed within the Evolved Packet System (EPS):
   o  Network Access Control Functions.
   o  Packet Routing and Transfer Functions
   o  Mobility Management Functions.
   o  Security Functions
   o  Radio Resource management functions
   o  Network Management Functions

   For a User Equipment (UE) attached to a 3GPP network there are
   procedures defined related to device mobility, EPS Mobility
   Management (EMM) states and connectivity session, EPS Connectivity
   Management (ECM) states as described in [TS.23401] Section 4.6.  The
   purpose of this document is to analyze the EPS resources impacted by
   the procedures of the IPv6 Stateless Address Auto Configuration
   (SLAAC), as specified in [RFC4861] and [RFC4862], as it is utilized
   in 3GPP standards.  Special attention is put on EPS control signaling
   load and the packets destined to UE generated by IPv6 periodic Router
   Advertisements (unsolicited multicast Router Advertisements). 3GPP
   also specifies its own values and behavior for Router Advertisement
   as described in 3GPP TS 29.061 Section 11.2.1.3.4 IPv6 Router
   Configuration Variables.  This 3GPP adaptation defines how to send
   initial and periodic Router Advertisements in order to preserve radio
   resources and UE power consumption while still allowing for
   appropriate robustness and fast user-plane set-up time even in bad
   radio conditions to the radio.

   Since in EPS, radio and network resources are not permanently
   assigned to a specific UE there is a cost associated with the
   allocation and release of resources and associated changes of states
   in EPS nodes.  Thus, it is desirable to reduce or avoid any
   additional periodic packets that are not of any use to the
   application using the 3GPP derived UE connectivity. 2G and 3G radio



Garneij, et al.          Expires January 5, 2015                [Page 3]

Internet-Draft     IPv6 ND and Cellular networks impact        July 2014


   resource allocation have their own mechanisms with similar
   functionality but these are not described or considered in this
   document.  The following M2M usecase scenario will clarify why
   periodic RA in 3GPP networks are harmful in especially for the M2M
   scenario.

   Note that there are IETF informational guidelines for IPv6 usage in
   3GPP EPS networks [RFC6459], but this draft requests an update in
   Standard IPv6 Neighbor Discovery specification to disallow periodic
   RAs.

1.1.  Definition Of Terms

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [RFC2119].

   3GPP Terminology


      Second Generation Mobile Telecommunications, such as Global System
      for Mobile Communications (GSM) and GPRS technologies

      Third Generation Mobile Telecommunications, such as UMTS
      technology

      Fourth Generation Mobile Telecommunications, such as LTE
      technology.
   3GPP
      Third Generation Partnership Project.  Throughout the document,
      the term "3GPP networks" refers to architectures standardized by
      3GPP, in Second, Third, and Fourth Generation releases: 99, 4, and
      5, as well as future releases.
   eNodeB
      The eNodeB is a base station entity that supports the Long-Term
      Evolution (LTE) radio interface.
   EPS
      Evolved packet System in LTE
   GTP-U
      GPRS Tunneling protocol for user plane
   LTE
      Long Term Evolution 3GPP Specification.  It is a 4G mobile
      communication specification.  The network speed in LTE is up to 10
      times faster than the 3G network







Garneij, et al.          Expires January 5, 2015                [Page 4]

Internet-Draft     IPv6 ND and Cellular networks impact        July 2014


   Paging
      A 3GPP defined mechanism for finding the radio base station at
      which a specific UE currently can be reached.
   PDN Connection
      The association between a UE represented by one IP address and/or
      one IPv6 prefix and a Packet Data network(PDN) assosiated to an
      Access Point Name(APN).
   PGW or PDN GW
      Packet Data Network Gateway (the default router for 3GPP IPv6
      cellular hosts in EPS).
   SGW or Serving GW
      Serving Gateway: The user plane equivalent of a Serving GPRS
      Support Node (SGSN) in EPS and the default router for 3GPP IPv6
      cellular hosts when using Proxy Mobile IPv6 (PMIPv6).
   MME
      Mobility Management Entity
   UE
      User Equipment or host terminal
   M2M
      Machine to Machine Communication networks and related standards.
      M2M includes industrial networks and communication.  M2M uses IPv6
      as dataplane.


2.  The M2M Scenario and IPv6 Neighbor Discovery Impact

   The analysis considers an IoT/M2M UE deployment scenario with
   infrequent packet communications occurrences than would normally be
   seen in an interactive device such as a smartphone.  Given such an
   infrequent communication pattern, the UE is highly likely be in IDLE
   ECM state when a downlink packet is sent from the PGW or the SGW.
   Sending a packet to the UE while in ECM IDLE state triggers a paging
   process followed by a UE Service Request and radio resource
   allocation.  These procedures are considered as among the heavier
   procedures in EPS with regards to control signaling load and node
   state changes.  They cause increased utilization of the radio
   interface as well as increased processing loads in the nodes involved
   in the procedures.  It is also likely that other devices with
   different communications usage patterns like smartphones may compete
   over network resources causing the procedure to be repeated in order
   to complete.  Thus, unnecessary control signals such as periodic RA
   causes paging and waste of radio resources in cellular networks.

   The M2M use case below considers the following network dimensioning
   for a single PGW node based on information derived from real world
   network deployment best practices:





Garneij, et al.          Expires January 5, 2015                [Page 5]

Internet-Draft     IPv6 ND and Cellular networks impact        July 2014


   o  There are 10,000,000 simultaneous IPv6 connections to IoT/M2M
      devices from PGW.  There are no dedicated bearers available.
      Communication direction for IoT/M2M service is from network to UE
      infrequent (e.g. twice a day or less).  GTP-U is used between PGW
      and SGW as described in TS.23401 of 3GPP specification.  The
      following list shows the condition of the network, number of
      resources and UE behavior in a typical 10M IPv6 connection-based
      M2M network.
   o  If EPS Connectivity Management (ECM) state is ECM_IDLE, paging
      will be triggered when a packet is received by the UE
   o  Each Tracking Area (TA) contains 100 base stations (eNodeB)
   o  MME UE Tracking Area Identifier (TAI) list containing 10 TA which
      gives 10 * 100 eNodeB = 1000 eNodeB for a UE TAI list
   o  The MaxRtrAdvInterval configuration of RFC4861 has been set to its
      maximum allowed value to minimize unsolicited multicast RAs

   Based on the above data, the following analysis has been done.  The
   analysis focuses on the connectivity state changes and resource
   allocation related to 1) Packet Routing and Transfer Functions 2)
   Mobility Management Functions 3) Radio Resource Management Functions


3.  Analysis of Results

   The unsolicited mulicast RAs are sent at randomized intervals based
   on a timer that is set to uniformly distributed random values between
   the interface's configured MinRtrAdvInterval and MaxRtrAdvInterval as
   described in Section 6.2.4. of RFC4861.  We assume maximum possible
   values for MinRtrAdvInterval and MaxRtrAdvInterval in order to
   discover the *best-case* scenario.

           MaxRtrAdvInterval = 1800 seconds
           MinRtrAdvInterval = 0.75 * 1800 = 1350 seconds
           Average RA interval = (1800 + 1350) / 2 = 1575 seconds
           RAs/second = number of nodes/average RA interval
                      = 10e7/1575 = 6349

   If the periodic router advertisements are allowed in the network, the
   measurement result shows that approximately 6300 Router advertisement
   packets can be sent to the eNodeB(base station) from the Edge Router/
   Gateway device(PGW).  And there is ~100 to ~1000 state changes per
   second for MME, eNodeB, UE in the network.

   If we assume there are 1000 base stations (eNodeBs) in the network
   there will be approximately 6.3 million paging messages per second as
   each unsolicited RA will initiate paging on each eNodeB.  Each of
   these RAs will also trigger state changes in the MME, the SGW, the
   eNodeB and the UE radio bearer.  There will be approximately 50000



Garneij, et al.          Expires January 5, 2015                [Page 6]

Internet-Draft     IPv6 ND and Cellular networks impact        July 2014


   (12600*4) state changes per second in the network.  This causes
   significant increases in processing power as well as network traffic.
   This will cause serious issues to network operators.  This
   illustrates the point is that even when unsolicited multicast RAs are
   fairly infrequent, there is a huge effect on the M2M/IOT 3GPP
   networks.

   It has been shown that a single unsolicited downlink packet can
   consume energy and bandwidth and ties up resources in the EPS network
   and UE.  It is desirable to free up the 3GPP networks from such
   periodic signaling traffic (in this case IPv6 ND) so that energy and
   bandwith can be saved and the saved energy and bandwidth can be used
   for actual data traffic destined to users.  Given the result above
   the unsolicited RA traffic generated by the PGW is roughly equal to
   the effort needed to poll all 53 million UK gas and electricity
   meters once a day.  If it amuses the reader, the number of
   unsolicited RA sent by the PGWs connecting the IPv6-only UK smart
   meters during a day can easliy be derived using the data in this
   document.

   Since all the UE are known to the PGW which acts as their default
   router and packets to one UE to another go via PGW in many
   deployments, the Address Registration Method(ARO) described in
   [efficient-nd] is quite useful for reducing/avoiding periodic RA and
   having the PGW or SGW keeping track of the UE registration status for
   selectively exchanging the IPv6 Neighbor Discovery messages.  In
   addition the Address Registration Method(ARO) allows the PGW to learn
   the IPv6 address that is used by the UE which is not possible using
   currently defined 3GPP usage of SLAAC.


4.  Acknowledgements


5.  References

5.1.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC2434]  Narten, T. and H. Alvestrand, "Guidelines for Writing an
              IANA Considerations Section in RFCs", BCP 26, RFC 2434,
              October 1998.

   [6LOWPAN-ND]
              Shelby, Z., Chakrabarti, S., Nordmark, E., and C. Bormann,
              "ND Optimizations for 6LoWPAN", RFC 6775, November 2012.



Garneij, et al.          Expires January 5, 2015                [Page 7]

Internet-Draft     IPv6 ND and Cellular networks impact        July 2014


   [efficient-nd]
              Chakrabarti, S., Nordmark, E., Thubert, P., and M.
              Wasserman, "IPv6 Neighbor Discovery Optimizations for
              Wired and Wireless Networks",
              draft-chakrabarti-nordmark-6man-efficient-nd-05 (work in
              progress), February 2014.

   [ND]       Narten, T., Nordmark, E., Simpson, W., and H. Soliman,
              "Neighbor Discovery for IP version 6", RFC 4861,
              September 2007.

5.2.  Informative References

   [IPV6]     Deering, S. and R. Hinden, "Internet Protocol, Version 6
              (IPv6), Specification", RFC 2460, December 1998.

   [AUTOCONF]
              Thomson, S., Narten, T., and T. Jinmei, "IPv6 Stateless
              Autoconfiguration", RFC 4862, September 2007.

   [RFC6459]  Korhonen, J., "IPv6 in 3rd Generation Partnership Project
              (3GPP) Evolved Packet System (EPS)", RFC 6459,
              January 2012.


Appendix A.


Authors' Addresses

   Fredrik Garneij
   Ericsson
   Sweden

   Email: fredrik.garneij@ericsson.com


   Samita Chakrabarti
   Ericsson
   USA

   Email: samita.chakrabarti@ericsson.com









Garneij, et al.          Expires January 5, 2015                [Page 8]

Internet-Draft     IPv6 ND and Cellular networks impact        July 2014


   Suresh Krishnan
   Ericsson
   8400 Decarie Blvd.
   Town of Mount Royal, QC
   Canada

   Phone: +1 514 345 7900 x42871
   Email: suresh.krishnan@ericsson.com











































Garneij, et al.          Expires January 5, 2015                [Page 9]

