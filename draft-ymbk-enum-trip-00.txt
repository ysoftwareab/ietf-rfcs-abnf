INTERNET-DRAFT                                               Randy Bush
draft-ymbk-enum-trip-00.txt                          AT&T Research
2001.07.13


             How ENUM, SIP URIs, TRIP, and Gateways Relate

                       "49 reasons all in a line.
            All of them good ones, all of them lies." -- csn


    Copyright (C) The Internet Society (2001).  All Rights Reserved.

   This document is an Internet-Draft and is in full conformance with
   all provisions of Section 10 of RFC2026.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

0. Abstract

   The often tenuous relationships between ENUM [RFC2916], TRIP
   [RFC2871], SIP [RFC2543], and SIP gateways have been confusing.  This
   document attempts to clarify them somewhat.

1. ENUM, a Simple Case

   ENUM DNS lookup processing takes a telephone number in E.164 format,
   e.g. +19733607330 [0], and returns, for example a URI
   SIP:randyoffice@psg.com, and the client places a SIP connection to
   the host which is named in the SRV record for the domain psg.com
   passing the SIP URI.  I.e., in the above example, a client places a
   connection to the gateway psg.com passing the local part
   "randyoffice."  ENUM can return a wide variety of URI types, this was
   a simple example.



R Bush                     Expires 2002.01.13                   [Page 1]

INTERNET-DRAFT     ENUM, SIP URIs, TRIP, and Gateways         2001.07.13


2. TRIP, the 'Simple' Case:

   Given a phone number +19733607330, SIP URI sip:+19733607330, etc.,
   the client on the caller's host hands it to their local call server
   (PBX or whatever, we will use PBX).  For policy reasons (perceived
   cost savings, whatever), the local PBX is configured to be part of
   one or more TRIP consortia.  I.e. it has or knows one or more TRIP
   location servers (LSs).

   TRIP servers form a mesh, usually mapping business relationships and
   policies, in which they pass around PSTN reachability data
   analogously to how BGP-speakers pass IP prefix reachability data.  So
   a TRIP server will tell the client's PBX the 'best', in terms of
   policy, cost, aroma, etc., destination gateway where their call can
   exit the Internet to the PSTN.  The user's PBX will place the call to
   the gateway, acting as a proxy for the user.

   Unlike BGP-speaking routing, where the data path follows the signal
   path, i.e. packets follow the BGP speaker mesh, TRIP servers provide
   a similar signaling mesh, but the SIP signaling and data paths are
   independent of the TRIP mesh, using IP routing, quite possibly never
   touching a TRIP speaker en-route.

   Similarly, SIP separates signaling from data. so the SIP data path is
   expected to often not be congruent with the SIP servers setting up
   that path.

3. ENUM and TRIP

   Either the user's client, or their PBX acting as their proxy, might
   use ENUM to look up a telephone number in E.164 format, e.g.
   +19733607330, to get a set of URIs which might refer to many types of
   things.  Some of these might be direct TEL URIs, e.g. direct
   references to PSTN gateways, or SIP URIs, or to use TRIP, or if the
   client itself is configured to use TRIP, TRIP location services will
   be used to find the gateway.

4. TRIPped Up

   Note that there is no specified protocol between a client, be it a
   desk- or lap-top or a proxy PBX, and a TRIP location server.
   [RFC2871] sec 10.2 blithely tells us that "There are numerous
   protocols that can be used in the front end to access the LS
   database.  TRIP does not specify or restrict the possibilities for
   the front end."  And [RFC2871] then goes on to suggest SLP, OSP,
   LDAP, HTTP, or TRIP itself.  Some may not find this cheering.





R Bush                     Expires 2002.01.13                   [Page 2]

INTERNET-DRAFT     ENUM, SIP URIs, TRIP, and Gateways         2001.07.13


5. Footnote

   [0] - It seems worth noting, as there has been so much
   misunderstanding, obfuscation, and FUD generated about this, that the
   control of delegation of NS chains, and hence DNS content, of the
   E164.ARPA zone is clearly specified to be in the hands of the ITU,
   see [RFC2916] and [RFC3026].

6. Security Considerations

   This document is merely an extremely high-level description of some
   relationships between current protocols.  Undoubtedly these protocols
   each have security issues.  These issues are best discussed in the
   relevant documents, not here.  Of course, by revealing the
   relationships between these protocols, this document may open them to
   an anti-complexity attack from within the IETF community.

7. Acknowledgments

   Allison Mankin incited this small effort.  Scott Bradner provided a
   lot of clue.  Harald Alvestrand and Patrik F"altstr"om provided very
   useful tuning.

8. References

[RFC2543]
     SIP: Session Initiation Protocol. M. Handley, H. Schulzrinne, E.
     Schooler, J. Rosenberg. March 1999.


[RFC2871]
     A Framework for Telephony Routing over IP. J. Rosenberg, H.
     Schulzrinne. June 2000.


[RFC2916]
     E.164 number and DNS. P. F"altstr"om. September 2000.


[RFC3026]
     Liaison to IETF/ISOC on ENUM. R. Blane. January 2001.










R Bush                     Expires 2002.01.13                   [Page 3]

INTERNET-DRAFT     ENUM, SIP URIs, TRIP, and Gateways         2001.07.13


9. Author's Address

   Randy Bush
   5147 Crystal Springs
   Bainbridge Island, WA US-98110
   +1 206 780 0431
   randy@psg.com

10. Full Copyright Statement

   Copyright (C) The Internet Society (1999).  All Rights Reserved.

   This document and translations of it may be copied and furnished to others,
   and derivative works that comment on or otherwise explain it or assist in
   its implementation may be prepared, copied, published and distributed, in
   whole or in part, without restriction of any kind, provided that the above
   copyright notice and this paragraph are included on all such copies and
   derivative works.  However, this document itself may not be modified in any
   way, such as by removing the copyright notice or references to the Internet
   Society or other Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for copyrights
   defined in the Internet Standards process must be followed, or as required
   to translate it into languages other than English.

   The limited permissions granted above are perpetual and will not be revoked
   by the Internet Society or its successors or assigns.

   This document and the information contained herein is provided on an "AS IS"
   basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING TASK FORCE
   DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO
   ANY WARRANTY THAT THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY
   RIGHTS OR ANY IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A
   PARTICULAR PURPOSE.


















R Bush                     Expires 2002.01.13                   [Page 4]

