 



PCE Working Group                                               D. Dhody
Internet-Draft                                                    Y. Lee
Intended status: Informational                       Huawei Technologies
Expires: September 6, 2018                                 D. Ceccarelli
                                                                Ericsson
                                                                 J. Shin
                                                              SK Telecom
                                                                 D. King
                                                    Lancaster University
                                                     O. Gonzalez de Dios
                                                          Telefonica I+D
                                                           March 5, 2018


         Hierarchical Stateful Path Computation Element (PCE).
                    draft-ietf-pce-stateful-hpce-03

Abstract

   A Stateful Path Computation Element (PCE) maintains information on
   the current network state, including: computed Label Switched Path
   (LSPs), reserved resources within the network, and pending path
   computation requests. This information may then be considered when
   computing new traffic engineered LSPs, and for associated
   and dependent LSPs, received from Path Computation Clients (PCCs).

   The Hierarchical Path Computation Element (H-PCE) architecture,
   provides an architecture to allow the optimum sequence of
   inter-connected domains to be selected, and network policy to be
   applied if applicable, via the use of a hierarchical relationship
   between PCEs.

   Combining the capabilities of Stateful PCE and the Hierarchical PCE
   would be advantageous. This document describes general considerations
   and use cases for the deployment of Stateful PCE(s) using the
   Hierarchical PCE architecture.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
 


Dhody, et al.            Expires September 2018                 [Page 1]

Internet-Draft               STATEFUL-HPCE                    March 2018


   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

Copyright Notice

   Copyright (c) 2018 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   3
     1.1.  Requirements Language . . . . . . . . . . . . . . . . . .   3
   2.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   3
   3.  Hierarchical Stateful PCE . . . . . . . . . . . . . . . . . .   4
     3.1.  Passive Operations  . . . . . . . . . . . . . . . . . . .   4
     3.2.  Active Operations . . . . . . . . . . . . . . . . . . . .   7
     3.3.  PCE Initiation Operation  . . . . . . . . . . . . . . . .   8
       3.3.1.  Per Domain Stitched LSP . . . . . . . . . . . . . . .   8
   4.  Other Considerations  . . . . . . . . . . . . . . . . . . . .  10
     4.1.  Applicability to Inter-Layer  . . . . . . . . . . . . . .  10
     4.2.  Applicability to ACTN . . . . . . . . . . . . . . . . . .  11
   5.  Security Considerations . . . . . . . . . . . . . . . . . . .  12
   6.  Manageability Considerations  . . . . . . . . . . . . . . . .  12
     6.1.  Control of Function and Policy  . . . . . . . . . . . . .  12
     6.2.  Information and Data Models . . . . . . . . . . . . . . .  12
     6.3.  Liveness Detection and Monitoring . . . . . . . . . . . .  12
     6.4.  Verify Correct Operations . . . . . . . . . . . . . . . .  12
     6.5.  Requirements On Other Protocols . . . . . . . . . . . . .  12
     6.6.  Impact On Network Operations  . . . . . . . . . . . . . .  12
   7.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .  12
   8.  Acknowledgments . . . . . . . . . . . . . . . . . . . . . . .  12
   9.  References  . . . . . . . . . . . . . . . . . . . . . . . . .  12
     9.1.  Normative References  . . . . . . . . . . . . . . . . . .  12
     9.2.  Informative References  . . . . . . . . . . . . . . . . .  13
   Appendix A.  Contributor Addresses  . . . . . . . . . . . . . . .  14
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  14

 


Dhody, et al.            Expires September 2018                 [Page 2]

Internet-Draft               STATEFUL-HPCE                    March 2018


1.  Introduction

   The Path Computation Element communication Protocol (PCEP) provides
   mechanisms for Path Computation Elements (PCEs) to perform path
   computations in response to Path Computation Clients' (PCCs)
   requests.

   A stateful PCE is capable of considering, for the purposes of
   path computation, not only the network state in terms of links and
   nodes (referred to as the Traffic Engineering Database or TED) but
   also the status of active services (previously computed paths,
   and currently reserved resources, stored in the Label Switched
   Paths Database (LSP-DB).

   [RFC8051] describes general considerations for a stateful PCE
   deployment and examines its applicability and benefits, as well as
   its challenges and limitations through a number of use cases.

   [RFC8231] describes a set of extensions to PCEP to provide stateful
   control.  A stateful PCE has access to not only the information
   carried by the network's Interior Gateway Protocol (IGP), but also
   the set of active paths and their reserved resources for its
   computations.  The additional state allows the PCE to compute
   constrained paths while considering individual LSPs and their
   interactions.  [RFC8281] describes the setup, maintenance and
   teardown of PCE-initiated LSPs under the stateful PCE model.

   [RFC8231] also describes the active stateful PCE. The active PCE
   functionality allows a PCE to reroute an existing LSP or make changes
   to the attributes of an existing LSP, or delegate control of specific
   LSPs to a new PCE.

   The ability to compute shortest constrained TE LSPs in Multiprotocol
   Label Switching (MPLS) and Generalized MPLS (GMPLS) networks across
   multiple domains has been identified as a key motivation for PCE
   development.  [RFC6805] describes a Hierarchical PCE (H-PCE)
   architecture which can be used for computing end-to-end paths for
   inter-domain MPLS Traffic Engineering (TE) and GMPLS Label Switched
   Paths (LSPs).  Within the Hierarchical PCE (H-PCE) architecture
   [RFC6805], the Parent PCE (P-PCE) is used to compute a multi-domain
   path based on the domain connectivity information.  A Child PCE
   (C-PCE) may be responsible for a single domain or multiple domains,
   it is used to compute the intra-domain path based on its domain
   topology information.

   This document presents general considerations for stateful PCE(s) in
   hierarchical PCE architecture.  In particular, the behavior changes
   and additions to the existing stateful PCE mechanisms (including PCE-
 


Dhody, et al.            Expires September 2018                 [Page 3]

Internet-Draft               STATEFUL-HPCE                    March 2018


   initiated LSP setup and active PCE usage) in the context of networks
   using the H-PCE architecture. 


   The initial section of the document focuses on end to end (E2E)
   inter-domain TE LSP. Section 3.3.1 describe the operations for the
   Per Domain LSP that could be stitched. 

1.1.  Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
   "OPTIONAL" in this document are to be interpreted as described in BCP
   14 [RFC2119] [RFC8174] when, and only when, they appear in all
   capitals, as shown here.

2.  Terminology

   The terminology is as per [RFC4655], [RFC5440], [RFC6805], [RFC8231],
   and [RFC8281].

3.  Hierarchical Stateful PCE

   As described in [RFC6805], in the hierarchical PCE architecture, a
   P-PCE maintains a domain topology map that contains the child domains
   (seen as vertices in the topology) and their interconnections (links
   in the topology).  The P-PCE has no information about the content of
   the child domains.  Each child domain has at least one PCE capable of
   computing paths across the domain.  These PCEs are known as C-PCEs
   and have a direct relationship with the P-PCE.  The P-PCE builds the
   domain topology map either via direct configuration (allowing network
   policy to also be applied) or from learned information received from
   each C-PCE.

   [RFC8231] specifies new functions to support a stateful PCE.  It also
   specifies that a function can be initiated either from a PCC towards
   a PCE (C-E) or from a PCE towards a PCC (E-C).

   This document extends these functions to support H-PCE Architecture
   from a C-PCE towards a P-PCE (CE-PE) or from a P-PCE towards a C-PCE
   (PE-CE).  All PCE types herein (i.e., PE or CE) are assumed to be
   'stateful PCE'.

   A number of interactions are expected in the Hierarchical Stateful
   PCE architecture, these include:

   LSP State Report (CE-PE):  a child stateful PCE sends an LSP state
      report to a Parent Stateful PCE whenever the state of a LSP
 


Dhody, et al.            Expires September 2018                 [Page 4]

Internet-Draft               STATEFUL-HPCE                    March 2018


      changes.

   LSP State Synchronization (CE-PE):  after the session between the
      Child and Parent stateful PCEs is initialized, the P-PCE must
      learn the state of C-PCE's TE LSPs.

   LSP Control Delegation (CE-PE,PE-CE):  a C-PCE grants to the P-PCE
      the right to update LSP attributes on one or more LSPs; the C-PCE
      may withdraw the delegation or the P-PCE may give up the
      delegation at any time.

   LSP Update Request (PE-CE):  a stateful P-PCE requests modification
      of attributes on a C-PCE's TE LSP.

   PCE LSP Initiation Request (PE-CE):  a stateful P-PCE requests C-PCE
      to initiate a TE LSP.

   Note that this hierarchy is recursive and thus a Label Switching
   Router (LSR), as a PCC could delegate the control to a PCE, which may
   delegate to its parent, which may further delegate it to its parent
   (if it exist or needed). Similarly update operations could also be
   applied recursively.

   [I-D.ietf-pce-hierarchy-extensions] defines the H-PCE capability TLV
   that should be used in the OPEN message to advertise the H-PCE
   capability. [RFC8231] defines the stateful PCE capability TLV. The
   presence of both TLVs represent the support for stateful H-PCE
   operations as described in this document. 

   [I-D.litkowski-pce-state-sync] describes the procedures to allow a
   stateful communication between PCEs for various use-cases. The
   procedures and extensions as described in Section 3 of
   [I-D.litkowski-pce-state-sync] are also applicable to Child and
   Parent PCE communication. 

3.1.  Passive Operations

   Procedures as described in [RFC6805] are applied, where the ingress
   C-PCE sends a request to the P-PCE.  The P-PCE selects a set of
   candidate domain paths based on the domain topology and the state of
   the inter-domain links.  It then sends computation requests to the C-
   PCEs responsible for each of the domains on the candidate domain
   paths.  Each C-PCE computes a set of candidate path segments across
   its domain and sends the results to the P-PCE. The P-PCE uses this
   information to select path segments and concatenate them to derive
   the optimal end-to-end inter-domain path.  The end-to-end path is
   then sent to the C-PCE that received the initial path request, and
   this C-PCE passes the path on to the PCC that issued the original
 


Dhody, et al.            Expires September 2018                 [Page 5]

Internet-Draft               STATEFUL-HPCE                    March 2018


   request.

   As per [RFC8231], PCC sends an LSP State Report carried on a PCRpt
   message to the C-PCE, indicating the LSP's status.  The C-PCE MAY
   further propagate the State Report to the P-PCE.  A local policy at
   C-PCE MAY dictate which LSPs to be reported to the P-PCE.  The PCRpt
   message is sent from C-PCE to P-PCE.

   State synchronization mechanism as described in [RFC8231] and
   [RFC8233] are applicable to PCEP session between C-PCE and P-PCE as
   well.

   Taking the sample hierarchical domain topology example from [RFC6805]
   as the reference topology for the entirety of this document.


































 


Dhody, et al.            Expires September 2018                 [Page 6]

Internet-Draft               STATEFUL-HPCE                    March 2018


      -----------------------------------------------------------------
     |   Domain 5                                                      |
     |                              -----                              |
     |                             |PCE 5|                             |
     |                              -----                              |
     |                                                                 |
     |    ----------------     ----------------     ----------------   |
     |   | Domain 1       |   | Domain 2       |   | Domain 3       |  |
     |   |                |   |                |   |                |  |
     |   |        -----   |   |        -----   |   |        -----   |  |
     |   |       |PCE 1|  |   |       |PCE 2|  |   |       |PCE 3|  |  |
     |   |        -----   |   |        -----   |   |        -----   |  |
     |   |                |   |                |   |                |  |
     |   |            ----|   |----        ----|   |----            |  |
     |   |           |BN11+---+BN21|      |BN23+---+BN31|           |  |
     |   |   -        ----|   |----        ----|   |----        -   |  |
     |   |  |S|           |   |                |   |           |D|  |  |
     |   |   -        ----|   |----        ----|   |----        -   |  |
     |   |           |BN12+---+BN22|      |BN24+---+BN32|           |  |
     |   |            ----|   |----        ----|   |----            |  |
     |   |                |   |                |   |                |  |
     |   |         ----   |   |                |   |   ----         |  |
     |   |        |BN13|  |   |                |   |  |BN33|        |  |
     |    -----------+----     ----------------     ----+-----------   |
     |                \                                /               |
     |                 \       ----------------       /                |
     |                  \     |                |     /                 |
     |                   \    |----        ----|    /                  |
     |                    ----+BN41|      |BN42+----                   |
     |                        |----        ----|                       |
     |                        |                |                       |
     |                        |        -----   |                       |
     |                        |       |PCE 4|  |                       |
     |                        |        -----   |                       |
     |                        |                |                       |
     |                        | Domain 4       |                       |
     |                         ----------------                        |
     |                                                                 |
      -----------------------------------------------------------------

             Figure 1: Sample Hierarchical Domain Topology

   Steps 1 to 11 are exactly as described in section 4.6.2 (Hierarchical
   PCE End-to-End Path Computation Procedure) of [RFC6805], the
   following additional steps are added for stateful PCE:

   (1)  The Ingress LSR initiates the setup of the LSP as per the path
        and reports to the PCE1 the LSP status ("GOING-UP").
 


Dhody, et al.            Expires September 2018                 [Page 7]

Internet-Draft               STATEFUL-HPCE                    March 2018


   (2)  The PCE1 further reports the status of the LSP to the P-PCE
        (PCE5).

   (3)  The Ingress LSR notifies the LSP state to PCE1 when the state is
        "UP".

   (4)  The PCE1 further reports the status of the LSP to the P-PCE
        (PCE5).

3.2.  Active Operations


   [RFC8231] describes the case of active stateful PCE. The active PCE
   functionality uses two specific PCEP messages:

   o Update Request (PCUpd)
   o State Report (PCRpt)

   The first is sent by the PCE to a Path Computation Client (PCC) for
   modifying LSP attributes. The PCC sends back a PCRpt to acknowledge
   the requested operation or report any change in LSP's state. 

   As per [RFC8051], Delegation is an operation to grant a PCE,
   temporary rights to modify a subset of LSP parameters on one or more
   PCC's LSPs.  The C-PCE may further choose to delegate to P-PCE based
   on a local policy.  The PCRpt message with "D" (delegate) flag is
   sent from C-PCE to P-PCE.

   To update an LSP, a PCE send to the PCC, an LSP Update Request using
   a PCUpd message.  For LSP delegated to the P-PCE via the child PCE,
   the P-PCE can use the same PCUpd message to request change to the C-
   PCE (the Ingress domain PCE), the PCE further propagates the update
   request to the PCC.

   The P-PCE uses the same mechanism described in Section 3.1 to compute
   the end to end path using PCReq and PCRep messages.

   The following additional steps are also initially performed, for
   active operations, again using the reference architecture described
   in Figure 1 (Sample Hierarchical Domain Topology).

   (1)  The Ingress LSR delegates the LSP to the PCE1 via PCRpt message
        with D flag set.

   (2)  The PCE1 further delegates the LSP to the P-PCE (PCE5).

   Steps 4 to 10 of section 4.6.2 of [RFC6805] are executed to determine
   the end to end path.
 


Dhody, et al.            Expires September 2018                 [Page 8]

Internet-Draft               STATEFUL-HPCE                    March 2018


   (3)  The P-PCE (PCE5) sends the update request to the C-PCE
        (PCE1) via PCUpd message.

   (4)  The PCE1 further updates the LSP to the Ingress LSR (PCC).

   (5)  The Ingress LSR initiates the setup of the LSP as per the path
        and reports to the PCE1 the LSP status ("GOING-UP").

   (6)  The PCE1 further reports the status of the LSP to the P-PCE
        (PCE5).

   (7)  The Ingress LSR notifies the LSP state to PCE1 when the state is
        "UP".

   (8)  The PCE1 further reports the status of the LSP to the P-PCE
        (PCE5).

3.3.  PCE Initiation Operation

   [RFC8281] describes the setup, maintenance and teardown of PCE-
   initiated LSPs under the stateful PCE model, without the need for
   local configuration on the PCC, thus allowing for a dynamic network
   that is centrally controlled and deployed.  To instantiate or delete
   an LSP, the PCE sends the Path Computation LSP Initiate Request
   (PCInitiate) message to the PCC.  In case of inter-domain LSP in
   Hierarchical PCE architecture, the initiation operations can be
   carried out at the P-PCE.  In which case after P-PCE finishes the E2E
   path computation, it can send the PCInitiate message to the C-PCE
   (the Ingress domain PCE), the PCE further propagates the initiate
   request to the PCC.

   The following additional steps are also initially performed, for PCE
   initiated operations, again using the reference architecture
   described in Figure 1 (Sample Hierarchical Domain Topology):

   (1)  The P-PCE (PCE5) is requested to initiate a LSP.

   Steps 4 to 10 of section 4.6.2 of [RFC6805] are executed to determine
   the end to end path.

   (2)  The P-PCE (PCE5) sends the initiate request to the child
        PCE (PCE1) via PCInitiate message.

   (3)  The PCE1 further propagates the initiate message to the Ingress
        LSR (PCC).

   (4)  The Ingress LSR initiates the setup of the LSP as per the path
        and reports to the PCE1 the LSP status ("GOING-UP").
 


Dhody, et al.            Expires September 2018                 [Page 9]

Internet-Draft               STATEFUL-HPCE                    March 2018


   (5)  The PCE1 further reports the status of the LSP to the P-PCE
        (PCE5).

   (6)  The Ingress LSR notifies the LSP state to PCE1 when the state is
        "UP".

   (7)  The PCE1 further reports the status of the LSP to the P-PCE
        (PCE5).

3.3.1.  Per Domain Stitched LSP

   The Hierarchical PCE architecture as per [RFC6805] is primarily used
   for E2E LSP.  With PCE-Initiated capability, another mode of
   operation is possible, where multiple intra-domain LSPs are initiated
   in each domain which are further stitched to form an E2E LSP.  The
   P-PCE sends PCInitiate message to each C-PCE separately to initiate
   individual LSP segments along the domain path.  These individual per
   domain LSP are stitched together by some mechanism, which is out of
   scope of this document (Refer [I-D.dugeon-pce-stateful-
   interdomain]).

   The following additional steps are also initially performed, for the
   Per Domain stiched LSP operation, again using the reference
   architecture described in Figure 1 (Sample Hierarchical Domain
   Topology):

   (1)  The P-PCE (PCE5) is requested to initiate a LSP.

   Steps 4 to 10 of section 4.6.2 of [RFC6805] are executed to determine
   the end to end path, which are broken into per-domain LSPs say -

   o  S-BN41

   o  BN41-BN33

   o  BN33-D

   It should be noted that the P-PCE MAY use other mechanisms to
   determine the suitable per-domain LSPs (apart from [RFC6805]).

   For LSP (BN33-D)

   (2)  The P-PCE (PCE5) sends the initiate request to the child
        PCE (PCE3) via PCInitiate message for LSP (BN33-D).

   (3)  The PCE3 further propagates the initiate message to BN33.

   (4)  BN33 initiates the setup of the LSP as per the path and reports
 


Dhody, et al.            Expires September 2018                [Page 10]

Internet-Draft               STATEFUL-HPCE                    March 2018


        to the PCE3 the LSP status ("GOING-UP").

   (5)  The PCE3 further reports the status of the LSP to the P-PCE
        (PCE5).

   (6)  The node BN33 notifies the LSP state to PCE3 when the state is
        "UP".

   (7)  The PCE3 further reports the status of the LSP to the P-PCE
        (PCE5).

   For LSP (BN41-BN33)

   (8)  The P-PCE (PCE5) sends the initiate request to the child PCE
        (PCE4) via PCInitiate message for LSP (BN41-BN33).

   (9)  The PCE4 further propagates the initiate message to BN41.

   (10) BN41 initiates the setup of the LSP as per the path and reports
        to the PCE4 the LSP status ("GOING-UP").

   (11) The PCE4 further reports the status of the LSP to the P-PCE
        (PCE5).

   (l2) The node BN41 notifies the LSP state to PCE4 when the state is
        "UP".

   (13) The PCE4 further reports the status of the LSP to the P-PCE
        (PCE5).

   For LSP (S-BN41)

   (14)  The P-PCE (PCE5) sends the initiate request to the child
        PCE (PCE1) via PCInitiate message for LSP (S-BN41).

   (15)  The PCE1 further propagates the initiate message to node S.

   (16)  S initiates the setup of the LSP as per the path and reports to
        the PCE1 the LSP status ("GOING-UP").

   (17)  The PCE1 further reports the status of the LSP to the P-PCE
        (PCE5).

   (18)  The node S notifies the LSP state to PCE1 when the state is
        "UP".

   (19)  The PCE1 further reports the status of the LSP to the P-PCE
        (PCE5).
 


Dhody, et al.            Expires September 2018                [Page 11]

Internet-Draft               STATEFUL-HPCE                    March 2018


   Additionally:

   (20) Once P-PCE receives report of each per-domain LSP, it
        should use suitable stitching mechanism, which is out of scope 
        of this document. In this step, P-PCE (PCE5) could also   
        initiate an E2E LSP (S-D) by sending the PCInitiate message to  
        Ingress C-PCE (PCE1). It is also possible to stitch the per- 
        domain LSP at the same time as the per-domain LSPs are   
        initiated as defined in [I-D.dugeon-pce-stateful-interdomain].

4.  Other Considerations

4.1.  Applicability to Inter-Layer

   [RFC5623] describes a framework for applying the PCE-based
   architecture to inter-layer (G)MPLS traffic engineering.  The H-PCE
   Stateful architecture with stateful P-PCE coordinating with the
   stateful C-PCEs of higher and lower layer is shown in the figure
   below.

                                                     +----------+
                                                    /| Parent   |
                                                  /  | PCE      |
                                                /    +----------+
                                              /        / Stateful
                                             /       /
                                           /        /
                                          /       /
                          Stateful +---+/        /
                          Child   + PCE +      /
                          PCE Hi  + Hi  +     /
                                   +---+    /
          +---+    +---+                   /      +---+    +---+
         + LSR +--+ LSR +........................+ LSR +--+ LSR +
         + H1  +  + H2  +                 /      + H3  +  + H4  +
          +---+    +---+\          +---+/        /+---+    +---+
                         \        + PCE +       /
                          \       + Lo  +      /
                Stateful   \       +---+      /
                C-PCE   \                /
                Lo           \+---+    +---+/
                             + LSR +--+ LSR +
                             + L1  +  + L2  +
                              +---+    +---+

                 Figure 2: Sample Inter-Layer Topology

   All procedures described in Section 3 are applicable to inter-layer
 


Dhody, et al.            Expires September 2018                [Page 12]

Internet-Draft               STATEFUL-HPCE                    March 2018


   path setup as well.

4.2.  Applicability to ACTN

   [I-D.ietf-teas-actn-framework] describes framework for Abstraction
   and Control of TE Networks (ACTN), where each Provisioning Network
   Controller (PNC) is equivalent to C-PCE and P-PCE is the Multi-Domain
   Service Coordinator (MDSC).  The Per domain stitched LSP as per the
   Hierarchical PCE architecture described in Section 3.3.1 and Section
   4.1 is well suited for ACTN.

   [I-D.ietf-pce-applicability-actn] examines the applicability of PCE
   to the ACTN framework. To support the function of multi domain
   coordination via hierarchy, the stateful hierarchy of PCEs plays a
   crucial role.  

   In ACTN framework, Customer Network Controller (CNC) can request the
   MDSC to check if there is a possibility to meet Virtual Network (VN)
   requirements (before requesting for VN provision).  The H-PCE
   architecture as described in [RFC6805] can supports via the use of
   PCReq and PCRep messages between the P-PCE and C-PCEs.

5.  Other Considerations

5.1.  Scalability Considerations

   It should be noted that if all the C-PCEs would report all the LSPs
   in their domain, it could lead to scalability issues for the P-PCE.
   Thus it is recommended to only report the LSPs which are involved in
   H-PCE, i.e. the LSPs which are either delegated to the P-PCE or
   initiated by the P-PCE. Scalability considerations for PCEP as per
   [RFC8231] continue to apply for the PCEP session between child and
   parent PCE. 

5.2.  Confidentiality

   As described in section 4.2 of [RFC6805], information about the
   content of child domains is not shared for both scaling and
   confidentiality reasons. Along with the confidentiality during path
   computation, the child PCE could also conceal the path information, a
   C-PCE may replace a path segment with a path-key [RFC5520],
   effectively hiding the content of a segment of a path.


6.  Security Considerations

   The security considerations listed in [RFC8231],[RFC6805] and
   [RFC5440] apply to this document as well. As per [RFC6805], it is
 


Dhody, et al.            Expires September 2018                [Page 13]

Internet-Draft               STATEFUL-HPCE                    March 2018


   expected that the parent PCE will require all child PCEs to use full
   security when communicating with the parent. 


   Any multi-domain operation necessarily involves the exchange of
   information across domain boundaries.  This is bound to represent a
   significant security and confidentiality risk especially when the
   child domains are controlled by different commercial concerns.  PCEP
   allows individual PCEs to maintain confidentiality of their domain
   path information using path-keys [RFC5520], and the hierarchical PCE
   architecture is specifically designed to enable as much isolation of
   domain topology and capabilities information as is possible. The LSP
   state in the PCRpt message SHOULD continue to use this. 

   The security consideration for PCE-Initiated LSP as per [RFC8281] is
   also applicable from P-PCE to C-PCE. 

   Thus securing the PCEP session (between the P-PCE and the C-PCE)
   using mechanism like TCP Authentication Option (TCP-AO) [RFC5925] or
   Transport Layer Security (TLS) [RFC8253] is RECOMMENDED.

7.  Manageability Considerations

   All manageability requirements and considerations listed in
   [RFC5440], [RFC6805], [RFC8231], and [RFC8281] apply to Stateful H-
   PCE defined in this document.  In addition, requirements and
   considerations listed in this section apply.

7.1.  Control of Function and Policy

   Support of the hierarchical procedure will be controlled by the
   management organization responsible for each child PCE. The parent
   PCE must only accept path computation requests from authorized child
   PCEs.  If a parent PCE receives report from an unauthorized child
   PCE, the report should be dropped. All mechanism as described in
   [RFC8231] and [RFC8281] continue to apply.

7.2.  Information and Data Models

   An implementation SHOULD allow the operator to view the stateful and
   H-PCE capabilities advertised by each peer. The PCEP YANG module [I-
   D.ietf-pce-pcep-yang] can be extended to include details stateful H-
   PCE.


7.3.  Liveness Detection and Monitoring

   Mechanisms defined in this document do not imply any new liveness
 


Dhody, et al.            Expires September 2018                [Page 14]

Internet-Draft               STATEFUL-HPCE                    March 2018


   detection and monitoring requirements in addition to those already
   listed in [RFC5440].

7.4.  Verify Correct Operations

   Mechanisms defined in this document do not imply any new operation
   verification requirements in addition to those already listed in
   [RFC5440] and [RFC8231].

7.5.  Requirements On Other Protocols

   Mechanisms defined in this document do not imply any new requirements
   on other protocols.

7.6.  Impact On Network Operations

   Mechanisms defined in [RFC5440] and [RFC8231] also apply to PCEP
   extensions defined in this document.

   The stateful H-PCE technique brings the applicability of stateful PCE
   as described in [RFC8051], for the LSP traversing multiple domains.  

8.  IANA Considerations

   There are no IANA considerations. 

9.  Acknowledgments

   Thanks to Manuela Scarella, Haomian Zheng, Sergio Marmo, Stefano
   Parodi, Giacomo Agostini, Jeff Tantsura and Rajan Rao for
   suggestions.

10.  References

10.1.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <http://www.rfc-editor.org/info/rfc2119>.

   [RFC5440]  Vasseur, JP., Ed. and JL. Le Roux, Ed., "Path Computation
              Element (PCE) Communication Protocol (PCEP)", RFC 5440,
              DOI 10.17487/RFC5440, March 2009,
              <http://www.rfc-editor.org/info/rfc5440>.


   [RFC6805]  King, D., Ed. and A. Farrel, Ed., "The Application of the
 


Dhody, et al.            Expires September 2018                [Page 15]

Internet-Draft               STATEFUL-HPCE                    March 2018


              Path Computation Element Architecture to the Determination
              of a Sequence of Domains in MPLS and GMPLS", RFC 6805, DOI
              10.17487/RFC6805, November 2012,
              <http://www.rfc-editor.org/info/rfc6805>.

   [RFC8174]  Leiba, B., "Ambiguity of Uppercase vs Lowercase in RFC
              2119 Key Words", BCP 14, RFC 8174, DOI 10.17487/RFC8174,
              May 2017, <https://www.rfc-editor.org/info/rfc8174>.

   [RFC8231]  Crabbe, E., Minei, I., Medved, J., and R. Varga, "Path
              Computation Element Communication Protocol (PCEP)
              Extensions for Stateful PCE", RFC 8231,
              DOI 10.17487/RFC8231, September 2017,
              <https://www.rfc-editor.org/info/rfc8231>.

   [RFC8281]  Crabbe, E., Minei, I., Sivabalan, S., and R. Varga, "Path
              Computation Element Communication Protocol (PCEP)
              Extensions for PCE-Initiated LSP Setup in a Stateful PCE
              Model", RFC 8281, DOI 10.17487/RFC8281, December 2017,
              <https://www.rfc-editor.org/info/rfc8281>.

10.2.  Informative References

   [RFC4655]  Farrel, A., Vasseur, J., and J. Ash, "A Path Computation
              Element (PCE)-Based Architecture", RFC 4655,
              DOI 10.17487/RFC4655, August 2006,
              <http://www.rfc-editor.org/info/rfc4655>.

   [RFC5520]  Bradford, R., Ed., Vasseur, JP., and A. Farrel,
              "Preserving Topology Confidentiality in Inter-Domain Path
              Computation Using a Path-Key-Based Mechanism", RFC 5520,
              DOI 10.17487/RFC5520, April 2009,
              <http://www.rfc-editor.org/info/rfc5520>.

   [RFC5623]  Oki, E., Takeda, T., Le Roux, JL., and A. Farrel,
              "Framework for PCE-Based Inter-Layer MPLS and GMPLS
              Traffic Engineering", RFC 5623, DOI 10.17487/RFC5623,
              September 2009, <http://www.rfc-editor.org/info/rfc5623>.

   [RFC5925]  Touch, J., Mankin, A., and R. Bonica, "The TCP
              Authentication Option", RFC 5925, DOI 10.17487/RFC5925,
              June 2010, <http://www.rfc-editor.org/info/rfc5925>.

   [RFC8051]  Zhang, X., Ed. and I. Minei, Ed., "Applicability of a
              Stateful Path Computation Element (PCE)", RFC 8051,
              DOI 10.17487/RFC8051, January 2017,
              <http://www.rfc-editor.org/info/rfc8051>.

 


Dhody, et al.            Expires September 2018                [Page 16]

Internet-Draft               STATEFUL-HPCE                    March 2018


   [RFC8233]  Dhody, D., Wu, Q., Manral, V., Ali, Z., and K. Kumaki,
              "Extensions to the Path Computation Element Communication
              Protocol (PCEP) to Compute Service-Aware Label Switched
              Paths (LSPs)", RFC 8233, DOI 10.17487/RFC8233, September
              2017, <https://www.rfc-editor.org/info/rfc8233>.

   [RFC8253]  Lopez, D., Gonzalez de Dios, O., Wu, Q., and D. Dhody,
              "PCEPS: Usage of TLS to Provide a Secure Transport for the
              Path Computation Element Communication Protocol (PCEP)",
              RFC 8253, DOI 10.17487/RFC8253, October 2017,
              <https://www.rfc-editor.org/info/rfc8253>.

   [I-D.ietf-teas-actn-framework]
              Ceccarelli D. and Y. Lee, "Framework for Abstraction and
              Control of Transport Networks", draft-ietf-teas-
              actn-framework-11 (work in progress), October 2017.

   [I-D.ietf-pce-applicability-actn]
              Dhody, D., Lee, Y., and D. Ceccarelli, "Applicability of 
              Path Computation Element (PCE) for Abstraction and  
              Control of TE Networks (ACTN)",  draft-ietf-pce-
              applicability-actn-03 (work in progress), March 2018.

   [I-D.litkowski-pce-state-sync]
              Litkowski, S., Sivabalan, S., and D. Dhody, "Inter
              Stateful Path Computation Element communication
              procedures", draft-litkowski-pce-state-sync-02 (work in
              progress), August 2017.

   [I-D.ietf-pce-hierarchy-extensions]
              Zhang, F., Zhao, Q., Dios, O., Casellas, R., and D. King,
              "Extensions to Path Computation Element Communication
              Protocol (PCEP) for Hierarchical Path Computation Elements
              (PCE)", draft-ietf-pce-hierarchy-extensions-03 (work in
              progress), July 2016.

   [I-D.ietf-pce-pcep-yang]
              Dhody, D., Hardwick, J., Beeram, V., and j.
              jefftant@gmail.com, "A YANG Data Model for Path
              Computation Element Communications Protocol (PCEP)",
              draft-ietf-pce-pcep-yang-06 (work in progress), 
              January 2018.

   [I-D.dugeon-pce-stateful-interdomain]
              Dugeon, O. and J. Meuric, "PCEP Extension for Stateful
              Inter-Domain Tunnels", draft-dugeon-pce-stateful-
              interdomain-00 (work in progress), October 2017.

 


Dhody, et al.            Expires September 2018                [Page 17]

Internet-Draft               STATEFUL-HPCE                    March 2018


Appendix A.  Contributor Addresses

   Avantika
   Huawei Technologies
   Divyashree Techno Park, Whitefield
   Bangalore, Karnataka  560066
   India

   EMail: s.avantika.avantika@gmail.com 

   Xian Zhang
   Huawei Technologies
   Bantian, Longgang District
   Shenzhen, Guangdong  518129
   P.R.China

   EMail: zhang.xian@huawei.com

   Udayasree Palle
   Huawei Technologies
   Divyashree Techno Park, Whitefield
   Bangalore, Karnataka  560066
   India

   EMail: udayasreereddy@gmail.com 

Authors' Addresses

   Dhruv Dhody
   Huawei Technologies
   Divyashree Techno Park, Whitefield
   Bangalore, Karnataka  560066
   India

   EMail: dhruv.ietf@gmail.com


   Young Lee
   Huawei Technologies
   5340 Legacy Drive, Building 3
   Plano, TX  75023
   USA

   EMail: leeyoung@huawei.com


   Daniele Ceccarelli
   Ericsson
 


Dhody, et al.            Expires September 2018                [Page 18]

Internet-Draft               STATEFUL-HPCE                    March 2018


   Torshamnsgatan,48
   Stockholm
   Sweden

   EMail: daniele.ceccarelli@ericsson.com

   Jongyoon Shin
   SK Telecom
   6 Hwangsaeul-ro, 258 beon-gil, Bundang-gu, Seongnam-si,
   Gyeonggi-do  463-784
   Republic of Korea

   EMail: jongyoon.shin@sk.com


   Daniel King
   Lancaster University
   UK

   EMail: d.king@lancaster.ac.uk

   Oscar Gonzalez de Dios
   Telefonica I+D
   Don Ramon de la Cruz 82-84
   Madrid,   28045
   Spain

   Phone: +34913128832
   Email: ogondio@tid.es






















Dhody, et al.            Expires September 2018                [Page 19]
