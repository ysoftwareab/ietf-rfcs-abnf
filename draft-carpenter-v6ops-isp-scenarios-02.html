<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Emerging Service Provider Scenarios for IPv6 Deployment</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Emerging Service Provider Scenarios for IPv6 Deployment">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">V6OPS</td><td class="header">B. Carpenter</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Univ. of Auckland</td></tr>
<tr><td class="header">Intended status: Informational</td><td class="header">S. Jiang</td></tr>
<tr><td class="header">Expires: October 15, 2010</td><td class="header">Huawei Technologies Co., Ltd</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">April 13, 2010</td></tr>
</table></td></tr></table>
<h1><br />Emerging Service Provider Scenarios for IPv6 Deployment<br />draft-carpenter-v6ops-isp-scenarios-02</h1>

<h3>Abstract</h3>

<p>This document describes practices and plans that are emerging among Internet Service Providers for the
deployment of IPv6. They are based on practical experience so far, as well as current plans
and requirements, reported in a survey carried out in early 2010. 
</p>
<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted  in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF).  Note that other groups may also distribute
working documents as Internet-Drafts.  The list of current
Internet-Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
This Internet-Draft will expire on October 15, 2010.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2010 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents
(http://trustee.ietf.org/license-info) in effect on the date of
publication of this document.  Please review these documents
carefully, as they describe your rights and restrictions with respect
to this document. Code Components extracted from this document must
include Simplified BSD License text as described in Section 4.e of
the Trust Legal Provisions and are provided without warranty as
described in the Simplified BSD License.</p>
<a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#intro">1.</a>&nbsp;
Introduction<br />
<a href="#exp">2.</a>&nbsp;
Survey of ISP experience, plans and requirements<br />
<a href="#lessons">3.</a>&nbsp;
Lessons from experience and planning<br />
<a href="#gaps">4.</a>&nbsp;
Gap analysis<br />
<a href="#security">5.</a>&nbsp;
Security Considerations<br />
<a href="#iana">6.</a>&nbsp;
IANA Considerations<br />
<a href="#ack">7.</a>&nbsp;
Acknowledgements<br />
<a href="#changes">8.</a>&nbsp;
Change log<br />
<a href="#rfc.references1">9.</a>&nbsp;
Informative References<br />
<a href="#AppendixA">Appendix&nbsp;A.</a>&nbsp;
Summary of replies<br />
<a href="#AppendixQ">Appendix&nbsp;B.</a>&nbsp;
Questionnaire<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="intro"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>As is well known, the approaching exhaustion of IPv4 address space will bring about
a situation in which Internet Service Providers (ISPs) are faced with a choice between
one or more of three major alternatives:
</p>
<ol class="text">
<li>Squeeze the use of IPv4 addresses even harder than today, using smaller and smaller
    address blocks per customer, and possibly trading address blocks with other ISPs. 
</li>
<li>Install multiple layers of network address translation
    <a class='info' href='#I-D.nishitani-cgn'>[I&#8209;D.nishitani&#8209;cgn]<span> (</span><span class='info'>Yamagata, I., Nishitani, T., Miyakawa, S., Nakagawa, A., and H. Ashida, &ldquo;Common requirements for IP address sharing schemes,&rdquo; March&nbsp;2010.</span><span>)</span></a>, or share IPv4 addresses
    by other methods such as address-plus-port mapping <a class='info' href='#I-D.ymbk-aplusp'>[I&#8209;D.ymbk&#8209;aplusp]<span> (</span><span class='info'>Bush, R., &ldquo;The A+P Approach to the IPv4 Address Shortage,&rdquo; October&nbsp;2009.</span><span>)</span></a>,
    <a class='info' href='#I-D.boucadair-port-range'>[I&#8209;D.boucadair&#8209;port&#8209;range]<span> (</span><span class='info'>Boucadair, M., Levis, P., Bajko, G., and T. Savolainen, &ldquo;IPv4 Connectivity Access in the Context of IPv4 Address Exhaustion: Port Range based IP Architecture,&rdquo; July&nbsp;2009.</span><span>)</span></a>. 
</li>
<li>Deploy IPv6, and operate IPv4-IPv6 coexistence and interworking mechanisms. 
</li>
</ol><p>

This document focuses on alternative (3), while recognizing that many ISPs may
be obliged by circumstances to prolong the life of IPv4 by using (1) or (2) while
preparing for (3). 
</p>
<p>The document describes IPv6 deployment scenarios already adopted or currently planned
by a set of ISPs who responded to a technical questionnaire. Thus, it is a factual record
of the responses from those ISPs. It makes no recommendations; the best choice of
scenarios will depend on the circumstances of individual ISPs.
</p>
<p>We consider various aspects of IPv6 deployment: addressing, routing, DNS, management
and of course IPv4-IPv6 coexistence and interworking. We do not consider application services
in detail, but we do cover general aspects.  
</p>
<p>The reader is assumed to be familiar with IPv6. The IETF's 
view of core IPv6 requirements is to be found in <a class='info' href='#RFC4294'>[RFC4294]<span> (</span><span class='info'>Loughney, J., &ldquo;IPv6 Node Requirements,&rdquo; April&nbsp;2006.</span><span>)</span></a>
(currently being updated as <a class='info' href='#I-D.ietf-6man-node-req-bis'>[I&#8209;D.ietf&#8209;6man&#8209;node&#8209;req&#8209;bis]<span> (</span><span class='info'>Jankiewicz, E., Loughney, J., and T. Narten, &ldquo;IPv6 Node Requirements RFC 4294-bis,&rdquo; March&nbsp;2010.</span><span>)</span></a>). However,
this does not give a complete view of mechanisms an ISP may need to deploy, since
it considers the requirements for an individual node, not for a network
as a whole.  
</p>
<p><a class='info' href='#RFC4029'>[RFC4029]<span> (</span><span class='info'>Lind, M., Ksinant, V., Park, S., Baudot, A., and P. Savola, &ldquo;Scenarios and Analysis for Introducing IPv6 into ISP Networks,&rdquo; March&nbsp;2005.</span><span>)</span></a> discusses scenarios for introducing IPv6 into ISP networks, as the problem
was viewed some years ago. 
The end goal described in RFC 4029 is simply a dual-stack ISP backbone. Today's view is that
this is insufficient, as it does not allow for interworking between IPv6-only and legacy (IPv4-only)
hosts. Indeed, the end goal today might be an IPv6-only ISP backbone, with some form of
legacy IPv4 support. 
</p>
<p><a class='info' href='#RFC4779'>[RFC4779]<span> (</span><span class='info'>Asadullah, S., Ahmed, A., Popoviciu, C., Savola, P., and J. Palet, &ldquo;ISP IPv6 Deployment Scenarios in Broadband Access Networks,&rdquo; January&nbsp;2007.</span><span>)</span></a> discusses deployment in broadband access networks such as CATV, ADSL
and wireless. <a class='info' href='#RFC5181'>[RFC5181]<span> (</span><span class='info'>Shin, M-K., Han, Y-H., Kim, S-E., and D. Premec, &ldquo;IPv6 Deployment Scenarios in 802.16 Networks,&rdquo; May&nbsp;2008.</span><span>)</span></a>, <a class='info' href='#RFC5121'>[RFC5121]<span> (</span><span class='info'>Patil, B., Xia, F., Sarikaya, B., Choi, JH., and S. Madanapalli, &ldquo;Transmission of IPv6 via the IPv6 Convergence Sublayer over IEEE 802.16 Networks,&rdquo; February&nbsp;2008.</span><span>)</span></a> and
<a class='info' href='#I-D.ietf-16ng-ip-over-ethernet-over-802-dot-16'>[I&#8209;D.ietf&#8209;16ng&#8209;ip&#8209;over&#8209;ethernet&#8209;over&#8209;802&#8209;dot&#8209;16]<span> (</span><span class='info'>Jeon, H., Riegel, M., and S. Jeong, &ldquo;Transmission of IP over Ethernet over IEEE 802.16 Networks,&rdquo; September&nbsp;2009.</span><span>)</span></a> deal specifically with 
IEEE 802.16 access networks.
MPLS-based ISPs may use the 6PE <a class='info' href='#RFC4798'>[RFC4798]<span> (</span><span class='info'>De Clercq, J., Ooms, D., Prevost, S., and F. Le Faucheur, &ldquo;Connecting IPv6 Islands over IPv4 MPLS Using IPv6 Provider Edge Routers (6PE),&rdquo; February&nbsp;2007.</span><span>)</span></a> mechanism. 
</p>
<p><a class='info' href='#RFC4942'>[RFC4942]<span> (</span><span class='info'>Davies, E., Krishnan, S., and P. Savola, &ldquo;IPv6 Transition/Co-existence Security Considerations,&rdquo; September&nbsp;2007.</span><span>)</span></a> covers IPv6 security issues, especially those that are specific to transition and
coexistence scenarios. 
Also related to security, <a class='info' href='#RFC4864'>[RFC4864]<span> (</span><span class='info'>Van de Velde, G., Hain, T., Droms, R., Carpenter, B., and E. Klein, &ldquo;Local Network Protection for IPv6,&rdquo; May&nbsp;2007.</span><span>)</span></a> discusses "Local Network Protection",
i.e., how the internal structure of an IPv6 site network can be protected. Although not directly 
part of ISP operations, this topic does affect the issue of how well an ISP's customers
are protected after they deploy IPv6. 
</p>
<p>Although the basic IPv6 standards have long been stable, it should be noted that considerable
work continues in the IETF, particularly to resolve the issue of highly scalable multihoming
support for IPv6 sites, and to resolve the problem of IP layer interworking between IPv6-only
and IPv4-only hosts. IPv6/IPv4 interworking at the application layers is
handled within the original dual-stack model of
IPv6 deployment: either one end of an application session will have dual-stack
connectivity, or a dual-stack intermediary such as an HTTP proxy or SMTP server
will interface to both IPv4-only and IPv6-only hosts. 
</p>
<p><a class='info' href='#RFC5211'>[RFC5211]<span> (</span><span class='info'>Curran, J., &ldquo;An Internet Transition Plan,&rdquo; July&nbsp;2008.</span><span>)</span></a> describes an independent view of a possible sequence of events
for IPv6 adoption in the Internet as a whole, with direct implications for ISPs. Its main point,
perhaps, is that by 2012 it will be necessary to regard IPv4 networks as the legacy solution. 
</p>
<a name="exp"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Survey of ISP experience, plans and requirements</h3>

<p>To obtain a view of the IPv6 experience, plans and requirements of ISPs, a questionnaire
was issued by the authors in December 2009 and announced widely to the operational community.
We promised to keep the replies strictly confidential and to publish only combined results, without identifying 
information about individual ISPs in any published results. The raw technical questions are shown in
<a class='info' href='#AppendixQ'>Appendix&nbsp;B<span> (</span><span class='info'>Questionnaire</span><span>)</span></a>, and a detailed summary of the replies is in <a class='info' href='#AppendixA'>Appendix&nbsp;A<span> (</span><span class='info'>Summary of replies</span><span>)</span></a>.
Note that although the questionnaire
was widely announced, those who chose to reply were self-selected and we can make no claim of statistical
significance or freedom from bias in the results. In particular, we assume that ISPs with a pre-existing
interest in IPv6 are more likely to have replied than others. The results should therefore be interpreted
with some care.

</p>
<p>Thirty ISPs replied before the cutoff date for this analysis. 
66% of responses were from European ISPs but large operators in North America and Asia/Pacific regions are included. Commercial ISPs operating nationally predominate, with a vast range of size (from 30 customers up to 40 million). Note that some providers chose not to answer about the exact number of customers.
Nevertheless, it can be stated that 6 providers each had millions of customers, the next 9 each 
had more than 10,000 customers, and the remaining 15 each had fewer than 10,000 customers. 
</p>
<p>80% of the respondents offer both transit and origin-only service; 27% offer IP multicast service; 80% have multihomed customers. A very wide variety of access technologies is used: xDSL, DOCSIS, leased line (X.25, TDM/PDH, SDH), frame relay, dialup, microwave, FTTP, CDMA, UMTS, LTE, WiMAX, BWA, WiFi, 
Ethernet (100M-10G), MetroEthernet/MPLS. Most ISPs provide CPE to some or all of their customers, but
these CPE are often unable to support IPv6. 
</p>
<p>Estimates of when ISPs will run out of public IPv4 address space for internal use vary widely, between "now"
and "never". Public IPv4 address space for customers is mainly expected to run out between 2010 and 2015,
but three or four ISPs suggested it will never happen. About 20% of ISPs offer RFC 1918 space to customers, and
about 40% use such addresses internally. 
</p>
<p>60% of ISPs report that some big customers are requesting IPv6. Predictions for when 10% of customers
will require IPv6 range from 2010 to 2017, and for 50% from 2011 to 2020. These ISPs require IPv6 to be a 
standard service by 2010 to 2015; the most common target date is 2011. 40% already offer IPv6 as a regular
service, although in general it is used by fewer than 1% of customers. Another 47% of ISPs have IPv6 
deployment in progress or planned. These all plan at least beta-test service in 2010. Planned dates for regular
service are between 2010 and 2013 (except for one ISP who replied that it
depends on the marketing department). When asked when IPv6 will
reach 50% of total traffic, the most common answer is 2015. 
</p>
<p>Turning to technology choices, the overwhelming choice of approach (93%) is a dual stack routing backbone,
and the reason given is simplicity and cost. 40% run, or plan to run, a 6to4 relay as well, and 17% run or plan a Teredo server. However, 77% of ISPs don't have or plan any devices dedicated to IPv6. A different 77%
don't see IPv6 as an opportunity to restructure their network topology. 
</p>
<p>When asked which types of equipment are unable to support
IPv6, the most common answer was CPE (9 mentions).  Also
mentioned: handsets; DSLAMs; routers (including several specific
models); traffic management boxes; load balancers; VPN boxes;
management interfaces & systems; firewalls; billing systems. When asked if
such devices can be field-upgraded, the answers were gloomy: 5 yes, 4 partially, 10 no,
and numerous "don't know" or "hopefully".
</p>
<p>83% support or plan DNS AAAA queries over IPv6, and all but one of these include
reverse DNS lookup for IPv6. 
</p>
<p>The ISPs have prefixes ranging from /19 to /48, and have a variety of policies
for customer prefixes. Fifteen ISPs
offer more than one of /48, /52, /56, /60 or /64. Two offer /56
only, seven offer /48 only.  Two wired operators offer /64 only.
Mobile operators offer /64 in accordance with 3GPP, but at least
one would like to be allowed to offer /128 or /126. Also, as many as 30%
of the operators already have IPv6 customers preferring a PI prefix.
The methods chosen for prefix delegation to CPEs are manual, DHCPv6[-PD], SLAAC, 
RADIUS, and PPoE. 
</p>
<p>About 50% of ISPs already operate or plan dual-stack SMTP, POP3, IMAP and HTTP services.
In terms of internal services, it seems that firewalls, intrusion detection, address management,
monitoring, and network management tools are also around the 50% mark. However, accounting
and billing software is only ready at 23% of ISPs. 
</p>
<p>Considering IPv4-IPv6 interworking, 57% of ISPs don't expect to have IPv6-only customers
(but mobile operators are certain they will have millions). Five ISPs report customers who
explicitly refused to consider IPv6. When asked how long customers will run IPv4-only
applications, the most frequent answer is "more than ten years". Only three ISPs state that
IPv6-IPv4 interworking at the the IP layer is not needed. On the other hand, only three
(a different three!) run or plan to run NAT-PT. At least 30% plan to run some kind of
translator (presumably NAT64/DNS64), but only one felt that a multicast translator was essential.
Among those who do not plan a translator, when asked how they
plan to connect IPv6-only customers to IPv4-only services, seven rely on dual stack
and three have no plan (one said, paraphrasing, "it's their problem"). 
</p>
<p>Asked about plans for Mobile IPv6 (or Nemo mobile networks), 20% said yes, and 70% said no,
with the others uncertain. A detailed analysis shows that of the six ISPs who responded positively,
three are large mobile operators (and a fourth mobile operator said "No").
The other three who were positive were broadband ISPs ranging from small to very large.
</p>
<p>We examined the data to see whether any other differences emerge between the very large 
(millions of customers), medium (at least 10,000), and small (fewer than 10,000) operators. 
However, the range of answers seems to be broadly similar in all cases. The major exception is
that among the six very large operators, one plans to use 6PE and DS-lite,
and another to use 6VPE, instead of a simple dual stack. The other large
operators and all the medium and small operators prefer a simple dual stack. 
</p>
<a name="lessons"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Lessons from experience and planning</h3>

<p>This section is assembled and paraphrased from general comments made in the various questionnaire responses.
Any inconsistencies or contradictions are present in the original data. Comments related to missing 
features and products have been included in <a class='info' href='#gaps'>Section&nbsp;4<span> (</span><span class='info'>Gap analysis</span><span>)</span></a>. 
</p>
<p>As noted in the summary above, the ISPs that responded overwhelmingly prefer a native dual stack deployment. 
Numerous comments mentioned the simplicity of this model and the complexity and 
sub-optimal routing of tunnel-based solutions. Topology redesign is not generall considered
desirable, because congruent IPv4 and IPv6 topology simplifies maintenance and engineering.
Nevertheless, 6to4 is considered convenient for cable modem (DOCSIS) users and 6RD is 
considered an attractive model by some. 
Various operators, but by no means all, also see a need for Teredo.
One very large MPLS-based operator prefers 6PE because it avoids an IPv6 IGP and reduces operational costs.
This operator also sees IPv4 scarcity addressed by DS-lite <a class='info' href='#I-D.ietf-softwire-dual-stack-lite'>[I&#8209;D.ietf&#8209;softwire&#8209;dual&#8209;stack&#8209;lite]<span> (</span><span class='info'>Durand, A., Droms, R., Haberman, B., Woodyatt, J., Lee, Y., and R. Bush, &ldquo;Dual-Stack Lite Broadband Deployments Following IPv4 Exhaustion,&rdquo; March&nbsp;2010.</span><span>)</span></a>
and Carrier Grade NAT, also acting as a catalyst for IPv6.
Another very large operator with an existing NAT44 infrastructure plans to use 6VPE <a class='info' href='#RFC4659'>[RFC4659]<span> (</span><span class='info'>De Clercq, J., Ooms, D., Carugi, M., and F. Le Faucheur, &ldquo;BGP-MPLS IP Virtual Private Network (VPN) Extension for IPv6 VPN,&rdquo; September&nbsp;2006.</span><span>)</span></a>
and believes that NAT64 will be similar to NAT44 in support requirements.  
</p>
<p>Several ISPs observe that IPv6 deployment is technically not hard. The most eloquent
statement: "Just do it, bit by bit. It is very much an 'eating the elephant' problem,
but at one mouthful at a time, it appears to be surprisingly easy."
Other comments paraphrased from the replies are:
</p>
<ul class="text">
<li>Despite the known gaps, the tools and toolkits are fairly mature at this point. 
</li>
<li>Managerial commitment and a systematic approach to analysing requirements
and readiness are essential. 
</li>
<li>Evangelization remains a must, as it seems
that many ISP and IT managers are still unaware of the need for an IPv6 plan,
and are inclined to dismiss IPv4 depletion as a false alarm, and also seem
unaware that NATs create expensive support requirements. 
</li>
<li>Without customers wanting IPv6, getting business backing is very hard, and
IPv6 security and scale was not a focus for vendors until very recently. 
</li>
<li>Operators lack real experience with customer usage of IPv6, and the 
resulting lack of confidence causes delay. 
</li>
</ul>
<p>Three further quotations are of interest:
</p>
<p>"We are planning to move all our management addressing from IPv4 to IPv6 to free up IPv4 addresses."
</p>
<p>"I am actively pushing our larger customers to start testing IPv6 as our development has pretty much stopped as we need some real world testing to be done." 
</p>
<p>"Customer support needs to be aware that IPv6 is being started in your network, or servers. We experienced many IPv6 blocking applications, applications that do not fall back to IPv4, etc. The most difficult part may be to get engineers, sales, customer support personnel to like IPv6."
</p>
<a name="gaps"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Gap analysis</h3>

<p>The survey has shown a certain number of desirable features to be missing, either in relevant
specifications, or in many products. This section summarizes those gaps. 
</p>
<p>As noted above, numerous models of various types of product still do not support IPv6:
</p>
<blockquote class="text">
<p>CPE
</p>
<p>handsets 
</p>
<p>DSLAMs 
</p>
<p>routers 
</p>
<p>traffic management boxes 
</p>
<p>load balancers 
</p>
<p>VPN boxes 
</p>
<p>other appliances 
</p>
<p>management interfaces and systems 
</p>
<p>firewalls 
</p>
<p>intrusion detection systems 
</p>
<p>accounting and billing systems 
</p>
</blockquote>
<p>It is not the purpose of this document to name and shame vendors, but it is today
becoming urgent for all such products to avoid becoming part of the IPv4 legacy. 
ISPs stated that they want consistent feature-equal support for IPv4 and IPv6 in all 
equipment and software at reasonable or no extra cost.
The problems can be quite subtle: for example, one CPE with "full" IPv6 support does
not support IPv6 traffic shaping, so the ISP cannot cap IPv6 traffic to contractual limits.
Other needs and issues mentioned:
</p>
<ul class="text">
<li>A specific CPE need is an intelligent prefix sub-delegation mechanism (ease of use issue). 
</li>
<li>Full RA support on LAN side of ADSL CPE. 
</li>
<li>PPPoE and RADIUS support. Specifically, global unicast address assignment for L2TP/PPPoE.
    Currently the PPPoE client will be assigned a link-local address, requiring a second step
    (DHCPv6 or SLAAC). 
</li>
<li> Simple automatic distribution of DNS server details
     is essential; a DNS server option in RA <a class='info' href='#RFC5006'>[RFC5006]<span> (</span><span class='info'>Jeong, J., Park, S., Beloeil, L., and S. Madanapalli, &ldquo;IPv6 Router Advertisement Option for DNS Configuration,&rdquo; September&nbsp;2007.</span><span>)</span></a> is wanted. 
</li>
<li>ISPs need fully featured DHCPv6, especially since SLAAC does not allow 
    settings to be pushed out (except for RFC 5006). 
</li>
<li>Firewall systems should not use separate IPv4 and IPv6 rules. 
</li>
<li>Customer side firewalls/routers which can do 25-100 Mbit/s. 
</li>
<li>Gaps in infrastructure security for IPv6 management. 
</li>
<li>Gaps in routers' treatment of header options. 
</li>
<li>RA-Guard in switches. 
</li>
<li>VRRP support. 
</li>
<li>PE-CE routing protocols (OSPF and IS-IS). 
</li>
<li>Problems using a  single BGP session to exchange routes for both IPv4 and IPv6. 
</li>
<li>IPv6 support in all the best open source tools. 
</li>
</ul>
<p>Several ISPs also noted that much commercial applications software does not correctly
support IPv6 and that this will cause customer problems. Also, some operating systems
are still shipped with IPv6 disabled by default, or with features such as
IPv4-mapped addresses disabled by default. 
</p>
<p>Numerous ISPs want a scaleable NAT64/DNS64 product. Other protocol-related needs are: 
</p>
<ul class="text">
<li>"Getting it right" so that a dual stack client doesn't end up trying to use the wrong transport
    to reach a site. 
</li>
<li>User-side port allocation mechanisms. UPnP IGD and NAT-PMP can be used for IPv4,
    but nothing exists for IPv6 (yet). [Editor's comment: even though port mapping
    is in principle unnecessary for IPv6, a method of opening ports through firewalls
    on demand seems necessary.] 
</li>
</ul>
<p>Global IPv6 connectivity still has issues; for example ISPs in the Pacific region
may have to obtain IPv6 transit via the USA (a situation faced by IPv4 operators
in Europe about twenty years ago). Also, there are persistent PMTUD issues in various places on the net,
and a lack of multicast peering. 
</p>
<p>Finally, there was a comment that real deployment case studies must be shown to operators,
along with multihoming and traffic engineering best practices. 
</p>
<a name="security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Security Considerations</h3>

<p>As a report on a survey, this document creates no security issues in itself. ISPs did not register
any general concerns about IPv6 security. However, we note that
about half of all firewall and intrusion detection products are still reported not to support IPv6.
Some ISPs expressed concern about firewall performance and about the need for separate
firewall configurations for IPv4 and IPv6. 
</p>
<a name="iana"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
IANA Considerations</h3>

<p>This document makes no request of the IANA.
</p>
<a name="ack"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Acknowledgements</h3>

<p>We are grateful to all those who answered the questionnaire:
Pete Barnwell,	
Cameron Byrne,	
Gareth Campling,	
David Freedman,	
Wesley George,	
Steinar Haug,	
Paul Hoogsteder,	
Mario Iseli,	
Christian Jacquenet,	
Kurt Jaeger,	
Seiichi Kawamura, 	
Adrian Kennard,	
Simon Leinen,	
Riccardo Loselli,	
Janos Mohacsi,	
Jon Morby,	
Michael Newbery,	
Barry O'Donovan,	
Al Pooley,	
Antonio Querubin,
Anthony Ryan,	
Marc Schaeffer,	
Valeriu Vraciu,
Bill Walker
and those who preferred to remain anonymous. 
</p>
<p>The ISPs willing to be named were:
AISP,	
Alphanet,	
Breedband Delft,
Claranet,
E4A,
Fidonet,	
Finecom,	
France Telecom,	
Hungarnet,
Imagine,
LavaNet,
NEC BIGLOBE, 	
Nepustilnet,
Net North West, 	
RoEduNet,	
SWITCH,	
Snap,
Sprint,	
Star Technology,	
T-Mobile USA,
Ventelo,
and
Whole Ltd.	
</p>
<p>Useful comments and contributions were also made by
Mohamed Boucadair,
and others. 
</p>
<p>This document was produced using the xml2rfc tool
<a class='info' href='#RFC2629'>[RFC2629]<span> (</span><span class='info'>Rose, M., &ldquo;Writing I-Ds and RFCs using XML,&rdquo; June&nbsp;1999.</span><span>)</span></a>.
</p>
<a name="changes"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
Change log</h3>

<p>draft-carpenter-v6ops-isp-scenarios-02: updated summary and discussion of questionnaire results, 
deleted material to repurpose document as survey results only, 2010-04-13
</p>
<p>draft-carpenter-v6ops-isp-scenarios-01: added summary and discussion of questionnaire results, 2010-02-23
</p>
<p>draft-carpenter-v6ops-isp-scenarios-00: original version, 2009-10-13
</p>
<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>9.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="I-D.boucadair-port-range">[I-D.boucadair-port-range]</a></td>
<td class="author-text">Boucadair, M., Levis, P., Bajko, G., and T. Savolainen, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-boucadair-port-range-02.txt">IPv4 Connectivity Access in the Context of IPv4 Address Exhaustion: Port Range based IP Architecture</a>,&rdquo; draft-boucadair-port-range-02 (work in progress), July&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-boucadair-port-range-02.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-16ng-ip-over-ethernet-over-802-dot-16">[I-D.ietf-16ng-ip-over-ethernet-over-802-dot-16]</a></td>
<td class="author-text">Jeon, H., Riegel, M., and S. Jeong, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-16ng-ip-over-ethernet-over-802-dot-16-12.txt">Transmission of IP over Ethernet over IEEE 802.16 Networks</a>,&rdquo; draft-ietf-16ng-ip-over-ethernet-over-802-dot-16-12 (work in progress), September&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-16ng-ip-over-ethernet-over-802-dot-16-12.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-6man-node-req-bis">[I-D.ietf-6man-node-req-bis]</a></td>
<td class="author-text">Jankiewicz, E., Loughney, J., and T. Narten, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-6man-node-req-bis-04.txt">IPv6 Node Requirements RFC 4294-bis</a>,&rdquo; draft-ietf-6man-node-req-bis-04 (work in progress), March&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-6man-node-req-bis-04.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-softwire-dual-stack-lite">[I-D.ietf-softwire-dual-stack-lite]</a></td>
<td class="author-text">Durand, A., Droms, R., Haberman, B., Woodyatt, J., Lee, Y., and R. Bush, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-softwire-dual-stack-lite-04.txt">Dual-Stack Lite Broadband Deployments Following IPv4 Exhaustion</a>,&rdquo; draft-ietf-softwire-dual-stack-lite-04 (work in progress), March&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-softwire-dual-stack-lite-04.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-v6ops-cpe-simple-security">[I-D.ietf-v6ops-cpe-simple-security]</a></td>
<td class="author-text">Woodyatt, J., &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-v6ops-cpe-simple-security-11.txt">Recommended Simple Security Capabilities in Customer Premises Equipment for Providing Residential IPv6 Internet Service</a>,&rdquo; draft-ietf-v6ops-cpe-simple-security-11 (work in progress), April&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-v6ops-cpe-simple-security-11.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-v6ops-ipv6-cpe-router">[I-D.ietf-v6ops-ipv6-cpe-router]</a></td>
<td class="author-text">Singh, H., Beebee, W., Donley, C., Stark, B., and O. Troan, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-v6ops-ipv6-cpe-router-04.txt">Basic Requirements for IPv6 Customer Edge Routers</a>,&rdquo; draft-ietf-v6ops-ipv6-cpe-router-04 (work in progress), January&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-v6ops-ipv6-cpe-router-04.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.nishitani-cgn">[I-D.nishitani-cgn]</a></td>
<td class="author-text">Yamagata, I., Nishitani, T., Miyakawa, S., Nakagawa, A., and H. Ashida, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-nishitani-cgn-04.txt">Common requirements for IP address sharing schemes</a>,&rdquo; draft-nishitani-cgn-04 (work in progress), March&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-nishitani-cgn-04.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ymbk-aplusp">[I-D.ymbk-aplusp]</a></td>
<td class="author-text">Bush, R., &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ymbk-aplusp-05.txt">The A+P Approach to the IPv4 Address Shortage</a>,&rdquo; draft-ymbk-aplusp-05 (work in progress), October&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-ymbk-aplusp-05.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2629">[RFC2629]</a></td>
<td class="author-text"><a href="mailto:mrose@not.invisible.net">Rose, M.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2629">Writing I-Ds and RFCs using XML</a>,&rdquo; RFC&nbsp;2629, June&nbsp;1999 (<a href="http://www.rfc-editor.org/rfc/rfc2629.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2629.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2629.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4029">[RFC4029]</a></td>
<td class="author-text">Lind, M., Ksinant, V., Park, S., Baudot, A., and P. Savola, &ldquo;<a href="http://tools.ietf.org/html/rfc4029">Scenarios and Analysis for Introducing IPv6 into ISP Networks</a>,&rdquo; RFC&nbsp;4029, March&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc4029.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4294">[RFC4294]</a></td>
<td class="author-text">Loughney, J., &ldquo;<a href="http://tools.ietf.org/html/rfc4294">IPv6 Node Requirements</a>,&rdquo; RFC&nbsp;4294, April&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4294.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4659">[RFC4659]</a></td>
<td class="author-text">De Clercq, J., Ooms, D., Carugi, M., and F. Le Faucheur, &ldquo;<a href="http://tools.ietf.org/html/rfc4659">BGP-MPLS IP Virtual Private Network (VPN) Extension for IPv6 VPN</a>,&rdquo; RFC&nbsp;4659, September&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4659.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4779">[RFC4779]</a></td>
<td class="author-text">Asadullah, S., Ahmed, A., Popoviciu, C., Savola, P., and J. Palet, &ldquo;<a href="http://tools.ietf.org/html/rfc4779">ISP IPv6 Deployment Scenarios in Broadband Access Networks</a>,&rdquo; RFC&nbsp;4779, January&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc4779.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4798">[RFC4798]</a></td>
<td class="author-text">De Clercq, J., Ooms, D., Prevost, S., and F. Le Faucheur, &ldquo;<a href="http://tools.ietf.org/html/rfc4798">Connecting IPv6 Islands over IPv4 MPLS Using IPv6 Provider Edge Routers (6PE)</a>,&rdquo; RFC&nbsp;4798, February&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc4798.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4864">[RFC4864]</a></td>
<td class="author-text">Van de Velde, G., Hain, T., Droms, R., Carpenter, B., and E. Klein, &ldquo;<a href="http://tools.ietf.org/html/rfc4864">Local Network Protection for IPv6</a>,&rdquo; RFC&nbsp;4864, May&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc4864.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4942">[RFC4942]</a></td>
<td class="author-text">Davies, E., Krishnan, S., and P. Savola, &ldquo;<a href="http://tools.ietf.org/html/rfc4942">IPv6 Transition/Co-existence Security Considerations</a>,&rdquo; RFC&nbsp;4942, September&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc4942.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5006">[RFC5006]</a></td>
<td class="author-text">Jeong, J., Park, S., Beloeil, L., and S. Madanapalli, &ldquo;<a href="http://tools.ietf.org/html/rfc5006">IPv6 Router Advertisement Option for DNS Configuration</a>,&rdquo; RFC&nbsp;5006, September&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc5006.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5121">[RFC5121]</a></td>
<td class="author-text">Patil, B., Xia, F., Sarikaya, B., Choi, JH., and S. Madanapalli, &ldquo;<a href="http://tools.ietf.org/html/rfc5121">Transmission of IPv6 via the IPv6 Convergence Sublayer over IEEE 802.16 Networks</a>,&rdquo; RFC&nbsp;5121, February&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5121.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5181">[RFC5181]</a></td>
<td class="author-text">Shin, M-K., Han, Y-H., Kim, S-E., and D. Premec, &ldquo;<a href="http://tools.ietf.org/html/rfc5181">IPv6 Deployment Scenarios in 802.16 Networks</a>,&rdquo; RFC&nbsp;5181, May&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5181.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5211">[RFC5211]</a></td>
<td class="author-text">Curran, J., &ldquo;<a href="http://tools.ietf.org/html/rfc5211">An Internet Transition Plan</a>,&rdquo; RFC&nbsp;5211, July&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5211.txt">TXT</a>).</td></tr>
</table>

<a name="AppendixA"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A"></a><h3>Appendix A.&nbsp;
Summary of replies</h3>

<p>This summarises the 30 replies received by February 16, 2010. Note that
the answers to some questions do not total to 30, due to missing answers
or to multiple choices in some cases.
The ISPs are distributed as follows:
</p>
<blockquote class="text">
<p>Europe: 20
</p>
<p>North America: 6
</p>
<p>Asia/Pacific: 4
</p>
</blockquote>
<p>They can additionally be classified as:
</p>
<blockquote class="text">
<p>Commercial: 26
</p>
<p>Academic/research: 4
</p>
<p>Operating internationally: 5
</p>
<p>Operating nationally: 25
</p>
</blockquote>
<p>Basic data about IP service offerings:
</p>
<ul class="text">
<li>Offering both origin-only and transit service: 24
</li>
<li>Offering no transit: 6
</li>
<li>Number of private/small office customers (one IPv4 address): a few with zero, then from 30 units up to 40 million
</li>
<li>Number of corporate customers (block of IPv4 addresses): a few with zero, then from 40 units up to 40000
</li>
<li>IP multicast service? 8 yes, 22 no
</li>
<li>Do any customers require multihoming to multiple ISPs? 24 yes, 6 no
</li>
<li>Access technologies used: xDSL, DOCSIS, leased line (X.25, TDM/PDH, SDH), frame relay, dialup, microwave, FTTP, CDMA, UMTS, LTE, WiMAX, BWA, WiFi, Ethernet (100M-10G),  Ether/MPLS, IPv6-in-IPv4 tunnels
</li>
</ul>
<p>Customer Premises Equipment:
</p>
<ul class="text">
<li>Do customers use CPE that ISP supplies? 26 yes (20% to 100% of customers), 4 no
</li>
<li>Does the CPE provided support native IPv6? 16 yes (some), 10 no
</li>
<li>(Note that these numbers include answers that apply to tens of millions of mobile handsets.)
</li>
</ul>
<p>IPv4 Address Space:
</p>
<ul class="text">
<li>When do you expect to run out of public IPv4 address space inside your own network? 
    Estimates run from "now"  to 2020, but 4 ISPs say "never" or "unforeseeable".
</li>
<li>Do you run RFC1918 addresses and NAT within your network? 9 yes; 17 no;
    3 others say yes, but only for equipment management or L3VPN. 
</li>
<li>What % of IPv4 space is needed for ISP use (not for customers)? 1% to 30% 
    (and 100% for NRENs with PI customers).
</li>
<li>When do you expect to run out of public IPv4 address space for customers? Answers range from 2010 to 2015;
    4 ISPs say it depends on their registry. 3 or 4 give answers suggesting it will never happen. 
</li>
<li>Do you offer RFC1918 addresses to customers? 6 yes, 23 no
</li>
</ul>
<p>IPv6 Requirements:
</p>
<ul class="text">
<li>Are some big customers requesting IPv6? 18 yes, 12 no
</li>
<li>When do you predict 10% and 50% of customers to require IPv6 service? Ignoring unclear answers,
    answers for 10% range from 2010 to 2017, and for 50% from 2011 to 2020. 
</li>
<li>When do you require IPv6 to be a standard service available to all customers? Answers range from
    2010 to 2015; the most common answer is 2011. 
</li>
<li>When do you predict IPv6 traffic to reach 50% of total traffic? Answers range from 2011 to 2020;
    the most common answer is 2015. 
</li>
</ul>
<p>IPv6 Status and Plans:
</p>
<ul class="text">
<li>Do you currently offer IPv6 as a regular service? 12 yes, 5 partial, 12 no
</li>
<li>What % of customers currently use IPv6? &lt;1% to 30%; mostly 0 or &lt;1%
</li>
<li>When do you plan to start IPv6 deployment? 11 complete, 12 in progress, 3 in plan, 4 have no plan
</li>
<li>When do you plan to offer IPv6 as a special or beta-test service? For all those in progress or
    with a plan, the answer was either "now" or during 2010. 
</li>
<li>When do you plan to offer IPv6 as a regular service to all customers? For all those in progress or
    with a plan, the answer was between "now" and 2013 (except for one ISP who replied that it
    depends on the marketing department). 
</li>
</ul>
<p>IPv6 Technologies.  Note the answers refer to actual deployment or to plans, as the case may be:
</p>
<ul class="text">
<li>Which basic IPv6 access method(s) apply?
</li>
<ul class="text">
<li>Dual stack routing backbone: 28 yes, 1 maybe
</li>
<li>Separate IPv4 and IPv6 backbones: 2 yes, 1 maybe
</li>
<li>6to4 relay: 12 yes
</li>
<li>Teredo server: 5 yes
</li>
<li>Tunnel broker: Unfortunately this question was unclear and obviously misunderstood by most respondents.
       Several respondents mentioned that they are getting their own transit connectivity via
       static tunnels.
</li>
<li>Something else: Answers were 6VPE + NAT64/DNS64; PNAT; "considering 6RD" 
</li>
</ul>
<li>Please briefly explain the main reasons/issues behind your choice: The best summary of the
    answers is "dual stack is simplest, why do anything else?". 
</li>
<li>Which types of equipment in your network are unable to support IPv6? The most common answer was
    CPE (9 mentions). Also mentioned: handsets; DSLAMs; routers (including several specific models);
    traffic management boxes; load balancers; VPN boxes; management interfaces & systems;
    firewalls; billing systems. 
</li>
<li>Can they be field-upgraded? 5 yes, 4 partially, 10 no and numerous "don't know" or "hopefully" 
</li>
<li>Is any equipment 100% dedicated to IPv6? 7 yes, 23 no 
</li>
<li>Is IPv6 an opportunity to restructure your whole topology? 2 yes, 5 partial, 23 no 
</li>
<li>Do you include support for DNS AAAA queries over IPv6? 20 yes, 5 plan, 4 no 
</li>
<li>Do you include support for reverse DNS for IPv6 addresses? 21 yes, 3 plan, 5 no 
</li>
<li>What length(s) of IPv6 prefix do you have or need from the registry? 1 /19, 1 /21 (plus several /32s),
    1 /22 1 /30, 3 multiple /32s, 20 /32, 3 /48 
</li>
<li>What length(s) of IPv6 prefix are offered to customers? 
    15 ISPs offer more than one of /48, /52, /56, /60 or /64. 2 offer /56 only, 7 offer /48 only.
    Two wired operators offer /64 only.
    Mobile operators offer /64 in accordance with 3GPP, but at least one would like to be allowed
    to offer /128 or /126. 
</li>
<li>Do any customers share their IPv6 prefix among multiple hosts? Unfortunately this question was
    unclear and obviously misunderstood by most respondents. 
</li>
<li>Do any of your customers prefer to use PI IPv6 prefixes? 9 yes, 17 no 
</li>
<li>How are IPv6 prefixes delegated to CPEs? 15 manual, 10 DHCPv6[-PD], 8 SLAAC, 8 RADIUS, 2 PPoE 
</li>
<li>Are your SMTP, POP3 and IMAP services dual-stack? 10 yes, 6 plan, 12 no 
</li>
<li>Are your HTTP services, including caching and webmail, dual-stack? 9 yes,  1 partial, 4 plan, 14 no 
</li>
<li>Are any other services dual-stack? 11 yes, 2 plan, 10 no 
</li>
<li>Is each of the following dual-stack?
</li>
<ul class="text">
<li>Firewalls: 12 yes, 3 partial, 3 plan, 8 no 
</li>
<li>Intrusion detection: 10 yes,  2 plan, 12 no 
</li>
<li>Address management software: 15 yes, 1 plan, 12 no 
</li>
<li>Accounting software: 7 yes, 20 no 
</li>
<li>Monitoring software: 16 yes,2 partial,2 plan, 10 no 
</li>
<li>Network management tools: 13 yes, 4 partial,1 plan, 10 no 
</li>
</ul>
<li>Do you or will you have IPv6-only customers? 13 yes (or maybe), 17 no (or not likely) 
</li>
<li>Do you have customers who have explicitly refused to consider IPv6? 5 yes, 22 no 
</li>
<li>Interworking issues:
</li>
<ul class="text">
<li>How many years do you expect customers to run any IPv4-only applications?
     Answers range from 2 years to infinity, most frequent answer is &gt;10 years. 
</li>
<li>Is IPv6-IPv4 interworking at the the IP layer needed? 15 yes,9 uncertain, 3 no 
</li>
<li>Do you include a NAT-PT IPv6/IPv4 translator? 2 yes,1 plan, 25 no 
</li>
<li>If yes, does that include DNS translation? 1 plan, 2 no 
</li>
<li>If not, do you plan to operate an IPv6/IPv4 translator? 10 plan (NAT64), 7 no, others uncertain 
</li>
<li>If not, how do you plan to connect IPv6-only customers to IPv4-only services?
      7 rely on dual stack; 3 have no plan (one said "their problem") 
</li>
<li>If you offer IP multicast, will that need to be translated too? 1 yes, 2 uncertain, 5 no 
</li>
</ul>
<li>Any plans for Mobile IPv6 (or Nemo mobile networks)? 6 yes,2 uncertain, 21 no 
</li>
</ul>
<a name="AppendixQ"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.B"></a><h3>Appendix B.&nbsp;
Questionnaire</h3>

<p> This appendix reproduces the technical body of the questionnaire that was made available for ISPs to express
their requirements, plans and experience.  
</p>
<p></p>
<blockquote class="text">
<p>I. General questions about IP service

</p>
<p>1.Do you offer origin-only (stub, end-user) IP service, transit IP service, or both?

</p>
<p>2.Approximate number of private/small office customers (one IPv4 address)

</p>
<p>3.Approximate number of corporate customers (block of IPv4 addresses, not included in Q2)

</p>
<p>4.Do you offer IP multicast service?

</p>
<p>5.Do any  of your customers require multihoming to multiple ISPs?

</p>
<p>6.Access technologies used (ADSL,etc.)

</p>
<p>7.Do your customers use CPE that you supply?

</p>
<p>7.1.What % of customers?

</p>
<p>7.2.Does the CPE that you provide support native IPv6?

</p>
<p>8.When do you expect to run out of public IPv4 address space inside your own network?

</p>
<p>8.1.Do you run private (RFC1918) addresses and NAT within your network (i.e., a second layer of NAT in the 
</p>
<p>case of customers with their own NAT)?

</p>
<p>8.2.What % of your IPv4 space is needed for your own use (not for customers)?

</p>
<p>9.When do you expect to run out of public IPv4 address space for customers?

</p>
<p>9.1.Do you offer  private (RFC1918) addresses to your customers?

</p>
<p>II. Questions about requirements for IPv6 service

</p>
<p>10.Are some big customers requesting IPv6?

</p>
<p>11.When do you predict 10% and 50% of your customers to require IPv6 service?

</p>
<p>12.When do you require IPv6 to be a standard service available to all customers?

</p>
<p>13.When do you predict IPv6 traffic to reach 50% of total traffic?

</p>
<p>III. Questions about status and plans for IPv6 service

</p>
<p>14.Do you currently offer IPv6 as a regular service?

</p>
<p>14.1.What % of your customers currently use IPv6?

</p>
<p>14.2.When do you plan to start IPv6 deployment?

</p>
<p>14.3.When do you plan to offer IPv6 as a special or beta-test service to customers?

</p>
<p>15.When do you plan to offer IPv6 as a regular service to all customers?

</p>
<p>IV. Questions about  IPv6 technologies

</p>
<p>16.Which basic IPv6 access method(s) apply: 

</p>
<p>16.1. dual stack routing backbone?

</p>
<p>16.2. separate IPv4 and IPv6 backbones?

</p>
<p>16.3. 6to4 relay?

</p>
<p>16.4. Teredo server?

</p>
<p>16.5. tunnel broker? If so, which one?

</p>
<p>16.6. Something else? Please briefly describe your method:

</p>
<p>16.7. If possible, please briefly explain the main reasons/issues behind your choice.

</p>
<p>17.Which types of equipment in your network are unable to support IPv6?

</p>
<p>17.1.Can they be field-upgraded to support IPv6?

</p>
<p>17.2.Is any equipment 100% dedicated to IPv6?

</p>
<p>18.Is IPv6 an opportunity to restructure your whole topology?

</p>
<p>19.Do you include support for DNS AAAA queries over IPv6?

</p>
<p>20.Do you include support for reverse DNS for IPv6 addresses?

</p>
<p>21.What length(s) of IPv6 prefix do you have or need from the registry?

</p>
<p>22.What length(s) of IPv6 prefix are offered to customers?

</p>
<p>22.1.Do any customers share their IPv6 prefix among multiple hosts?

</p>
<p>23.Do any of your customers prefer to use PI IPv6 prefixes instead of a prefix from you?

</p>
<p>24.How are IPv6 prefixes delegated to CPEs? (Manual, PPPoE, RADIUS, DHCPv6, stateless autoconfiguration/RA, etc...)

</p>
<p>25.Are your SMTP, POP3 and IMAP services dual-stack?

</p>
<p>26.Are your HTTP services, including caching and webmail, dual-stack?

</p>
<p>27.Are any other services dual-stack?

</p>
<p>28.Is each of the following dual-stack?

</p>
<p>28.1.Firewalls

</p>
<p>28.2.Intrusion detection

</p>
<p>28.3.Address management software

</p>
<p>28.4.Accounting software

</p>
<p>28.5.Monitoring software

</p>
<p>28.6.Network management tools

</p>
<p>29.Do you or will you have IPv6-only customers?

</p>
<p>30.Do you have customers who have explicitly refused to consider IPv6?

</p>
<p>31.How many years do you expect customers to run any IPv4-only applications?

</p>
<p>32.Is IPv6-IPv4 interworking at the the IP layer needed?

</p>
<p>33.Do you include a NAT-PT IPv6/IPv4 translator?

</p>
<p>33.1.If yes, does that include DNS translation?

</p>
<p>33.2.If not, do you plan to operate an IPv6/IPv4 translator?

</p>
<p>33.3.If not, how do you plan to connect IPv6-only customers to IPv4-only services?

</p>
<p>33.4.If you offer IP multicast, will that need to be translated too?

</p>
<p>34.Any plans for Mobile IPv6 (or Nemo mobile networks)?

</p>
<p>35.What features and tools are missing today for IPv6 deployment and operations?

</p>
<p>36.Any other  comments about your IPv6 experience or plans? What went well, what was difficult, etc.

</p>
</blockquote>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Brian Carpenter</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Department of Computer Science</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">University of Auckland</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">PB 92019</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Auckland,   1142</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">New Zealand</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:brian.e.carpenter@gmail.com">brian.e.carpenter@gmail.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Sheng Jiang</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Huawei Technologies Co., Ltd</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">KuiKe Building, No.9 Xinxi Rd.,</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Shang-Di Information Industry Base, Hai-Dian District, Beijing</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">P.R. China</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:shengjiang@huawei.com">shengjiang@huawei.com</a></td></tr>
</table>
</body></html>
