<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Loss Episode Metrics for
    IPPM</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Loss Episode Metrics for
    IPPM">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 60em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 60em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Network Working Group</td><td class="header">N. Duffield</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">AT&amp;T Labs-Research</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">A. Morton</td></tr>
<tr><td class="header">Expires: July 4, 2011</td><td class="header">AT&amp;T Labs</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">J. Sommers</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Colgate University</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">December 31, 2010</td></tr>
</table></td></tr></table>
<h1><br />Loss Episode Metrics for
    IPPM<br />draft-ietf-ippm-loss-episode-metrics-01</h1>

<h3>Abstract</h3>

<p>The IETF has developed a one way packet loss metric that measures the
      loss rate on a Poisson probe stream between two hosts. However, the
      impact of packet loss on applications is in general sensitive not just
      to the average loss rate, but also to the way in which packet losses are
      distributed in loss episodes (i.e., maximal sets of consecutively lost
      probe packets). This draft defines one-way packet loss episode metrics,
      specifically the frequency and average duration of loss episodes, and a
      probing methodology under which the loss episode metrics are to be
      measured.
</p>
<h3>Requirements Language</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
      "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
      document are to be interpreted as described in <a class='info' href='#RFC2119'>RFC 2119<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a> [RFC2119]
</p>
<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted  in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF).  Note that other groups may also distribute
working documents as Internet-Drafts.  The list of current
Internet-Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
This Internet-Draft will expire on July 4, 2011.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2010 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents
(http://trustee.ietf.org/license-info) in effect on the date of
publication of this document.  Please review these documents
carefully, as they describe your rights and restrictions with respect
to this document. Code Components extracted from this document must
include Simplified BSD License text as described in Section 4.e of
the Trust Legal Provisions and are provided without warranty as
described in the Simplified BSD License.</p>
<p>
This document may contain material from IETF Documents or IETF
Contributions published or made publicly available before November
10, 2008.  The person(s) controlling the copyright in some of this
material may not have granted the IETF Trust the right to allow
modifications of such material outside the IETF Standards Process.
Without obtaining an adequate license from the person(s) controlling
the copyright in such materials, this document may not be modified
outside the IETF Standards Process, and derivative works of it may
not be created outside the IETF Standards Process, except to format
it for publication as an RFC or to translate it into languages other
than English.</p>
<a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor2">1.1.</a>&nbsp;
Background and Motivation<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor3">1.2.</a>&nbsp;
Loss Episode Metrics and Bi-Packet Probes<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">1.3.</a>&nbsp;
Outline and Contents<br />
<a href="#anchor5">2.</a>&nbsp;
 Singleton Definition for Type-P-One-way Bi-Packet Loss<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">2.1.</a>&nbsp;
Metric Name<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">2.2.</a>&nbsp;
Metric Parameters<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor8">2.3.</a>&nbsp;
Metric Units<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor9">2.4.</a>&nbsp;
Metric Definition<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor10">2.5.</a>&nbsp;
Discussion<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor11">2.6.</a>&nbsp;
Methodologies<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor12">2.7.</a>&nbsp;
Errors and Uncertainties<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor13">2.8.</a>&nbsp;
Reporting the Metric<br />
<a href="#anchor14">3.</a>&nbsp;
General Definition of samples for Type-P-One-way-Bi-Packet-Loss<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor15">3.1.</a>&nbsp;
Metric Name<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor16">3.2.</a>&nbsp;
Metric Parameters<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor17">3.3.</a>&nbsp;
Metric Units<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor18">3.4.</a>&nbsp;
Metric Definition<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor19">3.5.</a>&nbsp;
Discussion<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor20">3.6.</a>&nbsp;
Methodologies<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor21">3.7.</a>&nbsp;
Errors and Uncertainties<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor22">3.8.</a>&nbsp;
Reporting the Metric<br />
<a href="#TPOWBPLGS">4.</a>&nbsp;
An active probing methodology for Bi-Packet Loss<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor23">4.1.</a>&nbsp;
Metric Name<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor24">4.2.</a>&nbsp;
Metric Parameters<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor25">4.3.</a>&nbsp;
Metric Units<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor26">4.4.</a>&nbsp;
Metric Definition<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor27">4.5.</a>&nbsp;
Discussion<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#TPOWBPLGS-Methodologies">4.6.</a>&nbsp;
Methodologies<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#TPOWBPLGS-Errors">4.7.</a>&nbsp;
Errors and Uncertainties<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#TPOWBPLGS-Reporting">4.8.</a>&nbsp;
Reporting the Metric<br />
<a href="#anchor28">5.</a>&nbsp;
Loss Epsiode Proto-Metrics<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor29">5.1.</a>&nbsp;
Loss-Pair-Counts<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor30">5.2.</a>&nbsp;
Bi-Packet-Loss-Ratio<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor31">5.3.</a>&nbsp;
Bi-Packet-Loss-Episode-Duration-Number<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor32">5.4.</a>&nbsp;
Bi-Packet-Loss-Episode-Frequency-Number<br />
<a href="#anchor33">6.</a>&nbsp;
Loss Episode Metrics derived from Bi-Packet Loss Probing<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor34">6.1.</a>&nbsp;
Geometric Stream: Loss Ratio<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor35">6.1.1.</a>&nbsp;
Metric Name<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor36">6.1.2.</a>&nbsp;
Metric Parameters<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor37">6.1.3.</a>&nbsp;
Metric Units<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor38">6.1.4.</a>&nbsp;
Metric Definition<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor39">6.1.5.</a>&nbsp;
Discussion<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor40">6.1.6.</a>&nbsp;
Methodologies<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor41">6.1.7.</a>&nbsp;
Errors and Uncertainties<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor42">6.1.8.</a>&nbsp;
Reporting the Metric<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor43">6.2.</a>&nbsp;
Geometric Steam: Loss Episode Duration<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor44">6.2.1.</a>&nbsp;
Metric Name<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor45">6.2.2.</a>&nbsp;
Metric Parameters<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor46">6.2.3.</a>&nbsp;
Metric Units<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor47">6.2.4.</a>&nbsp;
Metric Definition<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor48">6.2.5.</a>&nbsp;
Discussion<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor49">6.2.6.</a>&nbsp;
Methodologies<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor50">6.2.7.</a>&nbsp;
Errors and Uncertainties<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor51">6.2.8.</a>&nbsp;
Reporting the Metric<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor52">6.3.</a>&nbsp;
Geometric Stream: Loss Episode Frequency<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor53">6.3.1.</a>&nbsp;
Metric Name<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor54">6.3.2.</a>&nbsp;
Metric Parameters<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor55">6.3.3.</a>&nbsp;
Metric Units<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor56">6.3.4.</a>&nbsp;
Metric Definition<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor57">6.3.5.</a>&nbsp;
Discussion<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor58">6.3.6.</a>&nbsp;
Methodologies<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor59">6.3.7.</a>&nbsp;
Errors and Uncertainties<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor60">6.3.8.</a>&nbsp;
Reporting the Metric<br />
<a href="#anchor61">7.</a>&nbsp;
Applicability of Loss Episode Metrics<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor62">7.1.</a>&nbsp;
Relation to Gilbert Model<br />
<a href="#anchor63">8.</a>&nbsp;
IPR Considerations<br />
<a href="#Security">9.</a>&nbsp;
Security Considerations<br />
<a href="#IANA">10.</a>&nbsp;
IANA Considerations<br />
<a href="#Acknowledgements">11.</a>&nbsp;
Acknowledgements<br />
<a href="#rfc.references1">12.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">12.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">12.2.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.1"></a><h3>1.1.&nbsp;
Background and Motivation</h3>

<p>
</p>
<p>Packet loss in the Internet is a complex phenomenon due to the
        bursty nature of traffic and congestion processes, influenced by both
        end-users and applications, and the operation of transport protocols
        such as TCP. For these reasons, the simplest model of packet loss--the
        single parameter Bernoulli (independent) loss model--does not
        represent the complexity of packet loss over periods of time.
        Correspondingly, a single loss metric--the average packet loss ratio
        over some period of time--arising, e.g., from a stream of Poisson
        probes as in <a class='info' href='#RFC2680'>[RFC2680]<span> (</span><span class='info'>Almes, G., Kalidindi, S., and M. Zekauskas, &ldquo;A One-way Packet Loss Metric for IPPM,&rdquo; September&nbsp;1999.</span><span>)</span></a> is not sufficient to
        determine the effect of packet loss on traffic in general.
</p>
<p>Moving beyond single parameter loss models, Markovian and
        Markov-modulated loss models involving transitions between a good and
        bad state, each with an associated loss rate, have been proposed by
        Gilbert and more generally by Elliot. In principle, Markovian models
        can be formulated over state spaces involving patterns of loss of any
        desired number of packets. However further increase in the size of the
        state space makes such models cumbersome both for parameter estimation
        (accuracy decreases) and prediction in practice (due to computational
        complexity and sensitivity to parameter inaccuracy). In general, the
        relevance and importance of particular models can change in time, e.g.
        in response to the advent of new applications and services. For this
        reason we are drawn to empirical metrics that do not depend on a
        particular model for their interpretation.
</p>
<p>An empirical measure of packet loss complexity, the index of
        dispersion of counts (IDC), comprise, for each t &gt;0, the ratio v(t)
        \ a(t) of the variance v(t) and average a(t) of the number of losses
        over successive measurement windows of a duration t. However, a full
        characterization of packet loss over time requires specification of
        the IDC for each window size t&gt;0.
</p>
<p>In the standards arena, loss pattern sample metrics are defined in
        <a class='info' href='#RFC3357'>[RFC3357]<span> (</span><span class='info'>Koodli, R. and R. Ravikanth, &ldquo;One-way Loss Pattern Sample Metrics,&rdquo; August&nbsp;2002.</span><span>)</span></a>. Following the Gilbert-Elliot model,
        burst metrics specific for VoIP that characterize complete episodes of
        lost, transmitted and discarded packets are defined in <a class='info' href='#RFC3611'>[RFC3611]<span> (</span><span class='info'>Friedman, T., Caceres, R., and A. Clark, &ldquo;RTP Control Protocol Extended Reports (RTCP XR),&rdquo; November&nbsp;2003.</span><span>)</span></a>
</p>
<p>All these considerations motivate formulating empirical metrics of
        one-way packet loss that provide the simplest generalization of the
        successful <a class='info' href='#RFC2680'>[RFC2680]<span> (</span><span class='info'>Almes, G., Kalidindi, S., and M. Zekauskas, &ldquo;A One-way Packet Loss Metric for IPPM,&rdquo; September&nbsp;1999.</span><span>)</span></a> that can capture deviations
        from independent packet loss in a robust model-independent manner,
        and, to define efficient measurement methodologies for these
        metrics.
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.2"></a><h3>1.2.&nbsp;
Loss Episode Metrics and Bi-Packet Probes</h3>

<p>
</p>
<p>The losses experienced by the packet stream can be viewed as
        occurring in loss episodes, i.e., maximal set of consecutively lost
        packets. This memo describes one-way loss episode metrics: their
        frequency and average duration. Although the average loss ratio can be
        expressed in terms of these quantities, they go further in
        characterizing the statistics of the patterns of packet loss within
        the stream of probes. This is useful information in understanding the
        effect of packet losses on application performance, since different
        applications can have different sensitivities to patterns of loss,
        being sensitive not only to the long term average loss rate, but how
        losses are distributed in time. As an example: MPEG video traffic may
        be sensitive to loss involving the I-frame in a group of pictures, but
        further losses within an episode of sufficiently short duration have
        no further impact; the damage is already done.
</p>
<p>The loss episode metrics presented here represent have the
        following useful properties:
</p>
<p></p>
<ol class="text">
<li>the metrics are empirical and do not depend on an underlying
            model; e.g., the loss process is not assumed to be Markovian. On
            the other hand, it turns out that the metrics of this memo can be
            related to the special case of the Gilbert Model parameters; see
            Section 7.
</li>
<li>the metric units can be directly compared with applications or
            user requirements or tolerance for network loss performance, in
            the frequency and duration of loss episodes, as well as the usual
            packet loss ratio, which can be recovered from the loss episode
            metrics upon dividing the average loss episode duration by the
            loss episode frequency.
</li>
<li>the metrics provide the smallest possible increment in
            complexity beyond, but in the spirit of, the IPPM average packet
            loss ratio metrics <a class='info' href='#RFC2680'>[RFC2680]<span> (</span><span class='info'>Almes, G., Kalidindi, S., and M. Zekauskas, &ldquo;A One-way Packet Loss Metric for IPPM,&rdquo; September&nbsp;1999.</span><span>)</span></a> i.e., moving
            from a single metric (average packet loss ratio) to a pair of
            metrics (loss episode frequency and average loss episode
            duration).
</li>
</ol>

<p>The draft also describes a probing methodology under which loss
        episode metrics are to be measured. The methodology comprises sending
        probe packets in pairs, where packets within each probe pair have a
        fixed separation, and the time between pairs takes the form of a
        geometric distributed number multiplied by the same separation. This
        can be regarded a generalization of Poisson probing where the probes
        are pairs rather than single packets as in <a class='info' href='#RFC2680'>[RFC2680]<span> (</span><span class='info'>Almes, G., Kalidindi, S., and M. Zekauskas, &ldquo;A One-way Packet Loss Metric for IPPM,&rdquo; September&nbsp;1999.</span><span>)</span></a>, and also of geometric probing described in
        <a class='info' href='#RFC2330'>[RFC2330]<span> (</span><span class='info'>Paxson, V., Almes, G., Mahdavi, J., and M. Mathis, &ldquo;Framework for IP Performance Metrics,&rdquo; May&nbsp;1998.</span><span>)</span></a>. However, it should be distinguished
        from back to back packet pairs whose change in separation on
        traversing a link is used to probe bandwidth. In this draft, the
        separation between the packets in a pair is the temporal resolution at
        which different loss episodes are to be distinguished. One key feature
        of this methodology is its efficiency: it estimates the average length
        of loss episodes without directly measuring the complete episodes
        themselves. Instead, this information is encoded in the observed
        relative frequencies of the 4 possible outcomes arising from the loss
        or successful transmission of each of the two packets of the probe
        pairs. This is distinct from the approach of <a class='info' href='#RFC3611'>[RFC3611]<span> (</span><span class='info'>Friedman, T., Caceres, R., and A. Clark, &ldquo;RTP Control Protocol Extended Reports (RTCP XR),&rdquo; November&nbsp;2003.</span><span>)</span></a> that reports on directly measured
        episodes.
</p>
<p>The metrics defined in this memo are "derived metrics", according
        to Section 6.1 of <a class='info' href='#RFC2330'>[RFC2330]<span> (</span><span class='info'>Paxson, V., Almes, G., Mahdavi, J., and M. Mathis, &ldquo;Framework for IP Performance Metrics,&rdquo; May&nbsp;1998.</span><span>)</span></a> the IPPM framework.
        They are based on the singleton loss metric defined in Section 2 of
        <a class='info' href='#RFC2680'>[RFC2680]<span> (</span><span class='info'>Almes, G., Kalidindi, S., and M. Zekauskas, &ldquo;A One-way Packet Loss Metric for IPPM,&rdquo; September&nbsp;1999.</span><span>)</span></a> .
</p>
<p>
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.3"></a><h3>1.3.&nbsp;
Outline and Contents</h3>

<p>
</p>
<p></p>
<ul class="text">
<li>Section 2 defines the fundamental singleton metric for the
            possible outcomes of a probe pair:
            Type-P-One-way-Bi-Packet-Loss.
</li>
<li>Section 3 defines sample sets of this metric derived from a
            general probe stream: Type-P-One-way-Bi-Packet-Loss-Stream.
</li>
<li>Section 4 defines the prime example of the
            Bi-Packet-Loss-Stream metrics, specifically
            Type-P-One-way-Bi-Packet-Loss-Geometric-Stream arising from the
            geometric stream of packet-pair probes that was described
            informally in Section 1.
</li>
<li>Section 5 defines Loss episode proto-metrics that summarize the
            outcomes from a stream metrics as an intermediate step to forming
            the loss episode metrics; they need not be reported in
            general.
</li>
<li>Section 6 defines the final loss episode metrics that are the
            focus of this memo, the new metrics
<ul class="text">
<li>Type-P-One-way-Bi-Packet-Loss-Geometric-Stream-Episode-Duration,
                the average duration, in seconds, of a loss episode
</li>
<li>Type-P-One-way-Bi-Packet-Loss-Geometric-Stream-Episode-Frequency,
                the average frequency, per second, at which loss episodes
                start.
</li>
<li>Type-P-One-way-Bi-Packet-Loss-Geometric-Stream-Ratio, which
                is the average packet loss ratio metric arising from the
                geometric stream probing methodology
</li>
</ul>
</li>
<li>Section 7 details applications and relations to existing loss
            models.
</li>
</ul>

<p>
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
 Singleton Definition for Type-P-One-way Bi-Packet Loss</h3>

<p>
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.1"></a><h3>2.1.&nbsp;
Metric Name</h3>

<p>Type-P-One-way-Bi-Packet-Loss
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.2"></a><h3>2.2.&nbsp;
Metric Parameters</h3>

<p>
</p>
<p></p>
<ul class="text">
<li>Src, the IP address of a source host
</li>
<li>Dst, the IP address of a destination host
</li>
<li>T1, a sending time of the first packet
</li>
<li>T2, a sending time of the second packet, with T2&gt;T1
</li>
<li>F, a selection function defining unambiguously the two packets
            from the stream selected for the metric.
</li>
<li>P, the specification of the packet type, over and above the
            source and destination addresses
</li>
</ul>

<p>
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.3"></a><h3>2.3.&nbsp;
Metric Units</h3>

<p>A Loss Pair is pair (l1, l2) where each of l1 and l2 is a binary
        value 0 or 1, where 0 signifies successful transmission of a packet
        and 1 signifies loss.
</p>
<p>The metric unit for Type-P-One-way-Bi-Packet-Loss takes is a Loss
        Pair
</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.4"></a><h3>2.4.&nbsp;
Metric Definition</h3>

<p></p>
<ol class="text">
<li>"The Type-P-One-way-Bi-Packet-Loss with parameters (Src, Dst,
            T1, T2, F, P) is (1,1)" means that Src sent the first bit of a
            Type-P packet to Dst at wire-time T1 and the first bit of a Type-P
            packet to Dst a wire-time T2&gt;T1, and that neither packet was
            received at Dst.
</li>
<li>The Type-P-One-way-Bi-Packet-Loss with parameters (Src, Dst,
            T1, T2, F, P) is (1,0)" means that Src sent the first bit of a
            Type-P packet to Dst at wire-time T1 and the first bit of a Type-P
            packet to Dst a wire-time T2&gt;T1, and that the first packet was
            not received at Dst, and the second packet was received at Dst
</li>
<li>The Type-P-One-way-Bi-Packet-Loss with parameters (Src, Dst,
            T1, T2, F, P) is (0,1)" means that Src sent the first bit of a
            Type-P packet to Dst at wire-time T1 and the first bit of a Type-P
            packet to Dst a wire-time T2&gt;T1, and that the first packet was
            received at Dst, and the second packet was not received at Dst
</li>
<li>The Type-P-One-way-Bi-Packet-Loss with parameters (Src, Dst,
            T1, T2, F, P) is (0,0)" means that Src sent the first bit of a
            Type-P packet to Dst at wire-time T1 and the first bit of a Type-P
            packet to Dst a wire-time T2&gt;T1, and that both packet were
            received at Dst.
</li>
</ol>

<p>
</p>
<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.5"></a><h3>2.5.&nbsp;
Discussion</h3>

<p>The purpose of the selection function is to specify exactly which
        packets are to be used for measurement. The notion is taken from
        Section 2.5 of <a class='info' href='#RFC3393'>[RFC3393]<span> (</span><span class='info'>Demichelis, C. and P. Chimento, &ldquo;IP Packet Delay Variation Metric for IP Performance Metrics (IPPM),&rdquo; November&nbsp;2002.</span><span>)</span></a>, where examples are
        discussed.
</p>
<p>
</p>
<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.6"></a><h3>2.6.&nbsp;
Methodologies</h3>

<p>The methodologies related to the Type-P-One-way-Packet-Loss metric
        in Section 2.6 of <a class='info' href='#RFC2680'>[RFC2680]<span> (</span><span class='info'>Almes, G., Kalidindi, S., and M. Zekauskas, &ldquo;A One-way Packet Loss Metric for IPPM,&rdquo; September&nbsp;1999.</span><span>)</span></a> are similar for the
        Type-P-One-way-Bi-Packet-Loss metric described above. In particular,
        the methodologies described in RFC 2680 apply to both packets of the
        pair.
</p>
<a name="anchor12"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.7"></a><h3>2.7.&nbsp;
Errors and Uncertainties</h3>

<p>Sources of error for the Type-P-One-way-Packet-Loss metric in
        Section 2.7 of <a class='info' href='#RFC2680'>[RFC2680]<span> (</span><span class='info'>Almes, G., Kalidindi, S., and M. Zekauskas, &ldquo;A One-way Packet Loss Metric for IPPM,&rdquo; September&nbsp;1999.</span><span>)</span></a> apply to each packet of
        the pair for the Type-P-One-way-Bi-Packet-Loss metric.
</p>
<a name="anchor13"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.8"></a><h3>2.8.&nbsp;
Reporting the Metric</h3>

<p>Refer to Section 2.8 of <a class='info' href='#RFC2680'>[RFC2680]<span> (</span><span class='info'>Almes, G., Kalidindi, S., and M. Zekauskas, &ldquo;A One-way Packet Loss Metric for IPPM,&rdquo; September&nbsp;1999.</span><span>)</span></a>.
</p>
<p>
</p>
<a name="anchor14"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
General Definition of samples for Type-P-One-way-Bi-Packet-Loss</h3>

<p>Given the singleton metric for Type-P-One-way-Bi-Packet-Loss, we now
      define examples of samples of singletons. The basic idea is as follows.
      We first specify a set of times T1 &lt; T2 &lt;...&lt;Tn, each of which
      acts as the first time of a packet pair for a single
      Type-P-One-way-Bi-Packet-Loss measurement. This results is a set of n
      metric values of Type-P-One-way-Bi-Packet-Loss.
</p>
<p>
</p>
<a name="anchor15"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
Metric Name</h3>

<p>Type-P-One-way-Bi-Packet-Loss-Stream
</p>
<p>
</p>
<a name="anchor16"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
Metric Parameters</h3>

<p></p>
<ul class="text">
<li>Src, the IP address of a source host
</li>
<li>Dst, the IP address of a destination host
</li>
<li>(T11,T12), (T21,T22)....,(Tn1,Tn2) a set of n times of sending
            times for packet pairs, with T11 &lt; T12 &lt;= T21 &lt; T22
            &lt;=...&lt;= Tn1 &lt; Tn2
</li>
<li>F, a selection function defining unambiguously the two packets
            from the stream selected for the metric.
</li>
<li>P, the specification of the packet type, over and above the
            source and destination address
</li>
</ul>

<p>
</p>
<a name="anchor17"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3"></a><h3>3.3.&nbsp;
Metric Units</h3>

<p>A set L1,L2,...,Ln of loss pairs
</p>
<a name="anchor18"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.4"></a><h3>3.4.&nbsp;
Metric Definition</h3>

<p>Each loss pair Li for i-1,....n is the
        Type-P-One-way-Bi-Packet-Loss with parameters (Src, Dst, Ti1, Ti2, Fi,
        P) where Fi is the restriction of the selection function F to the
        packet pair at time Ti1, Ti2.
</p>
<a name="anchor19"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.5"></a><h3>3.5.&nbsp;
Discussion</h3>

<p>The metric definition of Type-P-One-way-Bi-Packet-Loss-Stream is
        sufficiently general to describe the case where packets are sampled
        from a pre-existing stream. This is useful in the case that there is a
        general purpose measurement stream setup between two hosts, and we
        which to select a substream from it for the purposes of loss episode
        measurement. In the next section we specialize this somewhat to more
        concretely describe a purpose built packet stream for loss episode
        measurement.
</p>
<a name="anchor20"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.6"></a><h3>3.6.&nbsp;
Methodologies</h3>

<p>
</p>
<a name="anchor21"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.7"></a><h3>3.7.&nbsp;
Errors and Uncertainties</h3>

<p>
</p>
<a name="anchor22"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.8"></a><h3>3.8.&nbsp;
Reporting the Metric</h3>

<p>
</p>
<p>
</p>
<a name="TPOWBPLGS"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
An active probing methodology for Bi-Packet Loss</h3>

<p>This section specializes the preceding section for an active probing
      methodology. The basic idea is a follows. We set up a sequence of evenly
      spaced times T1 &lt; T2 &lt; ... &lt; Tn. Each time Ti is potentially
      the first packet time for a packet pair measurement. We make an
      independent random decision at each time, whether to initiate such a
      measurement. Hence the interval count between successive times at which
      a pair is initiated follows a geometric distribution. We also specify
      that the spacing between successive times Ti is the same as the spacing
      between packets in a given pair. Thus if pairs happen to be launched at
      the successive times Ti T(i+1), the second packet of the first pair is
      actually used as the first packet of the second pair.
</p>
<a name="anchor23"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1"></a><h3>4.1.&nbsp;
Metric Name</h3>

<p>Type-P-One-way-Bi-Packet-Loss-Geometric-Stream
</p>
<a name="anchor24"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2"></a><h3>4.2.&nbsp;
Metric Parameters</h3>

<p></p>
<ul class="text">
<li>Src, the IP address of a source host
</li>
<li>Dst, the IP address of a destination host
</li>
<li>T0, the randomly selected starting time <a class='info' href='#RFC3432'>[RFC3432]<span> (</span><span class='info'>Raisanen, V., Grotefeld, G., and A. Morton, &ldquo;Network performance measurement with periodic streams,&rdquo; November&nbsp;2002.</span><span>)</span></a> for periodic launch opportunities
</li>
<li>d, the time spacing between potential launch times, Ti and
            Ti+1
</li>
<li>n, a count of potential measurement instants
</li>
<li>q, a launch probability
</li>
<li>F, a selection function defining unambiguously the two packets
            from the stream selected for the metric.
</li>
<li>P, the specification of the packet type, over and above the
            source and destination address
</li>
</ul>

<a name="anchor25"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.3"></a><h3>4.3.&nbsp;
Metric Units</h3>

<p>A set of Loss Pairs L1, L2, ..., Lm for some m &lt;= n
</p>
<a name="anchor26"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.4"></a><h3>4.4.&nbsp;
Metric Definition</h3>

<p>for each i = 0, 1, ..., n-1 we form the potential measurement time
        Ti = T + i * d. With probability q, a packet pair measurement is
        launched at Ti, resulting in a Type-P-One-way-Bi-Packet-Loss with
        parameters (Src, Dst, Ti, Ti+1, Fi, P) where Fi is the restriction of
        the selection function F to the packet pair at times Ti, Ti+1. L1,
        L2,...Lm are the resulting Loss Pairs; m can be less than n since not
        all time Ti have an associated measurement.
</p>
<a name="anchor27"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.5"></a><h3>4.5.&nbsp;
Discussion</h3>

<p>The above definition of
        Type-P-One-way-Bi-Packet-Loss-Geometric-Stream is equivalent to using
        Type-P-One-way-Bi-Packet-Loss-Stream with an appropriate statistical
        definition of the selection function F.
</p>
<p>The number m of loss pairs in the metric can be less than the
        number of potential measurement instants because not all instants may
        generate a probe when the launch probability q is strictly less than
        1.
</p>
<a name="TPOWBPLGS-Methodologies"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.6"></a><h3>4.6.&nbsp;
Methodologies</h3>

<p>The methodologies follow from: 
<p>
            </p>
<ul class="text">
<li>the specific time T0, from which all successive Ti follow,
              and
</li>
<li>the specific time spacing, and
</li>
<li>the methodologies discussion given above for the singleton
              Type-P-One-way-Bi-Packet-Loss metric.
</li>
</ul><p>
          
</p>The issue of choosing an appropriate time spacing (e.g., one
        that is matched to expected characteristics of loss episodes) is
        outside the scope of this document.

<p>Note that as with any active measurement methodology, consideration
        must be made to handle out-of-order arrival of packets; see also
        Section 3.6. of <a class='info' href='#RFC2680'>[RFC2680]<span> (</span><span class='info'>Almes, G., Kalidindi, S., and M. Zekauskas, &ldquo;A One-way Packet Loss Metric for IPPM,&rdquo; September&nbsp;1999.</span><span>)</span></a>.
</p>
<a name="TPOWBPLGS-Errors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.7"></a><h3>4.7.&nbsp;
Errors and Uncertainties</h3>

<p>In addition to sources of errors and uncertainties related to
        methodologies for measuring the singleton
        Type-P-One-way-Bi-Packet-Loss metric, a key source of error when
        emitting packets for Bi-Packet Loss relates to resource limits on the
        host used to send the packets. In particular, the choice of T0, the
        choice of the time spacing, and the choice of the launch probability
        results in a schedule for sending packets. Insufficient CPU resources
        on the sending host may result in an inability to send packets
        according to schedule. Note that the choice of time spacing directly
        affects the ability of the host CPU to meet the required schedule
        (e.g., consider a 100 microsecond spacing versus a 100 millisecond
        spacing).
</p>
<p>For other considerations, refer to Section 3.7. <a class='info' href='#RFC2680'>[RFC2680]<span> (</span><span class='info'>Almes, G., Kalidindi, S., and M. Zekauskas, &ldquo;A One-way Packet Loss Metric for IPPM,&rdquo; September&nbsp;1999.</span><span>)</span></a>.
</p>
<a name="TPOWBPLGS-Reporting"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.8"></a><h3>4.8.&nbsp;
Reporting the Metric</h3>

<p>Refer to Section 3.8. of <a class='info' href='#RFC2680'>[RFC2680]<span> (</span><span class='info'>Almes, G., Kalidindi, S., and M. Zekauskas, &ldquo;A One-way Packet Loss Metric for IPPM,&rdquo; September&nbsp;1999.</span><span>)</span></a>.
</p>
<p>
</p>
<a name="anchor28"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Loss Epsiode Proto-Metrics</h3>

<p>
</p>
<p>This section describes four generic proto-metric quantities
      associated with an arbitrary set of loss pairs. These are the
      Loss-Pair-Counts, Bi-Packet-Loss-Ratio,
      Bi-Packet-Loss-Episode-Duration-Number,
      Bi-Packet-Loss-Episode-Frequency-Number. Specific loss episode metrics
      can then be constructed when these proto metrics take as their input,
      sets of loss pairs samples generated by the
      Type-P-One-way-Bi-Packet-Loss-Stream and
      Type-P-One-way-Bi-Packet-Loss-Geometric Stream. The second of these is
      described in <a class='info' href='#TPOWBPLGS'>Section&nbsp;4<span> (</span><span class='info'>An active probing methodology for Bi-Packet Loss</span><span>)</span></a>. It is not expected that
      these proto-metrics would be reported themselves. Rather they are
      intermediate quantities in the production of the final metrics of
      Section 6 below, and could be rolled up into them in implementations.
      The metrics report loss episode durations and frequencies in terms of
      packet counts, since they do not depend on the actual time between probe
      packets. The final metrics of Section 6 incorporate timescales and yield
      durations in seconds, and frequencies as per second.
</p>
<a name="anchor29"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1"></a><h3>5.1.&nbsp;
Loss-Pair-Counts</h3>

<p>Loss-Pair-Counts are the absolute frequencies of the 4 types of
        loss pair outcome in a sample. More precisely, the Loss-Pair-Counts
        associated with a set of loss pairs L1,,,,Ln are the numbers N(i,j) of
        such loss pairs that take each possible value (i,j) in the set (
        (0,0), (0,1), (1,0), (1,1)).
</p>
<a name="anchor30"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.2"></a><h3>5.2.&nbsp;
Bi-Packet-Loss-Ratio</h3>

<p>The Bi-Packet-loss-ratio associated with a set of n loss pairs
        L1,,,,Ln is defined in terms of their Loss-Pair-Counts by the quantity
        (N(1,0) +N(1,1))/n.
</p>
<p>Note this is formally equivalent to the loss metric
        Type-P-One-way-Packet-Loss-Average from<a class='info' href='#RFC2680'>[RFC2680]<span> (</span><span class='info'>Almes, G., Kalidindi, S., and M. Zekauskas, &ldquo;A One-way Packet Loss Metric for IPPM,&rdquo; September&nbsp;1999.</span><span>)</span></a>
        since it averages single packet losses.
</p>
<a name="anchor31"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.3"></a><h3>5.3.&nbsp;
Bi-Packet-Loss-Episode-Duration-Number</h3>

<p>The Bi-Packet-Loss-Episode-Duration-Number associated with a set of
        n loss pairs L1,,,,Ln is defined in terms of their Loss-Pair-Counts in
        the following cases:
</p>
<p></p>
<ul class="text">
<li>2*(N(0,1) + N(1,0) + N(1,1)/ (N(0,1)+N(1,0)) - 1 if N(0,1) +
            N(1,0) &gt;1
</li>
<li>0 if N(0,1) + N(1,0) + N(1,1) = 0 (no probe packets lost)
</li>
<li>Undefined if N(0,1) + N(1,0) + N(0,0) = 0 (all probe packets
            lost)
</li>
</ul><p>Note N(0,1) + N(1,0) is zero if there are no transitions
        between loss and no-loss outcomes.
</p>
<a name="anchor32"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.4"></a><h3>5.4.&nbsp;
Bi-Packet-Loss-Episode-Frequency-Number</h3>

<p>
</p>
<p>The Bi-Packet-Loss-Episode-Frequency-Number associated with a set
        of n loss pairs L1,,,,Ln is defined in terms of their Loss-Pair-Counts
        as Bi-Packet-Loss-Ratio / Bi-Packet-Loss-Episode-Duration-Number, when
        this can be defined, specifically, it is:
</p>
<p></p>
<ul class="text">
<li>(N(1,0)+N(1,1)) * (N(0,1)+N(1,0)) / (2*N(1,1)+N(0,1)+N(1,0) ) /
            n if N(0,1)+N(0,1) &gt; 0
</li>
<li>0 if N(0,1)+N(1,0) +N(1,1) = 0 (no probe packets lost)
</li>
<li>1 if N(0,1) +N(1,0) +N(0,0) = 0 (all probe packets lost)
</li>
</ul>

<a name="anchor33"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Loss Episode Metrics derived from Bi-Packet Loss Probing</h3>

<p>Metrics for the time frequency and time duration of loss episodes are
      now defined as functions of set of n loss pairs L1,....,Ln. Although a
      loss episode is defined as a maximal set of successive lost packets, the
      loss episode metrics are not defined directly in terms of the sequential
      patterns of packet loss exhibited by loss pairs. This is because
      samples, including Type-P-One-way-Bi-Packet-Loss-Geometric-Stream,
      generally do not report all lost packets in each episode. Instead, the
      metrics are defined as functions of the Loss-Pair-Counts of the sample,
      for reasons that are now described.
</p>
<p>Consider an idealized Type-P-One-way-Bi-Packet-Loss-Geometric-Stream
      sample in which the launch probability q =1. It is shown in <a class='info' href='#SBDR08'>[SBDR08]<span> (</span><span class='info'>IEEE/ACM Transactions on Networking, 16(2):             307-320, &ldquo;A Geometric Approach to Improving Active Packet Loss           Measurement,&rdquo; 2008.</span><span>)</span></a> that the average number of packets in a loss
      episode of this ideal sample is exactly the
      Bi-Packet-Loss-Episode-Duration derived from its set of loss pairs. Note
      this computation makes no reference to the position of lost packet in
      the sequence of probes.
</p>
<p>A general Type-P-One-way-Bi-Packet-Loss-Geometric-Stream sample with
      launch probability q &lt; 1, independently samples, with probability q,
      each loss pair of an idealized sample. On average, the Loss-Pair-Counts
      (if normalized by the total number of pairs) will be the same as in the
      idealized sample. The loss episode metrics in the general case are thus
      estimators of those for the idealized case; the statistical properties
      of this estimation, including a derivation of the estimation variance,
      is provided in <a class='info' href='#SBDR08'>[SBDR08]<span> (</span><span class='info'>IEEE/ACM Transactions on Networking, 16(2):             307-320, &ldquo;A Geometric Approach to Improving Active Packet Loss           Measurement,&rdquo; 2008.</span><span>)</span></a>.
</p>
<a name="anchor34"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1"></a><h3>6.1.&nbsp;
Geometric Stream: Loss Ratio</h3>

<p>
</p>
<a name="anchor35"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1.1"></a><h3>6.1.1.&nbsp;
Metric Name</h3>

<p>Type-P-One-way-Bi-Packet-Loss-Geometric-Stream-Ratio
</p>
<a name="anchor36"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1.2"></a><h3>6.1.2.&nbsp;
Metric Parameters</h3>

<p></p>
<ul class="text">
<li>Src, the IP address of a source host
</li>
<li>Dst, the IP address of a destination host
</li>
<li>T0, the randomly selected starting time <a class='info' href='#RFC3432'>[RFC3432]<span> (</span><span class='info'>Raisanen, V., Grotefeld, G., and A. Morton, &ldquo;Network performance measurement with periodic streams,&rdquo; November&nbsp;2002.</span><span>)</span></a> for periodic launch opportunities
</li>
<li>d, the time spacing between potential launch times, Ti and
              Ti+1
</li>
<li>n, a count of potential measurement instants
</li>
<li>q, a launch probability
</li>
<li>F, a selection function defining unambiguously the two
              packets from the stream selected for the metric.
</li>
<li>P, the specification of the packet type, over and above the
              source and destination address
</li>
</ul>

<a name="anchor37"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1.3"></a><h3>6.1.3.&nbsp;
Metric Units</h3>

<p>A number in the interval [0,1]
</p>
<a name="anchor38"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1.4"></a><h3>6.1.4.&nbsp;
Metric Definition</h3>

<p>The result obtained by computing the Bi-Packet-Loss-Ratio over a
          Type-P-One-way-Bi-Packet-Loss-Geometric-Stream sample with the
          metric parameters.
</p>
<a name="anchor39"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1.5"></a><h3>6.1.5.&nbsp;
Discussion</h3>

<p>Type-P-One-way-Bi-Packet-Loss-Geometric-Stream-Ratio estimates
          the fraction of packets lost from the geometric stream of Bi-Packet
          probes.
</p>
<a name="anchor40"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1.6"></a><h3>6.1.6.&nbsp;
Methodologies</h3>

<p>Refer to <a class='info' href='#TPOWBPLGS-Methodologies'>Section&nbsp;4.6<span> (</span><span class='info'>Methodologies</span><span>)</span></a>
</p>
<a name="anchor41"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1.7"></a><h3>6.1.7.&nbsp;
Errors and Uncertainties</h3>

<p>Because Type-P-One-way-Bi-Packet-Loss-Geometric-Stream is sampled
          in general (when the launch probability q &lt;1) the metrics
          described in this Section can be regarded as statistical estimators
          of the corresponding idealized version corresponding to q = 1.
          Estimation variance as it applies to
          Type-P-One-way-Bi-Packet-Loss-Geometric-Stream-Loss-Ratio is
          described in <a class='info' href='#SBDR08'>[SBDR08]<span> (</span><span class='info'>IEEE/ACM Transactions on Networking, 16(2):             307-320, &ldquo;A Geometric Approach to Improving Active Packet Loss           Measurement,&rdquo; 2008.</span><span>)</span></a>.
</p>
<p>For other issues refer to <a class='info' href='#TPOWBPLGS-Errors'>Section&nbsp;4.7<span> (</span><span class='info'>Errors and Uncertainties</span><span>)</span></a>
</p>
<a name="anchor42"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1.8"></a><h3>6.1.8.&nbsp;
Reporting the Metric</h3>

<p>
</p>
<p>Refer to <a class='info' href='#TPOWBPLGS-Reporting'>Section&nbsp;4.8<span> (</span><span class='info'>Reporting the Metric</span><span>)</span></a>
</p>
<p>
</p>
<a name="anchor43"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2"></a><h3>6.2.&nbsp;
Geometric Steam: Loss Episode Duration</h3>

<p>
</p>
<a name="anchor44"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2.1"></a><h3>6.2.1.&nbsp;
Metric Name</h3>

<p>Type-P-One-way-Bi-Packet-Loss-Geometric-Stream-Episode-Duration
</p>
<a name="anchor45"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2.2"></a><h3>6.2.2.&nbsp;
Metric Parameters</h3>

<p></p>
<ul class="text">
<li>Src, the IP address of a source host
</li>
<li>Dst, the IP address of a destination host
</li>
<li>T0, the randomly selected starting time <a class='info' href='#RFC3432'>[RFC3432]<span> (</span><span class='info'>Raisanen, V., Grotefeld, G., and A. Morton, &ldquo;Network performance measurement with periodic streams,&rdquo; November&nbsp;2002.</span><span>)</span></a> for periodic launch opportunities
</li>
<li>d, the time spacing between potential launch times, Ti and
              Ti+1
</li>
<li>n, a count of potential measurement instants
</li>
<li>q, a launch probability
</li>
<li>F, a selection function defining unambiguously the two
              packets from the stream selected for the metric.
</li>
<li>P, the specification of the packet type, over and above the
              source and destination address
</li>
</ul>

<a name="anchor46"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2.3"></a><h3>6.2.3.&nbsp;
Metric Units</h3>

<p>A non-negative number of seconds.
</p>
<a name="anchor47"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2.4"></a><h3>6.2.4.&nbsp;
Metric Definition</h3>

<p>The result obtained by computing the
          Bi-Packet-Loss-Episode-Duration-Number over a
          Type-P-One-way-Bi-Packet-Loss-Geometric-Stream sample with the
          metric parameters, then multiplying the result by the launch spacing
          parameter d.
</p>
<a name="anchor48"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2.5"></a><h3>6.2.5.&nbsp;
Discussion</h3>

<p>Type-P-One-way-Bi-Packet-Loss-Geometric-Stream-Episode-Duration
          estimates the average duration of a loss episode, measured in
          seconds. The duration measured in packets is obtained by dividing
          the metric value by the packet launch spacing parameter d.
</p>
<a name="anchor49"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2.6"></a><h3>6.2.6.&nbsp;
Methodologies</h3>

<p>Refer to <a class='info' href='#TPOWBPLGS-Methodologies'>Section&nbsp;4.6<span> (</span><span class='info'>Methodologies</span><span>)</span></a>
</p>
<a name="anchor50"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2.7"></a><h3>6.2.7.&nbsp;
Errors and Uncertainties</h3>

<p>Because Type-P-One-way-Bi-Packet-Loss-Geometric-Stream is sampled
          in general (when the launch probability q &lt;1) the metrics
          described in this Section can be regarded as statistical estimators
          of the corresponding idealized version corresponding to q = 1.
          Estimation variance as it applies to
          Type-P-One-way-Bi-Packet-Loss-Geometric-Stream-Episode-Duration is
          described in <a class='info' href='#SBDR08'>[SBDR08]<span> (</span><span class='info'>IEEE/ACM Transactions on Networking, 16(2):             307-320, &ldquo;A Geometric Approach to Improving Active Packet Loss           Measurement,&rdquo; 2008.</span><span>)</span></a>.
</p>
<p>For other issues refer to <a class='info' href='#TPOWBPLGS-Errors'>Section&nbsp;4.7<span> (</span><span class='info'>Errors and Uncertainties</span><span>)</span></a>
</p>
<a name="anchor51"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2.8"></a><h3>6.2.8.&nbsp;
Reporting the Metric</h3>

<p>Refer to <a class='info' href='#TPOWBPLGS-Reporting'>Section&nbsp;4.8<span> (</span><span class='info'>Reporting the Metric</span><span>)</span></a>
</p>
<a name="anchor52"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.3"></a><h3>6.3.&nbsp;
Geometric Stream: Loss Episode Frequency</h3>

<p>
</p>
<a name="anchor53"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.3.1"></a><h3>6.3.1.&nbsp;
Metric Name</h3>

<p>Type-P-One-way-Bi-Packet-Loss-Geometric-Stream-Episode-Frequency
</p>
<a name="anchor54"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.3.2"></a><h3>6.3.2.&nbsp;
Metric Parameters</h3>

<p></p>
<ul class="text">
<li>Src, the IP address of a source host
</li>
<li>Dst, the IP address of a destination host
</li>
<li>T0, the randomly selected starting time <a class='info' href='#RFC3432'>[RFC3432]<span> (</span><span class='info'>Raisanen, V., Grotefeld, G., and A. Morton, &ldquo;Network performance measurement with periodic streams,&rdquo; November&nbsp;2002.</span><span>)</span></a> for periodic launch opportunities
</li>
<li>d, the time spacing between potential launch times, Ti and
              Ti+1
</li>
<li>n, a count of potential measurement instants
</li>
<li>q, a launch probability
</li>
<li>F, a selection function defining unambiguously the two
              packets from the stream selected for the metric.
</li>
<li>P, the specification of the packet type, over and above the
              source and destination address
</li>
</ul>

<a name="anchor55"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.3.3"></a><h3>6.3.3.&nbsp;
Metric Units</h3>

<p>A positive number.
</p>
<a name="anchor56"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.3.4"></a><h3>6.3.4.&nbsp;
Metric Definition</h3>

<p>The result obtained by computing the
          Bi-Packet-Loss-Episode-Frequency over a
          Type-P-One-way-Bi-Packet-Loss-Geometric-Stream sample with the
          metric parameters, then dividing he result by the launch spacing
          parameter d.
</p>
<a name="anchor57"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.3.5"></a><h3>6.3.5.&nbsp;
Discussion</h3>

<p>Type-P-One-way-Bi-Packet-Loss-Geometric-Stream-Episode-Frequency
          estimates the average frequency per unit time with which loss
          episodes start (or finish). The frequency relative to the count of
          potential probe launches is obtained by multiplying the metric value
          by the packet launch spacing parameter d.
</p>
<a name="anchor58"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.3.6"></a><h3>6.3.6.&nbsp;
Methodologies</h3>

<p>Refer to<a class='info' href='#TPOWBPLGS-Methodologies'>Section&nbsp;4.6<span> (</span><span class='info'>Methodologies</span><span>)</span></a>
</p>
<a name="anchor59"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.3.7"></a><h3>6.3.7.&nbsp;
Errors and Uncertainties</h3>

<p>Because Type-P-One-way-Bi-Packet-Loss-Geometric-Stream is sampled
          in general (when the launch probability q &lt;1) the metrics
          described in this Section can be regarded as statistical estimators
          of the corresponding idealized version corresponding to q = 1.
          Estimation variance as it applies to
          Type-P-One-way-Bi-Packet-Loss-Geometric-Stream-Episode-Frequency is
          described in <a class='info' href='#SBDR08'>[SBDR08]<span> (</span><span class='info'>IEEE/ACM Transactions on Networking, 16(2):             307-320, &ldquo;A Geometric Approach to Improving Active Packet Loss           Measurement,&rdquo; 2008.</span><span>)</span></a>.
</p>
<p>For other issues refer to <a class='info' href='#TPOWBPLGS-Errors'>Section&nbsp;4.7<span> (</span><span class='info'>Errors and Uncertainties</span><span>)</span></a>
</p>
<a name="anchor60"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.3.8"></a><h3>6.3.8.&nbsp;
Reporting the Metric</h3>

<p>Refer to <a class='info' href='#TPOWBPLGS-Reporting'>Section&nbsp;4.8<span> (</span><span class='info'>Reporting the Metric</span><span>)</span></a>
</p>
<a name="anchor61"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Applicability of Loss Episode Metrics</h3>

<p>
</p>
<a name="anchor62"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.1"></a><h3>7.1.&nbsp;
Relation to Gilbert Model</h3>

<p>The general Gilbert-Elliot model is a discrete time Markov chain
        over two states, Good (g) and Bad (b), each with its own independent
        packet loss rate. In the simplest case, the Good loss rate is 0 while
        the Bad loss rate is 1. Correspondingly, there are two independent
        parameters, the Markov transition probabilities P(g|b) = 1- P(b|b) and
        P(b|g) = 1- P(g|g), where P(i|j) is the probability to transition from
        state j and step n to state i at step n+1. With these parameters, the
        fraction of steps spent in the bad state is P(b|g)/(P(b|g) + P(g|b))
        while the average duration of a sojourn in the bad state is 1/P(g|b)
        steps.
</p>
<p>Now identify the steps of the Markov chain with the possible
        sending times of packets for a
        Type-P-One-way-Bi-Packet-Loss-Geometric-Stream with launch spacing d.
        Suppose the loss episode metrics
        Type-P-One-way-Bi-Packet-Loss-Geometric-Stream-Ratio and
        ype-P-One-way-Bi-Packet-Loss-Geometric-Stream-Episode-Duration take
        the values r and m respectively. Then from the discussion in Section
        6.2.5 the following can be equated:
</p>
<p>r = P(b|g)/(P(b|g) + P(g|b)) and m/d = 1/P(g|b).
</p>
<p>These relationships can be inverted in order to recover the Gilbert
        model parameters:
</p>
<p>P(g|b) = d/m and P(b|g)=d/m/(1/r - 1)
</p>
<a name="anchor63"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
IPR Considerations</h3>

<p>IPR disclosures concerning some of the material covered in this draft
      has been made to the IETF: see https://datatracker.ietf.org/ipr/1009/ ,
      https://datatracker.ietf.org/ipr/1010/ , and
      https://datatracker.ietf.org/ipr/1126/
</p>
<p>
</p>
<a name="Security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
Security Considerations</h3>

<p>Conducting Internet measurements raises both security and privacy
      concerns. This memo does not specify an implementation of the metrics,
      so it does not directly affect the security of the Internet nor of
      applications which run on the Internet. However,implementations of these
      metrics must be mindful of security and privacy concerns.
</p>
<p>There are two types of security concerns: potential harm caused by
      the measurements, and potential harm to the measurements. The
      measurements could cause harm because they are active, and inject
      packets into the network. The measurement parameters MUST be carefully
      selected so that the measurements inject trivial amounts of additional
      traffic into the networks they measure. If they inject "too much"
      traffic, they can skew the results of the measurement, and in extreme
      cases cause congestion and denial of service. The measurements
      themselves could be harmed by routers giving measurement traffic a
      different priority than "normal" traffic, or by an attacker injecting
      artificial measurement traffic. If routers can recognize measurement
      traffic and treat it separately, the measurements may not reflect actual
      user traffic. If an attacker injects artificial traffic that is accepted
      as legitimate, the loss rate will be artificially lowered. Therefore,
      the measurement methodologies SHOULD include appropriate techniques to
      reduce the probability that measurement traffic can be distinguished
      from "normal" traffic. Authentication techniques, such as digital
      signatures, may be used where appropriate to guard against injected
      traffic attacks. The privacy concerns of network measurement are limited
      by the active measurements described in this memo: they involve no
      release of user data.
</p>
<a name="IANA"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10"></a><h3>10.&nbsp;
IANA Considerations</h3>

<a name="Acknowledgements"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11"></a><h3>11.&nbsp;
Acknowledgements</h3>

<p>
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.12"></a><h3>12.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>12.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2680">[RFC2680]</a></td>
<td class="author-text"><a href="mailto:almes@advanced.org">Almes, G.</a>, <a href="mailto:kalidindi@advanced.org">Kalidindi, S.</a>, and <a href="mailto:matt@advanced.org">M. Zekauskas</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2680">A One-way Packet Loss Metric for IPPM</a>,&rdquo; RFC&nbsp;2680, September&nbsp;1999 (<a href="http://www.rfc-editor.org/rfc/rfc2680.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3393">[RFC3393]</a></td>
<td class="author-text">Demichelis, C. and P. Chimento, &ldquo;<a href="http://tools.ietf.org/html/rfc3393">IP Packet Delay Variation Metric for IP Performance Metrics (IPPM)</a>,&rdquo; RFC&nbsp;3393, November&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3393.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3432">[RFC3432]</a></td>
<td class="author-text">Raisanen, V., Grotefeld, G., and A. Morton, &ldquo;<a href="http://tools.ietf.org/html/rfc3432">Network performance measurement with periodic streams</a>,&rdquo; RFC&nbsp;3432, November&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3432.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3611">[RFC3611]</a></td>
<td class="author-text">Friedman, T., Caceres, R., and A. Clark, &ldquo;<a href="http://tools.ietf.org/html/rfc3611">RTP Control Protocol Extended Reports (RTCP XR)</a>,&rdquo; RFC&nbsp;3611, November&nbsp;2003 (<a href="http://www.rfc-editor.org/rfc/rfc3611.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>12.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2330">[RFC2330]</a></td>
<td class="author-text"><a href="mailto:vern@ee.lbl.gov">Paxson, V.</a>, <a href="mailto:almes@advanced.org">Almes, G.</a>, <a href="mailto:mahdavi@psc.edu">Mahdavi, J.</a>, and <a href="mailto:mathis@psc.edu">M. Mathis</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2330">Framework for IP Performance Metrics</a>,&rdquo; RFC&nbsp;2330, May&nbsp;1998 (<a href="http://www.rfc-editor.org/rfc/rfc2330.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2330.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2330.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3357">[RFC3357]</a></td>
<td class="author-text">Koodli, R. and R. Ravikanth, &ldquo;<a href="http://tools.ietf.org/html/rfc3357">One-way Loss Pattern Sample Metrics</a>,&rdquo; RFC&nbsp;3357, August&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3357.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="SBDR08">[SBDR08]</a></td>
<td class="author-text">IEEE/ACM Transactions on Networking, 16(2):
            307-320, &ldquo;A Geometric Approach to Improving Active Packet Loss
          Measurement,&rdquo; 2008.</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Nick Duffield</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">AT&amp;T Labs-Research</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">180 Park Avenue</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Florham Park, NJ  07932</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+1 973 360 8726</td></tr>
<tr><td class="author" align="right">Fax:&nbsp;</td>
<td class="author-text">+1 973 360 8871</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:duffield@research.att.com">duffield@research.att.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://www.research.att.com/people/Duffield_Nicholas_G">http://www.research.att.com/people/Duffield_Nicholas_G</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Al Morton</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">AT&amp;T Labs</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">200 Laurel Avenue South</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Middletown,, NJ  07748</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+1 732 420 1571</td></tr>
<tr><td class="author" align="right">Fax:&nbsp;</td>
<td class="author-text">+1 732 368 1192</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:acmorton@att.com">acmorton@att.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://home.comcast.net/~acmacm/">http://home.comcast.net/~acmacm/</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Joel Sommers</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Colgate University</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">304 McGregory Hall</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Hamilton, NY  13346</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+1 315 228 7587</td></tr>
<tr><td class="author" align="right">Fax:&nbsp;</td>
<td class="author-text"></td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:jsommers@colgate.edu">jsommers@colgate.edu</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://cs.colgate.edu/faculty/jsommers">http://cs.colgate.edu/faculty/jsommers</a></td></tr>
</table>
</body></html>
