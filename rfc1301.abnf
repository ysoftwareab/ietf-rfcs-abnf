w = window = 3     |  \   |
r = retention = 2  |   \  |
                      |    \ |
                      |     V|  empty(n+2w)
                      |      |
            -----     |      |
                      |\     |
                      | \    |
                      |  \   |
                      |   \  |
                      |    \ |
                      |     V|  data(n+2w) w/eom
                      |      |    Packets n..n+w-1 are released,
            -----     |      |    token is surrendered.
                      |      |
                      |      |
                      |      |
                      |      |
                      |      |
                      |      |
                      |      |
            -----     |      |    Packets n+w..n+2w-1 are released.


                    Figure 6. Normal data transmission

w = window = 3     | \ \ *|  retransmission(n+1)        rx=1
r = retention = 1  |  \ \ |
                      |   \ V|  data(n+w)
                      |    \ |
                      |     V|  data(n+2w-1-rx) w/eow      rx=1
                      |      |
                      |     /|  nak(n') of n+1
                      |    / |
            -----     |   /  |
                      |\ /   |
                      | /    |
                      |V \   |
                      |\  \  |
                      | \  \ |
                      |\ \  V|  data(n+2w-rx)              rx=1
                      | \ \  |    Packets n..n+w-1-0 can be released.
                      |  \ \ |
                      |   \ V|  nak deny(n+1)              rx=2
                      |    \ |
                      |     V|  data(n+3w-1-rx) w/eom      rx=2
                      |      |
           -----      |      |    Packets n+w..n+2w-1-1 are released.

                  Figure 10. naks and retransmission
