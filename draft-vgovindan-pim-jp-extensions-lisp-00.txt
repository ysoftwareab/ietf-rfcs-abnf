



Internet Engineering Task Force                              V. Govindan
Internet-Draft                                                     Cisco
Intended status: Experimental                           21 February 2021
Expires: 25 August 2021


    PIM Join/ Prune Attributes for LISP Environments using Underlay
                               Multicast
               draft-vgovindan-pim-jp-extensions-lisp-00

Abstract

   This document specifies an extension to PIM Join/ Prune messages.
   This document defines one PIM Join/ Prune attribute that support the
   construction of multicast distribution trees where the root and
   receivers are located in different Locator/ID Separation Protocol
   (LISP) sites using underlay IP Multicast.  This attribute allows the
   receiver site to signal the underlay multicast group to the control
   plane of the root ITR (Ingress Tunnel Router).

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on 25 August 2021.

Copyright Notice

   Copyright (c) 2021 IETF Trust and the persons identified as the
   document authors.  All rights reserved.










Govindan                 Expires 25 August 2021                 [Page 1]

Internet-Draft     PIM Join Attributes for LISP Mcast      February 2021


   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents (https://trustee.ietf.org/
   license-info) in effect on the date of publication of this document.
   Please review these documents carefully, as they describe your rights
   and restrictions with respect to this document.  Code Components
   extracted from this document must include Simplified BSD License text
   as described in Section 4.e of the Trust Legal Provisions and are
   provided without warranty as described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
     1.1.  Requirements Language . . . . . . . . . . . . . . . . . .   3
   2.  The case for requiring a new PIM Join/ Prune Extension  . . .   3
   3.  Receiver ETR Group Address Attribute  . . . . . . . . . . . .   3
     3.1.  Receiver Group Address Attribute Format . . . . . . . . .   3
   4.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   4
   5.  Contributors  . . . . . . . . . . . . . . . . . . . . . . . .   4
   6.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   5
   7.  Security Considerations . . . . . . . . . . . . . . . . . . .   5
   8.  Normative References  . . . . . . . . . . . . . . . . . . . .   5
   Author's Address  . . . . . . . . . . . . . . . . . . . . . . . .   6

1.  Introduction

   The construction of multicast distribution trees where the root and
   receivers are located in different LISP sites [RFC6830] is defined in
   [RFC6831].

   [RFC6831] specifies that (root-EID,G) data packets are to be LISP-
   encapsulated into (root-RLOC,G) multicast packets.  This document
   defines a TLV that facilitates the construction of trees for (root-
   RLOC, G).

   Specifically, the assignment of the underlay multicast group needs to
   be done in consonance with the downstream xTR nodes and avoid
   unnecessary replication or traffic hairpinning.

   Since the Receiver RLOC Attribute TLV defined in [RFC8059] only
   addresses the Ingress Replication case, an additional TLV is defined
   by this draft to include scenarios where the underlay uses Multicast
   transport.  The TLV definition proposed here complies with the base
   specification [RFC5384].

   This document uses terminology defined in [RFC6830], such as EID,
   RLOC, ITR, and ETR.





Govindan                 Expires 25 August 2021                 [Page 2]

Internet-Draft     PIM Join Attributes for LISP Mcast      February 2021


1.1.  Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].

2.  The case for requiring a new PIM Join/ Prune Extension

   When LISP based Multicast trees are built using IP Multicast in the
   underlay, the mapping between the overlay group address and the
   underlay group address becomes a very crucial.  It is possible that
   under certain circumstances, differnt subsets of xTRs subscribing to
   the same overlay multicast stream would be constrained to use
   different underlay multicast mapping ranges.  This definitely
   involves a trade-off between replication and the flexibility in
   assigning address ranges and could be required in certain situations
   as below:

   Inter-site PxTR:
    When multiple LISP sites are connected through a LISP based transit,
    the site border node interconnects the site-facing interfaces and
    the external LISP based core.  Under such circumstances, there could
    be different ranges of multicast group addresses used for building
    the (S-RLOC, G) trees inside the LISP site and the external LISP
    based core.  This is desired for various reasons:

   Other Use-cases:
    TBD

   Editorial Note: Comments from Stig: There should be some text
   indicating that the group address used should ideally only be used
   for LISP encapsulation (if ASM), and perhaps that it is preferrable
   to use an SSM group.  Also, that the group obviously must be a group
   that the underlay supports/allows.  I think it is also worth noting
   that ideally, different ETRs should request the same group.

3.  Receiver ETR Group Address Attribute

3.1.  Receiver Group Address Attribute Format


       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |F|E|Type=TBD   |    Length     |  Addr Family  |  Receiver Group
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-...





Govindan                 Expires 25 August 2021                 [Page 3]

Internet-Draft     PIM Join Attributes for LISP Mcast      February 2021


                                  Figure 1

   F-bit: 
           The Transitive bit.  Specifies whether this attribute is
           transitive or non-transitive.  MUST be set to zero.  This
           attribute is ALWAYS non-transitive.

   E-bit: 
           End-of-Attributes bit.  Specifies whether this attribute is
           the last.  Set to zero if there are more attributes.  Set to
           1 if this is the last attribute.

   Type:  
           The Receiver Group Attribute type is TBD.

   Length:
           The length in octets of the attribute value.  MUST be set to
           the length in octets of the receiver group address plus one
           octet to account for the Address Family field.

   Addr Family:
           The PIM Address Family of the receiver group as defined in
           [RFC7761].

   Receiver Group:
           The Multicast Group address on which the receiver ETR wishes
           to receive the IP multicast encapsulated flow.

4.  Acknowledgements

   The authors would like to thank Stig Venaas for his valuable
   comments.

5.  Contributors

   Sankaralingam
   Cisco

   Email: sankt@cisco.com


   Amit Kumar
   Cisco

   Email: kumaram3@cisco.com






Govindan                 Expires 25 August 2021                 [Page 4]

Internet-Draft     PIM Join Attributes for LISP Mcast      February 2021


6.  IANA Considerations

   This memo includes the following request to IANA: One new PIM Join/
   Prune attribute types have been requested: value TBD for the Receiver
   Group Attribute.

7.  Security Considerations

   There is perhaps a new attack vector where an attacker can send a
   bunch of joins with different group addresses.  It may interfere with
   other multicast traffic if those group addresses overlap.  Also, it
   may take up a lot of resources if replication for thousands of groups
   are requested.  However PIM authentication (?) should come to the
   rescue here.  TBD Since explicit tracking would be done, perhaps it
   is worth enforcing that for each ETR RLOC (the RLOC used as the
   source of the overlay join), there should be only one group, whatever
   is in the last join would override what was there earlier?  Or is it
   to strict to only allow a single group?  Might there be reasons to
   maybe split different LISP payload into different groups in some
   cases.  TBD.

   Ed Note: To be addressed - Comments from Stig: Regarding security
   considerations and PIM authentication.  The only solution we have
   here is to use IP-Sec to sign the J/P messages.  I don't know if
   anyone has tried to us IPSec between LISP RLOCs.  Are there any LISP
   security mechanisms that would help here for authenticating LISP
   encapsulated messages between xTRs?

8.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.

   [RFC5384]  Boers, A., Wijnands, I., and E. Rosen, "The Protocol
              Independent Multicast (PIM) Join Attribute Format",
              RFC 5384, DOI 10.17487/RFC5384, November 2008,
              <https://www.rfc-editor.org/info/rfc5384>.

   [RFC6830]  Farinacci, D., Fuller, V., Meyer, D., and D. Lewis, "The
              Locator/ID Separation Protocol (LISP)", RFC 6830,
              DOI 10.17487/RFC6830, January 2013,
              <https://www.rfc-editor.org/info/rfc6830>.







Govindan                 Expires 25 August 2021                 [Page 5]

Internet-Draft     PIM Join Attributes for LISP Mcast      February 2021


   [RFC6831]  Farinacci, D., Meyer, D., Zwiebel, J., and S. Venaas, "The
              Locator/ID Separation Protocol (LISP) for Multicast
              Environments", RFC 6831, DOI 10.17487/RFC6831, January
              2013, <https://www.rfc-editor.org/info/rfc6831>.

   [RFC7761]  Fenner, B., Handley, M., Holbrook, H., Kouvelas, I.,
              Parekh, R., Zhang, Z., and L. Zheng, "Protocol Independent
              Multicast - Sparse Mode (PIM-SM): Protocol Specification
              (Revised)", STD 83, RFC 7761, DOI 10.17487/RFC7761, March
              2016, <https://www.rfc-editor.org/info/rfc7761>.

   [RFC8059]  Arango, J., Venaas, S., Kouvelas, I., and D. Farinacci,
              "PIM Join Attributes for Locator/ID Separation Protocol
              (LISP) Environments", RFC 8059, DOI 10.17487/RFC8059,
              January 2017, <https://www.rfc-editor.org/info/rfc8059>.

Author's Address

   Vengada Prasad Govindan
   Cisco

   Email: venggovi@cisco.com





























Govindan                 Expires 25 August 2021                 [Page 6]
