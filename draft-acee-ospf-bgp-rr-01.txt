



Network Working Group                                          A. Lindem
Internet-Draft                                             Cisco Systems
Intended status: Standards Track                                K. Patel
Expires: March 11, 2018                                           Arrcus
                                                                S. Zandi
                                                                LinkedIn
                                                               R. Raszuk
                                                            Bloomberg LP
                                                       September 7, 2017


     OSPF Extensions for Advertising/Signaling BGP Route Reflector
                              Information
                     draft-acee-ospf-bgp-rr-01.txt

Abstract

   This document specifies an OSPF Router Information (RI) TLV to
   advertise the BGP Router Reflector capability and peering
   information.  This information can be used by BGP Router Reflector
   clients to dynamically learn and establish sessions with BGP Router
   Reflectors in the routing domain.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on March 11, 2018.

Copyright Notice

   Copyright (c) 2017 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of



Lindem, et al.           Expires March 11, 2018                 [Page 1]

Internet-Draft            OSPF BGP RR Discovery           September 2017


   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
     1.1.  Requirements Notation . . . . . . . . . . . . . . . . . .   2
   2.  OSPF BGP Route Reflector TLV  . . . . . . . . . . . . . . . .   2
   3.  OSPF Router Information (RI) Opaque LSAs  . . . . . . . . . .   4
   4.  Security Considerations . . . . . . . . . . . . . . . . . . .   4
   5.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   4
   6.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   4
     6.1.  Normative References  . . . . . . . . . . . . . . . . . .   4
     6.2.  Informative References  . . . . . . . . . . . . . . . . .   5
   Appendix A.  Acknowledgments  . . . . . . . . . . . . . . . . . .   5
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   5

1.  Introduction

   This document specifies an OSPF Router Information (RI) TLV [OSPF-RI]
   to advertise the BGP Router Reflector [BGP-RR] capability and peering
   information.  This information can be used by BGP Router Reflector
   clients to dynamically learn and establish sessions with BGP Router
   Reflectors in the routing domain.

1.1.  Requirements Notation

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [RFC-KEYWORDS].

2.  OSPF BGP Route Reflector TLV

   The BGP Router Reflector TLV can be used to advertise the route
   reflector capability, local AS number, BGP peering address, and
   supported AFI/SAFI pairs using an OSPFv2 [OSPF] or OSPFv3 [OSPFV3]
   router using the OSPF Router Information LSA [OSPF-RI].  The OSPF
   Router Information LSA can be advertised in either area or AS scoped
   RI LSAs.  The BGP Router Reflector TLV consists of the following
   fields:







Lindem, et al.           Expires March 11, 2018                 [Page 2]

Internet-Draft            OSPF BGP RR Discovery           September 2017


     0                   1                   2                   3
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                       Local AS                                |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    | Address Family|            Reserved                           |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                       IPv4/IPv6 Address                       |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                       IPv6 Address                            |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                       IPv6 Address                            |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                       IPv6 Address                            |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |          AFI                |   SAFI          |   AFI         |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |          AFI  |   SAFI      |   o o o
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


       Length    The length will be 12 for IPv4 peering addresses or
                 24 for IPv6 peering addresses plus 3 * the number
                 of AFI/SAFI pairs.

       Local AS  The Router-Reflector's local AS number. This can
                 either be used for AS match checking or certain
                 situations where the client's AS doesn't match the
                 route reflectors.

       Address   IANA Address family (1 for IPv4 or 2 for IPv6)
       Family

       Address   Local IPv4 or IPv6 Address used for BGP peering.

       AFI/SAFI  Address Family Identifier (AFI)/ Subsequent
                 Address Family Identifier (SAFI). The AFI/SAFI tuple
                 0/0 will act as a wildcard indicating all configured
                 AFI/SAFIs.

                       OSPF BGP Route-Reflector TLV


   o  The BGP Route Reflector (RR) TLV MAY be advertised multiple times
      with different peering addresses and AFI/SAFI pairs and MAY be
      advertised in multiple OSPF RI LSAs.  The AFI/SAFI tuple, (0,0)
      will serve as a wildcard indicating all configured AFI/SAFI




Lindem, et al.           Expires March 11, 2018                 [Page 3]

Internet-Draft            OSPF BGP RR Discovery           September 2017


      tuples.  This can be used in deployments where the AF deployment
      is fairly homogeneous.

   o  If different peering addresses are advertised for the same AFI/
      SAFI pair, the decision of whether a BGP client establishes
      sessions with one or more of the advertised peering addresses is
      beyond the scope of this document.

   o  If the BGP Router Reflector (RR) TLV has an invalid length or is
      otherwise malformed, it will not be used for BGP client session
      establishment.  The occurrence of a malformed TLV SHOULD be
      logged.

3.  OSPF Router Information (RI) Opaque LSAs

   The OSPF BGP TLV may optionally be advertised in an area-scoped or
   AS-scoped OSPFv2 Router Information (RI) opaque LSA or OSPFv3 Router
   Information (RI) LSA [OSPF-RI].  BGP clients may then use the peering
   address to establish BGP sessions with the advertising route-
   reflector.

4.  Security Considerations

   Security considerations for the base OSPF protocol are covered in
   [OSPF] and [OSPFV3].

5.  IANA Considerations

   The document will require the following IANA actions:

   1.  A Router Information TLV type for the BGP Router Reflector TLV
       will be allocated from the OSPF Router Information (RI) TLVs
       registry.

6.  References

6.1.  Normative References

   [OSPF]     Moy, J., "OSPF Version 2", STD 54, RFC 2328, April 1998.

   [OSPF-RI]  Lindem, A., Shen, N., Vasseur, J., Aggarwal, R., and S.
              Shaffer, "Extensions to OSPF for Advertising Optional
              Router Capabilities", RFC 7770, January 2016.

   [OSPFV3]   Coltun, R., Ferguson, D., Moy, J., and A. Lindem, "OSPF
              for IPv6", RFC 5340, July 2008.





Lindem, et al.           Expires March 11, 2018                 [Page 4]

Internet-Draft            OSPF BGP RR Discovery           September 2017


   [RFC-KEYWORDS]
              Bradner, S., "Key words for use in RFC's to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

6.2.  Informative References

   [BGP-RR]   Bates, T., Chen, E., and R. Chandra, "BGP Route
              Reflection: An Alternative to Full Mesh Internal BGP
              (IBGP)", RFC 4456, April 2006.

Appendix A.  Acknowledgments

   The RFC text was produced using Marshall Rose's xml2rfc tool.

Authors' Addresses

   Acee Lindem
   Cisco Systems
   301 Midenhall Way
   Cary, NC  27513
   USA

   Email: acee@cisco.com


   Keyur Patel
   Arrcus

   Email: keyur@arrcus.com


   Shawn Zandi
   LinkedIn

   Email: szandi@linkedin.com


   Robert Raszuk
   Bloomberg LP
   731 Lexington Ave
   New York City, NY  10022
   USA

   Email: robert@raszuk.net







Lindem, et al.           Expires March 11, 2018                 [Page 5]
