





Internet Draft                                                  E.L. Bell
Expires April 1999                                             3Com Corp.
draft-ietf-bridge-bridgemib-02.txt                               A. Smith
Standards Track                                          Extreme Networks
                                                              P. Langille
                                                          Acacia Networks
                                                          A. Rijhsinghani
                                                        Cabletron Systems
                                                            K. McCloghrie
                                                            cisco Systems
                                                             October 1998

        Definitions of Managed Objects for Bridges with Traffic
        Classes, Multicast Filtering and Virtual LAN Extensions


Status of this Memo

This document is an Internet Draft.  Internet Drafts are working
documents of the Internet Engineering Task Force (IETF), its Areas, and
its Working Groups.  Note that other groups may also distribute working
documents as Internet Drafts.

Internet Drafts are draft documents valid for a maximum of six months.
Internet Drafts may be updated, replaced, or obsoleted by other
documents at any time.  It is not appropriate to use Internet Drafts as
reference material or to cite them other than as a "working draft" or
"work in progress."

To learn the current status of any Internet-Draft, please check the
"1id-abstracts.txt" listing contained in the Internet-Drafts Shadow
Directories on ftp.ietf.org (US East Coast), nic.nordu.net (Europe),
ftp.isi.edu (US West Coast), or munnari.oz.au (Pacific Rim).

This document is a product of the IETF's Bridge MIB Working Group.
Copyright (C) The Internet Society (1998).  All Rights Reserved.

Abstract

This memo defines a portion of the Management Information Base (MIB) for
use with network management protocols in TCP/IP based internets.  In
particular it defines objects for managing MAC bridges based on the IEEE
802.1D-1998 MAC Bridges and IEEE 802.1Q-1998 Virtual LAN (VLAN)
standards for bridging between Local Area Network (LAN) segments.
Provisions are made for support of transparent bridging.  Provisions are





Bell, et al.               Expires April 1999                   [Page 1]







Internet Draft           Bridge MIB Extensions              October 1998


also made so that these objects apply to bridges connected by
subnetworks other than LAN segments.  This memo also includes several
MIB modules in a manner that is compliant to the SNMPv2 SMI [5].




1.  The SNMP Management Framework

The SNMP Management Framework presently consists of five major
components:

    o   An overall architecture, described in RFC 2271 [1].

    o   Mechanisms for describing and naming objects and events for the
        purpose of management.  The first version of this Structure of
        Management Information (SMI) is called SMIv1 and described in
        RFC 1155 [2], RFC 1212 [3] and RFC 1215 [4].  The second
        version, called SMIv2, is described in RFC 1902 [5], RFC 1903
        [6] and RFC 1904 [7].

    o   Message protocols for transferring management information.  The
        first version of the SNMP message protocol is called SNMPv1 and
        described in RFC 1157 [8].  A second version of the SNMP message
        protocol, which is not an Internet standards track protocol, is
        called SNMPv2c and described in RFC 1901 [9] and RFC 1906 [10].
        The third version of the message protocol is called SNMPv3 and
        described in RFC 1906 [10], RFC 2272 [11] and RFC 2274 [12].

    o   Protocol operations for accessing management information.  The
        first set of protocol operations and associated PDU formats is
        described in RFC 1157 [8].  A second set of protocol operations
        and associated PDU formats is described in RFC 1905 [13].

    o   A set of fundamental applications described in RFC 2273 [14] and
        the view-based access control mechanism described in RFC 2275
        [15].

Managed objects are accessed via a virtual information store, termed the
Management Information Base or MIB.  Objects in the MIB are defined
using the mechanisms defined in the SMI.

This memo specifies a MIB module that is compliant to the SMIv2.  A MIB
conforming to the SMIv1 can be produced through the appropriate
translations.  The resulting translated MIB must be semantically





Bell, et al.               Expires April 1999                   [Page 2]







Internet Draft           Bridge MIB Extensions              October 1998


equivalent, except where objects or events are omitted because no
translation is possible (use of Counter64).  Some machine readable
information in SMIv2 will be converted into textual descriptions in
SMIv1 during the translation process.  However, this loss of machine
readable information is not considered to change the semantics of the
MIB.












































Bell, et al.               Expires April 1999                   [Page 3]







Internet Draft           Bridge MIB Extensions              October 1998


2.  Overview

A common device present in many networks is the Bridge.  This device is
used to connect Local Area Network segments below the network layer.
These devices are often known as 'layer 2 switches'.

There are two major modes defined for this bridging; transparent and
source route.  The transparent method of bridging is defined by IEEE
802.1D-1998 [19].  Managed objects for source route bridges are defined
in [23].

IEEE 802.1D is augmented by IEEE 802.1Q-1998 [20] to provide support for
'virtual bridged LANs' where a single bridged physical LAN network may
be used to support multiple logical bridged LANs, each of which offers a
service approximately the same as that defined by 802.1D.  Such virtual
LANs (VLANs) are an integral feature of switched LAN networks.  A VLAN
can be viewed as a group of end-stations on multiple LAN segments and
can communicate as if they were on a single LAN.  IEEE 802.1Q defines
port-based Virtual LANs where membership is determined by the bridge
port on which data frames are received.  This memo defines the objects
needed for the management of port-based VLANs in bridge entities.

This memo defines those objects needed for the management of a bridging
entity operating in the transparent mode, as well as some objects
applicable to all types of bridges.  Managed objects for Source-Routing
are defined in [23].


2.1.  Scope

This MIB includes a comprehensive set of managed objects which attempts
to match the set defined in IEEE 802.1D and IEEE 802.1Q.  However, to be
consistent with the spirit of the SNMP Framework, a subjective judgement
was made to omit the objects from those standards most 'costly' to
implement in an agent and least 'essential' for fault and configuration
management.  The omissions are described in section 3 below.

Historical note:

RFC 1493 used the following principles for determining inclusion of an
object in the BRIDGE-MIB module:

(1)  Start with a small set of essential objects and add only as further
     objects are needed.






Bell, et al.               Expires April 1999                   [Page 4]







Internet Draft           Bridge MIB Extensions              October 1998


(2)  Require objects be essential for either fault or configuration
     management.

(3)  Consider evidence of current use and/or utility.

(4)  Limit the total of objects.

(5)  Exclude objects which are simply derivable from others in this or
     other MIBs.

(6)  Avoid causing critical sections to be heavily instrumented.  The
     guideline that was followed is one counter per critical section per
     layer.



3.  Structure of MIBs

This document defines additional objects, on top of those existing in
the base BRIDGE-MIB module defined in RFC1493: that MIB module is
maintained unchanged for backwards compatibility.  Section 3.4.3 of the
present document contains some recommendations regarding usage of
objects in RFC1493 by devices implementing the enhancements defined
here.

Two MIB modules are defined here:

(1)  Managed objects for an extended bridge MIB module P-BRIDGE-MIB for
     the traffic class and multicast filtering enhancements defined by
     IEEE 802.1D-1998.

(2)  Managed objects for a virtual bridge MIB module Q-BRIDGE-MIB for
     the Virtual LAN bridging enhancements defined by IEEE 802.1Q-1998.


3.1.  Structure of Extended Bridge MIB module

Objects in this MIB are arranged into groups.  Each group is organized
as a set of related objects.  The overall structure and assignment of
objects to their groups is shown below.










Bell, et al.               Expires April 1999                   [Page 5]







Internet Draft           Bridge MIB Extensions              October 1998


3.1.1.  Relationship to IEEE 802.1D-1998 Manageable Objects

This section contains a cross-reference to the objects defined in IEEE
802.1D-1998 [19].  It also details those objects that are not considered
necessary in this MIB module.

Some objects defined by [19] have been included in the virtual bridge
MIB module rather than this one: entries in dot1qTpGroupTable,
dot1qForwardAllTable and dot1qForwardUnregisteredTable are required for
virtual bridged LANs with additional indexing (e.g. per-VLAN, per-FDB)
and so are not defined here.  Instead, devices which do not implement
virtual bridged LANs, should implement these tables with a fixed value
for dot1qFdbId (the value 1 is recommended) or dot1qVlanIndex (the value
1 is recommended).  Devices which support Extended Filtering Services
(dynamic learning of Multicast Group Addresses and Group Service
Requirements in the Filtering Database) should support
dot1qTpGroupTable, dot1qForwardAllTable and
dot1qForwardUnregisteredTable.

  Extended Bridge MIB Name            IEEE 802.1D Name

  dot1dExtended                       Bridge
    dot1dExtBase
      dot1dDeviceCapabilities
        dot1dExtendedFilteringServices
        dot1dTrafficClasses
      dot1dTrafficClassesEnabled
      dot1dGmrpStatus                 .ApplicantAdministrativeControl
    dot1dPriority
      dot1dPortPriorityTable
        dot1dPortDefaultUserPriority   .UserPriority
        dot1dPortNumTrafficClasses
      dot1dUserPriorityRegenTable      .UserPriorityRegenerationTable
        dot1dUserPriority
        dot1dRegenUserPriority
      dot1dTrafficClassTable           .TrafficClassTable
        dot1dTrafficClassPriority
        dot1dTrafficClass
      dot1dPortOutboundAccessPriorityTable
                                       .OutboundAccessPriorityTable
        dot1dPortOutboundAccessPriority
    dot1dGarp
      dot1dPortGarpTable
        dot1dPortGarpJoinTime          .JoinTime
        dot1dPortGarpLeaveTime         .LeaveTime





Bell, et al.               Expires April 1999                   [Page 6]







Internet Draft           Bridge MIB Extensions              October 1998


        dot1dPortGarpLeaveAllTime      .LeaveAllTime
    dot1dGmrp
      dot1dPortGmrpTable
        dot1dPortGmrpStatus           .ApplicantAdministrativeControl
        dot1dPortGmrpFailedRegistrations
                                       .FailedRegistrations
        dot1dPortGmrpLastPduOrigin     .OriginatorOfLastPDU
  dot1dTpGroup
    dot1dTpHCPortTable
      dot1dTpHCPortInFrames            .BridgePort.FramesReceived
      dot1dTpHCPortOutFrames             .ForwardOutBound
      dot1dTpHCPortInDiscards            .DiscardInbound

The following IEEE 802.1D management objects have not been included in
the Bridge MIB for the indicated reasons.

  IEEE 802.1D Object                Disposition

  Bridge.StateValue                 not considered useful
  Bridge.ApplicantAdministrativeControl
                                    not provided per-attribute
                                    (e.g. per-VLAN, per-Group).
                                    Only per-{device,port,application}
                                    control is provided in this MIB.


3.1.2.  Relationship to IEEE 802.1Q Manageable Objects

This section contains a cross-reference to the objects defined in IEEE
802.1Q-1998 [20].  These objects have been included in this MIB as they
provide a natural fit with the 802.1D objects they are located with.

  Extended Bridge MIB Name            IEEE 802.1Q Name

  dot1dExtended                       Bridge
    dot1dExtBase
      dot1dDeviceCapabilities
        dot1qStaticEntryIndividualPort 5.2 implementation options
        dot1qIVLCapable
        dot1qSVLCapable
        dot1qHybridCapable
        dot1qConfigurablePvidTagging   12.10.1.1 read bridge vlan
                                                config
      dot1dPortCapabilitiesTable
        dot1dPortCapabilities





Bell, et al.               Expires April 1999                   [Page 7]







Internet Draft           Bridge MIB Extensions              October 1998


          dot1qDot1qTagging            5.2 implementation options
          dot1qConfigurableAcceptableFrameTypes
                                       5.2 implementation options
          dot1qIngressFiltering        5.2 implementation options


3.1.3.  The dot1dExtBase Group

This group contains the objects which are applicable to all bridges
implementing the traffic class and multicast filtering features of
802.1D.  It includes per-device configuration of GARP and GMRP
protocols.  This group will be implemented by all devices which
implement the extensions defined in 802.1D-1998.


3.1.4.  The dot1dPriority Group

This group contains the objects for configuring and reporting status of
priority-based queuing mechanisms in a bridge.  This includes per- port
user_priority treatment, mapping of user_priority in frames into
internal traffic classes and outbound user_priority and access_priority.


3.1.5.  The dot1dGarp Group

This group contains the objects for configuring and reporting on
operation of the Generic Attribute Registration Protocol (GARP).


3.1.6.  The dot1dGmrp Group

This group contains the objects for configuring and reporting on
operation of the GARP Multicast Registration Protocol (GMRP).


3.1.7.  The dot1dHCPortTable

This table extends the dot1dTp group from RFC1493 and contains the
objects for reporting port bridging statistics for high-capacity network
interfaces.










Bell, et al.               Expires April 1999                   [Page 8]







Internet Draft           Bridge MIB Extensions              October 1998


3.2.  Structure of Virtual Bridge MIB module

Objects in this MIB are arranged into groups.  Each group is organized
as a set of related objects.  The overall structure and assignment of
objects to their groups is shown below.  Some of the original objects
from RFC1493 need to be indexed differently when extended in a VLAN
environment so some objects in that module effectively duplicate new
objects defined here: this is necessary for backwards compatibility.


3.2.1.  Relationship to IEEE 802.1Q Manageable Objects

This section contains a cross-reference to the objects defined in [20].
It also details those objects that are not considered necessary in this
MIB module.

Note: unlike IEEE 802.1D, [20] chose not to define a new set of managed
object names so those following are referenced from the descriptions of
management operations with section numbering from clause 12 in that
document.

  Virtual Bridge MIB object          802.1Q object

  dot1qBase
    dot1qVlanVersionNumber           12.10.1.1 read bridge vlan config
    dot1qMaxVlanId                   12.10.1.1 read bridge vlan config
    dot1qMaxSupportedVlans           12.10.1.1 read bridge vlan config
    dot1qNumVlans
    dot1dGvrpStatus                  12.9.2.1/2 read/set garp
                                               applicant controls
  dot1qTp
    dot1qFdbTable
      dot1qFdbId
      dot1qFdbDynamicCount           12.7.1.1.3 read filtering d/base
    dot1qTpFdbTable
      dot1qTpFdbAddress
      dot1qTpFdbPort
      dot1qTpFdbStatus
    dot1qTpGroupTable                12.7.7.1 read filtering entry
      dot1qTpGroupAddress
      dot1qTpGroupEgressPorts
      dot1qTpGroupLearnt
    dot1qForwardAllTable             12.7.7.1 read filtering entry
      dot1qForwardAllPorts
      dot1qForwardAllStaticPorts





Bell, et al.               Expires April 1999                   [Page 9]







Internet Draft           Bridge MIB Extensions              October 1998


    dot1qForwardUnregisteredTable    12.7.7.1 read filtering entry
      dot1qForwardUnregisteredPorts
      dot1qForwardUnregisteredStaticPorts
  dot1qStatic
    dot1qStaticUnicastTable          12.7.7.1 create/delete/read
                                               filtering entry
                                     12.7.6.1 read permanent database
      dot1qStaticUnicastAddress
      dot1qStaticUnicastReceivePort
      dot1qStaticUnicastAllowedToGoTo
      dot1qStaticUnicastStatus
    dot1qStaticMulticastTable        12.7.7.1 create/delete/read
                                               filtering entry
                                     12.7.6.1 read permanent database
      dot1qStaticMulticastAddress
      dot1qStaticMulticastReceivePort
      dot1qStaticMulticastStaticEgressPorts
      dot1qStaticMulticastForbiddenEgressPorts
      dot1qStaticMulticastStatus
  dot1qVlan
    dot1qVlanNumDeletes
    dot1qVlanCurrentTable            12.10.2.1 read vlan configuration
                                     12.10.3.5 read VID to FID
                                               allocations
                                     12.10.3.6 read FID allocated to VID
                                     12.10.3.7 read VIDs allocated to
                                               FID
      dot1qVlanTimeMark
      dot1qVlanIndex
      dot1qVlanFdbId
      dot1qVlanCurrentEgressPorts
      dot1qVlanCurrentUntaggedPorts
      dot1qVlanStatus
    dot1qVlanStaticTable             12.7.7.1/2/3 create/delete/read
                                               filtering entry
                                     12.7.6.1 read permanent database
                                     12.10.2.2 create vlan config
                                     12.10.2.3 delete vlan config
      dot1qVlanStaticName            12.4.1.3 set bridge name
      dot1qVlanStaticEgressPorts
      dot1qVlanForbiddenEgressPorts
      dot1qVlanStaticUntaggedPorts
      dot1qVlanStaticRowStatus
    dot1qPortVlanConfigTable         12.10.1.1 read bridge vlan
                                               configuration





Bell, et al.               Expires April 1999                  [Page 10]







Internet Draft           Bridge MIB Extensions              October 1998


      dot1qPvid                      12.10.1.2 configure PVID values
      dot1qPortAcceptableFrameTypes  12.10.1.3 configure acceptable
                                               frame types parameter
      dot1qPortIngressFiltering      12.10.1.4 configure ingress
                                               filtering parameters
      dot1qPortGvrpStatus            12.9.2.2 read/set garp applicant
                                               controls
      dot1qPortGvrpFailedRegistrations
      dot1qPortGvrpLastPduOrigin
    dot1qPortVlanStatisticsTable     12.6.1.1 read forwarding port
                                               counters
      dot1qTpVlanPortInFrames
      dot1qTpVlanPortOutFrames
      dot1qTpVlanPortInDiscards
    dot1qPortVlanHCStatisticsTable   12.6.1.1 read forwarding port
                                               counters
      dot1qTpVlanPortHCInFrames
      dot1qTpVlanPortHCOutFrames
      dot1qTpVlanPortHCInDiscards
    dot1qLearningConstraintsTable    12.10.3.1/3/4 read/set/delete
                                             vlan learning constraints
                                     12.10.3.2 read vlan learning
                                             constraints for VID
      dot1qConstraintVlan
      dot1qConstraintSet
      dot1qConstraintType
      dot1qConstraintStatus
    dot1qConstraintSetDefault
    dot1qConstraintTypeDefault

The following IEEE 802.1Q management objects have not been included in
the Bridge MIB for the indicated reasons.

   IEEE 802.1Q Object                  Disposition

   reset bridge (12.4.1.4)             not considered useful

   reset vlan bridge (12.10.1.5)       not considered useful

   read forwarding port counters (12.6.1.1)
     discard on error details          not considered useful

   read permanent database (12.7.6.1)
     permanent database size           not considered useful
     number of static filtering        count rows in





Bell, et al.               Expires April 1999                  [Page 11]







Internet Draft           Bridge MIB Extensions              October 1998


        entries                          dot1qStaticUnicastTable +
                                         dot1qStaticMulticastTable
     number of static VLAN             count rows in
       registration entries              dot1qVlanStaticTable

   read filtering entry range          use GetNext operation.
      (12.7.7.4)

   read filtering database (12.7.1.1)
     filtering database size           not considered useful
     number of dynamic group address   count rows applicable to each
         entries (12.7.1.3)            FDB in dot1dTpGroupTable

   read garp state (12.9.3.1)          not considered useful

   notify vlan registration failure    not considered useful
     (12.10.1.6)

   notify learning constraint violation
     (12.10.3.10)                      not considered useful


3.2.2.  The dot1qBase Group

This mandatory group contains the objects which are applicable to all
bridges implementing 802.1Q virtual LANs.


3.2.3.  The dot1qTp Group

This group contains objects that control the operation and report the
status of transparent bridging.  This includes management of the dynamic
Filtering Databases for both unicast and multicast forwarding.  This
group will be implemented by all bridges that perform destination-
address filtering.


3.2.4.  The dot1qStatic Group

This group contains objects that control static configuration
information for transparent bridging.  This includes management of the
static entries in the Filtering Databases for both unicast and multicast
forwarding.







Bell, et al.               Expires April 1999                  [Page 12]







Internet Draft           Bridge MIB Extensions              October 1998


3.2.5.  The dot1qVlan Group

This group contains objects that control configuration and report status
of the Virtual LANs known to a bridge.  This includes management of the
statically configured VLANs as well as reporting VLANs discovered by
other means e.g. GVRP.  It also controls configuration and reports
status of per-port objects relating to VLANs and reports traffic
statistics.  It also provides for management of the VLAN Learning
Constraints.



3.3.  Textual Conventions

The datatypes MacAddress, BridgeId, Timeout, EnabledStatus, PortList,
VlanIndex and VlanId are used as textual conventions in this document.
These textual conventions have NO effect on either the syntax nor the
semantics of any managed object.  Objects defined using these
conventions are always encoded by means of the rules that define their
primitive type.  Hence, no changes to the SMI or the SNMP are necessary
to accommodate these textual conventions which are adopted merely for
the convenience of readers.



3.4.  Relationship to Other MIBs

As described above, some IEEE 802.1D management objects have not been
included in this MIB because they overlap with objects in other MIBs
applicable to a bridge implementing this MIB.  In particular, it is
assumed that a bridge implementing this MIB will also implement (at
least) the 'system' group defined in MIB-II [24], the 'interfaces' group
defined in [22] and the old Bridge MIB [21].


3.4.1.  Relationship to the 'system' group

In MIB-II, the 'system' group is defined as being mandatory for all
systems such that each managed entity contains one instance of each
object in the 'system' group.  Thus, those objects apply to the entity
as a whole irrespective of whether the entity's sole functionality is
bridging, or whether bridging is only a subset of the entity's
functionality.







Bell, et al.               Expires April 1999                  [Page 13]







Internet Draft           Bridge MIB Extensions              October 1998


3.4.2.  Relation to Interfaces MIB

RFC 1573, the Interface MIB Evolution [22], requires that any MIB which
is an adjunct of the Interface MIB, clarify specific areas within the
Interface MIB.  These areas were intentionally left vague in [22] to
avoid over constraining the MIB, thereby precluding management of
certain media-types.

Section 3.3 of [22] enumerates several areas which a media-specific MIB
must clarify.  Each of these areas is addressed in a following
subsection.  The implementor is referred to [22] in order to understand
the general intent of these areas.

In [22], the 'interfaces' group is defined as being mandatory for all
systems and contains information on an entity's interfaces, where each
interface is thought of as being attached to a `subnetwork'.  (Note that
this term is not to be confused with `subnet' which refers to an
addressing partitioning scheme used in the Internet suite of protocols.)
The term 'segment' is used in this memo to refer to such a subnetwork,
whether it be an Ethernet segment, a 'ring', a WAN link, or even an X.25
virtual circuit.

Implicit in this Bridge MIB is the notion of ports on a bridge.  Each of
these ports is associated with one interface of the 'interfaces' group
(one row in ifTable) and, in most situations, each port is associated
with a different interface.  However, there are situations in which
multiple ports are associated with the same interface.  An example of
such a situation would be several ports each corresponding one-to-one
with several X.25 virtual circuits but all on the same interface.

Each port is uniquely identified by a port number.  A port number has no
mandatory relationship to an interface number, but in the simple case a
port number will have the same value as the corresponding interface's
interface number.  Port numbers are in the range (1..dot1dBaseNumPorts).

Some entities perform other functionality as well as bridging through
the sending and receiving of data on their interfaces.  In such
situations, only a subset of the data sent/received on an interface is
within the domain of the entity's bridging functionality.  This subset
is considered to be delineated according to a set of protocols, with
some protocols being bridged, and other protocols not being bridged.
For example, in an entity which exclusively performed bridging, all
protocols would be considered as being bridged, whereas in an entity
which performed IP routing on IP datagrams and only bridged other
protocols, only the non-IP data would be considered as being bridged.





Bell, et al.               Expires April 1999                  [Page 14]







Internet Draft           Bridge MIB Extensions              October 1998


Thus, this Bridge MIB (and in particular, its counters) is applicable
only to that subset of the data on an entity's interfaces which is
sent/received for a protocol being bridged.  All such data is
sent/received via the ports of the bridge.


3.4.2.1.  Layering Model

This memo assumes the interpretation of the Interfaces Group to be in
accordance with [22] which states that the interfaces table (ifTable)
contains information on the managed resource's interfaces and that each
sub-layer below the internetwork layer of a network interface is
considered an interface.

This memo recommends that, within an entity, VLANs which are
instantiated as an entry in dot1qVlanCurrentTable by either management
configuration through dot1qVlanStaticTable or by dynamic means (e.g.
through GVRP), are NOT also represented by an entry in ifTable.

Where an entity contains higher-layer protocol entities e.g. IP-layer
interfaces, that transmit and receive traffic to/from a VLAN, these
should be represented in the ifTable as interfaces of type
propVirtual(53).


3.4.2.2.  ifStackTable

In addition, [22] defines a table 'ifStackTable' for describing the
relationship between logical interfaces within an entity.  It is
anticipated that implementors will use this table to describe the
binding of e.g. IP interfaces to physical ports, although the presence
of VLANs makes the representation less than perfect for showing
connectivity: the ifStackTable cannot represent the full capability of
the 802.1Q VLAN bridging standard since that makes a distinction between
VLAN bindings on 'ingress' to and 'egress' from a port: these
relationships may or may not be symmetrical whereas [22] assumes a
symmetrical binding for transmit and receive.  This makes it necessary
to define other manageable objects for configuring which ports are
members of which VLANs.


3.4.2.3.  ifRcvAddressTable

This table contains all MAC addresses, unicast, multicast, and
broadcast, for which an interface will receive packets and forward them





Bell, et al.               Expires April 1999                  [Page 15]







Internet Draft           Bridge MIB Extensions              October 1998


up to a higher layer entity for local consumption.  Note that this does
not include addresses for data-link layer control protocols such as
Spanning-Tree, GMRP or GVRP.  The format of the address, contained in
ifRcvAddressAddress, is the same as for ifPhysAddress.

This table does not include unicast or multicast addresses which are
accepted for possible forwarding out some other port.  This table is
explicitly not intended to provide a bridge address filtering mechanism.


3.4.3.  Relation to Basic Bridge MIB

This section defines how objects in the basic bridge MIB module should
be represented for devices which implement the extensions: some of the
old objects are less useful in such devices but must still be
implemented for reasons of backwards comaptibility.  Note that formal
conformance statements for that MIB module do not exist since it is
defined in SMIv1.


3.4.3.1.  The dot1dBase Group

This mandatory group contains the objects which are applicable to all
types of bridges.  Interpretation of this group is unchanged.


3.4.3.2.  The dot1dStp Group

This group contains the objects that denote the bridge's state with
respect to the Spanning Tree Protocol.  Interpretation of this group is
unchanged.


3.4.3.3.  The dot1dTp Group

This group contains objects that describe the entity's state with
respect to transparent bridging.

In a device operating with a single Filtering Database, interpretation
of this group is unchanged.

In a device supporting multiple Filtering Databases, this group is
interpreted as follows:







Bell, et al.               Expires April 1999                  [Page 16]







Internet Draft           Bridge MIB Extensions              October 1998


dot1dTpLearnedEntryDiscards
     The number of times that *any* of the FDBs became full.

dot1dTpAgingTime
     This applies to all Filtering Databases.

dot1dTpFdbTable
     Report MAC addresses learned on each port, regardless of which
     Filtering Database they have been learnt in.  If an address has
     been learnt in multiple databases on a single port, report it only
     once.  If an address has been learnt in multiple databases on more
     than one port, report the entry on any one of the valid ports.

dot1dTpPortTable
     This table is port-based and is not affected by multiple Filtering
     Databases or multiple VLANs.  The counters should include frames
     received or transmitted for all VLANs.  Note that equivalent 64-bit
     port statistics counters are defined in this document for high-
     capacity network interfaces with conformance statements to indicate
     for which speeds of interface they are required.


3.4.3.4.  The dot1dStatic Group

This optional group contains objects that describe the configuration of
destination-address filtering.

In a device operating with a single Filtering Database, interpretation
of this group is unchanged.

In a device supporting multiple Filtering Databases, this group is
interpreted as follows:

dot1dStaticTable
     Entries read from this table include all static entries from all of
     the Filtering Databases.  Entries for the same MAC address and
     receive port in more than one Filtering Database must appear only
     once since these are the indices of this table.  This table should
     be implemented as read-only in devices that support multiple
     Forwarding Databases - instead, write access should be provided
     through dot1qStaticUnicastTable and dot1qStaticMulticastTable, as
     defined in this document.








Bell, et al.               Expires April 1999                  [Page 17]







Internet Draft           Bridge MIB Extensions              October 1998


4.  Extensions to RFC 1493

In addition to the objects in RFC1493, this document contains:

(1)  References point to sections of IEEE 802.1D-1998.

(2)  Added support for multiple traffic classes and dynamic multicast
     filtering as per IEEE 802.1D-1998.

(3)  Added support for bridged Virtual LANs as per IEEE 802.1Q-1998.

(4)  Added support for 64-bit versions of existing RFC1493 port
     counters.



5.  Change Log and Editorial Stuff

5.1.  Changes since draft-ietf-bridge-bridgemib-01.txt

Traffic Classes:
     Split into separate conformance groups, according to the
     requirements for the supported media.  Descriptions and
     capabilities updated to reflect this.

Statistics:
     Simplified to be more like RFC1493.

VID and FID:
     Restrictions removed to allow local identities outside of the
     802.1Q range.

SMIv2 conformance:
     Replaced INTEGER with 'UInteger32' (where no range was specified).
     Replaced 'Timeout' with 'TimeInterval'.

New objects added:
     dot1qTpVlanPortInFrames, dot1qTpVlanPortOutFrames,
     dot1qTpVlanPortInDiscards, dot1qTpVlanPortHCInFrames,
     dot1qTpVlanPortHCOutFrames, dot1qTpVlanPortHCInDiscards,
     dot1dTrafficClasses, dot1dTrafficClassPriority,
     dot1qNextFreeLocalVlanIndex

Old objects deleted:
     dot1qFramesReceived, dot1qOctetsReceived, dot1qForwardOutbound,





Bell, et al.               Expires April 1999                  [Page 18]







Internet Draft           Bridge MIB Extensions              October 1998


     dot1qDiscardInbound, dot1qDiscardNoBuffers,
     dot1qDiscardTransitDelayExceeded, dot1qDiscardError,
     dot1qDiscardOnIngressFiltering, dot1qHCFramesReceived,
     dot1qHCOctetsReceived, dot1qHCForwardOutbound,
     dot1qHCDiscardInbound, dot1qHCDiscardNoBuffers,
     dot1qHCDiscardTransitDelayExceeded, dot1qHCDiscardError,
     dot1qHCDiscardOnIngressFiltering,
     dot1qLearningConstraintsLastChange

Objects renamed/moved:
     dot1qTpGroupAllowedToGoTo -> dot1qTpGroupEgressPorts
     dot1qVlanStaticUntagged -> dot1qVlanStaticUntaggedPorts
     dot1dPortCapabilities.dot1qConfigurablePvidTagging
         -> dot1dDeviceCapabilities.dot1qConfigurablePvidTagging

Object descriptions clarified:
     dot1dPortDefaultUserPriority, dot1dUserPriorityRegenTable,
     dot1dTrafficClassTable, dot1qGvrpStatus, dot1qTpGroupEgressPorts,
     dot1qForwardAllStaticPorts, dot1qStaticUnicastAllowedToGoTo,
     dot1qStaticMulticastStaticEgressPorts,
     dot1qStaticMulticastForbiddenEgressPorts, dot1qVlanStatus,
     dot1qVlanStaticName, dot1qVlanStaticUntaggedPorts,
     dot1qPortAcceptableFrameTypes, dot1qPortIngressFiltering,
     dot1qGvrpPortStatus

Updated compliance clauses:
     pBridgeDeviceGmrpGroup, pBridgeDevicePriorityGroup,
     pBridgeDefaultPriorityGroup, pBridgeRegenPriorityGroup,
     pBridgePriorityGroup, pBridgeAccessPriorityGroup,
     qBridgeFdbUnicastGroup, qBridgeVlanGroup, qBridgeVlanStaticGroup,
     qBridgeVlanStatisticsGroup, qBridgeVlanHCStatisticsGroup,
     qBridgeLearningConstraintsGroup

New issues: (62)-(77) added.

To Do List (1):
     Update boilerplate for appropriate new SNMP framework(s).  - SNMP
     Framework (section 1), Security (section 10) and References updated
     to comply with proposed new SNMPv3 guidelines.

Editorial:
     References updated to latest document versions, other editorial
     changes.







Bell, et al.               Expires April 1999                  [Page 19]







Internet Draft           Bridge MIB Extensions              October 1998


5.2.  Open Issues

The following issues were raised on the mailing list after the Plenary
meeting in Chicago, IL in August 1998.  These issues have not been
addressed in this draft.

(77) Should dot1qTpVlanPortInDiscards and dot1qTpVlanPortHCInDiscards
     count all frames discarded at receive by the VLAN layer?  (AR) -
     Assume NO for now.

5.3.  Issues closed in this draft

The following issues were still open after the Plenary meeting in
Chicago, IL in August 1998.  New issues raised on the mailing list after
the Chicago meeting are also included.  Suggested resolutions discussed
on the mailing list are noted here and the changes have been made to the
text - they are listed here for comment:

(5)  ifStackTable usage - how to represent binding of IP interfaces to
     VLANs now that we do not necessarily have one ifEntry per VLAN.  -
     Not included due to lack of enthusiasm from the group.

(62) Remove support for multiple egress ports in static unicast FDB
     entries? (KK) - Not applicable.  The entry indicates ports a
     unicast address MAY be learnt on, not ports it MUST be forwarded
     to.  Description clarified.

(63) dot1dGmrpStatus is a member of a mandatory group and has a DEFVAL
     of "enabled".  This is inappropriate for devices which do not
     support extended filtering services but do support priority
     forwarding and therefore implement this MIB.  (DM) - Similar
     problem with dot1dTrafficClassesEnabled.  Defined both of these in
     separate groups, each group is mandatory only if that feature is
     supported by the bridge.  Capabilities bit added to indicate
     support for traffic classes.  Removed MIN-ACCESS for
     dot1dTrafficClassesEnabled.

(64) dot1dPortCapabilities, dot1qPortIngressFiltering - tighten up the
     text to read: "supports the discarding of any frame received on
     that Port whose VLAN classification does not include that Port in
     its Member set." (DM) - Done.  Also changed the name of the
     capability bit for this to dot1qIngressFiltering to resolve
     duplicate name.  Changed the description of
     dot1qPortIngressFiltering object to match the above text.






Bell, et al.               Expires April 1999                  [Page 20]







Internet Draft           Bridge MIB Extensions              October 1998


(65) dot1qConfigurablePvidTagging - According to 802.1Q it is a
     requirement.  Is there a reason to treat it as optional in the MIB?
     (DM) - Reference is 12.10.1.1.3/b/2.  The 802.1Q description is
     "whether the implementation supports the ability to override the
     default PVID setting and its egress status (VLAN-Tagged or
     Untagged) on each port".  Capability description modified with the
     above quote from the standard.

(66) PVID tagging should be moved from dot1dPortCapabilities to
     dot1dDeviceCapabilities.  (AHS) - Done.

(67) dot1dUserPriorityRegenTable - is not relevant for Ethernet LANs.  A
     statement to this effect and a reference (ISO/IEC 15802-3 6.4) may
     be helpful.  (DM) - Done.  Also put this in a separate conformance
     group, mandatory for media which support native User Priority.
     dot1dTrafficClassTable updated to be independent of this table.

(68) What should the compliance be for dot1dPortDefaultUserPriority?
     (AHS) - Put this in a separate conformance group, mandatory for
     media which do not support native User Priority.

(69) There are no definitions for qBridgeFdbGroup or qBridgeTpFdbGroup -
     remove references to these in qBridgeCompliance section. (AHS) -
     Done.

(70) Should we count the number of dynamic group address entries per
     VLAN? (AHS) - This can be derived by counting rows in
     dot1dTpGroupTable.  Added it to the 'not included' list in section
     3.2.1.

(71) dot1qTpGroupAllowedToGoTo really means 'forward to'. (DM) - The
     description has been clarified and the object renamed as
     'dot1qTpGroupEgressPorts'.

(72) Why provide a default value for dot1qStaticUnicastAllowedToGoTo?
     It should include only member ports of the frame's VLAN
     classification.  The phrase "a string of ones" is incorrect.  Also
     for dot1qStaticMulticastStaticEgressPorts.  (DM) - Clarified the
     description, this value only applies to ports also in the
     dot1qVlanCurrentEgressPorts list for the VLAN.  Also applied this
     clarification to dot1qForwardAllStaticPorts.

(73) dot1qStaticUnicastAllowedToGoTo: why is the term "allowed" used
     here?  Doesn't this object define exactly to which port(s) the
     frame is to be forwarded? (DM) - No.  The consensus from recent





Bell, et al.               Expires April 1999                  [Page 21]







Internet Draft           Bridge MIB Extensions              October 1998


     discussions interpret this as 'may be dynamically learnt on'.
     Clarified the description.

(74) The Untagged Set for a VLAN is only modified statically by
     management and this object will always have the same value as the
     dot1qVlanStaticUntagged.  If so, should it be eliminated. (DM) -
     Untagged VLANs may also be dynamically learned.  No change
     required.

(75) The meaning of dot1qVlanStatus is confusing. (DM) - The description
     has been clarified.

(76) dot1qVlanStatisticsTable potentially requires a very large number
     of counters and may not be achievable in many architectures.  A
     control table which specifies for which VLANs the counters would be
     maintained could limit the number of counters required. (DM) - Not
     considered worthwhile.  No change required.

Issues that were closed at the August 1998 plenary meeting and have been
addressed in this draft:

(44) Clarification of dot1qHC counter descriptions - what does inbound
     mean?  What counts as errors?  2 separable issues:
     1. It was requested that the meaning of dot1qDiscardInbound be
     clarified to ensure it is distinct from other counters.
     (Specifically, why is it different from 1493?) (KZM) - this can be
     derived from other counters - NUKE IT!
     2. Why are all of these so different from RFC1493? e.g. do they
     refer to Transparent-only?  What about SRT or SR?  - Counters
     limited to a set equivalent to RFC1493.

(49) Now that dot1qVlanStaticTable is indexed by VlanIndex/VlanId we
     need a "next free" variable since these values must be managed by
     agent.  - Added dot1qVlanNextFreeIndex.

(50) dot1qVlanFdbId, dot1qMaxSupportedVlans, dot1qNumVlans should not be
     range-limited.  If they are then we need new objects to represent
     the number of non-802.1Q "VLANs" too. (AHS) - Range restrictions
     removed.

(51) dot1qConfigurablePvidTagging: does this also cover the "I can only
     set a single VLAN to be untagged on egress" implementation option
     in 802.1Q?  - Description of dot1qVlanStaticUntaggedPorts clarified
     to cover this.






Bell, et al.               Expires April 1999                  [Page 22]







Internet Draft           Bridge MIB Extensions              October 1998


(52) Do we need an explicit "dot1dExtendedFilteringServicesStatus"
     enable/disable object?  (AHS) - No.

(55) Need to split dot1qStaticAllowedToGoTo into two portmaps in order
     to represent the 3 possible states from 802.1Q 8.11.2: static,
     forbidden and allowed to be influenced by dynamic info.  (ELB) DONE
     for multicast - split dot1qStaticAllowedToGoTo into
     dot1qStaticMulticastStaticEgressPorts and
     dot1qStaticMulticastForbiddenEgressPorts.  Same issue for unicast
     table.  - Not required to split this for unicast.

(56) Should a value of 0 be allowed for dot1qTpFdbPort?  This is
     inherited from RFC1493. (ELB) - Yes it is allowed.  No change
     required.

(57) Rename dot1qVlanStaticUntagged as dot1qVlanStaticUntaggedPorts for
     consistency.  (ELB) - Done.

(58) If an empty string is used for dot1qVlanStaticName, does it have to
     be unique?  The description implies it must be unique. (ELB) NO -
     clarified this.

(59) Should dot1qPvid have syntax VlanIndex (currently it is VlanId)?
     (ELB) - Yes, done.

(60) Do dot1qPortAcceptableFrameTypes and dot1qPortIngressFiltering also
     apply to tagged GMRP packets? (ELB)  - Yes, descriptions clarified.

(61) Do we need dot1qLearningContraintsLastChange?  It just reminds the
     manager of changes that he or some other manager made. (ELB) - No,
     object removed.


5.4.  Issues closed in previous drafts

(1)  Should this MIB offer support for SMIv1-only agents (Counter32/64)?
     ADDED Counter32/Counter64 versions of the per-VLAN statistics.
     ADDED Counter64 versions of the per-port statistics from RFC1493.
     Added appropriate conformance clauses for all.

(2)  Indexing of tables by VlanId or by ifIndex? use VlanId with special
     semantics for values >=4096.  This raises new issue 49.

(3)  Indexing of FDB tables by MacAddress or by something else? Use
     MacAddress.





Bell, et al.               Expires April 1999                  [Page 23]







Internet Draft           Bridge MIB Extensions              October 1998


(4)  Include RFC1493 by value or reference? REFERENCE

(6)  Representations of filtering entry for "AllGroups" and
     "AllUnregisteredGroups" DONE

(7)  Should we represent all available FIDs up front or use a "next
     free" object for the manager to create them as needed?  NEITHER -
     see issue 25 above.

(8)  Learned entry discards counter per-VLAN or per-device? Per-device,
     already in RFC1493.

(9)  Do we need per-FID static/dynamic filtering entry counts?
     (12.7.1.1.3) YES - count for dynamic only added as
     dot1qFdbDynamicCount.

(10) Separate config and status info for e.g. dot1dPortGmrpTable,
     dot1qPortVlanTable?  NO CHANGE

(11) 802.1D has separate registrar and applicant controls per state
     machine (GVRP and GMRP): do we need per-VLAN and per-Group
     Registrar controls?  YES.  Affects dot1qVlanStaticEgressPorts,
     dot1qVlanForbiddenEgressPorts and dot1dStaticAllowedToGoTo - added
     clarification to DESCRIPTION clauses for the first two (but we
     cannot add to RFC1493).
     Do we need per-VLAN and per-Group Applicant controls?  NEITHER -
     per-port is sufficient on dot1qPortGvrpStatus and
     dot1pPortGmrpStatus.

(12) Should the per-port GARP admin controls apply to Registrar as well
     as Applicant (dot1qPortGvrpStatus, dot1pPortGmrpStatus)?
     Alternative would be to provide separate controls for Applicant and
     Registrar.  YES - No change.

(13) Learning constraints table seems clumsy - can we improve this? DONE

(14) Do we need to define a "notify vlan registration failure" trap? NO

(15) dot1qFdbAgingTime is currently per-FID: 802.1Q has it per-device.
     PER DEVICE

(16) dot1pPortDefaultUserPriority - can this usefully be per-port, per-
     VLAN? PER-PORT







Bell, et al.               Expires April 1999                  [Page 24]







Internet Draft           Bridge MIB Extensions              October 1998


(17) Both dot1qVlanCurrentTable and dot1qVlanStaticTable are indexed by
     dot1qVlanIfIndex but that only appears in dot1qVlanStaticTable - is
     this a problem? MOVED TO dot1qVlanCurrentTable.

(18) Should we choose same names (up/down) as IF-MIB for values of the
     admin/oper status values, rather than defining our own new TC?  Is
     there an existing TC we can import? NO CHANGE.

(19) Should we have write-only "reset" objects or should these be read-
     write to help MIB browsers (assume write-only)? READ-WRITE.

(20) Do we need "read filtering database (12.7.1.1): filtering database
     size"? NO

(21) Do we need "read permanent database (12.7.6.1): permanent database
     size"? NO (this issue was wrongly recorded last time)

(22) Do we need a 'next free ifIndex' object? NO - see issue 2.  But see
     new issue 49.

(23) Do we need default learning constraints? YES - mandatory if device
     is Hybrid-VLAN-Learning-capable (can do both IVL and SVL).

(24) Can we remove separate GARP controls? YES.

(25) Do we need to split dot1qStaticTable into dot1qStaticUnicastTable
     and dot1qStaticMulticastTable? YES: dot1qStaticTable ->
     dot1qStaticUnicastTable, indexed by FID +
     dot1qStaticMulticastTable, indexed by VID.  Also index
     dot1qTpGroupTable by VID.  This matches the indexing assumed by
     802.1Q.

(26) Should we have the different Service Requirements  (AllGroups,
     AllUnregisteredGroups) in dot1qServiceReqTable or should we leave
     with dot1qServiceRequirement as a 2nd index?  Split into 2 tables,
     each indexed by VID.

(27) Do we want "capabilities" bitmap objects? YES - per-port
     dot1dPortCapabilities and dot1dDeviceCapabilities.

(28) Should ifRcvAddressTable contain entries for e.g. spanning-tree,
     GMRP, GVRP addresses? NO - clarify in preface.

(29) dot1dTrafficClassesResetToDefaults - says that it resets stats too.
     What about userPriorityRegenTable? (AR): NUKE





Bell, et al.               Expires April 1999                  [Page 25]







Internet Draft           Bridge MIB Extensions              October 1998


     dot1dTrafficClassesResetToDefaults

(30) Trunk ports - should MIB support such a concept (802.1Q does not)?
     NO

(31) dot1qVlanBridgeUpTime: is this needed per-VLAN?  ifLastChange can
     do this function if we have ifTable entries per-VLAN: NO

(32) Timestamp-based indexing for some tables?  dot1dTpFdbTable in
     RFC1493 - NO dot1qTpFdbTable - NO, TimeFilter not practical;
     lastChange not useful dot1qVlanCurrentTable - YES- added both
     dot1qVlanTimeMark and dot1qVlanNumDeletes.  dot1qStaticTable? NO -
     cannot use TimeFilter on read-create tables.
     dot1qLearningConstraintsTable? NO, add
     dot1qLearningConstraintsLastChange.  dot1qPortVlanTable? NO - these
     are mostly management settable objects.

(33) DEFVAL and MIN-ACCESS for dot1qForwardAllStaticPorts and
     dot1qForwardUnregisteredStaticPorts? updated descriptions and these
     objects are in an optional group, so MIN-ACCESS not-accessible is
     not required.

(34) Should an agent instantiate a set of dot1qForwardAllTable and
     dot1qForwardUnregisteredTable entries for each FDB that it could
     have or just a set for each FDB that is currently in use? The
     latter - added clarification.

(35) Nuke dot1qStaticReceivePort? There are not any implementations of
     the RFC1493 equivalent are there?  Yes there are - keep it.

(36) Should agent accept SETs to dot1qVlanStaticUntaggedPorts,
     dot1qVlanStaticEgressPorts, dot1qVlanForbiddenEgressPorts that it
     cannot actually implement? (ELB) NO - clarify description.

(37) Nuke dot1dPortGmrp/GvrpOperStatus? - YES.

(38) Nuke dot1qResetToDefaults? (KZM) - YES

(39) Nuke dot1dGarpReset? (KZM)  YES, and update DESCRIPTIONs of
     dot1dGmrpStatus, dot1qGvrpStatus, dot1dPortGmrpStatus,
     dot1qPortGvrpStatus,

(40) Make dot1dPortGarp timers per-device, not per-port? (KZM) saves
     NVRAM - Leave it the same.






Bell, et al.               Expires April 1999                  [Page 26]







Internet Draft           Bridge MIB Extensions              October 1998


(41) MIN-ACCESS read-only for dot1dTrafficClass, dot1dRegenUserPriority
     (KZM) - done.

(42) dot1qTpGroupGmrp/Igmp (KZM) - merge these to dot1qTpGroupLearnt -
     Yes.

(43) Do we need 64-bit dot1qHC errors? (KZM) - Yes.

(45) Do we need dot1qVersion? (KZM) - Yes.

(46) Nuke dot1qTpFdbClear? dot1qFdbClear? (KZM) - Yes (802.1Q "reset
     bridge" operation is not now supported).

(47) Do we need dot1qFdbTable which now contains only dot1qFdbId?  - YES
     (it also now has dot1qFdbDynamicCount).

(48) Should dot1qTpFdbTable be {FID,MAC} or {MAC,FID} - the former.

(53) Should mention that VLAN entries in ifTable should have
     ifPhysAddress zero-length/filled (KK).  No longer relevant since we
     do not include such ifTable entries.

(54) dot1qVlanAdminUntaggedPorts - expand DESCRIPTION to include meaning
     of 0 (KK).  Changed description to talk about include/exclude from
     the set of ports: refer to Portlist TC for 0/1 meaning.

























Bell, et al.               Expires April 1999                  [Page 27]







Internet Draft           Bridge MIB Extensions              October 1998


6.  Definitions for Extended Bridge MIB


P-BRIDGE-MIB DEFINITIONS ::= BEGIN

-- -------------------------------------------------------------
-- IEEE 802.1p MIB
-- -------------------------------------------------------------

IMPORTS
    MODULE-IDENTITY, OBJECT-TYPE, Counter32, Counter64
        FROM SNMPv2-SMI
    TruthValue, TimeInterval, TEXTUAL-CONVENTION
        FROM SNMPv2-TC
    MODULE-COMPLIANCE, OBJECT-GROUP
        FROM SNMPv2-CONF
    MacAddress, dot1dTp, dot1dTpPort,
    dot1dBridge, dot1dBasePortEntry, dot1dBasePort
        FROM BRIDGE-MIB;

pBridgeMIB MODULE-IDENTITY
    LAST-UPDATED "9810070000Z"
    ORGANIZATION "IETF Bridge MIB Working Group"
    CONTACT-INFO
        "       Les Bell
        Postal: 3Com Europe Ltd.
                3Com Centre, Boundary Way
                Hemel Hempstead, Herts. HP2 7YU
                UK
         Phone: +44 1442 438025
         Email: Les_Bell@3Com.com

                Andrew Smith
        Postal: Extreme Networks
                10460 Bandley Drive
                Cupertino CA 95014
                USA
         Phone: +1 (408) 342 0999
         Email: andrew@extremenetworks.com

                Paul Langille
        Postal: Acacia Networks, Inc.
                650 Suffolk St.
                Lowell, MA 01854
                USA





Bell, et al.               Expires April 1999                  [Page 28]







Internet Draft           Bridge MIB Extensions              October 1998


         Phone: +1 (978) 275 0662
         Email: plangille@acacianet.com

                Anil Rijhsinghani
        Postal: Cabletron Systems
                50 Minuteman Road
                Andover MA 01810
                USA
         Phone: +1 (978) 684-1295
         Email: anil@cabletron.com

                Keith McCloghrie
        Postal: cisco Systems, Inc.
                170 West Tasman Drive
                San Jose, CA 95134-1706
                USA
         Phone: +1 (408) 526 5260
         Email: kzm@cisco.com"
    DESCRIPTION
        "The Bridge MIB Extension module for managing Priority
        and Multicast Filtering, defined by IEEE 802.1D-1998."

    REVISION    "9810070000Z"
    DESCRIPTION "Updated with revisions from August 1998 Plenary
                meeting."

    ::= { dot1dBridge 6 }

pBridgeMIBObjects OBJECT IDENTIFIER ::= { pBridgeMIB 1 }

-- -------------------------------------------------------------
-- Textual Conventions
-- -------------------------------------------------------------

EnabledStatus ::= TEXTUAL-CONVENTION
    STATUS      current
    DESCRIPTION
        "A simple status value for the object."
    SYNTAX      INTEGER { enabled(1), disabled(2) }

-- -------------------------------------------------------------

-- -------------------------------------------------------------
-- groups in the P-BRIDGE MIB
-- -------------------------------------------------------------





Bell, et al.               Expires April 1999                  [Page 29]







Internet Draft           Bridge MIB Extensions              October 1998


dot1dExtBase    OBJECT IDENTIFIER ::= { pBridgeMIBObjects 1 }
dot1dPriority   OBJECT IDENTIFIER ::= { pBridgeMIBObjects 2 }
dot1dGarp       OBJECT IDENTIFIER ::= { pBridgeMIBObjects 3 }
dot1dGmrp       OBJECT IDENTIFIER ::= { pBridgeMIBObjects 4 }

-- -------------------------------------------------------------

-- -------------------------------------------------------------
-- the dot1dExtBase group
-- -------------------------------------------------------------

dot1dDeviceCapabilities OBJECT-TYPE
    SYNTAX      BIT STRING {
        dot1dExtendedFilteringServices(0),
                              -- can perform filtering of
                              -- individual multicast addresses
                              -- controlled by GMRP.
        dot1dTrafficClasses(1),
                              -- can map user priority to
                              -- multiple traffic classes.
        dot1qStaticEntryIndividualPort(2),
                              -- dot1qStaticUnicastReceivePort &
                              -- dot1qStaticMulticastReceivePort
                              -- can represent non-zero entries.
        dot1qIVLCapable(3),   -- Independent VLAN Learning.
        dot1qSVLCapable(4),   -- Shared VLAN Learning.
        dot1qHybridCapable(5),
                              -- both IVL & SVL simultaneously.
        dot1qConfigurablePvidTagging(6)
                              -- whether the implementation
                              -- supports the ability to
                              -- override the default PVID
                              -- setting and its egress status
                              -- (VLAN-Tagged or Untagged) on
                              -- each port.
    }
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "Indicates the optional parts of IEEE 802.1D and 802.1Q
        that are implemented by this device and are managable
        through this MIB.  Capabilities that are allowed on a
        per-port basis are indicated in dot1dPortCapabilities."
    REFERENCE
        "ISO/IEC 15802-3 Section 5.2,





Bell, et al.               Expires April 1999                  [Page 30]







Internet Draft           Bridge MIB Extensions              October 1998


        IEEE 802.1Q/D11 Section 5.2, 12.10.1.1.3/b/2"
    ::= { dot1dExtBase 1 }

dot1dTrafficClassesEnabled OBJECT-TYPE
    SYNTAX      TruthValue
    MAX-ACCESS  read-write
    STATUS      current
    DESCRIPTION
        "The value true(1) indicates that Traffic Classes are
        enabled on this bridge.  When false(2), the bridge
        operates with a single priority level for all traffic."
    DEFVAL      { true }
    ::= { dot1dExtBase 2 }

dot1dGmrpStatus OBJECT-TYPE
    SYNTAX      EnabledStatus
    MAX-ACCESS  read-write
    STATUS      current
    DESCRIPTION
        "The administrative status requested by management for
        GMRP.  The value enabled(1) indicates that GMRP should
        be enabled on this device, in all VLANs, on all ports
        for which it has not been specifically disabled.  When
        disabled(2), GMRP is disabled, in all VLANs, on all
        ports and all GMRP packets will be forwarded
        transparently.  This object affects both Applicant and
        Registrar state machines.  A transition from disabled(2)
        to enabled(1) will cause a reset of all GMRP state
        machines on all ports and zeroing of all related
        counters."
    DEFVAL      { enabled }
    ::= { dot1dExtBase 3 }

-- -------------------------------------------------------------
-- Port Capabilities Table
-- -------------------------------------------------------------

dot1dPortCapabilitiesTable OBJECT-TYPE
    SYNTAX      SEQUENCE OF Dot1dPortCapabilitiesEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "A table that contains capabilities information about
        every port that is associated with this bridge."
    ::= { dot1dExtBase 4 }





Bell, et al.               Expires April 1999                  [Page 31]







Internet Draft           Bridge MIB Extensions              October 1998


dot1dPortCapabilitiesEntry OBJECT-TYPE
    SYNTAX      Dot1dPortCapabilitiesEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "A set of capabilities information about this port
        indexed by dot1dBasePort."
    AUGMENTS { dot1dBasePortEntry }
    ::= { dot1dPortCapabilitiesTable 1 }

Dot1dPortCapabilitiesEntry ::=
    SEQUENCE {
        dot1dPortCapabilities
            BIT STRING
    }

dot1dPortCapabilities OBJECT-TYPE
    SYNTAX      BIT STRING {
        dot1qDot1qTagging(0), -- supports 802.1Q VLAN tagging of
                              -- frames and GVRP.
        dot1qConfigurableAcceptableFrameTypes(1),
                              -- allows modified values of
                              -- dot1qPortAcceptableFrameTypes.
        dot1qIngressFiltering(2)
                              -- supports the discarding of any
                              -- frame received on a Port whose
                              -- VLAN classification does not
                              -- include that Port in its Member
                              -- set.
    }
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "Indicates the parts of IEEE 802.1D and 802.1Q that are
        optional on a per-port basis that are implemented by
        this device and are managable through this MIB."
    REFERENCE
        "ISO/IEC 15802-3 Section 5.2,
        IEEE 802.1Q/D11 Section 5.2"
    ::= { dot1dPortCapabilitiesEntry 1 }

-- -------------------------------------------------------------
-- the dot1dPriority group
-- -------------------------------------------------------------






Bell, et al.               Expires April 1999                  [Page 32]







Internet Draft           Bridge MIB Extensions              October 1998


-- -------------------------------------------------------------
-- Port Priority Table
-- -------------------------------------------------------------

dot1dPortPriorityTable OBJECT-TYPE
    SYNTAX      SEQUENCE OF Dot1dPortPriorityEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "A table that contains information about every port that
        is associated with this transparent bridge."
    ::= { dot1dPriority 1 }

dot1dPortPriorityEntry OBJECT-TYPE
    SYNTAX      Dot1dPortPriorityEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "A list of Default User Priorities for each port of a
        transparent bridge.  This is indexed by dot1dBasePort."
    AUGMENTS { dot1dBasePortEntry }
    ::= { dot1dPortPriorityTable 1 }

Dot1dPortPriorityEntry ::=
    SEQUENCE {
        dot1dPortDefaultUserPriority
            INTEGER,
        dot1dPortNumTrafficClasses
            INTEGER
    }

dot1dPortDefaultUserPriority OBJECT-TYPE
    SYNTAX      INTEGER (0..7)
    MAX-ACCESS  read-write
    STATUS      current
    DESCRIPTION
        "The default ingress User Priority for this port.  This
        only has effect on media, such as Ethernet, that do not
        support native User Priority."
    ::= { dot1dPortPriorityEntry 1 }

dot1dPortNumTrafficClasses OBJECT-TYPE
    SYNTAX      INTEGER (1..8)
    MAX-ACCESS  read-write
    STATUS      current





Bell, et al.               Expires April 1999                  [Page 33]







Internet Draft           Bridge MIB Extensions              October 1998


    DESCRIPTION
        "The number of egress traffic classes supported on this
        port.  This object may optionally be read-only."
    ::= { dot1dPortPriorityEntry 2 }

-- -------------------------------------------------------------
-- User Priority Regeneration Table
-- -------------------------------------------------------------

dot1dUserPriorityRegenTable OBJECT-TYPE
    SYNTAX      SEQUENCE OF Dot1dUserPriorityRegenEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "A list of Regenerated User Priorities for each received
        User Priority on each port of a bridge.  The Regenerated
        User Priority value may be used to index the Traffic
        Class Table for each input port.  This only has effect
        on media that support native User Priority.  The default
        values for Regenerated User Priorities are the same as
        the User Priorities."
    REFERENCE
        "ISO/IEC 15802-3 Section 6.4"
    ::= { dot1dPriority 2 }

dot1dUserPriorityRegenEntry OBJECT-TYPE
    SYNTAX      Dot1dUserPriorityRegenEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "A mapping of incoming User Priority to a Regenerated
        User Priority."
    INDEX   { dot1dBasePort, dot1dUserPriority }
    ::= { dot1dUserPriorityRegenTable 1 }

Dot1dUserPriorityRegenEntry ::=
    SEQUENCE {
        dot1dUserPriority
            INTEGER,
        dot1dRegenUserPriority
            INTEGER
    }

dot1dUserPriority OBJECT-TYPE
    SYNTAX      INTEGER (0..7)





Bell, et al.               Expires April 1999                  [Page 34]







Internet Draft           Bridge MIB Extensions              October 1998


    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "The User Priority for a frame received on this port."
    ::= { dot1dUserPriorityRegenEntry 1 }

dot1dRegenUserPriority OBJECT-TYPE
    SYNTAX      INTEGER (0..7)
    MAX-ACCESS  read-write
    STATUS      current
    DESCRIPTION
        "The Regenerated User Priority the incoming User
        Priority is mapped to for this port."
    ::= { dot1dUserPriorityRegenEntry 2 }

-- -------------------------------------------------------------
-- Traffic Class Table
-- -------------------------------------------------------------

dot1dTrafficClassTable OBJECT-TYPE
    SYNTAX      SEQUENCE OF Dot1dTrafficClassEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "A table mapping evaluated User Priority to Traffic
        Class, for forwarding by the bridge.  Traffic class is a
        number in the range (0..(dot1dPortNumTrafficClasses-1))."
    REFERENCE
        "ISO/IEC 15802-3 Table 7-2"
    ::= { dot1dPriority 3 }

dot1dTrafficClassEntry OBJECT-TYPE
    SYNTAX      Dot1dTrafficClassEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "User Priority to Traffic Class mapping."
    INDEX   { dot1dBasePort, dot1dTrafficClassPriority }
    ::= { dot1dTrafficClassTable 1 }

Dot1dTrafficClassEntry ::=
    SEQUENCE {
        dot1dTrafficClassPriority
            INTEGER,
        dot1dTrafficClass





Bell, et al.               Expires April 1999                  [Page 35]







Internet Draft           Bridge MIB Extensions              October 1998


            INTEGER
    }

dot1dTrafficClassPriority OBJECT-TYPE
    SYNTAX      INTEGER (0..7)
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "The Priority value determined for the received frame.
        This value is equivalent to the priority indicated in
        the tagged frame received, or one of the evaluated
        priorities, determined according to the media-type.

        For untagged frames received from Ethernet media, this
        value is equal to the dot1dPortDefaultUserPriority value
        for the ingress port.

        For untagged frames received from non-Ethernet media,
        this value is equal to the dot1dRegenUserPriority value
        for the ingress port and media-specific user priority."
    ::= { dot1dTrafficClassEntry 1 }

dot1dTrafficClass OBJECT-TYPE
    SYNTAX      INTEGER (0..7)
    MAX-ACCESS  read-write
    STATUS      current
    DESCRIPTION
        "The Traffic Class the received frame is mapped to."
    ::= { dot1dTrafficClassEntry 2 }

-- -------------------------------------------------------------
-- Outbound Access Priority Table
-- -------------------------------------------------------------

dot1dPortOutboundAccessPriorityTable OBJECT-TYPE
    SYNTAX      SEQUENCE OF Dot1dPortOutboundAccessPriorityEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "A table mapping Regenerated User Priority to Outbound
        Access Priority.  This is a fixed mapping for all port
        types, with two options for 802.5 Token Ring."
    REFERENCE
        "ISO/IEC 15802-3 Table 7-3"
    ::= { dot1dPriority 4 }





Bell, et al.               Expires April 1999                  [Page 36]







Internet Draft           Bridge MIB Extensions              October 1998


dot1dPortOutboundAccessPriorityEntry OBJECT-TYPE
    SYNTAX      Dot1dPortOutboundAccessPriorityEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "Regenerated User Priority to Outbound Access Priority
        mapping."
    INDEX   { dot1dBasePort, dot1dRegenUserPriority }
    ::= { dot1dPortOutboundAccessPriorityTable 1 }

Dot1dPortOutboundAccessPriorityEntry ::=
    SEQUENCE {
        dot1dPortOutboundAccessPriority
            INTEGER
    }

dot1dPortOutboundAccessPriority OBJECT-TYPE
    SYNTAX      INTEGER (0..7)
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "The Outbound Access Priority the received frame is
        mapped to."
    ::= { dot1dPortOutboundAccessPriorityEntry 1 }

-- -------------------------------------------------------------
-- the dot1dGarp group
-- -------------------------------------------------------------

-- -------------------------------------------------------------
-- The GARP Port Table
-- -------------------------------------------------------------

dot1dPortGarpTable OBJECT-TYPE
    SYNTAX      SEQUENCE OF Dot1dPortGarpEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "A table of GARP control information about every bridge
        port.  This is indexed by dot1dBasePort."
    ::= { dot1dGarp 1 }

dot1dPortGarpEntry OBJECT-TYPE
    SYNTAX      Dot1dPortGarpEntry
    MAX-ACCESS  not-accessible





Bell, et al.               Expires April 1999                  [Page 37]







Internet Draft           Bridge MIB Extensions              October 1998


    STATUS      current
    DESCRIPTION
        "GARP control information for a bridge port."
    AUGMENTS { dot1dBasePortEntry }
    ::= { dot1dPortGarpTable 1 }

Dot1dPortGarpEntry ::=
    SEQUENCE {
        dot1dPortGarpJoinTime
            TimeInterval,
        dot1dPortGarpLeaveTime
            TimeInterval,
        dot1dPortGarpLeaveAllTime
            TimeInterval
    }

dot1dPortGarpJoinTime OBJECT-TYPE
    SYNTAX      TimeInterval
    MAX-ACCESS  read-write
    STATUS      current
    DESCRIPTION
        "The GARP Join time, in centiseconds."
    DEFVAL      { 20 }
    ::= { dot1dPortGarpEntry 1 }

dot1dPortGarpLeaveTime OBJECT-TYPE
    SYNTAX      TimeInterval
    MAX-ACCESS  read-write
    STATUS      current
    DESCRIPTION
        "The GARP Leave time, in centiseconds."
    DEFVAL      { 60 }
    ::= { dot1dPortGarpEntry 2 }

dot1dPortGarpLeaveAllTime OBJECT-TYPE
    SYNTAX      TimeInterval
    MAX-ACCESS  read-write
    STATUS      current
    DESCRIPTION
        "The GARP LeaveAll time, in centiseconds."
    DEFVAL      { 1000 }
    ::= { dot1dPortGarpEntry 3 }

-- -------------------------------------------------------------
-- The GMRP Port Configuration and Status Table





Bell, et al.               Expires April 1999                  [Page 38]







Internet Draft           Bridge MIB Extensions              October 1998


-- -------------------------------------------------------------

dot1dPortGmrpTable OBJECT-TYPE
    SYNTAX      SEQUENCE OF Dot1dPortGmrpEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "A table of GMRP control and status information about
        every bridge port.  Augments the dot1dBasePortTable."
    ::= { dot1dGmrp 1 }

dot1dPortGmrpEntry OBJECT-TYPE
    SYNTAX      Dot1dPortGmrpEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "GMRP control and status information for a bridge port."
    AUGMENTS { dot1dBasePortEntry }
    ::= { dot1dPortGmrpTable 1 }

Dot1dPortGmrpEntry ::=
    SEQUENCE {
        dot1dPortGmrpStatus
            EnabledStatus,
        dot1dPortGmrpFailedRegistrations
            Counter32,
        dot1dPortGmrpLastPduOrigin
            MacAddress
    }

dot1dPortGmrpStatus OBJECT-TYPE
    SYNTAX      EnabledStatus
    MAX-ACCESS  read-write
    STATUS      current
    DESCRIPTION
        "The state of GMRP operation on this port.  The value
        enabled(1) indicates that GMRP is enabled on this port,
        in all VLANs, as long as dot1dGmrpStatus is also enabled
        for this device.  When disabled(2) but dot1dGmrpStatus
        is still enabled for the device, GMRP is disabled on
        this port in all VLANs: any GMRP packets received will
        be silently discarded and no GMRP registrations will be
        propagated from other ports.  This object affects all
        GMRP Applicant and Registrar state machines on this
        port.  A transition from disabled(2) to enabled(1) will





Bell, et al.               Expires April 1999                  [Page 39]







Internet Draft           Bridge MIB Extensions              October 1998


        cause a reset of all GMRP state machines on this port
        and zeroing of all related counters."
    DEFVAL      { enabled }
    ::= { dot1dPortGmrpEntry 1 }

dot1dPortGmrpFailedRegistrations OBJECT-TYPE
    SYNTAX      Counter32
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "The total number of failed GMRP registrations, for any
        reason, in all VLANs, on this port."
    ::= { dot1dPortGmrpEntry 2 }

dot1dPortGmrpLastPduOrigin OBJECT-TYPE
    SYNTAX      MacAddress
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "The Source MAC Address of the last GMRP message
        received on this port."
    ::= { dot1dPortGmrpEntry 3 }

-- -------------------------------------------------------------
--  High Capacity Port Table for Transparent Bridges
-- -------------------------------------------------------------

dot1dTpHCPortTable OBJECT-TYPE
    SYNTAX      SEQUENCE OF Dot1dTpHCPortEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "A table that contains information about every high
        capacity port that is associated with this transparent
        bridge."
    ::= { dot1dTp 5 }

dot1dTpHCPortEntry OBJECT-TYPE
    SYNTAX      Dot1dTpHCPortEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "Statistics information for each high capacity port of a
        transparent bridge."
    INDEX   { dot1dTpPort }





Bell, et al.               Expires April 1999                  [Page 40]







Internet Draft           Bridge MIB Extensions              October 1998


    ::= { dot1dTpHCPortTable 1 }

Dot1dTpHCPortEntry ::=
    SEQUENCE {
        dot1dTpHCPortInFrames
            Counter64,
        dot1dTpHCPortOutFrames
            Counter64,
        dot1dTpHCPortInDiscards
            Counter64
    }

dot1dTpHCPortInFrames OBJECT-TYPE
    SYNTAX      Counter64
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "The number of frames that have been received by this
        port from its segment.  Note that a frame received on
        the interface corresponding to this port is only counted
        by this object if and only if it is for a protocol being
        processed by the local bridging function, including
        bridge management frames."
    REFERENCE
        "ISO/IEC 15802-3 Section 14.6.1.1.3"
    ::= { dot1dTpHCPortEntry 1 }

dot1dTpHCPortOutFrames OBJECT-TYPE
    SYNTAX      Counter64
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "The number of frames that have been transmitted by this
        port to its segment.  Note that a frame transmitted on
        the interface corresponding to this port is only counted
        by this object if and only if it is for a protocol being
        processed by the local bridging function, including
        bridge management frames."
    REFERENCE
        "ISO/IEC 15802-3 Section 14.6.1.1.3"
    ::= { dot1dTpHCPortEntry 2 }

dot1dTpHCPortInDiscards OBJECT-TYPE
    SYNTAX      Counter64
    MAX-ACCESS  read-only





Bell, et al.               Expires April 1999                  [Page 41]







Internet Draft           Bridge MIB Extensions              October 1998


    STATUS      current
    DESCRIPTION
        "Count of valid frames received which were discarded
        (i.e., filtered) by the Forwarding Process."
    REFERENCE
        "ISO/IEC 15802-3 Section 14.6.1.1.3"
    ::= { dot1dTpHCPortEntry 3 }

-- -------------------------------------------------------------
-- IEEE 802.1p MIB - Conformance Information
-- -------------------------------------------------------------

pBridgeConformance OBJECT IDENTIFIER ::= { pBridgeMIB 2 }

pBridgeGroups OBJECT IDENTIFIER ::= { pBridgeConformance 1 }

pBridgeCompliances OBJECT IDENTIFIER
    ::= { pBridgeConformance 2 }

-- -------------------------------------------------------------
-- units of conformance
-- -------------------------------------------------------------

pBridgeExtCapGroup OBJECT-GROUP
    OBJECTS {
        dot1dDeviceCapabilities,
        dot1dPortCapabilities
    }
    STATUS      current
    DESCRIPTION
        "A collection of objects indicating the optional
        capabilites of the device."
    ::= { pBridgeGroups 1 }

pBridgeDeviceGmrpGroup OBJECT-GROUP
    OBJECTS {
        dot1dGmrpStatus
    }
    STATUS      current
    DESCRIPTION
        "A collection of objects providing device-level control
        for the Multicast Filtering extended bridge services."
    ::= { pBridgeGroups 2 }

pBridgeDevicePriorityGroup OBJECT-GROUP





Bell, et al.               Expires April 1999                  [Page 42]







Internet Draft           Bridge MIB Extensions              October 1998


    OBJECTS {
        dot1dTrafficClassesEnabled
    }
    STATUS      current
    DESCRIPTION
        "A collection of objects providing device-level control
        for the Priority services."
    ::= { pBridgeGroups 3 }

pBridgeDefaultPriorityGroup OBJECT-GROUP
    OBJECTS {
        dot1dPortDefaultUserPriority
    }
    STATUS      current
    DESCRIPTION
        "A collection of objects defining the User Priority
        applicable to each port for media which do not support
        native User Priority."
    ::= { pBridgeGroups 4 }

pBridgeRegenPriorityGroup OBJECT-GROUP
    OBJECTS {
        dot1dRegenUserPriority
    }
    STATUS      current
    DESCRIPTION
        "A collection of objects defining the User Priorities
        applicable to each port for media which support native
        User Priority."
    ::= { pBridgeGroups 5 }

pBridgePriorityGroup OBJECT-GROUP
    OBJECTS {
        dot1dPortNumTrafficClasses,
        dot1dTrafficClass
    }
    STATUS      current
    DESCRIPTION
        "A collection of objects defining the traffic classes
        within a bridge for each evaluated User Priority."
    ::= { pBridgeGroups 6 }

pBridgeAccessPriorityGroup OBJECT-GROUP
    OBJECTS {
        dot1dPortOutboundAccessPriority





Bell, et al.               Expires April 1999                  [Page 43]







Internet Draft           Bridge MIB Extensions              October 1998


    }
    STATUS      current
    DESCRIPTION
        "A collection of objects defining the media dependent
        outbound access level for each priority."
    ::= { pBridgeGroups 7 }

pBridgePortGarpGroup OBJECT-GROUP
    OBJECTS {
        dot1dPortGarpJoinTime,
        dot1dPortGarpLeaveTime,
        dot1dPortGarpLeaveAllTime
    }
    STATUS      current
    DESCRIPTION
        "A collection of objects providing port level control
        and status information for GARP operation."
    ::= { pBridgeGroups 8 }

pBridgePortGmrpGroup OBJECT-GROUP
    OBJECTS {
        dot1dPortGmrpStatus,
        dot1dPortGmrpFailedRegistrations,
        dot1dPortGmrpLastPduOrigin
    }
    STATUS      current
    DESCRIPTION
        "A collection of objects providing port level control
        and status information for GMRP operation."
    ::= { pBridgeGroups 9 }

pBridgeHCPortGroup OBJECT-GROUP
    OBJECTS {
        dot1dTpHCPortInFrames,
        dot1dTpHCPortOutFrames,
        dot1dTpHCPortInDiscards
    }
    STATUS      current
    DESCRIPTION
        "A collection of objects providing 64-bit statistics
         counters for high capacity bridge ports."
    ::= { pBridgeGroups 10 }

-- -------------------------------------------------------------
-- compliance statements





Bell, et al.               Expires April 1999                  [Page 44]







Internet Draft           Bridge MIB Extensions              October 1998


-- -------------------------------------------------------------

pBridgeCompliance MODULE-COMPLIANCE
    STATUS  current
    DESCRIPTION
        "The compliance statement for device support of Priority
        and Multicast Filtering extended bridging services."

    MODULE
        MANDATORY-GROUPS { pBridgeExtCapGroup }

        GROUP       pBridgeDeviceGmrpGroup
        DESCRIPTION
            "This group is mandatory for devices supporting the
            GMRP application, defined by the extended filtering
            services."

        GROUP       pBridgeDevicePriorityGroup
        DESCRIPTION
            "This group is mandatory only for devices supporting
            the priority forwarding operations defined by the
            extended bridge services."

        GROUP       pBridgeDefaultPriorityGroup
        DESCRIPTION
            "This group is mandatory only for devices supporting
            the priority forwarding operations defined by the
            extended bridge services with media types, such as
            Ethernet, that do not support native User Priority."

        GROUP       pBridgeRegenPriorityGroup
        DESCRIPTION
            "This group is mandatory only for devices supporting
            the priority forwarding operations defined by the
            extended bridge services with media types that also
            support native User Priority."

        GROUP       pBridgePriorityGroup
        DESCRIPTION
            "This group is mandatory only for devices supporting
            the priority forwarding operations defined by the
            extended bridge services."

        GROUP       pBridgeAccessPriorityGroup
        DESCRIPTION





Bell, et al.               Expires April 1999                  [Page 45]







Internet Draft           Bridge MIB Extensions              October 1998


            "This group is optional."

        GROUP       pBridgePortGarpGroup
        DESCRIPTION
            "This group is mandatory for devices supporting any
            of the GARP applications: e.g. GMRP, defined by the
            extended filtering services of 802.1D; or GVRP,
            defined by 802.1Q (refer to the Q-BRIDGE-MIB for
            conformance statements for GVRP)."

        GROUP       pBridgePortGmrpGroup
        DESCRIPTION
            "This group is mandatory for devices supporting the
            GMRP application, defined by the extended filtering
            services."

        GROUP       pBridgeHCPortGroup
        DESCRIPTION
            "This group is mandatory if the network interface
            to which this bridge port is attached has the
            value of the corresponding instance of ifSpeed
            greater than 650,000,000 bits/second."

        OBJECT      dot1dPortNumTrafficClasses
        MIN-ACCESS  read-only
        DESCRIPTION
            "Write access is not required."

        OBJECT      dot1dTrafficClass
        MIN-ACCESS  read-only
        DESCRIPTION
            "Write access is not required."

        OBJECT      dot1dRegenUserPriority
        MIN-ACCESS  read-only
        DESCRIPTION
            "Write access is not required."

       ::= { pBridgeCompliances 1 }

END









Bell, et al.               Expires April 1999                  [Page 46]







Internet Draft           Bridge MIB Extensions              October 1998


7.  Definitions for Virtual Bridge MIB


Q-BRIDGE-MIB DEFINITIONS ::= BEGIN

-- -------------------------------------------------------------
-- IEEE 802.1Q MIB
-- -------------------------------------------------------------

IMPORTS
    MODULE-IDENTITY, OBJECT-TYPE,
    Counter32, Counter64, UInteger32
        FROM SNMPv2-SMI
    RowStatus, TruthValue, DisplayString, TEXTUAL-CONVENTION
        FROM SNMPv2-TC
    MODULE-COMPLIANCE, OBJECT-GROUP
        FROM SNMPv2-CONF
    MacAddress, dot1dBridge, dot1dBasePortEntry, dot1dBasePort
        FROM BRIDGE-MIB
    EnabledStatus
        FROM P-BRIDGE-MIB
    TimeFilter
        FROM RMON2-MIB;

qBridgeMIB MODULE-IDENTITY
    LAST-UPDATED "9810070000Z"
    ORGANIZATION "IETF Bridge MIB Working Group"
    CONTACT-INFO
        "       Les Bell
        Postal: 3Com Europe Ltd.
                3Com Centre, Boundary Way
                Hemel Hempstead, Herts. HP2 7YU
                UK
         Phone: +44 1442 438025
         Email: Les_Bell@3Com.com

                Andrew Smith
        Postal: Extreme Networks
                10460 Bandley Drive
                Cupertino CA 95014
                USA
         Phone: +1 (408) 342 0999
         Email: andrew@extremenetworks.com

                Paul Langille





Bell, et al.               Expires April 1999                  [Page 47]







Internet Draft           Bridge MIB Extensions              October 1998


        Postal: Acacia Networks, Inc.
                650 Suffolk St.
                Lowell, MA 01854
                USA
         Phone: +1 (978) 275 0662
         Email: plangille@acacianet.com

                Anil Rijhsinghani
        Postal: Cabletron Systems
                50 Minuteman Road
                Andover MA 01810
                USA
         Phone: +1 (978) 684-1295
         Email: anil@cabletron.com

                Keith McCloghrie
        Postal: cisco Systems, Inc.
                170 West Tasman Drive
                San Jose, CA 95134-1706
                USA
         Phone: +1 (408) 526 5260
         Email: kzm@cisco.com"
    DESCRIPTION
        "The VLAN Bridge MIB module for managing Virtual Bridged
        Local Area Networks, as defined by IEEE 802.1Q-1998."

    REVISION    "9810070000Z"
    DESCRIPTION "Updated with revisions from August 1998 Plenary
                meeting."

    ::= { dot1dBridge 7 }

qBridgeMIBObjects OBJECT IDENTIFIER ::= { qBridgeMIB 1 }

-- -------------------------------------------------------------
-- Textual Conventions
-- -------------------------------------------------------------

PortList ::= TEXTUAL-CONVENTION
    STATUS      current
    DESCRIPTION
        "Each octet within this value specifies a set of eight
        ports, with the first octet specifying ports 1 through
        8, the second octet specifying ports 9 through 16, etc.
        Within each octet, the most significant bit represents





Bell, et al.               Expires April 1999                  [Page 48]







Internet Draft           Bridge MIB Extensions              October 1998


        the lowest numbered port, and the least significant bit
        represents the highest numbered port.  Thus, each port
        of the bridge is represented by a single bit within the
        value of this object.  If that bit has a value of '1'
        then that port is included in the set of ports; the port
        is not included if its bit has a value of '0'."
    SYNTAX      OCTET STRING

VlanIndex ::= TEXTUAL-CONVENTION
    STATUS      current
    DESCRIPTION
        "A value used to index per-VLAN tables: values of 0 and
        4095 are not permitted; if the value is between 1 and
        4094 inclusive, it represents an 802.1Q VLAN-ID with
        global scope within a given bridged domain (see VlanId
        textual convention).  If the value is greater than 4095
        then it represents a VLAN with scope local to the
        particular agent."
    SYNTAX      UInteger32

VlanId ::= TEXTUAL-CONVENTION
    STATUS      current
    DESCRIPTION
        "The 12-bit VLAN ID used in the VLAN Tag header."
    SYNTAX      INTEGER (1..4094)

-- -------------------------------------------------------------
-- groups in the Q-BRIDGE MIB
-- -------------------------------------------------------------

dot1qBase       OBJECT IDENTIFIER ::= { qBridgeMIBObjects 1 }
dot1qTp         OBJECT IDENTIFIER ::= { qBridgeMIBObjects 2 }
dot1qStatic     OBJECT IDENTIFIER ::= { qBridgeMIBObjects 3 }
dot1qVlan       OBJECT IDENTIFIER ::= { qBridgeMIBObjects 4 }

-- -------------------------------------------------------------

-- -------------------------------------------------------------
-- dot1qBase group
-- -------------------------------------------------------------

dot1qVlanVersionNumber OBJECT-TYPE
    SYNTAX      INTEGER {
                    version1(1)
                }





Bell, et al.               Expires April 1999                  [Page 49]







Internet Draft           Bridge MIB Extensions              October 1998


    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "The version number of IEEE 802.1Q that this device
        supports."
    REFERENCE
        "IEEE 802.1Q/D11 Section 12.10.1.1"
    ::= { dot1qBase 1 }

dot1qMaxVlanId OBJECT-TYPE
    SYNTAX      VlanId
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "The maximum IEEE 802.1Q VLAN ID that this device
        supports."
    REFERENCE
        "IEEE 802.1Q/D11 Section 9.3.2.3"
    ::= { dot1qBase 2 }

dot1qMaxSupportedVlans OBJECT-TYPE
    SYNTAX      UInteger32
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "The maximum number of IEEE 802.1Q VLANs that this
        device supports."
    REFERENCE
        "IEEE 802.1Q/D11 Section 12.10.1.1"
    ::= { dot1qBase 3 }

dot1qNumVlans OBJECT-TYPE
    SYNTAX      UInteger32
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "The current number of IEEE 802.1Q VLANs that are
        configured in this device."
    REFERENCE
        "IEEE 802.1Q/D11 Section 12.7.1.1"
    ::= { dot1qBase 4 }

dot1qGvrpStatus OBJECT-TYPE
    SYNTAX      EnabledStatus
    MAX-ACCESS  read-write





Bell, et al.               Expires April 1999                  [Page 50]







Internet Draft           Bridge MIB Extensions              October 1998


    STATUS      current
    DESCRIPTION
        "The administrative status requested by management for
        GVRP.  The value enabled(1) indicates that GVRP should
        be enabled on this device, on all ports for which it has
        not been specifically disabled.  When disabled(2), GVRP
        is disabled on all ports and all GVRP packets will be
        forwarded transparently.  This object affects all GVRP
        Applicant and Registrar state machines.  A transition
        from disabled(2) to enabled(1) will cause a reset of all
        GVRP state machines on all ports and zeroing of all
        related counters."
    DEFVAL      { enabled }
    ::= { dot1qBase 5 }

-- -------------------------------------------------------------
-- the dot1qTp group
-- -------------------------------------------------------------

-- -------------------------------------------------------------
-- the current Filtering Database Table
-- -------------------------------------------------------------

dot1qFdbTable OBJECT-TYPE
    SYNTAX      SEQUENCE OF Dot1qFdbEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "A table that contains configuration and control
        information for each Filtering Database currently
        operating on this device.  Entries in this table appear
        automatically when VLANs are assigned FDB IDs in the
        dot1qVlanCurrentTable."
    ::= { dot1qTp 2 }

dot1qFdbEntry OBJECT-TYPE
    SYNTAX      Dot1qFdbEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "Information about a specific Filtering Database."
    INDEX   { dot1qFdbId }
    ::= { dot1qFdbTable 1 }

Dot1qFdbEntry ::=





Bell, et al.               Expires April 1999                  [Page 51]







Internet Draft           Bridge MIB Extensions              October 1998


    SEQUENCE {
        dot1qFdbId
            UInteger32,
        dot1qFdbDynamicCount
            Counter32
    }

dot1qFdbId OBJECT-TYPE
    SYNTAX       UInteger32
    MAX-ACCESS   not-accessible
    STATUS       current
    DESCRIPTION
        "The identity of this Filtering Database."
    ::= { dot1qFdbEntry 1 }

dot1qFdbDynamicCount OBJECT-TYPE
    SYNTAX       Counter32
    MAX-ACCESS   read-only
    STATUS       current
    DESCRIPTION
        "The current number of dynamic entries in this
        Filtering Database."
    REFERENCE
        "IEEE 802.1Q/D11 Section 12.7.1.1.3"
    ::= { dot1qFdbEntry 2 }

-- -------------------------------------------------------------
-- Multiple Forwarding Databases for 802.1Q Transparent devices
-- This table is an alternative to the dot1dTpFdbTable,
-- previously defined for 802.1D devices which only support a
-- single Forwarding Database.
-- -------------------------------------------------------------

dot1qTpFdbTable OBJECT-TYPE
    SYNTAX      SEQUENCE OF Dot1qTpFdbEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "A table that contains information about unicast entries
        for which the device has forwarding and/or filtering
        information.  This information is used by the
        transparent bridging function in determining how to
        propagate a received frame."
    REFERENCE
        "IEEE 802.1Q/D11 Section 12.7.7"





Bell, et al.               Expires April 1999                  [Page 52]







Internet Draft           Bridge MIB Extensions              October 1998


    ::= { dot1qTp 3 }

dot1qTpFdbEntry OBJECT-TYPE
    SYNTAX      Dot1qTpFdbEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "Information about a specific unicast MAC address for
        which the device has some forwarding and/or filtering
        information."
    INDEX   { dot1qFdbId, dot1qTpFdbAddress }
    ::= { dot1qTpFdbTable 1 }

Dot1qTpFdbEntry ::=
    SEQUENCE {
        dot1qTpFdbAddress
            MacAddress,
        dot1qTpFdbPort
            INTEGER,
        dot1qTpFdbStatus
            INTEGER
    }

dot1qTpFdbAddress OBJECT-TYPE
    SYNTAX      MacAddress
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "A unicast MAC address for which the device has
        forwarding and/or filtering information."
    ::= { dot1qTpFdbEntry 1 }

dot1qTpFdbPort OBJECT-TYPE
    SYNTAX      INTEGER (0..65535)
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "Either the value '0', or the port number of the port on
        which a frame having a source address equal to the value
        of the corresponding instance of dot1qTpFdbAddress has
        been seen.  A value of '0' indicates that the port
        number has not been learned but that the device does
        have some forwarding/filtering information about this
        address (e.g. in the dot1qStaticUnicastTable).
        Implementors are encouraged to assign the port value to





Bell, et al.               Expires April 1999                  [Page 53]







Internet Draft           Bridge MIB Extensions              October 1998


        this object whenever it is learned even for addresses
        for which the corresponding value of dot1qTpFdbStatus is
        not learned(3)."
    ::= { dot1qTpFdbEntry 2 }

dot1qTpFdbStatus OBJECT-TYPE
    SYNTAX      INTEGER {
                    other(1),
                    invalid(2),
                    learned(3),
                    self(4),
                    mgmt(5)
                }
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "The status of this entry.  The meanings of the values
        are:
            other(1) - none of the following.  This may include
                the case where some other MIB object (not the
                corresponding instance of dot1qTpFdbPort, nor an
                entry in the dot1qStaticUnicastTable) is being
                used to determine if and how frames addressed to
                the value of the corresponding instance of
                dot1qTpFdbAddress are being forwarded.
            invalid(2) - this entry is no longer valid (e.g., it
                was learned but has since aged out), but has not
                yet been flushed from the table.
            learned(3) - the value of the corresponding instance
                of dot1qTpFdbPort was learned and is being used.
            self(4) - the value of the corresponding instance of
                dot1qTpFdbAddress represents one of the device's
                addresses.  The corresponding instance of
                dot1qTpFdbPort indicates which of the device's
                ports has this address.
            mgmt(5) - the value of the corresponding instance of
                dot1qTpFdbAddress is also the value of an
                existing instance of dot1qStaticAddress."
    ::= { dot1qTpFdbEntry 3 }

-- -------------------------------------------------------------
-- Dynamic Group Registration Table
-- -------------------------------------------------------------

dot1qTpGroupTable OBJECT-TYPE





Bell, et al.               Expires April 1999                  [Page 54]







Internet Draft           Bridge MIB Extensions              October 1998


    SYNTAX      SEQUENCE OF Dot1qTpGroupEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "A table containing filtering information for VLANs
        configured into the bridge by (local or network)
        management, or learnt dynamically, specifying the set of
        ports to which frames received on a VLAN for this FDB
        and containing a specific Group destination address are
        allowed to be forwarded."
    ::= { dot1qTp 4 }

dot1qTpGroupEntry OBJECT-TYPE
    SYNTAX      Dot1qTpGroupEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "Filtering information configured into the bridge by
        management, or learnt dynamically, specifying the set of
        ports to which frames received on a VLAN and containing
        a specific Group destination address, are allowed to be
        forwarded.  The subset of these ports learnt dynamically
        is also provided."
    INDEX   { dot1qVlanIndex, dot1qTpGroupAddress }
    ::= { dot1qTpGroupTable 1 }

Dot1qTpGroupEntry ::=
    SEQUENCE {
        dot1qTpGroupAddress
            MacAddress,
        dot1qTpGroupEgressPorts
            PortList,
        dot1qTpGroupLearnt
            PortList
    }

dot1qTpGroupAddress OBJECT-TYPE
    SYNTAX      MacAddress
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "The destination Group MAC address in a frame to which
        this entry's filtering information applies."
    ::= { dot1qTpGroupEntry 1 }






Bell, et al.               Expires April 1999                  [Page 55]







Internet Draft           Bridge MIB Extensions              October 1998


dot1qTpGroupEgressPorts OBJECT-TYPE
    SYNTAX      PortList
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "The complete set of ports, in this Filtering Database,
        to which frames destined for this Group MAC address are
        currently being explicitly forwarded.  This does not
        include ports for which this address is only implicitly
        forwarded, in the dot1qForwardAllPorts list."
    ::= { dot1qTpGroupEntry 2 }

dot1qTpGroupLearnt OBJECT-TYPE
    SYNTAX      PortList
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "The subset of ports in dot1qTpGroupEgressPorts which
        were learnt by GMRP or some other dynamic mechanism, in
        this Filtering database."
    ::= { dot1qTpGroupEntry 3 }

-- -------------------------------------------------------------
-- Service Requirements Group
-- -------------------------------------------------------------

dot1qForwardAllTable OBJECT-TYPE
    SYNTAX      SEQUENCE OF Dot1qForwardAllEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "A table containing forwarding information for each
        VLAN, specifying the set of ports to which forwarding of
        all multicasts applies, configured statically by
        management or dynamically by GMRP.  An entry appears in
        this table for all VLANs that are currently
        instantiated."
    REFERENCE
        "IEEE 802.1Q/D11 Section 12.7.2, 12.7.7"
    ::= { dot1qTp 5 }

dot1qForwardAllEntry OBJECT-TYPE
    SYNTAX      Dot1qForwardAllEntry
    MAX-ACCESS  not-accessible
    STATUS      current





Bell, et al.               Expires April 1999                  [Page 56]







Internet Draft           Bridge MIB Extensions              October 1998


    DESCRIPTION
        "Forwarding information for a VLAN, specifying the set
        of ports to which all multicasts should be forwarded,
        configured statically by management or dynamically by
        GMRP."
    INDEX   { dot1qVlanIndex }
    ::= { dot1qForwardAllTable 1 }

Dot1qForwardAllEntry ::=
    SEQUENCE {
        dot1qForwardAllPorts
            PortList,
        dot1qForwardAllStaticPorts
            PortList
    }

dot1qForwardAllPorts OBJECT-TYPE
    SYNTAX      PortList
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "The complete set of ports in this VLAN to which all
        multicast group-addressed frames are to be forwarded.
        This includes ports for which this need has been
        determined dynamically by GMRP, or configured statically
        by management."
    ::= { dot1qForwardAllEntry 1 }

dot1qForwardAllStaticPorts OBJECT-TYPE
    SYNTAX      PortList
    MAX-ACCESS  read-write
    STATUS      current
    DESCRIPTION
        "The set of ports configured by management in this VLAN
        to which all multicast group-addressed frames are to be
        forwarded.  Ports entered in this list will also appear
        in the complete set shown by dot1qForwardAllPorts.  This
        value will be restored after the device is reset.
        This only applies to ports that are members of the VLAN,
        defined by dot1qVlanCurrentEgressPorts.  The default
        value is a string of ones of appropriate length, to
        indicate standard non-EFS behaviour, i.e. forward all
        multicasts to all ports."
    ::= { dot1qForwardAllEntry 2 }






Bell, et al.               Expires April 1999                  [Page 57]







Internet Draft           Bridge MIB Extensions              October 1998


dot1qForwardUnregisteredTable OBJECT-TYPE
    SYNTAX      SEQUENCE OF Dot1qForwardUnregisteredEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "A table containing forwarding information for each
        VLAN, specifying the set of ports to which forwarding of
        multicast group-addressed frames for which there is no
        more specific forwarding information applies.  This is
        configured statically by management and determined
        dynamically by GMRP.  An entry appears in this table for
        all VLANs that are currently instantiated."
    REFERENCE
        "IEEE 802.1Q/D11 Section 12.7.2, 12.7.7"
    ::= { dot1qTp 6 }

dot1qForwardUnregisteredEntry OBJECT-TYPE
    SYNTAX      Dot1qForwardUnregisteredEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "Forwarding information for a VLAN, specifying the set
        of ports to which all multicasts for which there is no
        more specific forwarding information shall be forwarded.
        This is configured statically by management or
        dynamically by GMRP."
    INDEX   { dot1qVlanIndex }
    ::= { dot1qForwardUnregisteredTable 1 }

Dot1qForwardUnregisteredEntry ::=
    SEQUENCE {
        dot1qForwardUnregisteredPorts
            PortList,
        dot1qForwardUnregisteredStaticPorts
            PortList
    }

dot1qForwardUnregisteredPorts OBJECT-TYPE
    SYNTAX      PortList
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "The complete set of ports in this VLAN to which
        multicast group-addressed frames for which there is no
        more specific forwarding information will be forwarded.





Bell, et al.               Expires April 1999                  [Page 58]







Internet Draft           Bridge MIB Extensions              October 1998


        This includes ports for which this need has been
        determined dynamically by GMRP, or configured statically
        by management."
    ::= { dot1qForwardUnregisteredEntry 1 }

dot1qForwardUnregisteredStaticPorts OBJECT-TYPE
    SYNTAX      PortList
    MAX-ACCESS  read-write
    STATUS      current
    DESCRIPTION
        "The set of ports configured by management, in this
        VLAN, to which multicast group-addressed frames for
        which there is no more specific forwarding information
        are to be forwarded.  Ports entered in this list will
        also appear in the complete set shown by
        dot1qForwardUnregisteredPorts.  This value will be
        restored after the device is reset.  The default value
        is a string of zeros of appropriate length, although
        this has no effect with the default value of
        dot1qForwardAllStaticPorts."
    ::= { dot1qForwardUnregisteredEntry 2 }

-- -------------------------------------------------------------
-- The Static (Destination-Address Filtering) Database
-- -------------------------------------------------------------

dot1qStaticUnicastTable OBJECT-TYPE
    SYNTAX      SEQUENCE OF Dot1qStaticUnicastEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "A table containing filtering information for Unicast
        MAC addresses for each Filtering Database, configured
        into the device by (local or network) management
        specifying the set of ports to which frames received
        from specific ports and containing specific unicast
        destination addresses are allowed to be forwarded.  A
        value of zero in this table as the port number from
        which frames with a specific destination address are
        received, is used to specify all ports for which there
        is no specific entry in this table for that particular
        destination address.  Entries are valid for unicast
        addresses only."
    REFERENCE
        "IEEE 802.1Q/D11 Section 12.7.7,





Bell, et al.               Expires April 1999                  [Page 59]







Internet Draft           Bridge MIB Extensions              October 1998


        ISO/IEC 15802-3 Section 7.9.1"
    ::= { dot1qStatic 1 }

dot1qStaticUnicastEntry OBJECT-TYPE
    SYNTAX      Dot1qStaticUnicastEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "Filtering information configured into the device by
        (local or network) management specifying the set of
        ports to which frames received from a specific port and
        containing a specific unicast destination address are
        allowed to be forwarded."
    INDEX   {
        dot1qFdbId,
        dot1qStaticUnicastAddress,
        dot1qStaticUnicastReceivePort
    }
    ::= { dot1qStaticUnicastTable 1 }

Dot1qStaticUnicastEntry ::=
    SEQUENCE {
        dot1qStaticUnicastAddress
            MacAddress,
        dot1qStaticUnicastReceivePort
            INTEGER,
        dot1qStaticUnicastAllowedToGoTo
            PortList,
        dot1qStaticUnicastStatus
            INTEGER
    }

dot1qStaticUnicastAddress OBJECT-TYPE
    SYNTAX      MacAddress
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "The destination MAC address in a frame to which this
        entry's filtering information applies.  This object must
        take the value of a unicast address."
    ::= { dot1qStaticUnicastEntry 1 }

dot1qStaticUnicastReceivePort OBJECT-TYPE
    SYNTAX      INTEGER (0..65535)
    MAX-ACCESS  not-accessible





Bell, et al.               Expires April 1999                  [Page 60]







Internet Draft           Bridge MIB Extensions              October 1998


    STATUS      current
    DESCRIPTION
        "Either the value '0', or the port number of the port
        from which a frame must be received in order for this
        entry's filtering information to apply.  A value of zero
        indicates that this entry applies on all ports of the
        device for which there is no other applicable entry."
    ::= { dot1qStaticUnicastEntry 2 }

dot1qStaticUnicastAllowedToGoTo OBJECT-TYPE
    SYNTAX      PortList
    MAX-ACCESS  read-write
    STATUS      current
    DESCRIPTION
        "The set of ports a specific unicast address may be
        dynamically learnt on.  The dot1qTpFdbTable will have an
        equivalent entry with a dot1qTpFdbPort value of '0'
        until this address has been learnt, when it will be
        updated with the port the address has been seen on.
        This only applies to ports that are members of the VLAN,
        defined by dot1qVlanCurrentEgressPorts.  The default
        value of this object is a string of ones of appropriate
        length."
    ::= { dot1qStaticUnicastEntry 3 }

dot1qStaticUnicastStatus OBJECT-TYPE
    SYNTAX      INTEGER {
                    other(1),
                    invalid(2),
                    permanent(3),
                    deleteOnReset(4),
                    deleteOnTimeout(5)
                }
    MAX-ACCESS  read-write
    STATUS      current
    DESCRIPTION
        "This object indicates the status of this entry.
            other(1) - this entry is currently in use but
                the conditions under which it will remain
                so differ from the following values.
            invalid(2) - writing this value to the object
                removes the corresponding entry.
            permanent(3) - this entry is currently in use
                and will remain so after the next reset of
                the bridge.





Bell, et al.               Expires April 1999                  [Page 61]







Internet Draft           Bridge MIB Extensions              October 1998


            deleteOnReset(4) - this entry is currently in
                use and will remain so until the next
                reset of the bridge.
            deleteOnTimeout(5) - this entry is currently in
                use and will remain so until it is aged out."
    DEFVAL      { permanent }
    ::= { dot1qStaticUnicastEntry 4 }

dot1qStaticMulticastTable OBJECT-TYPE
    SYNTAX      SEQUENCE OF Dot1qStaticMulticastEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "A table containing filtering information for Multicast
        and Broadcast MAC addresses for each VLAN, configured
        into the device by (local or network) management
        specifying the set of ports to which frames received
        from specific ports and containing specific Multicast
        and Broadcast destination addresses are allowed to be
        forwarded.  A value of zero in this table as the port
        number from which frames with a specific destination
        address are received, is used to specify all ports for
        which there is no specific entry in this table for that
        particular destination address.  Entries are valid for
        Multicast and Broadcast addresses only."
    REFERENCE
        "IEEE 802.1Q/D11 Section 12.7.7,
        ISO/IEC 15802-3 Section 7.9.1"
    ::= { dot1qStatic 2 }

dot1qStaticMulticastEntry OBJECT-TYPE
    SYNTAX      Dot1qStaticMulticastEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "Filtering information configured into the device by
        (local or network) management specifying the set of
        ports to which frames received from this specific port
        for this VLAN and containing this Multicast or Broadcast
        destination address are allowed to be forwarded."
    INDEX   {
        dot1qVlanIndex,
        dot1qStaticMulticastAddress,
        dot1qStaticMulticastReceivePort
    }





Bell, et al.               Expires April 1999                  [Page 62]







Internet Draft           Bridge MIB Extensions              October 1998


    ::= { dot1qStaticMulticastTable 1 }

Dot1qStaticMulticastEntry ::=
    SEQUENCE {
        dot1qStaticMulticastAddress
            MacAddress,
        dot1qStaticMulticastReceivePort
            INTEGER,
        dot1qStaticMulticastStaticEgressPorts
            PortList,
        dot1qStaticMulticastForbiddenEgressPorts
            PortList,
        dot1qStaticMulticastStatus
            INTEGER
    }

dot1qStaticMulticastAddress OBJECT-TYPE
    SYNTAX      MacAddress
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "The destination MAC address in a frame to which this
        entry's filtering information applies.  This object must
        take the value of a Multicast or Broadcast address."
    ::= { dot1qStaticMulticastEntry 1 }

dot1qStaticMulticastReceivePort OBJECT-TYPE
    SYNTAX      INTEGER (0..65535)
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "Either the value '0', or the port number of the port
        from which a frame must be received in order for this
        entry's filtering information to apply.  A value of zero
        indicates that this entry applies on all ports of the
        device for which there is no other applicable entry."
    ::= { dot1qStaticMulticastEntry 2 }

dot1qStaticMulticastStaticEgressPorts OBJECT-TYPE
    SYNTAX      PortList
    MAX-ACCESS  read-write
    STATUS      current
    DESCRIPTION
        "The set of ports to which frames received from a
        specific port and destined for a specific Multicast or





Bell, et al.               Expires April 1999                  [Page 63]







Internet Draft           Bridge MIB Extensions              October 1998


        Broadcast MAC address must be forwarded, regardless of
        any dynamic information e.g. from GMRP.  A port may not
        be added in this set if it is already a member of the
        set of ports in dot1qStaticMulticastForbiddenEgressPorts.
        The default value of this object is a string of ones of
        appropriate length."
    ::= { dot1qStaticMulticastEntry 3 }

dot1qStaticMulticastForbiddenEgressPorts OBJECT-TYPE
    SYNTAX      PortList
    MAX-ACCESS  read-write
    STATUS      current
    DESCRIPTION
        "The set of ports to which frames received from a
        specific port and destined for a specific Multicast or
        Broadcast MAC address must not be forwarded, regardless
        of any dynamic information e.g. from GMRP.  A port may
        not be added in this set if it is already a member of the
        set of ports in dot1qStaticMulticastStaticEgressPorts.
        The default value of this object is a string of zeros of
        appropriate length."
    ::= { dot1qStaticMulticastEntry 4 }

dot1qStaticMulticastStatus OBJECT-TYPE
    SYNTAX      INTEGER {
                    other(1),
                    invalid(2),
                    permanent(3),
                    deleteOnReset(4),
                    deleteOnTimeout(5)
                }
    MAX-ACCESS  read-write
    STATUS      current
    DESCRIPTION
        "This object indicates the status of this entry.
            other(1) - this entry is currently in use but
                the conditions under which it will remain
                so differ from the following values.
            invalid(2) - writing this value to the object
                removes the corresponding entry.
            permanent(3) - this entry is currently in use
                and will remain so after the next reset of
                the bridge.
            deleteOnReset(4) - this entry is currently in
                use and will remain so until the next





Bell, et al.               Expires April 1999                  [Page 64]







Internet Draft           Bridge MIB Extensions              October 1998


                reset of the bridge.
            deleteOnTimeout(5) - this entry is currently in
                use and will remain so until it is aged out."
    DEFVAL      { permanent }
    ::= { dot1qStaticMulticastEntry 5 }

-- -------------------------------------------------------------
-- The Current VLAN Database
-- -------------------------------------------------------------

dot1qVlanNumDeletes OBJECT-TYPE
    SYNTAX     Counter32
    MAX-ACCESS read-only
    STATUS     current
    DESCRIPTION
        "The number of times a VLAN entry has been deleted from
        the dot1qVlanCurrentTable (for any reason).  If an entry
        is deleted, then inserted, and then deleted, this
        counter will be incremented by 2."
    ::= { dot1qVlan 1 }

dot1qVlanCurrentTable OBJECT-TYPE
    SYNTAX      SEQUENCE OF Dot1qVlanEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "A table containing current configuration information
        for each VLAN currently configured into the device by
        (local or network) management, or dynamically created
        as a result of GVRP requests received."
    ::= { dot1qVlan 2 }

dot1qVlanEntry OBJECT-TYPE
    SYNTAX      Dot1qVlanEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "Information for a VLAN configured into the device by
        (local or network) management, or dynamically created
        as a result of GVRP requests received."
    INDEX   { dot1qVlanTimeMark, dot1qVlanIndex }
    ::= { dot1qVlanCurrentTable 1 }

Dot1qVlanEntry ::=
    SEQUENCE {





Bell, et al.               Expires April 1999                  [Page 65]







Internet Draft           Bridge MIB Extensions              October 1998


        dot1qVlanTimeMark
            TimeFilter,
        dot1qVlanIndex
            VlanIndex,
        dot1qVlanFdbId
            UInteger32,
        dot1qVlanCurrentEgressPorts
            PortList,
        dot1qVlanCurrentUntaggedPorts
            PortList,
        dot1qVlanStatus
            INTEGER
    }

dot1qVlanTimeMark OBJECT-TYPE
    SYNTAX      TimeFilter
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "A TimeFilter for this entry.  See the TimeFilter
        textual convention to see how this works."
    ::= { dot1qVlanEntry 1 }

dot1qVlanIndex OBJECT-TYPE
    SYNTAX      VlanIndex
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "The VLAN-ID or other identifier refering to this VLAN."
    ::= { dot1qVlanEntry 2 }

dot1qVlanFdbId OBJECT-TYPE
    SYNTAX      UInteger32
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "The Filtering Database used by this VLAN.  This is one
        of the dot1qFdbId values in the dot1qFdbTable.  This
        value is allocated automatically by the device whenever
        the VLAN is created: either dynamically by GVRP, or by
        management, in dot1qVlanStaticTable.  Allocation of this
        value follows the learning constraints defined for this
        VLAN in dot1qLearningConstraintsTable."
    ::= { dot1qVlanEntry 3 }






Bell, et al.               Expires April 1999                  [Page 66]







Internet Draft           Bridge MIB Extensions              October 1998


dot1qVlanCurrentEgressPorts OBJECT-TYPE
    SYNTAX      PortList
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "The set of ports which are transmitting traffic for
        this VLAN as either tagged or untagged frames."
    REFERENCE
        "IEEE 802.1Q/D11 Section 12.10.2.1"
    ::= { dot1qVlanEntry 4 }

dot1qVlanCurrentUntaggedPorts OBJECT-TYPE
    SYNTAX      PortList
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "The set of ports which are transmitting traffic for
        this VLAN as untagged frames."
    REFERENCE
        "IEEE 802.1Q/D11 Section 12.10.2.1"
    ::= { dot1qVlanEntry 5 }

dot1qVlanStatus OBJECT-TYPE
    SYNTAX      INTEGER {
                    other(1),
                    permanent(2),
                    dynamicGvrp(3)
                }
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "This object indicates the status of this entry.
            other(1) - this entry is currently in use but the
                conditions under which it will remain so differ
                from the following values.
            permanent(2) - this entry, corresponding to an entry
                in dot1qVlanStaticTable, is currently in use and
                will remain so after the next reset of the
                device.  The port lists for this entry include
                ports from the equivalent dot1qVlanStaticTable
                entry and ports learnt dynamically.
            dynamicGvrp(3) - this entry is currently in use
                and will remain so until removed by GVRP.  There
                is no static entry for this VLAN and it will be
                removed when the last port leaves the VLAN."





Bell, et al.               Expires April 1999                  [Page 67]







Internet Draft           Bridge MIB Extensions              October 1998


    ::= { dot1qVlanEntry 6 }

-- -------------------------------------------------------------
-- The Static VLAN Database
-- -------------------------------------------------------------

dot1qVlanStaticTable OBJECT-TYPE
    SYNTAX      SEQUENCE OF Dot1qVlanStaticEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "A table containing static configuration information for
        each VLAN configured into the device by (local or
        network) management.  All entries are permanent and will
        be restored after the device is reset."
    ::= { dot1qVlan 3 }

dot1qVlanStaticEntry OBJECT-TYPE
    SYNTAX      Dot1qVlanStaticEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "Static information for a VLAN configured into the
        device by (local or network) management."
    INDEX   { dot1qVlanIndex }
    ::= { dot1qVlanStaticTable 1 }

Dot1qVlanStaticEntry ::=
    SEQUENCE {
        dot1qVlanStaticName
            DisplayString,
        dot1qVlanStaticEgressPorts
            PortList,
        dot1qVlanForbiddenEgressPorts
            PortList,
        dot1qVlanStaticUntaggedPorts
            PortList,
        dot1qVlanStaticRowStatus
            RowStatus
    }

dot1qVlanStaticName OBJECT-TYPE
    SYNTAX      DisplayString (SIZE (0..32))
    MAX-ACCESS  read-write
    STATUS      current





Bell, et al.               Expires April 1999                  [Page 68]







Internet Draft           Bridge MIB Extensions              October 1998


    DESCRIPTION
        "An administratively assigned string, which may be used
        to identify the VLAN."
    REFERENCE
        "IEEE 802.1Q/D11 Section 12.10.2.1"
    ::= { dot1qVlanStaticEntry 1 }

dot1qVlanStaticEgressPorts OBJECT-TYPE
    SYNTAX      PortList
    MAX-ACCESS  read-write
    STATUS      current
    DESCRIPTION
        "The set of ports which are permanently assigned to the
        egress list for this VLAN by management.  Changes to a
        bit in this object affect the per-port per-VLAN
        Registrar control for Registration Fixed for the
        relevant GVRP state machine on each port.  The default
        value of this object is a string of zeros of appropriate
        length, indicating not fixed."
    REFERENCE
        "IEEE 802.1Q/D11 Section 12.7.7.3, 11.2.3.2.3"
    ::= { dot1qVlanStaticEntry 2 }

dot1qVlanForbiddenEgressPorts OBJECT-TYPE
    SYNTAX      PortList
    MAX-ACCESS  read-write
    STATUS      current
    DESCRIPTION
        "The set of ports which are prohibited by management
        from being included in the egress list for this VLAN.
        Changes to this object that cause a port to be included
        or excluded affect the per-port per-VLAN Registrar
        control for Registration Forbidden for the relevant
        GVRP state machine on each port.  The default value of
        this object is a string of zeros of appropriate length,
        excluding all ports from the forbidden set."
    REFERENCE
        "IEEE 802.1Q/D11 Section 12.7.7.3, 11.2.3.2.3"
    ::= { dot1qVlanStaticEntry 3 }

dot1qVlanStaticUntaggedPorts OBJECT-TYPE
    SYNTAX      PortList
    MAX-ACCESS  read-write
    STATUS      current
    DESCRIPTION





Bell, et al.               Expires April 1999                  [Page 69]







Internet Draft           Bridge MIB Extensions              October 1998


        "The set of ports which should transmit egress packets
        for this VLAN as untagged.  The default value of this
        object for the default VLAN (VlanId 001) is a string
        of appropriate length including all ports.  There is no
        specified default for other VLANs.  If a device cannot
        support a value being set then its agent will reject the
        set operation.  Attempts to set more than one VLAN to be
        untagged on egress may be rejected by devices which do
        not support this option."
    REFERENCE
        "IEEE 802.1Q/D11 Section 12.10.2.1"
    ::= { dot1qVlanStaticEntry 4 }

dot1qVlanStaticRowStatus OBJECT-TYPE
    SYNTAX      RowStatus
    MAX-ACCESS  read-write
    STATUS      current
    DESCRIPTION
        "This object indicates the status of this entry."
    ::= { dot1qVlanStaticEntry 5 }

dot1qNextFreeLocalVlanIndex OBJECT-TYPE
    SYNTAX      VlanIndex
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "The next available value for dot1qVlanIndex of a local
        VLAN entry in dot1qVlanStaticTable.  This will always
        report values >=4096.  A row creation operation in this
        table for an entry with a local VlanIndex value may fail
        if this value is not used as the index.  This value will
        automatically change when the current value is used."
    ::= { dot1qVlan 4 }

-- -------------------------------------------------------------
-- The VLAN Port Configuration Table
-- -------------------------------------------------------------

dot1qPortVlanTable OBJECT-TYPE
    SYNTAX      SEQUENCE OF Dot1qPortVlanEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "A table containing per port control and status
        information for VLAN configuration in the device."





Bell, et al.               Expires April 1999                  [Page 70]







Internet Draft           Bridge MIB Extensions              October 1998


    ::= { dot1qVlan 5 }

dot1qPortVlanEntry OBJECT-TYPE
    SYNTAX      Dot1qPortVlanEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "Information controlling VLAN configuration for a port
        on the device.  This is indexed by dot1dBasePort."
    AUGMENTS { dot1dBasePortEntry }
    ::= { dot1qPortVlanTable 1 }

Dot1qPortVlanEntry ::=
    SEQUENCE {
        dot1qPvid
            VlanIndex,
        dot1qPortAcceptableFrameTypes
            INTEGER,
        dot1qPortIngressFiltering
            TruthValue,
        dot1qPortGvrpStatus
            EnabledStatus,
        dot1qPortGvrpFailedRegistrations
            Counter32,
        dot1qPortGvrpLastPduOrigin
            MacAddress
    }

dot1qPvid OBJECT-TYPE
    SYNTAX      VlanIndex
    MAX-ACCESS  read-write
    STATUS      current
    DESCRIPTION
        "The PVID, the VLAN ID assigned to untagged frames or
        Prority-Tagged frames received on this port."
    REFERENCE
        "IEEE 802.1Q/D11 Section 12.10.1.1"
    DEFVAL      { 1 }
    ::= { dot1qPortVlanEntry 1 }

dot1qPortAcceptableFrameTypes OBJECT-TYPE
    SYNTAX      INTEGER {
                    admitAll(1),
                    admitOnlyVlanTagged(2)
                }





Bell, et al.               Expires April 1999                  [Page 71]







Internet Draft           Bridge MIB Extensions              October 1998


    MAX-ACCESS  read-write
    STATUS      current
    DESCRIPTION
        "When this is admitOnlyVlanTagged(2) the device will
        discard untagged frames or Prority-Tagged frames
        received on this port.  When admitAll(1), untagged
        frames or Prority-Tagged frames received on this port
        will be accepted and assigned to the PVID for this port.

        This control does not affect VLAN independent BPDU
        frames, such as GVRP and STP.  It does affect VLAN
        dependent BPDU frames, such as GMRP."
    REFERENCE
        "IEEE 802.1Q/D11 Section 12.10.1.3"
    DEFVAL      { admitAll }
    ::= { dot1qPortVlanEntry 2 }

dot1qPortIngressFiltering OBJECT-TYPE
    SYNTAX      TruthValue
    MAX-ACCESS  read-write
    STATUS      current
    DESCRIPTION
        "When this is true(1) the device will discard incoming
        frames for VLANs which do not include this Port in its
        Member set.  When false(2), the port will accept all
        incoming frames.

        This control does not affect VLAN independent BPDU
        frames, such as GVRP and STP.  It does affect VLAN
        dependent BPDU frames, such as GMRP."
    REFERENCE
        "IEEE 802.1Q/D11 Section 12.10.1.4"
    DEFVAL      { false }
    ::= { dot1qPortVlanEntry 3 }

dot1qPortGvrpStatus OBJECT-TYPE
    SYNTAX      EnabledStatus
    MAX-ACCESS  read-write
    STATUS      current
    DESCRIPTION
        "The state of GVRP operation on this port.  The value
        enabled(1) indicates that GVRP is enabled on this port,
        as long as dot1qGvrpStatus is also enabled for this
        device.  When disabled(2) but dot1qGvrpStatus is still
        enabled for the device, GVRP is disabled on this port:





Bell, et al.               Expires April 1999                  [Page 72]







Internet Draft           Bridge MIB Extensions              October 1998


        any GVRP packets received will be silently discarded and
        no GVRP registrations will be propagated from other
        ports.  This object affects all GVRP Applicant and
        Registrar state machines on this port.  A transition
        from disabled(2) to enabled(1) will cause a reset of all
        GVRP state machines on this port and zeroing of all
        related counters."
    DEFVAL      { enabled }
    ::= { dot1qPortVlanEntry 4 }

dot1qPortGvrpFailedRegistrations OBJECT-TYPE
    SYNTAX      Counter32
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "The total number of failed GVRP registrations, for any
        reason, on this port."
    ::= { dot1qPortVlanEntry 6 }

dot1qPortGvrpLastPduOrigin OBJECT-TYPE
    SYNTAX      MacAddress
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "The Source MAC Address of the last GVRP message
        received on this port."
    ::= { dot1qPortVlanEntry 7 }

-- -------------------------------------------------------------
-- Per port VLAN Statistics Table
-- -------------------------------------------------------------

dot1qPortVlanStatisticsTable OBJECT-TYPE
    SYNTAX      SEQUENCE OF Dot1qPortVlanStatisticsEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "A table containing per port, per VLAN statistics for
        traffic received."
    ::= { dot1qVlan 6 }

dot1qPortVlanStatisticsEntry OBJECT-TYPE
    SYNTAX      Dot1qPortVlanStatisticsEntry
    MAX-ACCESS  not-accessible
    STATUS      current





Bell, et al.               Expires April 1999                  [Page 73]







Internet Draft           Bridge MIB Extensions              October 1998


    DESCRIPTION
        "Traffic statistics for a VLAN on an interface."
    INDEX   { dot1dBasePort, dot1qVlanIndex }
    ::= { dot1qPortVlanStatisticsTable 1 }

Dot1qPortVlanStatisticsEntry ::=
    SEQUENCE {
        dot1qTpVlanPortInFrames
            Counter32,
        dot1qTpVlanPortOutFrames
            Counter32,
        dot1qTpVlanPortInDiscards
            Counter32
    }

dot1qTpVlanPortInFrames OBJECT-TYPE
    SYNTAX      Counter32
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "The number of valid frames received by this port from
        its segment which were classified as belonging to this
        VLAN.  Note that a frame received on this port is
        counted by this object if and only if it is for a
        protocol being processed by the local forwarding process
        for this VLAN.  This object includes received bridge
        management frames classified as belonging to this VLAN
        (e.g. GMRP, but not GVRP or STP)."
    REFERENCE
        "IEEE 802.1Q/D11 Section 12.6.1.1.3(a)"
    ::= { dot1qPortVlanStatisticsEntry 1 }

dot1qTpVlanPortOutFrames OBJECT-TYPE
    SYNTAX      Counter32
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "The number of valid frames transmitted by this port to
        its segment from the local forwarding process for this
        VLAN.  This includes bridge management frames originated
        by this device whach are classified as belonging to this
        VLAN (e.g. GMRP, but not GVRP or STP)."
    REFERENCE
        "IEEE 802.1Q/D11 Section 12.6.1.1.3(d)"
    ::= { dot1qPortVlanStatisticsEntry 2 }





Bell, et al.               Expires April 1999                  [Page 74]







Internet Draft           Bridge MIB Extensions              October 1998


dot1qTpVlanPortInDiscards OBJECT-TYPE
    SYNTAX      Counter32
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "The number of valid frames received by this port from
        its segment which were classified as belonging to this
        VLAN and which were discarded by the local forwarding
        process for this VLAN due to filtering database
        decisions.  Note that this does not include frames
        discarded due to ingress filtering."
    REFERENCE
        "IEEE 802.1Q/D11 Section 12.6.1.1.3(c)"
    ::= { dot1qPortVlanStatisticsEntry 3 }

dot1qPortVlanHCStatisticsTable OBJECT-TYPE
    SYNTAX      SEQUENCE OF Dot1qPortVlanHCStatisticsEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "A table containing per port, per VLAN statistics for
        traffic received on high capacity interfaces."
    ::= { dot1qVlan 7 }

dot1qPortVlanHCStatisticsEntry OBJECT-TYPE
    SYNTAX      Dot1qPortVlanHCStatisticsEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "Traffic statistics for a VLAN on a high capacity
        interface."
    INDEX   { dot1dBasePort, dot1qVlanIndex }
    ::= { dot1qPortVlanHCStatisticsTable 1 }

Dot1qPortVlanHCStatisticsEntry ::=
    SEQUENCE {
        dot1qTpVlanPortHCInFrames
            Counter64,
        dot1qTpVlanPortHCOutFrames
            Counter64,
        dot1qTpVlanPortHCInDiscards
            Counter64
    }

dot1qTpVlanPortHCInFrames OBJECT-TYPE





Bell, et al.               Expires April 1999                  [Page 75]







Internet Draft           Bridge MIB Extensions              October 1998


    SYNTAX      Counter64
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "The number of valid frames received by this port from
        its segment which were classified as belonging to this
        VLAN.  Note that a frame received on this port is
        counted by this object if and only if it is for a
        protocol being processed by the local forwarding process
        for this VLAN.  This object includes received bridge
        management frames classified as belonging to this VLAN
        (e.g. GMRP, but not GVRP or STP)."
    REFERENCE
        "IEEE 802.1Q/D11 Section 12.6.1.1.3(a)"
    ::= { dot1qPortVlanHCStatisticsEntry 1 }

dot1qTpVlanPortHCOutFrames OBJECT-TYPE
    SYNTAX      Counter64
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "The number of valid frames transmitted by this port to
        its segment from the local forwarding process for this
        VLAN.  This includes bridge management frames originated
        by this device whach are classified as belonging to this
        VLAN (e.g. GMRP, but not GVRP or STP)."
    REFERENCE
        "IEEE 802.1Q/D11 Section 12.6.1.1.3(d)"
    ::= { dot1qPortVlanHCStatisticsEntry 2 }

dot1qTpVlanPortHCInDiscards OBJECT-TYPE
    SYNTAX      Counter64
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "The number of valid frames received by this port from
        its segment which were classified as belonging to this
        VLAN and which were discarded by the local forwarding
        process for this VLAN due to filtering database
        decisions.  Note that this does not include frames
        discarded due to ingress filtering."
    REFERENCE
        "IEEE 802.1Q/D11 Section 12.6.1.1.3(c)"
    ::= { dot1qPortVlanHCStatisticsEntry 3 }






Bell, et al.               Expires April 1999                  [Page 76]







Internet Draft           Bridge MIB Extensions              October 1998


-- -------------------------------------------------------------
-- The VLAN Learning Constraints Table
-- -------------------------------------------------------------

dot1qLearningConstraintsTable OBJECT-TYPE
    SYNTAX      SEQUENCE OF Dot1qLearningConstraintsEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "A table containing learning constraints for sets of
        Shared and Independendent VLANs."
    REFERENCE
        "IEEE 802.1Q/D11 Section 12.10.3.1"
    ::= { dot1qVlan 8 }

dot1qLearningConstraintsEntry OBJECT-TYPE
    SYNTAX      Dot1qLearningConstraintsEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "A learning constraint defined for a VLAN."
    INDEX   { dot1qConstraintVlan, dot1qConstraintSet }
    ::= { dot1qLearningConstraintsTable 1 }

Dot1qLearningConstraintsEntry ::=
    SEQUENCE {
        dot1qConstraintVlan
            VlanIndex,
        dot1qConstraintSet
            INTEGER,
        dot1qConstraintType
            INTEGER,
        dot1qConstraintStatus
            RowStatus
    }

dot1qConstraintVlan OBJECT-TYPE
    SYNTAX      VlanIndex
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "The index of the row in dot1qVlanCurrentTable for the
        VLAN constrained by this entry."
    ::= { dot1qLearningConstraintsEntry 1 }






Bell, et al.               Expires April 1999                  [Page 77]







Internet Draft           Bridge MIB Extensions              October 1998


dot1qConstraintSet OBJECT-TYPE
    SYNTAX      INTEGER (0..65535)
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "The identity of the constraint set to which
        dot1qConstraintVlan belongs.  These values may be chosen
        by the management station."
    ::= { dot1qLearningConstraintsEntry 2 }

dot1qConstraintType OBJECT-TYPE
    SYNTAX      INTEGER {
                    independent(1),
                    shared(2)
                }
    MAX-ACCESS  read-write
    STATUS      current
    DESCRIPTION
        "The type of constraint this entry defines.
            independent(1) - the VLAN, dot1qConstraintVlan,
                uses an independent filtering database
                from all other VLANs in the same set, defined by
                dot1qConstraintSet.
            shared(2) - the VLAN, dot1qConstraintVlan shares the
                same filtering database as all other VLANs in
                the same set, defined by dot1qConstraintSet."
    ::= { dot1qLearningConstraintsEntry 3 }

dot1qConstraintStatus OBJECT-TYPE
    SYNTAX      RowStatus
    MAX-ACCESS  read-write
    STATUS      current
    DESCRIPTION
        "The status of this entry."
    ::= { dot1qLearningConstraintsEntry 4 }

dot1qConstraintSetDefault OBJECT-TYPE
    SYNTAX      INTEGER (0..65535)
    MAX-ACCESS  read-write
    STATUS      current
    DESCRIPTION
        "The identity of the constraint set to which a VLAN
        belongs, if there is not an explicit entry for that VLAN
        in dot1qLearningConstraintsTable."
    ::= { dot1qVlan 9 }





Bell, et al.               Expires April 1999                  [Page 78]







Internet Draft           Bridge MIB Extensions              October 1998


dot1qConstraintTypeDefault OBJECT-TYPE
    SYNTAX      INTEGER {
                    independent(1),
                    shared(2)
                }
    MAX-ACCESS  read-write
    STATUS      current
    DESCRIPTION
        "The type of constraint set to which a VLAN belongs, if
        there is not an explicit entry for that VLAN in
        dot1qLearningConstraintsTable.  The types are as defined
        for dot1qConstraintType."
    ::= { dot1qVlan 10 }

-- -------------------------------------------------------------
-- IEEE 802.1Q MIB - Conformance Information
-- -------------------------------------------------------------

qBridgeConformance OBJECT IDENTIFIER ::= { qBridgeMIB 2 }

qBridgeGroups OBJECT IDENTIFIER ::= { qBridgeConformance 1 }

qBridgeCompliances OBJECT IDENTIFIER
    ::= { qBridgeConformance 2 }

-- -------------------------------------------------------------
-- units of conformance
-- -------------------------------------------------------------

qBridgeBaseGroup OBJECT-GROUP
    OBJECTS {
        dot1qVlanVersionNumber,
        dot1qMaxVlanId,
        dot1qMaxSupportedVlans,
        dot1qNumVlans,
        dot1qGvrpStatus
    }
    STATUS      current
    DESCRIPTION
        "A collection of objects providing device level control
        and status information for the Virtual LAN bridge
        services."
    ::= { qBridgeGroups 1 }

qBridgeFdbUnicastGroup OBJECT-GROUP





Bell, et al.               Expires April 1999                  [Page 79]







Internet Draft           Bridge MIB Extensions              October 1998


    OBJECTS {
        dot1qFdbDynamicCount,
        dot1qTpFdbPort,
        dot1qTpFdbStatus
    }
    STATUS      current
    DESCRIPTION
        "A collection of objects providing information about all
        unicast addresses, learnt dynamically or statically
        configured by management, in each Filtering Database."
    ::= { qBridgeGroups 2 }

qBridgeFdbMulticastGroup OBJECT-GROUP
    OBJECTS {
        dot1qTpGroupEgressPorts,
        dot1qTpGroupLearnt
    }
    STATUS      current
    DESCRIPTION
        "A collection of objects providing information about all
        multicast addresses, learnt dynamically or statically
        configured by management, in each Filtering Database."
    ::= { qBridgeGroups 3 }

qBridgeServiceRequirementsGroup OBJECT-GROUP
    OBJECTS {
        dot1qForwardAllPorts,
        dot1qForwardAllStaticPorts,
        dot1qForwardUnregisteredPorts,
        dot1qForwardUnregisteredStaticPorts
    }
    STATUS      current
    DESCRIPTION
        "A collection of objects providing information about
        service requirements, learnt dynamically or statically
        configured by management, in each Filtering Database."
    ::= { qBridgeGroups 4 }

qBridgeFdbStaticGroup OBJECT-GROUP
    OBJECTS {
        dot1qStaticUnicastAllowedToGoTo,
        dot1qStaticUnicastStatus,
        dot1qStaticMulticastStaticEgressPorts,
        dot1qStaticMulticastForbiddenEgressPorts,
        dot1qStaticMulticastStatus





Bell, et al.               Expires April 1999                  [Page 80]







Internet Draft           Bridge MIB Extensions              October 1998


    }
    STATUS      current
    DESCRIPTION
        "A collection of objects providing information about
        unicast and multicast addresses statically configured by
        management, in each Filtering Database or VLAN."
    ::= { qBridgeGroups 5 }

qBridgeVlanGroup OBJECT-GROUP
    OBJECTS {
        dot1qVlanNumDeletes,
        dot1qVlanFdbId,
        dot1qVlanCurrentEgressPorts,
        dot1qVlanCurrentUntaggedPorts,
        dot1qVlanStatus
    }
    STATUS      current
    DESCRIPTION
        "A collection of objects providing information about
        all VLANs currently configured on this device."
    ::= { qBridgeGroups 6 }

qBridgeVlanStaticGroup OBJECT-GROUP
    OBJECTS {
        dot1qVlanStaticName,
        dot1qVlanStaticEgressPorts,
        dot1qVlanForbiddenEgressPorts,
        dot1qVlanStaticUntaggedPorts,
        dot1qVlanStaticRowStatus,
        dot1qNextFreeLocalVlanIndex
    }
    STATUS      current
    DESCRIPTION
        "A collection of objects providing information about
        VLANs statically configured by management."
    ::= { qBridgeGroups 7 }

qBridgePortGroup OBJECT-GROUP
    OBJECTS {
        dot1qPvid,
        dot1qPortAcceptableFrameTypes,
        dot1qPortIngressFiltering,
        dot1qPortGvrpStatus,
        dot1qPortGvrpFailedRegistrations,
        dot1qPortGvrpLastPduOrigin





Bell, et al.               Expires April 1999                  [Page 81]







Internet Draft           Bridge MIB Extensions              October 1998


    }
    STATUS      current
    DESCRIPTION
        "A collection of objects providing port level VLAN
        control and status information for all ports."
    ::= { qBridgeGroups 8 }

qBridgeVlanStatisticsGroup OBJECT-GROUP
    OBJECTS {
        dot1qTpVlanPortInFrames,
        dot1qTpVlanPortOutFrames,
        dot1qTpVlanPortInDiscards
    }
    STATUS      current
    DESCRIPTION
        "A collection of objects providing per-port packet
        statistics for all VLANs currently configured on this
        device."
    ::= { qBridgeGroups 9 }

qBridgeVlanHCStatisticsGroup OBJECT-GROUP
    OBJECTS {
        dot1qTpVlanPortHCInFrames,
        dot1qTpVlanPortHCOutFrames,
        dot1qTpVlanPortHCInDiscards
    }
    STATUS      current
    DESCRIPTION
        "A collection of objects providing per-port packet
        statistics for all VLANs currently configured on this
        device for high capacity interfaces."
    ::= { qBridgeGroups 10 }

qBridgeLearningConstraintsGroup OBJECT-GROUP
    OBJECTS {
        dot1qConstraintType,
        dot1qConstraintStatus
    }
    STATUS      current
    DESCRIPTION
        "A collection of objects defining the Filtering Database
        constraints all VLANs have with each other."
    ::= { qBridgeGroups 11 }

qBridgeLearningConstraintDefaultGroup OBJECT-GROUP





Bell, et al.               Expires April 1999                  [Page 82]







Internet Draft           Bridge MIB Extensions              October 1998


    OBJECTS {
        dot1qConstraintSetDefault,
        dot1qConstraintTypeDefault
    }
    STATUS      current
    DESCRIPTION
        "A collection of objects defining the default Filtering
        Database constraints for VLANs which have no specific
        constraints defined."
    ::= { qBridgeGroups 12 }

-- -------------------------------------------------------------
-- compliance statements
-- -------------------------------------------------------------

qBridgeCompliance MODULE-COMPLIANCE
    STATUS  current
    DESCRIPTION
        "The compliance statement for device support of Virtual
        LAN Bridge services."

    MODULE
        MANDATORY-GROUPS {
            qBridgeBaseGroup,
            qBridgeVlanGroup,
            qBridgeVlanStaticGroup,
            qBridgePortGroup
        }

        GROUP       qBridgeFdbUnicastGroup
        DESCRIPTION
            "This group is mandatory for bridges that implement
            802.1Q transparent bridging."

        GROUP       qBridgeFdbMulticastGroup
        DESCRIPTION
            "This group is mandatory for bridges that implement
            802.1Q transparent bridging."

        GROUP       qBridgeServiceRequirementsGroup
        DESCRIPTION
            "This group is mandatory for bridges that implement
            extended filtering services.  All objects must be
            read-write if extended-filtering services are
            enabled."





Bell, et al.               Expires April 1999                  [Page 83]







Internet Draft           Bridge MIB Extensions              October 1998


        GROUP       qBridgeFdbStaticGroup
        DESCRIPTION
            "This group is optional."

        GROUP       qBridgeVlanStatisticsGroup
        DESCRIPTION
            "This group is optional."

        GROUP       qBridgeVlanHCStatisticsGroup
        DESCRIPTION
            "This group is optional."

        GROUP       qBridgeLearningConstraintsGroup
        DESCRIPTION
            "This group is mandatory for devices implementing
             both Independent VLAN Learning (IVL) and Shared
             VLAN Learning (SVL) modes of operation of the
             filtering database."

        GROUP       qBridgeLearningConstraintDefaultGroup
        DESCRIPTION
            "This group is mandatory for devices implementing
             both Independent VLAN Learning (IVL) and Shared
             VLAN Learning (SVL) modes of operation of the
             filtering database."

        OBJECT      dot1qPortAcceptableFrameTypes
        MIN-ACCESS  read-only
        DESCRIPTION
            "Write access is not required."

        OBJECT      dot1qPortIngressFiltering
        MIN-ACCESS  read-only
        DESCRIPTION
            "Write access is not required."

        OBJECT      dot1qConstraintSetDefault
        MIN-ACCESS  read-only
        DESCRIPTION
            "Write access is not required."

        OBJECT      dot1qConstraintTypeDefault
        MIN-ACCESS  read-only
        DESCRIPTION
            "Write access is not required."





Bell, et al.               Expires April 1999                  [Page 84]







Internet Draft           Bridge MIB Extensions              October 1998


       ::= { qBridgeCompliances 1 }

END















































Bell, et al.               Expires April 1999                  [Page 85]







Internet Draft           Bridge MIB Extensions              October 1998


8.  Acknowledgments

This document expands upon previous work which resulted in RFC1493.

Much of the groundwork for this document was performed by the IEEE 802.1
working group during the definition of the IEEE 802.1D updates [19] and
IEEE 802.1Q [20].

The authors wish to thank the members of the Bridge Working Group for
their many comments and suggestions which improved this effort.








































Bell, et al.               Expires April 1999                  [Page 86]







Internet Draft           Bridge MIB Extensions              October 1998


9.  References

[1]  Harrington, D., Presuhn, R., and B. Wijnen, "An Architecture for
     Describing SNMP Management Frameworks", RFC 2271, Cabletron
     Systems, Inc., BMC Software, Inc., IBM T. J. Watson Research,
     January 1998

[2]  Rose, M., and K. McCloghrie, "Structure and Identification of
     Management Information for TCP/IP-based Internets", RFC 1155,
     Performance Systems International, Hughes LAN Systems, May 1990

[3]  Rose, M., and K. McCloghrie, "Concise MIB Definitions", RFC 1212,
     Performance Systems International, Hughes LAN Systems, March 1991

[4]  M. Rose, "A Convention for Defining Traps for use with the SNMP",
     RFC 1215, Performance Systems International, March 1991

[5]  Case, J., McCloghrie, K., Rose, M., and S. Waldbusser, "Structure
     of Management Information for Version 2 of the Simple Network
     Management Protocol (SNMPv2)", RFC 1902, SNMP Research,Inc., Cisco
     Systems, Inc., Dover Beach Consulting, Inc., International Network
     Services, January 1996.

[6]  Case, J., McCloghrie, K., Rose, M., and S. Waldbusser, "Textual
     Conventions for Version 2 of the Simple Network Management Protocol
     (SNMPv2)", RFC 1903, SNMP Research, Inc., Cisco Systems, Inc.,
     Dover Beach Consulting, Inc., International Network Services,
     January 1996.

[7]  Case, J., McCloghrie, K., Rose, M., and S. Waldbusser, "Conformance
     Statements for Version 2 of the Simple Network Management Protocol
     (SNMPv2)", RFC 1904, SNMP Research, Inc., Cisco Systems, Inc.,
     Dover Beach Consulting, Inc., International Network Services,
     January 1996.

[8]  Case, J., Fedor, M., Schoffstall, M., and J. Davin, "Simple Network
     Management Protocol", RFC 1157, SNMP Research, Performance Systems
     International, Performance Systems International, MIT Laboratory
     for Computer Science, May 1990.

[9]  Case, J., McCloghrie, K., Rose, M., and S. Waldbusser,
     "Introduction to Community-based SNMPv2", RFC 1901, SNMP Research,
     Inc., Cisco Systems, Inc., Dover Beach Consulting, Inc.,
     International Network Services, January 1996.






Bell, et al.               Expires April 1999                  [Page 87]







Internet Draft           Bridge MIB Extensions              October 1998


[10] Case, J., McCloghrie, K., Rose, M., and S. Waldbusser, "Transport
     Mappings for Version 2 of the Simple Network Management Protocol
     (SNMPv2)", RFC 1906, SNMP Research, Inc., Cisco Systems, Inc.,
     Dover Beach Consulting, Inc., International Network Services,
     January 1996.

[11] Case, J., Harrington D., Presuhn R., and B. Wijnen, "Message
     Processing and Dispatching for the Simple Network Management
     Protocol (SNMP)", RFC 2272, SNMP Research, Inc., Cabletron Systems,
     Inc., BMC Software, Inc., IBM T. J. Watson Research, January 1998.

[12] Blumenthal, U., and B. Wijnen, "User-based Security Model (USM) for
     version 3 of the Simple Network Management Protocol (SNMPv3)", RFC
     2274, IBM T. J. Watson Research, January 1998.

[13] Case, J., McCloghrie, K., Rose, M., and S. Waldbusser, "Protocol
     Operations for Version 2 of the Simple Network Management Protocol
     (SNMPv2)", RFC 1905, SNMP Research, Inc., Cisco Systems, Inc.,
     Dover Beach Consulting, Inc., International Network Services,
     January 1996.

[14] Levi, D., Meyer, P., and B. Stewart, "SNMPv3 Applications", RFC
     2273, SNMP Research, Inc., Secure Computing Corporation, Cisco
     Systems, January 1998

[15] Wijnen, B., Presuhn, R., and K. McCloghrie, "View-based Access
     Control Model (VACM) for the Simple Network Management Protocol
     (SNMP)", RFC 2275, IBM T. J. Watson Research, BMC Software, Inc.,
     Cisco Systems, Inc., January 1998

[16] Information processing systems - Open Systems Interconnection -
     Specification of Abstract Syntax Notation One (ASN.1),
     International Organization for Standardization, International
     Standard 8824, December 1987.

[17] Information processing systems - Open Systems Interconnection -
     Specification of Basic Encoding Rules for Abstract Notation One
     (ASN.1), International Organization for Standardization,
     International Standard 8825, December 1987.

[18] ISO/IEC 10038, ANSI/IEEE Std 802.1D-1993 "MAC Bridges".

[19] ISO/IEC Final CD 15802-3, ANSI/IEEE Std 802.1D-1998 "Information
     technology - Telecommunications and information exchange between
     systems - Local and metropolitan area networks - Common





Bell, et al.               Expires April 1999                  [Page 88]







Internet Draft           Bridge MIB Extensions              October 1998


     specifications - Part 3: Media Access Control (MAC) Bridges:
     Revision (Incorporating IEEE P802.1p: Traffic Class Expediting and
     Dynamic Multicast Filtering)", May 1998.

[20] ANSI/IEEE Draft Standard P802.1Q/D11, "IEEE Standards for Local and
     Metropolitan Area Networks: Virtual Bridged Local Area Networks",
     July 1998.

[21] Decker, E., Langille, P., Rijsinghani, A., McCloghrie, K.,
     "Definitions of Managed Objects for Bridges", RFC 1493, cisco
     Systems, Digital Equipment, Hughes LAN Systems, July 1993.

[22] McCloghrie, K., Kastenholz, F.  "Evolution of the Interfaces Group
     of MIB-II", RFC 1573, Hughes LAN Systems, FTP Software, January
     1994.

[23] Decker, E., McCloghrie, K., Langille, P., Rijsinghani, A.
     "Definitions of Managed Objects for Source Routing Bridges", RFC
     1525, cisco Systems, Hughes LAN Systems, Digital Equipment,
     September 1993

[24] McCloghrie K., and M. Rose, Editors, "Management Information Base
     for Network Management of TCP/IP-based internets", STD 17, RFC
     1213, Hughes LAN Systems, Performance Systems International, March
     1991.

























Bell, et al.               Expires April 1999                  [Page 89]







Internet Draft           Bridge MIB Extensions              October 1998


10.  Security Considerations

There are a number of management objects defined in this MIB that have a
MAX-ACCESS clause of read-write and/or read-create.  Such objects may be
considered sensitive or vulnerable in some network environments.  The
support for SET operations in a non-secure environment without proper
protection can have a negative effect on network operations.

SNMPv1 by itself is not a secure environment.  Even if the network
itself is secure (for example by using IPSec), even then, there is no
control as to who on the secure network is allowed to access and GET/SET
(read/change/create/delete) the objects in this MIB.

It is recommended that the implementers consider the security features
as provided by the SNMPv3 framework.  Specifically, the use of the
User-based Security Model RFC 2274 [12] and the View-based Access
Control Model RFC 2275 [15] is recommended.

It is then a customer/user responsibility to ensure that the SNMP entity
giving access to an instance of this MIB, is properly configured to give
access to the objects only to those principals (users) that have
legitimate rights to indeed GET or SET (change/create/delete) them.




























Bell, et al.               Expires April 1999                  [Page 90]







Internet Draft           Bridge MIB Extensions              October 1998


11.  Authors' Addresses

     Les Bell
     3Com Europe Limited
     3Com Centre, Boundary Way
     Hemel Hempstead
     Herts.  HP2 7YU
     UK
     +44 (1442) 438025
     Les_Bell@3Com.com

     Andrew Smith
     Extreme Networks
     10460 Bandley Drive
     Cupertino CA 95014
     USA
     +1 (408) 342 0999
     andrew@extremenetworks.com

     Paul Langille
     Acacia Networks, Inc.
     650 Suffolk St.
     Lowell, MA 01854
     USA
     +1 (978) 275 0662
     plangille@acacianet.com

     Anil Rijhsinghani
     Cabletron Systems
     50 Minuteman Road
     Andover MA 01810
     USA
     +1 (978) 684-1295
     anil@cabletron.com

     Keith McCloghrie
     cisco Systems, Inc.
     170 West Tasman Drive
     San Jose, CA 95134-1706
     USA
     +1 (408) 526 5260
     kzm@cisco.com








Bell, et al.               Expires April 1999                  [Page 91]







Internet Draft           Bridge MIB Extensions              October 1998


Table of Contents

1 The SNMP Management Framework ...................................    2
2 Overview ........................................................    4
2.1 Scope .........................................................    4
3 Structure of MIBs ...............................................    5
3.1 Structure of Extended Bridge MIB module .......................    5
3.1.1 Relationship to IEEE 802.1D-1998 Manageable Objects .........    6
3.1.2 Relationship to IEEE 802.1Q Manageable Objects ..............    7
3.1.3 The dot1dExtBase Group ......................................    8
3.1.4 The dot1dPriority Group .....................................    8
3.1.5 The dot1dGarp Group .........................................    8
3.1.6 The dot1dGmrp Group .........................................    8
3.1.7 The dot1dHCPortTable ........................................    8
3.2 Structure of Virtual Bridge MIB module ........................    9
3.2.1 Relationship to IEEE 802.1Q Manageable Objects ..............    9
3.2.2 The dot1qBase Group .........................................   12
3.2.3 The dot1qTp Group ...........................................   12
3.2.4 The dot1qStatic Group .......................................   12
3.2.5 The dot1qVlan Group .........................................   13
3.3 Textual Conventions ...........................................   13
3.4 Relationship to Other MIBs ....................................   13
3.4.1 Relationship to the 'system' group ..........................   13
3.4.2 Relation to Interfaces MIB ..................................   14
3.4.2.1 Layering Model ............................................   15
3.4.2.2 ifStackTable ..............................................   15
3.4.2.3 ifRcvAddressTable .........................................   15
3.4.3 Relation to Basic Bridge MIB ................................   16
3.4.3.1 The dot1dBase Group .......................................   16
3.4.3.2 The dot1dStp Group ........................................   16
3.4.3.3 The dot1dTp Group .........................................   16
3.4.3.4 The dot1dStatic Group .....................................   17
4 Extensions to RFC 1493 ..........................................   18
5 Change Log and Editorial Stuff ..................................   18
5.1 Changes since draft-ietf-bridge-bridgemib-01.txt ..............   18
5.2 Open Issues ...................................................   20
5.3 Issues closed in this draft ...................................   20
5.4 Issues closed in previous drafts ..............................   23
6 Definitions for Extended Bridge MIB .............................   28
7 Definitions for Virtual Bridge MIB ..............................   47
8 Acknowledgments .................................................   86
9 References ......................................................   87
10 Security Considerations ........................................   90
11 Authors' Addresses .............................................   91






Bell, et al.               Expires April 1999                  [Page 92]







Internet Draft           Bridge MIB Extensions              October 1998


   Copyright (C) The Internet Society (date).  All Rights Reserved.

   This document and translations of it may be copied and furnished
   to others, and derivative works that comment on or otherwise
   explain it or assist in its implmentation may be prepared, copied,
   published and distributed, in whole or in part, without
   restriction of any kind, provided that the above copyright notice
   and this paragraph are included on all such copies and derivative
   works.  However, this document itself may not be modified in any
   way, such as by removing the copyright notice or references to the
   Internet Society or other Internet organizations, except as needed
   for the purpose of developing Internet standards in which case the
   procedures for copyrights defined in the Internet Standards
   process must be followed, or as required to translate it into
   languages other than English.

   The limited permissions granted above are perpetual and will not
   be revoked by the Internet Society or its successors or assigns.

   This document and the information contained herein is provided on
   an "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET
   ENGINEERING TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR
   IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF
   THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

























Bell, et al.               Expires April 1999                  [Page 93]


