<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard%20http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>ARIN's RESTful Web Service for Whois Data</title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";3
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Requirements notation">
<link href="#rfc.section.2" rel="Chapter" title="2 Background">
<link href="#rfc.section.3" rel="Chapter" title="3 Data Model">
<link href="#rfc.section.3.1" rel="Chapter" title="3.1 Networks and Autonomous System Numbers">
<link href="#rfc.section.3.2" rel="Chapter" title="3.2 Delegations">
<link href="#rfc.section.3.3" rel="Chapter" title="3.3 Organizations and Customers">
<link href="#rfc.section.3.4" rel="Chapter" title="3.4 Points of Contact">
<link href="#rfc.section.3.5" rel="Chapter" title="3.5 General Query Behavior">
<link href="#rfc.section.4" rel="Chapter" title="4 Use of REST over HTTP">
<link href="#rfc.section.4.1" rel="Chapter" title="4.1 Data Formats and Versions">
<link href="#rfc.section.4.2" rel="Chapter" title="4.2 Schemas">
<link href="#rfc.section.4.3" rel="Chapter" title="4.3 Resource Oriented URLs">
<link href="#rfc.section.4.3.1" rel="Chapter" title="4.3.1 Resources Related to Resources">
<link href="#rfc.section.4.3.2" rel="Chapter" title="4.3.2 Unrelated Lists of Resources">
<link href="#rfc.section.4.3.3" rel="Chapter" title="4.3.3 IP Addresses">
<link href="#rfc.section.4.3.4" rel="Chapter" title="4.3.4 Aggregate Resources">
<link href="#rfc.section.4.3.5" rel="Chapter" title="4.3.5 Query Parameters">
<link href="#rfc.section.4.3.5.1" rel="Chapter" title="4.3.5.1 Showing More of Detail">
<link href="#rfc.section.4.3.5.2" rel="Chapter" title="4.3.5.2 Showing Only Points of Contact">
<link href="#rfc.section.4.3.5.3" rel="Chapter" title="4.3.5.3 Showing ARIN Resources">
<link href="#rfc.section.5" rel="Chapter" title="5 HTTP Caching">
<link href="#rfc.section.6" rel="Chapter" title="6 Security Considerations">
<link href="#rfc.section.7" rel="Chapter" title="7 Lessons Learned">
<link href="#rfc.references" rel="Chapter" title="8 References">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content=
  "http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.539, 2011-01-02 17:13:00, XSLT vendor: SAXON 6.5.5 from Michael Kay http://saxon.sf.net/" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />
  <meta name="dct.creator" content="Doe, J." />
  <meta name="dct.identifier" content="urn:ietf:id:draft-sample-input-00" />
  <meta name="dct.issued" scheme="ISO8601" content="2010-12" />
  
  <meta name="dct.abstract" content="This document describes the RESTful Web Service for Whois data as implemented and fielded by the American Registry for Internet Numbers (ARIN). ARIN calls this service Whois-RWS.  " />
  <meta name="description" content="This document describes the RESTful Web Service for Whois data as implemented and fielded by the American Registry for Internet Numbers (ARIN). ARIN calls this service Whois-RWS.  " />
  <meta name="keywords" content="" />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">Network Working Group</td>
<td class="right">A.L. Newton</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right">American Registry for Internet Numbers</td>
</tr>
<tr>
<td class="left">Intended status: Informational</td>
<td class="right">June 03, 2011</td>
</tr>
<tr>
<td class="left">Expires: December 05, 2011</td>
<td class="right"></td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">ARIN's RESTful Web Service for Whois Data<br />
  <span class="filename">draft-newton-weirds-arin-whoisrws-00</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>This document describes the RESTful Web Service for Whois data as implemented and fielded by the American Registry for Internet Numbers (ARIN). ARIN calls this service Whois-RWS.  </p>
<p>The purpose of this document is to facilitate discussion and serve as input into a standards process in this area, currently being discussed on the WHOIS-based Extensible Internet Registration Data Service (WEIRDS) mailing list (https://www.ietf.org/mailman/listinfo/weirds).  </p>
<p>Please excuse this very rough initial draft. It is roughly based on information currently published on ARIN's website. However, future revisions of this document are planned, including discussions on lessons learned by ARIN from the deployment of Whois-RWS and thoughts on a future, unified standard.  </p>
<h1 id="rfc.status"><a href="#rfc.status">Status of this Memo</a></h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet- Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on December 05, 2011.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2011 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Requirements notation</a>
</li>
<li>2.   <a href="#rfc.section.2">Background</a>
</li>
<li>3.   <a href="#rfc.section.3">Data Model</a>
</li>
<li>3.1.   <a href="#rfc.section.3.1">Networks and Autonomous System Numbers</a>
</li>
<li>3.2.   <a href="#rfc.section.3.2">Delegations</a>
</li>
<li>3.3.   <a href="#rfc.section.3.3">Organizations and Customers</a>
</li>
<li>3.4.   <a href="#rfc.section.3.4">Points of Contact</a>
</li>
<li>3.5.   <a href="#rfc.section.3.5">General Query Behavior</a>
</li>
<li>4.   <a href="#rfc.section.4">Use of REST over HTTP</a>
</li>
<li>4.1.   <a href="#rfc.section.4.1">Data Formats and Versions</a>
</li>
<li>4.2.   <a href="#rfc.section.4.2">Schemas</a>
</li>
<li>4.3.   <a href="#rfc.section.4.3">Resource Oriented URLs</a>
</li>
<li>4.3.1.   <a href="#rfc.section.4.3.1">Resources Related to Resources</a>
</li>
<li>4.3.2.   <a href="#rfc.section.4.3.2">Unrelated Lists of Resources</a>
</li>
<li>4.3.3.   <a href="#rfc.section.4.3.3">IP Addresses</a>
</li>
<li>4.3.4.   <a href="#rfc.section.4.3.4">Aggregate Resources</a>
</li>
<li>4.3.5.   <a href="#rfc.section.4.3.5">Query Parameters</a>
</li>
<li>4.3.5.1.   <a href="#rfc.section.4.3.5.1">Showing More of Detail</a>
</li>
<li>4.3.5.2.   <a href="#rfc.section.4.3.5.2">Showing Only Points of Contact</a>
</li>
<li>4.3.5.3.   <a href="#rfc.section.4.3.5.3">Showing ARIN Resources</a>
</li>
<li>5.   <a href="#rfc.section.5">HTTP Caching</a>
</li>
<li>6.   <a href="#rfc.section.6">Security Considerations</a>
</li>
<li>7.   <a href="#rfc.section.7">Lessons Learned</a>
</li>
<li>8.   <a href="#rfc.references">References</a>
</li>
<li><a href="#rfc.authors">Author's Address</a>
</li>


  </ul>

  <h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> Requirements notation</h1>
<p id="rfc.section.1.p.1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in<a href="#RFC2119">[RFC2119]</a>.  </p>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> Background</h1>
<p id="rfc.section.2.p.1">ARIN offers public access to ARIN registration data via a number of services.  Traditionally, these services are known in the industry as "Whois" in reference to the public data service of the ARPANET, precursor of today's modern Internet. Whois services are offered by all the Regional Internet Registries (RIRs), most Internet Routing Registries (IRRs) and most domain name registries and registrars.  </p>
<p id="rfc.section.2.p.2">Traditionally, Whois services have been offered using the NICNAME/WHOIS protocol as described by RFC 954 and RFC 3912. This protocol is a simple, text based TCP protocol registered with in the Internet Assigned Numbers Authority (IANA) for well-known port 43. RFC 3912, the most recent specification for the protocol, does not define either data types or data formats. As a consequence, Whois data varies from service provider to service provider and is far from ideal for programmatic consumption.  </p>
<p id="rfc.section.2.p.3">ARIN provides to the general public services for read-only access to ARIN's registration data. These services include a user-friendly web site (http://whois.arin.net), a RESTful Web Service, and a NICNAME/WHOIS port 43 service. For the purposes of programmatic consumption, ARIN recommends the use of the RESTful Web Service and strongly discourages the use of the NICNAME/WHOIS port 43 service.  </p>
<p id="rfc.section.2.p.4">This document describes the RESTful Web Service for ARIN's Whois data, which is known as Whois-RWS.  </p>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> Data Model</h1>
<p id="rfc.section.3.p.1">ARIN's Whois-RWS data model is composed of six first order objects: networks, autonomous system numbers, delegations, organizations, points of contact, and customers. Each of these types, except delegations, is directly addressable in a Whois service via a handle (i.e. identifier). Within the Whois RESTful Web Service, these handles are part of URLs that may be used to identify objects in ARIN's Whois registration database by external, non-ARIN systems.  </p>
<h1 id="rfc.section.3.1">
<a href="#rfc.section.3.1">3.1.</a> Networks and Autonomous System Numbers</h1>
<p id="rfc.section.3.1.p.1">Networks and Autonomous System Numbers (ASNs) are collectively referred to as "resources" in ARIN parlance (this should not be confused with the term "resources" in the context of RESTful Web Services and Resource Oriented Architectures). They are the pieces of information assigned or allocated to organizations for the coordinated administration and operation of the Internet.  </p>
<p id="rfc.section.3.1.p.2">Networks signify the allocation or assignment of IP address space and the contiguous IP CIDR blocks that make up that IP address space. Handles for IPv4 networks start with "NET-", and handles for IPv6 networks start with "NET6-".  </p>
<p id="rfc.section.3.1.p.3">Autonomous System Numbers (ASNs) are used for the proper routing of Internet packets. ARIN assigns ASNs in ranges, therefore a single ASN is part of an ASN range allocation. The handles for these registrations start with "AS" and are usually appended with the first number of the ASN range.  </p>
<h1 id="rfc.section.3.2">
<a href="#rfc.section.3.2">3.2.</a> Delegations</h1>
<p id="rfc.section.3.2.p.1">Delegations contain the information necessary for Reverse DNS, including the associated nameservers, and DNS DS record information. Unlike the other first order objects, delegations do not have a Handle. Rather, they are directly addressable in a Whois service via a delegation name (i.e. 0.192.in-addr.arpa.).  </p>
<h1 id="rfc.section.3.3">
<a href="#rfc.section.3.3">3.3.</a> Organizations and Customers</h1>
<p id="rfc.section.3.3.p.1">Organizations are the registrants of resources and have a direct relationship with ARIN. Organizations may be associated with many resources. Customers do not have a direct relationship with ARIN and, at present, may only be associated with one network registration.  </p>
<p id="rfc.section.3.3.p.2">Customer handles start with "C", while organization handles have no prefix.  </p>
<h1 id="rfc.section.3.4">
<a href="#rfc.section.3.4">3.4.</a> Points of Contact</h1>
<p id="rfc.section.3.4.p.1">A Point of Contact (POC) is the registration of names, mailboxes, and/or phone numbers which fulfill technical or administrative functions on behalf of either an organization or a resource. POC handles are usually appended with "-ARIN" though there are a few exceptions.  </p>
<h1 id="rfc.section.3.5">
<a href="#rfc.section.3.5">3.5.</a> General Query Behavior</h1>
<p id="rfc.section.3.5.p.1">For the first order objects addressable via handle, ARIN's Whois services also allow for searching against names and other appropriate fields contained within those objects. Unless otherwise specified, these searches are case insensitive.  Because ARIN's networks are composed of multiple CIDR based network blocks, searches by IP address or CIDR notation may sometimes yield what may, at first blush, appear incorrect. For instance, a search for a particular CIDR block may yield a network that covers the given CIDR block and additional CIDR blocks composing the network, while a search by an IP address will always yield the network or networks in which the IP address falls.  </p>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> Use of REST over HTTP</h1>
<h1 id="rfc.section.4.1">
<a href="#rfc.section.4.1">4.1.</a> Data Formats and Versions</h1>
<p id="rfc.section.4.1.p.1">RESTful web services are not strictly tied to XML. ARIN's Whois RESTful Web Service offers data in XML, JSON, plain text, and HTML (actually, XHTML).  However, ARIN's first order data format is XML as there are many format and validation tools readily available for it, and the other formats are offered on a best-effort basis.  </p>
<p id="rfc.section.4.1.p.2">If no desired format is specified, XML is the default format.  </p>
<p id="rfc.section.4.1.p.3">Specifying a desired data format may be accomplished in one of two ways: either using the HTTP Accept header or using "file extensions".  A "file extension" appends a DOS like file extension to the path.  </p>
<p id="rfc.section.4.1.p.4">Though there only exists one version of this RESTful interface, it is possible that the "data model" of the structured data such as XML and JSON that is output by this service will need revision. Should it be possible for ARIN to provide a backward compatible version, the HTTP Accept header is the mechanism for specifying the desired version as well as the data format.  </p>
<p id="rfc.section.4.1.p.5">The MIME type used in the Accept header will follow the format of "application/arin.whoisrws-{version}+{format}". To use the latest version of this service you would simply use the default MIME types of "application/xml" or "application/json".  </p>
<div id="#rfc.table.1"></div>
<div id="#accept_header_values"></div>
<p>The following table lists the data types and their associated MIME types and file extensions.  </p>
<table cellpadding="3" cellspacing="0" class="tt full center">
<thead><tr>
<th class="center">Data Type</th>
<th class="center">Current Version MIME Type</th>
<th class="center">Version 1 MIME Type</th>
<th class="center">File Extension</th>
</tr></thead>
<tbody>
<tr>
<td class="center">XML</td>
<td class="center">application/xml</td>
<td class="center">application/arin.whoisrws-v1+xml</td>
<td class="center">xml</td>
</tr>
<tr>
<td class="center">JSON</td>
<td class="center">application/json</td>
<td class="center">application/arin.whoisrws-v1+json</td>
<td class="center">json</td>
</tr>
<tr>
<td class="center">plain text</td>
<td class="center">text/plain</td>
<td class="center"></td>
<td class="center">txt</td>
</tr>
<tr>
<td class="center">HTML</td>
<td class="center">text/html</td>
<td class="center"></td>
<td class="center">html</td>
</tr>
</tbody>
</table>
<h1 id="rfc.section.4.2">
<a href="#rfc.section.4.2">4.2.</a> Schemas</h1>
<p id="rfc.section.4.2.p.1">Relax NG stuff goes here.</p>
<p id="rfc.section.4.2.p.2">Explanation of JSON and Badgerfish goes here.</p>
<h1 id="rfc.section.4.3">
<a href="#rfc.section.4.3">4.3.</a> Resource Oriented URLs</h1>
<p id="rfc.section.4.3.p.1">URLs point to resources. A typical URL might be http://whois.arin.net/rest/poc/ALN-ARIN, which is a URL pointing to the author of this document.  Conceptually, this can be broken into a base URL and the resource identifier: </p>

<dl>
<dt>base URL:</dt>
<dd style="margin-left: 8">http://whois.arin.net/rest</dd>
<dt>resource:</dt>
<dd style="margin-left: 8">/poc/ALN-ARIN</dd>
</dl>

<p> The base URL is just where ARIN is hosting the service.  The real interesting parts are the bits that identify the resources: </p>

<dl>
<dt>/poc</dt>
<dd style="margin-left: 8">this indicates the resource is a Point of Contact.  </dd>
<dt>/ALN-ARIN</dt>
<dd style="margin-left: 8">this is the unique identifier for the Point of Contact, or the POC Handle.  </dd>
</dl>

<p> </p>
<p id="rfc.section.4.3.p.2">The Whois-RWS data model has six types of addressable resources.  These are reflected in Whois-RWS in the following way: </p>

<dl>
<dt>/poc</dt>
<dd style="margin-left: 8">point of contact </dd>
<dt>/org</dt>
<dd style="margin-left: 8">organization </dd>
<dt>/net</dt>
<dd style="margin-left: 8">a network </dd>
<dt>/asn</dt>
<dd style="margin-left: 8">autonomous system number(s) </dd>
<dt>/customer</dt>
<dd style="margin-left: 8">a customer of an organization </dd>
<dt>/rdns</dt>
<dd style="margin-left: 8">delegations in the reverse DNS </dd>
</dl>

<p> </p>
<h1 id="rfc.section.4.3.1">
<a href="#rfc.section.4.3.1">4.3.1.</a> Resources Related to Resources</h1>
<p id="rfc.section.4.3.1.p.1">In the ARIN Whois data model, resources have relationships to other resources. Getting references to these resources can be accomplished by addressing the resource in question and applying a resource type qualifier.  </p>
<p id="rfc.section.4.3.1.p.2">Here is the list of relationships (where "XXXX" signifies a handle): </p>

<dl>
<dt>/poc/XXXX</dt>
<dd style="margin-left: 8">
<dl>
<dt>/orgs (i.e. /poc/XXXX/orgs)</dt>
<dd style="margin-left: 8">lists the organizations associated with a given POC </dd>
<dt>/asns (i.e. /poc/XXXX/asns)</dt>
<dd style="margin-left: 8">lists the autonomous system numbers associated with a given POC </dd>
<dt>/nets (i.e. /poc/XXXX/nets)</dt>
<dd style="margin-left: 8">lists the networks associated with a given POC </dd>
</dl>
<p> </p>
</dd>
<dt>/org/XXXX</dt>
<dd style="margin-left: 8">
<dl>
<dt>/pocs (i.e. /org/XXXX/pocs)</dt>
<dd style="margin-left: 8">lists the points of contact associated with a given organization </dd>
<dt>/asns (i.e. /org/XXXX/asns)</dt>
<dd style="margin-left: 8">lists the autonomous system numbers associated with a given organization </dd>
<dt>/nets (i.e. /org/XXXX/nets)</dt>
<dd style="margin-left: 8">lists the networks associated with a given organization </dd>
</dl>
<p> </p>
</dd>
<dt>/asn/XXXX</dt>
<dd style="margin-left: 8">
<dl>
<dt>/pocs (i.e. /asn/XXXX/pocs)</dt>
<dd style="margin-left: 8">lists the points of contact associated with a given autonomous system number </dd>
</dl>
<p> </p>
</dd>
<dt>/net/XXXX</dt>
<dd style="margin-left: 8">
<dl>
<dt>/pocs (i.e. /net/XXXX/pocs)</dt>
<dd style="margin-left: 8">lists the points of contact associated with a given network </dd>
<dt>/parent (i.e. /net/XXXX/parent)</dt>
<dd style="margin-left: 8">lists the parnet network of a given network </dd>
<dt>/children (i.e. /net/XXXX/children)</dt>
<dd style="margin-left: 8">lists the child networks associated with a given network </dd>
<dt>/rdns (i.e. /net/XXXX/rdns)</dt>
<dd style="margin-left: 8">lists the reverse DNS delegations associated with a given network </dd>
</dl>
<p> </p>
</dd>
<dt>/rdns/XXXX</dt>
<dd style="margin-left: 8">
<dl>
<dt>/nets (i.e. /rdns/XXXX/nets)</dt>
<dd style="margin-left: 8">lists the networks associated with a given reverse DNS delegation </dd>
</dl>
<p> </p>
</dd>
</dl>

<p> </p>
<h1 id="rfc.section.4.3.2">
<a href="#rfc.section.4.3.2">4.3.2.</a> Unrelated Lists of Resources</h1>
<p id="rfc.section.4.3.2.p.1">Unrelated lists of resources may be addressed using URL matrix parameters.  As an example, to find organizations with the name "ARIN", the /orgs list is appended with the matrix parameter name to form /orgs;name=ARIN (this is without the base URL).  </p>
<p id="rfc.section.4.3.2.p.2">Here is the list of resources and their supported matrix parameters: </p>

<dl>
<dt>/orgs</dt>
<dd style="margin-left: 8">
<dl>
<dt>handle</dt>
<dd style="margin-left: 8">the handle of the organization</dd>
<dt>name</dt>
<dd style="margin-left: 8">the name of the organization</dd>
<dt>dba</dt>
<dd style="margin-left: 8">the "doing-business-as" name of the organization </dd>
</dl>
<p> </p>
</dd>
<dt>/customers</dt>
<dd style="margin-left: 8">
<dl>
<dt>handle</dt>
<dd style="margin-left: 8">the handle of the customer</dd>
<dt>name</dt>
<dd style="margin-left: 8">the name of the customer</dd>
</dl>
<p> </p>
</dd>
<dt>/pocs</dt>
<dd style="margin-left: 8">
<dl>
<dt>handle</dt>
<dd style="margin-left: 8">the handle of the POC</dd>
<dt>domain</dt>
<dd style="margin-left: 8">the domain name of an email address of the POC </dd>
<dt>first</dt>
<dd style="margin-left: 8">the first name of the POC</dd>
<dt>middle</dt>
<dd style="margin-left: 8">the middle name of the POC</dd>
<dt>last</dt>
<dd style="margin-left: 8">the last name of the POC</dd>
<dt>company</dt>
<dd style="margin-left: 8">the company name registered by the POC</dd>
<dt>city</dt>
<dd style="margin-left: 8">the city registered by the POC</dd>
</dl>
<p> </p>
</dd>
<dt>/asns</dt>
<dd style="margin-left: 8">
<dl>
<dt>handle</dt>
<dd style="margin-left: 8">the handle of the autonomous system number </dd>
<dt>name</dt>
<dd style="margin-left: 8">the name of the autonomous system number</dd>
</dl>
<p> </p>
</dd>
<dt>/nets</dt>
<dd style="margin-left: 8">
<dl>
<dt>handle</dt>
<dd style="margin-left: 8">the handle of the network</dd>
<dt>name</dt>
<dd style="margin-left: 8">the name of the network</dd>
</dl>
<p> </p>
</dd>
</dl>

<p> </p>
<h1 id="rfc.section.4.3.3">
<a href="#rfc.section.4.3.3">4.3.3.</a> IP Addresses</h1>
<p id="rfc.section.4.3.3.p.1">In the ARIN data model, an IP "network" is a set of associated IP address blocks and the information related to these IP address blocks and the set as a whole. A network can be composed of one IP address block or of multiple IP address blocks. Networks are also hierarchical, meaning that a network can have a parent and can have children. An IP address or range of IP addresses can therefore fall within the IP address block of multiple networks.  </p>
<p id="rfc.section.4.3.3.p.2">To get the networks that a particular IP address may fall within, one can use the /ip/XX.XX.XX.XX resource, where XX.XX.XX.XX signifies the IP address.  </p>
<p id="rfc.section.4.3.3.p.3">Networks may be looked up as well by supplying the full CIDR notation of a range. To use the full CIDR notation, the resource looks like /cidr/XX.XX.XX.XX/YY where XX.XX.XX.XX is the IP address prefix and YY is the CIDR length.  </p>
<p id="rfc.section.4.3.3.p.4">Resources relative to the networks may be fetched using the /less and /more path prefixes. /less will find the networks that are less specific in scope (or wider), and /more will find the networks that are more specific in scope (or narrower).  </p>
<h1 id="rfc.section.4.3.4">
<a href="#rfc.section.4.3.4">4.3.4.</a> Aggregate Resources</h1>
<p id="rfc.section.4.3.4.p.1">Though Whois-RWS breaks down the ARIN data model into distinct resources, end users have been accustomed to seeing many related resources with one query over the NICNAME/WHOIS port 43 service. While this can be accomplished by any Whois-RWS clients with multiple queries, an aggregate resources can reduce the number of queries and make this use case easier on client implementers.  </p>
<p id="rfc.section.4.3.4.p.2">For resources under /org, /net, /asn, and /ip, the URL may be appended with "/pft" to produce an aggregate resource which includes the resource being queried and related resources. If you can guess what /pft means, I'll buy you a beer.  </p>
<h1 id="rfc.section.4.3.5">
<a href="#rfc.section.4.3.5">4.3.5.</a> Query Parameters</h1>
<h1 id="rfc.section.4.3.5.1">
<a href="#rfc.section.4.3.5.1">4.3.5.1.</a> Showing More of Detail</h1>
<p id="rfc.section.4.3.5.1.p.1">By default, lists of resources only show references to the resources.  However, lists can be expanded to show full detail by tacking on a showDetails=true URL query parameter (e.g.http://whois.arin.net/rest/org/ARIN/pocs?showDetails=true). This query parameter also forces a resource to list its related resources in line.  </p>
<h1 id="rfc.section.4.3.5.2">
<a href="#rfc.section.4.3.5.2">4.3.5.2.</a> Showing Only Points of Contact</h1>
<p id="rfc.section.4.3.5.2.p.1">Some organizations have many, many associated resources. Having all those resources returned when gathering information about an organization maybe very undesirable. To allow getting all the POCs of an organization without taking the penalty of retrieving all the resources of the organization, the showPocs=true parameter may be used. This parameter is only recognized when an organization's information is referenced by handle.  </p>
<h1 id="rfc.section.4.3.5.3">
<a href="#rfc.section.4.3.5.3">4.3.5.3.</a> Showing ARIN Resources</h1>
<p id="rfc.section.4.3.5.3.p.1">In the past, ARIN's NICNAME/WHOIS service yielded a "No Match" result for searches of IP address space unallocated by ARIN but within ARIN's IP address pool. This was somewhat confusing and could possibly mislead a person into thinking the address space is simply unallocated to any available address pool (in other words, still held by the IANA). This has been changed in ARIN's NICNAME/WHOIS service so it will return the appropriate ARIN network allocation for IP addresses unallocated by ARIN. By default, the RESTful service will also return the appropriate ARIN network allocation for IP addresses unallocated by ARIN to ARIN constituents.  </p>
<p id="rfc.section.4.3.5.3.p.2">If the behavior is desired, the showARIN=false query parameter may be used on IP and CIDR queries.  </p>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> HTTP Caching</h1>
<p id="rfc.section.5.p.1">One of the advantages of a RESTful Web Service is that HTTP infrastructure may be employed to make it more reliable and/or robust. HTTP caching is one such tool to help with these goals. ARIN employs caching at multiple levels and customized to address the query pattern seen against ARIN's services.  </p>
<p id="rfc.section.5.p.2">If HTTP caching is be employed on the client side, there are a number of issues to consider to craft a custom caching solution.  </p>
<p id="rfc.section.5.p.3">First caching should be restricted to URLs that have the highest likelihood of remaining in the cache using the caches retention strategy. In almost any scenario, caching RESTful resources under /rest/ip will lead to a large dataset and a low cache hit ratio. However, it is likely acceptable to cache resources under /rest/org, /rest/poc, and /rest/net. It is recommended that cache statistics be available for proper cache tuning.  </p>
<p id="rfc.section.5.p.4">Second, many HTTP caches base the cache objects on URLs. However, the Accept header dictates the content of the object and may not be part of the cache key of cached objects. Therefore it is possible to get a cached object of one type when another type was requested. For instance, /rest/poc/KOSTE-ARIN might return XML when JSON was requested. To overcome this, it is advisable to use file extensions to specify data format as file extensions are part of the URL.  </p>
<h1 id="rfc.section.6">
<a href="#rfc.section.6">6.</a> Security Considerations</h1>
<p id="rfc.section.6.p.1">Of course there are some... but I'm not gonna tell you what they are.</p>
<p id="rfc.section.6.p.2">Seriously.... to be discussed in future revisions.</p>
<h1 id="rfc.section.7">
<a href="#rfc.section.7">7.</a> Lessons Learned</h1>
<p id="rfc.section.7.p.1">to be discussed in a future revision, the lessons we have learned from this</p>
<h1 id="rfc.references">
<a href="#rfc.references">8.</a> References</h1>
<table><tbody><tr>
<td class="reference"><b id="RFC2119">[RFC2119]</b></td>
<td class="top">
<a href="mailto:sob@harvard.edu" title="Harvard University">Bradner, S.</a>, "<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>", BCP 14, RFC 2119, March 1997.</td>
</tr></tbody></table>
<h1 id="rfc.authors"><a href="#rfc.authors">Author's Address</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Andrew Lee Newton</span> 
	  <span class="n hidden">
		<span class="family-name">Newton</span>
	  </span>
	</span>
	<span class="org vcardline">American Registry for Internet Numbers</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	
  </address>
</div>

</body>
</html>