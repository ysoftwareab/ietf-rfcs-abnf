Network Working Group                                           M. Garcia
Internet Draft                                                   Ericsson

Expires: November 2002                                           May 2002






             Private Session Initiation Protocol extension for
                  Associated Uniform Resource Identifiers
                  <draft-garcia-sip-associated-uri-01.txt>



Status of this memo

   This document is an Internet-Draft and is in full conformance with all
   provisions of Section 10 of RFC2026.

   Internet-Drafts are working documents of the Internet Engineering Task
   Force (IETF), its areas, and its working groups. Note that other
   groups may also distribute working documents as Internet-Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time. It is inappropriate to use Internet-Drafts as reference material
   or cite them other than as "work in progress".

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/lid-abstracts.txt

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html

   This document is an individual submission to the IETF. Comments should
   be directed to the authors.


Abstract

   This memo describes a private extension to SIP [1] that allows a
   registrar to return a set of Associated URIs to a UAC. We define the
   P-Associated-URI header, used in the 200 OK response to a REGISTER
   request or 200-class response to a SUBSCRIBE. The P-Associated-URI
   header transports the set of Associated URIs to the SIP URI that has
   been registered or subscribed.

Table of contents

   1. Introduction......................................................2
   2. Applicability statement...........................................2
   3. The Associated URI header.........................................2

  Network Working Group      Expiration 11/30/02                  Page 1

  Garcia           The SIP Associated URI header                May 2002

   4. Syntax and definition.............................................3
   5. Usage.............................................................3
   5.1 Procedures at the UA.............................................3
   5.2 Procedures at the registrar......................................4
   5.3 Procedures at the proxy..........................................4
   5.4 Procedures at the subscriber.....................................4
   5.5 Procedures at the notifier.......................................4
   6. Security Considerations...........................................4
   7. IANA Considerations...............................................4
   8. Author's Addresses................................................5
   9. Acknowledgements..................................................5
   10. References.......................................................5
   10.1 Normative references............................................5
   10.2 Informative references..........................................5

1. Introduction

   A UAC registers a SIP or SIPS URI to a registrar. The registrar may be
   aware of one or more associated SIP or SIPS URIs to the registered
   one. The registrar considers the associated URIs alias of the
   registered one.

   A user typically is assigned with one or more URIs. This may be in the
   form of a SIP or SIPS URI. Typically a user will group some of these
   URIs, so that when one of them registers, the other are automatically
   associated at the registrar, and the user is allowed to insert any of
   them into the From header of any request. The effect is that the
   associated URIs are aliases of the registered URI.

   In a similar fashion, a subscriber may get the set of associated URIs
   to the subscribed one, in the 200-class response to the SUBSCRIBE
   request.

2. Applicability statement

   The P-Associated-URI is applicable when the following circumstances
   are met:

        1. The UAC sends a REGISTER request in order to register a URI.
        2. The registered URI has one or more URIs associated to him.
        3. The registrar wants to inform the user of the other
           associated URIs.

   When used within the SIP-specific event notification [4], the P-
   Associated-URI is applicable when the following circumstances are met:

        1. A subscriber sends a SUBSCRIBE request to a notifier.
        2. The subscribed URI has one or more URIs associated to him.
        3. The notifier wants to inform the subscriber of the other
           associated URIs.

3. The Associated URI header

  Network Working Group      Expiration 11/30/02                  Page 2

  Garcia           The SIP Associated URI header                May 2002


   The registrar inserts the P-Associated-URI header into the 200 OK
   response to a REGISTER request. The header is populated with a list of
   URIs that are associated to the registered URI.

   If the registrar supports the P-Associated-URI header, it always
   inserts it in a 200 OK response to a REGISTER request, regardless of
   whether the REGISTER was an initial registration, re-registration, or
   de-registration.

   When the P-Associated-URI header is used within the SIP-specific event
   notification framework [4], then the notifier inserts it into the 200
   OK or 202 Accepted response for a SUBSCRIBE request. The header is
   populated with a list of URIs that are associated to the subscribed
   URI.

4. Syntax and definition

   The P-Associated-URI is a SIP extension header. The syntax of the P-
   Associated-URI header is based on the ABNF of SIP [1] and its syntax
   is described as follows:

   P-Associated-URI = "P-Associated-URI" HCOLON addr-spec
                       *(COMMA addr-spec)

   A P-Associated-URI header MAY be inserted into a 200 OK response for a
   REGISTER request or a 200-class response to a SUBSCRIBE request.

   The allowable usage of headers is described in Table 2 of SIP [1].
   Addition of P-Associated-URI to the Table 2 in SIP [1], section 4.1 of
   the SIP-specific event notification [4], tables 1 and 2 in the SIP
   INFO method [5], tables 1 and 2 in Reliability of provisional
   responses in SIP [6], tables 1 and 2 in the SIP UPDATE method [7],
   tables 1 and 2 in the SIP extension for Instant Messaging [8] and
   table 1 in the SIP REFER method [9]:

   Addition of P-Associated-URI to SIP Table 2:

     Header field          where   proxy ACK BYE CAN INV OPT REG
     ___________________________________________________________
     P-Associated-URI       2xx           -   -   -   -   -   o


     Header field                        SUB NOT PRA INF UPD MES REF
     _______________________________________________________________
     P-Associated-URI                     o   -   -   -   -   -   -


5. Usage

5.1 Procedures at the UA


  Network Working Group      Expiration 11/30/02                  Page 3

  Garcia           The SIP Associated URI header                May 2002

   A UAC may receive a P-Associated-URI header in the 200 OK response for
   a REGISTER. The header value contains a list of associated URIs to the
   one that was registered. The UAC MAY use any of the associated URIs to
   populate the From header value, or any other SIP header value that
   provides information of the identity of the calling party, in a
   subsequent dialog.

5.2 Procedures at the registrar

   A registrar that receives and authorizes a REGISTER request, may
   automatically associate one or more URIs with the registered URI. The
   registrar, MAY include a P-Associated-URI header in the 200 OK
   response, and populates it with the list of associated URIs to the
   registered URI.

5.3 Procedures at the proxy

   This memo does not define any procedures at the proxy.

5.4 Procedures at the subscriber

   A subscriber may receive a P-Associated-URI header in the 200-class
   response to a SUBSCRIBE request. The header value contains a list of
   associated URIs to the subscribed one.

5.5 Procedures at the notifier

   A notifier that supports this extension MAY insert the P-Associated-
   URI header in the 200-class response to a SUBSCRIBE requiest. The
   notifier populates it with the list of associated URIs to the
   subscribed URI.

6. Security Considerations

   The information returned in the header is not viewed as particularly
   sensitive. Rather, it is simply informational in nature, providing
   openness to the UE with regard to the automatic association performed
   by the registrar. If end-to-end protection is not used at the SIP
   layer, it is possible for proxies between the registrar and the UA to
   modify the contents of the header. This attack, while potentially
   annoying, should not have significant impacts.

   The lack of encryption, either end-to-end or hop-by-hop, may lead to
   leak some privacy regarding the list of authorized identities. An
   eavesdropper could collect this information. Therefore it is
   RECOMMENDED that this extension is used in a secured environment,
   where encryption of SIP messages is provided either end-to-end or hop-
   by-hop.

7. IANA Considerations



  Network Working Group      Expiration 11/30/02                  Page 4

  Garcia           The SIP Associated URI header                May 2002

   This document defines the SIP extension header "P-Associated-URI"
   which should be included in the registry of SIP headers defined in SIP
   [1]. As required by the SIP change process [3] the SIP extension
   header name "Associated-URI" should also be registered in association
   with this extension.

8. Author's Addresses

   Miguel A. Garcia
   Ericsson
   FIN-02420, Jorvas, Finland
   Tel: +358 9299 3553
   e-mail: miguel.a.garcia@ericsson.com

9. Acknowledgements

   The author would like to thank Andrew Allen, Gabor Bajko, Gonzalo
   Camarillo, Keith Drage, Georg Mayer, Dean Willis, Rohan Mahy and the
   3GPP CN1 WG members for the comments on this document.

10. References

10.1 Normative references

     1.  J. Rosenberg, H. S., etc, Session Initiation Protocol, RFC 3261
        March 2002.

10.2 Informative references

     2.  M. Garcia et al, 3GPP requirements on SIP, draft-sipping-garcia-
        3gpp-reqs-03.txt, work in progress.

     3.  S. Bradner, R. Mahy, A. Mankin, J. Ott, B. Rosen, D. Willis, SIP
        change process, draft-tsvarea-sipchange-01.txt, February 2002,
        work in progress.

     4. A. Roach, SIP-Specific Event Notification, RFC 3265, March 2002.

     5. S. Donovan, The SIP INFO method, RFC 2976, October 2000.

     6. J. Rosenberg, H. Schulzrinne, Reliability of Provisional
        Responses in SIP, RFC 3262, March 2002.

     7. J. Rosenberg, The Session Initiation Protocol UPDATE Method,
        draft-ietf-sip-update-02.txt, April 2002, work in progress.

     8. B. Campbell, J. Rosenberg, H. Schulzrinne, C. Huitema, D. Gurle,
        Session Initiation Protocol Extension for Instant Messaging,
        draft-ietf-sip-message-04, May 2002, work in progress.

     9. R. Sparks, The REFER method, draft-sparks-sip-refer-split-00.txt,
        April 2002, work in progress.

  Network Working Group      Expiration 11/30/02                  Page 5

  Garcia           The SIP Associated URI header                May 2002


   Full Copyright Statement

   Copyright (C) The Internet Society (2002).  All Rights Reserved.
   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published and
   distributed, in whole or in part, without restriction of any kind,
   provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works. However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of developing
   Internet standards in which case the procedures for copyrights defined
   in the Internet Standards process must be followed, or as required to
   translate it into languages other than English.  The limited
   permissions granted above are perpetual and will not be revoked by the
   Internet Society or its successors or assigns.  This document and the
   information contained herein is provided on an "AS IS" basis and THE
   INTERNET SOCIETY AND THE INTERNET ENGINEERING TASK FORCE DISCLAIMS ALL
   WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY
   WARRANTY THAT THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY
   RIGHTS OR ANY IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A
   PARTICULAR PURPOSE."

   Expiration Date

   This memo is filed as <draft-garcia-sip-associated-uri-01.txtt>, and
   expires November 20, 2002.
























  Network Working Group      Expiration 11/30/02                  Page 6
