



MPLS Working Group                                             G. Mirsky
Internet-Draft                                                   Y. Zhao
Updates: 5884 (if approved)                              ZTE Corporation
Intended status: Standards Track                        October 18, 2017
Expires: April 21, 2018


       Clarifying Use of LSP Ping to Bootstrap BFD over MPLS LSP
               draft-mirsky-mpls-bfd-bootstrap-clarify-00

Abstract

   This document, if approved, updates RFC 5884 by clarifying procedures
   for using MPLS LSP ping to bootstrap Bidirectional Forwarding
   Detection (BFD) over MPLS Label Switch Path.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on April 21, 2018.

Copyright Notice

   Copyright (c) 2017 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.




Mirsky & Zhao            Expires April 21, 2018                 [Page 1]

Internet-Draft   Clarify Bootstrapping BFD over MPLS LSP    October 2017


Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Conventions used in this document . . . . . . . . . . . . . .   2
     2.1.  Terminology . . . . . . . . . . . . . . . . . . . . . . .   2
     2.2.  Requirements Language . . . . . . . . . . . . . . . . . .   2
   3.  Use of Return Mode Field  . . . . . . . . . . . . . . . . . .   2
   4.  Use of BFD Discriminator TLV in LSP Echo Reply  . . . . . . .   3
   5.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   3
   6.  Security Considerations . . . . . . . . . . . . . . . . . . .   3
   7.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   3
   8.  Normative References  . . . . . . . . . . . . . . . . . . . .   3
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   4

1.  Introduction

   [RFC5884] defines how LSP Ping [RFC8029] uses BFD Discriminator TLV
   to bootstrap Bidirectional Forwarding Detection (BFD) session over
   MPLS Label Switch Path (LSP).  Implementation and operational
   experiences suggest that two aspects of using LSP ping to bootstrap
   BFD session can benefit from clarification.  This document updates
   [RFC5884] in use of Return mode field in MPLS LSP echo request
   message and use of BFD Discriminator TLV in MPLS LSP echo reply.

2.  Conventions used in this document

2.1.  Terminology

   MPLS: Multiprotocol Label Switching

   LSP: Label Switched Path

   BFD: Bidirectional Forwarding Detection

2.2.  Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
   "OPTIONAL" in this document are to be interpreted as described in BCP
   14 [RFC2119] [RFC8174] when, and only when, they appear in all
   capitals, as shown here.

3.  Use of Return Mode Field

   [RFC5884] does not define the value to be used for the Return mode
   field [RFC8029] when LSP ping is used to bootstrap a BFD session of
   MPLS LSP.  When LSP echo request is being used to detect defects in
   MPLS data plane and verify consistency between the control plane and



Mirsky & Zhao            Expires April 21, 2018                 [Page 2]

Internet-Draft   Clarify Bootstrapping BFD over MPLS LSP    October 2017


   the data plane echo reply is needed to confirm the correct state,
   provide the positive acknowledgment.  But when LSP echo request is
   being used to bootstrap BFD session, then the positive
   acknowledgement, according to [RFC5884] is provided by the egress
   transmitting BFD control message.  Thus LSP echo reply is not
   required to bootstrap BFD session and hence the Return mode field in
   echo request message SHOULD be set to 1 (Do not reply) [RFC8029] when
   LSP echo request used to bootstrap BFD session.

4.  Use of BFD Discriminator TLV in LSP Echo Reply

   [RFC5884] in section 6 defines that echo reply by the egress LSR to
   BFD bootstrapping echo request MAY include BFD Discriminator TLV with
   locally assigned discriminator value for the BFD session.  But the
   [RFC5884] does not define how the ingress LSR may use the returned
   value.  From practical point, as discussed in Section 3, the returned
   value is not useful since the egress is required to send the BFD
   control message right after successfully validating the FEC and
   before sending echo reply message.  Secondly, identifying the
   corresponding BFD session at ingress without returning its
   discriminator presents unnecessary challenge for the implementation.
   Thus the egress LSR SHOULD NOT include BFD Discriminator TLV if
   sending echo reply to BFD bootstrapping echo request.

5.  IANA Considerations

   This document does not require any action by IANA.  This section may
   be removed.

6.  Security Considerations

   This document does not introduce new security aspects but inherits
   all security considerations from [RFC5880], [RFC5884], [RFC8029].

7.  Acknowledgements

   TBA

8.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.

   [RFC5880]  Katz, D. and D. Ward, "Bidirectional Forwarding Detection
              (BFD)", RFC 5880, DOI 10.17487/RFC5880, June 2010,
              <https://www.rfc-editor.org/info/rfc5880>.



Mirsky & Zhao            Expires April 21, 2018                 [Page 3]

Internet-Draft   Clarify Bootstrapping BFD over MPLS LSP    October 2017


   [RFC5884]  Aggarwal, R., Kompella, K., Nadeau, T., and G. Swallow,
              "Bidirectional Forwarding Detection (BFD) for MPLS Label
              Switched Paths (LSPs)", RFC 5884, DOI 10.17487/RFC5884,
              June 2010, <https://www.rfc-editor.org/info/rfc5884>.

   [RFC8029]  Kompella, K., Swallow, G., Pignataro, C., Ed., Kumar, N.,
              Aldrin, S., and M. Chen, "Detecting Multiprotocol Label
              Switched (MPLS) Data-Plane Failures", RFC 8029,
              DOI 10.17487/RFC8029, March 2017,
              <https://www.rfc-editor.org/info/rfc8029>.

   [RFC8174]  Leiba, B., "Ambiguity of Uppercase vs Lowercase in RFC
              2119 Key Words", BCP 14, RFC 8174, DOI 10.17487/RFC8174,
              May 2017, <https://www.rfc-editor.org/info/rfc8174>.

Authors' Addresses

   Greg Mirsky
   ZTE Corporation

   Email: gregimirsky@gmail.com


   Yanhua Zhao
   ZTE Corporation

   Email: zhao.yanhua3@zte.com.cn
























Mirsky & Zhao            Expires April 21, 2018                 [Page 4]
