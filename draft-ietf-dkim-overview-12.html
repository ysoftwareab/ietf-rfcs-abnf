<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>DomainKeys Identified Mail (DKIM) Service Overview</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="DomainKeys Identified Mail (DKIM) Service Overview">
<meta name="keywords" content="Email, Electronic Mail, Internet Mail, Message Verification">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">DomainKeys Identified Mail</td><td class="header">T. Hansen</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">AT&amp;T Laboratories</td></tr>
<tr><td class="header">Intended status: Informational</td><td class="header">D. Crocker</td></tr>
<tr><td class="header">Expires: December 1, 2009</td><td class="header">Brandenburg InternetWorking</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">P. Hallam-Baker</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">May 30, 2009</td></tr>
</table></td></tr></table>
<h1><br />DomainKeys Identified Mail (DKIM) Service Overview<br />draft-ietf-dkim-overview-12</h1>

<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted to IETF in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on December 1, 2009.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2009 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents in effect on the date of
publication of this document (http://trustee.ietf.org/license-info).
Please review these documents carefully, as they describe your
rights and restrictions with respect to this document.</p>

<h3>Abstract</h3>

<p> This document provides an overview of the DomainKeys Identified
            Mail (DKIM) service and describes how it can fit into a messaging
            service. It also describes how DKIM relates to other IETF message
            signature technologies. It is intended for those who are adopting,
            developing, or deploying DKIM. DKIM allows an organization to take
            responsibility for transmitting a message, in a way that can be
            verified by a recipient. The organization can be the author's, the
            originating sending site, an intermediary, or one of their agents.
            A message can contain multiple signatures, from the same or
            different organizations involved with the message. DKIM defines a
            domain-level digital signature authentication framework for email,
            using public-key cryptography, with the domain name service as its
            key server technology <a class='info' href='#RFC4871'>[RFC4871]<span> (</span><span class='info'>Allman, E., Callas, J., Delany, M., Libbey, M., Fenton, J., and M. Thomas, &ldquo;DomainKeys Identified Mail (DKIM) Signatures,&rdquo; May&nbsp;2007.</span><span>)</span></a>.
	    This permits verification of a responsible
            organization, as well as the integrity of the message contents.
            DKIM also enables a mechanism that permits potential email signers
            to publish information about their email signing practices; this
            will permit email receivers to make additional assessments about
            messages. DKIM's authentication of email identity can assist in
            the global control of "spam" and "phishing". 
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor2">1.1.</a>&nbsp;
DKIM's Scope<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor3">1.2.</a>&nbsp;
Prior Work<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">1.3.</a>&nbsp;
Internet Mail Background<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor5">1.4.</a>&nbsp;
Discussion Venue<br />
<a href="#anchor7">2.</a>&nbsp;
The DKIM Value Proposition<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor8">2.1.</a>&nbsp;
Identity Verification<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor9">2.2.</a>&nbsp;
Enabling Trust Assessments<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor10">2.3.</a>&nbsp;
Establishing Message Validity<br />
<a href="#anchor11">3.</a>&nbsp;
DKIM Goals<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor12">3.1.</a>&nbsp;
Functional Goals<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor18">3.2.</a>&nbsp;
Operational Goals<br />
<a href="#anchor24">4.</a>&nbsp;
DKIM Function<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#basicsign">4.1.</a>&nbsp;
Basic Signing<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor25">4.2.</a>&nbsp;
Characteristics of a DKIM Signature<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor26">4.3.</a>&nbsp;
The Selector Construct<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor27">4.4.</a>&nbsp;
Verification<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor28">4.5.</a>&nbsp;
Sub-Domain Assessment<br />
<a href="#anchor29">5.</a>&nbsp;
Service Architecture<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor30">5.1.</a>&nbsp;
Administration and Maintenance<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor31">5.2.</a>&nbsp;
Signing<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor32">5.3.</a>&nbsp;
Verifying<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor33">5.4.</a>&nbsp;
Unverified or Unsigned Mail<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor34">5.5.</a>&nbsp;
Assessing<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor35">5.6.</a>&nbsp;
DKIM Processing within an ADMD<br />
<a href="#anchor36">6.</a>&nbsp;
Considerations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor37">6.1.</a>&nbsp;
Security Considerations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor38">6.2.</a>&nbsp;
IANA Considerations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor39">6.3.</a>&nbsp;
Acknowledgements<br />
<a href="#rfc.references1">7.</a>&nbsp;
Informative References<br />
<a href="#appendixMailBackground">Appendix&nbsp;A.</a>&nbsp;
Internet Mail Background<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor41">A.1.</a>&nbsp;
Core Model<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#AdminDomain">A.2.</a>&nbsp;
Trust Boundaries<br />
<a href="#rfc.index">&#167;</a>&nbsp;
Index<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p> This document provides a description of the architecture and
           functionality for DomainKeys Identified Mail (DKIM),
	   that is, the core mechanism for signing and verifying messages. 
	   It is intended for those who are adopting, developing, or deploying DKIM.
	   It will also be helpful for those who are considering
           extending DKIM, either into other areas of use or to support
           additional features. This overview does not provide information on
           threats to DKIM or email, or details on the protocol specifics,
           which can be found in <a class='info' href='#RFC4686'>[RFC4686]<span> (</span><span class='info'>Fenton, J., &ldquo;Analysis of Threats Motivating DomainKeys Identified Mail (DKIM),&rdquo; September&nbsp;2006.</span><span>)</span></a> and <a class='info' href='#RFC4871'>[RFC4871]<span> (</span><span class='info'>Allman, E., Callas, J., Delany, M., Libbey, M., Fenton, J., and M. Thomas, &ldquo;DomainKeys Identified Mail (DKIM) Signatures,&rdquo; May&nbsp;2007.</span><span>)</span></a>, respectively.
	   Because the scope of this Overview is restricted to the technical details
	   of signing and verifying using DKIM,
	   it does not explore operational issues,
	   the details of services that DKIM uses or that,
	   in turn, use DKIM.
	   Nor does it discuss services that build upon DKIM for enforcement
	   of policies or assessments.
	   The document assumes a background in basic email and network security
	   technology and services. 
</p>
<p>DKIM allows an organization to take responsibility for a message,
            in a way that can be verified by a recipient. The organization can
            be a direct handler of the message, such as the author's, the
            originating sending site's or an intermediary's along the transit
            path. However it can also be and indirect handler, such as an
            independent service that is providing assistance to a direct
            handler. DKIM defines a domain-level digital signature
            authentication framework for email through the use of public-key
            cryptography and using the domain name service as its key server
            technology. <a class='info' href='#RFC4871'>[RFC4871]<span> (</span><span class='info'>Allman, E., Callas, J., Delany, M., Libbey, M., Fenton, J., and M. Thomas, &ldquo;DomainKeys Identified Mail (DKIM) Signatures,&rdquo; May&nbsp;2007.</span><span>)</span></a> It permits verification of the signer of a
            message, as well as the integrity of its contents. DKIM will also
            provide a mechanism that permits potential email signers to
            publish information about their email signing practices; this will
            permit email receivers to make additional assessments of unsigned
            messages. DKIM's authentication of email identity can assist in
            the global control of "spam" and "phishing". <a name='anchor42'></a><a name='anchor43'></a>
</p>
<p> Neither this document nor DKIM attempts to provide solutions to
            the world's problems with spam, phishing, viruses, worms, joe
            jobs, etc. DKIM provides one basic tool, in what needs to be a
            large arsenal, for improving basic trust in the Internet mail
            service. However by itself, DKIM is not sufficient to that task
            and this overview does not pursue the issues of integrating DKIM
            into these larger efforts, beyond a simple reference within a
            system diagram. Rather, it is a basic introduction to the
            technology and its use. 
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.1"></a><h3>1.1.&nbsp;
DKIM's Scope</h3>

<p>A person or organization has an "identity" -- that is, a
               constellation of characteristics that distinguish them from any
               other identity. Associated with this abstraction can be a label
               used as a reference, or "identifier". This is the distinction
               between a thing and the name of the thing. DKIM uses a domain
               name as an identifier, to refer to the identity of a
               responsible person or organization. In DKIM, this identifier is
               called the Signing Domain IDentifier (SDID) and is contained in
               the DKIM-Signature header fields "d=" tag. Note that the same
               identity can have multiple identifiers. <a name='anchor44'></a>
               <a name='anchor45'></a>
</p>
<p>A DKIM signature can be created by a direct handler of a
               message, such as the message's author or an intermediary. A
               signature also can be created by an independent service that is
               providing assistance to a handler of the message. Whoever does
               the signing chooses the SDID to be used as the basis for later
               assessments. Hence, the reputation associated with that domain
               name might be an additional basis for evaluating whether to
               trust the message for delivery. The owner of the SDID is
               declaring that they accept responsibility for the message and
               can thus be held accountable for it.
</p>
<p>DKIM is intended as a value-added feature for email. Mail that
               is not signed by DKIM is handled in the same way as it was
               before DKIM was defined. The message will be evaluated by
               established analysis and filtering techniques. (A signing
               policy can provide additional information for that analysis and
               filtering.) Over time, widespread DKIM adoption could permit
               more strict handling of messages that are not signed. However
               early benefits do not require this and probably do not warrant
               this. 
</p>
<p>DKIM has a narrow scope. It is an enabling technology, intended
               for use in the larger context of determining message
               legitimacy. This larger context is complex, so it is easy to
               assume that a component like DKIM, which actually provides only
               a limited service, instead satisfies the broader set of
               requirements.
</p><a name='anchor46'></a>
<p>By itself, a DKIM signature: </p>
<ul class="text">
<li>Does not authenticate or verify the contents of the
                     message header or body, such as the author From field,
                     beyond certifying data integrity between the time of
                     signing and the time of verifying.
</li>
<li>Does not offer any assertions about the behaviors of the
                     signer. 
</li>
<li>Does not prescribe any specific actions for receivers to
                     take upon successful signature verification. 
</li>
<li>Does not provide protection after signature verification. 
</li>
<li>Does not protect against re-sending (replay of) a message
                     that already has a verified signature; therefore a
                     transit intermediary or a recipient can re-post the
                     message -- that is, post it as a new message -- with the
                     original signature remaining verifiable, even though the
                     new recipient(s) might be different from those who were
                     originally specified by the author. 
</li>
</ul><p>
            
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.2"></a><h3>1.2.&nbsp;
Prior Work</h3>
<a name='anchor47'></a><a name='anchor48'></a>
<p>Historically, the IP Address of the system that directly sent
              the message -- that is, the previous email "hop" -- has been
              treated as an identity to use for making assessments.
	      For example, see <a class='info' href='#RFC4408'>[RFC4408]<span> (</span><span class='info'>Wong, M. and W. Schlitt, &ldquo;Sender Policy Framework (SPF) for Authorizing Use of Domains in E-Mail, Version 1,&rdquo; April&nbsp;2006.</span><span>)</span></a>,
	      <a class='info' href='#RFC4406'>[RFC4406]<span> (</span><span class='info'>Lyon, J. and M. Wong, &ldquo;Sender ID: Authenticating E-Mail,&rdquo; April&nbsp;2006.</span><span>)</span></a> and <a class='info' href='#RFC4407'>[RFC4407]<span> (</span><span class='info'>Lyon, J., &ldquo;Purported Responsible Address in E-Mail Messages,&rdquo; April&nbsp;2006.</span><span>)</span></a>
	      for some current uses of the sending
              system's IP address. The IP Address is obtained via underlying
              Internet information mechanisms and is therefore trusted to be
              accurate. Besides having some known security weaknesses, the
              use of addresses presents a number of functional and
              operational problems. Consequently there is a widespread desire
              to use an identifier that has better correspondence to
              organizational boundaries. Domain names can satisfy this need. 
</p><a name='anchor49'></a><a name='anchor50'></a><a name='anchor51'></a><a name='anchor52'></a><a name='anchor53'></a><a name='anchor54'></a><a name='anchor55'></a><a name='anchor56'></a>
<p> There have been four previous IETF Internet Mail signature
              standards.
	      Their goals have differed from those of DKIM.
	      PEM and MOSS are only of historical interest.
	      </p>
<ul class="text">
<li>Privacy Enhanced Mail (PEM) was first published in 1987.
		  <a class='info' href='#RFC0989'>[RFC0989]<span> (</span><span class='info'>Linn, J. and IAB Privacy Task Force, &ldquo;Privacy enhancement for Internet electronic mail: Part I: Message encipherment and authentication procedures,&rdquo; February&nbsp;1987.</span><span>)</span></a>
                
</li>
<li> Pretty Good Privacy (PGP) was developed by Phil
                  Zimmermann and first released in 1991.
		  A later version was standardized as OpenPGP.
                  <a class='info' href='#RFC1991'>[RFC1991]<span> (</span><span class='info'>Atkins, D., Stallings, W., and P. Zimmermann, &ldquo;PGP Message Exchange Formats,&rdquo; August&nbsp;1996.</span><span>)</span></a>
		  <a class='info' href='#RFC2440'>[RFC2440]<span> (</span><span class='info'>Callas, J., Donnerhacke, L., Finney, H., and R. Thayer, &ldquo;OpenPGP Message Format,&rdquo; November&nbsp;1998.</span><span>)</span></a>
                  <a class='info' href='#RFC3156'>[RFC3156]<span> (</span><span class='info'>Elkins, M., Del Torto, D., Levien, R., and T. Roessler, &ldquo;MIME Security with OpenPGP,&rdquo; August&nbsp;2001.</span><span>)</span></a>
                  <a class='info' href='#RFC4880'>[RFC4880]<span> (</span><span class='info'>Callas, J., Donnerhacke, L., Finney, H., Shaw, D., and R. Thayer, &ldquo;OpenPGP Message Format,&rdquo; November&nbsp;2007.</span><span>)</span></a>
		
</li>
<li>PEM eventually transformed into MIME Object Security
                  Services (MOSS) in 1995.
		  <a class='info' href='#RFC1848'>[RFC1848]<span> (</span><span class='info'>Crocker, S., Galvin, J., Murphy, S., and N. Freed, &ldquo;MIME Object Security Services,&rdquo; October&nbsp;1995.</span><span>)</span></a>
                
</li>
<li>RSA Security independently developed Secure MIME (S/MIME)
                  to transport a PKCS #7 data object. It was standardized as
		  <a class='info' href='#RFC3851'>[RFC3851]<span> (</span><span class='info'>Ramsdell, B., &ldquo;Secure/Multipurpose Internet Mail Extensions (S/MIME) Version 3.1 Message Specification,&rdquo; July&nbsp;2004.</span><span>)</span></a>.
                
</li>
</ul><p>
	      Development of both S/MIME and OpenPGP has continued.
              While each has achieved a significant user base, neither one
              has achieved ubiquity in deployment or use.
	    
</p>
<p>
	      To the extent that other message-signing services might have
              been adapted to do the job that DKIM is designed to perform, it
              was felt that re-purposing any of those would be more
              problematic than creating a separate service. That said, DKIM
              only uses cryptographic components that have a long history,
              including use within some of those other messaging security
              services.
	    
</p><a name='anchor57'></a><a name='anchor58'></a><a name='anchor59'></a>
<p>DKIM is differentiated by its reliance on an identifier that is
               specific to DKIM use.
</p>
<p> DKIM also has a distinctive approach for distributing and
               vouching for keys. It uses a key-centric public key management
               scheme, rather than the more typical approaches based on a
               certificate in the styles of Kohnfelder (X.509)
	      <a class='info' href='#Kohnfelder'>[Kohnfelder]<span> (</span><span class='info'>Kohnfelder, L., &ldquo;Towards a Practical Public-key Cryptosystem,&rdquo; May&nbsp;1978.</span><span>)</span></a> or Zimmermann (web of trust)
	      <a class='info' href='#WebofTrust'>[WebofTrust]<span> (</span><span class='info'>Wikipedia, &ldquo;Web of Trust,&rdquo; .</span><span>)</span></a>. For DKIM, the owner of the SDID
               asserts the validity of a key, rather than having the validity
               of the key attested to by a trusted third party, often
               including other assertions, such as a quality assessment of the
               key's owner. DKIM treats quality assessment as an independent,
               value-added service, beyond the initial work of deploying a
               signature verification service. 
</p><a name='anchor60'></a><a name='anchor61'></a>
<p> Further, DKIM's key management is provided by adding
               information records to the existing Domain Name System (DNS)
	      <a class='info' href='#RFC1034'>[RFC1034]<span> (</span><span class='info'>Mockapetris, P., &ldquo;Domain names - concepts and facilities,&rdquo; November&nbsp;1987.</span><span>)</span></a>, rather than requiring deployment of a
               new query infrastructure. This approach has significant
               operational advantages. First, it avoids the considerable
               barrier of creating a new global infrastructure; hence it
               leverages a global base of administrative experience and highly
               reliable distributed operation. Second, the technical aspect of
               the DNS is already known to be efficient. Any new service would
               have to undergo a period of gradual maturation, with
               potentially problematic early-stage behaviors. By (re-)using
               the DNS, DKIM avoids these growing pains. <a name='anchor62'></a>
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.3"></a><h3>1.3.&nbsp;
Internet Mail Background</h3>
<a name='anchor63'></a><a name='anchor64'></a><a name='anchor65'></a><a name='anchor66'></a><a name='anchor67'></a><a name='anchor68'></a><a name='anchor69'></a><a name='anchor70'></a><a name='anchor71'></a><a name='anchor72'></a><a name='anchor73'></a><a name='anchor74'></a><a name='anchor75'></a><a name='anchor76'></a>
<p> The basic Internet Email service has evolved extensively over
               its several decades of continuous operation. Its modern
               architecture comprises a number of specialized components. A
               discussion about Mail User Agents (MUA), Mail Handling Services
               (MHS), Mail Transfer Agents (MTA), Mail Submission Agents
               (MSA), Mail Delivery Agents (MDA), Mail Service Providers
               (MSP), Administrative Management Domains (ADMDs), Mediators,
               and their relationships can be found in <a class='info' href='#appendixMailBackground'>Appendix&nbsp;A<span> (</span><span class='info'>Internet Mail Background</span><span>)</span></a>. 
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.4"></a><h3>1.4.&nbsp;
Discussion Venue</h3>

<p>
               </p>
<blockquote class="text"><dl>
<dt>NOTE TO RFC EDITOR:  </dt>
<dd>This "Discussion Venue"
                     section is to be removed prior to publication. 
</dd>
</dl></blockquote><p>
            
</p>
<p> This document is being discussed on the DKIM mailing list,
               ietf-dkim@mipassoc.org. 
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.4.1"></a><h3>1.4.1.&nbsp;
Changes to document</h3>

<p>In addition to simple wordsmithing, the following
                  substantive changes were made: </p>
<blockquote class="text"><dl>
<dt>Service Arch figure and text:  </dt>
<dd>(per
                        Allman) Existing figure and text carries vestigial
                        references to role of MSA and MDA. New text switches
                        focus to ADMD more completely and merely cites
                        possible functional modules within them.
</dd>
<dt>Identity vs. Identifier: </dt>
<dd> Added text in
                        Scope to define terms and their relationship.
</dd>
<dt>Message Validity:  </dt>
<dd>Added section
                        discussing restricted implication of this.
</dd>
</dl></blockquote><p>
               
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
The DKIM Value Proposition</h3>
<a name='anchor77'></a><a name='anchor78'></a>
<p>The nature and origins of a message often are falsely stated. Such
            misrepresentations may be employed for legitimate reasons or for
            nefarious reasons. DKIM provides a foundation for distinguishing
            legitimate mail, and thus a means of associating a verifiable
            identifier with a message. Given the presence of that identifier,
            a receiver can make decisions about further handling of the
            message, based upon assessments of the identity that is associated
            with the identifier. 
</p>
<p>Receivers who successfully verify a signature can use information
            about the signer as part of a program to limit spam, spoofing,
            phishing, or other undesirable behavior. DKIM does not, itself,
            prescribe any specific actions by the recipient; rather it is an
            enabling technology for services that do. 
</p><a name='anchor79'></a>
<p>These services will typically: </p>
<ol class="text">
<li>Determine a verified identity as taking responsibility for
                  the message, if possible.
</li>
<li>Evaluate the trustworthiness of this/these identities.
</li>
</ol><p> The role of DKIM is to perform the first of these; DKIM is
            an enabler for the second. 
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.1"></a><h3>2.1.&nbsp;
Identity Verification</h3>
<a name='anchor80'></a><a name='anchor81'></a><a name='anchor82'></a>
<p>Consider an attack made against an organization or against
               customers of an organization. The name of the organization is
               linked to a particular Internet domain names (identifiers).
               Attackers can leverage either using a legitimate domain name,
               without authorization, or a "cousin" name that is similar to
               one that is legitimate, but is not controlled by the target
               organization. An assessment service that uses DKIM can
               differentiate between a domain (SDID) used by a known
               organization and a domain used by others. As such, DKIM
               performs the positive step of identifying messages associated
               with verifiable identities, rather than the negative step of
               identifying messages with problematic use of identities.
               Whether a verified identity belongs to a Good Actor or a Bad
               Actor is a question for later stages of assessment. 
</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.2"></a><h3>2.2.&nbsp;
Enabling Trust Assessments</h3>
<a name='anchor83'></a><a name='anchor84'></a>
<p>Email receiving services are faced with a basic decision:
               Whether to accept and deliver a newly-arrived message to the
               indicated recipient? That is, does the receiving service trust
               that the message is sufficiently "safe" to be viewed? For the
               modern Internet, most receiving services have an elaborate
               engine that formulates this quality assessment. These engines
               take a variety of information as input to the decision, such as
               from reputation lists and accreditation services. As the engine
               processes information, it raises or lowers its trust assessment
               for the message. <a name='anchor85'></a>
</p>
<p>In order to formulate reputation information, an accurate,
               stable identifier is needed. Otherwise, the information might
               not pertain to the identified organization's own actions. When
               using an IP Address, accuracy is based on the belief that the
               underlying Internet infrastructure supplies an accurate
               address. When using domain based reputation data, some other
               form of verification is needed, since it is not supplied
               independently by the infrastructure. <a name='anchor86'></a>
</p>
<p>DKIM satisfies this requirement by declaring a valid
               "responsible" identity -- referenced through the SDID -- about
               which the engine can make quality assessments and by using a
               digital signature to ensure that use of the identifier is
               authorized. However by itself, a valid DKIM signature neither
               lowers nor raises the level of trust associated with the
               message, but it enables other mechanisms to be used for doing
               so. 
</p>
<p>An organization might build upon its use of DKIM by publishing
               information about its Signing Practices (SP). This could permit
               detecting some messages that purport to be associated with a
               domain, but which are not. As such, an SP can cause the trust
               assessment to be reduced, or leave it unchanged. 
</p>
<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.3"></a><h3>2.3.&nbsp;
Establishing Message Validity</h3>

<p>Though man-in-the-middle attacks are historically rare in
               email, it is nevertheless theoretically possible for a message
               to be modified during transit. An interesting side effect of
               the cryptographic method used by DKIM is that it is possible to
               be certain that a signed message (or, if l= is used, the signed
               portion of a message) has not been modified between the time of
               signing and the time of verifying. If it has been changed in
               any way, then the message will not be verified successfully
               with DKIM.
</p><a name='anchor87'></a><a name='anchor88'></a>
<p>As described above, this validity neither lowers nor raises the
               level of trust associated with the message. If it was an
               untrustworthy message when initially sent, the verifier can be
               certain that the message will be equally untrustworthy upon
               receipt and successful verification.
</p>
<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
DKIM Goals</h3>
<a name='anchor89'></a>
<p>DKIM adds an end-to-end authentication capability to the existing
            email transfer infrastructure. That is, there can be multiple
            email relaying hops between signing and verifying. Hence, it
            defines a mechanism that only needs to be supported by the signer
            and the verifier, rather than any of the functional components
            along the handling path. This motivates functional goals about the
            authentication itself and operational goals about its integration
            with the rest of the Internet email service. 
</p>
<a name="anchor12"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
Functional Goals</h3>

<a name="anchor13"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1.1"></a><h3>3.1.1.&nbsp;
Use Domain-level granularity for assurance</h3>
<a name='anchor90'></a>
<p> DKIM provides accountability at the coarse granularity of
                  an organization or, perhaps, a department. An existing
                  construct that enables this granularity is the Domain Name
		 <a class='info' href='#RFC1034'>[RFC1034]<span> (</span><span class='info'>Mockapetris, P., &ldquo;Domain names - concepts and facilities,&rdquo; November&nbsp;1987.</span><span>)</span></a>. DKIM binds a signing key record to a
                  Domain Name, as the SDID. Further benefits of using domain
                  names include simplifying key management, enabling signing
                  by the infrastructure as opposed to the MUA, and reducing
                  privacy concerns. 
</p>
<p> Contrast this with OpenPGP and S/MIME, which associate
                  verification with individual authors, using their full
                  email addresses. 
</p>
<a name="anchor14"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1.2"></a><h3>3.1.2.&nbsp;
Implementation Locality</h3>

<p> Any party, anywhere along the transit path can implement
                  DKIM signing. Its use is not confined to particular systems,
                  such as the author's MUA or the inbound boundary MTA, and
                  there can be more than one signature per message. 
</p>
<a name="anchor15"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1.3"></a><h3>3.1.3.&nbsp;
Allow delegation of signing to independent parties</h3>

<p> Different parties have different roles in the process of
                  email exchange. Some are easily visible to end users and
                  others are primarily visible to operators of the service.
                  DKIM was designed to support signing by any of these
                  different parties and to permit them to sign with any domain
                  name that they deem appropriate (and for which they hold
                  authorized signing keys.) As an example an organization that
                  creates email content often delegates portions of its
                  processing or transmission to an outsourced group. DKIM
                  supports this mode of activity, in a manner that is not
                  normally visible to end users. Similarly, a reputation
                  provider can delegate a signing key for a domain under the
                  control of the provider, to be used by an organization the
                  provider is prepared to vouch for. 
</p>
<a name="anchor16"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1.4"></a><h3>3.1.4.&nbsp;
Distinguish the core authentication mechanism from its derivative uses</h3>
<a name='anchor91'></a>
<p> An authenticated identity can be subject to a variety of
                  assessment policies, either ad hoc or standardized. DKIM
                  separates basic authentication from assessment. The only
                  semantics inherent to a DKIM signature are that the signer is
                  asserting some kind of responsibility for the message. Any
                  interpretation of this kind of responsibility is the job of
                  services building on DKIM, but the details are beyond the
                  scope of that core. One such mechanism might assert a
                  relationship between the SDID and the author, as specified
                  in the rfc5322.From: header field's domain identity.
		  Another might specify how to treat an
                  unsigned message with that rfc5322.From: field domain. 
</p>
<a name="anchor17"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1.5"></a><h3>3.1.5.&nbsp;
Retain ability to have anonymous email</h3>

<p>The ability to send a message that does not identify its
                  author is considered to be a valuable quality of the current
                  email service that needs to be retained. DKIM is compatible
                  with this goal since it permits authentication of the email
                  system operator, rather than the content author. If it is
                  possible to obtain effectively anonymous accounts at
                  example.com, knowing that a message definitely came from
                  example.com does not threaten the anonymity of the user who
                  authored it. 
</p>
<a name="anchor18"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
Operational Goals</h3>

<a name="anchor19"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2.1"></a><h3>3.2.1.&nbsp;
Make presence of signature transparent to non-supporting recipients</h3>

<p> In order to facilitate incremental adoption, DKIM is
                  designed to be transparent to recipients that do not support
                  it. A DKIM signature does not "get in the way" for such
                  recipients. 
</p>
<p> Contrast this with S/MIME and OpenPGP, which modify the
                  message body. Hence, their presence is potentially visible
                  to email recipients, whose user software needs to process
                  the associated constructs. 
</p>
<a name="anchor20"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2.2"></a><h3>3.2.2.&nbsp;
Treat verification failure the same as no signature present</h3>

<p>DKIM must also be transparent to existing assessment
                  mechanisms. Consequently, a DKIM signature verifier is to
                  treat messages with signatures that fail as if they were
                  unsigned. Hence the message will revert to normal handling,
                  through the receiver's existing filtering mechanisms. Thus,
                  DKIM specifies that an assessing site is not to take a
                  message that has a broken signature and treat it any
                  differently than if the signature weren't there. <a name='anchor92'></a>
</p>
<p> Contrast this with OpenPGP and S/MIME, which were designed
                  for strong cryptographic protection. This included treating
                  verification failure as message failure. 
</p>
<a name="anchor21"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2.3"></a><h3>3.2.3.&nbsp;
Permit incremental adoption for incremental benefit</h3>

<p>DKIM can be used by any two organizations that exchange
                  email and implement DKIM; it does not require adoption
                  within the open Internet's email infrastructure. In the
                  usual manner of "network effects", the benefits of DKIM
                  increase as its adoption increases. <a name='anchor93'></a>
</p>
<p>Although this mechanism can be used in association with
                  independent assessment services, such services are not
                  essential in order to obtain initial benefit. For example
                  DKIM allows (possibly large) pairwise sets of email
                  providers and spam filtering companies to distinguish mail
                  that is associated with a known organization, versus mail
                  that might deceptively purport to have the affiliation. This
                  in turn allows the development of
                  &quot;whitelist&quot; schemes whereby authenticated
                  mail from a known source with good reputation is allowed to
                  bypass some anti-abuse filters. 
</p>
<p>In effect the email receiver can use their set of known
                  relationships to generate their own reputation data. This
                  works particularly well for traffic between large sending
                  providers and large receiving providers. However it also
                  works well for any operator, public or private, that has
                  mail traffic dominated by exchanges among a stable set of
                  organizations. 
</p><a name='anchor94'></a>
<p>Management of email delivery problems currently represents a
                  significant pain point for email administrators at every
                  point on the mail transit path. Administrators who have
                  deployed DKIM verification have an incentive to encourage
                  senders (who might subsequently complain that their email is
                  not being delivered) to use DKIM signatures. 
</p>
<a name="anchor22"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2.4"></a><h3>3.2.4.&nbsp;
Minimize the amount of required infrastructure</h3>
<a name='anchor95'></a>
<p>In order to allow early adopters to gain early benefit, DKIM
                  makes no changes to the core Internet Mail service and,
                  instead, can provide a useful benefit for any individual
                  pair of signers and verifiers who are exchanging mail.
                  Similarly, DKIM's reliance on the Domain Name System greatly
                  reduces the amount of new administrative infrastructure that
                  is needed across the open Internet. 
</p>
<a name="anchor23"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2.5"></a><h3>3.2.5.&nbsp;
Permit a wide range of deployment choices</h3>

<p>DKIM can be deployed at a variety of places within an
                  organization's email service. This affords flexibility in
                  terms of who administers its use, as well as what traffic
                  carries a DKIM signature. For example, employing DKIM at an
                  outbound boundary MTA will mean that it is administered by
                  the organization's central IT department and that internal
                  messages are not signed. 
</p>
<a name="anchor24"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
DKIM Function</h3>

<p>DKIM has a very constrained set of capabilities, primarily
            targeting email while it is in transit from an author to a set of
            recipients. It associates verifiable information with a message,
            especially a responsible identity. When a message does not have a
            valid signature associated with the author, a DKIM SP will permit
            the domain name of the author to be used for obtaining information
            about their signing practices. <a name='anchor96'></a>
</p>
<a name="basicsign"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1"></a><h3>4.1.&nbsp;
Basic Signing</h3>

<p>With the DKIM signature mechanism, a signer chooses a SDID,
               performs digital signing on the message, and adds the signature
               information using a DKIM header field. A verifier obtains the
               domain name and the &quot;selector&quot; from the DKIM
               header field, obtains the public key associated with the name,
               and verifies the signature. 
</p>
<p>DKIM permits any domain name to be used as the SDID, and
               supports extensible choices for various algorithms. As is
               typical for Internet standards, there is a core set of
               algorithms that all implementations are required to support, in
               order to guarantee basic interoperability. 
</p>
<p>DKIM permits restricting the use of a signature key to signing
               messages for particular types of services, such as only for a
               single source of email. This is intended to be helpful when
               delegating signing authority, such as to a particular
               department or to a third-party outsourcing service. 
</p>
<p>With DKIM the signer explicitly lists the headers that are
               signed, such as From:, Date: and Subject:. By choosing the
               minimal set of headers needed, the signature is likely to be
               considerably more robust against the handling vagaries of
               intermediary MTAs. 
</p>
<a name="anchor25"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2"></a><h3>4.2.&nbsp;
Characteristics of a DKIM Signature</h3>

<p>A DKIM signature applies to the message body and selected
               header fields. The signer computes a hash of the selected
               header fields and another hash of the body. The signer then
               uses a private key to cryptographically encode this
               information, along with other signing parameters. Signature
               information is placed into DKIM-Signature:, a new
	      <a class='info' href='#RFC5322'>[RFC5322]<span> (</span><span class='info'>Resnick, P., Ed., &ldquo;Internet Message Format,&rdquo; October&nbsp;2008.</span><span>)</span></a> message header field. <a name='anchor97'></a>
</p>
<a name="anchor26"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.3"></a><h3>4.3.&nbsp;
The Selector Construct</h3>
<a name='anchor98'></a><a name='anchor99'></a>
<p>The key for a signature is associated with an SDID. That domain
               name provides the complete identity used for making assessments
               about the signer. (The DKIM specification does not give any
               guidance on how to do an assessment.) However this name is not
               sufficient for making a DNS query to obtain the key needed to
               verify the signature. 
</p>
<p>A single SDID can have multiple signing keys and/or multiple
               potential signers. To support this, DKIM identifies a
               particular signature as using a combination of the SDID and an
               added field, called the "selector", specified in a separate
               DKIM-Signature: header field parameter. <a name='anchor100'></a>
</p>
<p>
               </p>
<blockquote class="text"><dl>
<dt>NOTE:  </dt>
<dd>The semantics of the selector (if any)
                     are strictly reserved to the signer and is to be treated
                     as an opaque string by all other parties. If verifiers
                     were to employ the selector as part of an assessment
                     mechanism, then there would be no remaining mechanism for
                     making a transition from an old, or compromised, key to a
                     new one. 
</dd>
</dl></blockquote><p>
            
</p>
<a name="anchor27"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.4"></a><h3>4.4.&nbsp;
Verification</h3>

<p>After a message has been signed, any agent in the message
               transit path can verify the signature to determine that the
               owner of the SDID took responsibility for the message. Message
               recipients can verify the signature by querying the DNS for the
               signer's domain directly, to retrieve the appropriate public
               key, and thereby confirm that the message was signed to by a
               party in possession of the private key for the SDID. Typically,
               verification will be done by an agent in the Administrative
               Management Domain (ADMD) of the message recipient. <a name='anchor101'></a>
               <a name='anchor102'></a>
</p>
<a name="anchor28"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.5"></a><h3>4.5.&nbsp;
Sub-Domain Assessment</h3>

<p>Signers often need to support multiple assessments about their
               organization, such as to distinguish one type of message from
               another, or one portion of the organization from another. To
               permit assessments that are independent, one method is for an
               organization to use different sub-domains as the SDID tag, such
               as "transaction.example.com" versus "newsletter.example.com",
               or "productA.example.com" versus "productB.example.com". These
               can be entirely separate from the rfc5322.From header field
               domain.
</p>
<a name="anchor29"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Service Architecture</h3>

<p>
            <br /><hr class="insert" />
<a name="DKIMSvc"></a>
<a name='anchor103'></a>
<p>DKIM uses external service components, such as for
                  key retrieval and relaying email. This specification defines
                  an initial set, using DNS and SMTP, for basic
                  interoperability.
</p><div style='display: table; width: 0; margin-left: auto; margin-right: auto'><pre>                             |
                             |- RFC5322 Message
                             V
+--------+    +--------------------------------+
| Private|    |  ORIGINATING OR RELAYING ADMD  |
| Key    +...&gt;|  Sign Message with SDID        |
| Store  |    +---------------+----------------+
+--------+                    |
 (paired)                 [Internet]
+--------+                    |                     +-----------+
| Public |    +--------------------------------+    | Remote    |
| Key    |    |  RELAYING OR DELIVERING ADMD   |    | Sender    |
| Store  |    |  Message Signed?               |    | Practices |
+----+---+    +-----+--------------------+-----+    +-----+-----+
     .              |yes                 |no              .
     .              V                    |                .
     .        +-------------+            |                .
     +.......&gt;|  Verify     +--------+   |                .
              |  Signature  |        |   |                .
              +------+------+        |   |                .
                 pass|           fail|   |                .
                     V               |   |                .
              +-------------+        |   |                .
              |             |        |   |                .
     +.......&gt;| Assessments |        |   |                .
     .        |             |        V   V                .
     .        +-----+--+----+      +-------+              .
     .              |  |          / Check   \&lt;............+
     .              |  +--------&gt;/  Signing  \
     .              |           /   Practices \&lt;..........+
     .              |          +-------+-------+          .
     .              |                  |                  .
     .              |                  V                  .
+----+--------+     |            +-----------+     +------+-----+
|Reputation/  |     |            | Message   |     | Local Info |
|Accreditation|     +-----------&gt;| Filtering |     | on Sender  |
|Info         |                  | Engine    |     | Practices  |
+-------------+                  +-----------+     +------------+</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;1: DKIM Service Architecture&nbsp;</b></font><br /></td></tr></table><hr class="insert" />
 As shown in <a class='info' href='#DKIMSvc'>Figure&nbsp;1<span> (</span><span class='info'>DKIM Service Architecture</span><span>)</span></a>, basic message processing is divided
            between a signing Administrative Management Domain (ADMD) and a
            verifying ADMD. At its simplest, this is between the Originating
            ADMD and the delivering ADMD, but can involve other ADMDs in the
            handling path. 
<blockquote class="text"><dl>
<dt>Signing: </dt>
<dd> Signing is performed by an authorized
                  module within the signing ADMD and uses private information
                  from the Key Store, as discussed below. Within the
                  originating ADMD, this might be performed by the MUA, MSA or
                  an MTA.
</dd>
<dt>verifying: </dt>
<dd> verifying is performed by an
                  authorized module within the verifying ADMD. Within a
                  delivering ADMD, verifying might be performed by an MTA, MDA
                  or MUA. The module verifies the signature or determines
                  whether a particular signature was required. Verifying the
                  signature uses public information from the Key Store. If the
                  signature passes, reputation information is used to assess
                  the signer and that information is passed to the message
                  filtering system. If the signature fails or there is no
                  signature using the author's domain, information about
                  signing practices related to the author can be retrieved
                  remotely and/or locally, and that information is passed to
                  the message filtering system. 
</dd>
</dl></blockquote><p> If message has more than one valid signature, the order in
            which the signers are assessed and the interactions among the
            assessments are not defined by the DKIM specification. 
</p>
<a name="anchor30"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1"></a><h3>5.1.&nbsp;
Administration and Maintenance</h3>
<a name='anchor104'></a>
<p> A number of tables and services are used to provide external
               information. Each of these introduces administration and
               maintenance requirements. </p>
<blockquote class="text"><dl>
<dt>Key Store:  </dt>
<dd> DKIM uses public/private
                     (asymmetric) key cryptography. The signer users a private
                     key and the verifier uses the corresponding public key.
                     The current DKIM Signing specification provides for
                     querying the Domain Names Service (DNS), to permit a
                     verifier to obtain the public key. The signing
                     organization therefore needs to have a means of adding a
                     key to the DNS, for every selector/SDID combination.
                     Further, the signing organization needs policies for
                     distributing and revising keys. 
</dd>
<dt>Reputation/Accreditation:  </dt>
<dd> If a message
                     contains a valid signature, then the verifier can
                     evaluate the associated domain name's reputation, in
                     order to determine appropriate delivery or display
                     options for that message. Quality assessment information,
                     which is associated with a domain name, comes in many
                     forms and from many sources. DKIM does not define
                     assessment services. Its relevance to them is to provide
                     a verified domain name, upon which assessments can be
                     made. 
</dd>
<dt>Signing Practices (SP):  </dt>
<dd> Separate from
                     determining the validity of a signature, and separate
                     from assessing the reputation of the organization that is
                     associated with the signed identity, there is an the
                     opportunity to determine any organizational practices
                     concerning a domain name. Practices can range widely.
                     They can be published by the owner of the domain or they
                     can be maintained by the evaluating site. They can
                     pertain to the use of the domain name, such as whether it
                     is used for signing messages, whether all mail having
                     that domain name in the author rfc5322.From: header field is
                     signed, or even whether the domain owner recommends
                     discarding messages in the absence of an appropriate
                     signature. The statements of practice are made at the
                     level of a domain name, and are distinct from assessments
                     made about particular messages, as occur in a Message
                     Filtering Engine. Such assessments of practices can
                     provide useful input for the Message Filtering Engine's
                     determination of message handling. As practices are
                     defined, each domain name owner needs to consider what
                     information to publish. The nature and degree of checking
                     practices, if any is performed, is optional to the
                     evaluating site and is strictly a matter of local policy. 
</dd>
</dl></blockquote><p>
            
</p>
<a name="anchor31"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.2"></a><h3>5.2.&nbsp;
Signing</h3>

<p>Signing can be performed by a component of the ADMD that
               creates the message, and/or within any ADMD along the relay
               path. The signer uses the appropriate private key that is
               associated with the SDID. 
</p>
<a name="anchor32"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.3"></a><h3>5.3.&nbsp;
Verifying</h3>
<a name='anchor105'></a>
<p>Verification can be performed by any functional component along
               the relay and delivery path. Verifiers retrieve the public key
               based upon the parameters stored in the message. 
</p>
<a name="anchor33"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.4"></a><h3>5.4.&nbsp;
Unverified or Unsigned Mail</h3>

<p> Messages lacking a valid author signature (a signature
               associated with the author of the message as opposed to a
               signature associated with an intermediary) can prompt a query
               for any published "signing practices" information, as an aid in
               determining whether the author information has been used
               without authorization. 
</p>
<a name="anchor34"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.5"></a><h3>5.5.&nbsp;
Assessing</h3>

<p><a class='info' href='#DKIMSvc'>Figure&nbsp;1<span> (</span><span class='info'>DKIM Service Architecture</span><span>)</span></a> shows the verified identity as being
              used to assess an associated reputation, but it could be
              applied for other tasks, such as management tracking of mail.
	      Local policy guidelines may cause
	      signing practices to be checked or the message may be sent directly
	      to the message filtering engine.
	    
</p>
<p>A popular use of reputation information is as input to a
               filtering engine that decides whether to deliver -- and
               possibly whether to specially mark -- a message. Filtering
               engines have become complex and sophisticated. Their details
               are outside of the scope of DKIM, other than the expectation
               that the verified identity produced by DKIM can accumulate its
               own reputation, and will be added to the varied soup of rules
               used by the engines. The rules can cover signed messages and
               can deal with unsigned messages from a domain, if the domain
               has published information about its practices.
	    
</p>
<a name="anchor35"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.6"></a><h3>5.6.&nbsp;
DKIM Processing within an ADMD</h3>
<a name='anchor106'></a>
<p>It is expected that the most common venue for a DKIM
               implementation will be within the infrastructures of the
               authoring organization's outbound service and the receiving
               organization's inbound service, such as a department or a
               boundary MTA. DKIM can be implemented in an author's or
               recipient's MUA, but this is expected to be less typical, since
               it has higher administration and support costs. 
</p>
<p>A Mediator is an MUA that receives a message and can re-post a
               modified version of it, such as to a mailing list. A DKIM
               signature can survive some types of modifications through this
               process. Furthermore the Mediator can add its own signature.
               This can be added by the Mediator software itself, or by any
               outbound component in the Mediator's ADMD. 
</p>
<a name="anchor36"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Considerations</h3>

<a name="anchor37"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1"></a><h3>6.1.&nbsp;
Security Considerations</h3>

<p> The security considerations of the DKIM protocol are described
               in the DKIM base specification <a class='info' href='#RFC4871'>[RFC4871]<span> (</span><span class='info'>Allman, E., Callas, J., Delany, M., Libbey, M., Fenton, J., and M. Thomas, &ldquo;DomainKeys Identified Mail (DKIM) Signatures,&rdquo; May&nbsp;2007.</span><span>)</span></a>, with <a class='info' href='#RFC4686'>[RFC4686]<span> (</span><span class='info'>Fenton, J., &ldquo;Analysis of Threats Motivating DomainKeys Identified Mail (DKIM),&rdquo; September&nbsp;2006.</span><span>)</span></a> as their basis. 
</p>
<a name="anchor38"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2"></a><h3>6.2.&nbsp;
IANA Considerations</h3>

<p> There are no actions for IANA. </p>
<blockquote class="text"><dl>
<dt>NOTE TO RFC EDITOR:  </dt>
<dd>This section is to be
                     removed prior to publication. 
</dd>
</dl></blockquote><p>
            
</p>
<a name="anchor39"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.3"></a><h3>6.3.&nbsp;
Acknowledgements</h3>

<p> Many people contributed to the development of the DomainKeys
               Identified Mail and the effort of the DKIM Working Group is
               gratefully acknowledged. In particular, we would like to thank
               Jim Fenton for his extensive feedback diligently provided on
               every version of this document. 
</p>
<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>7.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="Kohnfelder">[Kohnfelder]</a></td>
<td class="author-text">Kohnfelder, L., &ldquo;Towards a Practical Public-key Cryptosystem,&rdquo; May&nbsp;1978.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC0989">[RFC0989]</a></td>
<td class="author-text">Linn, J. and IAB Privacy Task Force, &ldquo;<a href="http://tools.ietf.org/html/rfc989">Privacy enhancement for Internet electronic mail: Part I: Message encipherment and authentication procedures</a>,&rdquo; RFC&nbsp;989, February&nbsp;1987 (<a href="http://www.rfc-editor.org/rfc/rfc989.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC1034">[RFC1034]</a></td>
<td class="author-text">Mockapetris, P., &ldquo;<a href="http://tools.ietf.org/html/rfc1034">Domain names - concepts and facilities</a>,&rdquo; STD&nbsp;13, RFC&nbsp;1034, November&nbsp;1987 (<a href="http://www.rfc-editor.org/rfc/rfc1034.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC1848">[RFC1848]</a></td>
<td class="author-text"><a href="mailto:crocker@cybercash.com">Crocker, S.</a>, <a href="mailto:galvin@tis.com">Galvin, J.</a>, <a href="mailto:murphy@tis.com">Murphy, S.</a>, and <a href="mailto:ned@innosoft.com">N. Freed</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc1848">MIME Object Security Services</a>,&rdquo; RFC&nbsp;1848, October&nbsp;1995 (<a href="http://www.rfc-editor.org/rfc/rfc1848.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC1991">[RFC1991]</a></td>
<td class="author-text"><a href="mailto:warlord@MIT.EDU">Atkins, D.</a>, <a href="mailto:stallings@ACM.org">Stallings, W.</a>, and <a href="mailto:prz@acm.org">P. Zimmermann</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc1991">PGP Message Exchange Formats</a>,&rdquo; RFC&nbsp;1991, August&nbsp;1996 (<a href="http://www.rfc-editor.org/rfc/rfc1991.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2440">[RFC2440]</a></td>
<td class="author-text"><a href="mailto:jon@pgp.com">Callas, J.</a>, <a href="mailto:lutz@iks-jena.de">Donnerhacke, L.</a>, <a href="mailto:hal@pgp.com">Finney, H.</a>, and <a href="mailto:rodney@unitran.com">R. Thayer</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2440">OpenPGP Message Format</a>,&rdquo; RFC&nbsp;2440, November&nbsp;1998 (<a href="http://www.rfc-editor.org/rfc/rfc2440.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2440.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2440.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3156">[RFC3156]</a></td>
<td class="author-text">Elkins, M., Del Torto, D., Levien, R., and T. Roessler, &ldquo;<a href="http://tools.ietf.org/html/rfc3156">MIME Security with OpenPGP</a>,&rdquo; RFC&nbsp;3156, August&nbsp;2001 (<a href="http://www.rfc-editor.org/rfc/rfc3156.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3851">[RFC3851]</a></td>
<td class="author-text">Ramsdell, B., &ldquo;<a href="http://tools.ietf.org/html/rfc3851">Secure/Multipurpose Internet Mail Extensions (S/MIME) Version 3.1 Message Specification</a>,&rdquo; RFC&nbsp;3851, July&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3851.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4406">[RFC4406]</a></td>
<td class="author-text">Lyon, J. and M. Wong, &ldquo;<a href="http://tools.ietf.org/html/rfc4406">Sender ID: Authenticating E-Mail</a>,&rdquo; RFC&nbsp;4406, April&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4406.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4407">[RFC4407]</a></td>
<td class="author-text">Lyon, J., &ldquo;<a href="http://tools.ietf.org/html/rfc4407">Purported Responsible Address in E-Mail Messages</a>,&rdquo; RFC&nbsp;4407, April&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4407.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4408">[RFC4408]</a></td>
<td class="author-text">Wong, M. and W. Schlitt, &ldquo;<a href="http://tools.ietf.org/html/rfc4408">Sender Policy Framework (SPF) for Authorizing Use of Domains in E-Mail, Version 1</a>,&rdquo; RFC&nbsp;4408, April&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4408.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4686">[RFC4686]</a></td>
<td class="author-text">Fenton, J., &ldquo;<a href="http://tools.ietf.org/html/rfc4686">Analysis of Threats Motivating DomainKeys Identified Mail (DKIM)</a>,&rdquo; RFC&nbsp;4686, September&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4686.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4871">[RFC4871]</a></td>
<td class="author-text">Allman, E., Callas, J., Delany, M., Libbey, M., Fenton, J., and M. Thomas, &ldquo;<a href="http://tools.ietf.org/html/rfc4871">DomainKeys Identified Mail (DKIM) Signatures</a>,&rdquo; RFC&nbsp;4871, May&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc4871.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4880">[RFC4880]</a></td>
<td class="author-text">Callas, J., Donnerhacke, L., Finney, H., Shaw, D., and R. Thayer, &ldquo;<a href="http://tools.ietf.org/html/rfc4880">OpenPGP Message Format</a>,&rdquo; RFC&nbsp;4880, November&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc4880.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5322">[RFC5322]</a></td>
<td class="author-text"><a href="mailto:presnick@qualcomm.com">Resnick, P., Ed.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc5322">Internet Message Format</a>,&rdquo; RFC&nbsp;5322, October&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5322.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc5322.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc5322.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="WebofTrust">[WebofTrust]</a></td>
<td class="author-text">Wikipedia, &ldquo;<a href="http://en.wikipedia.org/wiki/Web_of_trust">Web of Trust</a>,&rdquo; URL&nbsp;http://en.wikipedia.org/wiki/Web_of_trust.</td></tr>
</table>

<a name="appendixMailBackground"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A"></a><h3>Appendix A.&nbsp;
Internet Mail Background</h3>

<a name="anchor41"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.1"></a><h3>A.1.&nbsp;
Core Model</h3>

<p>Internet Mail is split between the user world, in the form of
               Mail User Agents (MUA), and the transmission world, in the form
               of the Mail Handling Service (MHS) composed of Mail Transfer
               Agents (MTA). The MHS is responsible for accepting a message
               from one user, the author, and delivering it to one or more
               other users, the recipients. This creates a virtual MUA-to-MUA
               exchange environment. The first component of the MHS is called
               the Mail Submission Agent (MSA) and the last is called the Mail
               Delivery Agent (MDA). 
</p>
<p> An email Mediator is both an inbound MDA and outbound MSA. It
               takes delivery of a message, makes changes appropriate to its
               service, and then re-posts it for further distribution.
               Typically the new message will retain the original rfc5322.From: header
               field. A mailing list is a common example of a Mediator. 
</p>
<p>The modern Internet Mail service is marked by many independent
               operators, many different components for providing users with
               service and many other components for performing message
               transfer. Consequently, it is necessary to distinguish
               administrative boundaries that surround sets of functional
               components, which are subject to coherent operational policies. 
</p><a name='anchor107'></a>
<p>As elaborated on below, every MSA is a candidate for signing
               using DKIM, and every MDA is a candidate for doing DKIM
               verification. 
</p>
<a name="AdminDomain"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.2"></a><h3>A.2.&nbsp;
Trust Boundaries</h3>
<a name='anchor108'></a>
<p>Operation of Internet Mail services is apportioned to different
               providers (or operators). Each can be composed of an
               independent ADministrative Management Domain (ADMD). An ADMD
               operates with an independent set of policies and interacts with
               other ADMDs according to differing types and amounts of trust.
               Examples include an end-user operating a desktop client that
               connects to an independent email service, a department
               operating a submission agent or a local Relay, an
               organization's IT group that operates enterprise Relays, and an
               ISP operating a public shared email service. 
</p>
<p>Each of these can be configured into many combinations of
               administrative and operational relationships, with each ADMD
               potentially having a complex arrangement of functional
               components. <a class='info' href='#ADMD'>Figure&nbsp;2<span> (</span><span class='info'>ADministrative Management Domains (ADMD) Example</span><span>)</span></a> depicts the relationships among ADMDs.
               Perhaps the most salient aspect of an ADMD is the differential
               trust that determines its policies for activities within the
               ADMD, versus those involving interactions with other ADMDs. 
</p>
<p>Basic types of ADMDs include: </p>
<blockquote class="text">
<p>
                     </p>
<blockquote class="text"><dl>
<dt>Edge:  </dt>
<dd>Independent transfer services,
                           in networks at the edge of the Internet Mail
                           service. 
</dd>
<dt>User:  </dt>
<dd>End-user services. These might
                           be subsumed under an Edge service, such as is
                           common for web-based email access. 
</dd>
<dt>Transit:  </dt>
<dd>These are Mail Service
                           Providers (MSP) offering value-added capabilities
                           for Edge ADMDs, such as aggregation and filtering.
                        
</dd>
</dl></blockquote>
                  

</blockquote><p>
            
</p><br /><hr class="insert" />
<a name="ADMD"></a>

<p>Note that Transit services are quite different from
                  packet-level transit operation. Whereas end-to-end packet
                  transfers usually go through intermediate routers, email
                  exchange across the open Internet often is directly between
                  the Edge ADMDs, at the email level. 
</p><div style='display: table; width: 0; margin-left: auto; margin-right: auto'><pre>+--------+                            +--------+    +--------+
| ADMD#1 |                            | ADMD#3 |    | ADMD#4 |
| ------ |                            | ------ |    | ------ |
|        |   +-----------------------&gt;|        |    |        |
| User   |   |                        |--Edge--+---&gt;|--User  |
|  |     |   |                   +---&gt;|        |    |        |
|  V     |   |                   |    +--------+    +--------+
| Edge---+---+                   |
|        |   |    +----------+   |
+--------+   |    |  ADMD#2  |   |
             |    |  ------  |   |
             |    |          |   |
             +---&gt;|-Transit--+---+
                  |          |
                  +----------+</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;2: ADministrative Management Domains (ADMD) Example&nbsp;</b></font><br /></td></tr></table><hr class="insert" />
<a name='anchor109'></a>
<p> In <a class='info' href='#ADMD'>Figure&nbsp;2<span> (</span><span class='info'>ADministrative Management Domains (ADMD) Example</span><span>)</span></a>, ADMD numbers 1 and 2 are candidates for
               doing DKIM signing, and ADMD numbers 2, 3 and 4 are candidates
               for doing DKIM verification.
               
            
</p>
<p>The distinction between Transit network and Edge network
               transfer services is primarily significant because it
               highlights the need for concern over interaction and protection
               between independent administrations. The interactions between
               functional components within a single ADMD are subject to the
               policies of that domain. Although any pair of ADMDs can arrange
               for whatever policies they wish, Internet Mail is designed to
               permit inter-operation without prior arrangement. 
</p>
<p>Common ADMD examples are: </p>
<blockquote class="text">
<p>
                     </p>
<blockquote class="text">
<p> Enterprise Service Providers: </p>
<blockquote class="text">
<p>Operators of an organization's internal data
                                 and/or mail services. 
</p>
</blockquote>
                        

<p>Internet Service Providers: </p>
<blockquote class="text">
<p>Operators of underlying data communication
                                 services that, in turn, are used by one or
                                 more Relays and Users. It is not necessarily
                                 their job to perform email functions, but
                                 they can, instead, provide an environment in
                                 which those functions can be performed. 
</p>
</blockquote>
                        

<p>Mail Service Providers: </p>
<blockquote class="text">
<p>Operators of email services, such as for
                                 end-users, or mailing lists. 
</p>
</blockquote>
                        

</blockquote>
                  

</blockquote><p>
            
</p><a name="rfc.index"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Index</h3>
<table>
<tr><td><strong>A</strong></td><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor71">ADMD</a></td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor72">Administrative Management Domain</a></td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor84">assessment</a></td></tr>
<tr><td><strong>D</strong></td><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor100">DKIM-Signature</a></td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor97"><b></b></a></td></tr>
<tr><td>&nbsp;</td><td>DNS  <a href="#anchor60">1</a>, <a href="#anchor98">2</a>, <a href="#anchor101">3</a>, <a href="#anchor103">4</a>, <a href="#anchor104">5</a></td></tr>
<tr><td><strong>I</strong></td><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td><td>identifier  <a href="#anchor48">1</a>, <a href="#anchor78">2</a>, <a href="#anchor81">3</a></td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor45"><b></b></a></td></tr>
<tr><td>&nbsp;</td><td>identity  <a href="#anchor43">1</a>, <a href="#anchor47">2</a>, <a href="#anchor77">3</a>, <a href="#anchor79">4</a>, <a href="#anchor80">5</a>, <a href="#anchor85">6</a>, <a href="#anchor91">7</a>, <a href="#anchor96">8</a>, <a href="#anchor99">9</a></td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor44"><b></b></a></td></tr>
<tr><td>&nbsp;</td><td>infrastructure  <a href="#anchor59">1</a>, <a href="#anchor61">2</a>, <a href="#anchor62">3</a>, <a href="#anchor86">4</a>, <a href="#anchor89">5</a>, <a href="#anchor90">6</a>, <a href="#anchor93">7</a>, <a href="#anchor95">8</a>, <a href="#anchor106">9</a></td></tr>
<tr><td><strong>M</strong></td><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor70">Mail Delivery Agent</a></td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor74">Mail Handling Service</a></td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor76">Mail Service Provider</a></td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor66">Mail Submission Agent</a></td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor68">Mail Transfer Agent</a></td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor64">Mail User Agent</a></td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor69">MDA</a></td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor73">MHS</a></td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor52">MIME Object Security Services</a></td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor51">MOSS</a></td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor65">MSA</a></td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor75">MSP</a></td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor67">MTA</a></td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor63">MUA</a></td></tr>
<tr><td><strong>O</strong></td><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor55">OpenPGP</a></td></tr>
<tr><td><strong>P</strong></td><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor49">PEM</a></td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor54">PGP</a></td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor53">Pretty Good Privacy</a></td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor50">Privacy Enhanced Mail</a></td></tr>
<tr><td><strong>S</strong></td><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor56">S/MIME</a></td></tr>
<tr><td><strong>T</strong></td><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td><td>trust  <a href="#anchor42">1</a>, <a href="#anchor83">2</a>, <a href="#anchor88">3</a>, <a href="#anchor108">4</a></td></tr>
<tr><td><strong>V</strong></td><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td><td>verification  <a href="#anchor46">1</a>, <a href="#anchor82">2</a>, <a href="#anchor87">3</a>, <a href="#anchor92">4</a>, <a href="#anchor94">5</a>, <a href="#anchor102">6</a>, <a href="#anchor105">7</a>, <a href="#anchor107">8</a>, <a href="#anchor109">9</a></td></tr>
<tr><td><strong>W</strong></td><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor57">Web of Trust</a></td></tr>
<tr><td><strong>X</strong></td><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor58">X.509</a></td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Tony Hansen</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">AT&amp;T Laboratories</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">200 Laurel Ave.</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Middletown, NJ  07748</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:tony+dkimov@maillennium.att.com">tony+dkimov@maillennium.att.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Dave Crocker</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Brandenburg InternetWorking</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">675 Spruce Dr.</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Sunnyvale, CA  94086</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:dcrocker@bbiw.net">dcrocker@bbiw.net</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Phillip Hallam-Baker</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:phillip@hallambaker.com">phillip@hallambaker.com</a></td></tr>
</table>
</body></html>
