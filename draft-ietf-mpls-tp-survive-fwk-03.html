<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Multiprotocol Label Switching Transport Profile Survivability Framework</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Multiprotocol Label Switching Transport Profile Survivability Framework">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Network Working Group</td><td class="header">N. Sprecher</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Nokia Siemens Networks</td></tr>
<tr><td class="header">Intended status: Informational</td><td class="header">A. Farrel</td></tr>
<tr><td class="header">Expires: May 13, 2010</td><td class="header">Old Dog Consulting</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">November 09, 2009</td></tr>
</table></td></tr></table>
<h1><br />Multiprotocol Label Switching Transport Profile Survivability Framework<br />draft-ietf-mpls-tp-survive-fwk-03.txt</h1>

<h3>Abstract</h3>

<p>Network survivability is the ability of a network to restore traffic delivery following 
	  disruption or failure of network resources. Survivability is critical to the delivery of 
	  guaranteed network services such as those subject to strict Service Level Agreements (SLAs) 
	  that place maximum bounds on the length of time the service may be degraded or unavailable.
</p>
<p>The Transport Profile of Multiprotocol Label Switching (MPLS-TP) is a packet transport 
	  technology based on the MPLS data plane and re-using many aspects of the MPLS management 
	  and control planes.
</p>
<p> This document provides a framework for the provision of survivability in an MPLS-TP network, 
	  describing recovery elements, types, methods and topological considerations. Survivability may 
	  be supported by control plane, management plane, and by Operations, Administration and Maintenance (OAM) 
	  functions to achieve data plane recovery. This document describes mechanisms for protecting MPLS-TP 
	  Label Switched Paths (LSPs). Detailed consideration for the protection of pseudowires in MPLS-TP 
	  networks is out of scope.
</p>
<p>This document is a product of a joint Internet Engineering Task Force (IETF) / International 
	  Telecommunications Union Telecommunications Standardization Sector (ITU-T) effort to include 
	  an MPLS Transport Profile within the IETF MPLS and PWE3 architectures to support the capabilities 
	  and functionalities of a packet transport network as defined by the ITU-T.
</p>
<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted to IETF in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on May 13, 2010.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2009 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents
(http://trustee.ietf.org/license-info) in effect on the date of
publication of this document.  Please review these documents
carefully, as they describe your rights and restrictions with respect
to this document. Code Components extracted from this document must
include Simplified BSD License text as described in Section 4.e of
the Trust Legal Provisions and are provided without warranty as
described in the BSD License.</p>
<p>
This document may contain material from IETF Documents or IETF
Contributions published or made publicly available before November
10, 2008.  The person(s) controlling the copyright in some of this
material may not have granted the IETF Trust the right to allow
modifications of such material outside the IETF Standards Process.
Without obtaining an adequate license from the person(s) controlling
the copyright in such materials, this document may not be modified
outside the IETF Standards Process, and derivative works of it may
not be created outside the IETF Standards Process, except to format
it for publication as an RFC or to translate it into languages other
than English.</p>
<a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
<a href="#anchor2">2.</a>&nbsp;
Terminology and References<br />
<a href="#anchor3">3.</a>&nbsp;
Requirements for Survivability<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">3.1.</a>&nbsp;
General Requirements<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor5">3.2.</a>&nbsp;
Requirements for Restoration<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">3.3.</a>&nbsp;
Requirements for Protection<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">3.4.</a>&nbsp;
Requirements for Survivability in Ring Topologies<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor8">3.5.</a>&nbsp;
Triggers for Protection, Restoration, and Reversion<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor9">3.6.</a>&nbsp;
Management Plane Operation<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor10">3.7.</a>&nbsp;
Control Plane and In-band OAM<br />
<a href="#anchor11">4.</a>&nbsp;
Functional Architecture<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor12">4.1.</a>&nbsp;
Elements of Control<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor13">4.1.1.</a>&nbsp;
Manual Control<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor14">4.1.2.</a>&nbsp;
Failure-Triggered Actions<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor15">4.1.3.</a>&nbsp;
OAM Signaling<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor16">4.1.4.</a>&nbsp;
Control Plane Signaling<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor17">4.2.</a>&nbsp;
Elements of Recovery<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor18">4.2.1.</a>&nbsp;
Span Recovery<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor19">4.2.2.</a>&nbsp;
Segment Recovery<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor20">4.2.3.</a>&nbsp;
End-to-end Recovery<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor21">4.3.</a>&nbsp;
Levels of Recovery<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor22">4.3.1.</a>&nbsp;
Dedicated Protection<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor23">4.3.2.</a>&nbsp;
Shared Protection<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor24">4.3.3.</a>&nbsp;
Extra Traffic<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor25">4.3.4.</a>&nbsp;
Restoration and Repair<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor26">4.3.5.</a>&nbsp;
Reversion<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor27">4.4.</a>&nbsp;
Mechanisms for Recovery<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor28">4.4.1.</a>&nbsp;
Link-Level Protection<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor29">4.4.2.</a>&nbsp;
Alternate Paths and Segments<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor30">4.4.3.</a>&nbsp;
Protection Tunnels<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor31">4.5.</a>&nbsp;
Protection in Different Topologies<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor32">4.5.1.</a>&nbsp;
Mesh Networks<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor39">4.5.2.</a>&nbsp;
Ring Networks<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor40">4.5.3.</a>&nbsp;
Protection and Restoration Domains<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor41">4.6.</a>&nbsp;
Recovery in Layered Networks<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor42">4.6.1.</a>&nbsp;
Inherited Link-Level Protection<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor43">4.6.2.</a>&nbsp;
Shared Risk Groups<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor44">4.6.3.</a>&nbsp;
Fault Correlation<br />
<a href="#anchor45">5.</a>&nbsp;
Applicability and Scope of Survivability in MPLS-TP<br />
<a href="#anchor46">6.</a>&nbsp;
Mechanisms for Providing Survivability for MPLS-TP LSPs<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor47">6.1.</a>&nbsp;
Management Plane<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor48">6.1.1.</a>&nbsp;
Configuration of Protection Operation<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor49">6.1.2.</a>&nbsp;
External Manual Commands<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor50">6.2.</a>&nbsp;
Fault Detection<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor51">6.3.</a>&nbsp;
Fault Isolation<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor52">6.4.</a>&nbsp;
OAM Signaling<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor53">6.4.1.</a>&nbsp;
Fault Detection<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor54">6.4.2.</a>&nbsp;
Fault Isolation<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor55">6.4.3.</a>&nbsp;
Fault Reporting<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor56">6.4.4.</a>&nbsp;
Coordination of Recovery Actions<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor57">6.5.</a>&nbsp;
Control Plane<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor58">6.5.1.</a>&nbsp;
Fault Detection<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor59">6.5.2.</a>&nbsp;
Testing for Faults<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor60">6.5.3.</a>&nbsp;
Fault Isolation<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor61">6.5.4.</a>&nbsp;
Fault Reporting<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor62">6.5.5.</a>&nbsp;
Coordination of Recovery Actions<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor63">6.5.6.</a>&nbsp;
Establishment of Protection and Restoration LSPs<br />
<a href="#anchor64">7.</a>&nbsp;
Pseudowire Protection Considerations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor65">7.1.</a>&nbsp;
Utilizing Underlying MPLS-TP Recovery<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor66">7.2.</a>&nbsp;
Recovery in the Pseudowire Layer<br />
<a href="#anchor67">8.</a>&nbsp;
Manageability Considerations<br />
<a href="#anchor68">9.</a>&nbsp;
Security Considerations<br />
<a href="#anchor69">10.</a>&nbsp;
IANA Considerations<br />
<a href="#anchor70">11.</a>&nbsp;
Acknowledgments<br />
<a href="#rfc.references1">12.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">12.1.</a>&nbsp;
Normatve References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">12.2.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<h3>Editors&#039; Note:</h3>

<p>This Informational Internet-Draft is aimed at achieving IETF Consensus before publication as an 
	RFC and will be subject to an IETF Last Call.
</p>
<p>[RFC Editor, please remove this note before publication as an RFC and insert the correct Streams 
	Boilerplate to indicate that the published RFC has IETF Consensus.]
</p>
<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>Network survivability is the network&#039;s ability to restore traffic delivery following 
	  a failure or degradation of traffic delivery caused by a network fault or an attack on 
	  the network; it plays a critical role in the delivery of reliable services in transport 
	  networks. Guaranteed services in the form of Service Level Agreements (SLAs) require a 
	  resilient network that very rapidly detects facility or node failures, and immediately 
	  starts to restore network operations in accordance with the terms of the SLA.
</p>
<p>The MPLS Transport Profile (MPLS-TP) is described in <a class='info' href='#RFC5654'>[RFC5654]<span> (</span><span class='info'>Niven-Jenkins, B., Ed., Brungard, D., Ed., Betts, M., Ed., Sprecher, N., and S. Ueno, &ldquo;Requirements of an MPLS Transport Profile,&rdquo; February&nbsp;2009.</span><span>)</span></a> and 
	  <a class='info' href='#MPLS-TP-FWK'>[MPLS&#8209;TP&#8209;FWK]<span> (</span><span class='info'>Vigoureux, M., Ed., Ward, D., Ed., and Betts, &ldquo;A Framework for MPLS in Transport Networks,&rdquo; .</span><span>)</span></a> . MPLS-TP is designed to be consistent with existing transport 
	  network operations and management models, and to provide survivability mechanisms, such as 
	  protection and restoration. The function provided is intended to be similar or better to that 
	  found in established transport networks which set a high benchmark for reliability.
</p>
<p>This document provides a framework for MPLS-TP-based survivability. It uses the recovery terminology 
	  defined in <a class='info' href='#RFC4427'>[RFC4427]<span> (</span><span class='info'>Mannie, E. and D. Papadimitriou, &ldquo;Recovery (Protection and Restoration) Terminology for                   Generalized Multi-Protocol Label Switching (GMPLS),&rdquo; March&nbsp;2006.</span><span>)</span></a> which draws heavily on <a class='info' href='#G.808.1'>[G.808.1]<span> (</span><span class='info'>ITU-T, &ldquo;Generic Protection Switching &ndash; Linear trail and subnetwork protection,&rdquo; December&nbsp;2003.</span><span>)</span></a>, and it refers to the 
	  requirements specified in <a class='info' href='#RFC5654'>[RFC5654]<span> (</span><span class='info'>Niven-Jenkins, B., Ed., Brungard, D., Ed., Betts, M., Ed., Sprecher, N., and S. Ueno, &ldquo;Requirements of an MPLS Transport Profile,&rdquo; February&nbsp;2009.</span><span>)</span></a>.
</p>
<p>Various recovery schemes (for protection and restoration) and processes have been defined and 
	  analyzed in <a class='info' href='#RFC4427'>[RFC4427]<span> (</span><span class='info'>Mannie, E. and D. Papadimitriou, &ldquo;Recovery (Protection and Restoration) Terminology for                   Generalized Multi-Protocol Label Switching (GMPLS),&rdquo; March&nbsp;2006.</span><span>)</span></a> and <a class='info' href='#RFC4428'>[RFC4428]<span> (</span><span class='info'>Papadimitriou, D. and E. Mannie, &ldquo;Analysis of Generalized Multi-Protocol Label Switching (GMPLS) &ndash; based  				Recovery Mechanisms (including Protection and Restoration) Recovery (Protection and Restoration) Terminology for 				Generalized Multi-Protocol Label Switching (GMPLS),&rdquo; March&nbsp;2006.</span><span>)</span></a>. These schemes can also be applied in MPLS-TP
	  networks to re-establish end-to-end traffic delivery within the agreed service level and to
	  recover from &#039;failed&#039; or &#039;degraded&#039; transport entities (links or nodes , or Label Switched 
	  Paths &ndash; LSPs)). Such actions are normally initiated by the detection of a defect or performance 
	  degradation, or by an external request (e.g., an operator request for manual control of protection 
	  switching).
</p>
<p><a class='info' href='#RFC4427'>[RFC4427]<span> (</span><span class='info'>Mannie, E. and D. Papadimitriou, &ldquo;Recovery (Protection and Restoration) Terminology for                   Generalized Multi-Protocol Label Switching (GMPLS),&rdquo; March&nbsp;2006.</span><span>)</span></a> makes a distinction between protection switching and restoration mechanisms. 
	  Protection switching makes use of pre-assigned capacity between nodes, where the simplest scheme has
	  one dedicated protection entity for each working entity, while the most complex scheme has m protection 
	  entities shared between n working entities (m:n). Protection switching may be either unidirectional or 
	  bidirectional; unidirectional meaning that each direction of a bidirectional connection is protection 
	  switched independently, while bidirectional means that both directions are switched at the same 
	  time even if the fault applies to only one direction of the connection. Restoration uses any capacity 
	  available between nodes and usually involves re-routing. The resources used for restoration may be 
	  pre-planned and recovery priority may be used as a differentiation mechanism to determine which 
	  services are recovered and which are not recovered or are sacrificed in order to achieve recovery of 
	  other services. In general, protection actions are completed within time frames of tens of milliseconds, 
	  while automated restoration actions are normally completed in periods ranging from hundreds of milliseconds 
	  to a maximum of a few seconds.
</p>
<p>The recovery schemes described in <a class='info' href='#RFC4427'>[RFC4427]<span> (</span><span class='info'>Mannie, E. and D. Papadimitriou, &ldquo;Recovery (Protection and Restoration) Terminology for                   Generalized Multi-Protocol Label Switching (GMPLS),&rdquo; March&nbsp;2006.</span><span>)</span></a> and evaluated in <a class='info' href='#RFC4428'>[RFC4428]<span> (</span><span class='info'>Papadimitriou, D. and E. Mannie, &ldquo;Analysis of Generalized Multi-Protocol Label Switching (GMPLS) &ndash; based  				Recovery Mechanisms (including Protection and Restoration) Recovery (Protection and Restoration) Terminology for 				Generalized Multi-Protocol Label Switching (GMPLS),&rdquo; March&nbsp;2006.</span><span>)</span></a> are 
	  presented in the context of control plane-driven actions (such as the configuration of the protection 
	  entities and functions, etc.). The presence of a distributed control plane in an MPLS-TP network is optional, 
	  and the absence of such a control plane does not affect the ability to operate the network and to use MPLS-TP 
	  forwarding, Operations, Administration and Maintenance (OAM), and survivability capabilities.
</p>
<p>Thus, some of the MPLS-TP recovery mechanisms do not depend on a control plane and use MPLS-TP OAM mechanisms 
	  or management actions to trigger protection switching across connections that were set up using management plane 
	  configuration. These OAM mechanisms may be triggered by data plane events or by operator actions, and are based 
	  on MPLS-TP OAM fault management functions. &#039;Fault management&#039; in this context refers to failure detection, 
	  localization, and notification (where the term &#039;failure&#039; is used to represent both signal failure and 
	  signal degradation). The term &#039;trigger&#039; is used to indicate any event that may be used to cause an 
	  implementation to consider taking protection action.
</p>
<p>The principles of MPLS-TP protection switching operation are similar to those described in <a class='info' href='#RFC4427'>[RFC4427]<span> (</span><span class='info'>Mannie, E. and D. Papadimitriou, &ldquo;Recovery (Protection and Restoration) Terminology for                   Generalized Multi-Protocol Label Switching (GMPLS),&rdquo; March&nbsp;2006.</span><span>)</span></a>
	  as the protection mechanism is based on the ability to detect certain defects in the transport entities within 
	  the recovery domain. In the context of this document, transport entities are nodes, links, LSP segments, 
	  concatenated LSP segments, and whole LSPs. The protection switching controller does not care which monitoring 
	  method is used, as long as it can be given information about the status of the transport entities within the 
	  recovery domain (e.g., &#039;OK&#039;, signal failure, signal degradation, etc.).
</p>
<p>The protection switching operation is basically a data-plane capability and in the context of MPLS-TP it needs 
	  to be ensured that it is possible to switch over independent of the way the network is configured and managed. All 
	  the MPLS and GMPLS protection mechanisms are applicable in MPLS-TP environment, and it should be possible also to 
	  provision and manage the related protection entities and functions defined in MPLS and GMPLS using a management 
	  plane.
</p>
<p>In some protection switching schemes (such as bidirectional protection switching), it is necessary to coordinate 
	  the protection state between the edges of the recovery domain. An MPLS-TP Protection State Coordination (PSC) 
	  protocol may be used as an in-band (i.e.,, data plane-based) control protocol to align both ends of the protected 
	  domain. Control plane-based mechanism can also be used to synchronize the protection states between the edges of 
	  the protection domain.
</p>
<p>The MPLS-TP recovery mechanisms may be applied at various nested levels throughout the MPLS-TP network, as is 
	  the case with the recovery schemes defined in <a class='info' href='#RFC4427'>[RFC4427]<span> (</span><span class='info'>Mannie, E. and D. Papadimitriou, &ldquo;Recovery (Protection and Restoration) Terminology for                   Generalized Multi-Protocol Label Switching (GMPLS),&rdquo; March&nbsp;2006.</span><span>)</span></a> and <a class='info' href='#RFC4873'>[RFC4873]<span> (</span><span class='info'>Berger, L., Bryskin, I., Papadimitriou, D., and A. Farrel, &ldquo;GMPLS Segment Recovery,&rdquo; May&nbsp;2007.</span><span>)</span></a>. An MPLS-TP LSP
	  may be subject to any or all of MPLS-TP link recovery, path segment recovery, or end-to-end recovery, 
	  where:
</p>
<p>
	    </p>
<ul class="text">
<li>MPLS-TP link recovery refers to the recovery of an individual link (and hence all or a subset of the LSPs 
		  routed over the link) between two MPLS-TP nodes.
</li>
<li>Segment recovery refers to the recovery of an LSP segment (i.e., segment and concatenated segment in the 
		  language of <a class='info' href='#RFC5654'>[RFC5654]<span> (</span><span class='info'>Niven-Jenkins, B., Ed., Brungard, D., Ed., Betts, M., Ed., Sprecher, N., and S. Ueno, &ldquo;Requirements of an MPLS Transport Profile,&rdquo; February&nbsp;2009.</span><span>)</span></a>) between two nodes which are the boundary nodes of the segment.
</li>
<li>End-to-end recovery refers to the recovery of an entire LSP from its ingress to its egress node.
</li>
</ul><p>
	  
</p>
<p>Multiple recovery levels may be used concurrently by a single LSP for added resiliency.
</p>
<p>Co-routed bidirectional MPLS-TP LSPs are defined such that both directions of the LSP follow the same route 
	  through the network. In this case the directions are often required by the operator to fate-share (that is, if 
	  one direction fails, both directions should cease to operate). This may also be the case for associated bidirectional 
	  LSPs where the two directions of the LSP take different paths through the network. This causes a direct interaction 
	  between the recovery levels affecting the directions of an LSP such that both directions of the LSP are switched to 
	  a new MPLS-TP link, segment, or end-to-end path together.
</p>
<p>The recovery scheme operating at the data plane level can function in a multi-domain environment; it can also 
	  protect against a failure of a boundary node in the case of inter-domain operation.
</p>
<p>MPLS-TP recovery schemes are intended to protect client traffic as it is sent across the MPLS-TP network. This 
	  document introduces protection and restoration techniques in general terms and then describes how they may be applied 
	  in the LSP layer and in the pseudowire layer to meet the requirements of the MPLS-TP recovery schemes <a class='info' href='#RFC5654'>[RFC5654]<span> (</span><span class='info'>Niven-Jenkins, B., Ed., Brungard, D., Ed., Betts, M., Ed., Sprecher, N., and S. Ueno, &ldquo;Requirements of an MPLS Transport Profile,&rdquo; February&nbsp;2009.</span><span>)</span></a>. 
	  A description of the MPLS-TP LSP and pseudowire layers can be found in <a class='info' href='#MPLS-TP-FWK'>[MPLS&#8209;TP&#8209;FWK]<span> (</span><span class='info'>Vigoureux, M., Ed., Ward, D., Ed., and Betts, &ldquo;A Framework for MPLS in Transport Networks,&rdquo; .</span><span>)</span></a>.
</p>
<p>This framework introduces the architecture of the MPLS-TP recovery domain and describes the recovery schemes in MPLS-TP 
	  (based on the recovery types defined in <a class='info' href='#RFC4427'>[RFC4427]<span> (</span><span class='info'>Mannie, E. and D. Papadimitriou, &ldquo;Recovery (Protection and Restoration) Terminology for                   Generalized Multi-Protocol Label Switching (GMPLS),&rdquo; March&nbsp;2006.</span><span>)</span></a> as well as the principles of operation, recovery states, 
	  recovery triggers, and information exchanges between the different elements that sustain the reference model. The 
	  reference model is based on the MPLS-TP OAM reference model which is defined in <a class='info' href='#MPLS-TP-OAM'>[MPLS&#8209;TP&#8209;OAM]<span> (</span><span class='info'>Buci, I., Ed. and B. Niven-Jenkins, Ed., &ldquo;Requirements for OAM in MPLS Transport Networks,&rdquo; .</span><span>)</span></a>.
</p>
<p>The framework also describes the qualitative levels of the survivability functions that can be provided, such as 
	  dedicated recovery, shared protection, restoration, etc. The level of recovery directly affects the service level 
	  provided to the end-user in the event of a network failure. There is a correlation between the level of recovery 
	  provided and the cost to the network.
</p>
<p>The general description of the functional architecture is applicable for both LSPs and pseudowires (PWs).
</p>
<p>This framework applies to general LSP recovery schemes, but also to schemes that are optimized for specific 
	  topologies in order to handle protection switching in a cost-efficient manner. Recovery schemes for PWs are introduced 
	  in Section 7, but the details are for further study and will be addressed in a separate document.
</p>
<p>This document takes into account the need for co-ordination of protection switches at multiple layers. This allows 
	  an operator to prevent races and allows the protection switching mechanism of one layer to fix a problem before switching 
	  at another layer.
</p>
<p>This framework also specifies the functions that must be supported by MPLS-TP to support the recovery mechanisms. MPLS-TP 
	  introduces a tool kit to enable recovery in MPLS-TP-based networks and to ensure that affected traffic is recovered in the 
	  event of a failure.
</p>
<p>Generally, network operators aim to provide the fastest, most stable, and the best protection mechanism at a reasonable 
	  cost according to the requirements of the customers. The higher the levels of protection, the greater the number of resources 
	  consumed and so the higher the likely cost both to the operator and to the customer. It is therefore expected that network 
	  operators will offer a wide spectrum of service levels. MPLS-TP-based recovery offers the flexibility to select the recovery 
	  mechanism, choose the granularity at which traffic is protected, and also choose the specific types of traffic that are to be 
	  protected. With MPLS-TP-based recovery, it is possible to provide different levels of protection for different classes of 
	  service, based on their service requirements.
</p>
<p>This document is a product of a joint International Telecommunications Union Telecommunications 
	  Standardization Sector (ITU-T) / IETF effort to include an MPLS Transport Profile within the IETF MPLS 
	  and PWE3 architectures to support the capabilities and functionalities of a packet transport network as 
	  defined by the ITU-T.
</p>
<p>This document is a product of a joint Internet Engineering Task Force (IETF) / International 
	  Telecommunications Union Telecommunications Standardization Sector (ITU-T) effort to include an MPLS 
	  Transport Profile within the IETF MPLS and PWE3 architectures to support the capabilities and 
	  functionalities of a packet transport network as defined by the ITU-T.
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Terminology and References</h3>

<p>The terminology used in this document is consistent with that defined in <a class='info' href='#RFC4427'>[RFC4427]<span> (</span><span class='info'>Mannie, E. and D. Papadimitriou, &ldquo;Recovery (Protection and Restoration) Terminology for                   Generalized Multi-Protocol Label Switching (GMPLS),&rdquo; March&nbsp;2006.</span><span>)</span></a>. That RFC is, itself, 
		consistent with <a class='info' href='#G.808.1'>[G.808.1]<span> (</span><span class='info'>ITU-T, &ldquo;Generic Protection Switching &ndash; Linear trail and subnetwork protection,&rdquo; December&nbsp;2003.</span><span>)</span></a>.
</p>
<p>However, certain protection concepts (such as ring protection) are not discussed in <a class='info' href='#RFC4427'>[RFC4427]<span> (</span><span class='info'>Mannie, E. and D. Papadimitriou, &ldquo;Recovery (Protection and Restoration) Terminology for                   Generalized Multi-Protocol Label Switching (GMPLS),&rdquo; March&nbsp;2006.</span><span>)</span></a>, and 
		for those concepts, terminology in this document is drawn from <a class='info' href='#G.841'>[G.841]<span> (</span><span class='info'>ITU-T, &ldquo;Types and Characteristics of SDH Network Protection Architectures,&rdquo; October&nbsp;1998.</span><span>)</span></a>.
</p>
<p>Readers should refer to those documents for normative definitions. This document supplies brief summaries of some 
		terms for clarity and to aid the reader, but does not re-define terms.
</p>
<p>In particular, note the distinction and definitions made in <a class='info' href='#RFC4427'>[RFC4427]<span> (</span><span class='info'>Mannie, E. and D. Papadimitriou, &ldquo;Recovery (Protection and Restoration) Terminology for                   Generalized Multi-Protocol Label Switching (GMPLS),&rdquo; March&nbsp;2006.</span><span>)</span></a> for the following three terms.
</p>
<p>
			</p>
<ul class="text">
<li>Protection: re-establishing end-to-end traffic using pre-allocated resources.
</li>
<li>Restoration: re-establishing end-to-end traffic using resources allocated at the time of need. Sometimes 
				referred to as &quot;repair&quot;.
</li>
<li>Recovery: a generic term covering both Protection and Restoration.
</li>
</ul><p>
		
</p>
<p>Important background information on survivability can be found in <a class='info' href='#RFC3386'>[RFC3386]<span> (</span><span class='info'>Lai, W. and D. McDysan, &ldquo;Network Hierarchy and Multilayer Survivability,&rdquo; November&nbsp;2002.</span><span>)</span></a>, <a class='info' href='#RFC3469'>[RFC3469]<span> (</span><span class='info'>Sharma, V. and F. Hellstrand, &ldquo;Framework for Multi-Protocol Label Switching (MPLS)-based Recovery,&rdquo; February&nbsp;2003.</span><span>)</span></a>
		, <a class='info' href='#RFC4426'>[RFC4426]<span> (</span><span class='info'>Lang, J., Ed., Rajagopalan, B., and D. Papadimitriou, &ldquo;Generalized Multiprotocol Label Switching                   (GMPLS) Recovery Functional Specification,&rdquo; March&nbsp;2006.</span><span>)</span></a>, <a class='info' href='#RFC4427'>[RFC4427]<span> (</span><span class='info'>Mannie, E. and D. Papadimitriou, &ldquo;Recovery (Protection and Restoration) Terminology for                   Generalized Multi-Protocol Label Switching (GMPLS),&rdquo; March&nbsp;2006.</span><span>)</span></a>, and <a class='info' href='#RFC4428'>[RFC4428]<span> (</span><span class='info'>Papadimitriou, D. and E. Mannie, &ldquo;Analysis of Generalized Multi-Protocol Label Switching (GMPLS) &ndash; based  				Recovery Mechanisms (including Protection and Restoration) Recovery (Protection and Restoration) Terminology for 				Generalized Multi-Protocol Label Switching (GMPLS),&rdquo; March&nbsp;2006.</span><span>)</span></a>.
</p>
<p>In this document, the following additional terminology is applied:
</p>
<p>
			</p>
<ul class="text">
<li>Fault Management refers to the combination of failure detection, localization, and notification mechanisms.
</li>
<li>Failure is used to indicate both signal failure and signal degradation event.
</li>
<li>Trigger indicates any event that may be used to cause an implementation to consider taking protection action.
</li>
<li>The acronym OAM is defined as Operations, Administration and Maintenance consistent with <a class='info' href='#OAM-SOUP'>[OAM&#8209;SOUP]<span> (</span><span class='info'>Andersson, L., Betts, M., Van Helvoort, H., Bonica, R., and D. Romascanu, &ldquo;MPLS-TP Linear Protection,&rdquo; .</span><span>)</span></a>.
</li>
</ul><p>
		
</p>
<p>General terminology for MPLS-TP is found in <a class='info' href='#MPLS-TP-FWK'>[MPLS&#8209;TP&#8209;FWK]<span> (</span><span class='info'>Vigoureux, M., Ed., Ward, D., Ed., and Betts, &ldquo;A Framework for MPLS in Transport Networks,&rdquo; .</span><span>)</span></a> and <a class='info' href='#ROSETTA'>[ROSETTA]<span> (</span><span class='info'>Van Helvoort, H., Ed., Andersson, L., and N. Sprecher, &ldquo;A Thesaurus for the Terminology used in Multiprotocol Label Switching Transport Profile (MPLS-TP)                    drafts/RFCs and ITU-T&apos;s Transport Network Recommendations,&rdquo; .</span><span>)</span></a>. Background 
		information on MPLS-TP can be found in <a class='info' href='#RFC5654'>[RFC5654]<span> (</span><span class='info'>Niven-Jenkins, B., Ed., Brungard, D., Ed., Betts, M., Ed., Sprecher, N., and S. Ueno, &ldquo;Requirements of an MPLS Transport Profile,&rdquo; February&nbsp;2009.</span><span>)</span></a>.
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Requirements for Survivability</h3>

<p>MPLS-TP requirements are presented in <a class='info' href='#RFC5654'>[RFC5654]<span> (</span><span class='info'>Niven-Jenkins, B., Ed., Brungard, D., Ed., Betts, M., Ed., Sprecher, N., and S. Ueno, &ldquo;Requirements of an MPLS Transport Profile,&rdquo; February&nbsp;2009.</span><span>)</span></a> and serve as a normative reference for the definition 
	  of all MPLS-TP function including survivability. Survivability is presented in <a class='info' href='#RFC5654'>[RFC5654]<span> (</span><span class='info'>Niven-Jenkins, B., Ed., Brungard, D., Ed., Betts, M., Ed., Sprecher, N., and S. Ueno, &ldquo;Requirements of an MPLS Transport Profile,&rdquo; February&nbsp;2009.</span><span>)</span></a> as a critical 
	  factor in the delivery of reliable services, and the requirements for survivability are set out using the recovery terminology 
	  defined in <a class='info' href='#RFC4427'>[RFC4427]<span> (</span><span class='info'>Mannie, E. and D. Papadimitriou, &ldquo;Recovery (Protection and Restoration) Terminology for                   Generalized Multi-Protocol Label Switching (GMPLS),&rdquo; March&nbsp;2006.</span><span>)</span></a>.
</p>
<p>These requirements are summarized below. Reference numbers refer to the requirements as presented in <a class='info' href='#RFC5654'>[RFC5654]<span> (</span><span class='info'>Niven-Jenkins, B., Ed., Brungard, D., Ed., Betts, M., Ed., Sprecher, N., and S. Ueno, &ldquo;Requirements of an MPLS Transport Profile,&rdquo; February&nbsp;2009.</span><span>)</span></a>. 
	  Readers should refer to <a class='info' href='#RFC5654'>[RFC5654]<span> (</span><span class='info'>Niven-Jenkins, B., Ed., Brungard, D., Ed., Betts, M., Ed., Sprecher, N., and S. Ueno, &ldquo;Requirements of an MPLS Transport Profile,&rdquo; February&nbsp;2009.</span><span>)</span></a> for the definitive list of requirements which is not replaced or superseded by 
	  the list provided here.
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
General Requirements</h3>

<p>
			</p>
<ul class="text">
<li>Protection and restoration mechanisms must be provided (56).
</li>
<li>Recovery techniques should be as similar as possible to those in existing transport networks (56A).
</li>
<li>Point-to-point (P2P) and point-to-multipoint (P2MP) recovery techniques should be the same if possible (56B).
</li>
<li>Recovery must be applicable to links, transport paths, segments, concatenated segments, and end-to-end LSPs and 
				PWs (57).
</li>
<li>Recovery objectives must be configurable to meet the SLA objectives of the services offered including rapid 
				(sub-50ms) recovery, protection of all traffic on a path, and protection across multiple domains (58, 59).
</li>
<li>The recovery mechanisms should be applicable to any topology (60).See also Section 3.4.
</li>
<li>Recovery must be coordinated across network layers (61).
</li>
<li>Recovery and reversion must not &#039;flap&#039; (62).
</li>
</ul><p>
		
</p>
<p>Note that there is no requirement for support for extra traffic <a class='info' href='#RFC4427'>[RFC4427]<span> (</span><span class='info'>Mannie, E. and D. Papadimitriou, &ldquo;Recovery (Protection and Restoration) Terminology for                   Generalized Multi-Protocol Label Switching (GMPLS),&rdquo; March&nbsp;2006.</span><span>)</span></a> except in a ring where 
		MPLS-TP must support the sharing of protection bandwidth in a ring by allowing best-effort traffic (108).
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
Requirements for Restoration</h3>

<p>
			</p>
<ul class="text">
<li>The restored and protected paths must be able to share resources (70).
</li>
<li>Priorities must be available to control the order of restoration and to facilitate preemption during 
				restoration (71, 72).
</li>
<li>Reversion must be supported (73).
</li>
</ul><p>
		
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3"></a><h3>3.3.&nbsp;
Requirements for Protection</h3>

<p>
			</p>
<ul class="text">
<li>MPLS-TP data plane protection must operate without regard to payload content (63).
</li>
<li>The following protection schemes must be supported:
</li>
<ul class="text">
<li>reversion (64).
</li>
<li>unidirectional and bidirectional 1+1 protection for P2P (65A, 65B)).
</li>
<li>unidirectional 1+1 protection for P2MP (65C).
</li>
<li>bidirectional 1:n protection for P2P (67A).
</li>
<li>unidirectional 1:n protection for P2MP (67B).
</li>
</ul>
<li>It must be possible to share protection resources (66). This includes:
</li>
<ul class="text">
<li>1:n mesh recovery should be supported (68).
</li>
<li>sharing of resources between protection paths that will not be required to protect the same fault (69).
</li>
</ul>
</ul><p>
		
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.4"></a><h3>3.4.&nbsp;
Requirements for Survivability in Ring Topologies</h3>

<p>
			</p>
<ul class="text">
<li>MPLS-TP recovery mechanisms may be optimized for specific topologies provided such optimizations interoperate 
				with, and be as similar as possible to, standard techniques to provided end-to-end recovery (91, 100).
</li>
<li>Ring topologies support must include:
</li>
<ul class="text">
<li>single ring (92)
</li>
<li>interconnected rings (93)
</li>
<li>connection of rings to arbitrary networks (99)
</li>
<li>logical and physical rings (101)
</li>
</ul>
<li>Traffic protection in rings must include:
</li>
<ul class="text">
<li>unidirectional and bidirectional P2P paths (94)
</li>
<li>unidirectional P2MP paths (95)
</li>
</ul>
<li>Ring recovery techniques:
</li>
<ul class="text">
<li>must default to bidirectional (102)
</li>
<li>must support reversion as the default behavior (103)
</li>
<li>must distinguish (to the operator) trigger mechanisms (104)
</li>
<li>should protect against multiple failures (106B)
</li>
<li>must support sharing of protection resources (109)
</li>
<li>must prevent recovery flapping (107)
</li>
</ul>
<li>Ring protection mechanism scaling must include:
</li>
<ul class="text">
<li>1+1 and 1:1 protection switching 50 ms from the moment of fault detection in a network with 
					a 16-node ring with less than 1200km of fiber (96)
</li>
<li>independence from the number of LSPs crossing the ring (97)
</li>
<li>good performance with increases in the number of transport paths, the number of nodes on the ring, 
					and the number of ring interconnects (98)
</li>
</ul>
<li>It must be possible to disable protection mechanisms on selected links in a ring (105).
</li>
<li>MPLS-TP recovery mechanisms in a ring must support prioritization of recovery actions arising from 
				different commands or triggers and for different protected entities (106A).
</li>
</ul><p>
		
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.5"></a><h3>3.5.&nbsp;
Triggers for Protection, Restoration, and Reversion</h3>

<p>
			</p>
<ul class="text">
<li>Triggers must be supported from:
</li>
<ul class="text">
<li>lower network layers (74)
</li>
<li>MPLS-TP OAM (75)
</li>
<li>the management plane (76)
</li>
<li>the control plane (if present) (78)
</li>
</ul>
<li>It must be possible to distinguish trigger sources and to prioritize recovery action requests (77, 79).
</li>
</ul><p>
		
</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.6"></a><h3>3.6.&nbsp;
Management Plane Operation</h3>

<p>
			</p>
<ul class="text">
<li>Support is required for preplanning, pre-calculation, and pre-provisioning of recovery paths and groups 
				of paths (80, 81, 82, 85).
</li>
<li>External commands (controls) must allow the operator to effect, prevent, or test without effecting, any 
				recovery operation (83, 84).
</li>
<li>It must be possible to configure all aspects of recovery (86).
</li>
<li>It must be possible to monitor all aspects of recovery (87, 88).
</li>
</ul><p>
		
</p>
<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.7"></a><h3>3.7.&nbsp;
Control Plane and In-band OAM</h3>

<p>
			</p>
<ul class="text">
<li>If a control plane is used, it must be possible operate all aspects of recovery (89).
</li>
<li>In-band OAM must support administrative control and protection state coordination (90).
</li>
</ul><p>
		
</p>
<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Functional Architecture</h3>

<p>This section presents an overview of the elements of the functional architecture for survivability within an 
	  MPLS-TP network. The intention is to break the components out as separate items so that it can be seen how they 
	  may be combined to provide different levels of recovery to meet the requirements set out in the previous section.
</p>
<a name="anchor12"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1"></a><h3>4.1.&nbsp;
Elements of Control</h3>

<p>Survivability is achieved through specific actions taken to repair network resources or to redirect traffic onto 
		paths that avoid failures in the network. Those actions may be triggered automatically by the MPLS-TP 
		network nodes upon detection of a network failure, or may be under direct the control of an operator.  
		Automatic action may be enhanced by in-band (i.e., data-plane based) OAM mechanisms for fault management 
		and performance monitoring, or by in-band or out-of-band control plane signaling.
</p>
<a name="anchor13"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1.1"></a><h3>4.1.1.&nbsp;
Manual Control</h3>

<p>The survivability behavior of the network as a whole, and the reaction of each LSP when a fault is reported, 
			may be under operator control. That is, the operator may establish network-wide or local policies that determine 
			what actions will be taken when different failures are reported that affect different LSPs. At the same time, 
			when a service request is made to cause the establishment of one or more LSPs in the network, the operator (or 
			requesting application) may express a required or requested level of service, and this will be mapped to particular 
			survivability actions taken before and during LSP setup, after the failure of network resources, and upon recovery 
			of those resources.
</p>
<p>It should be noted that it is unusual to present a user or customer with options directly related to recovery actions. 
			Instead, the user/customer enters into an SLA with the network provider, and the network operator maps the terms of the 
			SLA (for example for guaranteed delivery, availability, or reliability) onto recovery schemes within the network.
</p>
<p>The operator can also be given manual control of survivability actions and events. For example, the operator may 
			perform the following actions:
</p>
<p>
			 </p>
<ul class="text">
<li>inhibit survivability actions
</li>
<li>enable or disable survivability function
</li>
<li>induce the simulation of a network fault
</li>
<li>force a switchover from a working path to a recovery path
</li>
</ul><p>
			
</p>
<p>Forced switchover may be done for network optimization purposes with minimal disturbance of 
			services, such as when modifying protected or unprotected services, when replacing MPLS-TP network 
			nodes, etc. In some circumstances, a fault may be reported to the operator and the operator may 
			then select and initiate the appropriate recovery action.
</p>
<a name="anchor14"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1.2"></a><h3>4.1.2.&nbsp;
Failure-Triggered Actions</h3>

<p>Survivability actions may be directly triggered by network failures. That is, the device that detects the failure 
			(for example, detection of Loss of Light on an optical interface, a failure to receive an OAM Continuity message, or a 
			reception of OAM Alarm Report) may immediately perform a survivability action. Recall that the term &quot;failure&quot; is 
			used to represent both signal failure and signal degradation.
</p>
<p>This behavior can be subject to management plane or control plane control, but does not require 
			any control, management or data plane message exchange to trigger the recovery action; the action is 
			directly triggered by data plane stimuli. Note, however, that coordination of recovery actions between the edges of the recovery domain may 
			require message exchanges for some qualitative levels of recovery or when performing a bidirectional recovery action.
</p>
<a name="anchor15"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1.3"></a><h3>4.1.3.&nbsp;
OAM Signaling</h3>

<p>OAM signaling refers to message exchanges that are in-band or closely coupled to the data channel. Such messages may 
			be used to detect and isolate faults or indicate a degradation in the operation of the network, but in this context we 
			are concerned with the use of these messages to control or trigger survivability actions.
</p>
<p>OAM signaling may also be used to coordinate recovery actions within the protection domain.
</p>
<a name="anchor16"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1.4"></a><h3>4.1.4.&nbsp;
Control Plane Signaling</h3>

<p>Control plane signaling is responsible for setup, maintenance, and teardown of transport paths that are not under 
			management plane control. The control plane may also be used to detect, isolate, and communicate network failures pertaining 
			to peer relationships (neighbor-to-neighbor, or end-to-end). Thus, control plane signaling may initiate and coordinate 
			survivability actions.
</p>
<p>The control plane can also be used to distribute topology and resource-availability information. In this way, 
			&quot;graceful shutdown&quot; of resources may be effected by withdrawing them, and this can be used as a stimulus to 
			survivability action in a similar way to the reporting or discovery of a fault as described in the previous sections.
</p>
<a name="anchor17"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2"></a><h3>4.2.&nbsp;
Elements of Recovery</h3>

<p>This section describes the elements of recovery. These are the quantitative aspects of recovery; that is the pieces of the 
		network for which recovery can be provided.
</p>
<p>Note that the terminology in this section is consistent with <a class='info' href='#RFC4427'>[RFC4427]<span> (</span><span class='info'>Mannie, E. and D. Papadimitriou, &ldquo;Recovery (Protection and Restoration) Terminology for                   Generalized Multi-Protocol Label Switching (GMPLS),&rdquo; March&nbsp;2006.</span><span>)</span></a>. Where the terms differ from those in 
		<a class='info' href='#RFC5654'>[RFC5654]<span> (</span><span class='info'>Niven-Jenkins, B., Ed., Brungard, D., Ed., Betts, M., Ed., Sprecher, N., and S. Ueno, &ldquo;Requirements of an MPLS Transport Profile,&rdquo; February&nbsp;2009.</span><span>)</span></a> a mapping is provided.
</p>
<a name="anchor18"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2.1"></a><h3>4.2.1.&nbsp;
Span Recovery</h3>

<p>A span is a single hop between neighboring MPLS-TP nodes in the same network layer. A span is sometimes referred to as 
			a link although this may cause some confusion between the concept of a data link and a traffic engineering (TE) link. LSPs 
			traverse TE links between neighboring MPLS-TP nodes in the MPLS-TP network, however, a TE link may be provided by:
</p>
<p>
			 </p>
<ul class="text">
<li>a single data link
</li>
<li>a series of data links in a lower layer established as an LSP and presented to the upper layer as a single TE 
				link 
</li>
<li>a set of parallel data links in the same layer presented either as a bundle of TE links, or a collection of data 
				links that, together, provide data link layer protection scheme.
</li>
</ul><p>
			
</p>
<p>Thus, span recovery may be provided by:
</p>
<p>
			 </p>
<ul class="text">
<li>selecting a different TE link from a bundle
</li>
<li>moving the TE link so that it is supported by a different data link between the same pair of neighbors
</li>
<li>re-routing the LSP in the lower layer.
</li>
</ul><p>
			
</p>
<p>Moving the protected LSP to another TE link between the same pair of neighbors is a form of segment recovery and 
			is described in Section 4.2.2.
</p>
<p><a class='info' href='#RFC5654'>[RFC5654]<span> (</span><span class='info'>Niven-Jenkins, B., Ed., Brungard, D., Ed., Betts, M., Ed., Sprecher, N., and S. Ueno, &ldquo;Requirements of an MPLS Transport Profile,&rdquo; February&nbsp;2009.</span><span>)</span></a> refers to a span as a &quot;link&quot;.
</p>
<a name="anchor19"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2.2"></a><h3>4.2.2.&nbsp;
Segment Recovery</h3>

<p>An LSP segment is one or more continuous hops on the path of the LSP. <a class='info' href='#RFC5654'>[RFC5654]<span> (</span><span class='info'>Niven-Jenkins, B., Ed., Brungard, D., Ed., Betts, M., Ed., Sprecher, N., and S. Ueno, &ldquo;Requirements of an MPLS Transport Profile,&rdquo; February&nbsp;2009.</span><span>)</span></a> defines two terms. A 
			&quot;segment&quot; is a single hop on the path of an LSP, and a &quot;concatenated segment&quot; is more than one hop 
			on the path of an LSP. In the context of this document, a segment covers both of these concepts.
</p>
<p>A PW segment refers to a Single Segment PW (SS-PW) or to a single segment of a multi-segment PW (MS-PW) that is 
			set up between two PE devices (i.e., T-PE and S-PE, S-PE and S-PE, or S-PE and T-PE). As indicated in Section 1, the recovery 
			of PWs and PW segments is out of scope of this document, but see Section 7.
</p>
<p>LSP segment recovery involves redirecting of traffic at one end of a segment of an LSP onto an alternate path to the other 
			end of the segment. According to the required level of recovery (described in Section 4.3), this redirection may be onto a 
			pre-established LSP segment, through re-routing of the protected segment, or by tunneling the protected LSP through a 
			&quot;bypass&quot; LSP. For details on recovery mechanisms, see Sections 4.4 and 4.5 below.
</p>
<p>Note that protecting an LSP against the failure of a node requires the use of segment recovery, while a link could be 
			protected using span or segment recovery.
</p>
<a name="anchor20"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2.3"></a><h3>4.2.3.&nbsp;
End-to-end Recovery</h3>

<p>End-to-end recovery is a special case of segment recovery where the protected LSP segment is the whole of the LSP. 
			End-to-end recovery may be provided as link-diverse or node-diverse recovery where the recovery path shares no links 
			or no nodes with the working path. Note that node-diverse paths are necessarily link-diverse, and that full, end-to-end 
			node-diversity is required to guarantee recovery.
</p>
<a name="anchor21"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.3"></a><h3>4.3.&nbsp;
Levels of Recovery</h3>

<p>This section describes the qualitative levels of survivability function that can be provided. The level of recovery 
			offered has a direct effect on the service level provided to the end-user in the event of a network fault. This will be 
			observed as the amount of data lost when a network fault occurs, and the length of time to recover connectivity.
</p>
<p>In general there is a correlation between the service level (i.e., the rapidity of recovery and reduction of data loss) 
			and the cost to the network; better service levels require pre-allocation of resources to the recovery paths, and those 
			resources cannot be used for other purposes if high quality recovery is required. Thus, &#039;cost&#039; in this case 
			may be measured as the financial cost of providing resources for the recovery scheme, or the financial loss from dedicating 
			resources to the recovery scheme such that they cannot be used to draw new revenue.
</p>
<p>Sections 6 and 7 of <a class='info' href='#RFC4427'>[RFC4427]<span> (</span><span class='info'>Mannie, E. and D. Papadimitriou, &ldquo;Recovery (Protection and Restoration) Terminology for                   Generalized Multi-Protocol Label Switching (GMPLS),&rdquo; March&nbsp;2006.</span><span>)</span></a> provide a full breakdown of protection and recovery schemes. This section 
			summarizes the qualitative levels available.
</p>
<a name="anchor22"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.3.1"></a><h3>4.3.1.&nbsp;
Dedicated Protection</h3>

<p>In dedicated protection, the resources for the recovery entity are pre-assigned for use only by the protected service. This 
			will clearly be the case in 1+1 protection, and may also be the case in 1:1 protection where extra traffic (see Section 4.3.3) 
			is not supported.
</p>
<p>Note that in the use of protection tunnels (see Section 4.4.3) resources may also be dedicated to protecting a 
			specific service. In some cases (one-for-one protection) the whole of the bypass tunnel may be dedicated to provide 
			recovery for a specific LSP, but in other cases (such as facility backup) a subset of the resources of the bypass tunnel 
			may be pre-assigned for use to recover a specific service. However, as described in Section 4.4.3, the bypass tunnel approach 
			can also be used for shared protection (Section 4.3.2), to carry extra traffic (Section 4.3.3), or without reserving resources 
			to achieve best-effort recovery.
</p>
<a name="anchor23"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.3.2"></a><h3>4.3.2.&nbsp;
Shared Protection</h3>

<p>In shared protection, the resources for the recovery entities of several services are shared.  
			These may be shared as 1:n or m:n, and may be shared on individual links, on LSP segments, on PW 
			segments, or on end-to-end transport path (LSP or PW).  Note that there is no requirement for m:n 
			recovery in the list of MPLS-TP requirements documented in <a class='info' href='#RFC5654'>[RFC5654]<span> (</span><span class='info'>Niven-Jenkins, B., Ed., Brungard, D., Ed., Betts, M., Ed., Sprecher, N., and S. Ueno, &ldquo;Requirements of an MPLS Transport Profile,&rdquo; February&nbsp;2009.</span><span>)</span></a>.
</p>
<p>Where a bypass tunnel is used (Section 4.4.3), the tunnel might not have sufficient resources to simultaneously protect 
			all of the paths to which it offers protection, so that if they were all affected by network failures at the same time, 
			they would not all be recovered.
</p>
<p>Shared protection is a trade-off between the dedication of expensive network resources to protection 
			that is not required most of the time, and the risk of unrecoverable services in the event of multiple 
			network failures.  Rapid recovery that can be achieved with dedicated protection, but is delayed by 
			message exchanges in the management, control, or data planes for shared protection.  This means that 
			there is also a trade-off between rapid recovery  and the reduction of network cost achieved by 
			sharing protection resources.
</p>
<p>These trade-offs may be somewhat mitigated by:
</p>
<p>
			 </p>
<ul class="text">
<li>adjusting the value of n in 1:n protection
</li>
<li>using m:n protection for some value of m > 1
</li>
<li>by establishing new protection paths as each available protection path is put into use.
</li>
</ul><p>
			
</p>
<a name="anchor24"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.3.3"></a><h3>4.3.3.&nbsp;
Extra Traffic</h3>

<p>Network resources allocated for protection represent idle capacity during the time that recovery 
			is not actually required. These resources can be utilized by carrying other traffic referred to as 
			&quot;extra traffic&quot;.  Extra traffic is not supported on dedicated protection resources (Section 4.3.1) 
			by definition, but can be supported in shared protection (Section 4.3.2) and in tunnel protection 
			(Section 4.4.3).
</p>
<p>When a network resource that is carrying extra traffic is required for recovery, the extra traffic 
			is disrupted &ndash; essentially it is pre-empted by the recovery LSP.  This may require additional 
			message exchanges in the management, control, or data planes, and that may mean that recovery could 
			be delayed.  Thus the benefits of carrying extra traffic must be weighed against the disadvantage 
			of delayed recovery, additional network overhead, and the impact to the services the extra traffic 
			supports.
</p>
<p>Note that in MPLS-TP support for extra traffic is not required except in ring topologies (Section 3 and 
			<a class='info' href='#RFC5654'>[RFC5654]<span> (</span><span class='info'>Niven-Jenkins, B., Ed., Brungard, D., Ed., Betts, M., Ed., Sprecher, N., and S. Ueno, &ldquo;Requirements of an MPLS Transport Profile,&rdquo; February&nbsp;2009.</span><span>)</span></a>).
</p>
<a name="anchor25"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.3.4"></a><h3>4.3.4.&nbsp;
Restoration and Repair</h3>

<p>This section refers to LSP restoration and repair. Restoration for PWs is out of scope of this 
			document (but see Section 7).
</p>
<p>Restoration represents the most cost-effective use of network resources as no resources are reserved for protection. 
			However, restoration requires computation of a new path and activation of a new LSP (through the management or control 
			plane). These steps can take much more time than is required for recovery using protection techniques.
</p>
<p>Furthermore, there is no guarantee that restoration will be able to recover the service. It may be that all suitable 
			network resources are already in use for other LSPs so that no new path can be found. This problem can be partially mitigated 
			by the use of LSP setup priorities so that recovery LSPs can pre-empt existing LSPs of low priority.
</p>
<p>Additionally, when a network failure occurs, multiple LSPs may be disrupted by the same event.  
			These LSPs may have been established by different Network Management Stations (NMSs) or signaled by 
			different head-end MPLS-TP nodes, and this means that multiple points in the network will be trying 
			to compute and establish recovery LSPs at the same time.  This can lead to contention for resources 
			within the network, causing recovery failures and meaning that some recovery actions must be retried 
			resulting in even slower recovery times for some services.
</p>
<p>Both hard and soft LSP restoration may be supported. In hard LSP restoration, the resources of the LSP are released before 
			the full establishment of the recovery LSP (i.e., break-before-make). In soft LSP restoration, the resources of the LSP are 
			released after the full establishment of an alternate LSP (i.e., make-before-break).
</p>
<p>Note that the restoration resources may be pre-calculated and even pre-signaled before the restoration action starts, 
			but not pre-allocated. This is known as pre-planned LSP restoration. The complete establishment/activation of the restoration 
			LSP occurs only when the restoration action starts. The pre-planning may happen periodically to have the most accurate 
			information about the available resources in the network.
</p>
<a name="anchor26"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.3.5"></a><h3>4.3.5.&nbsp;
Reversion</h3>

<p>After a service has been recovered so that traffic is flowing on the recovery LSP, the faulted 
			network resource may be repaired.  The traffic can be redirected back on to the original working 
			LSP (called &quot;reversion&quot;), or to left it where it is on the recovery LSP 
			(&quot;non-revertive&quot; behavior).
</p>
<p>It should be possible to specify the reversion behavior of each service, and this might even be 
			configured for each recovery instance.
</p>
<p>In the non-revertive mode an additional operational option exists where protection roles are 
			switched so that the recovery LSP becomes the working LSP, and the previous working path (or the 
			resources used by the previous working path) are used for recovery in the event of a further fault.
</p>
<p>In revertive mode it is important to prevent excessive swapping between working and recovery 
			paths in the case of an intermittent defect. This can be addressed by the use of a reversion delay 
			timer that controls the length of time to wait following the repair of the fault on the original 
			working path before performing reversion. It should be possible for an operator to configure this 
			timer per LSP, and a default value should be defined.
</p>
<a name="anchor27"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.4"></a><h3>4.4.&nbsp;
Mechanisms for Recovery</h3>

<p>The purpose of this section is to describe in general (MPLS-TP non-specific) terms the mechanisms that can be used to 
		provide protection. As indicated above, while the functional architecture applies to both LSPs and PWs, the mechanism for 
		recovery described in this document refers to LSPs and LSP segments only. Recovery mechanisms for pseudowires and pseudowire 
		segment are for further study and will be described in a separate document (see also Section 6).
</p>
<a name="anchor28"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.4.1"></a><h3>4.4.1.&nbsp;
Link-Level Protection</h3>

<p>Link-level protection refers to two paradigms: (1) where the protection is provided in a lower network layer, and (2) 
			the protection is provided by the MPLS-TP link layer.
</p>
<p>Note that link-level protection mechanisms do not protect the nodes at each end of the entity (e.g., a link or span) 
			that is protected. End-to-end or segment protection should be used in conjunction to link-level protection to protect 
			against a failure of the edge nodes.
</p>
<p>Link-level protection offers the following levels of protections:
</p>
<p>
			 </p>
<ul class="text">
<li>Full protection, where a dedicated protection entity (e.g., a link or span) is pre-established to protect a working 
				entity. When the working entity fails, the protected traffic is switched onto the protecting entity. In this scenario, 
				all LSPs carried over the entity are recovered (in one protection operation) when there is a failure condition. This 
				is referred to in <a class='info' href='#RFC4427'>[RFC4427]<span> (</span><span class='info'>Mannie, E. and D. Papadimitriou, &ldquo;Recovery (Protection and Restoration) Terminology for                   Generalized Multi-Protocol Label Switching (GMPLS),&rdquo; March&nbsp;2006.</span><span>)</span></a> as &#039;bulk recovery&#039;.
</li>
<li>Partial protection, where only a subset of the LSPs carried over a given entity is recovered when there is a failure 
				condition. The decision as to which LSPs will be recovered and which will not depends on local policy.
</li>
</ul><p>
			
</p>
<p>When there is no failure on the working entity, the protection entity may transport extra traffic which may be preempted 
			when protection switching occurs.
</p>
<p>As with recovery in layered networks, a protection mechanism at the lower layer needs to be coordinated with protection 
			actions at the upper layer in order to avoid race conditions. In general, this is arranged to allow protection actions to 
			be performed in the lower layer before any attempt is made to perform protection actions in the upper layer.
</p>
<p>A protection mechanism may be provided at the MPLS-TP link layer (which connects two MPLS-TP nodes). Such a mechanism 
			can make use of the procedures defined in <a class='info' href='#RFC5586'>[RFC5586]<span> (</span><span class='info'>Bocci, M., Ed., Vigoureux, M., Ed., and S. Bryant, Ed., &ldquo;MPLS Generic Associated Channel,&rdquo; June&nbsp;2009.</span><span>)</span></a> to set up in-band communication channels at the MPLS-TP 
			link level and use these channels to monitor the health of the MPLS-TP link and coordinate the protection states between 
			the ends of the MPLS-TP link.
</p>
<a name="anchor29"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.4.2"></a><h3>4.4.2.&nbsp;
Alternate Paths and Segments</h3>

<p>The use of alternate paths and segments refers to the paradigm whereby protection is performed in the same network 
			layer as the protected LSP either for the entire end-to-end LSP or for a segment of the LSP. In this case, hierarchical 
			LSPs are not used &ndash; compare with Section 4.4.3.
</p>
<p>Different levels of protection may be provided:
</p>
<p>
			 </p>
<ul class="text">
<li>Dedicated protection, where a dedicated entity (e.g., LSP or LSP segment) is fully pre-established to protect a 
				working entity (e.g., LSP or LSP segment). When there is a failure condition on the working entity, the traffic is 
				switched onto the protection entity. Dedicated protection may be performed using 1:1 or 1+1 protection schemes. When 
				the failure condition is eliminated, the traffic may revert to the working entity. This is subject to local 
				configuration.
</li>
<li>Shared protection, where one or more protection entity is pre-established to protect against a failure of one or 
				more working entities (1:n or m:n).
</li>
</ul><p>
			
</p>
<p>When the fault condition on the working entity is eliminated, the traffic should revert back to the working entity in 
			order to allow other related working entities to be protected by the shared protection resource.
</p>
<a name="anchor30"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.4.3"></a><h3>4.4.3.&nbsp;
Protection Tunnels</h3>

<p>A protection tunnel is a hierarchical LSP that is pre-provisioned in order to protect against a failure condition 
			along a network segment, which may affect one or more LSPs that transmit over the network segment.
</p>
<p>When there is a failure condition in the network segment, one or more of the protected LSPs are switched over at the 
			ingress point of the network segment and transmitted over the protection tunnel. The way to realize this is using label 
			stacking. Label mapping may be an option as well.
</p>
<p>Different levels of protection may be provided:
</p>
<p>
			 </p>
<ul class="text">
<li>Dedicated protection, where the protection tunnel has resource reservations sufficient to provide protection 
				for all protected LSPs without service degradation.
</li>
<li>Shared protection, where the protection tunnel has resources to protect some of the protected LSPs, but not all 
				of them simultaneously.
</li>
</ul><p>
			
</p>
<a name="anchor31"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.5"></a><h3>4.5.&nbsp;
Protection in Different Topologies</h3>

<p>As described in the requirements listed in Section 3 and detailed in <a class='info' href='#RFC5654'>[RFC5654]<span> (</span><span class='info'>Niven-Jenkins, B., Ed., Brungard, D., Ed., Betts, M., Ed., Sprecher, N., and S. Ueno, &ldquo;Requirements of an MPLS Transport Profile,&rdquo; February&nbsp;2009.</span><span>)</span></a>, the recovery techniques 
			used may be optimized for different network topologies if the performance of those optimized mechanisms is significantly 
			better than the performance of the generic ones in the same topology.
</p>
<p>It is required that such mechanisms interoperate with the mechanisms defined for arbitrary topologies to allow 
			end-to-end protection and to allow consistent protection techniques to be used across the whole network.
</p>
<p>This section describes two different topologies and explains how recovery may be markedly different in those different 
			scenarios. It also introduces the concept of a recovery domain and shows how end-to-end survivability may be achieved 
			through a concatenation of recovery domains each providing some level of recovery in part of the network.
</p>
<a name="anchor32"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.5.1"></a><h3>4.5.1.&nbsp;
Mesh Networks</h3>

<p>Linear protection provides a fast and simple protection switching mechanism and fits best in mesh networks. It can 
			protect against a failure that may happen on an node, a span, an LSP segment, or an end-to-end LSP. Linear protection 
			provides a clear indication of the protection status.
</p>
<p>Linear protection operates in the context of a Protection Domain. A Protection Domain is a special case of a Recovery 
			Domain <a class='info' href='#RFC4427'>[RFC4427]<span> (</span><span class='info'>Mannie, E. and D. Papadimitriou, &ldquo;Recovery (Protection and Restoration) Terminology for                   Generalized Multi-Protocol Label Switching (GMPLS),&rdquo; March&nbsp;2006.</span><span>)</span></a> that applies to the protection function. A Protection Domain is composed of the following 
			architectural elements:
</p>
<p>
			 </p>
<ul class="text">
<li>A set of end points which reside at the boundary of the Protection Domain. In this simple case of 1:n or 1+1 P2P 
				protection, exactly two endpoints reside at the boundary of the Protection Domain. In each transmission direction one 
				of the end points is referred to as a source and the other one is referred to as a sink. In the case of unidirectional 
				P2MP protection, three or more endpoints reside at the boundary of the Protection Domain. One of the endpoints is 
				referred to as source/root and the other ones are referred to as sinks/leaves.
</li>
<li>A Protection Group which consists of a working (primary) path and one or more recovery (backup) paths which run 
				between the endpoints of the Protection Domain. In order to guarantee protection in all situations, a dedicated recovery 
				path should be pre-provisioned to protect against a failure of a working path (i.e., 1:1 or 1+1 protection schemes). Also 
				the working and the recovery paths should be disjoint, i.e.,, the physical routes of the working and the recovery paths 
				should have complete physical diversity.
</li>
</ul><p>
			
</p>
<p>Note that if the resources of the protection path are less that those of the working path, the protection path may not have 
			sufficient resources to protect the traffic of the working path.
</p>
<p>As mentioned in Section 4.3.2, the resources of the protection path may be shared as 1:n. In such a case, the protection 
			path might not have sufficient resources to simultaneously protect all of the working paths that may be affected by fault 
			conditions at the same time.
</p>
<p>For P2P paths, both unidirectional and bidirectional protection switching is supported. In bidirectional protection switching, 
			in the event of failure, the recovery actions are taken in both directions (even when the fault is unidirectional). This requires 
			some level of synchronization of the recovery state between the endpoints of the protection domain.
</p>
<p>In unidirectional protection switching, the recovery actions are taken only in the affected direction.
</p>
<p>Revertive and non-revertive operations are provided as network operator options.
</p>
<a name="anchor33"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.5.1.1"></a><h3>4.5.1.1.&nbsp;
Protection Schemes in Mesh Topologies</h3>

<p>Linear protection supports the protection schemes described in the following sub-sections:
</p>
<a name="anchor34"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.5.1.1.1"></a><h3>4.5.1.1.1.&nbsp;
1:n Linear Protection</h3>

<p>In the 1:1 scheme, a recovery path is allocated to protect against a failure of degradation in a working path. 
					As described above, in order to guarantee protection, the recovery entity should support the full capacity and 
					bandwidth, but it may be degraded from the normal working entity.
</p>
<p>Figure 1 presents 1:1 protection architecture. In normal conditions the data traffic is transmitted over the 
					working entity and the recovery entity is in an idle state. Normal conditions are defined when there is no failure 
					or degradation on the working entity and there is no administrative configuration or requests that cause traffic 
					to transmit over the recovery entity.
</p><br /><hr class="insert" />
<a name="figure 1"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
		|-------------Protection Domain-----------------|
                           ==============================
                        /**********Working path***********\
              +--------+   ==============================   +--------+
              | Node  /|                                    |\  Node |
              |  A {&lt;  |                                    | &gt;}  B  |
              |        |                                    |        |
              +--------+   ==============================   +--------+
                                   Recovery path
                           ==============================

</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;1: 1:1 protection architecture&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>Upon a fault condition (failure or degradation) along the working entity or a specific administrative request, 
					the traffic is switched over to the recovery entity.
</p>
<p>Note that in the non-revertive behavior (see section 4.3.5), data traffic can be transmitted over the recovery 
					entity also in normal conditions. This can happen after the condition(s) causing the switchover has/have been 
					cleared.
</p>
<p>In each transmission direction, the source of the protection domain bridges the traffic into the appropriate 
					entity and the sink selects the traffic from the appropriate entity.  The source and the sink need to coordinate the 
					protection states to ensure that the bridging and the selection are done to and from the same entity. For that sake 
					a signaling coordination protocol (either data-plane in-band signaling protocol or a control-plane based signaling 
					protocol) is needed.
</p>
<p>In bidirectional protection switching, both ends of the protection domain switch to the recovery entity (even when 
					the fault is unidirectional). This requires a protocol to try and synchronize the protection state between the two end 
					points of the Protection Domain.
</p>
<p>When there is no failure, the resources of the idle entity may be used for less priority traffic. When protection 
					switching is performed, the less priority traffic may be pre-empted by the protected traffic.
</p>
<p>In the general case of 1:n linear protection, one recovery entity is allocated to protect n working entities. The 
					Protection entity might not have sufficient resources to simultaneously protect all of the Working entities that may 
					be affected by fault conditions at the same time.
</p>
<p>In case of failures along multiple working entities, priority should be set as to which entity is protected. The 
					protection states between the edges of the Protection Domain should be fully synchronized to ensure consistent behavior. 
					As explained above in section Revertive behavior is recommended when 1:n is supported.
</p>
<a name="anchor35"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.5.1.1.2"></a><h3>4.5.1.1.2.&nbsp;
1+1 Linear Protection</h3>

<p>In the 1+1 protection scheme, a fully dedicated recovery path is allocated.
</p>
<p>As depicted in figure 2, data traffic is copied at fed at the source to both the working and the recovery entities. 
					The traffic on the working and the recovery entities is transmitted simultaneously to the sink of the Protection Domain, 
					where the selection between the working and recovery entities is made (based on some predetermined criteria).
</p><br /><hr class="insert" />
<a name="figure 2"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
 	        |-------------Protection Domain-----------------|
                          ==============================
                       /**********Working path************\
             +--------+   ==============================   +--------+
             | Node  /|                                    |\  Node |
             |  A {&lt;  |                                    | &gt;}  Z  |
             |       \|                                    |/       |
             +--------+   ==============================   +--------+
                      \***********Recovery path***********/
                          ==============================


</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;2: 1+1 protection architecture&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>Note that control traffic between the edges of the Protection Domain (such as OAM or control protocol to synchronies 
					the protection state, etc.) may be transmitted on a different entity than the one used for the protected traffic. These 
					packets should not be discarded by the sink.
</p>
<p>In 1+1 unidirectional protection switching there is no need to coordinate the recovery state between the protection
					controllers at both ends of the protection domain. In 1+1 bidirectional protection switching, there is a need for a 
					protocol to coordinate the protection state between the edges of the Protection Domain.
</p>
<p>In both protection schemes traffic is restored to the working entity after the condition(s) causing the switchover 
					has/have been cleared. To avoid frequent switching in case of intermittent failures when the network is not stabilized, 
					traffic is not switched back to the working entity before the Wait-to-Restore (WTR) timer has expired.
</p>
<a name="anchor36"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.5.1.1.3"></a><h3>4.5.1.1.3.&nbsp;
P2MP linear protection</h3>

<p>Linear protection may apply to protect unidirectional P2MP entity using 1+1 protection architecture. The source/root 
					MPLS-TP node bridges the user traffic to both the Working and Protected entities. Each sink/leaf MPLS-TP node selects 
					the traffic from one entity based on some predetermined criteria.  Note that when there is a fault condition on one of 
					the branches of the P2MP path, some leaf MPLS-TP nodes may select the Working entity, while other leaf MPLS-TP nodes 
					may select traffic from the Protection entity.
</p>
<p>In a 1:1 P2MP protection scheme, the source/root MPLS-TP node needs to identify the existence of a fault condition 
					on any of the branches of the network.  This requires the sink/leaf MPLS-TP nodes to notify the source/root MPLS-TP node
					of any fault condition. This required also a return path from the sinks/leaves to the source/root MPLS-TP node.
</p>
<p>When protection switching is triggered, the source/root MPLS-TP node selects the recovery transport path to transfer 
					the traffic.
</p>
<p>Note that such a mechanism does not exist and its exact behavior if for further study.
</p>
<a name="anchor37"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.5.1.2"></a><h3>4.5.1.2.&nbsp;
Triggers for the Linear Protection Switching Action</h3>

<p>The protection switching may be performed when:
</p>
<p>
				 </p>
<ul class="text">
<li>A fault condition (&#039;failed&#039; or &#039;degraded&#039;) is declared on the working entity and is not declared 
					on the recovery entity. Proactive in-band OAM CC&V (Continuity and Connectivity Verification) monitoring of both the 
					working and the recovery entities may be used to enable the fast detection of a fault condition. For protection switching, 
					it is common to run a CC&V every 3.33ms. In the absence of three consecutive CC&V messages, a fault condition is declared. 
					In order to monitor the working and the recovery entities, an OAM Maintenance Entity should be defined for each of the 
					entities. OAM indications of fault conditions should be provided to the edges of the Protection Domain which are 
					responsible for the protection switching operation. Input from OAM performance monitoring indicating degradation in the 
					working entity may also be used as a trigger for protection switching. In the case of degradation, switching to the 
					recovery entity is needed only if the recovery entity can  guarantee better conditions.
</li>
<li>An indication is received from a lower layer server that there is a network failure.
</li>
<li>An external operator command is received (e.g., &#039;Forced Switch&#039;, &#039;Manual Switch&#039;). For details 
					see Section 6.1.2.
</li>
<li>A request to switch over is received from the far end. The far end may initiate this request for example when it gets 
					an administrative request o switch over, or when bidirectional 1:1 protection switching is supported and there was a fault 
					that could be detected only by the far end, etc.
</li>
</ul><p>
				
</p>
<p>As described above, in some cases an attempt should be done to coordinate the protection states between the end points of 
				the Protection Domain. Control message should be exchanged between the edges of the Protection Domain to synchronize the 
				protection state of the edge nodes. The control messages can be delivered using in-band data-plane driven control protocol 
				or a control plane based protocol.
</p>
<p>In order to achieve 50ms protection switching it is recommended to use in-band data-plane driven signaling protocol to 
				coordinate the protection states. An in-band data-plane PSC (Protection State Coordination) protocol is defined in 
				<a class='info' href='#MPLS-TP-Linear-Protection'>[MPLS&#8209;TP&#8209;Linear&#8209;Protection]<span> (</span><span class='info'>Weingarten, Y., Bryant, S., Ed., Sprecher, N., Ed., Van Helvoort, H., Ed., and A. Fulignoli, &ldquo;MPLS-TP Linear Protection,&rdquo; .</span><span>)</span></a> for this purpose. This protocol is also used to detect mismatches between the 
				configuration provisioned at the ends of the Protection Domain.
</p>
<p>As described below in section 6.5, GMPLS already defines procedures and messages&#039; elements to synchronize the protection 
				states between the edges of the protection domain. These procedures and protocols messages are specifies in <a class='info' href='#RFC4426'>[RFC4426]<span> (</span><span class='info'>Lang, J., Ed., Rajagopalan, B., and D. Papadimitriou, &ldquo;Generalized Multiprotocol Label Switching                   (GMPLS) Recovery Functional Specification,&rdquo; March&nbsp;2006.</span><span>)</span></a>, 
				<a class='info' href='#RFC4872'>[RFC4872]<span> (</span><span class='info'>Lang, J., Rekhter, Y., and D. Papadimitriou, &ldquo;RSVP-TE                   Extensions in Support of End-to-End Generalized Multi-Protocol Label Switching (GMPLS) Recovery,&rdquo; May&nbsp;2007.</span><span>)</span></a> and <a class='info' href='#RFC4873'>[RFC4873]<span> (</span><span class='info'>Berger, L., Bryskin, I., Papadimitriou, D., and A. Farrel, &ldquo;GMPLS Segment Recovery,&rdquo; May&nbsp;2007.</span><span>)</span></a>. However, these messages lack the capability to synchronize the 
				revertive/non-revertive behavior and the consistency of configured timers at the edges of the Protection Domain (timers such as 
				Wait to Restore (WTR), Hold-off timer, etc.).
</p>
<a name="anchor38"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.5.1.3"></a><h3>4.5.1.3.&nbsp;
Applicability of linear protection for LSP segments</h3>

<p>In order to implement data-plane based linear protection on LSP segments, there is a need to support the MPLS-TP 
				architectural element PST (Path Segment Tunnel). Maintenance operations (e.g., monitoring, protection or management) 
				engage with a transmission of messages (e.g., OAM, Protection Path Synchronization, etc.) in the maintained domain. According 
				to the MPLS architecture which is defined in <a class='info' href='#RFC3031'>[RFC3031]<span> (</span><span class='info'>Rosen, E., Viswanathan, A., and R. Callon, &ldquo;Multiprotocol Label Switching Architecture,&rdquo; November&nbsp;2002.</span><span>)</span></a>, such messages can be initiated and terminated at the 
				edges of a path where push and pop operations are enabled. As an exception, these messages may be terminated at an intermediate 
				node when the TTL value is expired. In order to support the option to monitor, protect and manage a portion of an LSP, a new 
				architectural element is defined, Path Segment Tunnel (PST). A Path Segment Tunnel is an LSP which is basically defined and 
				used for the purposes of OAM monitoring, protection or management of LSP segments. PST makes use of the MPLS construct of 
				hierarchical nested LSP which is defined in <a class='info' href='#RFC3031'>[RFC3031]<span> (</span><span class='info'>Rosen, E., Viswanathan, A., and R. Callon, &ldquo;Multiprotocol Label Switching Architecture,&rdquo; November&nbsp;2002.</span><span>)</span></a>.
</p>
<p>For linear protection operation, PSTs should be defined over the working and recovery entities between the edges of a 
				Protection Domain.  OAM and PSC messages can be initiated at the edge of the PST and sent to the peer edge of the PST. Note 
				that these messages are sent over G-ACH channels, within the PST and use two labels stack, the PST label at the bottom of 
				stack and the G-ACH label.
</p>
<p>The end-to-end traffic of the LSP, including data-traffic and control traffic (OAM, PSC, management and signaling messages) 
				is tunneled within the PSTs by means of label stacking as defined in <a class='info' href='#RFC3031'>[RFC3031]<span> (</span><span class='info'>Rosen, E., Viswanathan, A., and R. Callon, &ldquo;Multiprotocol Label Switching Architecture,&rdquo; November&nbsp;2002.</span><span>)</span></a>.
</p>
<p>The mapping between an LSP and a PST can be 1:1 which is similar to the ITU-T Tandem Connection element which defines a sub 
				layer corresponding to a segment of a path. The mapping can also be 1:n to allow scalable protection of a set of LSPs&#039; 
				segments traversing the portion of the network in which a Protection Domain is defined. Note that each of these LSPs can be 
				initiated or terminated at different endpoints in the network, but they all traverse the Protection Domain and share similar 
				constraints (such as requiremtns for QoS, terms of protection ,etc.). In case of 1:n mapping PSTs can be referred to also 
				as TE links.
</p>
<p>Note that in the context of segment recovery, the PSTs serve as the working and protection entities.
</p>
<a name="anchor39"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.5.2"></a><h3>4.5.2.&nbsp;
Ring Networks</h3>

<p>Several Service Providers have expresses a high level of interest in operating MPLS-TP in ring topologies and require 
				a high level of survivability function in these topologies.
</p>
<p>Different criteria for optimization are considered in ring topologies, such as:
</p>
<p>
				 </p>
<ol class="text">
<li>Simplification of the operation of the Ring in terms of the number of OAM Maintenance Entities that are needed 
					to trigger the recovery actions, the number of elements of recovery, the number of management plane transactions 
					during maintenance operations, etc.
</li>
<li>Optimization of resource consumption around the ring, like the number of labels needed for the protection paths 
					that cross the network, the total bandwidth needed in the ring to ensure the protection of the paths, etc.
</li>
</ol><p>
				
</p>
<p><a class='info' href='#RFC5654'>[RFC5654]<span> (</span><span class='info'>Niven-Jenkins, B., Ed., Brungard, D., Ed., Betts, M., Ed., Sprecher, N., and S. Ueno, &ldquo;Requirements of an MPLS Transport Profile,&rdquo; February&nbsp;2009.</span><span>)</span></a> introduces a list of requirements on ring protection that cover the recovery mechanisms 
				need to protect traffic in a single ring and traffic that traverses more than one ring. Note that configuration and 
				the operation of the recovery mechanisms in a ring must scale well with the number of transport paths, the number 
				of nodes, and the number of ring interconnects.
</p>
<p>The requirements for ring protection are fully compatible with the generic requirements for recovery.
</p>
<p> The architecture and the mechanisms for ring protection are specified in separate documents. These mechanisms need 
				to be evaluated against the requirements specified in <a class='info' href='#RFC5654'>[RFC5654]<span> (</span><span class='info'>Niven-Jenkins, B., Ed., Brungard, D., Ed., Betts, M., Ed., Sprecher, N., and S. Ueno, &ldquo;Requirements of an MPLS Transport Profile,&rdquo; February&nbsp;2009.</span><span>)</span></a>. The principles for the development of the
				mechanisms should be:
</p>
<p>
				 </p>
<ol class="text">
<li>Reuse existing procedures and mechanisms for recovery in ring topologies as along as their performance is as 
					good as new potential mechanisms.
</li>
<li>Ensure complete interoperability with the mechanisms defined for arbitrary topologies to allow end-to-end 
					protection.
</li>
</ol><p>
				
</p>
<a name="anchor40"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.5.3"></a><h3>4.5.3.&nbsp;
Protection and Restoration Domains</h3>

<p>Protection and restoration are performed in the context of a recovery domain. A recovery domain is defined between 
				two or more recovery reference endpoints which are located at the edges of the recovery domain and bounds the element 
				on which recovery can be provided (as described in section 4.2 above). This element can be end-to-end path, a portion 
				of a path or a span.
</p>
<p>The case of an end-to-end path can be observed as a special case of a portion of a path, and the ingress and the 
				egress LERs serve as the recover reference end-points.
</p>
<p>In this simple case of a P2P protected entity, exactly two endpoints reside at the boundary of the Protection Domain. 
				An LSP can enter through exactly one reference endpoint and exit the recovery domain through another reference endpoint.
</p>
<p>In the case of unidirectional P2MP, three or more endpoints reside at the boundary of the Protection Domain. One of the 
				endpoints is referred to as source/root and the other ones are referred to as sinks/leaves. An LSP can enter the recover 
				domain through the root point and exit the recovery domain through the leaves points.
</p>
<p>The recovery mechanism should restore interrupted traffic due to a facility (link or node) fault within the recovery 
				domain. Note that a single link may part of several recovery domains. If two recovery domains have any links in common, 
				then one recovery domain must be contained with the other. This can be referred to as nested recovery domains. However 
				recovery domains must not overlap.
</p>
<p>Note that the edges of a recovery domain are not protected and unless contained in another recovery domain, they form 
				a single point of failure.
</p>
<p>A recovery group is defined within a recovery domain and it consists of a working (primary) entity and one or more 
				recovery (backup) entities which reside between the endpoints of the recovery Domain. In order to guarantee protection 
				in all situations, a dedicated recovery entity should be pre-provisioned using disjoint resources in the recovery domain 
				in order to protect against a failure of a working entity.
</p>
<p>The method used to monitor the health of the recovery element is unimportant, provided that the endpoints which are 
				responsible for the recovery action receive the information on its condition. The condition of the recovery element 
				may be &#039;OK&#039;, &#039;failed&#039;, or &#039;degraded&#039;.
</p>
<p>When the recovery operation is triggered by an OAM FM or PM indication, an OAM Maintenance Entity Group is defined for 
				each of the working and protection entities.
</p>
<p>The recovery entities and functions in a recovery domain can be provisioned using a management plane or a control plane. 
				A management plane may be used to configure the recovery domain by setting the reference points, the working and recovery 
				entities, and the recovery type (e.g., 1:1 bidirectional linear protection, ring protection, etc.). Additional parameters 
				associated with the recovery process may also be configured. For more details, see section 6.1.
</p>
<p>When a control plane is used, the ingress LERs may communicate with the recovery reference points requesting protection or 
				restoration across a recovery domain. For details, see section 6.5.
</p>
<p>Cases of multiple interconnections between distinct recovery domains actually just create a 
				hierarchical arrangement of recovery domains as a single top-level recovery domain is created 
				from the concatenation of two recovery domains that have multiple interconnections. In this case, 
				recovery actions may be taken both in the individual lower-level recovery domains to protect any 
				LSP segment that crosses the domain, and within the higher-level recovery domain to protect the 
				longer LSP segment that traverses the higher-level domain.
</p>
<a name="anchor41"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.6"></a><h3>4.6.&nbsp;
Recovery in Layered Networks</h3>

<p>In multi-layer or multi-region networking, recovery may be performed at multiple layers or across cascaded recovery 
			domains.
</p>
<p>The MPLS-TP recovery mechanism must ensure that the timing of recovery is coordinated in order to avoid races, and 
			to allow either the recovery mechanism of the server layer to fix the problem before recovery takes place at the MPLS-TP 
			layer, or to allow an upstream recovery domain to perform recovery before a downstream domain. In inter-connected rings, 
			for example, it may be preferable to allow the upstream ring to perform recovery before the downstream ring, in order 
			to ensure that recovery takes place in the ring in which the failure occurred.
</p>
<p>A hold-off timer is required to coordinate the timing of recovery at multiple layers or across cascaded recovery domains. 
			Setting this configurable timer involves a trade-off between rapid recovery and the creation of a race condition where 
			multiple layers respond to the same fault, potentially allocating resources in an inefficient manner. Thus, the detection 
			of a failure condition in the MPLS-TP layer should not immediately trigger the recovery process if the hold-off timer is 
			set to a value other than zero. The hold-off timer should be started and, on expiry, the recovery element should be checked 
			to determine whether the failure condition still exists. If it does exist, the defect triggers the recovery operation.
</p>
<p>The hold-off timer should be configurable.
</p>
<p>In other configurations, where the lower layer does not have a restoration capability, or where it is not expected to 
			provide protection, the lower layer needs to trigger the higher layer to immediately perform recovery.
</p>
<p>Reference should be made to <a class='info' href='#RFC3386'>[RFC3386]<span> (</span><span class='info'>Lai, W. and D. McDysan, &ldquo;Network Hierarchy and Multilayer Survivability,&rdquo; November&nbsp;2002.</span><span>)</span></a> that presents the near-term and practical requirements for network 
			survivability and hierarchy in current service provider environments.
</p>
<a name="anchor42"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.6.1"></a><h3>4.6.1.&nbsp;
Inherited Link-Level Protection</h3>

<p>Where a link in the MPLS-TP network is formed from connectivity (i.e., a packet or non-packet LSP) in a lower layer 
			network, that connectivity may itself be protected. For example, the LSP in the lower layer network may be provisioned 
			with 1+1 protection. In this case the link in the MPLS-TP network as an inherited level of protection.
</p>
<p>An LSP in the MPLS-TP network may be provisioned with protection in the MPLS-TP network as already described, or it 
			may be provisioned to utilize only links that themselves have inherited protection.
</p>
<p>By classifying the links in the MPLS-TP network according to the level of underlying protection that they have, it is 
			possible to compute an end-to-end path in the MPLS-TP network that uses only links with a specific or better level of 
			inherited protection. This means that the end-to-end MPLS-TP LSP can be protected at the level necessary to conform with 
			the SLA without the need to provide any additional protection in the MPLS-TP layer. This saves complexity and network 
			resources, and reduces issues of protection switching coordination.
</p>
<p>Where the requisite level of inherited protection is not available along the whole path in the MPLS-TP network, it can 
			be &quot;topped up&quot; using protection in the MPLS-TP layer. Segment protection would be particularly suitable.
</p>
<p>It should be noted, however, that inherited protection only applies to links. Nodes cannot be protected in this way. 
			An operator will need to perform an analysis of the relative likelihood and consequences of node failure if this approach 
			is taken without providing any protection in the MPLS-TP layer to handle node failure.
</p>
<a name="anchor43"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.6.2"></a><h3>4.6.2.&nbsp;
Shared Risk Groups</h3>

<p>When an MPLS-TP protection scheme is established, it is essential that the working and protection paths do not share 
			resources in the network. If this is not achieved, a single failure may affect both the working and the protection path 
			with the result that the traffic cannot be delivered &ndash; it was, in fact, not protected.
</p>
<p>Note that this restriction does not apply for restoration as this takes place after the fault has arisen meaning that 
			the point of failure can be avoided.
</p>
<p>When planning a recovery scheme it is possible to select paths that use diverse links and nodes within the MPLS-TP network 
			using a topology map of the network. However, this does not guarantee that the paths are truly diverse. For example, two 
			separate links in an MPLS-TP network may be provided by two lambdas in the same optical fiber, or by two fibers that cross 
			the same bridge. And two completely separate MPLS-TP nodes might be situated in the same building with a shared power supply.
</p>
<p>Thus, in order to achieve proper recovery planning, the MPLS-TP network must have an understanding of the groups of lower 
			layer resources that share a common risk of failure. From this, MPLS-TP shared risk groups can be constructed that show 
			which MPLS-TP resources share a common risk of failure. The working and protection paths can be planned to be not only 
			node and link diverse, but to not use any resources from the same shared risk groups.
</p>
<a name="anchor44"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.6.3"></a><h3>4.6.3.&nbsp;
Fault Correlation</h3>

<p>In a layered network a low-layer fault may be detected and reported by multiple layers and may 
			sometimes give rise to multiple fault reports from the same layer. For example, a failure of a data 
			link may be reported by the line cards in an MPLS-TP node, but it could also be detected and reported 
			by the MPLS-TP OAM.
</p>
<p>Section 4.6 explains how it is important to coordinate the survivability actions configured and 
			operated in a multi-layer network to avoid over-equipping the survivability resources in the network, 
			and to ensure that recovery actions are taken only in one layer at a time.
</p>
<p>Fault correlation is about understanding what single event has led to a set of fault reports so 
			that the recovery actions can be coordinated, and so that the fault logging system does not become 
			overloaded. Fault correlation depends on an understanding of resource usage at lower layers, shared 
			risk groups, and a wider view of how the layers are inter-related.
</p>
<p>Fault correlation is most easily performed at the point of fault detection. For example, an MPLS-TP 
			node that receives a fault notification from the lower layer and detects a fault on an LSP in the 
			MPLS-TP layer can easily correlate these two events. Furthermore, the same node detecting multiple 
			faults on LSPs using the same faulted data link, can easily correlate these. Such a node may use 
			the correlation to perform group-based recovery actions, and can reduce the number of alarm events 
			that it raises to its management station.
</p>
<p>Fault correlation may also be performed at a management station that receives fault reports from 
			different layers and different nodes in the network. This enables the management station to coordinate 
			management-originated recovery actions, and to present a consolidated fault information to the user 
			and any automated management systems.
</p>
<p>There is also a desire to correlate fault information detected and reported through OAM. This 
			function would enable a fault detected at a lower layer and reported at a transit node of an MPLS-TP 
			LSP to be correlated with an MPLS-TP layer fault detected at a Maintenance End Point (MEP) (for 
			example the egress of the MPLS-TP LSP. Such correlation allows the coordination of recovery actions 
			taken at the MEP, but it requires that the lower layer fault information is propagated to the MEP 
			which is most easily achieved by using a control plane, management plane, or OAM message.
</p>
<a name="anchor45"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Applicability and Scope of Survivability in MPLS-TP</h3>

<p>The MPLS-TP network can be viewed as two sub-layers (the MPLS LSP layer and the PW layer). The 
		MPLS-TP network operates over data link connections and data link networks such that the MPLS-TP 
		links are provided by individual data links or by connections in a lower layer network. The MPLS 
		LSP layer is a mandatory part of the MPLS-TP network, and the PW layer is an optional addition to 
		support specific services.
</p>
<p>MPLS-TP survivability provides recovery from failure of the links and nodes in the MPLS-TP network. 
		The link failures are typically caused by failures in the underlying data link connections and 
		networks, but this section is only concerned with recovery actions taken in the MPLS-TP network, 
		which must necessarily be to recover from the manifestation of any problem as a failure in the 
		MPLS-TP network.
</p>
<p>This section lists which recovery elements (see Section 1) are supported in each of the two layers 
		to recover from failures of nodes or links in the MPLS-TP network.
</p><br /><hr class="insert" />
<a name="Recovery Elements in LSP and PW Layers"></a>
<table class="all" align="center" border="0" cellpadding="2" cellspacing="2">
<col align="left"><col align="left"><col align="left">
<tr><th align="left">Recovery Element</th><th align="left">MPLS LSP Layer</th><th align="left">PW Layer</th></tr>
<tr>
<td align="left">Link Recovery</td>
<td align="left">MPLS LSP recovery can be used to survive the failure of an MPLS-TP link.</td>
<td align="left">The PW layer is not aware of the underlying network. This function is not supported.</td>
</tr>
<tr>
<td align="left">Segment/Span Recovery</td>
<td align="left">An individual LSP segment can be recovered to survive the failure of an MPLS-TP link.</td>
<td align="left">For a SS-PW, segment recovery is the same as end-to-end recovery. Segment recovery for a MS-PW 
		is for future study, and this function is now provided using end-to-end recovery.</td>
</tr>
<tr>
<td align="left">Concatenated Segment Recovery</td>
<td align="left">A concatenated LSP segment can be recovered to survive the failure of an MPLS-TP link or node.</td>
<td align="left">Concatenated segment recovery (in a MS-PW) is for future study, and this function is now provided 
		using end-to-end recovery.</td>
</tr>
<tr>
<td align="left">End-to-end Recovery</td>
<td align="left">An end-to-end LSP can be recovered to survive any node or link failure, except for the failure 
		of the ingress or egress node.</td>
<td align="left">End-to-end PW recovery can be applied to survive any node (including S-PE) or link failure except 
		for the failure of the ingress egress T-PE.</td>
</tr>
<tr>
<td align="left">Service Recovery</td>
<td align="left">The MPLS LSP layer is service agnostic. This function is not supported.</td>
<td align="left">PW layer service recovery requires surviving faults in T-PEs or on ACs. This is currently out of 
		scope for MPLS-TP.</td>
</tr>
</table>
<br clear="all" />
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Table 1&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>Section 6 provides a description of mechanisms for survivability of MPLS-TP LSPs. Section 7 provides 
		a brief overview of mechanisms for survivability of MPLS-TP PWs.
</p>
<a name="anchor46"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Mechanisms for Providing Survivability for MPLS-TP LSPs</h3>

<p>This section describes the existing mechanisms available to provide protection of LSPs within MPLS-TP networks, and 
			highlights areas where new work is required. It is expected that, as new protocol extensions and techniques are developed, 
			this section will be updated to convert the statements of required work into references to those protocol extensions 
			and techniques.
</p>
<a name="anchor47"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1"></a><h3>6.1.&nbsp;
Management Plane</h3>

<p>As described above, a fundamental requirement of MPLS-TP is that recovery mechanisms should be capable of functioning in 
			the absence of a control plane. Recovery may be triggered by MPLS-TP OAM fault management functions or by external requests 
			(e.g., an operator request for manual control of protection switching).
</p>
<p>The management plane may be used to configure the recovery domain by setting the reference endpoints points (which 
			controls the recovery actions), the working and the recovery entities, and the recovery type (e.g., 1:1 bidirectional 
			linear protection, ring protection, etc.).
</p>
<p>Additional parameters associated with the recovery process (such as a WTR and hold-off timers, revertive/non-revertive 
			operation, etc.) may also be configured.
</p>
<p>In addition, the management plane may initiate manual control of the recovery function. A priority should be set 
			between fault conditions and operator&#039;s requests.
</p>
<p>Since provisioning the recovery domain involves the selection of a number of options, mismatches may occur at the 
			different reference points. The MPLS-TP OAM PSC (protection State Coordination) which is specified in 
			<a class='info' href='#MPLS-TP-Linear-Protection'>[MPLS&#8209;TP&#8209;Linear&#8209;Protection]<span> (</span><span class='info'>Weingarten, Y., Bryant, S., Ed., Sprecher, N., Ed., Van Helvoort, H., Ed., and A. Fulignoli, &ldquo;MPLS-TP Linear Protection,&rdquo; .</span><span>)</span></a> may be used as an in-band (i.e., data plane-based) control protocol to coordinate 
			the protection states between the endpoints of the recovery domain and to check consistency of configured parameters (such 
			as timers, revertive/non-revertive behavior, etc.)
</p>
<p>It should also be possible for the management plane to monitor the recovery status.
</p>
<a name="anchor48"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1.1"></a><h3>6.1.1.&nbsp;
Configuration of Protection Operation</h3>

<p>In order to implement the protection switching mechanisms, the following entities and information should be configured 
				and provisioned:
</p>
<p>
				  </p>
<ul class="text">
<li>The endpoints of a recovery domain. As described above, these endpoints bound the element of recovery for which 
					recovery is applied.
</li>
<li>The protection group which depending on the required protection scheme, consists of a recovery entity and one or 
					more working entities. In 1:1 or 1+1 P2P protection, in order to guarantee protection, the paths of the working entity 
					and the recovery entities should have complete physical diversity.
</li>
<li>As defined in section 4.5.2, in order to implement data-plane based LSP segment recovery, there is a need to support 
					the MPLS-TP architectural element PST (Path Segment Tunnel), since related control messages (e.g., for OAM, Protection Path 
					Synchronization, etc.) can be initiated and terminated at the edges of a path where push and pop operations are enabled. 
					PST is an end-to-end LSP which corresponds in this context to the recovery entities (working and protection) and makes use 
					of the MPLS construct of hierarchical nested LSP which is defined in <a class='info' href='#RFC3031'>[RFC3031]<span> (</span><span class='info'>Rosen, E., Viswanathan, A., and R. Callon, &ldquo;Multiprotocol Label Switching Architecture,&rdquo; November&nbsp;2002.</span><span>)</span></a>. OAM and PSC messages can be 
					initiated at the edge of the PST and sent to the peer edge of the PST, over G-ACH. There is a need to configure the related 
					PSTs and map between the LSP segment(s) being protected and the PST. The mapping can be 1:1 or 1:N to allow scalable 
					protection of a set of LSPs&#039; segments traversing the portion of the network in which a Protection Domain is defined. 
					Note that each of these LSPs can be initiated or terminated at different endpoints in the network, but they all traverse the 
					Protection Domain and share similar constraints (such as requirements for QoS, terms of protection ,etc.).
</li>
<li>The protection type that should be defined (e.g., unidirectional 1:1, bidirectional 1+1, etc.).
</li>
<li>Revertive/non-revertive behavior should be configured.
</li>
<li>timers (such as WTR, hold-off timer, etc.) should be set.
</li>
</ul><p>
				
</p>
<a name="anchor49"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1.2"></a><h3>6.1.2.&nbsp;
External Manual Commands</h3>

<p>The following external, manual commands may be provide for manual control of the protection switching operation. These 
				commands apply to a protection group and they are listed in descending order of priority:
</p>
<p>
				  </p>
<ul class="text">
<li>Blocked protection action &ndash; a manual command to prevent data  traffic from switching to the recovery entity. 
					This command actually disables the protection group.
</li>
<li>Force protection action &ndash; a manual command that forces a switch of normal data traffic to the recovery entity.
</li>
<li>Manual protection action &ndash; a manual command that forces a switch of  data traffic to the recovery entity when 
					there is no failure in the working or the recovery entity.
</li>
<li>Clear switching command &ndash; the operator may request to clear previous administrative command to switch over (manual or 
					force switch).
</li>
</ul><p>
				
</p>
<a name="anchor50"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2"></a><h3>6.2.&nbsp;
Fault Detection</h3>

<p>Fault detection is a fundamental part of recovery and survivability. In all schemes except for some forms of 1+1 
				protection, the necessary actions for recovery of traffic delivery rely on discovering that there is some kind of fault.
</p>
<p>Faults may be detected in a number of ways depending on the traffic pattern and the underlying hardware. End-to-end 
				faults may be reported by the application or by knowledge of the application&#039;s data pattern, but this is an unusual 
				approach. There are two more common mechanisms for detecting faults in the MPLS-TP layer:
</p>
<p>
				  </p>
<ul class="text">
<li>faults reported by the lower layers
</li>
<li>faults detected by protocols within the MPLS-TP layer.
</li>
</ul><p>
				
</p>
<p>In an IP/MPLS network, the second of these may utilize control plane protocols (such as the routing protocols) to 
				detect a failure of adjacency between neighboring nodes. In an MPLS-TP network, there is no certainty that a control 
				plane will be present. Even if a control plane is present, it will be a GMPLS control plane <a class='info' href='#RFC3945'>[RFC3945]<span> (</span><span class='info'>Mannie, E., &ldquo;Generalized Multi-Protocol Label Switching (GMPLS) Architecture,&rdquo; October&nbsp;2004.</span><span>)</span></a>
				that makes a logical separation between control channels and data channels with the result that no conclusion about 
				the health of a data channel can be drawn from the failure of an associated control channel. MPLS-TP layer faults are, 
				therefore, only detected through the use of OAM protocols as described in Section 6.4.1.
</p>
<p>Faults may, however, be reported by lower layer. These generally show up as interface failures or link failures 
				within the MPLS-TP network. For example, an underlying optical link may detect loss of light and report a failure 
				of the MPLS-TP link that uses it. Alternatively, and interface card failure may be reported to the MPLS-TP layer.
</p>
<p>Such failures will only be reported after link level protection has been attempted (Section 4.6.1) and it is important 
				that any lower layer recovery actions are coordinated with the MPLS-TP recovery actions (Section 4.6).
</p>
<p>Faults reported by lower layers are only visible at specific nodes within the MPLS-TP network (i.e., at the adjacent 
				end-points of the MPLS-TP link). This only allows recovery to be performed locally.
</p>
<p>In order that recovery can be performed by nodes that are not immediately local to the fault, the fault must be 
				reported (Sections 6.4.3 and 6.5.4).
</p>
<a name="anchor51"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.3"></a><h3>6.3.&nbsp;
Fault Isolation</h3>

<p>If an MPLS-TP node detects that there is a fault in an LSP (that is, not a network fault reported from a lower layer, 
				but a fault detected by examining the LSP) it can immediately perform a recovery action. However, unless the location 
				of the fault is known, the only practical options are:
</p>
<p>
				  </p>
<ul class="text">
<li>perform end-to-end recovery
</li>
<li>perform some other recovery as a speculative act.
</li>
</ul><p>
				
</p>
<p>Since speculative acts are not guaranteed to achieve the desired results and could be costly, and since end-to-end 
				recovery is a costly option, it is important to be able to isolate the fault.
</p>
<p>Fault isolation may be achieved by dividing the network into protection domains. End-to-end protection is thereby 
				operated on an LSP segments depending on the domain in which the fault is discovered. This requires that the LSP can 
				be monitored at the domain edges.
</p>
<p>Alternatively, a proactive mechanism of fault isolation through OAM (Section 6.4.2) or through the control plane 
				(Section 6.5.3) is required.
</p>
<a name="anchor52"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.4"></a><h3>6.4.&nbsp;
OAM Signaling</h3>

<p>MPLS-TP provides comprehensive set of OAM tools for fault management and performance monitoring at different nested 
				levels (end-to-end, a portion of a path (LSP or PW) and at the link level).
</p>
<p>These tools support proactive and on-demand fault management (for fault detection and fault localization) and for 
				performance monitoring (to measure the quality of the signals and detect degradation).
</p>
<p>To support fast recovery, it is useful to use some of the proactive tools to detect fault conditions (e.g., link/node 
				failure or degradation) and trigger the recovery action.
</p>
<p>The MPLS-TP OAM messages run in-band with the traffic and support unidirectional and bidirectional P2P paths as well 
				as P2MP paths.
</p>
<p>As described in <a class='info' href='#MPLS-TP-OAM-Framework'>[MPLS&#8209;TP&#8209;OAM&#8209;Framework]<span> (</span><span class='info'>Buci, I., Ed. and B. Niven-Jenkins, Ed., &ldquo;A Framework for MPLS in Transport Networks,&rdquo; .</span><span>)</span></a>, MPLS-TP OAM operates in the context of a Maintenance Entity 
				which bounds the OAM responsibilities and represents the portion of a path between two points which is being monitored 
				and maintained, and in which OAM messages are exchanged. <a class='info' href='#MPLS-TP-OAM-Framework'>[MPLS&#8209;TP&#8209;OAM&#8209;Framework]<span> (</span><span class='info'>Buci, I., Ed. and B. Niven-Jenkins, Ed., &ldquo;A Framework for MPLS in Transport Networks,&rdquo; .</span><span>)</span></a> refers also to a 
				Maintenance Entity Group (MEG), which is a collection of one or more MEs that belongs to the same transport path 
				(e.g., P2MP transport path) and that are maintained and monitored as a group.
</p>
<p>An ME includes two MEPs (Maintenance Group End Points) which reside at the boundaries of an ME, and a set of zero or 
				more MIPS (Maintenance Group Intermediate Points) which reside within the Maintenance Entity along the path. A MEP is 
				capable of initiating and terminating OAM messages, and as such can only located at the edges of a path where push and 
				pop operations are supported. In order to be define an ME over a portion of path there is a need to support the MPLS-TP 
				architectural element PST (Path Segment Tunnel). PST is an end-to-end LSP which corresponds in this context to the ME 
				and makes use of the MPLS construct of hierarchical nested LSP which is defined in <a class='info' href='#RFC3031'>[RFC3031]<span> (</span><span class='info'>Rosen, E., Viswanathan, A., and R. Callon, &ldquo;Multiprotocol Label Switching Architecture,&rdquo; November&nbsp;2002.</span><span>)</span></a>. OAM messages 
				can be initiated at the edge of the PST and sent to the peer edge of the PST, over G-ACH.
</p>
<p>There is a need to configure the related PSTs and map between the LSP segment(s) being monitored and the PST. The mapping 
				can be 1:1 or 1:N to allow scalable operation. Note that each of these LSPs can be initiated or terminated at different 
				endpoints in the network and share similar constraints (such as requirements for QoS, terms of protection ,etc.).
</p>
<p>In the context of recovery where MPLS-TP OAM is supported, an OAM Maintenance Entity Group is defined for each of the 
				working and protection entities.
</p>
<p>MIP is capable of reacting to OAM messages.
</p>
<a name="anchor53"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.4.1"></a><h3>6.4.1.&nbsp;
Fault Detection</h3>

<p>MPLS-TP OAM tools may be used proactively to detect the following fault conditions between MEPs:
</p>
<p>
				  </p>
<ul class="text">
<li>Loss of continuity and misconnectivity &ndash; the proactive Continuity Check (CC) function is used to detect 
					loss of continuity between two MEPs in an MEG. The proactive misconnectivity (CV) allows a sink MEP can detect 
					misconnectivity defect (e.g., mismerge or misconnection) with its peer source MEP when the received packet carries 
					an incorrect ME identifier. For protection switching, it is common to run CC&amp;V (Continuity &amp; Connectivity 
					Verification) message every 3.33ms. In the absence of three consecutive CC&amp;V messages, Loss of Continuity is 
					declared and locally notified to the edge of the recovery domain to trigger a recovery action. In some cases, when 
					a slower recovery time is acceptable, it is also possible to lengthen the transmission rate.
</li>
<li>Signal degradation &ndash; notification from the OAM performance monitoring indicating degradation in the working 
					entity may also be used as a trigger for protection switching. In the case of degradation, switching to the recovery 
					entity is needed only if the recovery entity can guarantee better conditions. Degradation can be measured activating 
					proactively the MPLS-TP OAM packet loss measurement or delay measurement.
</li>
<li>A MEP can get an indication from its sink MEP of a Remote Defect Indication and locally notify the endpoint of the 
					recovery domain of fault condition to trigger the recovery action.
</li>
</ul><p>
				
</p>
<a name="anchor54"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.4.2"></a><h3>6.4.2.&nbsp;
Fault Isolation</h3>

<p>MPLS-TP provides OAM tools to isolate a fault and determining exactly where a fault has occurred. It is often the case 
				the fault detection only takes place at key points in the network (such as at LSP end points, or MEPs). This means that 
				the fault may be located anywhere within a segment of the LSP concerned. Finer granularity of information is needed to 
				implement optimal recovery actions or to diagnose the fault. On-demand tools like trace-route, loopback and on-demand 
				CC&amp;V can be used to isolate a fault.
</p>
<p>The information may be locally notified to the endpoint of the recovery domain to allow him implementing optimal 
				recovery action. This may be useful in case of re-calculation of a recovery path.
</p>
<p>The information should also be reported to the network management for diagnostics purposes.
</p>
<a name="anchor55"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.4.3"></a><h3>6.4.3.&nbsp;
Fault Reporting</h3>

<p>The endpoints of a recovery domain should be able to report a network management on fault conditions detected in 
				the recovery domain.
</p>
<p>In addition, a node within a recovery domain detecting a fault condition should also be able to report the fault 
				condition to the network management. The network management should be capable to correlate the fault reports and identify 
				the source of the fault.
</p>
<p>MPLS-TP OAM tools support a function where an intermediate node along a path can send an alarm report message to the MEP 
				indicating of a fault condition in the server layer connecting it to its adjacent node. The purpose of this capability is 
				to allow a MEP to suppress alarms that may be generated as a result of the failure condition in the server layer.
</p>
<a name="anchor56"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.4.4"></a><h3>6.4.4.&nbsp;
Coordination of Recovery Actions</h3>

<p>As described above, in some cases (such as in bidirectional protection switching, etc.) there is a need to coordinate 
				the protection states between the edges of the recovery domain. <a class='info' href='#MPLS-TP-Linear-Protection'>[MPLS&#8209;TP&#8209;Linear&#8209;Protection]<span> (</span><span class='info'>Weingarten, Y., Bryant, S., Ed., Sprecher, N., Ed., Van Helvoort, H., Ed., and A. Fulignoli, &ldquo;MPLS-TP Linear Protection,&rdquo; .</span><span>)</span></a> defines 
				procedures and protocol messages and elements to support the PSC (Protection State Coordination) function.
</p>
<p>The protocol is also used to signal administrative requests (e.g., manual switch, etc.) when these are provisioned 
				only at on edge of the recovery domain.
</p>
<p>The protocol also allow to detect mismatches between the configuration provisioned at the ends of the Protection Domain 
				(such as timers, revertive/non-revertive behavior).
</p>
<a name="anchor57"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.5"></a><h3>6.5.&nbsp;
Control Plane</h3>

<p>The GMPLS control plane has been proposed as the control plane for MPLS-TP <a class='info' href='#RFC5317'>[RFC5317]<span> (</span><span class='info'>Bryant, S. and L. Andersson, &ldquo;Joint Working Team (JWT) Report on MPLS Architectural Considerations for a Transport  				Profile,&rdquo; February&nbsp;2009.</span><span>)</span></a>. Since GMPLS 
			was designed for use in transport networks, and has been implemented and deployed in many networks, it is not surprising 
			that it contains many features to support a high level of survivability function.
</p>
<p>The signaling elements of the GMPLS control plane utilize extensions to the Resource Reservation Protocol (RSVP) as 
			documented in a series of documents commencing with <a class='info' href='#RFC3471'>[RFC3471]<span> (</span><span class='info'>Berger, L., Ed., &ldquo;Generalized Multi-Protocol Label Switching (GMPLS) Signaling Functional Description,&rdquo; January&nbsp;2003.</span><span>)</span></a> and <a class='info' href='#RFC3473'>[RFC3473]<span> (</span><span class='info'>Berger, L., &ldquo;Generalized Multi-Protocol Label Switching (GMPLS) Signaling Resource ReserVation                   Protocol-Traffic Engineering (RSVP-TE) Extensions,&rdquo; January&nbsp;2003.</span><span>)</span></a>, but based on 
			<a class='info' href='#RFC3209'>[RFC3209]<span> (</span><span class='info'>Awduche, D., Berger, L., Gan, D., Li, T., Srinivasan, V., and G. Swallow, &ldquo;RSVP-TE: Extensions to RSVP for LSP Tunnels,&rdquo; December&nbsp;2001.</span><span>)</span></a> and <a class='info' href='#RFC2205'>[RFC2205]<span> (</span><span class='info'>Bradner, S., Ed., Zhang, L., Berson, S., Herzog, S., and J. Jamin, &ldquo;Resource ReserVation Protocol &mdash Version 1 Functional Specification,&rdquo; September&nbsp;1997.</span><span>)</span></a>. The architecture for GMPLS is provided in <a class='info' href='#RFC3945'>[RFC3945]<span> (</span><span class='info'>Mannie, E., &ldquo;Generalized Multi-Protocol Label Switching (GMPLS) Architecture,&rdquo; October&nbsp;2004.</span><span>)</span></a>, 
			and <a class='info' href='#RFC4426'>[RFC4426]<span> (</span><span class='info'>Lang, J., Ed., Rajagopalan, B., and D. Papadimitriou, &ldquo;Generalized Multiprotocol Label Switching                   (GMPLS) Recovery Functional Specification,&rdquo; March&nbsp;2006.</span><span>)</span></a> gives a functional description of the protocol extensions needed to support GMPLS-based 
			recovery (i.e., protection and restoration).
</p>
<p>A further control plane protocol called the Link Management Protocol (LMP) <a class='info' href='#RFC4204'>[RFC4204]<span> (</span><span class='info'>Lang, J., Ed., &ldquo;The Link Management Protocol (LMP),&rdquo; September&nbsp;2005.</span><span>)</span></a> is part of the 
			GMPLS protocol family and can be used to coordinate fault isolation and reporting.
</p>
<p>Clearly, the control plane techniques described here only apply where an MPLS-TP control plane is deployed and operated. 
			All mandatory survivability features must be enabled even in the absence of the control plane, but where the control plane 
			is present it may provide alternative mechanisms that may be desirable by virtue of their ease of automation or richer 
			feature-set.
</p>
<a name="anchor58"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.5.1"></a><h3>6.5.1.&nbsp;
Fault Detection</h3>

<p>The control plane is not able to detect data plane faults. However, it does provide mechanisms to detect control 
				plane faults and these can be can be used to deduce data plane faults where it is known that the control and data planes 
				are fate sharing. Although <a class='info' href='#RFC5654'>[RFC5654]<span> (</span><span class='info'>Niven-Jenkins, B., Ed., Brungard, D., Ed., Betts, M., Ed., Sprecher, N., and S. Ueno, &ldquo;Requirements of an MPLS Transport Profile,&rdquo; February&nbsp;2009.</span><span>)</span></a> specifies that MPLS-TP must support an out-of-band control channel, 
				it does not insist that this is used exclusively. That means that there may be deployments where an in-band (or at 
				least in-fiber) control channel is used. In this case, the failure of the control channel can be used to infer a 
				failure of the data channel or at least to trigger an investigation of the health of the data channel.
</p>
<p>Both RSVP and LMP provide a control channel &quot;keep-alive&quot; mechanism (called the Hello message in both 
				cases). Failure to receive a message in the configured/negotiated time period indicates a control plane failure. 
				GMPLS routing protocols (<a class='info' href='#RFC4203'>[RFC4203]<span> (</span><span class='info'>Kompella, K. and Y. Rekhter, &ldquo;IS-IS Extensions in Support of Generalized Multi-Protocol Label Switching                   (GMPLS),&rdquo; October&nbsp;2005.</span><span>)</span></a> and <a class='info' href='#RFC5307'>[RFC5307]<span> (</span><span class='info'>Kompella, K. and Y. Rekhter, &ldquo;IS-IS Extensions in Support of Generalized Multi-Protocol Label Switching                   (GMPLS),&rdquo; October&nbsp;2008.</span><span>)</span></a> also include keepalive mechanisms designed 
				to detect routing adjacency failures and, although these keep-alive mechanisms tend to operate at a relatively low frequency 
				(order of seconds) it is still possible that the first indication of a control plane fault will be through the routing 
				protocol.
</p>
<p>Note, however, care must be taken that the failure is not caused by a problem with the control plane software or processor 
				component at the far end of a link.
</p>
<p>Because of the various issues involved, it is not recommended that the control plane be relied upon as the primary 
				mechanism for fault detection in an MPLS-TP network.
</p>
<a name="anchor59"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.5.2"></a><h3>6.5.2.&nbsp;
Testing for Faults</h3>

<p>The control plane may be used to initiate and coordinate testing of links, LSP segments, or whole LSPs. This is important 
				in some technologies where it is necessary to halt data transmission while testing, but may also be useful where testing 
				needs to be specifically enabled or configured.
</p>
<p>LMP provides a control plane mechanism to test the continuity and connectivity (and naming) of individual links. A 
				single management operation is required to initiate the test at one end of the link, and LMP handles the coordination 
				with the other end of the link. The test mechanism for an MPLS packet link relies on the LMP Test message inserted into 
				the data stream at one end of the link and extracted at the other end of the link. This mechanism need not be disruptive 
				to data flowing on the link.
</p>
<p>Note that a link in LMP may in fact be an LSP tunnel used to form a link in the MPLS-TP network.
</p>
<p>GMPLS signaling (RSVP) offers two mechanisms that may also assist with testing for faults. First, <a class='info' href='#RFC3473'>[RFC3473]<span> (</span><span class='info'>Berger, L., &ldquo;Generalized Multi-Protocol Label Switching (GMPLS) Signaling Resource ReserVation                   Protocol-Traffic Engineering (RSVP-TE) Extensions,&rdquo; January&nbsp;2003.</span><span>)</span></a>
				defines the Admin_Status object that allows an LSP to be set into &quot;testing mode&quot;. The interpretation of this 
				mode is implementation specific and could be documented more precisely for MPLS-TP. The mode sets the whole LSP into a 
				state where it can be tested; this need not be disruptive to data traffic.
</p>
<p>The second mechanism provided by GMPLS to support testing is provided in <a class='info' href='#GMPLS-OAM'>[GMPLS&#8209;OAM]<span> (</span><span class='info'>Takacs, A., Fedyk, D., and H. Jia, &ldquo;OAM Configuration Framework and Requirements for GMPLS RSVP-TE,&rdquo; .</span><span>)</span></a>. This protocol 
				extension supports the configuration (including enabling and disabling) of OAM mechanisms for a specific LSP.
</p>
<a name="anchor60"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.5.3"></a><h3>6.5.3.&nbsp;
Fault Isolation</h3>

<p>Fault isolation is the process of determining exactly where a fault has occurred. It is often the case the fault detection 
				only takes place at key points in the network (such as at LSP end points, or  MEPs). This means that the fault may be located 
				anywhere within a segment of the LSP concerned.
</p>
<p>If segment or end-to-end protection are in use, this level of information is often sufficient to repair the LSP. However, 
				if a finer granularity of information is needed (either to implement optimal recovery actions or to diagnose the fault), it is 
				necessary to isolate the fault more closely.
</p>
<p>LMP provides a cascaded test-and-propagate mechanism specifically designed for this purpose.
</p>
<a name="anchor61"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.5.4"></a><h3>6.5.4.&nbsp;
Fault Reporting</h3>

<p>GMPLS signaling uses the Notify message to report faults. The Notify message can apply to a single LSP or can carry fault 
				information for a set of LSPs to improve the scalability of fault notification.
</p>
<p>Since the Notify message is targeted at a specific node it can be delivered rapidly without requiring hop-by-hop processing. 
				It can be targeted at LSP end-points, or at segment end-points (such as MEPs). The target points for Notify messages can be 
				manually configured within the network or may be signaled as the LSP is set up. This allows the process to be made consistent 
				with segment protection and the concept of Maintenance Entities.
</p>
<p>GMPLS signaling also provides a slower, hop-by-hop mechanism for reporting individual LSP faults on a hop-by-hop basis using 
				the PathErr and ResvErr messages.
</p>
<p><a class='info' href='#RFC4783'>[RFC4783]<span> (</span><span class='info'>Berger, L., &ldquo;GMPLS &ndash; Communication of Alarm Information,&rdquo; December&nbsp;2006.</span><span>)</span></a> provides a mechanism to coordinate alarms and other event or fault information through GMPLS 
				signaling. This mechanism is useful to understand the status of the resources used by an LSP and to help understand why an LSP 
				is not functioning, but it is not intended to replace other fault reporting mechanisms.
</p>
<p>GMPLS routing protocols <a class='info' href='#RFC4203'>[RFC4203]<span> (</span><span class='info'>Kompella, K. and Y. Rekhter, &ldquo;IS-IS Extensions in Support of Generalized Multi-Protocol Label Switching                   (GMPLS),&rdquo; October&nbsp;2005.</span><span>)</span></a> and <a class='info' href='#RFC5307'>[RFC5307]<span> (</span><span class='info'>Kompella, K. and Y. Rekhter, &ldquo;IS-IS Extensions in Support of Generalized Multi-Protocol Label Switching                   (GMPLS),&rdquo; October&nbsp;2008.</span><span>)</span></a> are used to advertise link availability and 
				capabilities within a GMPLS-enabled network. Thus, the routing protocols can also provide indirect information about network 
				faults. That is, the protocol may stop advertising or withdraw the advertisement for a failed link, or may advertise that the 
				link is about to be shut down gracefully. This mechanisms is, however, not normally considered to be fast enough to be used 
				as a trigger for protection switching.
</p>
<a name="anchor62"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.5.5"></a><h3>6.5.5.&nbsp;
Coordination of Recovery Actions</h3>

<p>Fault coordination is an important feature for certain protection mechanisms (such as 
				bidirectional 1:1 protection). The use of the GMPLS Notify message for this purpose is 
				described in <a class='info' href='#RFC4426'>[RFC4426]<span> (</span><span class='info'>Lang, J., Ed., Rajagopalan, B., and D. Papadimitriou, &ldquo;Generalized Multiprotocol Label Switching                   (GMPLS) Recovery Functional Specification,&rdquo; March&nbsp;2006.</span><span>)</span></a>, however, specific message field values remain to be 
				defined for this operation.
</p>
<p>A further piece of work in needed to allow control and configuration of reversion behavior 
				for end-to-end and segment protection, and the coordination of timers&#039; values.
</p>
<a name="anchor63"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.5.6"></a><h3>6.5.6.&nbsp;
Establishment of Protection and Restoration LSPs</h3>

<p>It should not be forgotten that protection and recovery depend on the establishment of 
				suitable LSPs. The management plane may be used to set up these LSPs, but the control plane 
				may be used if it is present.
</p>
<p>Several protocol extensions exist to make this process more simple:
</p>
<p>
				  </p>
<ul class="text">
<li><a class='info' href='#RFC4872'>[RFC4872]<span> (</span><span class='info'>Lang, J., Rekhter, Y., and D. Papadimitriou, &ldquo;RSVP-TE                   Extensions in Support of End-to-End Generalized Multi-Protocol Label Switching (GMPLS) Recovery,&rdquo; May&nbsp;2007.</span><span>)</span></a> provides features in support of end-to-end protection 
					switching.
</li>
<li><a class='info' href='#RFC4873'>[RFC4873]<span> (</span><span class='info'>Berger, L., Bryskin, I., Papadimitriou, D., and A. Farrel, &ldquo;GMPLS Segment Recovery,&rdquo; May&nbsp;2007.</span><span>)</span></a> describes how to establish a single, segment protected 
					LSP. Note that end-to-end protection is a sub case of segment protection and 
					<a class='info' href='#RFC4872'>[RFC4872]<span> (</span><span class='info'>Lang, J., Rekhter, Y., and D. Papadimitriou, &ldquo;RSVP-TE                   Extensions in Support of End-to-End Generalized Multi-Protocol Label Switching (GMPLS) Recovery,&rdquo; May&nbsp;2007.</span><span>)</span></a> can be used also to provide end-to-end protection. 
</li>
<li><a class='info' href='#RFC4874'>[RFC4874]<span> (</span><span class='info'>Lee, CY., Farrel, A., and S. De Cnodder, &ldquo;Exclude Routes &ndash; Extension to Resource ReserVation Protocol-                   Traffic Engineering (RSVP-TE),&rdquo; April&nbsp;2007.</span><span>)</span></a> allows one LSP to be signaled with a request that its
					path excludes specified resources (links, nodes, SRLGs). This allows a disjoint protection 
					path to be requested, or a recovery path to be set up avoiding failed resources.
</li>
<li>Lastly, it should be noted that <a class='info' href='#RFC5298'>[RFC5298]<span> (</span><span class='info'>Takeda, T., Farrel, A., Ikejiri, Y., and JP. Vasseur, &ldquo;Analysis of Inter-Domain Label Switched Path (LSP)                   Recovery,&rdquo; August&nbsp;2008.</span><span>)</span></a> provides an overview of the 
					GMPLS techniques available to achieve protection in multi-domain environments.
</li>
</ul><p>
				
</p>
<a name="anchor64"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Pseudowire Protection Considerations</h3>

<p> Pseudowire is one of the clients of the MPLS LSP layer of MPLS-TP. It is viewed as a layer of the 
		MPLS-TP network.  Pseudowires provide end-to-end connectivity over the MPLS-TP network and may be 
		comprised of a single pseudowire segment, or multiple segments &quot;stitched&quot; together to provide 
		end-to-end connectivity.
</p>
<p>The pseudowire may, itself, require a level of protection in order to meet the guarantees or service 
		level of its SLA. This protection could be provided by the MPLS-TP LSPs that support the pseudowire, or could be a feature of the pseudowire layer itself.
</p>
<p>As indicated above, the functional architecture described in this document applies to both LSPs and pseudowires. However the 
		recovery mechanisms for pseudowires are for further study and will be defined in a separate document in the PWE3 working group.
</p>
<a name="anchor65"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.1"></a><h3>7.1.&nbsp;
Utilizing Underlying MPLS-TP Recovery</h3>

<p>MPLS-TP PWs are carried across the network inside MPLS-TP LSPs. Therefore, an obvious way to protect a PW is to protect 
			the LSP that carries it. Such protection can take any of the forms described in this document. The choice of recovery scheme 
			will depend on the speed of recovery necessary and the traffic loss that is acceptable for the SLA that the PW is providing.
</p>
<p>If the PW is a multi-segment PW, then LSP recovery can only protect the PW on individual segments. That is, LSP recovery 
			cannot protect against a failure of a PW switching point (an S-PE), nor can it protect more than one segment at a time since 
			the LSP tunnel is terminated at each S-PE. In this respect, the LSP protection of a PW is very much like the link-level 
			protection offered to the MPLS-TP LSP layer by an underlying network layer (see Section 4.6).
</p>
<a name="anchor66"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.2"></a><h3>7.2.&nbsp;
Recovery in the Pseudowire Layer</h3>

<p>Recovery in the PW layer can be provided simply by running separate PWs end-to-end. Other recovery 
			mechanisms in the PW layer, such as segment or concatenated segment recovery, or service-level 
			recovery involving survivability of T-PE or AC faults is for future study in a separate document.
</p>
<p>As with any recovery mechanism, it is important to coordinate between layers. This coordination is necessary to ensure 
			that recovery mechanisms are only actioned in one layer at a time (that is, the recovery of an underlying LSP needs to be 
			coordinated with the recovery of the PW itself), and to make sure that the working and protection PWs do not both use the 
			same MPLS resources within the network (for example, by running over the same LSP tunnel &ndash; compare with Section 4.6.2).
</p>
<a name="anchor67"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
Manageability Considerations</h3>

<p>TBD
</p>
<a name="anchor68"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
Security Considerations</h3>

<p>TBD
</p>
<a name="anchor69"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10"></a><h3>10.&nbsp;
IANA Considerations</h3>

<p>This informational document makes no requests for IANA action.
</p>
<a name="anchor70"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11"></a><h3>11.&nbsp;
Acknowledgments</h3>

<p>Thanks for useful comments and discussions to Italo Busi, David McWalter, Lou Berger, Yaacov Weingarten, 
			Stewart Bryant, and Dan Frost.
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.12"></a><h3>12.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>12.1.&nbsp;Normatve References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2205">[RFC2205]</a></td>
<td class="author-text">Bradner, S., Ed., Zhang, L., Berson, S., Herzog, S., and J. Jamin, &ldquo;<a href="http://tools.ietf.org/html/rfc2205">Resource ReserVation Protocol &mdash Version 1 Functional Specification</a>,&rdquo; RFC&nbsp;2205, September&nbsp;1997.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3209">[RFC3209]</a></td>
<td class="author-text">Awduche, D., Berger, L., Gan, D., Li, T., Srinivasan, V., and G. Swallow, &ldquo;<a href="http://tools.ietf.org/html/rfc3209">RSVP-TE: Extensions to RSVP for LSP Tunnels</a>,&rdquo; RFC&nbsp;3209, December&nbsp;2001.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3471">[RFC3471]</a></td>
<td class="author-text">Berger, L., Ed., &ldquo;<a href="http://tools.ietf.org/html/rfc3471">Generalized Multi-Protocol Label Switching (GMPLS) Signaling Functional Description</a>,&rdquo; RFC&nbsp;3471, January&nbsp;2003.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3473">[RFC3473]</a></td>
<td class="author-text">Berger, L., &ldquo;<a href="http://tools.ietf.org/html/rfc3473">Generalized Multi-Protocol Label Switching (GMPLS) Signaling Resource ReserVation
                  Protocol-Traffic Engineering (RSVP-TE) Extensions</a>,&rdquo; RFC&nbsp;3473, January&nbsp;2003.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3945">[RFC3945]</a></td>
<td class="author-text">Mannie, E., &ldquo;<a href="http://tools.ietf.org/html/rfc3945">Generalized Multi-Protocol Label Switching (GMPLS) Architecture</a>,&rdquo; RFC&nbsp;3945, October&nbsp;2004.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4203">[RFC4203]</a></td>
<td class="author-text">Kompella, K. and Y. Rekhter, &ldquo;<a href="http://tools.ietf.org/html/rfc4203">IS-IS Extensions in Support of Generalized Multi-Protocol Label Switching
                  (GMPLS)</a>,&rdquo; RFC&nbsp;4203, October&nbsp;2005.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4204">[RFC4204]</a></td>
<td class="author-text">Lang, J., Ed., &ldquo;<a href="http://tools.ietf.org/html/rfc4204">The Link Management Protocol (LMP)</a>,&rdquo; RFC&nbsp;4204, September&nbsp;2005.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4427">[RFC4427]</a></td>
<td class="author-text">Mannie, E. and D. Papadimitriou, &ldquo;<a href="http://tools.ietf.org/html/rfc4427">Recovery (Protection and Restoration) Terminology for
                  Generalized Multi-Protocol Label Switching (GMPLS)</a>,&rdquo; RFC&nbsp;4427, March&nbsp;2006.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4428">[RFC4428]</a></td>
<td class="author-text">Papadimitriou, D. and E. Mannie, &ldquo;<a href="http://tools.ietf.org/html/rfc4428">Analysis of Generalized Multi-Protocol Label Switching (GMPLS) &ndash; based 
				Recovery Mechanisms (including Protection and Restoration) Recovery (Protection and Restoration) Terminology for
				Generalized Multi-Protocol Label Switching (GMPLS)</a>,&rdquo; RFC&nbsp;4428, March&nbsp;2006.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4873">[RFC4873]</a></td>
<td class="author-text">Berger, L., Bryskin, I., Papadimitriou, D., and A. Farrel, &ldquo;<a href="http://tools.ietf.org/html/rfc4873">GMPLS Segment Recovery</a>,&rdquo; RFC&nbsp;4873, May&nbsp;2007.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5307">[RFC5307]</a></td>
<td class="author-text">Kompella, K. and Y. Rekhter, &ldquo;<a href="http://tools.ietf.org/html/rfc5307">IS-IS Extensions in Support of Generalized Multi-Protocol Label Switching
                  (GMPLS)</a>,&rdquo; RFC&nbsp;5307, October&nbsp;2008.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5317">[RFC5317]</a></td>
<td class="author-text">Bryant, S. and L. Andersson, &ldquo;<a href="http://tools.ietf.org/html/rfc5317">Joint Working Team (JWT) Report on MPLS Architectural Considerations for a Transport 
				Profile</a>,&rdquo; RFC&nbsp;5317, February&nbsp;2009.</td></tr>
<tr><td class="author-text" valign="top"><a name="G.808.1">[G.808.1]</a></td>
<td class="author-text">ITU-T, &ldquo;Generic Protection Switching &ndash; Linear trail and subnetwork protection,&rdquo; Recommendation&nbsp;G.808.1, December&nbsp;2003.</td></tr>
<tr><td class="author-text" valign="top"><a name="G.841">[G.841]</a></td>
<td class="author-text">ITU-T, &ldquo;Types and Characteristics of SDH Network Protection Architectures,&rdquo; Recommendation&nbsp;G.841, October&nbsp;1998.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5654">[RFC5654]</a></td>
<td class="author-text">Niven-Jenkins, B., Ed., Brungard, D., Ed., Betts, M., Ed., Sprecher, N., and S. Ueno, &ldquo;<a href="http://tools.ietf.org/html/rfc5317">Requirements of an MPLS Transport Profile</a>,&rdquo; RFC&nbsp;5317, February&nbsp;2009.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5586">[RFC5586]</a></td>
<td class="author-text">Bocci, M., Ed., Vigoureux, M., Ed., and S. Bryant, Ed., &ldquo;<a href="http://tools.ietf.org/html/rfc5586">MPLS Generic Associated Channel</a>,&rdquo; RFC&nbsp;5586, June&nbsp;2009.</td></tr>
<tr><td class="author-text" valign="top"><a name="MPLS-TP-FWK">[MPLS-TP-FWK]</a></td>
<td class="author-text">Vigoureux, M., Ed., Ward, D., Ed., and Betts, &ldquo;A Framework for MPLS in Transport Networks,&rdquo; MPLS-TP-FWK,&nbsp;Work in Progress.</td></tr>
<tr><td class="author-text" valign="top"><a name="MPLS-TP-OAM">[MPLS-TP-OAM]</a></td>
<td class="author-text">Buci, I., Ed. and B. Niven-Jenkins, Ed., &ldquo;Requirements for OAM in MPLS Transport Networks,&rdquo; draft-ietf-mpls-tp-oam-requirements,&nbsp;Work in Progress.</td></tr>
<tr><td class="author-text" valign="top"><a name="MPLS-TP-OAM-Framework">[MPLS-TP-OAM-Framework]</a></td>
<td class="author-text">Buci, I., Ed. and B. Niven-Jenkins, Ed., &ldquo;A Framework for MPLS in Transport Networks,&rdquo; draft-ietf-mpls-tp-oam-framework,&nbsp;Work in Progress.</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>12.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC3031">[RFC3031]</a></td>
<td class="author-text">Rosen, E., Viswanathan, A., and R. Callon, &ldquo;<a href="http://tools.ietf.org/html/rfc3386">Multiprotocol Label Switching Architecture</a>,&rdquo; RFC&nbsp;3386, November&nbsp;2002.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3386">[RFC3386]</a></td>
<td class="author-text">Lai, W. and D. McDysan, &ldquo;<a href="http://tools.ietf.org/html/rfc3386">Network Hierarchy and Multilayer Survivability</a>,&rdquo; RFC&nbsp;3386, November&nbsp;2002.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3469">[RFC3469]</a></td>
<td class="author-text">Sharma, V. and F. Hellstrand, &ldquo;<a href="http://tools.ietf.org/html/rfc3469">Framework for Multi-Protocol Label Switching (MPLS)-based Recovery</a>,&rdquo; RFC&nbsp;3469, February&nbsp;2003.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4426">[RFC4426]</a></td>
<td class="author-text">Lang, J., Ed., Rajagopalan, B., and D. Papadimitriou, &ldquo;<a href="http://tools.ietf.org/html/rfc4426">Generalized Multiprotocol Label Switching
                  (GMPLS) Recovery Functional Specification</a>,&rdquo; RFC&nbsp;4426, March&nbsp;2006.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4783">[RFC4783]</a></td>
<td class="author-text">Berger, L., &ldquo;<a href="http://tools.ietf.org/html/rfc4783">GMPLS &ndash; Communication of Alarm Information</a>,&rdquo; RFC&nbsp;4783, December&nbsp;2006.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4872">[RFC4872]</a></td>
<td class="author-text">Lang, J., Rekhter, Y., and D. Papadimitriou, &ldquo;<a href="http://tools.ietf.org/html/rfc4872">RSVP-TE
                  Extensions in Support of End-to-End Generalized Multi-Protocol Label Switching (GMPLS) Recovery</a>,&rdquo; RFC&nbsp;4872, May&nbsp;2007.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4874">[RFC4874]</a></td>
<td class="author-text">Lee, CY., Farrel, A., and S. De Cnodder, &ldquo;<a href="http://tools.ietf.org/html/rfc4874">Exclude Routes &ndash; Extension to Resource ReserVation Protocol-
                  Traffic Engineering (RSVP-TE)</a>,&rdquo; RFC&nbsp;4874, April&nbsp;2007.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5298">[RFC5298]</a></td>
<td class="author-text">Takeda, T., Farrel, A., Ikejiri, Y., and JP. Vasseur, &ldquo;<a href="http://tools.ietf.org/html/rfc5298">Analysis of Inter-Domain Label Switched Path (LSP)
                  Recovery</a>,&rdquo; RFC&nbsp;5298, August&nbsp;2008.</td></tr>
<tr><td class="author-text" valign="top"><a name="MPLS-TP-Linear-Protection">[MPLS-TP-Linear-Protection]</a></td>
<td class="author-text">Weingarten, Y., Bryant, S., Ed., Sprecher, N., Ed., Van Helvoort, H., Ed., and A. Fulignoli, &ldquo;MPLS-TP Linear Protection,&rdquo; draft-weingarten-mpls-tp-linear-protection,&nbsp;Work in Progress.</td></tr>
<tr><td class="author-text" valign="top"><a name="GMPLS-OAM">[GMPLS-OAM]</a></td>
<td class="author-text">Takacs, A., Fedyk, D., and H. Jia, &ldquo;OAM Configuration Framework and Requirements for GMPLS RSVP-TE,&rdquo; draft-ietf-ccamp-oam-configuration-fwk,&nbsp;Work in Progress.</td></tr>
<tr><td class="author-text" valign="top"><a name="OAM-SOUP">[OAM-SOUP]</a></td>
<td class="author-text">Andersson, L., Betts, M., Van Helvoort, H., Bonica, R., and D. Romascanu, &ldquo;MPLS-TP Linear Protection,&rdquo; draft-ietf-opsawg-mpls-tp-oam-def,&nbsp;Work in Progress.</td></tr>
<tr><td class="author-text" valign="top"><a name="ROSETTA">[ROSETTA]</a></td>
<td class="author-text">Van Helvoort, H., Ed., Andersson, L., and N. Sprecher, &ldquo;A Thesaurus for the Terminology used in Multiprotocol Label Switching Transport Profile (MPLS-TP)
                   drafts/RFCs and ITU-T&#039;s Transport Network Recommendations,&rdquo; draft-ietf-mpls-tp-rosetta-stone,&nbsp;Work in Progress.</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Nurit Sprecher</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Nokia Siemens Networks</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">3 Hanagar St. Neve Ne'eman B</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Hod Hasharon,   45241</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Israel</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:nurit.sprecher@nsn.com">nurit.sprecher@nsn.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Adrian Farrel</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Old Dog Consulting</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:adrian@olddog.co.uk">adrian@olddog.co.uk</a></td></tr>
</table>
</body></html>
