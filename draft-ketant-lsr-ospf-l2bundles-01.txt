



Link State Routing                                         K. Talaulikar
Internet-Draft                                                 P. Psenak
Intended status: Standards Track                           Cisco Systems
Expires: July 9, 2020                                    January 6, 2020


          Advertising L2 Bundle Member Link Attributes in OSPF
                   draft-ketant-lsr-ospf-l2bundles-01

Abstract

   There are deployments where the Layer 3 interface on which OSPF
   operates is a Layer 2 interface bundle.  Existing OSPF advertisements
   only support advertising link attributes of the Layer 3 interface.
   If entities external to OSPF wish to control traffic flows on the
   individual physical links which comprise the Layer 2 interface bundle
   link attribute information about the bundle members is required.

   This document introduces the ability for OSPF to advertise the link
   attributes of layer 2 (L2) Bundle members.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on July 9, 2020.

Copyright Notice

   Copyright (c) 2020 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect



Talaulikar & Psenak       Expires July 9, 2020                  [Page 1]

Internet-Draft               OSPF L2 Bundles                January 2020


   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
     1.1.  Requirements Language . . . . . . . . . . . . . . . . . .   3
   2.  L2 Bundle Member Attributes . . . . . . . . . . . . . . . . .   3
   3.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   6
   4.  Security Considerations . . . . . . . . . . . . . . . . . . .   7
   5.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   7
   6.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   7
     6.1.  Normative References  . . . . . . . . . . . . . . . . . .   7
     6.2.  Informational References  . . . . . . . . . . . . . . . .   8
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   9

1.  Introduction

   There are deployments where the Layer 3 interface on which an OSPF
   adjacency is established is a Layer 2 interface bundle, for instance
   a Link Aggregation Group (LAG) [IEEE802.1AX] . This reduces the
   number of adjacencies which need to be maintained by the routing
   protocol in cases where there are parallel links between the
   neighbors.  Entities external to OSPF such as Path Computation
   Elements (PCE) [RFC4655] may wish to control traffic flows on
   individual members of the underlying Layer 2 bundle.  In order to do
   so link attribute information about individual bundle members is
   required.  The protocol extensions defined in this document provide
   the means to advertise this information.

   This document introduces new sub-TLVs to advertise link attribute
   information for each of the L2 Bundle members which comprise the
   Layer 3 interface on which OSPF operates.  Similar capabilities were
   introduced in IS-IS via [RFC8668].

   [RFC8665] and [RFC8666] introduced the adjacency segment identifier
   (Adj-SID) link attribute for OSPFv2 and OSPFv3 respectively which can
   be used as an instruction to forwarding to send traffic over a
   specific link [RFC8402].  This document enables the advertisement of
   the Adj-SIDs using the same Adjacency SID sub-TLV at the granularity
   level of each L2 Bundle member link so that traffic may be steered
   over that specific member link.

   Note that the new advertisements at the L2 Bundle member link level
   in this document are intended to be provided to external (to OSPF)
   entities and does not alter or change OSPF route computation process.



Talaulikar & Psenak       Expires July 9, 2020                  [Page 2]

Internet-Draft               OSPF L2 Bundles                January 2020


   The following items are intentionally not defined and/or are outside
   the scope of this document:

   o  What link attributes will be advertised.  This is determined by
      the needs of the external entities.

   o  A minimum or default set of link attributes.

   o  How these attributes are configured

   o  How the advertisements are used

   o  What impact the use of these advertisements may have on traffic
      flow in the network

   o  How the advertisements are passed to external entities

1.1.  Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
   "OPTIONAL" in this document are to be interpreted as described in BCP
   14 [RFC2119] [RFC8174] when, and only when, they appear in all
   capitals, as shown here.

2.  L2 Bundle Member Attributes

   A new L2 Bundle Member Attributes sub-TLV is introduced to advertise
   L2 Bundle member attributes in both OSPFv2 and OSPFv3.  In case of
   OSPFv2, this sub-TLV is an optional sub-TLV of the OSPFv2 Extended
   Link TLV that is used to describe link attributes via the OSPFv2
   Extended Link Opaque LSA [RFC7684].  In case of OSPFv3, this sub-TLV
   is an optional sub-TLV of the Router Link TLV of the OSPFv3 E-Router-
   LSA [RFC8362].

   When the OSPF adjacency is associated with L2 Bundle interface, this
   sub-TLV is used to advertise the underlying L2 Bundle member links
   along with their individual link attributes.  Inclusion of this
   information implies that the identified link is a member of the L2
   bundle associated with OSPF L3 link and that the member link is
   operationally up.  Therefore advertisements of member links MUST NOT
   be done when the member link becomes operationally down or it is no
   longer a member of the identified L2 Bundle.

   The L2 Bundle Member Attributes sub-TLV has the following format:






Talaulikar & Psenak       Expires July 9, 2020                  [Page 3]

Internet-Draft               OSPF L2 Bundles                January 2020


     0                   1                   2                   3
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |               Type            |          Length               |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                   L2 Bundle Member Descriptor                 |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |           Member Link attribute sub-TLVs (variable)          //
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


           Figure 1: L2 Bundle Member Attributes sub-TLV Format

   Where:

      Type: TBD1 for OSPFv2 and TBD2 for OSPFv3

      Length: Variable.

      L2 Bundle Member Descriptor: A 4 octet Link Local Identifier as
      described in [RFC4202] and used in [RFC8510] for the member link.

   Link attributes for L2 Bundle Member Links are advertised as sub-TLVs
   of the L2 Bundle Member Attribute sub-TLV.

   In the case of OSPFv2, the L2 Bundle Member Attributes sub-TLV shares
   the sub-TLV space of the Extended Link TLV and the sub-TLVs of the
   Extended Link TLV MAY be used to describe the attributes of the
   member link.  The Figure 2 below lists sub-TLVs and their
   applicability for L2 Bundle member links.  The sub-TLVs that are not
   applicable MUST NOT be used as sub-TLVs for the L2 Bundle Member
   Attributes sub-TLV.  Specifications that introduce new sub-TLVs of
   the Extended Link TLV MUST indicate their applicability for the L2
   Bundle Member Attributes sub-TLV.  An implementation MUST ignore any
   sub-TLVs received that are not applicable in the context of the L2
   Bundle Member Attribute sub-TLV.















Talaulikar & Psenak       Expires July 9, 2020                  [Page 4]

Internet-Draft               OSPF L2 Bundles                January 2020


     Y - applicable
     N - not-applicable

      1  SID/Label (N)
      2  Adj-SID (Y)
      3  LAN Adj-SID/Label (Y)
      4  Network-to-Router Metric (N)
      5  RTM Capability (N)
      6  OSPFv2 Link MSD (N)
      7  Graceful-Link-Shutdown (N)
      8  Remote IPv4 Address (N)
      9  Local/Remote Interface ID (N)
     10  Application Specific Link Attributes (Y)
     11  Shared Risk Link Group (Y)
     12  Unidirectional Link Delay (Y)
     13  Min/Max Unidirectional Link Delay (Y)
     14  Unidirectional Delay Variation (Y)
     15  Unidirectional Link Loss (Y)
     16  Unidirectional Residual Bandwidth (Y)
     17  Unidirectional Available Bandwidth (Y)
     18  Unidirectional Utilized Bandwidth (Y)
     19  Administrative Group (Y)
     20  Extended Administrative Group (Y)
     21  Maximum Link Bandwidth (Y)
     22  Traffic Engineering Metric (Y)
   TBD1  L2 Bundle Member Attributes (N)



     Figure 2: Applicability of OSPFv2 Link Attribute sub-TLVs for L2
                              Bundle Members

   In the case of OSPFv3, the L2 Bundle Member Attributes sub-TLV shares
   the sub-TLV space of the Router Link TLV and the sub-TLVs of the
   Router Link TLV MAY be used to describe the attributes of the member
   link.  The Figure 3 below lists sub-TLVs that are applicable for
   Router Link TLV and their applicability for L2 Bundle member links.
   The sub-TLVs that are not applicable MUST NOT be used as sub-TLVs for
   the L2 Bundle Member Attributes sub-TLV.  Specifications that
   introduce new sub-TLVs of the Router Link TLV MUST indicate their
   applicability for the L2 Bundle Member Attributes sub-TLV.  An
   implementation MUST ignore any sub-TLVs received that are not
   applicable in the context of the L2 Bundle Member Attribute sub-TLV.








Talaulikar & Psenak       Expires July 9, 2020                  [Page 5]

Internet-Draft               OSPF L2 Bundles                January 2020


      Y - applicable
      N - not-applicable

      5  Adj-SID (Y)
      6  LAN Adj-SID (Y)
      7  SID/Label (N)
      8  Graceful-Link-Shutdown (N)
      9  OSPFv3 Link MSD (N)
     10  Application Specific Link Attributes (Y)
     11  Shared Risk Link Group (Y)
     12  Unidirectional Link Delay (Y)
     13  Min/Max Unidirectional Link Delay (Y)
     14  Unidirectional Delay Variation (Y)
     15  Unidirectional Link Loss (Y)
     16  Unidirectional Residual Bandwidth (Y)
     17  Unidirectional Available Bandwidth (Y)
     18  Unidirectional Utilized Bandwidth (Y)
     19  Administrative Group (Y)
     20  Extended Administrative Group (Y)
     21  Traffic Engineering Metric (Y)
     22  Maximum Link Bandwidth (Y)
     23  Local Interface IPv6 Address (N)
     24  Remote Interface IPv6 Address (N)
   TBD2  L2 Bundle Member Attributes (N)



     Figure 3: Applicability of OSPFv3 Link Attribute sub-TLVs for L2
                              Bundle Members

3.  IANA Considerations

   This document adds new sub-TLVs to the OSPFv2 and OSPFv3 registry.

   The following sub-TLV is added to the OSPFv2 Extended Link TLV sub-
   TLVs registry under the OSPFv2 Parameters IANA registry:

   Value: TBD1

   Name: L2 Bundle Member Attributes

   The following sub-TLV is added to the OSPFv3 Extended LSA sub-TLVs
   registry under the OSPFv3 Parameters IANA registry:

   Value: TBD2

   Name: L2 Bundle Member Attributes




Talaulikar & Psenak       Expires July 9, 2020                  [Page 6]

Internet-Draft               OSPF L2 Bundles                January 2020


4.  Security Considerations

   The OSPF protocol has supported the advertisement of link attribute
   information, including link identifiers, for many years.  The
   advertisements defined in this document are identical to existing
   advertisements defined in [RFC3630], [RFC4203], [RFC5329], [RFC7471],
   [RFC8665] and [RFC8666] - but are associated with L2 links which are
   part of a bundle interface on which the OSPF protocol operates.
   There are therefore no new security issues introduced by the
   extensions in this document.

   As always, if the protocol is used in an environment where
   unauthorized access to the physical links on which OSPF packets are
   sent occurs then attacks are possible.  The use of authentication as
   defined in [RFC5709], [RFC7474], [RFC4552] and [RFC7166] is
   recommended to prevent such attacks.

5.  Acknowledgements

   This document leverages the similar work done for IS-IS and the
   authors of this document would like to acknowledge the contributrions
   of the authors of [RFC8668].

6.  References

6.1.  Normative References

   [IEEE802.1AX]
              Institute of Electrical and Electronics Engineers, "IEEE
              Standard for Local and Metropolitan Area Networks - Link
              Aggregation.", Nov 2008.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.

   [RFC4202]  Kompella, K., Ed. and Y. Rekhter, Ed., "Routing Extensions
              in Support of Generalized Multi-Protocol Label Switching
              (GMPLS)", RFC 4202, DOI 10.17487/RFC4202, October 2005,
              <https://www.rfc-editor.org/info/rfc4202>.

   [RFC7684]  Psenak, P., Gredler, H., Shakir, R., Henderickx, W.,
              Tantsura, J., and A. Lindem, "OSPFv2 Prefix/Link Attribute
              Advertisement", RFC 7684, DOI 10.17487/RFC7684, November
              2015, <https://www.rfc-editor.org/info/rfc7684>.





Talaulikar & Psenak       Expires July 9, 2020                  [Page 7]

Internet-Draft               OSPF L2 Bundles                January 2020


   [RFC8174]  Leiba, B., "Ambiguity of Uppercase vs Lowercase in RFC
              2119 Key Words", BCP 14, RFC 8174, DOI 10.17487/RFC8174,
              May 2017, <https://www.rfc-editor.org/info/rfc8174>.

   [RFC8362]  Lindem, A., Roy, A., Goethals, D., Reddy Vallem, V., and
              F. Baker, "OSPFv3 Link State Advertisement (LSA)
              Extensibility", RFC 8362, DOI 10.17487/RFC8362, April
              2018, <https://www.rfc-editor.org/info/rfc8362>.

   [RFC8665]  Psenak, P., Ed., Previdi, S., Ed., Filsfils, C., Gredler,
              H., Shakir, R., Henderickx, W., and J. Tantsura, "OSPF
              Extensions for Segment Routing", RFC 8665,
              DOI 10.17487/RFC8665, December 2019,
              <https://www.rfc-editor.org/info/rfc8665>.

   [RFC8666]  Psenak, P., Ed. and S. Previdi, Ed., "OSPFv3 Extensions
              for Segment Routing", RFC 8666, DOI 10.17487/RFC8666,
              December 2019, <https://www.rfc-editor.org/info/rfc8666>.

6.2.  Informational References

   [RFC3630]  Katz, D., Kompella, K., and D. Yeung, "Traffic Engineering
              (TE) Extensions to OSPF Version 2", RFC 3630,
              DOI 10.17487/RFC3630, September 2003,
              <https://www.rfc-editor.org/info/rfc3630>.

   [RFC4203]  Kompella, K., Ed. and Y. Rekhter, Ed., "OSPF Extensions in
              Support of Generalized Multi-Protocol Label Switching
              (GMPLS)", RFC 4203, DOI 10.17487/RFC4203, October 2005,
              <https://www.rfc-editor.org/info/rfc4203>.

   [RFC4552]  Gupta, M. and N. Melam, "Authentication/Confidentiality
              for OSPFv3", RFC 4552, DOI 10.17487/RFC4552, June 2006,
              <https://www.rfc-editor.org/info/rfc4552>.

   [RFC4655]  Farrel, A., Vasseur, J., and J. Ash, "A Path Computation
              Element (PCE)-Based Architecture", RFC 4655,
              DOI 10.17487/RFC4655, August 2006,
              <https://www.rfc-editor.org/info/rfc4655>.

   [RFC5329]  Ishiguro, K., Manral, V., Davey, A., and A. Lindem, Ed.,
              "Traffic Engineering Extensions to OSPF Version 3",
              RFC 5329, DOI 10.17487/RFC5329, September 2008,
              <https://www.rfc-editor.org/info/rfc5329>.







Talaulikar & Psenak       Expires July 9, 2020                  [Page 8]

Internet-Draft               OSPF L2 Bundles                January 2020


   [RFC5709]  Bhatia, M., Manral, V., Fanto, M., White, R., Barnes, M.,
              Li, T., and R. Atkinson, "OSPFv2 HMAC-SHA Cryptographic
              Authentication", RFC 5709, DOI 10.17487/RFC5709, October
              2009, <https://www.rfc-editor.org/info/rfc5709>.

   [RFC7166]  Bhatia, M., Manral, V., and A. Lindem, "Supporting
              Authentication Trailer for OSPFv3", RFC 7166,
              DOI 10.17487/RFC7166, March 2014,
              <https://www.rfc-editor.org/info/rfc7166>.

   [RFC7471]  Giacalone, S., Ward, D., Drake, J., Atlas, A., and S.
              Previdi, "OSPF Traffic Engineering (TE) Metric
              Extensions", RFC 7471, DOI 10.17487/RFC7471, March 2015,
              <https://www.rfc-editor.org/info/rfc7471>.

   [RFC7474]  Bhatia, M., Hartman, S., Zhang, D., and A. Lindem, Ed.,
              "Security Extension for OSPFv2 When Using Manual Key
              Management", RFC 7474, DOI 10.17487/RFC7474, April 2015,
              <https://www.rfc-editor.org/info/rfc7474>.

   [RFC8402]  Filsfils, C., Ed., Previdi, S., Ed., Ginsberg, L.,
              Decraene, B., Litkowski, S., and R. Shakir, "Segment
              Routing Architecture", RFC 8402, DOI 10.17487/RFC8402,
              July 2018, <https://www.rfc-editor.org/info/rfc8402>.

   [RFC8510]  Psenak, P., Ed., Talaulikar, K., Henderickx, W., and P.
              Pillay-Esnault, "OSPF Link-Local Signaling (LLS)
              Extensions for Local Interface ID Advertisement",
              RFC 8510, DOI 10.17487/RFC8510, January 2019,
              <https://www.rfc-editor.org/info/rfc8510>.

   [RFC8668]  Ginsberg, L., Ed., Bashandy, A., Filsfils, C., Nanduri,
              M., and E. Aries, "Advertising Layer 2 Bundle Member Link
              Attributes in IS-IS", RFC 8668, DOI 10.17487/RFC8668,
              December 2019, <https://www.rfc-editor.org/info/rfc8668>.

Authors' Addresses

   Ketan Talaulikar
   Cisco Systems
   India

   Email: ketant@cisco.com








Talaulikar & Psenak       Expires July 9, 2020                  [Page 9]

Internet-Draft               OSPF L2 Bundles                January 2020


   Peter Psenak
   Cisco Systems
   Apollo Business Center
   Mlynske nivy 43
   Bratislava  821 09
   Slovakia

   Email: ppsenak@cisco.com











































Talaulikar & Psenak       Expires July 9, 2020                 [Page 10]
