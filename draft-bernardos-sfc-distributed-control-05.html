<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Distributed SFC control for fog environments</title>
<meta content="Carlos J. Bernardos" name="author">
<meta content="Alain Mourad" name="author">
<meta content='
       
Service function chaining (SFC) allows the instantiation of an ordered set of
service functions and subsequent "steering" of traffic through them. In order to
set up and maintain SFC instances, a control plane is required, which typically
is centralized. In certain environments, such as fog computing ones, such
centralized control might not be feasible, calling for distributed SFC control
solutions. This document introduces the role of SFC pseudo-controller and
specifies solutions to select and initialize such new logical function.
       
    ' name="description">
<meta content="xml2rfc 3.12.0" name="generator">
<meta content="draft-bernardos-sfc-distributed-control-05" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.12.0
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.7.1
    pycountry 22.1.10
    pyflakes 2.4.0
    PyYAML 6.0
    requests 2.27.1
    setuptools 59.6.0
    six 1.16.0
    WeasyPrint 52.5
-->
<link href="/tmp/draft-bernardos-sfc-distributed-control-05-_8klleg0.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">Distributed SFC control</td>
<td class="right">January 2022</td>
</tr></thead>
<tfoot><tr>
<td class="left">Bernardos &amp; Mourad</td>
<td class="center">Expires 31 July 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">SFC WG</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-bernardos-sfc-distributed-control-05</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2022-01" class="published">January 2022</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Experimental</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-07-31">31 July 2022</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">CJ. Bernardos</div>
<div class="org">UC3M</div>
</div>
<div class="author">
      <div class="author-name">A. Mourad</div>
<div class="org">InterDigital</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Distributed SFC control for fog environments</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">
Service function chaining (SFC) allows the instantiation of an ordered set of
service functions and subsequent "steering" of traffic through them. In order to
set up and maintain SFC instances, a control plane is required, which typically
is centralized. In certain environments, such as fog computing ones, such
centralized control might not be feasible, calling for distributed SFC control
solutions. This document introduces the role of SFC pseudo-controller and
specifies solutions to select and initialize such new logical function.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 5 July 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2022 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-terminology" class="xref">Terminology</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1" class="keepWithNext"><a href="#section-3" class="xref">3</a>.  <a href="#name-problem-statement" class="xref">Problem statement</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-distributed-sfc-control" class="xref">Distributed SFC control</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-sfc-pseudo-controller-initi" class="xref">SFC pseudo controller initialization</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-acknowledgments" class="xref">Acknowledgments</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-informative-references" class="xref">Informative References</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#appendix-A" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="sec_introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">
Virtualization of functions provides operators with tools to deploy new
services much faster, as compared to the traditional use of monolithic and
tightly integrated dedicated machinery. As a natural next step, mobile network
operators need to re-think how to evolve their existing network infrastructures
and how to deploy new ones to address the challenges posed by the increasing
customers' demands, as well as by the huge competition among operators. All
these changes are triggering the need for a modification in the way operators
and infrastructure providers operate their networks, as they need to
significantly reduce the costs incurred in deploying a new service and operating
it. Some of the mechanisms that are being considered and already adopted by
operators include: sharing of network infrastructure to reduce costs,
virtualization of core servers running in data centers as a way of supporting
their load-aware elastic dimensioning, and dynamic energy policies to reduce the
monthly electricity bill. However, this has proved to be tough to put in
practice, and not enough. Indeed, it is not easy to deploy new mechanisms in a
running operational network due to the high dependency on proprietary (and
sometime obscure) protocols and interfaces, which are complex to manage and
often require configuring multiple devices in a decentralized way.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">
Service Functions are widely deployed and essential in many networks. These
Service Functions provide a range of features such as security, WAN
acceleration, and server load balancing. Service Functions may be instantiated
at different points in the network infrastructure such as data center, the WAN,
the RAN, and even on mobile nodes.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">
Service functions (SFs), also referred to as VNFs, or just functions, are hosted
on compute, storage and networking resources. The hosting environment of a
function is called Service Function Provider or NFVI-PoP (using ETSI NFV
terminology).<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">
Services are typically formed as a composition of SFs (VNFs), with each SF
providing a specific function of the whole service. Services also referred to as
Network Services (NS), according to ETSI terminology.<a href="#section-1-4" class="pilcrow">¶</a></p>
<p id="section-1-5">
With the arrival of virtualization, the deployment model for service function is
evolving to one where the traffic is steered through the functions wherever they
are deployed (functions do not need to be deployed in the traffic path anymore).
For a given service, the abstracted view of the required service functions and
the order in which they are to be applied is called a Service Function Chain
(SFC). An SFC is instantiated through selection of specific service function
instances on specific network nodes to form a service graph: this is called a
Service Function Path (SFP). The service functions may be applied at any layer
within the network protocol stack (network layer, transport layer, application
layer, etc.).<a href="#section-1-5" class="pilcrow">¶</a></p>
<p id="section-1-6">
The concept of fog computing has emerged driven by the Internet of Things (IoT)
due to the need of handling the data generated from the end-user devices. The
term fog is referred to any networked computational resource in the continuum
between things and cloud. A fog node may therefore be an infrastructure network
node such as an eNodeB or gNodeB, an edge server, a customer premises equipment
(CPE), or even a user equipment (UE) terminal node such as a laptop, a
smartphone, or a computing unit on-board a vehicle, robot or drone.<a href="#section-1-6" class="pilcrow">¶</a></p>
<p id="section-1-7">
In fog computing, the functions composing an SFC are hosted on resources that
are inherently heterogeneous, volatile and mobile <span>[<a href="#I-D.bernardos-sfc-fog-ran" class="xref">I-D.bernardos-sfc-fog-ran</a>]</span>. This means that resources might appear
and disappear, and the connectivity characteristics between these resources may
also change dynamically. These scenarios call for distributed SFC control
solutions, where there are SFC pseudo controllers, enabling autonomous SFC
self-orchestration capabilities. This document introduces this concept and
presents first ideas on mechanisms to select and initialize a service-specific
SFC pseudo controller among host nodes which are participating in the SFC.<a href="#section-1-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec_terminology">
<section id="section-2">
      <h2 id="name-terminology">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
      </h2>
<p id="section-2-1">
The following terms used in this document are defined by the IETF in <span>[<a href="#RFC7665" class="xref">RFC7665</a>]</span>:<a href="#section-2-1" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-2-2.1">
Service Function (SF): a function that is responsible for specific treatment of
received packets (e.g., firewall, load balancer).<a href="#section-2-2.1" class="pilcrow">¶</a>
</li>
        <li class="normal ulEmpty" id="section-2-2.2">
Service Function Chain (SFC): for a given service, the abstracted view of the
required service functions and the order in which they are to be applied. This
is somehow equivalent to the Network Function Forwarding Graph (NF-FG) at ETSI.<a href="#section-2-2.2" class="pilcrow">¶</a>
</li>
        <li class="normal ulEmpty" id="section-2-2.3">
Service Function Forwarder (SFF): A service function forwarder is responsible
for forwarding traffic to one or more connected service functions according to
information carried in the SFC encapsulation, as well as handling traffic coming
back from the SF.<a href="#section-2-2.3" class="pilcrow">¶</a>
</li>
        <li class="normal ulEmpty" id="section-2-2.4">
SFI: SF instance.<a href="#section-2-2.4" class="pilcrow">¶</a>
</li>
        <li class="normal ulEmpty" id="section-2-2.5">
Service Function Path (SFP): the selection of specific service function
instances on specific network nodes to form a service graph through which an SFC
is instantiated.<a href="#section-2-2.5" class="pilcrow">¶</a>
</li>
      </ul>
</section>
</div>
<div id="sec_ps">
<section id="section-3">
      <h2 id="name-problem-statement">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-problem-statement" class="section-name selfRef">Problem statement</a>
      </h2>
<p id="section-3-1">
<span>[<a href="#RFC7665" class="xref">RFC7665</a>]</span> describes an architecture for the specification,
creation, and ongoing maintenance of Service Function Chains (SFCs) in a
network. It includes architectural concepts, principles, and components used in
the construction of composite services through deployment of SFCs.<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">
The SFC architecture assumes there is a control plane that configures and
manages the SFC components. This role is typically assumed to be played by a
centralized controller/orchestrator. This implies that dynamic changes on the
SFC (composition, function migration, scaling, etc) can only be performed by the
centralized controller, which needs to always have connectivity with the
functions, and have updated information on the status of all the nodes hosting
the functions. Also, multiple services are managed by the same
controller/orchestrator, even if they provide different functionalities with
disparate requirements.<a href="#section-3-2" class="pilcrow">¶</a></p>
<p id="section-3-3">
In a fog environment, with current management and orchestration solutions, SFCs
cannot operate if the nodes hosting the functions get disconnected from the
infrastructure. This implies that the lifecycle management of an SFC cannot be
managed if disconnected from the centralized controller, which means that
important actions (e.g., scaling, migrating a function or updating the data
plane) might not take place due to the lack of connectivity with the
controller/orchestrator (even if connectivity issues are just temporal ones).
Additionally, lifecycle management of SFCs require up-to-date monitoring
information, with a refresh frequency that is service-specific and might involve
a very high overhead with the controller. This severely limits the capability of
fast reacting to events local to the nodes hosting the functions, as the SFC
cannot autonomously self-orchestrate (decisions can only be taken by the
centralized controller/orchestrator).<a href="#section-3-3" class="pilcrow">¶</a></p>
<p id="section-3-4">
<a href="#fig_sfc_scenario" class="xref">Figure 1</a> shows an exemplary scenario where a drone
makes use of a network service composed of the chain of functions F1-F2-F3. F1
runs on the drone itself (node A), F2 runs in another drone (node B) and F3 runs
in a gNB on the ground (node D). The service might be, for example, an
autonomous video surveillance activity in which a couple of drones with
different types of cameras make use of image recognition to decide where to go
next. If the drones move out of the coverage of the node D, the service chain
needs to be reconfigured (for example migrating F3 to node C) so it can remain
operative (as node D is hosting one function of the SFC). Since node D is also
providing the drones with connectivity to the network infrastructure where the
SFC controller is located, this type of events cannot be resolved by the SFC
controller, as the nodes hosting the functions would be disconnected from the
controller.<a href="#section-3-4" class="pilcrow">¶</a></p>
<span id="name-sfc-example-scenario"></span><div id="fig_sfc_scenario">
<figure id="figure-1">
        <div class="alignLeft art-text artwork" id="section-3-5.1">
<pre>
                        node B
                      /       \          F1+-·-·-+F2+-·-·-+F3 SFC
              &lt;====  /\       /\
                       \-----/
                       |     |
                 +-·-·-·-+F2 |
                /      /---+-\                       __________
  /       \    ·     \/   /   \/                   _(          )_
 /\       /\  /       \  ·    /                  _( +----------+ )_
   \-----/   ·          /       ( (oo) )        (_  | SFC ctrl |  _)
   |   +-·-·/          ·           /\             (_+----------+_)
   |  F1 |             |          /\/\ (F3)         (__________)
   /-----\             ·         /\/\/\
 \/       \/      /    |  \     /\/  \/\
  \       /      /\    ·  /\     node D
   node A          \---|-/
                   |   + |
                   |  F3 |
                   /-----\
          &lt;====  \/       \/
                  \       /
                    node C
</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-sfc-example-scenario" class="selfRef">SFC example scenario</a>
        </figcaption></figure>
</div>
<p id="section-3-6">
Another scenario that cannot be properly tackled with current SFC orchestration
approaches control appears with highly mobile/volatile environments and/or
latency-demanding services, in which centralized lifecycle management is
unfeasible due to its high signaling cost (e.g., they require frequent
measurements sent from remote nodes to a centralized controller, generating too
much signaling, and involving a delay that might be too long to meet the service
requirements).<a href="#section-3-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec_distributed_sfc_control">
<section id="section-4">
      <h2 id="name-distributed-sfc-control">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-distributed-sfc-control" class="section-name selfRef">Distributed SFC control</a>
      </h2>
<p id="section-4-1">
The fact that -- in fog computing environments -- SFC functions are hosted in
heterogeneous, volatile and mobile resources, calls for new orchestration
solutions able to cope with dynamic changes to the resources in runtime or ahead
of time (in anticipation through prediction) as opposed to today's solutions
which are inherently reactive and static or semi-static.<a href="#section-4-1" class="pilcrow">¶</a></p>
<p id="section-4-2">
These new orchestration solutions have to enable SFCs to autonomously
self-orchestrate without having to rely on a centralized controller. The idea
introduced in this draft is to enable one of the nodes involved in a service
function chain (i.e., in a specific service) to be prepared to take over the
control of the SFC and perform network service lifecycle management decisions,
replacing at least temporary and at least partially the centralized SFC
controller.<a href="#section-4-2" class="pilcrow">¶</a></p>
<p id="section-4-3">
This draft proposes a new logical entity, complementing the SFC
controller/orchestrator found in current architectures and deployments. We refer
to this new entity as SFC pseudo controller, and it is characterized by the
following:<a href="#section-4-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4-4.1">
It is service-specific, meaning that it is defined and meaningful in the context
of a given network service. Compared to existing SFC controllers/orchestrators,
which manage multiple SFCs instantiated over a common infrastructure, pseudo
controllers are constrained to service specific lifecycle management. These SFC
pseudo controllers synchronize with the SFC centralized controller/orchestrator
to ensure proper resource orchestration.<a href="#section-4-4.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-4-4.2">
Potentially, any node involved in a network service might play the role of SFC
pseudo controller. But note that it is not mandatory that all nodes are
willing/capable to play that role. Therefore, we consider that on a given
deployment, only a subset of all the involved nodes are willing or capable of
doing so. We refer to these nodes as candidate pseudo controllers. During the
initialization phase, out of the candidates, one will be chosen by the SFC
controller as selected SFC pseudo controller. Each candidate pseudo controller
maintains a local copy of the information required to properly perform lifecycle
management of the service. This includes not only information about the network
service (e.g., the Network Service Descriptor, NSD, and the Virtual Network
Function Descriptors, VNFDs, as defined by ETSI NFV, and the characterization of
the resource capabilities of the nodes hosting the functions), but also the
information related to performing an efficient monitoring of the service. We
refer to this new descriptor as Operations, Administration and Maintenance
Descriptor (OAMD).<a href="#section-4-4.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-4-4.3">
From the set of available candidate SFC pseudo controllers, one is chosen as
selected pseudo controllers for a network service. This active pseudo controller
performs monitoring activities at service and resource level and synchronizes
periodically with the centralized SFC controller/orchestrator. Note that this is
performed in an opportunistic way, if connectivity is available, and that
disconnected operation is possible.<a href="#section-4-4.3" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-4-5">
Candidate pseudo controller instances might be located at any node hosting a
service function. The SFC controller typically runs in the network core, at a
server (either as a physical or virtual function). The SFC controller and the
candidate pseudo controller instances exchange signaling to initialize the
selected SFC pseudo controller. This includes signaling to describe the service,
signaling to express the readiness and preference from the candidates to play
the role of pseudo controller, and the signaling from the SFC controller to
indicate the selected one. This is explained in more detail next.<a href="#section-4-5" class="pilcrow">¶</a></p>
<div id="sec_pseudo_ctrl_initialization">
<section id="section-4.1">
        <h3 id="name-sfc-pseudo-controller-initi">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-sfc-pseudo-controller-initi" class="section-name selfRef">SFC pseudo controller initialization</a>
        </h3>
<p id="section-4.1-1">
This section describes how SFC pseudo controller candidates are determined and
selected SFC pseudo controllers are chosen from the candidate set.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<span id="name-sfc-pseudo-controller-initia"></span><div id="fig_pseudo_ctrl_initialization">
<figure id="figure-2">
          <div class="alignLeft art-text artwork" id="section-4.1-2.1">
<pre>
+--------+    +--------+    +--------+    +--------+     +----------+
| node A |    | node C |    | node B |    | node D |     | SFC ctrl |
+--------+    +--------+    +--------+    +--------+     +----------+
    |             |             |             |                |
    | F1@A&lt;-&gt;F2@B&lt;-&gt;F3@C SFC instance traffic |                |
    |&lt;-·-·-·-·-·-·-·-·-·-·-·-·-&gt;|&lt;-·-·-·-·-·-&gt;|                |
    |             |             |             |                |
    |             |             |1. Candidate pseudo-controller adv.
    |             |             |-----------------------------&gt;|
    |---------------------------------------------------------&gt;|
    |             |             |             |                |
    |             |             |       2. Service description |
    |             |             |&lt;-----------------------------|
    |&lt;---------------------------------------------------------|
    |             |             |             |                |
    |             |             |3. Candidate pseudo-controller req.
    |             |             |-----------------------------&gt;|
    |---------------------------------------------------------&gt;|
    |             |             |             |                |
    |             |             |             |        (4. Selection)
    |             |             |             |                |
    |             |             5. Candidate pseudo-controller resp.
    |&lt;---------------------------------------------------------|
    |             |             |             |                |
</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-sfc-pseudo-controller-initia" class="selfRef">SFC pseudo controller initialization</a>
          </figcaption></figure>
</div>
<p id="section-4.1-3">
A detailed message sequence chart is shown in <a href="#fig_pseudo_ctrl_initialization" class="xref">Figure 2</a>. The different steps are described next:<a href="#section-4.1-3" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-4.1-4">
<li id="section-4.1-4.1">
            <p id="section-4.1-4.1.1">
Among the fog nodes hosting functions of an SFC, several might be willing to
play the role of SFC pseudo controller. There is an exchange of information
between the SFC controller and the SFC nodes, where the SFC pseudo controller
candidates will be determined by fog nodes' willingness/preference for a
service. A preference value from the candidate nodes is used by the SFC
controller as primary value to decide which is the selected SFC pseudo
controller, but other information can also be used in this decision, such as,
but not limited to: local policies, volatility of the node, known capabilities
of the node (monitoring, connectivity, available resources, etc) and so on.
Those nodes willing to play the role of SFC pseudo controller advertise their
presence to the SFC controller, through which SFC controller can recognize the
willingness or readiness of the nodes and will enable to inform proper nodes of
the detailed service description such as NSD and OAMD. This message includes:<a href="#section-4.1-4.1.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.1-4.1.2.1">
The service ID, identifying the service (note that multiple SFCs might be
running in parallel, even with some nodes participating simultaneously in more
than one).<a href="#section-4.1-4.1.2.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-4.1-4.1.2.2">
An ID of the candidate SFC pseudo controller. This ID uniquely identifies the
pseudo controller instance. It might be generated using a unique identifier of
the node.<a href="#section-4.1-4.1.2.2" class="pilcrow">¶</a>
</li>
            </ul>
</li>
          <li id="section-4.1-4.2">
            <p id="section-4.1-4.2.1">
The SFC controller shares information about the service (e.g., service
requirement, desired monitoring configuration) with the nodes, through which
information the nodes can assess the own availability as a pseudo controller for
the specific service and decides some preferences. This includes:<a href="#section-4.1-4.2.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.1-4.2.2.1">
The service ID, identifying the specific service.<a href="#section-4.1-4.2.2.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-4.1-4.2.2.2">
The Network Service Descriptor (NSD) of the service, which includes the
description of the chain in terms of composing functions and logical links
connecting them, as well as associated requirements (e.g.: compute requirements,
connectivity, affinity, etc).<a href="#section-4.1-4.2.2.2" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-4.1-4.2.2.3">
The information required to perform an efficient monitoring of the service: the
Operations, Administration and Maintenance Descriptor (OAMD). Examples of this
information are: latency constraints for all logical links of the service chain,
bandwidth requirements for all logical links, maximum tolerated packet losses
for each of the logical links and the whole end-to-end service, tolerated
jitter, minimum required availability for a given instantiation (i.e., the
minimum time the functions need to remain instantiated on their hosting
resources to ensure a minimum consistency for the service), battery
status/lifetime, periodicity on which each of the parameters needs to be
monitored, etc.<a href="#section-4.1-4.2.2.3" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-4.1-4.2.2.4">
Security capabilities required to manage the service, which include the set of
security mechanisms that need to be supported for an (pseudo-)orchestrator to be
able to manage the service. This set might include a set of alternatives, so
different solutions can be used. Examples of these capabilities are:
authentication algorithms, encryption algorithms, supported certificate
authorities, etc.<a href="#section-4.1-4.2.2.4" class="pilcrow">¶</a>
</li>
            </ul>
</li>
          <li id="section-4.1-4.3">
            <p id="section-4.1-4.3.1">
The candidate SFC pseudo controllers respond to the SFC controller, including the following information:<a href="#section-4.1-4.3.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.1-4.3.2.1">
The service ID, identifying the specific service.<a href="#section-4.1-4.3.2.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-4.1-4.3.2.2">
An ID, identifying the SFC pseudo controller instance.<a href="#section-4.1-4.3.2.2" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-4.1-4.3.2.3">
A preference value for the candidate node to play the role of active pseudo
controller. This preference is represented with an integer that indicates the
willingness of the candidate node to become an "active" SFC pseudo-controller
for the running service. This preference is locally selected by the node based
on the specifics of the service. Note that the nodes have all the information
about the service (contained in the NSD) and its monitoring (the nodes also have
the OAMD, which specifies which aspects need to be monitored, at both service
and resource level). Each node decides the local preference value based on this
service information, as well as its own capabilities (e.g., whether it is
capable of performing the associated control and monitoring tasks and if it is
willing to assume the associated cost, for example in terms of energy
consumption -- if the node is battery-powered).<a href="#section-4.1-4.3.2.3" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-4.1-4.3.2.4">
A list of other known candidate SFC pseudo-controllers. A node might know this
based on local broadcasts from those candidate pseudo-controllers (advertising
its presence). This allows the SFC controller to discover if there are other
potential candidate pseudo-controllers available.<a href="#section-4.1-4.3.2.4" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-4.1-4.3.2.5">
A list of the supported security mechanisms.<a href="#section-4.1-4.3.2.5" class="pilcrow">¶</a>
</li>
            </ul>
</li>
          <li id="section-4.1-4.4">
With the information received from the candidate SFC pseudo controllers, the
(centralized) SFC controller decides which node becomes the selected SFC
pseudo-controller. The selection is based on the preference value indicated by
the candidate pseudo controllers. Note that multiple nodes could include the
same preference value, and in case of a tie, the SFC controller might use a
policy to select one, or simply use a tie-breaking rule (for example selecting
the one with a lowest/highest ID). In this example, A is selected to be the SFC
pseudo controller.<a href="#section-4.1-4.4" class="pilcrow">¶</a>
</li>
          <li id="section-4.1-4.5">
            <p id="section-4.1-4.5.1">
The SFC controller responds to the selected SFC pseudo controller with a message that includes:<a href="#section-4.1-4.5.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.1-4.5.2.1">
The service ID, identifying the specific service.<a href="#section-4.1-4.5.2.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-4.1-4.5.2.2">
The ID of the selected SFC pseudo controller instance.<a href="#section-4.1-4.5.2.2" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-4.1-4.5.2.3">
Security material. The centralized SFC controller and the SFC nodes have
pre-established security credentials, allowing the controller to perform the
required orchestration tasks (they have a secure signaling channel). Since this
security relationship does not exist between any pair of the nodes, the SFC
controller acts as a security "anchor", by providing the SFC pseudo controller
-- using the secure channel -- with security material allowing to securely
control all the nodes part of the SFC. One example of approach is to generate a
certificate, signed by the SFC controller, that can then be used by the SFC
pseudo controller. Other approaches are possible.<a href="#section-4.1-4.5.2.3" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-4.1-4.5.2.4">
Profiles of all involved nodes in the service. This includes information about
the resources of the involved nodes (plus additional also considered by the SFC
controller in case function migration is needed). Note that once a SFC pseudo
controller is selected, it could also query and request information about the
nodes that are part of the SFC. The information included in the profile of a
node may contain: Virtual machine specification, computation properties (RAM
size, disk size, memory page size, number of CPUs, number of cores per CPU,
number of threads per core), storage requirements, Scale out/scale in limits,
network and connectivity properties (number and type of interfaces), etc.<a href="#section-4.1-4.5.2.4" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-4.1-4.5.2.5">
The list of other candidate SFC pseudo-controllers. This allows local
synchronization among candidate pseudo controllers if needed.<a href="#section-4.1-4.5.2.5" class="pilcrow">¶</a>
</li>
            </ul>
</li>
        </ol>
<p id="section-4.1-5">
The new signaling messages described below can be implemented as either new
protocol messages, e.g., via REST API, or as extensions of either inband or
outband protocols. Examples of those include: NSH (for inband signaling among
SFC nodes), IPv6 (for outband via new extension headers). Details and examples
of signaling will be added in future revisions of this draft.<a href="#section-4.1-5" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="IANA">
<section id="section-5">
      <h2 id="name-iana-considerations">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-5-1">
N/A.<a href="#section-5-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="Security">
<section id="section-6">
      <h2 id="name-security-considerations">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-6-1">
TBD.<a href="#section-6-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="Acknowledgments">
<section id="section-7">
      <h2 id="name-acknowledgments">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-acknowledgments" class="section-name selfRef">Acknowledgments</a>
      </h2>
<p id="section-7-1">
The work in this draft has been developed under the framework of the H2020
5G-DIVE project (Grant 859881).<a href="#section-7-1" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-8">
      <h2 id="name-informative-references">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
      </h2>
<dl class="references">
<dt id="I-D.bernardos-sfc-fog-ran">[I-D.bernardos-sfc-fog-ran]</dt>
      <dd>
<span class="refAuthor">Bernardos, C. J.</span> and <span class="refAuthor">A. Mourad</span>, <span class="refTitle">"Service Function Chaining Use Cases in Fog RAN"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-bernardos-sfc-fog-ran-10</span>, <time datetime="2021-10-22" class="refDate">22 October 2021</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-bernardos-sfc-fog-ran-10.txt">https://www.ietf.org/archive/id/draft-bernardos-sfc-fog-ran-10.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7665">[RFC7665]</dt>
    <dd>
<span class="refAuthor">Halpern, J., Ed.</span> and <span class="refAuthor">C. Pignataro, Ed.</span>, <span class="refTitle">"Service Function Chaining (SFC) Architecture"</span>, <span class="seriesInfo">RFC 7665</span>, <span class="seriesInfo">DOI 10.17487/RFC7665</span>, <time datetime="2015-10" class="refDate">October 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7665">https://www.rfc-editor.org/info/rfc7665</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<div id="authors-addresses">
<section id="appendix-A">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Carlos J. Bernardos</span></div>
<div dir="auto" class="left"><span class="org">Universidad Carlos III de Madrid</span></div>
<div dir="auto" class="left"><span class="street-address">Av. Universidad, 30</span></div>
<div dir="auto" class="left">
<span class="postal-code">28911</span> <span class="locality">Leganes, Madrid</span> </div>
<div dir="auto" class="left"><span class="country-name">Spain</span></div>
<div class="tel">
<span>Phone:</span>
<a href="tel:+34%2091624%206236" class="tel">+34 91624 6236</a>
</div>
<div class="email">
<span>Email:</span>
<a href="mailto:cjbc@it.uc3m.es" class="email">cjbc@it.uc3m.es</a>
</div>
<div class="url">
<span>URI:</span>
<a href="http://www.it.uc3m.es/cjbc/" class="url">http://www.it.uc3m.es/cjbc/</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Alain Mourad</span></div>
<div dir="auto" class="left"><span class="org">InterDigital Europe</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:Alain.Mourad@InterDigital.com" class="email">Alain.Mourad@InterDigital.com</a>
</div>
<div class="url">
<span>URI:</span>
<a href="http://www.InterDigital.com/" class="url">http://www.InterDigital.com/</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
