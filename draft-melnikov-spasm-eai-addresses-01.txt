



Network Working Group                                   A. Melnikov, Ed.
Internet-Draft                                                 Isode Ltd
Intended status: Standards Track                          W. Chuang, Ed.
Expires: November 27, 2016                                  Google, Inc.
                                                            May 26, 2016


        Internationalized Email Addresses in X.509 certificates
                 draft-melnikov-spasm-eai-addresses-01

Abstract

   This document defines a new name form for inclusion in the otherName
   field of an X.509 Subject Alternative Name extension that allows a
   certificate subject to be associated with an Internationalized Email
   Address.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on November 27, 2016.

Copyright Notice

   Copyright (c) 2016 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.



Melnikov & Chuang       Expires November 27, 2016               [Page 1]

Internet-Draft  I18N Mail Addresses in X.509 certificates       May 2016


Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Conventions Used in This Document . . . . . . . . . . . . . .   2
   3.  Name Definitions  . . . . . . . . . . . . . . . . . . . . . .   2
   4.  Matching of Internationalized Email Addresses in X.509
       certificates  . . . . . . . . . . . . . . . . . . . . . . . .   3
   5.  Name constraints in path validation . . . . . . . . . . . . .   3
   6.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   4
   7.  Security Considerations . . . . . . . . . . . . . . . . . . .   4
   8.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   4
     8.1.  Normative References  . . . . . . . . . . . . . . . . . .   4
     8.2.  Informative References  . . . . . . . . . . . . . . . . .   4
   Appendix A.  Acknowledgements . . . . . . . . . . . . . . . . . .   5
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   5

1.  Introduction

   [RFC5280] defines rfc822Name subjectAltName choice for representing
   [RFC5322] email addresses.  This form is restricted to a subset of
   US-ASCII characters and thus can't be used to represent
   Internationalized Email addresses [RFC6531].

2.  Conventions Used in This Document

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [RFC2119].

   The formal syntax use the Augmented Backus-Naur Form (ABNF) [RFC5234]
   notation.

3.  Name Definitions

   This section defines the eaiName name as a form of otherName from the
   GeneralName structure in SubjectAltName defined in [RFC5280].

   id-on-eaiAddr OBJECT IDENTIFIER ::= { id-on XXX }

   eaiName ::= UTF8String (SIZE (1..MAX))

   When the subjectAltName extension contains an Internationalized Email
   address, the address MUST be stored in the eaiName name form of
   otherName.  The format of eaiName is a eaiMailbox, and this is a
   modified version of the internationalized Mailbox which is defined in
   Section 3.3 of [RFC6531] which is itself derived from SMTP Mailbox
   from Section 4.1.2 of [RFC5321].  [RFC6531] defines the following
   ABNF rules for Mailbox whose parts are modified for



Melnikov & Chuang       Expires November 27, 2016               [Page 2]

Internet-Draft  I18N Mail Addresses in X.509 certificates       May 2016


   internationalization: <Local-part>, <Dot-string>, <Quoted-string>,
   <QcontentSMTP>, <Domain>, and <Atom>.  In particular <Local-part> is
   updated to also support UTF8-non-ascii.  UTF8-non-ascii is described
   by Section 3.1 of [RFC6532].

   This document refines [RFC6531] Mailbox ABNF rules for eaiMailbox.
   In eaiMailbox, Domain is restricted to a single format, the ASCII
   Compatible Encoding (ACE) format (as defined in [RFC5280]), which
   makes comparison simpler.  With eaiMailbox comparison there is no
   need to check for an alternate IDNA Domain form, nor convert from
   IDNA to ACE format.  Note that a eaiMailbox has no phrase (such as a
   common name) before it, has no comment (text surrounded in
   parentheses) after it, and is not surrounded by "<" and ">".

4.  Matching of Internationalized Email Addresses in X.509 certificates

   Comparison of two eaiName is straightforward.  No setup work is
   needed and it can be an octet for octet comparison.  Comparison of
   other email address forms such as Internationalized email address or
   rfc822Name may require additional setup to normalize the format for
   comparison.  The <Local-part> part of an Internationalized email
   address is in UTF-8, and the rfc822Name local-part MUST be converted
   to UTF-8.  The <Domain> for either International email address or
   rfc822Name can contain either IDNA domain or an ASCII Compatible
   Encoding (ACE) format.  When comparing against eaiName, the <Domain>s
   MUST be converted to the ACE form as described in section 7.2 of
   [RFC5280] in UTF-8.

5.  Name constraints in path validation

   This section defines use of eaiName name for name constraints.  The
   format for eaiName in name constraints is identical to the use in
   subjectAltName as specified in Section 3.

   Constraint comparisons specified with eaiName name are only done on
   the subjectAltName eaiName name, and says nothing more about
   constaints on other email address forms.  Constraint comparison on
   complete email address with eaiName name uses the matching procedure
   defined by Section 4.  As with rfc822Name name constraints as
   specified in Section 4.2.1.10 of [RFC5280], eaiName name can specify
   a particular mailbox, all addresses at a host, or all mailboxes in a
   domain by specifying the complete email address, a host name, or a
   domain.








Melnikov & Chuang       Expires November 27, 2016               [Page 3]

Internet-Draft  I18N Mail Addresses in X.509 certificates       May 2016


6.  IANA Considerations

   [[CREF1: Just need a new OID.]]

7.  Security Considerations

8.  References

8.1.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <http://www.rfc-editor.org/info/rfc2119>.

   [RFC3629]  Yergeau, F., "UTF-8, a transformation format of ISO
              10646", STD 63, RFC 3629, DOI 10.17487/RFC3629, November
              2003, <http://www.rfc-editor.org/info/rfc3629>.

   [RFC5234]  Crocker, D., Ed. and P. Overell, "Augmented BNF for Syntax
              Specifications: ABNF", STD 68, RFC 5234,
              DOI 10.17487/RFC5234, January 2008,
              <http://www.rfc-editor.org/info/rfc5234>.

   [RFC5280]  Cooper, D., Santesson, S., Farrell, S., Boeyen, S.,
              Housley, R., and W. Polk, "Internet X.509 Public Key
              Infrastructure Certificate and Certificate Revocation List
              (CRL) Profile", RFC 5280, DOI 10.17487/RFC5280, May 2008,
              <http://www.rfc-editor.org/info/rfc5280>.

   [RFC5321]  Klensin, J., "Simple Mail Transfer Protocol", RFC 5321,
              DOI 10.17487/RFC5321, October 2008,
              <http://www.rfc-editor.org/info/rfc5321>.

   [RFC6531]  Yao, J. and W. Mao, "SMTP Extension for Internationalized
              Email", RFC 6531, DOI 10.17487/RFC6531, February 2012,
              <http://www.rfc-editor.org/info/rfc6531>.

8.2.  Informative References

   [RFC5322]  Resnick, P., Ed., "Internet Message Format", RFC 5322,
              DOI 10.17487/RFC5322, October 2008,
              <http://www.rfc-editor.org/info/rfc5322>.

   [RFC6532]  Yang, A., Steele, S., and N. Freed, "Internationalized
              Email Headers", RFC 6532, DOI 10.17487/RFC6532, February
              2012, <http://www.rfc-editor.org/info/rfc6532>.




Melnikov & Chuang       Expires November 27, 2016               [Page 4]

Internet-Draft  I18N Mail Addresses in X.509 certificates       May 2016


Appendix A.  Acknowledgements

   Thank you to Magnus Nystrom for motivating this document.  Thanks to
   Nicolas Lidzborski, Laetitia Baudoin, and Ryan Sleevi for their early
   feedback.

Authors' Addresses

   Alexey Melnikov (editor)
   Isode Ltd
   14 Castle Mews
   Hampton, Middlesex  TW12 2NP
   UK

   Email: Alexey.Melnikov@isode.com


   Weihaw Chuang (editor)
   Google, Inc.
   1600 Amphitheatre Parkway
   Mountain View, CA  94043
   US

   Email: weihaw@google.com



























Melnikov & Chuang       Expires November 27, 2016               [Page 5]
