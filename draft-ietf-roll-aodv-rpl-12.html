<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Supporting Asymmetric Links in Low Power Networks: AODV-RPL</title>
<meta content="Charles E. Perkins" name="author">
<meta content="S.V.R Anand" name="author">
<meta content="Satish Anamalamudi" name="author">
<meta content="Bing Liu" name="author">
<meta content="
        Route discovery for symmetric and asymmetric Peer-to-Peer (P2P)
        traffic flows is a desirable feature in Low power and Lossy Networks
 (LLNs).  For that purpose, this document specifies a reactive P2P route
 discovery mechanism for both hop-by-hop routing and source routing: Ad
 Hoc On-demand Distance Vector Routing (AODV) based RPL protocol
 (AODV-RPL).  Paired Instances are used to construct directional paths,
 for cases where there are asymmetric links between source and target
 nodes.
       
    " name="description">
<meta content="xml2rfc 3.12.0" name="generator">
<meta content="AODV, Peer-to-Peer Route Discovery, Asymmetric" name="keyword">
<meta content="draft-ietf-roll-aodv-rpl-12" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.12.0
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.7.1
    pycountry 22.1.10
    pyflakes 2.4.0
    PyYAML 6.0
    requests 2.27.1
    setuptools 59.6.0
    six 1.16.0
    WeasyPrint 52.5
-->
<link href="/tmp/draft-ietf-roll-aodv-rpl-12-79pk6z15.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">AODV-RPL</td>
<td class="right">January 2022</td>
</tr></thead>
<tfoot><tr>
<td class="left">Perkins, et al.</td>
<td class="center">Expires 3 August 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">ROLL</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-ietf-roll-aodv-rpl-12</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2022-01-30" class="published">30 January 2022</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-08-03">3 August 2022</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">C.E. Perkins</div>
<div class="org">Lupin Lodge</div>
</div>
<div class="author">
      <div class="author-name">S.V.R.Anand</div>
<div class="org">Indian Institute of Science</div>
</div>
<div class="author">
      <div class="author-name">S. Anamalamudi</div>
<div class="org">SRM University-AP</div>
</div>
<div class="author">
      <div class="author-name">B. Liu</div>
<div class="org">Huawei Technologies</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Supporting Asymmetric Links in Low Power Networks: AODV-RPL</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1"> Route discovery for symmetric and asymmetric Peer-to-Peer (P2P)
        traffic flows is a desirable feature in Low power and Lossy Networks
 (LLNs).  For that purpose, this document specifies a reactive P2P route
 discovery mechanism for both hop-by-hop routing and source routing: Ad
 Hoc On-demand Distance Vector Routing (AODV) based RPL protocol
 (AODV-RPL).  Paired Instances are used to construct directional paths,
 for cases where there are asymmetric links between source and target
 nodes.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 3 August 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2022 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-terminology" class="xref">Terminology</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1" class="keepWithNext"><a href="#section-3" class="xref">3</a>.  <a href="#name-overview-of-aodv-rpl" class="xref">Overview of AODV-RPL</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-aodv-rpl-dio-options" class="xref">AODV-RPL DIO Options</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-aodv-rpl-rreq-option" class="xref">AODV-RPL RREQ Option</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-aodv-rpl-rrep-option" class="xref">AODV-RPL RREP Option</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="xref">4.3</a>.  <a href="#name-aodv-rpl-target-option" class="xref">AODV-RPL Target Option</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-symmetric-and-asymmetric-ro" class="xref">Symmetric and Asymmetric Routes</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-aodv-rpl-operation" class="xref">AODV-RPL Operation</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="xref">6.1</a>.  <a href="#name-route-request-generation" class="xref">Route Request Generation</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="xref">6.2</a>.  <a href="#name-receiving-and-forwarding-rr" class="xref">Receiving and Forwarding RREQ messages</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.1">
                    <p id="section-toc.1-1.6.2.2.2.1.1"><a href="#section-6.2.1" class="xref">6.2.1</a>.  <a href="#name-step-1-rreq-reception-and-e" class="xref">Step 1: RREQ reception and evaluation</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.2">
                    <p id="section-toc.1-1.6.2.2.2.2.1"><a href="#section-6.2.2" class="xref">6.2.2</a>.  <a href="#name-step-2-targnode-and-interme" class="xref">Step 2: TargNode and Intermediate Router determination</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.3">
                    <p id="section-toc.1-1.6.2.2.2.3.1"><a href="#section-6.2.3" class="xref">6.2.3</a>.  <a href="#name-step-3-intermediate-router-" class="xref">Step 3: Intermediate Router RREQ processing</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.4">
                    <p id="section-toc.1-1.6.2.2.2.4.1"><a href="#section-6.2.4" class="xref">6.2.4</a>.  <a href="#name-step-4-symmetric-route-proc" class="xref">Step 4: Symmetric Route Processing at an Intermediate Router</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.5">
                    <p id="section-toc.1-1.6.2.2.2.5.1"><a href="#section-6.2.5" class="xref">6.2.5</a>.  <a href="#name-step-5-rreq-propagation-at-" class="xref">Step 5: RREQ propagation at an Intermediate Router</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.6">
                    <p id="section-toc.1-1.6.2.2.2.6.1"><a href="#section-6.2.6" class="xref">6.2.6</a>.  <a href="#name-step-6-rreq-reception-at-ta" class="xref">Step 6: RREQ reception at TargNode</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a href="#section-6.3" class="xref">6.3</a>.  <a href="#name-generating-route-reply-rrep" class="xref">Generating Route Reply (RREP) at TargNode</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3.2.1">
                    <p id="section-toc.1-1.6.2.3.2.1.1"><a href="#section-6.3.1" class="xref">6.3.1</a>.  <a href="#name-rrep-dio-for-symmetric-rout" class="xref">RREP-DIO for Symmetric route</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3.2.2">
                    <p id="section-toc.1-1.6.2.3.2.2.1"><a href="#section-6.3.2" class="xref">6.3.2</a>.  <a href="#name-rrep-dio-for-asymmetric-rou" class="xref">RREP-DIO for Asymmetric Route</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3.2.3">
                    <p id="section-toc.1-1.6.2.3.2.3.1"><a href="#section-6.3.3" class="xref">6.3.3</a>.  <a href="#name-rplinstanceid-pairing" class="xref">RPLInstanceID Pairing</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.4">
                <p id="section-toc.1-1.6.2.4.1"><a href="#section-6.4" class="xref">6.4</a>.  <a href="#name-receiving-and-forwarding-ro" class="xref">Receiving and Forwarding Route Reply</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.4.2.1">
                    <p id="section-toc.1-1.6.2.4.2.1.1"><a href="#section-6.4.1" class="xref">6.4.1</a>.  <a href="#name-step-1-receiving-and-evalua" class="xref">Step 1: Receiving and Evaluation</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.4.2.2">
                    <p id="section-toc.1-1.6.2.4.2.2.1"><a href="#section-6.4.2" class="xref">6.4.2</a>.  <a href="#name-step-2-orignode-or-intermed" class="xref">Step 2: OrigNode or Intermediate Router</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.4.2.3">
                    <p id="section-toc.1-1.6.2.4.2.3.1"><a href="#section-6.4.3" class="xref">6.4.3</a>.  <a href="#name-step-3-build-route-to-targn" class="xref">Step 3: Build Route to TargNode</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.4.2.4">
                    <p id="section-toc.1-1.6.2.4.2.4.1"><a href="#section-6.4.4" class="xref">6.4.4</a>.  <a href="#name-step-4-rrep-propagation" class="xref">Step 4: RREP Propagation</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-gratuitous-rrep" class="xref">Gratuitous RREP</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-operation-of-trickle-timer" class="xref">Operation of Trickle Timer</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="xref">11</a>. <a href="#name-acknowledgements" class="xref">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-12" class="xref">12</a>. <a href="#name-references" class="xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.1">
                <p id="section-toc.1-1.12.2.1.1"><a href="#section-12.1" class="xref">12.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.2">
                <p id="section-toc.1-1.12.2.2.1"><a href="#section-12.2" class="xref">12.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#appendix-A" class="xref">Appendix A</a>.  <a href="#name-example-using-etx-rssi-valu" class="xref">Example: Using ETX/RSSI Values to determine value of S bit</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#appendix-B" class="xref">Appendix B</a>.  <a href="#name-changelog" class="xref">Changelog</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.1">
                <p id="section-toc.1-1.14.2.1.1"><a href="#appendix-B.1" class="xref">B.1</a>.  <a href="#name-changes-from-version-11-to-" class="xref">Changes from version 11 to version 12</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.2">
                <p id="section-toc.1-1.14.2.2.1"><a href="#appendix-B.2" class="xref">B.2</a>.  <a href="#name-changes-from-version-10-to-" class="xref">Changes from version 10 to version 11</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.3">
                <p id="section-toc.1-1.14.2.3.1"><a href="#appendix-B.3" class="xref">B.3</a>.  <a href="#name-changes-from-version-09-to-" class="xref">Changes from version 09 to version 10</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.4">
                <p id="section-toc.1-1.14.2.4.1"><a href="#appendix-B.4" class="xref">B.4</a>.  <a href="#name-changes-from-version-08-to-" class="xref">Changes from version 08 to version 09</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.5">
                <p id="section-toc.1-1.14.2.5.1"><a href="#appendix-B.5" class="xref">B.5</a>.  <a href="#name-changes-from-version-07-to-" class="xref">Changes from version 07 to version 08</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.6">
                <p id="section-toc.1-1.14.2.6.1"><a href="#appendix-B.6" class="xref">B.6</a>.  <a href="#name-changes-from-version-06-to-" class="xref">Changes from version 06 to version 07</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.7">
                <p id="section-toc.1-1.14.2.7.1"><a href="#appendix-B.7" class="xref">B.7</a>.  <a href="#name-changes-from-version-05-to-" class="xref">Changes from version 05 to version 06</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.8">
                <p id="section-toc.1-1.14.2.8.1"><a href="#appendix-B.8" class="xref">B.8</a>.  <a href="#name-changes-from-version-04-to-" class="xref">Changes from version 04 to version 05</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.9">
                <p id="section-toc.1-1.14.2.9.1"><a href="#appendix-B.9" class="xref">B.9</a>.  <a href="#name-changes-from-version-03-to-" class="xref">Changes from version 03 to version 04</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.10">
                <p id="section-toc.1-1.14.2.10.1"><a href="#appendix-B.10" class="xref">B.10</a>. <a href="#name-changes-from-version-02-to-" class="xref">Changes from version 02 to version 03</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1"><a href="#appendix-C" class="xref">Appendix C</a>.  <a href="#name-contributors" class="xref">Contributors</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16">
            <p id="section-toc.1-1.16.1"><a href="#appendix-D" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="Introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">
 Routing Protocol for Low-Power and Lossy Networks (RPL)
 <span>[<a href="#RFC6550" class="xref">RFC6550</a>]</span> is an IPv6 distance vector routing protocol
 designed to support
 multiple traffic flows through a root-based Destination-Oriented
 Directed Acyclic Graph (DODAG). Typically, a router does not have
 routing information for most other routers.  Consequently, for traffic
 between routers within the DODAG (i.e., Peer-to-Peer (P2P) traffic)
 data packets either have to traverse the root in non-storing mode, or
 traverse a common ancestor in storing mode.  Such P2P traffic
 is thereby likely to traverse longer routes and
 may suffer severe congestion near the root (for more information
 see <span>[<a href="#RFC6997" class="xref">RFC6997</a>]</span>, <span>[<a href="#RFC6998" class="xref">RFC6998</a>]</span>).
 The network environment that is considered in this document
 is assumed to be the same as described in Section 1 of
 <span>[<a href="#RFC6550" class="xref">RFC6550</a>]</span>.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">
 The route discovery process in AODV-RPL is modeled on the analogous
 procedure specified in AODV <span>[<a href="#RFC3561" class="xref">RFC3561</a>]</span>.
 The on-demand nature of AODV route discovery is natural for the needs
 of peer-to-peer routing in RPL-based LLNs.  AODV
 terminology has been adapted for use with AODV-RPL messages,
 namely RREQ for Route Request, and RREP for Route Reply.  AODV-RPL
 currently omits some features compared to AODV -- in particular,
 flagging Route Errors, "blacklisting" unidirectional links
 (<span>[<a href="#RFC3561" class="xref">RFC3561</a>]</span>), multihoming, and handling unnumbered
 interfaces.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">
 AODV-RPL reuses and extends the core RPL
 functionality to support routes with bidirectional asymmetric links.
 It retains RPL's DODAG formation, RPL Instance and the associated
 Objective Function (defined in <span>[<a href="#RFC6551" class="xref">RFC6551</a>]</span>), trickle
 timers, and support for storing and non-storing modes.  AODV-RPL adds
 basic messages RREQ and RREP as part of RPL DODAG Information
 Object (DIO) control message, which go in separate (paired) RPL
 instances.  AODV-RPL does not utilize the Destination
 Advertisement Object (DAO) control message of RPL.

 AODV-RPL uses the "P2P Route Discovery Mode of Operation" (MOP == 4)
 with three new Options for the DIO message, dedicated to discover P2P
 routes. These P2P routes may differ from routes discoverable by native
 RPL.  Since AODV-RPL uses newly defined Options, there is no conflict
 with P2P-RPL <span>[<a href="#RFC6997" class="xref">RFC6997</a>]</span>, a previous document using the
 same MOP.  AODV-RPL can be operated whether or not native RPL
 is running otherwise.<a href="#section-1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="terms">
<section id="section-2">
      <h2 id="name-terminology">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
      </h2>
<p id="section-2-1"> The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL
 NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED",
 "MAY", and "OPTIONAL" in this document are to be interpreted as
 described in BCP 14 <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span>
 when, and only when, they appear in all capitals, as shown here.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2">
 AODV-RPL reuses names for messages and data structures, including
 Rank, DODAG and DODAGID, as defined in RPL <span>[<a href="#RFC6550" class="xref">RFC6550</a>]</span>.<a href="#section-2-2" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-2-3">
        <dt id="section-2-3.1">AODV</dt>
        <dd style="margin-left: 1.5em" id="section-2-3.2">
        Ad Hoc On-demand Distance Vector Routing<span>[<a href="#RFC3561" class="xref">RFC3561</a>]</span>.<a href="#section-2-3.2" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd><dt id="section-2-3.3">Asymmetric Route</dt>
        <dd style="margin-left: 1.5em" id="section-2-3.4">
        The route from the OrigNode to the TargNode can traverse different
 nodes than the route from the TargNode to the OrigNode. An asymmetric
 route may result from the asymmetry of links, such that only one
 direction of the series of links satisfies the Objective Function
 during route discovery.<a href="#section-2-3.4" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-3.5">Bi-directional Asymmetric Link</dt>
        <dd style="margin-left: 1.5em" id="section-2-3.6">
 A link that can be used in both directions but with different link
 characteristics.<a href="#section-2-3.6" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-3.7">DIO</dt>
        <dd style="margin-left: 1.5em" id="section-2-3.8">
 DODAG Information Object<a href="#section-2-3.8" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd><dt id="section-2-3.9">DODAG RREQ-Instance (or simply RREQ-Instance)</dt>
        <dd style="margin-left: 1.5em" id="section-2-3.10">
 RPL Instance built using the DIO with RREQ option; used for control
 message transmission from OrigNode to TargNode, thus enabling data
 transmission from TargNode to OrigNode.<a href="#section-2-3.10" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-3.11">DODAG RREP-Instance (or simply RREP-Instance)</dt>
        <dd style="margin-left: 1.5em" id="section-2-3.12">
 RPL Instance built using the DIO with RREP option; used for control
 message transmission from TargNode to OrigNode thus enabling data
 transmission from OrigNode to TargNode.<a href="#section-2-3.12" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-3.13">Downward Direction</dt>
        <dd style="margin-left: 1.5em" id="section-2-3.14">
 The direction from the OrigNode to the TargNode.<a href="#section-2-3.14" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-3.15">Downward Route</dt>
        <dd style="margin-left: 1.5em" id="section-2-3.16">
 A route in the downward direction.<a href="#section-2-3.16" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-3.17">hop-by-hop routing</dt>
        <dd style="margin-left: 1.5em" id="section-2-3.18">
 Routing when each router stores routing information
 about the next hop.<a href="#section-2-3.18" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-3.19">on-demand routing</dt>
        <dd style="margin-left: 1.5em" id="section-2-3.20">
 Routing in which a route is established only when needed.<a href="#section-2-3.20" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-3.21">OrigNode</dt>
        <dd style="margin-left: 1.5em" id="section-2-3.22">
        The IPv6 router (Originating Node) initiating the AODV-RPL
        route discovery to obtain a route to TargNode.<a href="#section-2-3.22" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-3.23">Paired DODAGs</dt>
        <dd style="margin-left: 1.5em" id="section-2-3.24">
 Two DODAGs for a single route discovery process between OrigNode
 and TargNode.<a href="#section-2-3.24" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-3.25">P2P</dt>
        <dd style="margin-left: 1.5em" id="section-2-3.26">
 Peer-to-Peer -- in other words, not constrained a priori to
 traverse a common ancestor.<a href="#section-2-3.26" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-3.27">reactive routing</dt>
        <dd style="margin-left: 1.5em" id="section-2-3.28">
 Same as "on-demand" routing.<a href="#section-2-3.28" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-3.29">RREQ-DIO message</dt>
        <dd style="margin-left: 1.5em" id="section-2-3.30">
 A DIO message containing the RREQ option. The
 RPLInstanceID in RREQ-DIO is assigned locally by the OrigNode.
 The RREQ-DIO message has a secure variant as noted in <span>[<a href="#RFC6550" class="xref">RFC6550</a>]</span>.<a href="#section-2-3.30" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-3.31">RREP-DIO message</dt>
        <dd style="margin-left: 1.5em" id="section-2-3.32">
 A DIO message containing the RREP option.
 OrigNode pairs the  RPLInstanceID in RREP-DIO to the one in the
 associated RREQ-DIO message as described in
 <a href="#asymmetricrrep" class="xref">Section 6.3.2</a>.  The RREP-DIO message has a secure
 variant as noted in <span>[<a href="#RFC6550" class="xref">RFC6550</a>]</span>.<a href="#section-2-3.32" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-3.33">Source routing</dt>
        <dd style="margin-left: 1.5em" id="section-2-3.34">
 A mechanism by which the source supplies the complete route
 towards the target node along with each data packet
 <span>[<a href="#RFC6550" class="xref">RFC6550</a>]</span>.<a href="#section-2-3.34" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-3.35">Symmetric route</dt>
        <dd style="margin-left: 1.5em" id="section-2-3.36">
 The upstream and downstream routes traverse the same routers and over
 the same links.<a href="#section-2-3.36" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd><dt id="section-2-3.37">TargNode</dt>
        <dd style="margin-left: 1.5em" id="section-2-3.38">
 The IPv6 router (Target Node) for which OrigNode requires a
 route and initiates Route Discovery within the LLN network.<a href="#section-2-3.38" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-3.39">Upward Direction</dt>
        <dd style="margin-left: 1.5em" id="section-2-3.40">
 The direction from the TargNode to the OrigNode.<a href="#section-2-3.40" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-3.41">Upward Route</dt>
        <dd style="margin-left: 1.5em" id="section-2-3.42">
 A route in the upward direction.<a href="#section-2-3.42" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-3.43">ART option</dt>
        <dd style="margin-left: 1.5em" id="section-2-3.44">
 AODV-RPL Target option: a target option defined in this document.<a href="#section-2-3.44" class="pilcrow">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
</section>
</div>
<section id="section-3">
      <h2 id="name-overview-of-aodv-rpl">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-overview-of-aodv-rpl" class="section-name selfRef">Overview of AODV-RPL</a>
      </h2>
<p id="section-3-1"> With AODV-RPL, routes from OrigNode to TargNode within the LLN
 network are established "on-demand".  In other words, the route
 discovery mechanism in AODV-RPL is invoked reactively when OrigNode
 has data for delivery to the TargNode but existing routes do not
 satisfy the application's requirements.  AODV-RPL works
 without requiring the use of RPL or any other routing protocol.<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">
 The routes discovered by
 AODV-RPL are not constrained to traverse a common ancestor.
 AODV-RPL can enable asymmetric communication paths in networks with
 bidirectional asymmetric links. For this purpose, AODV-RPL enables
 discovery of two routes: namely, one from OrigNode to TargNode, and
 another from TargNode to OrigNode.  AODV-RPL also
 enables discovery of symmetric routes along Paired DODAGs, when
 symmetric routes are possible (see <a href="#channel" class="xref">Section 5</a>).<a href="#section-3-2" class="pilcrow">¶</a></p>
<p id="section-3-3">
 In AODV-RPL, routes are discovered by first forming a temporary DAG
 rooted at the OrigNode.  Paired DODAGs (Instances) are constructed
 during route
 formation between the OrigNode and TargNode.
 The RREQ-Instance is formed by route control messages from OrigNode to
 TargNode whereas the RREP-Instance is formed by route control messages
 from TargNode to OrigNode.  Intermediate routers join the DODAGs
 based on the Rank <span>[<a href="#RFC6550" class="xref">RFC6550</a>]</span> as calculated from the DIO
 message. Henceforth in
 this document, "RREQ-DIO message" means the DIO message
 from OrigNode to TargNode, containing the RREQ option as specified in
 <a href="#RREQmsg" class="xref">Section 4.1</a>.  Similarly, "RREP-DIO message" means the
 DIO message from TargNode to OrigNode, containing the RREP option as
 specified in <a href="#RREPmsg" class="xref">Section 4.2</a>.  The route discovered in
 the RREQ-Instance is used for transmitting data from TargNode to
 OrigNode, and the route discovered in RREP-Instance is used for
 transmitting data from OrigNode to TargNode.<a href="#section-3-3" class="pilcrow">¶</a></p>
</section>
<div id="Options">
<section id="section-4">
      <h2 id="name-aodv-rpl-dio-options">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-aodv-rpl-dio-options" class="section-name selfRef">AODV-RPL DIO Options</a>
      </h2>
<div id="RREQmsg">
<section id="section-4.1">
        <h3 id="name-aodv-rpl-rreq-option">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-aodv-rpl-rreq-option" class="section-name selfRef">AODV-RPL RREQ Option</a>
        </h3>
<p id="section-4.1-1">
 OrigNode selects one of its IPv6 addresses and sets it in the DODAGID

 field of the RREQ-DIO message.  Exactly one RREQ option MUST be present
 in a RREQ-DIO message, otherwise the message MUST be dropped.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<span id="name-format-for-aodv-rpl-rreq-op"></span><div id="figRREQ">
<figure id="figure-1">
          <div class="alignCenter art-text artwork" id="section-4.1-2.1">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  Option Type  | Option Length |S|H|X| Compr | L |   MaxRank   |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  Orig SeqNo   |                                               |
+-+-+-+-+-+-+-+-+                                               |
|                                                               |
|                                                               |
|           Address Vector (Optional, Variable Length)          |
|                                                               |
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-format-for-aodv-rpl-rreq-op" class="selfRef">Format for AODV-RPL RREQ Option</a>
          </figcaption></figure>
</div>
<p id="section-4.1-3">
    OrigNode supplies the following information in the RREQ option:<a href="#section-4.1-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-4.1-4">
          <dt id="section-4.1-4.1">Option Type</dt>
          <dd style="margin-left: 1.5em" id="section-4.1-4.2">
 TBD2<a href="#section-4.1-4.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.1-4.3">Option Length</dt>
          <dd style="margin-left: 1.5em" id="section-4.1-4.4">
 The length of the option in octets, excluding the Type and Length
 fields. Variable due to the presence of the address vector and the
 number of octets elided according to the Compr value.<a href="#section-4.1-4.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.1-4.5">S</dt>
          <dd style="margin-left: 1.5em" id="section-4.1-4.6">
 Symmetric bit indicating a symmetric route from the OrigNode to the
 router transmitting this RREQ-DIO. See <a href="#channel" class="xref">Section 5</a>.<a href="#section-4.1-4.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.1-4.7">H</dt>
          <dd style="margin-left: 1.5em" id="section-4.1-4.8">
 Set to one for a hop-by-hop route.  Set to zero for a source route.
 This flag controls both the downstream route and upstream route.<a href="#section-4.1-4.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.1-4.9">X</dt>
          <dd style="margin-left: 1.5em" id="section-4.1-4.10">
 Reserved; MUST be initialized to zero and
 ignored upon reception.<a href="#section-4.1-4.10" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.1-4.11">Compr</dt>
          <dd style="margin-left: 1.5em" id="section-4.1-4.12">
 4-bit unsigned integer. When Compr is nonzero, exactly that number of
 prefix octets MUST be elided from each address before storing it in
        the Address Vector. The octets elided are shared with the IPv6 address
 in the DODAGID. This field is only used in source routing mode (H=0).
 In hop-by-hop mode (H=1), this field MUST be set to zero and ignored
 upon reception.<a href="#section-4.1-4.12" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd><dt id="section-4.1-4.13">L</dt>
          <dd style="margin-left: 1.5em" id="section-4.1-4.14">
            <p id="section-4.1-4.14.1">
 2-bit unsigned integer determining the length of time that a node
 is able to belong to the RREQ-Instance (a temporary DAG including the
 OrigNode and the TargNode).  Once the time is reached, a node MUST
 leave the RREQ-Instance and stop sending or receiving any more DIOs
 for the RREQ-Instance.  This naturally depends on the node's ability
 to keep track of the time.
 
 L is independent from the route lifetime, which is defined in the
 DODAG configuration option.<a href="#section-4.1-4.14.1" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-4.1-4.14.2.1">0x00: No time limit imposed.<a href="#section-4.1-4.14.2.1" class="pilcrow">¶</a>
</li>
              <li class="compact" id="section-4.1-4.14.2.2">0x01: 16 seconds<a href="#section-4.1-4.14.2.2" class="pilcrow">¶</a>
</li>
              <li class="compact" id="section-4.1-4.14.2.3">0x02: 64 seconds<a href="#section-4.1-4.14.2.3" class="pilcrow">¶</a>
</li>
              <li class="compact" id="section-4.1-4.14.2.4">0x03: 256 seconds<a href="#section-4.1-4.14.2.4" class="pilcrow">¶</a>
</li>
            </ul>
<p id="section-4.1-4.14.3"></p>
</dd>
          <dd class="break"></dd>
<dt id="section-4.1-4.15">MaxRank</dt>
          <dd style="margin-left: 1.5em" id="section-4.1-4.16">
 This field indicates the upper limit on the integer portion of the
 Rank (calculated using the DAGRank() macro defined in
 <span>[<a href="#RFC6550" class="xref">RFC6550</a>]</span>).  A value of 0 in this field
 indicates the limit is infinity.<a href="#section-4.1-4.16" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.1-4.17">Orig SeqNo</dt>
          <dd style="margin-left: 1.5em" id="section-4.1-4.18">
 Sequence Number of OrigNode. See <a href="#rreq" class="xref">Section 6.1</a>.<a href="#section-4.1-4.18" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.1-4.19">Address Vector</dt>
          <dd style="margin-left: 1.5em" id="section-4.1-4.20">
 A vector of IPv6 addresses representing the route that the RREQ-DIO
 has passed. It is only present when the H bit is set to 0.
 The prefix of each address is elided according to the Compr field.<a href="#section-4.1-4.20" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-4.1-5"> TargNode can join the RREQ instance at a Rank whose integer portion is
 less than or equal to the MaxRank.  Other nodes MUST NOT join a RREQ
 instance if its own Rank would be equal to or higher than MaxRank.
 A router MUST discard a received RREQ if the integer part of the
 advertised Rank equals or exceeds the MaxRank limit.<a href="#section-4.1-5" class="pilcrow">¶</a></p>
<p id="section-4.1-6"></p>
</section>
</div>
<div id="RREPmsg">
<section id="section-4.2">
        <h3 id="name-aodv-rpl-rrep-option">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-aodv-rpl-rrep-option" class="section-name selfRef">AODV-RPL RREP Option</a>
        </h3>
<p id="section-4.2-1">
 TargNode sets one of its IPv6 addresses in the DODAGID

 field of the RREP-DIO message.  Exactly one RREP option MUST be present
 in a RREP-DIO message, otherwise the message MUST be dropped.
 TargNode supplies the following information in the RREP option:<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<span id="name-format-for-aodv-rpl-rrep-op"></span><div id="figRREP">
<figure id="figure-2">
          <div class="alignCenter art-text artwork" id="section-4.2-2.1">
<pre>
     0                   1                   2                   3
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |  Option Type  | Option Length |G|H|X| Compr | L |   MaxRank   |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |   Shift   |X X|                                               |
    +-+-+-+-+-+-+-+-+                                               |
    |                                                               |
    |                                                               |
    |           Address Vector (Optional, Variable Length)          |
    .                                                               .
    .                                                               .
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-format-for-aodv-rpl-rrep-op" class="selfRef">Format for AODV-RPL RREP option</a>
          </figcaption></figure>
</div>
<span class="break"></span><dl class="dlNewline" id="section-4.2-3">
          <dt id="section-4.2-3.1">Option Type</dt>
          <dd style="margin-left: 1.5em" id="section-4.2-3.2">
     TBD3<a href="#section-4.2-3.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.2-3.3">Option Length</dt>
          <dd style="margin-left: 1.5em" id="section-4.2-3.4">
     The length of the option in octets, excluding the Type and Length
     fields.  Variable due to the presence of the address vector and
     the number of octets elided according to the Compr value.<a href="#section-4.2-3.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.2-3.5">G</dt>
          <dd style="margin-left: 1.5em" id="section-4.2-3.6">
     Gratuitous route (see <a href="#GRREP" class="xref">Section 7</a>).<a href="#section-4.2-3.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.2-3.7">H</dt>
          <dd style="margin-left: 1.5em" id="section-4.2-3.8">
     The H bit in the RREP option MUST be set to be the same as the
     H bit in RREQ option.
     It requests either source routing (H=0) or hop-by-hop (H=1) for
     the downstream route.<a href="#section-4.2-3.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.2-3.9">X</dt>
          <dd style="margin-left: 1.5em" id="section-4.2-3.10">
     Reserved; MUST be initialized to zero and
 ignored upon reception.<a href="#section-4.2-3.10" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.2-3.11">Compr</dt>
          <dd style="margin-left: 1.5em" id="section-4.2-3.12">
     4-bit unsigned integer. Same definition as in RREQ option.<a href="#section-4.2-3.12" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.2-3.13">L</dt>
          <dd style="margin-left: 1.5em" id="section-4.2-3.14">
     2-bit unsigned integer defined as in RREQ option.  The
     lifetime of the RREP-Instance MUST be shorter than the lifetime of
     the RREQ-Instance to which it is paired.<a href="#section-4.2-3.14" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.2-3.15">MaxRank</dt>
          <dd style="margin-left: 1.5em" id="section-4.2-3.16">
     Similarly to MaxRank in the RREQ message, this field indicates the
     upper limit on the integer portion of the Rank.  A value
     of 0 in this field indicates the limit is infinity.<a href="#section-4.2-3.16" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd><dt id="section-4.2-3.17">Shift</dt>
          <dd style="margin-left: 1.5em" id="section-4.2-3.18">
     6-bit unsigned integer. This field is used to recover the
     original RPLInstanceID (see <a href="#instancepairing" class="xref">Section 6.3.3</a>);
     0 indicates that the original RPLInstanceID is used.<a href="#section-4.2-3.18" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.2-3.19">X X</dt>
          <dd style="margin-left: 1.5em" id="section-4.2-3.20">
     Reserved; MUST be initialized to zero and
 ignored upon reception.<a href="#section-4.2-3.20" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.2-3.21">Address Vector</dt>
          <dd style="margin-left: 1.5em" id="section-4.2-3.22">
     Only present when the H bit is set to 0.  For an asymmetric route,
     the Address Vector represents the IPv6 addresses of the path
     through the network the RREP-DIO has passed.  For a symmetric
     route, it is the Address Vector when the RREQ-DIO arrives at the
     TargNode, unchanged during the transmission to the OrigNode.<a href="#section-4.2-3.22" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="artop">
<section id="section-4.3">
        <h3 id="name-aodv-rpl-target-option">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-aodv-rpl-target-option" class="section-name selfRef">AODV-RPL Target Option</a>
        </h3>
<p id="section-4.3-1"> The AODV-RPL Target (ART) Option is based on the Target Option
 in core RPL <span>[<a href="#RFC6550" class="xref">RFC6550</a>]</span>.  The Flags field is replaced by
 the Destination Sequence Number of the TargNode and the Prefix
 Length field is reduced to 7 bits so that the value is limited to
 be no greater than 127.<a href="#section-4.3-1" class="pilcrow">¶</a></p>
<p id="section-4.3-2">
 A RREQ-DIO message MUST carry at least one ART Option.  A RREP-DIO
 message MUST carry exactly one ART Option. Otherwise, the message
 MUST be dropped.<a href="#section-4.3-2" class="pilcrow">¶</a></p>
<p id="section-4.3-3">
 OrigNode can include multiple TargNode addresses via multiple AODV-RPL
 Target Options in the RREQ-DIO, for routes that share the same
 requirement on metrics.  This reduces the cost to building only one
 DODAG.<a href="#section-4.3-3" class="pilcrow">¶</a></p>
<span id="name-art-option-format-for-aodv-"></span><div id="figTarg">
<figure id="figure-3">
          <div class="alignCenter art-text artwork" id="section-4.3-4.1">
<pre>
     0                   1                   2                   3
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |  Option Type  | Option Length |  Dest SeqNo   |X|Prefix Length|
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                                                               |
    +                                                               |
    |           Target Prefix / Address (Variable Length)           |
    .                                                               .
    .                                                               .
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-art-option-format-for-aodv-" class="selfRef">ART Option format for AODV-RPL</a>
          </figcaption></figure>
</div>
<span class="break"></span><dl class="dlNewline" id="section-4.3-5">
          <dt id="section-4.3-5.1">Option Type</dt>
          <dd style="margin-left: 1.5em" id="section-4.3-5.2">
     TBD4<a href="#section-4.3-5.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.3-5.3">Option Length</dt>
          <dd style="margin-left: 1.5em" id="section-4.3-5.4">
     Length of the option in octets excluding the
     Type and Length fields.<a href="#section-4.3-5.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.3-5.5">Dest SeqNo</dt>
          <dd style="margin-left: 1.5em" id="section-4.3-5.6"></dd>
          <dd class="break"></dd>
<dt id="section-4.3-5.7"></dt>
          <dd style="margin-left: 1.5em" id="section-4.3-5.8"> In RREQ-DIO, if nonzero, it is the Sequence Number for the last
     route that OrigNode stored to the TargNode for which a route is
     desired.  In RREP-DIO, it is the destination sequence number
     associated to the route.  Zero is used if there is no known
     information about the sequence number of TargNode, and not used
     otherwise.<a href="#section-4.3-5.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.3-5.9">X</dt>
          <dd style="margin-left: 1.5em" id="section-4.3-5.10">
     A one-bit reserved field.  This field MUST be initialized to zero
     by the sender and MUST be ignored by the receiver.<a href="#section-4.3-5.10" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.3-5.11">Prefix Length</dt>
          <dd style="margin-left: 1.5em" id="section-4.3-5.12">
     7-bit unsigned integer.  Number of valid leading bits
     in the IPv6 Prefix.  If Prefix Length is 0, then the value in the
     Target Prefix / Address field represents an IPv6 address, not
     a prefix.<a href="#section-4.3-5.12" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.3-5.13">Target Prefix / Address</dt>
          <dd style="margin-left: 1.5em" id="section-4.3-5.14">
     (variable-length field) An IPv6 destination address or prefix.
     The Prefix Length field contains the number of valid leading bits
     in the prefix.  The Target Prefix / Address field contains the
     least number of octets that can represent all of the bits of the
     Prefix, in other words Ceil(Prefix Length/8) octets.
     The initial bits in the Target Prefix / Address field
     preceding the prefix length (if any) MUST be set to zero on
     transmission and MUST be ignored on receipt.  If Prefix Length
     is zero, the Address field is 128 bits for IPv6 addresses.<a href="#section-4.3-5.14" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
<div id="channel">
<section id="section-5">
      <h2 id="name-symmetric-and-asymmetric-ro">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-symmetric-and-asymmetric-ro" class="section-name selfRef">Symmetric and Asymmetric Routes</a>
      </h2>
<p id="section-5-1">
 Links are considered symmetric until indication to the contrary is
 received.  In <a href="#figSymm-a" class="xref">Figure 4</a> and
 <a href="#figSymm-b" class="xref">Figure 5</a>, BR is the Border Router, O is the
 OrigNode, each R is an intermediate router, and T is the TargNode.
 If the RREQ-DIO arrives over an interface that
 is known to be symmetric, and the S bit is set to 1, then it remains
 as 1, as illustrated in <a href="#figSymm-a" class="xref">Figure 4</a>.  If an
 intermediate router sends out RREQ-DIO with the S bit set to 1, then
 each link en route from the OrigNode O to this router has met
 the requirements of route discovery, and the route can be used
 symmetrically.<a href="#section-5-1" class="pilcrow">¶</a></p>
<span id="name-aodv-rpl-with-symmetric-ins"></span><div id="figSymm-a">
<figure id="figure-4">
        <div class="alignCenter art-text artwork" id="section-5-2.1">
<pre>
                               BR
                           /----+----\
                         /      |      \
                       /        |         \
                      R         R           R
                   _/  \        |          /  \
                  /     \       |         /     \
                 /       \      |        /        \
               R -------- R --- R ----- R -------- R
             /  \   &lt;--S=1--&gt;  / \    &lt;--S=1--&gt;   /  \
      &lt;--S=1--&gt;  \            /   \             /   &lt;--S=1--&gt;
        /         \          /     \          /         \
      O ---------- R ------ R------ R ----- R ----------- T
     / \                   / \             / \           / \
    /   \                 /   \           /   \         /   \
   /     \               /     \         /     \       /     \
  R ----- R ----------- R ----- R ----- R ----- R ---- R----- R

    &gt;---- RREQ-Instance (Control: O--&gt;T;  Data: T--&gt;O) -------&gt;
    &lt;---- RREP-Instance (Control: T--&gt;O;  Data: O--&gt;T) -------&lt;</pre>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a>:
<a href="#name-aodv-rpl-with-symmetric-ins" class="selfRef">AODV-RPL with Symmetric Instances</a>
        </figcaption></figure>
</div>
<p id="section-5-3">
 Upon receiving a RREQ-DIO with the S bit set to 1, a node determines
 whether this link can be used symmetrically, i.e., both
 directions meet the requirements of data transmission.  If the RREQ-DIO
 arrives over an interface that is not known to be symmetric, or is
 known to be asymmetric, the S bit is set to 0.  If the S bit arrives
 already set to be '0', it is set to be '0' when the RREQ-DIO is
 propagated (<a href="#figSymm-b" class="xref">Figure 5</a>).  For an asymmetric route,
 there is at least one hop which doesn't satisfy the Objective Function.
 Based on the S bit received in RREQ-DIO, TargNode T
 determines whether or not the route is symmetric before transmitting
 the RREP-DIO message upstream towards the OrigNode O.<a href="#section-5-3" class="pilcrow">¶</a></p>
<p id="section-5-4">

 It is beyond the scope of this document to specify the criteria used
 when determining whether or not each link is symmetric.  As an
 example, intermediate routers
 can use local information (e.g., bit rate, bandwidth, number of cells
 used in 6tisch <span>[<a href="#RFC9030" class="xref">RFC9030</a>]</span>), a priori
 knowledge (e.g., link quality according to previous communication) or
 use averaging techniques as appropriate to the application.
     Other link metric information
     can be acquired before AODV-RPL operation, by executing evaluation
     procedures; for instance test traffic can be generated between
     nodes of the deployed network.  During AODV-RPL operation, OAM
     techniques for evaluating link state (see <span>[<a href="#RFC7548" class="xref">RFC7548</a>]</span>,
     <span>[<a href="#RFC7276" class="xref">RFC7276</a>]</span>, <span>[<a href="#co-ioam" class="xref">co-ioam</a>]</span>) MAY be used
     (at regular intervals appropriate for the LLN).
            The evaluation procedures are out of scope for AODV-RPL.<a href="#section-5-4" class="pilcrow">¶</a></p>
<p id="section-5-5">
 <a href="#appendix-a" class="xref">Appendix A</a> describes an example method using the
 upstream Expected Number of Transmissions (ETX) and downstream
 Received Signal Strength Indicator
 (RSSI) to estimate whether the link is symmetric in terms of link
 quality using an averaging technique.<a href="#section-5-5" class="pilcrow">¶</a></p>
<span id="name-aodv-rpl-with-asymmetric-pa"></span><div id="figSymm-b">
<figure id="figure-5">
        <div class="alignCenter art-text artwork" id="section-5-6.1">
<pre>
                                  BR
                              /----+----\
                            /      |      \
                          /        |        \
                        R          R          R
                      / \          |        /   \
                    /     \        |       /      \
                  /         \      |      /         \
                 R --------- R --- R ---- R --------- R
               /  \   --S=1--&gt;   / \    --S=0--&gt;   /   \
         --S=1--&gt;   \           /    \            /   --S=0--&gt;
          /          \        /       \         /         \
        O ---------- R ------ R------ R ----- R ----------- T
       / \                   / \             / \           / \
      /  &lt;--S=0--           /   \           /   \         / &lt;--S=0--
     /     \               /     \         /     \       /     \
    R ----- R ----------- R ----- R ----- R ----- R ---- R----- R
                &lt;--S=0--   &lt;--S=0-- &lt;--S=0-- &lt;--S=0--    &lt;--S=0--

    &gt;---- RREQ-Instance (Control: O--&gt;T;  Data: T--&gt;O) -------&gt;
    &lt;---- RREP-Instance (Control: T--&gt;O;  Data: O--&gt;T) -------&lt;</pre>
</div>
<figcaption><a href="#figure-5" class="selfRef">Figure 5</a>:
<a href="#name-aodv-rpl-with-asymmetric-pa" class="selfRef">AODV-RPL with Asymmetric Paired Instances</a>
        </figcaption></figure>
</div>
<p id="section-5-7">
 As illustrated in <a href="#figSymm-b" class="xref">Figure 5</a>, an intermediate
 router determines the S bit value that the RREQ-DIO should carry
 using link asymmetry detection methods as discussed earlier in
 this section.  In many cases the intermediate router has already
 made the link asymmetry decision by the time RREQ-DIO arrives.<a href="#section-5-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="aodvrplop">
<section id="section-6">
      <h2 id="name-aodv-rpl-operation">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-aodv-rpl-operation" class="section-name selfRef">AODV-RPL Operation</a>
      </h2>
<div id="rreq">
<section id="section-6.1">
        <h3 id="name-route-request-generation">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-route-request-generation" class="section-name selfRef">Route Request Generation</a>
        </h3>
<p id="section-6.1-1">
 The route discovery process is initiated when an application
 at the OrigNode has data to be transmitted to the TargNode, but does
 not have a route that satisfies the Objective Function for the target
 of the application's data. In this case, the OrigNode
 builds a local RPLInstance and a DODAG rooted at itself. Then it
 transmits a DIO message containing exactly one RREQ option (see
 <a href="#RREQmsg" class="xref">Section 4.1</a>) to multicast group all-RPL-nodes.  The DIO
 MUST contain at least one ART Option (see <a href="#artop" class="xref">Section 4.3</a>),
 which indicates the TargNode.

 The S bit in RREQ-DIO sent out by the OrigNode is set to 1.<a href="#section-6.1-1" class="pilcrow">¶</a></p>
<p id="section-6.1-2">
 Each node maintains a sequence number; the operation is specified in
 section 7.2 of <span>[<a href="#RFC6550" class="xref">RFC6550</a>]</span>.
 When the OrigNode initiates a
 route discovery process, it MUST increase its own sequence number to
 avoid conflicts with previously established routes.  The sequence
 number is carried in the Orig SeqNo field of the RREQ option.<a href="#section-6.1-2" class="pilcrow">¶</a></p>
<p id="section-6.1-3"> The address in the ART Option can be a unicast IPv6
 address or a prefix.  The OrigNode can initiate
 the route discovery process for multiple targets simultaneously by
 including multiple ART Options. Within a RREQ-DIO the Objective
 Function for the routes to different TargNodes MUST be the same.<a href="#section-6.1-3" class="pilcrow">¶</a></p>
<p id="section-6.1-4"> OrigNode can maintain different RPLInstances to discover routes with
 different requirements to the same targets. Using the RPLInstanceID
 pairing mechanism (see <a href="#instancepairing" class="xref">Section 6.3.3</a>), route replies
 (RREP-DIOs) for different RPLInstances can be generated.<a href="#section-6.1-4" class="pilcrow">¶</a></p>
<p id="section-6.1-5"> The transmission of RREQ-DIO obeys the Trickle timer
 <span>[<a href="#RFC6206" class="xref">RFC6206</a>]</span>.  If the length of time specified by the
 L field has elapsed, the OrigNode MUST leave
 the DODAG and stop sending RREQ-DIOs in the related RPLInstance.<a href="#section-6.1-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="process_rreq">
<section id="section-6.2">
        <h3 id="name-receiving-and-forwarding-rr">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-receiving-and-forwarding-rr" class="section-name selfRef">Receiving and Forwarding RREQ messages</a>
        </h3>
<div id="rreq_step1">
<section id="section-6.2.1">
          <h4 id="name-step-1-rreq-reception-and-e">
<a href="#section-6.2.1" class="section-number selfRef">6.2.1. </a><a href="#name-step-1-rreq-reception-and-e" class="section-name selfRef">Step 1: RREQ reception and evaluation</a>
          </h4>
<p id="section-6.2.1-1"> When a router X receives a RREQ message over a link from a
     neighbor Y, X determines whether or not the RREQ is valid.
     If so, then X determines whether the RREQ advertises a usable
     route to OrigNode, by checking whether the link to Y can be
     used to tramsmit packets to OrigNode.<a href="#section-6.2.1-1" class="pilcrow">¶</a></p>
<p id="section-6.2.1-2">
     When H=0 in the incoming RREQ, the router MUST drop the
     RREQ-DIO if one of its addresses is present in the Address Vector.
     When H=1 in the incoming RREQ, the router MUST drop the RREQ
     message if Orig SeqNo field of the RREQ is older than the SeqNo
     value that X has stored for a route to OrigNode.
     Otherwise, the router determines whether to propagate the RREQ-DIO.
     It does this by determining whether or not a route to OrigNode
     using the upstream direction of the incoming link satisfies the
     Objective Function (OF).  In order to evaluate the OF, the router
     first determines the maximum useful rank (MaxUseRank).  If the
     router has previously joined the RREQ-Instance associated with
     the RREQ-DIO, then MaxUseRank is set to be the Rank value that
     was stored when the router processed the best previous RREQ for
     the DODAG with the given RREQ-Instance.  Otherwise, MaxUseRank
     is set to be MaxRank.  If OF cannot be satisfied (i.e.,
     the Rank evaluates to a value greater than MaxUseRank)
     the RREQ-DIO MUST be dropped, and the following steps are not
     processed.  Otherwise, the router MUST join the RREQ-Instance
     and prepare to propagate the RREQ-DIO, as follows. The upstream
     neighbor router that transmitted the received RREQ-DIO is selected
     as the preferred parent.<a href="#section-6.2.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="rreq_step2">
<section id="section-6.2.2">
          <h4 id="name-step-2-targnode-and-interme">
<a href="#section-6.2.2" class="section-number selfRef">6.2.2. </a><a href="#name-step-2-targnode-and-interme" class="section-name selfRef">Step 2: TargNode and Intermediate Router determination</a>
          </h4>
<p id="section-6.2.2-1"> 
     After determining that a received RREQ provides a usable route
     to OrigNode, a router determines whether it is a TargNode, or
     a possible intermediate router between OrigNode and a TargNode,
     or both.  The router is a TargNode if it finds one of its own
     addresses in a Target Option in the RREQ.  After possibly
     propagating the RREQ according to the procedures in Steps 3,
     4, and 5, the TargNode generates a RREP as specified in
     <a href="#gen-rrep" class="xref">Section 6.3</a>.<a href="#section-6.2.2-1" class="pilcrow">¶</a></p>
<p id="section-6.2.2-2">
     If the OrigNode tries to reach multiple TargNodes in a
     single RREQ-Instance, one of the TargNodes can be an intermediate
     router to other TargNodes.  In this case, before transmitting the
     RREQ-DIO to multicast group all-RPL-nodes, a TargNode MUST delete
     the Target Option encapsulating its own address, so that downstream
     routers with higher Rank values do not try to create a route to
     this TargNode.<a href="#section-6.2.2-2" class="pilcrow">¶</a></p>
<p id="section-6.2.2-3">
     An intermediate router could receive several RREQ-DIOs from
     routers with lower Rank values in the same RREQ-Instance with
     different lists of Target Options.  For the purposes of determining
     the intersection with previous incoming RREQ-DIOs, the intermediate
     router maintains a record of the targets that have been requested
     for a given RREQ-Instance.  An incoming RREQ-DIO message having
     multiple ART Options coming from a router with higher Rank than
     the Rank of the stored targets is ignored.  When transmitting the
     RREQ-DIO, the intersection of all received lists MUST be included
     if it is nonempty after TargNode has deleted the Target Option
     encapsulating its own address.  If the intersection is empty, it
     means that all the targets have been reached, and the router MUST
     NOT transmit any RREQ-DIO.  Otherwise it proceeds to
     <a href="#rreq_step3" class="xref">Section 6.2.3</a>.<a href="#section-6.2.2-3" class="pilcrow">¶</a></p>
<p id="section-6.2.2-4">
     For example, suppose two RREQ-DIOs are received with the same
     RPLInstance and OrigNode.  Suppose further that the first
     RREQ has (T1, T2) as the targets, and the second one has (T2, T4)
     as targets. Then only T2 needs to be included in the generated
     RREQ-DIO.<a href="#section-6.2.2-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="rreq_step3">
<section id="section-6.2.3">
          <h4 id="name-step-3-intermediate-router-">
<a href="#section-6.2.3" class="section-number selfRef">6.2.3. </a><a href="#name-step-3-intermediate-router-" class="section-name selfRef">Step 3: Intermediate Router RREQ processing</a>
          </h4>
<p id="section-6.2.3-1">
     The intermediate router establishes itself as a viable node
     for a route to OrigNode as follows.  If the H bit is set to 1,
     for hop-by-hop routing, then the router MUST build or update
     its upward route entry towards OrigNode, which includes at least
     the following items: Source Address, RPLInstanceID, Destination
     Address, Next Hop, Lifetime, and Sequence Number.

            The Destination Address and the RPLInstanceID respectively can be
     learned from the DODAGID and the RPLInstanceID of the RREQ-DIO.
     The Source Address is the address used by the router to
     send data to the Next Hop, i.e., the preferred parent.
     The lifetime is set according to DODAG configuration (not
     the L field) and can be extended when the route is actually used.
     The sequence number represents the freshness of the route entry;
     it is copied from the Orig SeqNo field of the RREQ option. A route
     entry with the same source and destination address, same
     RPLInstanceID, but stale sequence number, MUST be deleted.<a href="#section-6.2.3-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="rreq_step4">
<section id="section-6.2.4">
          <h4 id="name-step-4-symmetric-route-proc">
<a href="#section-6.2.4" class="section-number selfRef">6.2.4. </a><a href="#name-step-4-symmetric-route-proc" class="section-name selfRef">Step 4: Symmetric Route Processing at an Intermediate Router</a>
          </h4>
<p id="section-6.2.4-1">
     If the S bit of the incoming RREQ-DIO is 0, then the route cannot
     be symmetric, and the S bit of the RREQ-DIO to be transmitted is
     set to 0.  Otherwise, the router MUST determine whether the
     downward (i.e., towards the TargNode) direction of the
     incoming link satisfies the OF.  If so, the S bit of the
     RREQ-DIO to be transmitted is set to 1.  Otherwise the S bit of
     the RREQ-DIO to be transmitted is set to 0.<a href="#section-6.2.4-1" class="pilcrow">¶</a></p>
<p id="section-6.2.4-2">
     When a router joins the RREQ-Instance, it also associates within
     its data structure for the RREQ-Instance the information about
     whether or not the RREQ-DIO to be transmitted has the S-bit set
     to 1.  This information
     associated to RREQ-Instance is known as the S-bit of the
     RREQ-Instance. It will be used later during the RREP-DIO message
     processing <a href="#asymmetricrrep" class="xref">Section 6.3.2</a>.<a href="#section-6.2.4-2" class="pilcrow">¶</a></p>
<p id="section-6.2.4-3">
     Suppose a router has joined the RREQ-Instance, and H=0, and the
     S-bit of the RREQ-Instance is set to 1.  In this case, the router
     MAY optionally associate to the RREQ-Instance, the Address Vector
     of the symmetric route back to OrigNode.  This is useful if the
     router later receives an RREP-DIO that is paired with the RREQ.<a href="#section-6.2.4-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="rreq_step5">
<section id="section-6.2.5">
          <h4 id="name-step-5-rreq-propagation-at-">
<a href="#section-6.2.5" class="section-number selfRef">6.2.5. </a><a href="#name-step-5-rreq-propagation-at-" class="section-name selfRef">Step 5: RREQ propagation at an Intermediate Router</a>
          </h4>
<p id="section-6.2.5-1">
     If the router is an intermediate router, then it transmits the
     RREQ-DIO to the multicast group all-RPL-nodes; if the H bit is
     set to 0, the intermediate router MUST append
     the address of its interface receiving the RREQ-DIO into the
     address vector.<a href="#section-6.2.5-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="rreq_step6">
<section id="section-6.2.6">
          <h4 id="name-step-6-rreq-reception-at-ta">
<a href="#section-6.2.6" class="section-number selfRef">6.2.6. </a><a href="#name-step-6-rreq-reception-at-ta" class="section-name selfRef">Step 6: RREQ reception at TargNode</a>
          </h4>
<p id="section-6.2.6-1">
     If the router is a TargNode and it was not
     already associated with the RREQ-Instance, it prepares and
     transmits a RREP-DIO (<a href="#gen-rrep" class="xref">Section 6.3</a>).  If, on the
     other hand, TargNode was already associated with the RREQ-Instance,
     it takes no further action and does not send an RREP-DIO.<a href="#section-6.2.6-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="gen-rrep">
<section id="section-6.3">
        <h3 id="name-generating-route-reply-rrep">
<a href="#section-6.3" class="section-number selfRef">6.3. </a><a href="#name-generating-route-reply-rrep" class="section-name selfRef">Generating Route Reply (RREP) at TargNode</a>
        </h3>
<p id="section-6.3-1"> When a TargNode receives a RREQ message over a link from a
     neighbor Y, TargNode first follows the procedures in
     <a href="#process_rreq" class="xref">Section 6.2</a>.  If the link to Y can be
     used to tramsmit packets to OrigNode, TargNode generates
     a RREP according to the steps below.  Otherwise TargNode
     drops the RREQ and does not generate a RREP.<a href="#section-6.3-1" class="pilcrow">¶</a></p>
<p id="section-6.3-2">
     If the L field is not 0, the TargNode MAY delay transmitting the
     RREP-DIO for duration RREP_WAIT_TIME to await a route with a lower
     Rank.  The value of RREP_WAIT_TIME is set by default to 1/4 of
     the duration determined by the L field.  For L == 0,
     RREP_WAIT_TIME is set by default to 0.  Depending upon the
     application, RREP_WAIT_TIME may be set to other values.
     Smaller values enable quicker formation for the P2P route.
     Larger values enable formation of P2P routes with better
     Rank values.<a href="#section-6.3-2" class="pilcrow">¶</a></p>
<p id="section-6.3-3">
     The address of the OrigNode MUST be
     encapsulated in the ART Option and included in this RREP-DIO
     message along with the SeqNo of TargNode.<a href="#section-6.3-3" class="pilcrow">¶</a></p>
<div id="rrepsymmetric">
<section id="section-6.3.1">
          <h4 id="name-rrep-dio-for-symmetric-rout">
<a href="#section-6.3.1" class="section-number selfRef">6.3.1. </a><a href="#name-rrep-dio-for-symmetric-rout" class="section-name selfRef">RREP-DIO for Symmetric route</a>
          </h4>
<p id="section-6.3.1-1">
     If the RREQ-Instance corresponding to the RREQ-DIO that arrived
     at TargNode has the S bit set to 1, there
     is a symmetric route both of whose directions satisfy the
     Objective Function. Other RREQ-DIOs might later provide better
     upward routes.  The method of selection between a
     qualified symmetric route and an asymmetric route that might have
     better performance is implementation-specific and out of scope.<a href="#section-6.3.1-1" class="pilcrow">¶</a></p>
<p id="section-6.3.1-2">
     For a symmetric route, the RREP-DIO message is unicast to the next
     hop according to the Address Vector (H=0) or the route
     entry (H=1);  the DODAG in RREP-Instance does not need to be
     built.  The RPLInstanceID in the RREP-Instance is paired as
     defined in <a href="#instancepairing" class="xref">Section 6.3.3</a>.  In case the H bit
     is set to 0, the address vector from the RREQ-DIO MUST be
     included in the RREP-DIO.<a href="#section-6.3.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="asymmetricrrep">
<section id="section-6.3.2">
          <h4 id="name-rrep-dio-for-asymmetric-rou">
<a href="#section-6.3.2" class="section-number selfRef">6.3.2. </a><a href="#name-rrep-dio-for-asymmetric-rou" class="section-name selfRef">RREP-DIO for Asymmetric Route</a>
          </h4>
<p id="section-6.3.2-1">
     When a RREQ-DIO arrives at a TargNode with the S bit set to 0,
     the TargNode MUST build a DODAG in the RREP-Instance
     corresponding to the RREQ-DIO rooted at itself, in order to
     provide OrigNode with a downstream route
     to the TargNode. The RREP-DIO message is transmitted to
     multicast group all-RPL-nodes.<a href="#section-6.3.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="instancepairing">
<section id="section-6.3.3">
          <h4 id="name-rplinstanceid-pairing">
<a href="#section-6.3.3" class="section-number selfRef">6.3.3. </a><a href="#name-rplinstanceid-pairing" class="section-name selfRef">RPLInstanceID Pairing</a>
          </h4>
<p id="section-6.3.3-1">
   Since the RPLInstanceID is assigned locally (i.e., there is no
   coordination between routers in the assignment of RPLInstanceID), the
   tuple (OrigNode, TargNode, RPLInstanceID) is needed to uniquely
   identify a discovered route. It is possible that multiple route
   discoveries with dissimilar Objective Functions
   are initiated simultaneously. Thus between the same pair of OrigNode
   and TargNode, there can be multiple AODV-RPL route discovery
   instances.  So that OrigNode and Targnode can avoid any mismatch,
   they MUST pair the RREQ-Instance and the RREP-Instance in the same
   route discovery by using the RPLInstanceID.<a href="#section-6.3.3-1" class="pilcrow">¶</a></p>
<p id="section-6.3.3-2">
   When preparing the RREP-DIO, a TargNode could find the RPLInstanceID
   candidate for the RREP-Instance is already occupied by another RPL
   Instance from an earlier route discovery operation which is still
   active.  This unlikely case might happen if two distinct OrigNodes
   need routes to the same TargNode, and they happen to use the same
   RPLInstanceID for RREQ-Instance. In such cases, the original
   RPLInstanceID of an already active RREP-Instance MUST NOT be used
   again for assigning RPLInstanceID for the later RREP-Instance.
   Reusing the same RPLInstanceID for two
   distinct DODAGs originated with the same DODAGID (TargNode address)
   would prevent intermediate routers to distinguish between these
   DODAGs (and their associated Objective Functions). Instead, the
   RPLInstanceID MUST be replaced by another value so that the two
   RREP-instances can be distinguished.  In RREP-DIO option, the
   Shift field of the RREP-DIO message(<a href="#figRREP" class="xref">Figure 2</a>)
   indicates the shift to be applied to original RPLInstanceID
   to obtain the replacement RPLInstanceID.
   When the new RPLInstanceID after shifting exceeds 255, it rolls
   over starting at 0. For example, if the original RPLInstanceID
   is 252, and shifted by 6, the new RPLInstanceID will be 2.
   Related operations can be found in <a href="#forwardRREP" class="xref">Section 6.4</a>.
   RPLInstanceID collisions do not occur across RREQ-DIOs; the
   DODAGID equals the OrigNode address and is sufficient to
   disambiguate between DODAGs.<a href="#section-6.3.3-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="forwardRREP">
<section id="section-6.4">
        <h3 id="name-receiving-and-forwarding-ro">
<a href="#section-6.4" class="section-number selfRef">6.4. </a><a href="#name-receiving-and-forwarding-ro" class="section-name selfRef">Receiving and Forwarding Route Reply</a>
        </h3>
<p id="section-6.4-1"> Upon receiving a RREP-DIO, a router which already belongs to the
     RREP-Instance SHOULD drop the DIO.  Otherwise the router 
      performs the steps in the following subsections.<a href="#section-6.4-1" class="pilcrow">¶</a></p>
<div id="rrep_step1">
<section id="section-6.4.1">
          <h4 id="name-step-1-receiving-and-evalua">
<a href="#section-6.4.1" class="section-number selfRef">6.4.1. </a><a href="#name-step-1-receiving-and-evalua" class="section-name selfRef">Step 1: Receiving and Evaluation</a>
          </h4>
<p id="section-6.4.1-1">
     If the Objective Function is not satisfied, the router MUST NOT
     join the DODAG; the router MUST discard the RREP-DIO, and does not
     execute the remaining steps in this section.  An Intermediate
     Router MUST discard a RREP if one of its addresses is present
     in the Address Vector, and does not execute the remaining steps in
     this section.<a href="#section-6.4.1-1" class="pilcrow">¶</a></p>
<p id="section-6.4.1-2">
     If the S bit of the associated RREQ-Instance is set to 1,
     the router MUST proceed to <a href="#rreq_step2" class="xref">Section 6.2.2</a>.<a href="#section-6.4.1-2" class="pilcrow">¶</a></p>
<p id="section-6.4.1-3">
     If the S-bit of the RREQ-Instance is set to 0, the router MUST
     determine whether the downward direction of the link (towards the
     TargNode) over which the RREP-DIO is received satisfies the
     Objective Function, and the router's Rank would not exceed the
     MaxRank limit.  If so, the router joins the DODAG of the
     RREP-Instance.  The router that transmitted the received RREP-DIO
     is selected as the preferred parent.  Afterwards, other RREP-DIO
     messages can be received.<a href="#section-6.4.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="rrep_step2">
<section id="section-6.4.2">
          <h4 id="name-step-2-orignode-or-intermed">
<a href="#section-6.4.2" class="section-number selfRef">6.4.2. </a><a href="#name-step-2-orignode-or-intermed" class="section-name selfRef">Step 2: OrigNode or Intermediate Router</a>
          </h4>
<p id="section-6.4.2-1">
     The router updates its stored value of the TargNode's sequence
            number according to the value provided in the ART option.
     The router next checks if one of its addresses is included in the
     ART Option. If so, this router is the OrigNode of the
     route discovery.  Otherwise, it is an intermediate router.<a href="#section-6.4.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="rrep_step3">
<section id="section-6.4.3">
          <h4 id="name-step-3-build-route-to-targn">
<a href="#section-6.4.3" class="section-number selfRef">6.4.3. </a><a href="#name-step-3-build-route-to-targn" class="section-name selfRef">Step 3: Build Route to TargNode</a>
          </h4>
<p id="section-6.4.3-1">
     If the H bit is set to 1, then the router (OrigNode or
     intermediate) MUST build a downward route entry towards TargNode
     which includes at least the following items: OrigNode Address,
     RPLInstanceID, TargNode Address as destination, Next Hop, Lifetime
     and Sequence Number.  For a symmetric route, the Next Hop in the
     route entry is the router from which the RREP-DIO is received.  For
     an asymmetric route, the Next Hop is the preferred parent in the
     DODAG of RREP-Instance.  The RPLInstanceID in the route entry MUST
     be the original RPLInstanceID (after subtracting the Shift field
     value).  The source address is learned from the ART Option, and
     the destination address is learned from the DODAGID.  The lifetime
     is set according to DODAG configuration (i.e., not the L field)
     and can be extended when the route is actually used. The sequence
     number represents the freshness of the route entry, and is copied
     from the Dest SeqNo field of the ART option of the RREP-DIO.
     A route entry with same source and destination address, same
     RPLInstanceID, but stale sequence number (i.e., incoming sequence
     number is less than the currently stored sequence number of the
     route entry), MUST be deleted.<a href="#section-6.4.3-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="rrep_step4">
<section id="section-6.4.4">
          <h4 id="name-step-4-rrep-propagation">
<a href="#section-6.4.4" class="section-number selfRef">6.4.4. </a><a href="#name-step-4-rrep-propagation" class="section-name selfRef">Step 4: RREP Propagation</a>
          </h4>
<p id="section-6.4.4-1">
     If the receiver is the OrigNode, it can start transmitting the
     application data to TargNode along the path as provided in
     RREP-Instance, and processing for the RREP-DIO is complete.

     Otherwise, the RREP will be propagated towards OrigNode.
     If H=0, the intermediate router
     MUST include the address of the interface receiving the RREP-DIO
     into the address vector.  If H=1, according to the last step
     the intermediate router has set up a route entry for TargNode.

     If the intermediate router has a route to OrigNode, it uses that
     route to unicast the RREP-DIO to OrigNode.  Otherwise, in case of
     a symmetric route, the RREP-DIO message is unicast to the Next Hop
     according to the address vector in the RREP-DIO (H=0) or the local
     route entry (H=1).  Otherwise In case of an asymmetric route, the
     intermediate router transmits the RREP-DIO to multicast group
     all-RPL-nodes.  The RPLInstanceID in the transmitted RREP-DIO
     is the same as the value in the received RREP-DIO.<a href="#section-6.4.4-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="GRREP">
<section id="section-7">
      <h2 id="name-gratuitous-rrep">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-gratuitous-rrep" class="section-name selfRef">Gratuitous RREP</a>
      </h2>
<p id="section-7-1">
 In some cases, an Intermediate router that receives a RREQ-DIO message
 MAY transmit a "Gratuitous" RREP-DIO message back to OrigNode instead
 of continuing to multicast the RREQ-DIO towards TargNode.  The
 intermediate router effectively builds the RREP-Instance on behalf of
 the actual TargNode.  The G bit of the RREP option is provided to
 distinguish the Gratuitous RREP-DIO (G=1) sent by the Intermediate
 router from the RREP-DIO sent by TargNode (G=0).<a href="#section-7-1" class="pilcrow">¶</a></p>
<p id="section-7-2">
 The gratuitous RREP-DIO MAY be sent out when an intermediate router
 receives a RREQ-DIO for a TargNode, and the router has a pair of
 downward and upward routes to the TargNode which also satisfy the
 Objective Function and for which the destination sequence number is
 at least as large.<a href="#section-7-2" class="pilcrow">¶</a></p>
<p id="section-7-3">
 In case of source routing, the intermediate router MUST unicast the
 received RREQ-DIO to TargNode including the address vector between
 the OrigNode and the router. Thus the TargNode can have a complete
 upward route address vector from itself to the OrigNode. Then the
 router MUST include the address vector from the TargNode to the
 router itself in the gratuitous RREP-DIO to be transmitted.<a href="#section-7-3" class="pilcrow">¶</a></p>
<p id="section-7-4">
 In case of hop-by-hop routing, the intermediate router MUST unicast
 the received RREQ-DIO to the Next Hop on the route. The Next Hop
 router along the route MUST build new route entries with the related
 RPLInstanceID and DODAGID in the downward direction. The above process
 will happen recursively until the RREQ-DIO arrives at the TargNode.
 Then the TargNode MUST unicast recursively the RREP-DIO hop-by-hop to
 the intermediate router, and the routers along the route SHOULD build
 new route entries in the upward direction. Upon receiving the unicast
 RREP-DIO, the intermediate router sends the gratuitous RREP-DIO to
 the OrigNode as defined in <a href="#gen-rrep" class="xref">Section 6.3</a>.<a href="#section-7-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="trickle">
<section id="section-8">
      <h2 id="name-operation-of-trickle-timer">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-operation-of-trickle-timer" class="section-name selfRef">Operation of Trickle Timer</a>
      </h2>
<p id="section-8-1">

 The trickle timer operation to control RREQ-Instance/RREP-Instance
 multicast uses <span>[<a href="#RFC6206" class="xref">RFC6206</a>]</span> to control RREQ-DIO and
 RREP-DIO transmissions.  The Trickle control of these DIO transmissions
 follow the procedures described in the Section 8.3 of
 <span>[<a href="#RFC6550" class="xref">RFC6550</a>]</span> entitled "DIO Transmission".<a href="#section-8-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="iana">
<section id="section-9">
      <h2 id="name-iana-considerations">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-9-1">
 Note to RFC editor:<a href="#section-9-1" class="pilcrow">¶</a></p>
<p id="section-9-2">
 The sentence "The parenthesized numbers are only suggestions."
 is to be removed prior publication.<a href="#section-9-2" class="pilcrow">¶</a></p>
<p id="section-9-3">
 A Subregistry in this section refers to a named sub-registry of the
 "Routing Protocol for Low Power and Lossy Networks (RPL)" registry.<a href="#section-9-3" class="pilcrow">¶</a></p>
<p id="section-9-4">
 AODV-RPL uses the "P2P Route Discovery Mode of Operation" (MOP == 4)
 with new Options as specified in this document.  Please cite AODV-RPL
 and this document as one of the protocols using MOP 4.<a href="#section-9-4" class="pilcrow">¶</a></p>
<p id="section-9-5">
 IANA is asked to assign three new AODV-RPL options "RREQ", "RREP" and
 "ART", as described in <a href="#ianaOpts" class="xref">Figure 6</a> from the "RPL Control
 Message Options" Subregistry.  The parenthesized numbers are only
 suggestions.<a href="#section-9-5" class="pilcrow">¶</a></p>
<span id="name-aodv-rpl-options"></span><div id="ianaOpts">
<figure id="figure-6">
        <div class="alignCenter art-text artwork" id="section-9-6.1">
<pre>
 +-------------+------------------------+---------------+
 |    Value    |        Meaning         |   Reference   |
 +-------------+------------------------+---------------+
 | TBD2 (0x0B) |      RREQ Option       | This document |
 +-------------+------------------------+---------------+
 | TBD3 (0x0C) |      RREP Option       | This document |
 +-------------+------------------------+---------------+
 | TBD4 (0x0D) |       ART Option       | This document |
 +-------------+------------------------+---------------+
</pre>
</div>
<figcaption><a href="#figure-6" class="selfRef">Figure 6</a>:
<a href="#name-aodv-rpl-options" class="selfRef">AODV-RPL Options</a>
        </figcaption></figure>
</div>
</section>
</div>
<div id="sec">
<section id="section-10">
      <h2 id="name-security-considerations">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-10-1">
   The security considerations for the operation of AODV-RPL
   are similar to those for the operation of RPL (as described in
   Section 19 of the RPL specification <span>[<a href="#RFC6550" class="xref">RFC6550</a>]</span>).
   Sections 6.1 and 10 of <span>[<a href="#RFC6550" class="xref">RFC6550</a>]</span> describe RPL's
   optional security framework, which AODV-RPL relies on to provide data
   confidentiality, authentication,
   replay protection, and delay protection services.  Additional analysis
   for the security threats to RPL can be found in <span>[<a href="#RFC7416" class="xref">RFC7416</a>]</span>.<a href="#section-10-1" class="pilcrow">¶</a></p>
<p id="section-10-2">
   A router can join a temporary DAG created for a secure AODV-RPL route
   discovery only if it can support the security configuration in use
   (see Section 6.1 of <span>[<a href="#RFC6550" class="xref">RFC6550</a>]</span>), which also specifies the
   key in use.  It does not matter whether the key is preinstalled or
   dynamically acquired.  The router must have the key in use before it
   can join the DAG being created for secure route discovery.<a href="#section-10-2" class="pilcrow">¶</a></p>
<p id="section-10-3">
    If a rogue router knows the key for the security configuration in use, it
    can join the secure AODV-RPL route discovery and cause various types of
    damage.  Such a
    rogue router could advertise false information in its DIOs in order
    to include itself in the discovered route(s).  It could generate
    bogus RREQ-DIO, and RREP-DIO messages carrying bad routes or maliciously
    modify genuine RREP-DIO messages it receives.  A rogue router acting as
    the OrigNode could launch denial-of-service attacks against the LLN
    deployment by initiating fake AODV-RPL route discoveries.  When rogue
    routers might be present, RPL's preinstalled mode of operation, where the
    key to use for route discovery is preinstalled, SHOULD be used.<a href="#section-10-3" class="pilcrow">¶</a></p>
<p id="section-10-4">
    When a RREQ-DIO message uses the source routing option by setting the H
    bit to 0, a rogue router may populate the Address Vector field with a set
    of addresses that may result in the RREP-DIO traveling in a routing loop.<a href="#section-10-4" class="pilcrow">¶</a></p>
<p id="section-10-5">
 If a rogue router is able to forge a gratuitous RREP,
 it could mount denial-of-service attacks.<a href="#section-10-5" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-11">
      <h2 id="name-acknowledgements">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="section-11-1">
 The authors thank Pascal Thubert, Rahul Jadhav,
 and Lijo Thomas for their support and valuable inputs.
 The authors specially thank Lavanya H.M for implementing AODV-RPl in
 Contiki and conducting extensive simulation studies.<a href="#section-11-1" class="pilcrow">¶</a></p>
<p id="section-11-2">
 The authors would like to acknowledge the review, feedback and
 comments from the following people, in alphabetical order:
 Roman Danyliw,
 Lars Eggert,
 Benjamin Kaduk,
 Tero Kivinen,
 Erik Kline,
 Murray Kucherawy,
 Warren Kumari,
 Francesca Palombini,
 Alvaro Retana,
 Ines Robles,
 John Scudder,
 Meral Shirazipour,
 Peter Van der Stok,
 Eric Vyncke,
 and Robert Wilton.<a href="#section-11-2" class="pilcrow">¶</a></p>
</section>
<section id="section-12">
      <h2 id="name-references">
<a href="#section-12" class="section-number selfRef">12. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-12.1">
        <h3 id="name-normative-references">
<a href="#section-12.1" class="section-number selfRef">12.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6206">[RFC6206]</dt>
        <dd>
<span class="refAuthor">Levis, P.</span>, <span class="refAuthor">Clausen, T.</span>, <span class="refAuthor">Hui, J.</span>, <span class="refAuthor">Gnawali, O.</span>, and <span class="refAuthor">J. Ko</span>, <span class="refTitle">"The Trickle Algorithm"</span>, <span class="seriesInfo">RFC 6206</span>, <span class="seriesInfo">DOI 10.17487/RFC6206</span>, <time datetime="2011-03" class="refDate">March 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6206">https://www.rfc-editor.org/info/rfc6206</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6550">[RFC6550]</dt>
        <dd>
<span class="refAuthor">Winter, T., Ed.</span>, <span class="refAuthor">Thubert, P., Ed.</span>, <span class="refAuthor">Brandt, A.</span>, <span class="refAuthor">Hui, J.</span>, <span class="refAuthor">Kelsey, R.</span>, <span class="refAuthor">Levis, P.</span>, <span class="refAuthor">Pister, K.</span>, <span class="refAuthor">Struik, R.</span>, <span class="refAuthor">Vasseur, JP.</span>, and <span class="refAuthor">R. Alexander</span>, <span class="refTitle">"RPL: IPv6 Routing Protocol for Low-Power and Lossy Networks"</span>, <span class="seriesInfo">RFC 6550</span>, <span class="seriesInfo">DOI 10.17487/RFC6550</span>, <time datetime="2012-03" class="refDate">March 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6550">https://www.rfc-editor.org/info/rfc6550</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6551">[RFC6551]</dt>
        <dd>
<span class="refAuthor">Vasseur, JP., Ed.</span>, <span class="refAuthor">Kim, M., Ed.</span>, <span class="refAuthor">Pister, K.</span>, <span class="refAuthor">Dejean, N.</span>, and <span class="refAuthor">D. Barthel</span>, <span class="refTitle">"Routing Metrics Used for Path Calculation in Low-Power and Lossy Networks"</span>, <span class="seriesInfo">RFC 6551</span>, <span class="seriesInfo">DOI 10.17487/RFC6551</span>, <time datetime="2012-03" class="refDate">March 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6551">https://www.rfc-editor.org/info/rfc6551</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
      <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-12.2">
        <h3 id="name-informative-references">
<a href="#section-12.2" class="section-number selfRef">12.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="co-ioam">[co-ioam]</dt>
        <dd>
<span class="refAuthor">Ballamajalu, Rashmi.</span>, <span class="refAuthor">S.V.R., Anand.</span>, and <span class="refAuthor">Malati Hegde</span>, <span class="refTitle">"Co-iOAM: In-situ Telemetry Metadata Transport for Resource Constrained Networks within IETF Standards Framework"</span>, <span class="seriesInfo">2018 10th International Conference on Communication    Systems &amp; Networks (COMSNETS) pp.573-576</span>, <time datetime="2018-01" class="refDate">January 2018</time>. </dd>
<dd class="break"></dd>
<dt id="contiki">[contiki]</dt>
        <dd>
<span class="refAuthor">Contiki contributors</span>, <span class="refTitle">"The Contiki Open Source OS for the Internet of Things (Contiki Version 2.7)"</span>, <time datetime="2013-11" class="refDate">November 2013</time>, <span>&lt;<a href="https://github.com/contiki-os/contiki">https://github.com/contiki-os/contiki</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Contiki-ng">[Contiki-ng]</dt>
        <dd>
<span class="refAuthor">Contiki-NG contributors</span>, <span class="refTitle">"Contiki-NG: The OS for Next Generation IoT Devices (Contiki-NG Version 4.6)"</span>, <time datetime="2020-12" class="refDate">December 2020</time>, <span>&lt;<a href="https://github.com/contiki-ng/contiki-ng">https://github.com/contiki-ng/contiki-ng</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="cooja">[cooja]</dt>
        <dd>
<span class="refAuthor">Contiki/Cooja contributors</span>, <span class="refTitle">"Cooja Simulator for Wireless Sensor Networks (Contiki/Cooja Version 2.7)"</span>, <time datetime="2013-11" class="refDate">November 2013</time>, <span>&lt;<a href="https://github.com/contiki-os/contiki/tree/master/tools/cooja">https://github.com/contiki-os/contiki/tree/master/tools/cooja</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3561">[RFC3561]</dt>
        <dd>
<span class="refAuthor">Perkins, C.</span>, <span class="refAuthor">Belding-Royer, E.</span>, and <span class="refAuthor">S. Das</span>, <span class="refTitle">"Ad hoc On-Demand Distance Vector (AODV) Routing"</span>, <span class="seriesInfo">RFC 3561</span>, <span class="seriesInfo">DOI 10.17487/RFC3561</span>, <time datetime="2003-07" class="refDate">July 2003</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3561">https://www.rfc-editor.org/info/rfc3561</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6997">[RFC6997]</dt>
        <dd>
<span class="refAuthor">Goyal, M., Ed.</span>, <span class="refAuthor">Baccelli, E.</span>, <span class="refAuthor">Philipp, M.</span>, <span class="refAuthor">Brandt, A.</span>, and <span class="refAuthor">J. Martocci</span>, <span class="refTitle">"Reactive Discovery of Point-to-Point Routes in Low-Power and Lossy Networks"</span>, <span class="seriesInfo">RFC 6997</span>, <span class="seriesInfo">DOI 10.17487/RFC6997</span>, <time datetime="2013-08" class="refDate">August 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6997">https://www.rfc-editor.org/info/rfc6997</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6998">[RFC6998]</dt>
        <dd>
<span class="refAuthor">Goyal, M., Ed.</span>, <span class="refAuthor">Baccelli, E.</span>, <span class="refAuthor">Brandt, A.</span>, and <span class="refAuthor">J. Martocci</span>, <span class="refTitle">"A Mechanism to Measure the Routing Metrics along a Point-to-Point Route in a Low-Power and Lossy Network"</span>, <span class="seriesInfo">RFC 6998</span>, <span class="seriesInfo">DOI 10.17487/RFC6998</span>, <time datetime="2013-08" class="refDate">August 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6998">https://www.rfc-editor.org/info/rfc6998</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7276">[RFC7276]</dt>
        <dd>
<span class="refAuthor">Mizrahi, T.</span>, <span class="refAuthor">Sprecher, N.</span>, <span class="refAuthor">Bellagamba, E.</span>, and <span class="refAuthor">Y. Weingarten</span>, <span class="refTitle">"An Overview of Operations, Administration, and Maintenance (OAM) Tools"</span>, <span class="seriesInfo">RFC 7276</span>, <span class="seriesInfo">DOI 10.17487/RFC7276</span>, <time datetime="2014-06" class="refDate">June 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7276">https://www.rfc-editor.org/info/rfc7276</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7416">[RFC7416]</dt>
        <dd>
<span class="refAuthor">Tsao, T.</span>, <span class="refAuthor">Alexander, R.</span>, <span class="refAuthor">Dohler, M.</span>, <span class="refAuthor">Daza, V.</span>, <span class="refAuthor">Lozano, A.</span>, and <span class="refAuthor">M. Richardson, Ed.</span>, <span class="refTitle">"A Security Threat Analysis for the Routing Protocol for Low-Power and Lossy Networks (RPLs)"</span>, <span class="seriesInfo">RFC 7416</span>, <span class="seriesInfo">DOI 10.17487/RFC7416</span>, <time datetime="2015-01" class="refDate">January 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7416">https://www.rfc-editor.org/info/rfc7416</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7548">[RFC7548]</dt>
        <dd>
<span class="refAuthor">Ersue, M., Ed.</span>, <span class="refAuthor">Romascanu, D.</span>, <span class="refAuthor">Schoenwaelder, J.</span>, and <span class="refAuthor">A. Sehgal</span>, <span class="refTitle">"Management of Networks with Constrained Devices: Use Cases"</span>, <span class="seriesInfo">RFC 7548</span>, <span class="seriesInfo">DOI 10.17487/RFC7548</span>, <time datetime="2015-05" class="refDate">May 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7548">https://www.rfc-editor.org/info/rfc7548</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9030">[RFC9030]</dt>
      <dd>
<span class="refAuthor">Thubert, P., Ed.</span>, <span class="refTitle">"An Architecture for IPv6 over the Time-Slotted Channel Hopping Mode of IEEE 802.15.4 (6TiSCH)"</span>, <span class="seriesInfo">RFC 9030</span>, <span class="seriesInfo">DOI 10.17487/RFC9030</span>, <time datetime="2021-05" class="refDate">May 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9030">https://www.rfc-editor.org/info/rfc9030</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="appendix-a">
<section id="appendix-A">
      <h2 id="name-example-using-etx-rssi-valu">
<a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-example-using-etx-rssi-valu" class="section-name selfRef">Example: Using ETX/RSSI Values to determine value of S bit</a>
      </h2>
<p id="appendix-A-1"> The combination of Received Signal Strength Indication(downstream)
        (RSSI) and Expected Number of Transmissions(upstream) (ETX) has been
        tested to determine whether a link is symmetric or asymmetric at
        intermediate routers. We present two methods to obtain an ETX value
        from RSSI measurement.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="appendix-A-2">
        <dt id="appendix-A-2.1">Method 1:</dt>
        <dd style="margin-left: 1.5em" id="appendix-A-2.2">
          <p id="appendix-A-2.2.1">
     In the first method, we constructed a table measuring RSSI vs
     ETX using the Cooja simulation <span>[<a href="#cooja" class="xref">cooja</a>]</span>
 setup in the Contiki OS environment<span>[<a href="#contiki" class="xref">contiki</a>]</span>. We used
        Contiki-2.7 running 6LoWPAN/RPL protocol stack for the simulations.
        For approximating the number of packet drops based on the RSSI values,
        we implemented simple logic that drops transmitted packets with certain
        pre-defined ratios before handing over the packets to the receiver. The
        packet drop ratio is implemented as a table lookup of RSSI ranges
        mapping to different packet drop ratios with lower RSSI ranges resulting
        in higher values. While this table has been defined for the purpose of
        capturing the overall link behavior, it is highly recommended to conduct
        physical radio measurement experiments, in general. By keeping the
        receiving node at different distances, we let the packets experience
        different packet drops as per the described method. The ETX value
        computation is done by another module which is part of RPL
        Objective Function implementation. Since ETX value is reflective of
        the extent of packet drops, it allowed us to prepare a useful
        ETX vs RSSI table.  ETX versus RSSI values obtained in this way
 may be used as explained below:<a href="#appendix-A-2.2.1" class="pilcrow">¶</a></p>
<span id="name-communication-link-from-sou"></span><div id="commlink">
<figure id="figure-7">
            <div class="alignLeft art-text artwork" id="appendix-A-2.2.2.1">
<pre>
            Source----------&gt;NodeA----------&gt;NodeB-------&gt;Destination
</pre>
</div>
<figcaption><a href="#figure-7" class="selfRef">Figure 7</a>:
<a href="#name-communication-link-from-sou" class="selfRef">Communication link from Source to Destination</a>
            </figcaption></figure>
</div>
</dd>
      <dd class="break"></dd>
</dl>
<span id="name-selection-of-s-bit-based-on"></span><div id="table_ETX_RSSI">
<table class="center" id="table-1">
        <caption>
<a href="#table-1" class="selfRef">Table 1</a>:
<a href="#name-selection-of-s-bit-based-on" class="selfRef">Selection of S bit based on Expected ETX value</a>
        </caption>
<thead>
          <tr>
            <th class="text-center" rowspan="1" colspan="1">RSSI at NodeA for NodeB</th>
            <th class="text-center" rowspan="1" colspan="1">Expected ETX at NodeA for NodeB-&gt;NodeA</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-center" rowspan="1" colspan="1">&gt; -60</td>
            <td class="text-center" rowspan="1" colspan="1">150</td>
          </tr>
          <tr>
            <td class="text-center" rowspan="1" colspan="1">-70 to -60</td>
            <td class="text-center" rowspan="1" colspan="1">192</td>
          </tr>
          <tr>
            <td class="text-center" rowspan="1" colspan="1">-80 to -70</td>
            <td class="text-center" rowspan="1" colspan="1">226</td>
          </tr>
          <tr>
            <td class="text-center" rowspan="1" colspan="1">-90 to -80</td>
            <td class="text-center" rowspan="1" colspan="1">662</td>
          </tr>
          <tr>
            <td class="text-center" rowspan="1" colspan="1">-100 to -90</td>
            <td class="text-center" rowspan="1" colspan="1">3840</td>
          </tr>
        </tbody>
      </table>
</div>
<span class="break"></span><dl class="dlParallel" id="appendix-A-4">
        <dt id="appendix-A-4.1">Method 2:</dt>
        <dd style="margin-left: 1.5em" id="appendix-A-4.2">One could also make use of the function
     guess_etx_from_rssi() defined in the 6LoWPAN/RPL protocol stack of
     Contiki-ng OS <span>[<a href="#Contiki-ng" class="xref">Contiki-ng</a>]</span> to obtain RSSI-ETX
     mapping. This function outputs ETX value ranging between 128
     and 3840 for -60 &lt;= rssi &lt;= -89. The function description
     is beyond the scope of this document.<a href="#appendix-A-4.2" class="pilcrow">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
<p id="appendix-A-5"> We tested the operations in this specification by making the
 following experiment, using the above parameters.  In our experiment,
 a communication link is considered as symmetric if the ETX value of
 NodeA-&gt;NodeB and NodeB-&gt;NodeA (see <a href="#commlink" class="xref">Figure 7</a>) are
 within, say, a 1:3
 ratio.  This ratio should be understood as determining the
 link's symmetric/asymmetric nature.  NodeA can typically know
 the ETX value in the direction of NodeA -&gt; NodeB but it has no direct
 way of knowing the value of ETX from NodeB-&gt;NodeA.  Using physical
 testbed experiments and realistic wireless channel propagation
 models, one can determine a relationship between RSSI and ETX
 representable as an expression or a mapping table.  Such a
 relationship in turn can be used to estimate ETX value at nodeA for
 link NodeB---&gt;NodeA from the received RSSI from NodeB.  Whenever
 nodeA determines that the link towards the nodeB is bi-directional
 asymmetric then the S bit is set to 0.  Afterwards, the link from
 NodeA to Destination remains designated as asymmetric and the S bit
 remains set to 0.<a href="#appendix-A-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="appendix-b">
<section id="appendix-B">
      <h2 id="name-changelog">
<a href="#appendix-B" class="section-number selfRef">Appendix B. </a><a href="#name-changelog" class="section-name selfRef">Changelog</a>
      </h2>
<p id="appendix-B-1">
 Note to the RFC Editor: please remove this section before publication.<a href="#appendix-B-1" class="pilcrow">¶</a></p>
<section id="appendix-B.1">
        <h3 id="name-changes-from-version-11-to-">
<a href="#appendix-B.1" class="section-number selfRef">B.1. </a><a href="#name-changes-from-version-11-to-" class="section-name selfRef">Changes from version 11 to version 12</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-B.1-1.1">
 Defined RREP_WAIT_TIME for asymmetric as well as
 symmetric handling of RREP-DIO.<a href="#appendix-B.1-1.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.1-1.2">
 Clarifed link-local multicast transmission to use
 link-local multicast group all-RPL nodes.<a href="#appendix-B.1-1.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.1-1.3">
 Identified some security threats more explicitly.<a href="#appendix-B.1-1.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.1-1.4">
 Specified that the pairing between RREQ-DIO and RREP-DIO
 happens at OrigNode and TargNode.  Intermediate routers do not
 necessarily maintain the pairing.<a href="#appendix-B.1-1.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.1-1.5">
 When RREQ-DIO is received with H=0 and S=1, specified that
 intermediate routers MAY store symmetric Address Vector
 information for possible use when a matchine RREP-DIO is
 received.<a href="#appendix-B.1-1.5" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.1-1.6">
 Specified that AODV-RPL uses the "P2P Route Discovery Mode of
 Operation" (MOP == 4), instead of requesting the allocation
 of a new MOP.  Clarified that there is no conflict with
 <span>[<a href="#RFC6997" class="xref">RFC6997</a>]</span>.<a href="#appendix-B.1-1.6" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.1-1.7">
 Fixed several important typos and improved language in
 numerous places.<a href="#appendix-B.1-1.7" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.1-1.8">
 Reorganized the steps in the specification for handling RREQ
 and RREP at an intermediate router, to more closely follow the
 order of processing actions to be taken by the router.<a href="#appendix-B.1-1.8" class="pilcrow">¶</a>
</li>
        </ul>
</section>
<section id="appendix-B.2">
        <h3 id="name-changes-from-version-10-to-">
<a href="#appendix-B.2" class="section-number selfRef">B.2. </a><a href="#name-changes-from-version-10-to-" class="section-name selfRef">Changes from version 10 to version 11</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-B.2-1.1">
 Numerous editorial improvements.<a href="#appendix-B.2-1.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.2-1.2">
 Replace Floor((7+(Prefix Length))/8) by Ceil(Prefix Length/8)
 for simplicity and ease of understanding.<a href="#appendix-B.2-1.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.2-1.3">
 Use "L field" instead of "L bit" since L is a two-bit field.<a href="#appendix-B.2-1.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.2-1.4">
 Improved the procedures in section 6.2.1.<a href="#appendix-B.2-1.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.2-1.5">
 Define the S bit of the data structure a router uses to
 represent whether or not the RREQ instance is for a symmetric
 or an asymmetric route.  This replaces text in the document
 that was a holdover from earlier versions in which the RREP
 had an S bit for that purpose.<a href="#appendix-B.2-1.5" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.2-1.6">
 Quote terminology from AODV that has been identified as
 possibly originating in language reflecting various kinds
 of bias against certain cultures.<a href="#appendix-B.2-1.6" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.2-1.7">
 Clarified the relationship of AODV-RPL to RPL.<a href="#appendix-B.2-1.7" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.2-1.8">
 Eliminated the "Point-to-Point" terminology to avoid
 suggesting only a single link.<a href="#appendix-B.2-1.8" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.2-1.9">
 Modified certain passages to better reflect the possibility
 that a router might have multiple IP addresses.<a href="#appendix-B.2-1.9" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.2-1.10">
 "Rsv" replaced by "X X" for reserved field.<a href="#appendix-B.2-1.10" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.2-1.11">
 Added mandates for reserved fields, and replaces some
 ambiguous language phraseology by mandates.<a href="#appendix-B.2-1.11" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.2-1.12">
 Replaced "retransmit" terminology by more correct "propagate"
 terminology.<a href="#appendix-B.2-1.12" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.2-1.13">
 Added text about determining link symmetry near
 <a href="#figSymm-b" class="xref">Figure 5</a>.<a href="#appendix-B.2-1.13" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.2-1.14">
 Mandated checking the Address Vector to avoid routing loops.<a href="#appendix-B.2-1.14" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.2-1.15">
 Improved specification for use of the Shift value in
 <a href="#instancepairing" class="xref">Section 6.3.3</a>.<a href="#appendix-B.2-1.15" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.2-1.16">
 Corrected the wrong use of RREQ-Instance to be RREP-Instance.<a href="#appendix-B.2-1.16" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.2-1.17">
 Referred to Subregistry values instead of Registry values
 in <a href="#iana" class="xref">Section 9</a>.<a href="#appendix-B.2-1.17" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.2-1.18">
 Sharpened language in <a href="#sec" class="xref">Section 10</a>, eliminated
 misleading use of capitalization in the words
 "Security Configuration".<a href="#appendix-B.2-1.18" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.2-1.19">
 Added acknowledgements and contributors.<a href="#appendix-B.2-1.19" class="pilcrow">¶</a>
</li>
        </ul>
</section>
<section id="appendix-B.3">
        <h3 id="name-changes-from-version-09-to-">
<a href="#appendix-B.3" class="section-number selfRef">B.3. </a><a href="#name-changes-from-version-09-to-" class="section-name selfRef">Changes from version 09 to version 10</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-B.3-1.1">
 Changed the title for brevity and to remove acronyms.<a href="#appendix-B.3-1.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.3-1.2">
 Added "Note to the RFC Editor" in <a href="#iana" class="xref">Section 9</a>.<a href="#appendix-B.3-1.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.3-1.3">
 Expanded DAO and P2MP in <a href="#Introduction" class="xref">Section 1</a>.<a href="#appendix-B.3-1.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.3-1.4">
 Reclassified <span>[<a href="#RFC6998" class="xref">RFC6998</a>]</span> and
 <span>[<a href="#RFC7416" class="xref">RFC7416</a>]</span> as Informational.<a href="#appendix-B.3-1.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.3-1.5">
 SHOULD changed to MUST in <a href="#RREQmsg" class="xref">Section 4.1</a>
 and <a href="#RREPmsg" class="xref">Section 4.2</a>.<a href="#appendix-B.3-1.5" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.3-1.6">
 Several editorial improvements and clarifications.<a href="#appendix-B.3-1.6" class="pilcrow">¶</a>
</li>
        </ul>
</section>
<section id="appendix-B.4">
        <h3 id="name-changes-from-version-08-to-">
<a href="#appendix-B.4" class="section-number selfRef">B.4. </a><a href="#name-changes-from-version-08-to-" class="section-name selfRef">Changes from version 08 to version 09</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-B.4-1.1">
 Removed section "Link State Determination" and put some of the
 relevant material into <a href="#channel" class="xref">Section 5</a>.<a href="#appendix-B.4-1.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.4-1.2">
 Cited security section of <span>[<a href="#RFC6550" class="xref">RFC6550</a>]</span> as part of
 the RREP-DIO message description in <a href="#terms" class="xref">Section 2</a>.<a href="#appendix-B.4-1.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.4-1.3">
 SHOULD has been changed to MUST in <a href="#RREPmsg" class="xref">Section 4.2</a>.<a href="#appendix-B.4-1.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.4-1.4">
 Expanded the terms ETX and RSSI in <a href="#channel" class="xref">Section 5</a>.<a href="#appendix-B.4-1.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.4-1.5">
            <a href="#forwardRREP" class="xref">Section 6.4</a> has been expanded to provide
 a more precise explanation of the handling of route reply.<a href="#appendix-B.4-1.5" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.4-1.6">
 Added <span>[<a href="#RFC7416" class="xref">RFC7416</a>]</span> in the Security Considerations
 (<a href="#sec" class="xref">Section 10</a>) for RPL security threats.
 Cited <span>[<a href="#RFC6550" class="xref">RFC6550</a>]</span> for authenticated
 mode of operation.<a href="#appendix-B.4-1.6" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.4-1.7">
 Appendix A has been mostly re-written to describe methods
 to determine whether or not the S bit should be set to 1.<a href="#appendix-B.4-1.7" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.4-1.8">
 For consistency, adjusted several mandates from SHOULD to MUST
 and from SHOULD NOT to MUST NOT.<a href="#appendix-B.4-1.8" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.4-1.9">
 Numerous editorial improvements and clarifications.<a href="#appendix-B.4-1.9" class="pilcrow">¶</a>
</li>
        </ul>
</section>
<section id="appendix-B.5">
        <h3 id="name-changes-from-version-07-to-">
<a href="#appendix-B.5" class="section-number selfRef">B.5. </a><a href="#name-changes-from-version-07-to-" class="section-name selfRef">Changes from version 07 to version 08</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-B.5-1.1">
 Instead of describing the need for routes to
 "fulfill the requirements", specify that routes need to
 "satisfy the Objective Function".<a href="#appendix-B.5-1.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.5-1.2">
 Removed all normative dependencies on <span>[<a href="#RFC6997" class="xref">RFC6997</a>]</span><a href="#appendix-B.5-1.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.5-1.3">
 Rewrote <a href="#sec" class="xref">Section 10</a> to avoid duplication of language
 in cited specifications.<a href="#appendix-B.5-1.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.5-1.4">
 Added a new section "Link State Determination"
  with text and citations to
 more fully describe how implementations determine whether
 links are symmetric.<a href="#appendix-B.5-1.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.5-1.5">
 Modified text comparing AODV-RPL to other protocols to
 emphasize the need for AODV-RPL instead of the problems with
 the other protocols.<a href="#appendix-B.5-1.5" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.5-1.6">
 Clarified that AODV-RPL uses some of the base RPL specification
 but does not require an instance of RPL to run.<a href="#appendix-B.5-1.6" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.5-1.7">
 Improved capitalization, quotation, and spelling variations.<a href="#appendix-B.5-1.7" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.5-1.8">
 Specified behavior upon reception of a RREQ-DIO or RREP-DIO
 message for an already existing DODAGID
 (e.g, <a href="#forwardRREP" class="xref">Section 6.4</a>).<a href="#appendix-B.5-1.8" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.5-1.9">
 Fixed numerous language issues in IANA Considerations
 <a href="#iana" class="xref">Section 9</a>.<a href="#appendix-B.5-1.9" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.5-1.10">
 For consistency, adjusted several mandates from SHOULD to MUST
 and from SHOULD NOT to MUST NOT.<a href="#appendix-B.5-1.10" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.5-1.11">
 Numerous editorial improvements and clarifications.<a href="#appendix-B.5-1.11" class="pilcrow">¶</a>
</li>
        </ul>
</section>
<section id="appendix-B.6">
        <h3 id="name-changes-from-version-06-to-">
<a href="#appendix-B.6" class="section-number selfRef">B.6. </a><a href="#name-changes-from-version-06-to-" class="section-name selfRef">Changes from version 06 to version 07</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-B.6-1.1">
 Added definitions for all fields of the ART option
 (see <a href="#artop" class="xref">Section 4.3</a>).  Modified definition of
 Prefix Length to prohibit Prefix Length values greater
 than 127.<a href="#appendix-B.6-1.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.6-1.2">
 Modified the language from <span>[<a href="#RFC6550" class="xref">RFC6550</a>]</span>
 Target Option definition so that the trailing zero bits
 of the Prefix Length are no longer described as "reserved".<a href="#appendix-B.6-1.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.6-1.3">
 Reclassified <span>[<a href="#RFC3561" class="xref">RFC3561</a>]</span> and
 <span>[<a href="#RFC6998" class="xref">RFC6998</a>]</span> as Informative.<a href="#appendix-B.6-1.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.6-1.4">
 Added citation for <span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span> to Terminology
 section.<a href="#appendix-B.6-1.4" class="pilcrow">¶</a>
</li>
        </ul>
</section>
<section id="appendix-B.7">
        <h3 id="name-changes-from-version-05-to-">
<a href="#appendix-B.7" class="section-number selfRef">B.7. </a><a href="#name-changes-from-version-05-to-" class="section-name selfRef">Changes from version 05 to version 06</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-B.7-1.1">
 Added Security Considerations based on the security
 mechanisms defined in <span>[<a href="#RFC6550" class="xref">RFC6550</a>]</span>.<a href="#appendix-B.7-1.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.7-1.2">
 Clarified the nature of improvements due to P2P route
 discovery versus
 bidirectional asymmetric route discovery.<a href="#appendix-B.7-1.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.7-1.3">
 Editorial improvements and corrections.<a href="#appendix-B.7-1.3" class="pilcrow">¶</a>
</li>
        </ul>
</section>
<section id="appendix-B.8">
        <h3 id="name-changes-from-version-04-to-">
<a href="#appendix-B.8" class="section-number selfRef">B.8. </a><a href="#name-changes-from-version-04-to-" class="section-name selfRef">Changes from version 04 to version 05</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-B.8-1.1">
 Add description for sequence number operations.<a href="#appendix-B.8-1.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.8-1.2">
 Extend the residence duration L in section 4.1.<a href="#appendix-B.8-1.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.8-1.3">
 Change AODV-RPL Target option to ART option.<a href="#appendix-B.8-1.3" class="pilcrow">¶</a>
</li>
        </ul>
</section>
<section id="appendix-B.9">
        <h3 id="name-changes-from-version-03-to-">
<a href="#appendix-B.9" class="section-number selfRef">B.9. </a><a href="#name-changes-from-version-03-to-" class="section-name selfRef">Changes from version 03 to version 04</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-B.9-1.1">
 Updated RREP option format. Remove the T bit in RREP option.<a href="#appendix-B.9-1.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.9-1.2">
 Using the same RPLInstanceID for RREQ and RREP,
 no need to update <span>[<a href="#RFC6550" class="xref">RFC6550</a>]</span>.<a href="#appendix-B.9-1.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.9-1.3">
 Explanation of Shift field in RREP.<a href="#appendix-B.9-1.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.9-1.4">
 Multiple target options handling during transmission.<a href="#appendix-B.9-1.4" class="pilcrow">¶</a>
</li>
        </ul>
</section>
<section id="appendix-B.10">
        <h3 id="name-changes-from-version-02-to-">
<a href="#appendix-B.10" class="section-number selfRef">B.10. </a><a href="#name-changes-from-version-02-to-" class="section-name selfRef">Changes from version 02 to version 03</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-B.10-1.1">
 Include the support for source routing.<a href="#appendix-B.10-1.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.10-1.2">
 Import some features from <span>[<a href="#RFC6997" class="xref">RFC6997</a>]</span>, e.g.,
 choice between hop-by-hop and source routing, the L field
 which determines the duration of residence in the DAG,
 MaxRank, etc.<a href="#appendix-B.10-1.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.10-1.3">
 Define new target option for AODV-RPL, including the
 Destination Sequence Number in it. Move the TargNode address
 in RREQ option and the OrigNode address in RREP option into
 ADOV-RPL Target Option.<a href="#appendix-B.10-1.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.10-1.4">
 Support route discovery for multiple targets in one RREQ-DIO.<a href="#appendix-B.10-1.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.10-1.5">
 New RPLInstanceID pairing mechanism.<a href="#appendix-B.10-1.5" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</section>
</div>
<section id="appendix-C">
      <h2 id="name-contributors">
<a href="#appendix-C" class="section-number selfRef">Appendix C. </a><a href="#name-contributors" class="section-name selfRef">Contributors</a>
      </h2>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="appendix-C-1.1">
          <p id="appendix-C-1.1.1"> Abdur Rashid Sangi<a href="#appendix-C-1.1.1" class="pilcrow">¶</a></p>
<p id="appendix-C-1.1.2">
     Huaiyin Institute of Technology<a href="#appendix-C-1.1.2" class="pilcrow">¶</a></p>
<p id="appendix-C-1.1.3">
        No.89 North Beijing Road, Qinghe District<a href="#appendix-C-1.1.3" class="pilcrow">¶</a></p>
<p id="appendix-C-1.1.4">
        Huaian  223001<a href="#appendix-C-1.1.4" class="pilcrow">¶</a></p>
<p id="appendix-C-1.1.5">
        P.R. China<a href="#appendix-C-1.1.5" class="pilcrow">¶</a></p>
<p id="appendix-C-1.1.6">
        Email: sangi_bahrian@yahoo.com<a href="#appendix-C-1.1.6" class="pilcrow">¶</a></p>
</li>
        <li class="normal ulEmpty" id="appendix-C-1.2">
          <p id="appendix-C-1.2.1"> Malati Hegde<a href="#appendix-C-1.2.1" class="pilcrow">¶</a></p>
<p id="appendix-C-1.2.2">
     Indian Institute of Science<a href="#appendix-C-1.2.2" class="pilcrow">¶</a></p>
<p id="appendix-C-1.2.3">
     Bangalore 560012<a href="#appendix-C-1.2.3" class="pilcrow">¶</a></p>
<p id="appendix-C-1.2.4">
     India<a href="#appendix-C-1.2.4" class="pilcrow">¶</a></p>
<p id="appendix-C-1.2.5">
     Email: malati@iisc.ac.in<a href="#appendix-C-1.2.5" class="pilcrow">¶</a></p>
</li>
        <li class="normal ulEmpty" id="appendix-C-1.3">
          <p id="appendix-C-1.3.1"> Mingui Zhang<a href="#appendix-C-1.3.1" class="pilcrow">¶</a></p>
<p id="appendix-C-1.3.2">
     Huawei Technologies<a href="#appendix-C-1.3.2" class="pilcrow">¶</a></p>
<p id="appendix-C-1.3.3">
     No. 156 Beiqing Rd. Haidian District<a href="#appendix-C-1.3.3" class="pilcrow">¶</a></p>
<p id="appendix-C-1.3.4">
     Beijing  100095<a href="#appendix-C-1.3.4" class="pilcrow">¶</a></p>
<p id="appendix-C-1.3.5">
        P.R. China<a href="#appendix-C-1.3.5" class="pilcrow">¶</a></p>
<p id="appendix-C-1.3.6">
        Email: zhangmingui@huawei.com<a href="#appendix-C-1.3.6" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
<div id="authors-addresses">
<section id="appendix-D">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Charles E. Perkins</span></div>
<div dir="auto" class="left"><span class="org">Lupin Lodge</span></div>
<div dir="auto" class="left">
<span class="locality">Los Gatos</span>,  <span class="postal-code">95033</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:charliep@lupinlodge.com" class="email">charliep@lupinlodge.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">S.V.R Anand</span></div>
<div dir="auto" class="left"><span class="org">Indian Institute of Science</span></div>
<div dir="auto" class="left">
<span class="locality">Bangalore</span> <span class="postal-code">560012</span>
</div>
<div dir="auto" class="left"><span class="country-name">India</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:anandsvr@iisc.ac.in" class="email">anandsvr@iisc.ac.in</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Satish Anamalamudi</span></div>
<div dir="auto" class="left"><span class="org">SRM University-AP</span></div>
<div dir="auto" class="left"><span class="street-address">Amaravati Campus</span></div>
<div dir="auto" class="left">
<span class="locality">Amaravati, Andhra Pradesh</span> <span class="postal-code">522 502</span>
</div>
<div dir="auto" class="left"><span class="country-name">India</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:satishnaidu80@gmail.com" class="email">satishnaidu80@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Bing Liu</span></div>
<div dir="auto" class="left"><span class="org">Huawei Technologies</span></div>
<div dir="auto" class="left"><span class="street-address">No. 156 Beiqing Rd. Haidian District</span></div>
<div dir="auto" class="left"><span class="locality">Beijing</span></div>
<div dir="auto" class="left"><span class="postal-code">100095</span></div>
<div dir="auto" class="left"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:remy.liubing@huawei.com" class="email">remy.liubing@huawei.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
