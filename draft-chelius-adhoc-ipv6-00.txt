
 

Internet Draft                                               G. Chelius 
Document: draft-chelius-adhoc-ipv6-00.txt                     E. Fleury 
Expires: March 2003                                         Ares, Inria 
                                                         September 2002 
 
 
      IPv6 Addressing Architecture Support for mobile ad hoc networks 
                     <draft-chelius-adhoc-ipv6-00.txt> 
 
 
Status of this Memo 
    
   This document is an Internet-Draft and is in full conformance with 
   all provisions of Section 10 of rfc-2026. 
    
   Internet-Drafts are working documents of the Internet Engineering 
   Task Force (IETF), its areas, and its working groups.  Note that      
   other groups may also distribute working documents as Internet-
   Drafts. 
    
   Internet-Drafts are draft documents valid for a maximum of six 
   months and may be updated, replaced, or obsoleted by other documents 
   at any time.  It is inappropriate to use Internet-Drafts as 
   reference material or to cite them other than as "work in progress." 
    
   The list of current Internet-Drafts can be accessed at 
        http://www.ietf.org/ietf/1id-abstracts.txt 
   The list of Internet-Draft Shadow Directories can be accessed at 
        http://www.ietf.org/shadow.html. 
    
    
Abstract 
    
   The concept of node identifier, in practical terms an IP address, is 
   crucial in ad hoc networks. Its use allows the setup of IP routing 
   for ad hoc connectivity and the identification of several wireless 
   devices as part of a unique ad hoc node. In this document, a new 
   addressable object is defined: the ad hoc connector. It virtualizes 
   several ad hoc network interfaces into a single addressable object. 
   To locally address ad hoc connectors, a third IPv6 local-use unicast 
   address (adhoc-local address) and the correlated use of the subnet 
   multicast scope are defined. 
    
    
Table of Contents 
    
   Status of this Memo................................................1 
   Abstract...........................................................1 
   1. Introduction....................................................3 
   2. Terminology.....................................................3 
   3. Ad hoc connector................................................4 
   3.1 Ad hoc connector management....................................4 
   3.2 Interface binding..............................................5 
     
Chelius, Fleury           Expires March 2003                          1 
INTERNET-DRAFT         Ad Hoc IPv6 Architecture          September 2002 
    
   4. Addressing an ad hoc connector..................................5 
   4.1 Local addressing...............................................5 
   4.2 Global addressing..............................................6 
   5. Addressing multiple ad hoc connectors...........................6 
   5.1 Predefined ad hoc multicast addresses..........................6 
   5.2 Multicast and ad hoc sub-networks..............................7 
   5.3 Multicast membership...........................................8 
   6. Duplicated ad hoc address detection.............................8 
   7. Global Prefix Discovery.........................................8 
   8. Security Considerations.........................................8 
   9. Notes...........................................................9 
   References........................................................10 
   Author's Addresses................................................10 







































     
Chelius, Fleury           Expires March 2003                          2 
INTERNET-DRAFT         Ad Hoc IPv6 Architecture          September 2002 
    
 
1. Introduction 
    
   The notion of ad hoc network is something particular compared to 
   classical network architectures. It is a logical view that unifies 
   several physical networks in a single multigraph topology. As said 
   in [rfc2501], the concept of a "node identifier", in practical terms 
   an IP address, is crucial in ad hoc networks. Its use allows the 
   setup of IP routing for ad hoc connectivity as well as the 
   identification of several wireless devices as part of a unique ad 
   hoc node.  
    
   To gather several ad hoc interfaces in a single entity, the notion 
   of ad hoc connectors is introduced. The ad hoc connector is the 
   basic element of ad hoc networks. It virtualizes several network 
   interfaces into a single addressable object. A host may have several 
   ad hoc connectors and an interface may be bound to several ad hoc 
   connectors. The ad hoc connector defines a set of addresses which 
   identify indistinctly all bounded interfaces. 
    
   IPv6 addressing architecture proposes two local unicast addresses 
   and their equivalent multicast scope: link-local and site-local. The 
   use of link-local unicast and multicast addresses is unsuitable to 
   ad hoc networks. A link-Local unicast address refers to a single 
   interface and its validity is limited to the interface link. 
   Since an ad hoc network may be included in a larger site or spread 
   over different sites, a specific ad hoc use of site-local addresses 
   is also inappropriate. In addition, a site-local address identifies 
   a single interface whereas an ad hoc address may identify several 
   ones. 
    
   To locally address ad hoc connectors, we propose the definition of a 
   third IPv6 local-use unicast address: adhoc-local addresses. Their 
   validity is limited to an ad hoc network. They provide a basic 
   identification support for ad hoc nodes that can be extended by 
   other configuration mechanisms such as stateless global address 
   attribution.  
    
   In the IPv6 architecture scheme, an ad hoc network may be at the 
   same time, a multi-link subnet and a multi-link multi-subnet. 
   Considering the whole ad hoc network as a multi-link subnet is 
   achieved by matching a particular multicast scope, the subnet scope, 
   with the ad hoc network. To support the multi-link multi-subnet 
   vision, the notion of logical ad hoc sub-networks, also called 
   channels, is introduced. A channel is a connex set of ad hoc 
   connectors sharing a common channel value. A specific range of 
   multicast addresses is associated to each channel. It enables the 
   restriction of multicast groups to a given channel. 
    
    
2. Terminology 
    
   Ad hoc connector    - the basic element of an ad hoc network. It   
                         virtualizes several network interfaces in a  
     
Chelius, Fleury           Expires March 2003                          3 
INTERNET-DRAFT         Ad Hoc IPv6 Architecture          September 2002 
    
                         single addressable object. 
    
   Ad hoc identifier   - a 64bits value that pseudo-uniquely identifies  
                         an ad hoc connector. 
    
   Ad hoc channel      - a non null 16bits value associated to an ad  
                         hoc connector. This value indicates the ad hoc  
                         sub-network the ad hoc connector is connected    
                         to. 
    
   Ad hoc interface    - a network interface bound to an ad hoc  
                         connector. 
    
   Ad hoc host         - a host with at least one ad hoc interface.  
    
   Ad hoc route        - a network route that only transits through ad  
                         hoc interfaces.  
    
   Ad hoc network      - a maximal and connex set of ad hoc connectors.   
    
   Ad hoc sub-network  - a maximal and connex set of ad hoc connectors 
                         sharing a common channel value. 
    
   Ad hoc router       - an ad hoc node which may route packets between  
                         ad hoc network(s) and non ad hoc network(s).  
    
   Ad hoc sub-router   - an ad hoc node which may route packets between  
                         two or more ad hoc sub-networks. 
    
    
   All ad hoc nodes must be configured as IPv6 unicast and multicast 
   routers.  
    
   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", 
   "SHOULD", "SHOULD NOT", "RECOMMENDED",  "MAY", and "OPTIONAL" in 
   this document are to be interpreted as described in rfc-2119 
   [rfc2119]. 
    
    
3. Ad hoc connector 
    
   As defined in [rfc2501], a MANet is the *union* of physical-layer 
   multihop topologies, i.e. a multigraph. In this multigraph, it is 
   inappropriate to use the network interface as the basic addressable 
   element; network interfaces only exist in one single physical layer 
   topology. The ad hoc connector is defined as the basic element of ad 
   hoc networks. It is a view of mind that virtualizes several network 
   interfaces into a single addressable object. 
    
    
3.1 Ad hoc connector management 
    


     
Chelius, Fleury           Expires March 2003                          4 
INTERNET-DRAFT         Ad Hoc IPv6 Architecture          September 2002 
    
   In the network, an ad hoc connector is identified by a 64bits value, 
   the ad hoc identifier. Another 16bits non null value is associated 
   to the connector: its ad hoc channel value.  
    
   Ad hoc connectors are created and destroyed by user management. Ad 
   hoc IDs and ad hoc channel values are provided by the user at the 
   connector creation. The ad hoc channel may be changed during the ad 
   hoc connector life. A host may have several ad hoc connectors. 
   However, ad hoc connectors of a single host must have different 
   identifiers and different channel values. 
    
   For the ad hoc network to correctly behave, it is preferred for ad 
   hoc IDs to be unique. It is the user responsibility to ensure 
   uniqueness of its IDs. To build pseudo-unique IDs, host interface 
   MAC addresses or cryptographic mechanisms such as the one described 
   in [SUCV] may be used.  
    
    
3.2 Interface binding 
    
   Network interfaces are manually bound to and unbound from ad hoc 
   connectors by user management. A network interface may be bound to 
   several ad hoc connectors and several network interfaces may be 
   bound to a same ad hoc connector. 
    
    
4. Addressing an ad hoc connector 
    
   An ad hoc connector is associated to a set of IPv6 addresses which 
   identify all bounded addresses. These addresses are an adhoc-local 
   address and eventually one or more global addresses. The local 
   address ensures connectivity in the ad hoc network and the global 
   ones enable Internet connectivity. 
    
    
4.1 Local addressing 
    
   To address an ad hoc connector inside an ad hoc network, we define a 
   third type of local-use unicast address: adhoc-local. The adhoc-
   local scope is for use in a single adhoc network. It is valid in all 
   ad hoc sub-networks of the ad hoc network. Adhoc-Local addresses 
   have the following format:  
    
    
   |    10    |                         |                            |  
   |   bits   |        54 bits          |         64 bits            |  
   +----------+-------------------------+----------------------------+  
   |1111111001|            0            |    ad hoc connector ID     |  
   +----------+-------------------------+----------------------------+  
    
    
    
   Each ad hoc connector is associated to a single adhoc-local address 
   constructed using its identifier. 
     
Chelius, Fleury           Expires March 2003                          5 
INTERNET-DRAFT         Ad Hoc IPv6 Architecture          September 2002 
    
    
   Ad Hoc nodes must not forward any packet with adhoc-local source or 
   destination through a non ad hoc interface.  
    
   In addition to addresses given in [rfc2373], an ad hoc interface is 
   required to recognize the following addresses as identifying itself:  
    
        o adhoc-local addresses of all ad hoc connectors it is bounded  
          to. 
    
   An ad hoc interface is required to join the solicited-node multicast 
   groups associated to the following unicast addresses:  
    
        o adhoc-local addresses of all ad hoc connectors it is bounded  
          to. 
    
    
4.2 Global addressing 
    
   Ad hoc connectors may be addressed using global addresses if global 
   prefixes are available in the ad hoc network. 
    
   If a given global prefix P is delivered to an ad hoc connector with 
   identifier Id, the global address constructed by concatenation of P 
   and Id is associated to the ad hoc connector 
    
   An ad hoc interface is required to recognize the following addresses 
   as identifying itself:  
    
        o all global addresses associated to all ad hoc connectors it 
          is bounded to. 
    
   An ad hoc interface is required to join the solicited-node multicast 
   groups associated to the following unicast addresses:  
    
        o all global addresses associated to all ad hoc connectors it  
          is bounded to. 
    
    
5. Addressing multiple ad hoc connectors 
    
   To address multiple ad hoc connectors and to limit the scope of a 
   multicast group to an ad hoc network, we use the subnet multicast 
   scope as defined in [IPV6ADDR].  
    
    
5.1 Predefined ad hoc multicast addresses 
    
   In addition to the ones given in [IPV6ADDR], the following well-
   known ad hoc multicast addresses are predefined:  
 
   "All ad hoc nodes" address:   
                       FF03:0:0:0:0:0:0:1  
                       
     
Chelius, Fleury           Expires March 2003                          6 
INTERNET-DRAFT         Ad Hoc IPv6 Architecture          September 2002 
    
   The above multicast address identifies the group of all IPv6 ad hoc 
   nodes within the ad hoc network. 
    
   "All ad hoc routers" address:   
                       FF03:0:0:0:0:0:0:A  
                       
   The above multicast address identifies the group of all IPv6 ad hoc 
   routers within the ad hoc network. 
    
   "All ad hoc sub-routers" address:   
                       FF03:0:0:0:0:0:0:B 
    
   The above multicast address identifies the group of all IPv6 ad hoc 
   sub-routers within the ad hoc network. 
    
   Ad Hoc nodes must not forward any multicast packet with subnet scope 
   through a non ad hoc interface.  
    
    
5.2 Multicast and ad hoc sub-networks 
    
   To address multiple ad hoc connectors inside a single ad hoc sub-
   network and to limit the scope of a multicast group to an ad hoc 
   sub-network, we define a range of multicast addresses: 
                       FF03:0:0:channel value:0:0:0:0  
    
   For a given channel value X, the following well-known ad hoc 
   multicast addresses are predefined:  
    
   Reserved Multicast Address:   
                       FF03:0:0:X:0:0:0:0 
                       
   The above multicast address is reserved and shall never be assigned 
   to any multicast group.  
    
   "All ad hoc nodes of a sub-network" address:   
                       FF03:0:0:X:0:0:0:1  
    
   The above multicast address identifies the group of all IPv6 nodes 
   within the ad hoc sub-network.  
    
   "All ad hoc routers of a sub-network" address:   
                       FF03:0:0:X:0:0:0:A  
    
   The above multicast address identifies the group of all IPv6 ad hoc 
   routers within the ad hoc sub-network. 
    
   "All ad hoc sub-routers of a sub-network" address:   
                       FF03:0:0:X:0:0:0:B 
    
   The above multicast address identifies the group of all IPv6 ad hoc 
   sub-routers within the ad hoc sub-network. 
    

     
Chelius, Fleury           Expires March 2003                          7 
INTERNET-DRAFT         Ad Hoc IPv6 Architecture          September 2002 
    
   Ad Hoc nodes must not forward any multicast packet limited to an ad 
   hoc sub-network with channel value X through an interface that is 
   not connected to an ad hoc connector with channel value X. 
    
 
5.3 Multicast membership 
    
   Ad hoc interfaces must join the following multicast groups: 
         
        o "All ad hoc nodes" 
        o "All ad hoc nodes of a sub-network" for the channel values of  
          the ad hoc connectors they are bounded to.  
    
   In addition, ad hoc interfaces of ad hoc routers must join the 
   following groups: 
    
        o "All ad hoc routers" 
        o "All ad hoc routers of a sub-network" for the channel  
          values of the ad hoc connectors they are bounded to. 
    
   In addition, ad hoc interfaces of ad hoc sub-routers must join the 
   following groups: 
    
        o "All ad hoc sub-routers" 
        o "All ad hoc sub-routers of a sub-network" for the channel  
          values of the ad hoc connectors they are bounded to. 
    
    
6. Duplicated ad hoc address detection 
    
   Ad hoc specific Duplicated Address Detection (DAD) may be performed 
   once or several times, eventually periodically, on ad hoc addresses. 
   Ad hoc specific DAD is not mandatory since it is not safe. 
    
   It is an ad hoc node responsibility to ensure uniqueness of its ad 
   hoc addresses; either using an ad hoc specific DAD, either using 
   unique or pseudo-unique ad hoc connector identifiers. 
    
   Classical DAD protocols are inappropriate in the ad hoc environment. 
   Definition of an appropriate protocol is behind the scope of this 
   document. An example is given in [AUTOCONF]. 
    
    
7. Global Prefix Discovery 
    
   Global prefixes may be manually or automatically delivered to ad hoc 
   connectors. Definition of an ad hoc specific Prefix Discovery 
   Protocol is behind the scope of this document. An example is given 
   in [CONNECT]. 
    
    
8. Security Considerations  
    

     
Chelius, Fleury           Expires March 2003                          8 
INTERNET-DRAFT         Ad Hoc IPv6 Architecture          September 2002 
    
   IPv6 addressing documents do not have any direct impact on Internet 
   infrastructure security. Authentication of IPv6 packets is defined 
   in [AUTH].  
    
   This document does not modify security issues related to ad hoc 
   networks.  
    
    
9. Notes 
    
   Values of the adhoc-local unicast prefix and predefined multicast 
   addresses are given as examples and are not restrictive. Addresses 
   and prefixes must be attributed by the IANA. 
    








































     
Chelius, Fleury           Expires March 2003                          9 
INTERNET-DRAFT         Ad Hoc IPv6 Architecture          September 2002 
    
References 
    
   [AUTH]    Atkinson, R., "IP Authentication Header", RFC 1826, August 
   1995. 
    
   [rfc2373] Hinden, R. and Deering, S., "IP Version 6 Addressing 
   Architecture", RFC 2373, July 1998. 
    
   [rfc2461] Narten, T. and Nordmark, E. and Simpson, W., "Neighbor 
   Discovery for IP version 6 (IPv6)", RFC 2461, December 1998. 
     
   [rfc2501] Corson, S. and Macker, J., "Mobile Ad hoc Networking 
   (MANET): Routing Protocol Performance Issues and Evaluation 
   Considerations", RFC 2501, January 1999. 
 
   [AUTOCONF]   Perkins, C. and Malinen, J. and Wakikawa, R. and 
   Belding-Royer, E. And Sun, Y., "IP Address Autoconfiguration for Ad 
   Hoc Networks", Internet draft, draft-ietf-manet-autoconf-01.txt. 
    
   [SUCV]    Montenegro, G. and Castelluccia, C., "SUCV Identifiers and  
   Addresses", Internet draft, draft-montenegro-sucv-02.txt. 
    
   [IPV6ADDR]  Hinden, R. and Deering, S., "IP Version 6 Addressing 
   Architecture", Internet draft, draft-ietf-ipngwg-addr-arch-v3-
   08.txt. 
    
   [CONNECT] Wakikawa, R. and Malinen, J. and Perkins, C. and Nilsson, 
   A. and Tuominen, A., "Global connectivity for IPv6 Mobile Ad Hoc 
   Networks", Internet draft, draft-wakikawa-manet-globalv6-01.txt. 
    
 
Author's Addresses 
    
   Guillaume Chelius  
   Ares, Inria  
   Batiment Leonard de Vinci  
   21 avenue Jean Capelle  
   69621 Villeurbanne Cedex  
   France              
   Email:  gchelius@telecom.insa-lyon.fr  
    
   Eric Fleury  
   Ares, Inria  
   Batiment Leonard de Vinci  
   21 avenue Jean Capelle  
   69621 Villeurbanne Cedex  
   France 
   Email: Eric.Fleury@inria.fr 






     
Chelius, Fleury           Expires March 2003                         10 