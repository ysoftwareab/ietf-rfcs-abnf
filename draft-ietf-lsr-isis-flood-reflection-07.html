<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>IS-IS Flood Reflection</title>
<meta content="Tony Przygienda" name="author">
<meta content="Chris Bowers" name="author">
<meta content="Yiu Lee" name="author">
<meta content="Alankar Sharma" name="author">
<meta content="Russ White" name="author">
<meta content="
       This document describes a backwards compatible, optional
                IS-IS extension that allows the creation of IS-IS flood reflection
                topologies.  Flood reflection allows
 topologies in which L1 areas provide transit forwarding for L2 using all
                available L1 nodes internally.  It accomplishes this by creating L2 flood reflection
 adjacencies within each L1 area. Those adjacencies are
 used to flood L2 LSPDUs, and they are used in the L2 SPF computation.
 However, they are not used for forwarding within the flood reflection cluster.  This arrangement gives
 the L2 topology significantly better scaling properties.  As additional benefit,
                only those routers directly participating
 in flood reflection have to support the feature.  This allows for the
 incremental deployment of scalable L1 transit areas in an existing network, without
 the necessity of upgrading other routers in the network.
       
    " name="description">
<meta content="xml2rfc 3.11.1" name="generator">
<meta content="draft-ietf-lsr-isis-flood-reflection-07" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.11.1
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.6.4
    pycountry 20.7.3
    pyflakes 2.4.0
    PyYAML 6.0
    requests 2.26.0
    setuptools 59.1.1
    six 1.16.0
-->
<link href="/tmp/draft-ietf-lsr-isis-flood-reflector.v2v3-34jawdyp.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">draft-ietf-lsr-isis-flood-reflection</td>
<td class="right">December 2021</td>
</tr></thead>
<tfoot><tr>
<td class="left">Przygienda, et al.</td>
<td class="center">Expires 12 June 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Network Working Group</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-ietf-lsr-isis-flood-reflection-05</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2021-12-09" class="published">9 December 2021</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Experimental</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-06-12">12 June 2022</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">A. Przygienda, <span class="editor">Ed.</span>
</div>
<div class="org">Juniper</div>
</div>
<div class="author">
      <div class="author-name">C. Bowers</div>
<div class="org">Juniper</div>
</div>
<div class="author">
      <div class="author-name">Y. Lee</div>
<div class="org">Comcast</div>
</div>
<div class="author">
      <div class="author-name">A. Sharma</div>
<div class="org">Comcast</div>
</div>
<div class="author">
      <div class="author-name">R. White</div>
<div class="org">Juniper</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">IS-IS Flood Reflection</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This document describes a backwards compatible, optional
                IS-IS extension that allows the creation of IS-IS flood reflection
                topologies.  Flood reflection allows
 topologies in which L1 areas provide transit forwarding for L2 using all
                available L1 nodes internally.  It accomplishes this by creating L2 flood reflection
 adjacencies within each L1 area. Those adjacencies are
 used to flood L2 LSPDUs, and they are used in the L2 SPF computation.
 However, they are not used for forwarding within the flood reflection cluster.  This arrangement gives
 the L2 topology significantly better scaling properties.  As additional benefit,
                only those routers directly participating
 in flood reflection have to support the feature.  This allows for the
 incremental deployment of scalable L1 transit areas in an existing network, without
 the necessity of upgrading other routers in the network.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<section class="note" id="section-note.1">
      <h2 id="name-requirements-language">
<a href="#name-requirements-language" class="section-name selfRef">Requirements Language</a>
      </h2>
<p id="section-note.1-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
                "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
                document are to be interpreted as described in <span><a href="#RFC2119" class="xref">RFC 2119</a> [<a href="#RFC2119" class="xref">RFC2119</a>]</span>.<a href="#section-note.1-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 12 June 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2021 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-glossary" class="xref">Glossary</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1" class="keepWithNext"><a href="#section-3" class="xref">3</a>.  <a href="#name-further-details" class="xref">Further Details</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-encodings" class="xref">Encodings</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-flood-reflection-tlv" class="xref">Flood Reflection TLV</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-flood-reflection-discovery-" class="xref">Flood Reflection Discovery Sub-TLV</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="xref">4.3</a>.  <a href="#name-flood-reflection-discovery-t" class="xref">Flood Reflection Discovery Tunnel Type Sub-Sub-TLV</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4">
                <p id="section-toc.1-1.4.2.4.1"><a href="#section-4.4" class="xref">4.4</a>.  <a href="#name-flood-reflection-adjacency-" class="xref">Flood Reflection Adjacency Sub-TLV</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.5">
                <p id="section-toc.1-1.4.2.5.1"><a href="#section-4.5" class="xref">4.5</a>.  <a href="#name-flood-reflection-discovery" class="xref">Flood Reflection Discovery</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.6">
                <p id="section-toc.1-1.4.2.6.1"><a href="#section-4.6" class="xref">4.6</a>.  <a href="#name-flood-reflection-adjacency-f" class="xref">Flood Reflection Adjacency Formation</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-route-computation" class="xref">Route Computation</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="xref">5.1</a>.  <a href="#name-tunnel-based-deployment" class="xref">Tunnel Based Deployment</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="xref">5.2</a>.  <a href="#name-no-tunnel-deployment" class="xref">No Tunnel Deployment</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-redistribution-of-prefixes" class="xref">Redistribution of Prefixes</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-special-considerations" class="xref">Special Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a href="#section-8.1" class="xref">8.1</a>.  <a href="#name-new-is-is-tlv-codepoint" class="xref">New IS-IS TLV Codepoint</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a href="#section-8.2" class="xref">8.2</a>.  <a href="#name-sub-tlvs-for-tlv-242" class="xref">Sub TLVs for TLV 242</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.3">
                <p id="section-toc.1-1.8.2.3.1"><a href="#section-8.3" class="xref">8.3</a>.  <a href="#name-sub-sub-tlvs-for-flood-refl" class="xref">Sub-sub TLVs for Flood Reflection Discovery sub-TLV</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.4">
                <p id="section-toc.1-1.8.2.4.1"><a href="#section-8.4" class="xref">8.4</a>.  <a href="#name-sub-tlvs-for-tlv-22-23-25-1" class="xref">Sub TLVs for TLV 22, 23, 25, 141, 222, and 223</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-acknowledgements" class="xref">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="xref">11</a>. <a href="#name-references" class="xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1">
                <p id="section-toc.1-1.11.2.1.1"><a href="#section-11.1" class="xref">11.1</a>.  <a href="#name-informative-references" class="xref">Informative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.2">
                <p id="section-toc.1-1.11.2.2.1"><a href="#section-11.2" class="xref">11.2</a>.  <a href="#name-normative-references" class="xref">Normative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#appendix-A" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1"> This section introduces the problem space and outlines the solution. Some of the terms
            may be unfamiliar to reader without extensive IS-IS background and in such case
            a glossary  is provided in <a href="#glossary" class="xref">Section 2</a>  and can be referenced.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">
                Due to the inherent properties of link-state protocols the number of IS-IS
                routers within a flooding domain is limited by processing and flooding
                overhead on each node. While that number
                can be maximized by well written implementations and techniques such as
                exponential back-offs, IS-IS will still reach a saturation point where no further
                routers can be added to a single flooding domain.
                In some L2 backbone deployment scenarios, this limit presents a significant challenge.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">
 The traditional approach to increasing the scale of an IS-IS deployement is
 to break it up into multiple L1 flooding domains and a single L2
 backbone. This works well for designs where an L2 backbone connects L1
                access topologies, but it is limiting where a large L2 is supposed to span
                large number of routers. In such scenarios, an alternative approach is to
                consider multiple
 L2 flooding domains connected together via L1 flooding domains.
                In other words, L2 flooding domains are connected by "L1/L2 lanes" through
 the L1 areas to form a single L2 backbone again. Unfortunately, in its
 simplest implementation, this requires the inclusion of most, or all, of
 the transit L1 routers as L1/L2 to allow traffic to flow along optimal
 paths through such transit areas. Consequently, this approach
 fails to reduce the number of L2 routers involved, so it fails to increase the
 scalability of the L2 backbone.<a href="#section-1-3" class="pilcrow">¶</a></p>
<span id="name-example-topology-of-l1-with"></span><div id="f1">
<figure id="figure-1">
        <div class="alignLeft art-text artwork" id="section-1-4.1">
<pre>

+====+  +=======+             +=======+               +======-+  +====+
I R1 I  I  R10  +-------------+  R20  +---------------+  R30  I  I R4 I
I L2 +--+ L1/L2 I             I  L1   I               I L1/L2 +--+ L2 I
I    I  I       +          +--+       I  +------------+       I  I    I
+====+  ++====+=+          |  +===+===+  |            +=+==+=++  +====+
         |    |            |      |      |              |    |
         |    |            |      |      |  +-----------+    |
         |    +-------+    |      |      |  |                |
         |            |    |      |      |  |                |
         |            |    |      |      |  |                |
         |            |    |      |      |  |                |
+====+  ++=====-+     |    |  +===+===+--+  |         +======++  +====+
I R2 I  I  R11  I     |    |  I  R21  I     |         I  R31  I  I R5 I
I L2 +--+ L1/L2 +-------------+  L1   +---------------+ L1/L2 +--+ L2 I
I    I  I       I     |    |  I       I     | +-------+       I  I    I
+====+  ++=====-+     |    |  ++==+==++     | |       +======++  +====+
         |            |    |   |  |  |      | |              |
         | +---------------+   |  |  |      | |              |
         | |          |        |  |  |      | |              |
         | |  +----------------+  |  +-----------------+     |
         | |  |       |           |         | |        |     |
+====+  ++=+==+=+     +-------+===+===+-----+ |       ++=====++  +====+
I R3 I  I  R12  I             I  R22  I       |       +  R32  I  I R6 I
I L2 +--+ L1/L2 I             I  L1   +-------+       I L1/L2 +--+ L2 I
I    I  I       +-------------+       +---------------+       I  I    I
+====+  +=======+             +=======+               +=======+  +====+

</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-example-topology-of-l1-with" class="selfRef">Example Topology of L1 with L2 Borders</a>
        </figcaption></figure>
</div>
<p id="section-1-5">
                <a href="#f1" class="xref">Figure 1</a> is an example of a network where a topologically rich L1 area
                is used to provide transit between six different L2-only routers (R1-R6).  Note that
 the six L2-only routers do not have connectivity to one another over L2 links.
 To take advantage of the abundance of paths in the L1 transit area,
                all the intermediate systems could be placed into both L1 and L2, but this
                essentially combines the separate L2 flooding domains into a single one,
                triggering again maximum L2 scale limitation we try to address in first place.<a href="#section-1-5" class="pilcrow">¶</a></p>
<p id="section-1-6"> A more effective solution would allow to reduce the number of links and routers exposed
                in L2, while still utilizing
                the full L1 topology when forwarding through the network.<a href="#section-1-6" class="pilcrow">¶</a></p>
<p id="section-1-7"> <span>[<a href="#RFC8099" class="xref">RFC8099</a>]</span> describes Topology Transparent Zones (TTZ) for OSPF.
     The TTZ mechanism represents a group of OSPF routers as a full mesh of adjacencies
 between the routers at the edge of the group.  A similar mechanism
                could be applied to IS-IS as well.  However, a full mesh of adjacencies between edge routers
 (or L1/L2 nodes) significantly limits the scale of the topology.
 The topology in <a href="#f1" class="xref">Figure 1</a> has 6 L1/L2 nodes.   <a href="#f2" class="xref">Figure 2</a> illustrates
 a full mesh of L2 adjacencies between the 6 L1/L2 nodes, resulting in
 (5 * 6)/2 = 15 L2 adjacencies. In a somewhat larger topology containing 20 L1/L2 nodes,
 the number of L2 adjacencies in a full mesh rises to 190.<a href="#section-1-7" class="pilcrow">¶</a></p>
<span id="name-example-topology-represente"></span><div id="f2">
<figure id="figure-2">
        <div class="alignLeft art-text artwork" id="section-1-8.1">
<pre>

+----+  +-------+    +-------------------------------+-------+  +----+
| R1 |  |  R10  |    |                               |  R30  |  | R4 |
| L2 +--+ L1/L2 +------------------------------------+ L1/L2 +--+ L2 |
|    |  |       |    |                               |       |  |    |
+----+  ++-+-+--+-+  |                             +-+--+---++  +----+
         | | |    |  |                             |    |   |
         | +----------------------------------------------+ |
         |   |    |  |                             |    | | |
         |   +-----------------------------------+ |    | | |
         |        |  |                           | |    | | |
         |     +----------------------------------------+ | |
         |     |  |  |                           | |      | |
+----+  ++-----+- |  |                           | | -----+-++  +----+
| R2 |  |  R11  | |  |                           | | |  R31  |  | R5 |
| L2 +--+ L1/L2 +------------------------------------+ L1/L2 +--+ L2 |
|    |  |       | |  |                           | | |       |  |    |
+----+  ++------+------------------------------+ | | +----+-++  +----+
         |        |  |                         | | |      | |
         |        |  |                         | | |      | |
         |    +-------------------------------------------+ |
         |    |   |  |                         | | |        |
         |    |   |  |                         +----------+ |
         |    |   |  |                           | |      | |
         |    |   |  |                           +-----+  | |
         |    |   |  |                             |   |  | |
+----+  ++----+-+-+  |                             +-+-+--+-++  +----+
| R3 |  |  R12  |    |      L2 adjacency             |  R32  |  | R6 |
| L2 +--+ L1/L2 +------------------------------------+ L1/L2 +--+ L2 |
|    |  |       |    |                               |       |  |    |
+----+  +-------+----+                               +-------+  +----+

</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-example-topology-represente" class="selfRef">Example topology represented in L2 with a full mesh of L2 adjacencies between L1/L2 nodes</a>
        </figcaption></figure>
</div>
<p id="section-1-9">
                BGP, as specified in <span>[<a href="#RFC4271" class="xref">RFC4271</a>]</span>, faced a similar scaling problem, which
                has been
                solved in many networks by deploying BGP route reflectors <span>[<a href="#RFC4456" class="xref">RFC4456</a>]</span>.
                We note that BGP route reflectors do not necessarily have to be in the
                forwarding path of the traffic. This incongruity of forwarding and control path for BGP
 route reflectors allows the control plane to scale independently of the forwarding plane.<a href="#section-1-9" class="pilcrow">¶</a></p>
<p id="section-1-10">
                We propose here a similar solution for IS-IS. A simple example of what a flood
                reflector control plane approach would look like
                is shown in <a href="#f3" class="xref">Figure 3</a>, where router R21 plays the role of a flood reflector. Each
                L1/L2 ingress/egress router builds a tunnel to the flood reflector, and an L2 adjacency is built
 over each tunnel.  In this solution, we need only 6 L2 adjacencies,
 instead of the 15 needed for a full mesh.  In a somewhat larger topology containing 20 L1/L2 nodes,
 this solution requires only 20 L2 adjacencies, instead of the 190 need for a full mesh.
                Multiple flood reflectors can be used, allowing the network operator to balance between
                resilience, path utilization, and state in the control plane. The resulting
                L2 adjacency scale is R*n, where R is the number of flood reflectors used and n is the number of
 L1/L2 nodes.  This compares quite favorably with n*(n-1)/2 L2 adjacencies
 required in a topologically fully meshed L2 solution.<a href="#section-1-10" class="pilcrow">¶</a></p>
<span id="name-example-topology-represented"></span><div id="f3">
<figure id="figure-3">
        <div class="alignLeft art-text artwork" id="section-1-11.1">
<pre>

+----+  +-------+                                    +-------+  +----+
| R1 |  |  R10  |                                    |  R30  |  | R4 |
| L2 +--+ L1/L2 +--------------+   +-----------------+ L1/L2 +--+ L2 |
|    |  |       |  L2 adj      |   |      L2 adj     |       |  |    |
+----+  +-------+  over        |   |      over       +-------+  +----+
                   tunnel      |   |      tunnel
+----+  +-------+           +--+---+--+              +-------+  +----+
| R2 |  |  R11  |           |   R21   |              |  R31  |  | R5 |
| L2 +--+ L1/L2 +-----------+  L1/L2  +--------------+ L1/L2 +--+ L2 |
|    |  |       |  L2 adj   |  flood  |   L2 adj     |       |  |    |
+----+  +-------+  over     |reflector|   over       +-------+  +----+
                   tunnel   +--+---+--+   tunnel
+----+  +-------+              |   |                 +-------+  +----+
| R3 |  |  R12  +--------------+   +-----------------+  R32  |  | R6 |
| L2 +--+ L1/L2 |  L2 adj                 L2 adj     | L1/L2 +--+ L2 |
|    |  |       |  over                   over       |       |  |    |
+----+  +-------+  tunnel                 tunnel     +-------+  +----+

</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-example-topology-represented" class="selfRef">Example topology represented in L2 with L2 adjacencies from each L1/L2 node to a single flood reflector</a>
        </figcaption></figure>
</div>
<p id="section-1-12">
 As illustrated in <a href="#f3" class="xref">Figure 3</a>, when R21 plays the role of flood reflector,
 it provides L2 connectivity among all of the previously disconnected L2 islands by
 reflooding all L2 LSPDUs.  At the same time, R20 and R22 in <a href="#f1" class="xref">Figure 1</a> remain L1-only routers.
 L1-only routers and L1-only links are not visible in L2.  In this manner, the flood
 reflector allows us provide L2 control plane connectivity in a scalable manner.<a href="#section-1-12" class="pilcrow">¶</a></p>
<p id="section-1-13">
                As described so far, the solution illustrated in  <a href="#f3" class="xref">Figure 3</a> relies
 only on currently standardized IS-IS functionality. Without new functionality, however,
                the data traffic will traverse only R21.  This will unnecessarily create a bottleneck
 at R21 since there is still available capacity in the paths crossing the L1-only
 routers R20 and R22 in <a href="#f1" class="xref">Figure 1</a>.<a href="#section-1-13" class="pilcrow">¶</a></p>
<p id="section-1-14">
                Hence, some new functionality is necessary to allow the L1/L2 edge nodes
 (R10-12 and R30-32 in <a href="#f3" class="xref">Figure 3</a>) to recognize that the L2 adjacency to R21
 should not be used for forwarding. The L1/L2 edge nodes
 should forward traffic that
                would normally be forwarded over the L2 adjacency to R21
                over L1 links instead.  This would allow the forwarding within the L1 area
 to use the L1-only nodes and links shown in <a href="#f1" class="xref">Figure 1</a> as well.  It allows
 networks to be built that use the entire forwarding capacity of the L1 areas,
 while at the same time introducing control plane scaling benefits provided by L2 flood reflectors.<a href="#section-1-14" class="pilcrow">¶</a></p>
<p id="section-1-15"> This document defines all extensions necessary to support flood reflector deployment:<a href="#section-1-15" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1-16.1">A 'flood reflector adjacency' for all the adjacencies built for the purpose of
                        reflecting flooding information. This allows these 'flood reflectors' to
                        participate in the IS-IS control plane without being used in the forwarding
                        plane. This is a purely local operation on the L1/L2 ingress; it does not
                        require replacing or modifying any routers not involved in the reflection
                        process. Deployment-wise, it is far less tricky to just upgrade the routers
                        involved in flood reflection rather than have a flag day on the whole IS-IS
                        domain.<a href="#section-1-16.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-1-16.2">An (optional) full mesh of tunnels between the L1/L2 routers, ideally
                        load-balancing across all available L1 links. This harnesses all forwarding
                        paths between the L1/L2 edge nodes without injecting unneeded
                        state into the L2 flooding domain or creating 'choke points' at the 'flood
                        reflectors' themselves. The draft is agnostic as to the tunneling technology
                        used but provides enough information for automatic establishment of such
                        tunnels. The discussion of IS-IS adjacency formation and/or liveness discovery
                        on such tunnels is outside the scope of this draft and is largely
                        choice of the underlying implementation.
                        A solution without tunnels is also possible by applying judicious
                        scoping of reachability information between the levels as described in
                        more details later.<a href="#section-1-16.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-1-16.3">
                        Some way to support reflector redundancy, and potentially some way to
                        auto-discover and advertise such adjacencies as flood reflector adjacencies.
                        Such advertisements may allow L2 nodes outside the L1
                        to perform optimizations in the future based on this information.<a href="#section-1-16.3" class="pilcrow">¶</a>
</li>
      </ul>
</section>
<div id="glossary">
<section id="section-2">
      <h2 id="name-glossary">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-glossary" class="section-name selfRef">Glossary</a>
      </h2>
<p id="section-2-1">
              This section is introduced with the intention of allowing quick reference
              in the more detailed parts of the document to terms used<a href="#section-2-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-2-2">
        <dt id="section-2-2.1">Flood Reflector:</dt>
        <dd style="margin-left: 1.5em" id="section-2-2.2">Node configured to connect L2 only to flood reflector clients and reflect (reflood) IS-IS L2 LSPs amongst them.<a href="#section-2-2.2" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.3">Flood Reflector Client:</dt>
        <dd style="margin-left: 1.5em" id="section-2-2.4">Node configured to build flood reflector adjacencies and normal L2 nodes.<a href="#section-2-2.4" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.5">Flood Reflector Adjacency:</dt>
        <dd style="margin-left: 1.5em" id="section-2-2.6">IS-IS L2 adjacency limited by one end being client and the other reflector and agreeing on the same
                  Flood Reflector Cluster ID.<a href="#section-2-2.6" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.7">Flood Reflector Cluster:</dt>
        <dd style="margin-left: 1.5em" id="section-2-2.8">Collection of clients and flood reflectors configured with the same cluster identifier. Cluster ID
                  value of 0 SHOULD NOT be used since it may be used in the future for special purposes.<a href="#section-2-2.8" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.9">
                  Tunnel Deployment:
        </dt>
        <dd style="margin-left: 1.5em" id="section-2-2.10">Deployment where flood reflector clients build a partial or full mesh of tunnels in L1  to "shortcut"
                  forwarding of L2 traffic through the cluster.<a href="#section-2-2.10" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.11">
                  No Tunnel Deployment:
        </dt>
        <dd style="margin-left: 1.5em" id="section-2-2.12">
                  Deployment where flood reflector clients redistribute L2 reachability into L1 to allow
                  forwarding through the cluster without underlying tunnels.<a href="#section-2-2.12" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.13">
                  Tunnel Endpoint:
        </dt>
        <dd style="margin-left: 1.5em" id="section-2-2.14">
                  An endpoint that allows to establish a bi-directional tunnel carrying ISIS control traffic or
                  alternately serves as origin of such tunnel.<a href="#section-2-2.14" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.15">
                  L1 shortcut:
        </dt>
        <dd style="margin-left: 1.5em" id="section-2-2.16">
                  A tunnel between two clients visible in L1 only that is used as a next-hop, i.e. to carry
                  data traffic in tunnel deployment mode.<a href="#section-2-2.16" class="pilcrow">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
</section>
</div>
<section id="section-3">
      <h2 id="name-further-details">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-further-details" class="section-name selfRef">Further Details</a>
      </h2>
<p id="section-3-1">
                Several considerations should be noted in relation to such a flood reflection mechanism.<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">
                First, this allows multi-area IS-IS deployments to scale without any major
                modifications in the IS-IS implementation on most of the nodes
                deployed in the network. Unmodified (traditional) L2 routers will
                compute reachability across the transit L1 area using the flood reflector
                adjacencies.<a href="#section-3-2" class="pilcrow">¶</a></p>
<p id="section-3-3">
                Second, the flood reflectors are not required to participate in forwarding
                traffic through the L1 transit area. These flood reflectors can
                be hosted on virtual devices outside the forwarding topology.<a href="#section-3-3" class="pilcrow">¶</a></p>
<p id="section-3-4">
                Third, astute readers will realize that flooding reflection may cause the use
                of suboptimal paths. This is similar to the BGP route reflection suboptimal
                routing problem described in <span>[<a href="#ID.draft-ietf-idr-bgp-optimal-route-reflection-28" class="xref">ID.draft-ietf-idr-bgp-optimal-route-reflection-28</a>]</span>.
                The L2 computation determines the egress L1/L2 and with that can create illusions
                of ECMP where there is none. And in certain scenarios lead to an L1/L2 egress which
                is not globally optimal. This represents a straightforward instance of the trade-off
                between the amount of control plane state and the optimal use of paths through
                the network often encountered when aggregating routing information.<a href="#section-3-4" class="pilcrow">¶</a></p>
<p id="section-3-5">
                One possible solution to this problem is to expose additional topology information into
                the L2 flooding domains. In the example network given, links from router 01 to
                router 02 can be exposed into L2 even when 01 and 02 are participating in flood reflection.
                This information would allow the L2 nodes to build 'shortcuts' when the
                L2 flood reflected part of the topology looks more expensive to cross distance wise.<a href="#section-3-5" class="pilcrow">¶</a></p>
<p id="section-3-6">Another possible variation is for
                an implementation to approximate with the tunnel cost the cost of the
                underlying topology.<a href="#section-3-6" class="pilcrow">¶</a></p>
<p id="section-3-7">
                Redundancy can be achieved by building multiple flood reflectors
                in a L1 area.  Multiple flood reflectors
                do not need any synchronization mechanisms amongst themselves, except standard
                IS-IS flooding and database maintenance procedures.<a href="#section-3-7" class="pilcrow">¶</a></p>
</section>
<section id="section-4">
      <h2 id="name-encodings">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-encodings" class="section-name selfRef">Encodings</a>
      </h2>
<div id="sec_flood_reflection_tlv">
<section id="section-4.1">
        <h3 id="name-flood-reflection-tlv">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-flood-reflection-tlv" class="section-name selfRef">Flood Reflection TLV</a>
        </h3>
<p id="section-4.1-1">
 The Flood Reflection TLV is a new top-level TLV that MAY appear in L2
 IIHs.  The Flood Reflection TLV indicates the flood reflector cluster
 (based on Flood Reflection Cluster ID) that a given router is configured to
 participate in. It also indicates whether the router is configured to
 play the role of either flood reflector or flood reflector client. The Flood Reflection
 Cluster ID and flood reflector roles advertised in the IIHs
 are used to ensure that flood reflector adjacencies are only
 formed between a flood reflector and flood reflector client, and that
 the Flood Reflection Cluster IDs match. The Flood Reflection TLV has the following format:<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.1-2">
<pre>

 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     Type      |    Length     |C|  RESERVED   |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                    Flood Reflection Cluster ID                |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   Sub-TLVs ...
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

</pre><a href="#section-4.1-2" class="pilcrow">¶</a>
</div>
<span class="break"></span><dl class="dlParallel" id="section-4.1-3">
          <dt id="section-4.1-3.1">Type:</dt>
          <dd style="margin-left: 1.5em" id="section-4.1-3.2">TBD<a href="#section-4.1-3.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.1-3.3">Length:</dt>
          <dd style="margin-left: 1.5em" id="section-4.1-3.4">The length, in octets, of the following fields.<a href="#section-4.1-3.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.1-3.5">C (Client):</dt>
          <dd style="margin-left: 1.5em" id="section-4.1-3.6">
     This bit is set to indicate that the router acts as a flood reflector client.
 When this bit is NOT set, the router acts as a flood reflector. On a given router,
 the same value of the C-bit MUST be advertised across all interfaces advertising the Flood
                        Reflection TLV in IIHs.<a href="#section-4.1-3.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.1-3.7">RESERVED:</dt>
          <dd style="margin-left: 1.5em" id="section-4.1-3.8">
     This field is reserved for future use.  It MUST be set to 0 when sent
 and MUST be ignored when received.<a href="#section-4.1-3.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.1-3.9">Flood Reflection Cluster ID:</dt>
          <dd style="margin-left: 1.5em" id="section-4.1-3.10">
            

            Flood Reflection Cluster Identifier. These same 32-bit value MUST be
 assigned to all of the flood reflectors and flood reflector clients in
 the same L1 area. The value MUST be unique across different L1 areas within
 the IGP domain. In case of violation of those rules multiple L1 areas
                        may become a single cluster or a single area may split in flood reflection
             sense and several mechanisms such as auto-discovery
            of tunnels may not work correctly.

            

            On a given router, the same value of the Flood Reflection
 Cluster ID MUST be advertised across all interfaces advertising the Flood
                        Reflection TLV in IIHs. When a router discovers that a node is using
                        multiple Cluster IDs based on its advertised TLVs and IIHs, the node
                        MAY adequately log such violations subject to rate limiting.
                        This implies that a flood reflector MUST NOT participate
                        in more than a single L1 area. In case of Cluster ID value of 0,
                        the TLV containing it MUST be ignored.<a href="#section-4.1-3.10" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.1-3.11">Sub-TLVs:</dt>
          <dd style="margin-left: 1.5em" id="section-4.1-3.12"> Optional sub-TLVs.  For future extensibility, the
 format of the Flood Reflection TLV allows for the possibility of
 including optional sub-TLVs.  No sub-TLVs of the Flood Reflection TLV
 are defined in this document.<a href="#section-4.1-3.12" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-4.1-4">
 The Flood Reflection TLV SHOULD NOT appear more than once in an IIH.  A router
 receiving multiple Flood Reflection TLVs in the same IIH MUST use the values in the
 first TLV of the lowest numbered fragment and it SHOULD adequately log such violations subject to rate limiting.<a href="#section-4.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec_flood_reflection_discovery_subtlv">
<section id="section-4.2">
        <h3 id="name-flood-reflection-discovery-">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-flood-reflection-discovery-" class="section-name selfRef">Flood Reflection Discovery Sub-TLV</a>
        </h3>
<p id="section-4.2-1">
 Flood Reflection Discovery sub-TLV is advertised as a sub-TLV of the
 IS-IS Router Capability TLV-242, defined in <span>[<a href="#RFC7981" class="xref">RFC7981</a>]</span>.
 The Flood Reflection Discovery sub-TLV is advertised in L1 and L2 LSPs with
 area flooding scope in order to enable the auto-discovery of flood
 reflection capabilities. The Flood Reflection Discovery sub-TLV has
 the following format:<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.2-2">
<pre>

 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     Type      |    Length     |C|  Reserved   |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                    Flood Reflection Cluster ID                |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

</pre><a href="#section-4.2-2" class="pilcrow">¶</a>
</div>
<span class="break"></span><dl class="dlParallel" id="section-4.2-3">
          <dt id="section-4.2-3.1">Type:</dt>
          <dd style="margin-left: 1.5em" id="section-4.2-3.2">TBD<a href="#section-4.2-3.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.2-3.3">Length:</dt>
          <dd style="margin-left: 1.5em" id="section-4.2-3.4">The length, in octets, of the following fields.<a href="#section-4.2-3.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.2-3.5">C (Client):</dt>
          <dd style="margin-left: 1.5em" id="section-4.2-3.6">
     This bit is set to indicate that the router acts as a flood reflector client.
 When this bit is NOT set, the router acts as a flood reflector.<a href="#section-4.2-3.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.2-3.7">RESERVED:</dt>
          <dd style="margin-left: 1.5em" id="section-4.2-3.8">
     This field is reserved for future use.  It MUST be set to 0 when sent
 and MUST be ignored when received.<a href="#section-4.2-3.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.2-3.9">Flood Reflection Cluster ID:</dt>
          <dd style="margin-left: 1.5em" id="section-4.2-3.10"> The Flood Reflection Cluster Identifier is
 the same as that defined in the Flood Reflection TLV and obeys the same rules.<a href="#section-4.2-3.10" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-4.2-4">
 The Flood Reflection Discovery sub-TLV SHOULD NOT appear more than once in TLV 242.  A router
 receiving multiple Flood Reflection Discovery sub-TLVs in TLV 242 MUST use the values in the
 first sub-TLV of the lowest numbered fragment and it SHOULD adequately log such violations subject to rate limiting.<a href="#section-4.2-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec_flood_reflection_discovery_tunnel_subtlv">
<section id="section-4.3">
        <h3 id="name-flood-reflection-discovery-t">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-flood-reflection-discovery-t" class="section-name selfRef">Flood Reflection Discovery Tunnel Type Sub-Sub-TLV</a>
        </h3>
<p id="section-4.3-1">
              Flood Reflection Discovery Tunnel Type sub-sub-TLV is advertised optionally as a sub-sub-TLV of the
              Flood Reflection Discovery Sub-TLV, defined in <a href="#sec_flood_reflection_discovery_subtlv" class="xref">Section 4.2</a>.
              It allows the automatic creation of L2 tunnels to be used as
              flood reflector adjacencies and L1 shortcut tunnels. The Flood Reflection Tunnel Type sub-sub-TLV has
              the following format:<a href="#section-4.3-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.3-2">
<pre>

 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+---------------+
|     Type      |    Length     | Reserved    |F|
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                Tunnel Encapsulation Attribute                 |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

</pre><a href="#section-4.3-2" class="pilcrow">¶</a>
</div>
<span class="break"></span><dl class="dlParallel" id="section-4.3-3">
          <dt id="section-4.3-3.1">Type:</dt>
          <dd style="margin-left: 1.5em" id="section-4.3-3.2">TBD<a href="#section-4.3-3.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.3-3.3">Length:</dt>
          <dd style="margin-left: 1.5em" id="section-4.3-3.4">The length, in octets, of zero or more of the following fields.<a href="#section-4.3-3.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.3-3.5">Reserved:</dt>
          <dd style="margin-left: 1.5em" id="section-4.3-3.6">
              SHOULD be 0 on transmission and ignored on reception.<a href="#section-4.3-3.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.3-3.7">F Flag:</dt>
          <dd style="margin-left: 1.5em" id="section-4.3-3.8">
                  When set indicates flood reflection tunnel endpoint, when clear, indicates
                  possible L1 shortcut tunnel endpoint.<a href="#section-4.3-3.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.3-3.9">Tunnel Encapsulation Attribute:</dt>
          <dd style="margin-left: 1.5em" id="section-4.3-3.10">
                  Carries encapsulation type and further attributes necessary for tunnel establishment
                  as defined in <span>[<a href="#RFC9012" class="xref">RFC9012</a>]</span>. Protocol type sub-TLV as defined in
                  <span>[<a href="#RFC9012" class="xref">RFC9012</a>]</span> MAY be included but MUST when F flag is set include according type
                  that allows carrying of encapsulated IS-IS frames. Such tunnel type MUST provide according
                  mechanisms to carry up to `originatingL2LSPBufferSize` sized IS-IS frames across.<a href="#section-4.3-3.10" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-4.3-4">
              A flood reflector
              receiving Flood Reflection Discovery Tunnel Type sub-sub-TLVs in Flood Reflection Discovery
              sub-TLV with F flag set
              SHOULD use one or more of the specified tunnel endpoints to automatically establish one or more
              tunnels that will serve as flood reflection adjacency(-ies) to the clients advertising the endpoints.<a href="#section-4.3-4" class="pilcrow">¶</a></p>
<p id="section-4.3-5">
              A flood reflection client
              receiving multiple Flood Reflection Discovery Tunnel Type sub-sub-TLVs in Flood Reflection Discovery
              sub-TLV with F flag clear from other leaves
              MAY use one or more of the specified tunnel endpoints to automatically establish one or more
              tunnels that will serve as L1 tunnel shortcuts to the clients advertising the endpoints.<a href="#section-4.3-5" class="pilcrow">¶</a></p>
<p id="section-4.3-6">
              In case of automatic flood reflection adjacency tunnels and in case IS-IS adjacencies are being formed across
              L1 shortcuts all the aforementioned rules in <a href="#sec_discovery" class="xref">Section 4.5</a> apply as well.<a href="#section-4.3-6" class="pilcrow">¶</a></p>
<p id="section-4.3-7">
              Optional address validation procedures
              as defined in <span>[<a href="#RFC9012" class="xref">RFC9012</a>]</span> MUST be disregarded.<a href="#section-4.3-7" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-4.4">
        <h3 id="name-flood-reflection-adjacency-">
<a href="#section-4.4" class="section-number selfRef">4.4. </a><a href="#name-flood-reflection-adjacency-" class="section-name selfRef">Flood Reflection Adjacency Sub-TLV</a>
        </h3>
<p id="section-4.4-1">
 The Flood Reflection Adjacency sub-TLV is advertised as a sub-TLV
 of TLVs 22, 23, 25, 141, 222, and 223. Its presence indicates that a
 given adjacency is a flood reflector adjacency.
 It is included in L2 area scope flooded LSPs. Flood Reflection Adjacency
 sub-TLV has the following format:<a href="#section-4.4-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.4-2">
<pre>

 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     Type      |    Length     |C|  Reserved   |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                    Flood Reflection Cluster ID                |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

</pre><a href="#section-4.4-2" class="pilcrow">¶</a>
</div>
<span class="break"></span><dl class="dlParallel" id="section-4.4-3">
          <dt id="section-4.4-3.1">Type:</dt>
          <dd style="margin-left: 1.5em" id="section-4.4-3.2">TBD<a href="#section-4.4-3.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.4-3.3">Length:</dt>
          <dd style="margin-left: 1.5em" id="section-4.4-3.4">The length, in octets, of the following fields.<a href="#section-4.4-3.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.4-3.5">C (Client):</dt>
          <dd style="margin-left: 1.5em" id="section-4.4-3.6">
     This bit is set to indicate that the router advertising this adjacency
 is a flood reflector client. When this bit is NOT set, the router advertising
 this adjacency is a flood reflector.<a href="#section-4.4-3.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.4-3.7">RESERVED:</dt>
          <dd style="margin-left: 1.5em" id="section-4.4-3.8">
     This field is reserved for future use.  It MUST be set to 0 when sent
 and MUST be ignored when received.<a href="#section-4.4-3.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.4-3.9">Flood Reflection Cluster ID:</dt>
          <dd style="margin-left: 1.5em" id="section-4.4-3.10"> The Flood Reflection Cluster Identifier is
 the same as that defined in the Flood Reflection TLV and obeys the same rules.<a href="#section-4.4-3.10" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-4.4-4">
 The Flood Reflection Adjacency sub-TLV SHOULD NOT appear more than once in a given TLV.  A router
 receiving multiple Flood Reflection Adjacency sub-TLVs in a TLV MUST use the values in the
 first sub-TLV of the lowest numbered fragment and it SHOULD adequately log such violations
          subject to rate limiting.<a href="#section-4.4-4" class="pilcrow">¶</a></p>
</section>
<div id="sec_discovery">
<section id="section-4.5">
        <h3 id="name-flood-reflection-discovery">
<a href="#section-4.5" class="section-number selfRef">4.5. </a><a href="#name-flood-reflection-discovery" class="section-name selfRef">Flood Reflection Discovery</a>
        </h3>
<p id="section-4.5-1">A router participating in flood reflection as client or reflector MUST be configured as an L1/L2 router.
 It SHOULD originate the Flood Reflection Discovery sub-TLV with area flooding scope in L1 and L2.
 Normally, all routers on the edge of the L1 area (those having traditional L2 adjacencies)
 will advertise themselves as route reflector clients. Therefore, a flood reflector client
 will have both traditional L2 adjacencies and flood reflector L2 adjacencies.<a href="#section-4.5-1" class="pilcrow">¶</a></p>
<p id="section-4.5-2"> A router acting as a flood reflector MUST NOT have any traditional L2 adjacencies except
          with flood reflector clients.  It will
  be an L1/L2 router only by virtue of having flood reflector L2 adjacencies.  A router
  desiring to act as a flood reflector SHOULD advertise itself as such using
  the Flood Reflection Discovery sub-TLV in L1 and L2.<a href="#section-4.5-2" class="pilcrow">¶</a></p>
<p id="section-4.5-3">
 A given flood reflector or flood reflector client can only participate in a single cluster,
 as determined by the value of its Flood Reflection Cluster ID and should disregard other
            routers' TLVs for flood reflection purposes if the cluster ID is not matching.<a href="#section-4.5-3" class="pilcrow">¶</a></p>
<p id="section-4.5-4">Upon reception of Flood Reflection Discovery sub-TLVs, a router acting as
 flood reflector client SHOULD initiate a tunnel towards each flood reflector with which
 it shares an Flood Reflection Cluster ID using one or more of the tunnel encapsulations
            provided with F flag being set.  The L2 adjacencies formed
 over such tunnels MUST be marked as flood reflector adjacencies.
 If the client or reflector has a direct L2 adjacency with the according remote side
            it SHOULD use it
 instead of instantiating a new tunnel.<a href="#section-4.5-4" class="pilcrow">¶</a></p>
<p id="section-4.5-5">In absence of auto-discovery an implementation
            MAY use statically configured tunnels to create flood reflection adjacencies.<a href="#section-4.5-5" class="pilcrow">¶</a></p>
<p id="section-4.5-6">
            The IS-IS metrics for all flood reflection adjacencies in a cluster SHOULD be uniform.<a href="#section-4.5-6" class="pilcrow">¶</a></p>
<p id="section-4.5-7">Upon reception of Flood Reflection Discover TLVs, a router acting as
 a flood reflector client
          MAY initiate tunnels with L1-only adjacencies towards
 any of the other flood reflector clients with lower router IDs in its cluster using encapsulations with
          F flag clear. These tunnels MAY be used for
 forwarding to improve the load-balancing characteristics of the L1 area.
          If the clients have a direct L2 adjacency
          they SHOULD use it
          instead of instantiating a new tunnel.<a href="#section-4.5-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec_adj">
<section id="section-4.6">
        <h3 id="name-flood-reflection-adjacency-f">
<a href="#section-4.6" class="section-number selfRef">4.6. </a><a href="#name-flood-reflection-adjacency-f" class="section-name selfRef">Flood Reflection Adjacency Formation</a>
        </h3>
<p id="section-4.6-1">
 In order to simplify both implementations and network deployments, this draft does not
 allow the formation of complex hierarchies of flood reflectors and clients or allow
            multiple clusters in a single L1 area.

          

          Consequently, all flood reflectors and flood reflector clients in the same L1 area MUST share the same
 Flood Reflector Cluster ID. Deployment of multiple cluster IDs in the same L1 area are outside the scope
            of this document.<a href="#section-4.6-1" class="pilcrow">¶</a></p>
<p id="section-4.6-2">
                A flood reflector MUST only form flood reflection adjacencies with flood reflector clients
                with matching Cluster ID.
                A flood reflector MUST NOT form any traditional L2 adjacencies.<a href="#section-4.6-2" class="pilcrow">¶</a></p>
<p id="section-4.6-3">
                Flood reflector clients MUST only form flood reflection adjacencies with flood reflectors
                with matching Cluster ID.<a href="#section-4.6-3" class="pilcrow">¶</a></p>
<p id="section-4.6-4">
                Flood reflector clients MAY form traditional L2 adjacencies with flood reflector clients
                or nodes not participating in flood reflection. When two clients form traditional L2
                adjacency Cluster ID is disregarded.<a href="#section-4.6-4" class="pilcrow">¶</a></p>
<p id="section-4.6-5">
 The Flood Reflector Cluster ID and flood reflector
 roles advertised in the Flood Reflection TLVs in IIHs are used to ensure
 that flood reflection adjacencies that are established meet the above criteria.<a href="#section-4.6-5" class="pilcrow">¶</a></p>
<p id="section-4.6-6">
                On change in either flood reflection role or cluster ID on IIH on the local or remote side
            the adjacency has to be
                reset and re-established if possible.<a href="#section-4.6-6" class="pilcrow">¶</a></p>
<p id="section-4.6-7">
 Once a flood reflection adjacency is established, the flood reflector and the flood
 reflector client MUST advertise the adjacency by including the Flood Reflection Adjacency
 Sub-TLV in the Extended IS reachability TLV or MT-ISN TLV.<a href="#section-4.6-7" class="pilcrow">¶</a></p>
</section>
</div>
</section>
<div id="sec_route_comp">
<section id="section-5">
      <h2 id="name-route-computation">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-route-computation" class="section-name selfRef">Route Computation</a>
      </h2>
<p id="section-5-1">
 To ensure loop-free routing, the route reflection client MUST follow the normal L2 computation
 to determine L2 routes. This is because nodes outside the L1 area will generally
 not be aware that flood reflection is being performed. The flood reflection clients
 need to produce the same result for the L2 route computation as a router not participating in
 flood reflection.<a href="#section-5-1" class="pilcrow">¶</a></p>
<section id="section-5.1">
        <h3 id="name-tunnel-based-deployment">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-tunnel-based-deployment" class="section-name selfRef">Tunnel Based Deployment</a>
        </h3>
<p id="section-5.1-1">
           In tunnel based option the reflection client, after L2 and L1 computation,
           MUST examine all L2 routes and replace all flood reflector
           adjacencies  with
           the correct underlying tunnel next-hop to the egress.<a href="#section-5.1-1" class="pilcrow">¶</a></p>
</section>
<div id="no_tunnels">
<section id="section-5.2">
        <h3 id="name-no-tunnel-deployment">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-no-tunnel-deployment" class="section-name selfRef">No Tunnel Deployment</a>
        </h3>
<p id="section-5.2-1">In case of deployment without underlying tunnels, the necessary L2 routes are distributed
            into the area, normally as L2-&gt;L1 routes.
 Due to the rules in <a href="#sec_adj" class="xref">Section 4.6</a>
 the computation in the resulting topology
 is relatively simple, the L2 SPF from a flood reflector client
 is guaranteed to reach within a hop the Flood Reflector and in the following hop the L2
 egress to which it has a forwarding tunnel again. All the flood reflector tunnel nexthops in the according
                L2 route can hence be removed and if the L2 route has no other ECMP L2 nexthops, the L2 route MUST
                be suppressed in the RIB by some means to allow the less preferred L2-&gt;L1 route to be used
                to forward traffic towards the advertising egress.<a href="#section-5.2-1" class="pilcrow">¶</a></p>
<p id="section-5.2-2">
 In the particular case the client has L2 routes
 which are not route reflected, those will be naturally preferred (such routes
                normally
                "hot-potato" route of the L1 area). However
            in the case the L2 route through the flood reflector egress is "shorter" than such present non
                flood reflected L2
            routes, the node SHOULD ensure that such routes are suppressed so the L2-&gt;L1 towards the egress
            still takes preference. Observe that operationally this can be resolved in a relatively
            simple way by configuring flood reflector adjacencies to have a high metric, i.e. the flood
            reflector topology becomes "last resort" and the leaves will try to "hot-potato" out the area
             as fast as possible which is normally the desirable behavior.<a href="#section-5.2-2" class="pilcrow">¶</a></p>
<p id="section-5.2-3">In deployment scenarios where tunnels are not used, all L1/L2 edge nodes MUST be ultimately
                flood reflector
                clients except during during transition phase.<a href="#section-5.2-3" class="pilcrow">¶</a></p>
<p id="section-5.2-4"></p>
</section>
</div>
</section>
</div>
<div id="sec_prefixes">
<section id="section-6">
      <h2 id="name-redistribution-of-prefixes">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-redistribution-of-prefixes" class="section-name selfRef">Redistribution of Prefixes</a>
      </h2>
<p id="section-6-1">
              When L2 prefixes
              need to be redistributed into L1 by the route reflector clients a client that  does not
              have
              any L2 flood reflector adjacencies MUST NOT redistribute those routes into
              the area in case of application of <a href="#no_tunnels" class="xref">Section 5.2</a>.

              The L2 prefixes advertisements redistributed into L1 with flood reflectors
              SHOULD be normally limited to L2 intra-area routes (as defined in <span>[<a href="#RFC7775" class="xref">RFC7775</a>]</span>),
              if the information exists to distinguish them from other other L2 prefix advertisements.<a href="#section-6-1" class="pilcrow">¶</a></p>
<p id="section-6-2">
              On the other hand, in topologies that make use of flood reflection to hide the structure of L1 areas
              while still providing transit forwarding across them using tunnels, we generally do not need to
              redistribute L1 prefixes advertisements into L2.<a href="#section-6-2" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-7">
      <h2 id="name-special-considerations">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-special-considerations" class="section-name selfRef">Special Considerations</a>
      </h2>
<p id="section-7-1">
 In pathological cases setting the overload bit in L1 (but not in L2) can partition
 L1 forwarding, while allowing L2 reachability through flood reflector adjacencies
 to exist. In such a case a node cannot replace a route
 through a flood reflector adjacency with a L1 shortcut and the client can use the
 L2 tunnel to the flood reflector for forwarding while it MUST initiate an alarm
 and declare misconfiguration.<a href="#section-7-1" class="pilcrow">¶</a></p>
<p id="section-7-2">
 A flood reflector with directly L2 attached prefixes should advertise those in L1
 as well since based on preference of L1 routes the clients will not try to use
 the L2 flood reflector adjacency to route the packet towards them. A very, very
 corner case is when the flood reflector is reachable via L2 flood reflector adjacency
 (due to underlying L1 partition) only in which case the client can use the
 L2 tunnel to the flood reflector for forwarding towards those prefixes
 while it MUST initiate an alarm and declare misconfiguration.<a href="#section-7-2" class="pilcrow">¶</a></p>
<p id="section-7-3">A flood reflector SHOULD NOT set the attached bit on its LSPs.<a href="#section-7-3" class="pilcrow">¶</a></p>
<p id="section-7-4">
 Instead of modifying the computation procedures one could imagine a flood
 reflector solution where the Flood Reflector would re-advertise the L2 prefixes with a
 'third-party' next-hop but that would have less desirable convergence properties
 than the solution proposed and force a fork-lift of all L2 routers to make sure
 they disregard such prefixes unless in the same L1 domain as the Flood Reflector.<a href="#section-7-4" class="pilcrow">¶</a></p>
<p id="section-7-5">
 Depending on pseudo-node choice in case of a broadcast domain with
 multiple flood reflectors attached this can lead to a partitioned
 LAN and hence a router discovering such a condition
 MUST initiate an alarm and declare misconfiguration.<a href="#section-7-5" class="pilcrow">¶</a></p>
</section>
<div id="IANA">
<section id="section-8">
      <h2 id="name-iana-considerations">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-8-1">This document requests allocation for the following IS-IS TLVs and
 Sub-TLVs.<a href="#section-8-1" class="pilcrow">¶</a></p>
<section id="section-8.1">
        <h3 id="name-new-is-is-tlv-codepoint">
<a href="#section-8.1" class="section-number selfRef">8.1. </a><a href="#name-new-is-is-tlv-codepoint" class="section-name selfRef">New IS-IS TLV Codepoint</a>
        </h3>
<p id="section-8.1-1">This document requests the following IS-IS TLV:<a href="#section-8.1-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8.1-2">
<pre>Value Name                              IIH LSP SNP Purge
----- --------------------------------- --- --- --- -----
TBD1  Flood Reflection                   y   n   n   n

</pre><a href="#section-8.1-2" class="pilcrow">¶</a>
</div>
<p id="section-8.1-3">Suggested value for TBD1 is 161.<a href="#section-8.1-3" class="pilcrow">¶</a></p>
</section>
<section id="section-8.2">
        <h3 id="name-sub-tlvs-for-tlv-242">
<a href="#section-8.2" class="section-number selfRef">8.2. </a><a href="#name-sub-tlvs-for-tlv-242" class="section-name selfRef">Sub TLVs for TLV 242</a>
        </h3>
<p id="section-8.2-1">This document request the following registration in the "sub-TLVs
        for TLV 242" registry.<a href="#section-8.2-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8.2-2">
<pre>Type  Description
----  -----------
TBD2  Flood Reflection Discovery

</pre><a href="#section-8.2-2" class="pilcrow">¶</a>
</div>
<p id="section-8.2-3"></p>
<p id="section-8.2-4">Suggested value for TBD2 is 161.<a href="#section-8.2-4" class="pilcrow">¶</a></p>
</section>
<section id="section-8.3">
        <h3 id="name-sub-sub-tlvs-for-flood-refl">
<a href="#section-8.3" class="section-number selfRef">8.3. </a><a href="#name-sub-sub-tlvs-for-flood-refl" class="section-name selfRef">Sub-sub TLVs for Flood Reflection Discovery sub-TLV</a>
        </h3>
<p id="section-8.3-1">This document request the following registration in the "sub-sub-TLVs
                for Flood Reflection Discovery sub-TLV" registry.<a href="#section-8.3-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8.3-2">
<pre>Type  Description
----  -----------
TBD3  Flood Reflection Discovery Tunnel Encapsulation Attribute

</pre><a href="#section-8.3-2" class="pilcrow">¶</a>
</div>
<p id="section-8.3-3"></p>
<p id="section-8.3-4">Suggested value for TBD3 is 161.<a href="#section-8.3-4" class="pilcrow">¶</a></p>
</section>
<section id="section-8.4">
        <h3 id="name-sub-tlvs-for-tlv-22-23-25-1">
<a href="#section-8.4" class="section-number selfRef">8.4. </a><a href="#name-sub-tlvs-for-tlv-22-23-25-1" class="section-name selfRef">Sub TLVs for TLV 22, 23, 25, 141, 222, and 223</a>
        </h3>
<p id="section-8.4-1">This document requests the following registration in the "sub-TLVs
        for TLV 22, 23, 25, 141, 222, and 223" registry.<a href="#section-8.4-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8.4-2">
<pre>
Type  Description                       22  23  25  141 222 223
----  --------------------------------  --- --- --- --- --- ---
TBD4  Flood Reflector Adjacency          y   y  n   y   y   y

</pre><a href="#section-8.4-2" class="pilcrow">¶</a>
</div>
<p id="section-8.4-3">Suggested value for TBD4 is 161.<a href="#section-8.4-3" class="pilcrow">¶</a></p>
</section>
</section>
</div>
<section id="section-9">
      <h2 id="name-security-considerations">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-9-1">This document introduces tunnels carrying IS-IS control traffic via tunnels.
          In case of statically configured tunnels a deployment SHOULD provide enough security protection to prevent
          malicious attackers from using the tunnel endpoints. For information used to form
          dynamically discovered tunnels, it
          SHOULD be protected by the the deployed IS-IS security mechanism preventing malicious nodes from
          spoofing rogue information on behalf of other members.<a href="#section-9-1" class="pilcrow">¶</a></p>
</section>
<section id="section-10">
      <h2 id="name-acknowledgements">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="section-10-1">The authors thank Shraddha Hegde, Peter Psenak, Acee Lindem, Robert Raszuk and Les Ginsberg for
 their thorough review and detailed discussions. Thanks are also extended to
            Michael Richardson for an excellent routing directorate review.<a href="#section-10-1" class="pilcrow">¶</a></p>
</section>
<section id="section-11">
      <h2 id="name-references">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-11.1">
        <h3 id="name-informative-references">
<a href="#section-11.1" class="section-number selfRef">11.1. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="ID.draft-ietf-idr-bgp-optimal-route-reflection-28">[ID.draft-ietf-idr-bgp-optimal-route-reflection-28]</dt>
        <dd>
<span class="refAuthor">Raszuk et al., R.</span>, <span class="refTitle">"BGP Optimal Route Reflection"</span>, <time datetime="2019-07" class="refDate">July 2019</time>, <span>&lt;<a href="https://www.ietf.org/id/draft-ietf-idr-bgp-optimal-route-reflection-28.txt">https://www.ietf.org/id/draft-ietf-idr-bgp-optimal-route-reflection-28.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4271">[RFC4271]</dt>
        <dd>
<span class="refAuthor">Rekhter, Y., Ed.</span>, <span class="refAuthor">Li, T., Ed.</span>, and <span class="refAuthor">S. Hares, Ed.</span>, <span class="refTitle">"A Border Gateway Protocol 4 (BGP-4)"</span>, <span class="seriesInfo">RFC 4271</span>, <span class="seriesInfo">DOI 10.17487/RFC4271</span>, <time datetime="2006-01" class="refDate">January 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4271">https://www.rfc-editor.org/info/rfc4271</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4456">[RFC4456]</dt>
        <dd>
<span class="refAuthor">Bates, T.</span>, <span class="refAuthor">Chen, E.</span>, and <span class="refAuthor">R. Chandra</span>, <span class="refTitle">"BGP Route Reflection: An Alternative to Full Mesh Internal BGP (IBGP)"</span>, <span class="seriesInfo">RFC 4456</span>, <span class="seriesInfo">DOI 10.17487/RFC4456</span>, <time datetime="2006-04" class="refDate">April 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4456">https://www.rfc-editor.org/info/rfc4456</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8099">[RFC8099]</dt>
      <dd>
<span class="refAuthor">Chen, H.</span>, <span class="refAuthor">Li, R.</span>, <span class="refAuthor">Retana, A.</span>, <span class="refAuthor">Yang, Y.</span>, and <span class="refAuthor">Z. Liu</span>, <span class="refTitle">"OSPF Topology-Transparent Zone"</span>, <span class="seriesInfo">RFC 8099</span>, <span class="seriesInfo">DOI 10.17487/RFC8099</span>, <time datetime="2017-02" class="refDate">February 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8099">https://www.rfc-editor.org/info/rfc8099</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-11.2">
        <h3 id="name-normative-references">
<a href="#section-11.2" class="section-number selfRef">11.2. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7775">[RFC7775]</dt>
        <dd>
<span class="refAuthor">Ginsberg, L.</span>, <span class="refAuthor">Litkowski, S.</span>, and <span class="refAuthor">S. Previdi</span>, <span class="refTitle">"IS-IS Route Preference for Extended IP and IPv6 Reachability"</span>, <span class="seriesInfo">RFC 7775</span>, <span class="seriesInfo">DOI 10.17487/RFC7775</span>, <time datetime="2016-02" class="refDate">February 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7775">https://www.rfc-editor.org/info/rfc7775</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7981">[RFC7981]</dt>
        <dd>
<span class="refAuthor">Ginsberg, L.</span>, <span class="refAuthor">Previdi, S.</span>, and <span class="refAuthor">M. Chen</span>, <span class="refTitle">"IS-IS Extensions for Advertising Router Information"</span>, <span class="seriesInfo">RFC 7981</span>, <span class="seriesInfo">DOI 10.17487/RFC7981</span>, <time datetime="2016-10" class="refDate">October 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7981">https://www.rfc-editor.org/info/rfc7981</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9012">[RFC9012]</dt>
      <dd>
<span class="refAuthor">Patel, K.</span>, <span class="refAuthor">Van de Velde, G.</span>, <span class="refAuthor">Sangli, S.</span>, and <span class="refAuthor">J. Scudder</span>, <span class="refTitle">"The BGP Tunnel Encapsulation Attribute"</span>, <span class="seriesInfo">RFC 9012</span>, <span class="seriesInfo">DOI 10.17487/RFC9012</span>, <time datetime="2021-04" class="refDate">April 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9012">https://www.rfc-editor.org/info/rfc9012</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="authors-addresses">
<section id="appendix-A">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Tony Przygienda (<span class="role">editor</span>)</span></div>
<div dir="auto" class="left"><span class="org">Juniper</span></div>
<div dir="auto" class="left"><span class="street-address">1137 Innovation Way</span></div>
<div dir="auto" class="left">
<span class="locality">Sunnyvale</span>, <span class="region">CA</span> </div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:prz@juniper.net" class="email">prz@juniper.net</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Chris Bowers</span></div>
<div dir="auto" class="left"><span class="org">Juniper</span></div>
<div dir="auto" class="left"><span class="street-address">1137 Innovation Way</span></div>
<div dir="auto" class="left">
<span class="locality">Sunnyvale</span>, <span class="region">CA</span> </div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:cbowers@juniper.net" class="email">cbowers@juniper.net</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Yiu Lee</span></div>
<div dir="auto" class="left"><span class="org">Comcast</span></div>
<div dir="auto" class="left"><span class="street-address">1800 Bishops Gate Blvd</span></div>
<div dir="auto" class="left">
<span class="locality">Mount Laurel</span>, <span class="region">NJ</span> <span class="postal-code">08054</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:Yiu_Lee@comcast.com" class="email">Yiu_Lee@comcast.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Alankar Sharma</span></div>
<div dir="auto" class="left"><span class="org">Comcast</span></div>
<div dir="auto" class="left"><span class="street-address">1800 Bishops Gate Blvd</span></div>
<div dir="auto" class="left">
<span class="locality">Mount Laurel</span>, <span class="region">NJ</span> <span class="postal-code">08054</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:Alankar_Sharma@comcast.com" class="email">Alankar_Sharma@comcast.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Russ White</span></div>
<div dir="auto" class="left"><span class="org">Juniper</span></div>
<div dir="auto" class="left"><span class="street-address">1137 Innovation Way</span></div>
<div dir="auto" class="left">
<span class="locality">Sunnyvale</span>, <span class="region">CA</span> </div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:russw@juniper.net" class="email">russw@juniper.net</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
