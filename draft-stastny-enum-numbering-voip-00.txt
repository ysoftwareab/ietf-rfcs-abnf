

                  IETF ENUM WG                                                         
                  Internet Draft                                             R Stastny 
                  Document:                                                      OeFEG 
                  draft-stastny-enum-numbering-voip-00.txt 
                  Expires: April 2004                                     October 2003 
                  Informational 
                   
                              Numbering for VoIP and other IP Communications 
                   
                   
               Status of this Memo 
                   
                  This document is an Internet-Draft and is in full conformance with 
                  all provisions of Section 10 of RFC2026 [1].  
                   
                  Internet-Drafts are working documents of the Internet Engineering 
                  Task Force (IETF), its areas, and its working groups.  Note that      
                  other groups may also distribute working documents as Internet-
                  Drafts. 
                   
                  Internet-Drafts are draft documents valid for a maximum of six months 
                  and may be updated, replaced, or obsoleted by other documents at any 
                  time.  It is inappropriate to use Internet-Drafts as reference 
                  material or to cite them other than as "work in progress." 
                   
                  The list of current Internet-Drafts can be accessed at 
                       http://www.ietf.org/ietf/1id-abstracts.txt 
                  The list of Internet-Draft Shadow Directories can be accessed at 
                       http://www.ietf.org/shadow.html. 
                   
                   
               Abstract 
                   
                  This document gives advice in setting up E.164 compatible numbering 
                  and dialing plans in administrative domains set up for IP 
                  Communications in general and VoIP applications in detail. After 
                  explaining numbering and dialing plans in principle, it discusses 
                  which types of E.164 numbers should be used for IP based terminals, 
                  to achieve proper routing of calls and other communications on the 
                  PSTN/ISDN and also on the Internet, using ENUM technology. 
                   
               Conventions used in this document 
                   
                   
                  The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", 
                  "SHOULD", "SHOULD NOT", "RECOMMENDED",  "MAY", and "OPTIONAL" in this 
                  document are to be interpreted as described in RFC-2119 [2]. 
                   
                   
               Table of Contents 
                
                
               Stastny                  Expires - April 2004                 [Page 1] 
                              Draft-stastny-enum-numbering-voip-00.txt   October 2003 
                
                
                   
                  1. Introduction and Overview......................................2 
                  2. The Problem....................................................4 
                     2.1 IP Communications as Applications on the Internet..........4 
                     2.2 How to reach VoIP users from the PSTN/ISDN.................4 
                     2.3 The Global Public Telephony Service........................5 
                     2.4 ENUM.......................................................5 
                     2.5 Why using E.164 numbers natively on the Internet?..........7 
                  3. Numbering and Dialing plans....................................8 
                     3.1 Numbering Plans............................................8 
                     3.2 Types of Numbering Plans...................................9 
                     3.3 Dialing Plans.............................................12 
                  4. Types of numbers in existing numbering plans..................16 
                     4.1 International Public Telecommunication Numbers (E.164 Numbers)
                     ..............................................................16 
                     4.2 National E.164 Numbers....................................18 
                     4.3 Partial Numbers...........................................23 
                     4.4 Calling line identification (CLI).........................25 
                  5. E.164 Numbers for VoIP........................................26 
                     5.1 E.164 Numbers for VoIP-only...............................26 
                     5.2 Potential E.164 Number types for VoIP-only................27 
                  6. How to set up numbering and dialing plans for VoIP domains....28 
                     6.1 Basic Requirements........................................28 
                     6.2 Which E.164 Numbers to use for mapping of partial numbers?30 
                     6.3 Dialing Plans for administrative domains..................31 
                     6.4 Numbering Plans for administrative domains................34 
                  7. Routing of calls to E.164 numbers terminating on VoIP.........36 
                     7.1 Routing on the PSTN.......................................37 
                     7.2 ENUM Support for Routing of E.164 numbers on the Internet.39 
                     7.3 Routing from Gateways and between domains with ENUM.......39 
                  8. Security Considerations.......................................42 
                  Author's Addresses...............................................43 
                   
                   
                   
               1. Introduction and Overview 
                   
                  Currently a number of Administrative Domains for IP communications 
                  are implemented allowing users to register IP phones or soft clients 
                  and place VoIP calls or establish other types of IP communications 
                  via broadband connections to other users registered in the same or in 
                  other administrative domains by using Internet Naming and Addressing 
                  schemes. 
                   
                  As a courtesy to users having only IP phones with numeric keypads or 
                  terminal adaptors for steam phones, numeric aliases are used 
                  exclusively or in addition. This allows users placing calls using 
                  dialing strings. For "cross trunks" or "cross connections" to other 

                
                
               Stastny                  Expires - April 2004                 [Page 2] 
                              Draft-stastny-enum-numbering-voip-00.txt   October 2003 
                
                
                  administrative domains and to the PSTN/ISDN different combinations of 
                  access codes are implemented in an ad-hoc uncoordinated manner. 
                   
                  The advantage of this approach is that registered users may be 
                  reached also from the PSTN/ISDN and other administrative domains if a 
                  proper mapping of E.164 numbers to these numeric aliases as partial 
                  numbers is achieved. 
                   
                  This situation is similar to the mess existing in the PSTN with 
                  automatic trunk dialing in the '50s of the last century and with 
                  international automatic dialing in the '60s, before the International 
                  Public Telecommunication Numbering Plan (E.164 numbers) [3] was 
                  introduced by ITU-T (CCITT). Traces of this messy situation can still 
                  be recognized in the existing national dialing and numbering plans. 
                  To prevent this from happening again on the Internet, the purpose of 
                  this document is to give guidance to the definition of numbering and 
                  dialing plans and the provision E.164 numbers in IP û based 
                  administrative domains. 
                   
                  After stating the problem, the terminology used is defined, 
                  especially the definitions of numbering and dialing plans are given 
                  and their differences are explained. 
                   
                  The types of number ranges used in existing numbering plans are 
                  explained and a new grouping of the type of number ranges is 
                  proposed: 
                   
                  ò  Pure geographic numbers 
                  ò  Non-geographic numbers for private networks 
                  ò  Non-geographic numbers for networks and personal numbers 
                  (including mobile networks and personal services using VoIP networks) 
                  ò  Non-geographic numbers for tariff related services 
                   
                  The types of number ranges usable for VoIP and IP Communications are 
                  analyzed and discussed. In principle any number range could be used 
                  for VoIP, but for the direct mapping of administrative domains using 
                  partial numbers the usage of national geographic numbers, national 
                  non-geographic numbers for private and mobile networks and global 
                  numbers for networks is recommended.  
                   
                  The document explains the routing of calls to these number ranges on 
                  the PSTN/ISDN to the appropriate VoIP gateways. It is also proposed 
                  to use ENUM for routing of calls on the Internet from the VoIP 
                  gateways used or from other administrative domains to the E.164 
                  numbers hosted by these administrative domains. 
                   
                  To map administrative domains with partial numbers to E.164 numbers 
                  it is necessary to set up the administrative domains with numeric 

                
                
               Stastny                  Expires - April 2004                 [Page 3] 
                              Draft-stastny-enum-numbering-voip-00.txt   October 2003 
                
                
                  userinfo (aliases). It is therefore required to set up numbering and 
                  dialing plans within these administrative domains.  
                   
                  These numbering and dialing plans should allow to access the own 
                  users, users in other administrative domains and users on the 
                  PSTN/ISDN in a consistent manner and also allow the mapping of this 
                  numbering plan to the International Public Telecommunication 
                  Numbering Plan E.164 as partial numbers. 
                   
                  The basic requirements and rules to achieve this are proposed in this 
                  document. 
                   
                   
               2. The Problem 
                   
               2.1 IP Communications as Applications on the Internet 
                   
                  IP Communications (VoIP, IP Telephony, Internet Telephony, Voice over 
                  the Net, Instant Messaging, Presence, Video, etc.) are applications 
                  based on the Internet (IP) protocols, and are therefore like any 
                  other applications on the Internet basically using the IP addressing 
                  scheme. 
                   
                  For various reasons the direct usage of the IP addressing scheme has 
                  many drawbacks, most applications on the Internet use in addition a 
                  more user-friendly and comfortable naming scheme. This naming scheme 
                  is based on the Domain Name System (DNS) and Universal Resource 
                  Locators and Identifiers (URLs, URIs). The usage of a naming scheme 
                  has also an important advantage. IP addresses may dynamically change 
                  and are also related to a network endpoint (device). Since a user may 
                  attach to different and multiple devices, the usage of a naming 
                  scheme is adding one level of indirection and therefore allows 
                  addressing the user independently of the device currently used. 
                   
                  For VoIP, the most commonly used URLs and URIs are sip:, h323: and 
                  tel:. These URIs are called contact addresses, if used for a specific 
                  device, or Address-of-Records, if used to address a user or a generic 
                  service via a location service (see RFC3261). Address-of-records 
                  allow VoIP users to reach each other on the Internet and also to 
                  reach users on the PSTN/ISDN, if a proper gateway is provided. This 
                  can e.g. be done with the tel: URI, which contains a phone number 
                  (see RFC2806bis [4]). 
                   
               2.2 How to reach VoIP users from the PSTN/ISDN 
                   
                  On the other hand it is in most cases not possible for users on the 
                  PSTN/ISDN to reach users on the Internet, because URIs cannot be 
                  entered on most telephone devices and also the signaling systems are 
                  not able to deal with URIs. The PSTN/ISDN is using "phone numbers", 
                
                
               Stastny                  Expires - April 2004                 [Page 4] 
                              Draft-stastny-enum-numbering-voip-00.txt   October 2003 
                
                
                  mainly the numbering scheme defined in ITU-T Rec. E.164 or compatible 
                  national variants. These phone numbers are called International 
                  Public Telecommunication Numbers, or E.164 numbers. 
                   
                  It is therefore necessary to provide a translation service between 
                  the naming and addressing (numbering) scheme used on the PSTN/ISDN 
                  and the naming scheme used on the Internet. This can be done in 
                  different ways; one of these translation services is ENUM (see 
                  RFC2916bis [5]). 
                   
               2.3 The Global Public Telephony Service 
                   
                  This implies that an E.164 number is attached in addition to the 
                  existing Address-of-Record of a VoIP user. If a user on the PSTN/ISDN 
                  is now dialing such an E.164 number the call needs to be routed to a 
                  VoIP-gateway located on the boundary between the PSTN/ISDN and the 
                  Internet. 
                   
                  The VoIP-gateway is translating the E.164 Number to the Address-of-
                  Record (e.g. a sip: URI) assigned to the user. The call is then 
                  routed on the Internet to the VoIP user, or more precisely to the 
                  VoIP server pointed to by the host part of the Address-of-Record. 
                  This implies also that the VoIP application is part of the global 
                  public telephony service as defined in ITU-T Rec. E.105 [6], and 
                  therefore has to fulfill a minimum of basic requirements to be 
                  compliant. 
                   
                  Within this document, some of these basic requirements will be 
                  discussed. 
                   
               2.4 ENUM 
                   
                  One possibility to translate E.164 numbers to URIs is ENUM. 
                   
                  ENUM is based technically on the Domain Name System and allows a 
                  mapping or translation from an E.164 number to one or more URIs. ENUM 
                  is achieving this by providing a distinct domain (e164.arpa) for a 
                  unique and 1:1 mapping of E.164 numbers to a specific and unique 
                  domain name. Within this domain name the user may store pointers to 
                  URIs. This may be any URI (e.g. an e-mail address or a pointer to a 
                  web-page), but specifically also a VoIP URI. Only these mappings will 
                  be discussed within this document. 
                   
                  ENUM raises two questions: 
                   
                  1. Which type of E.164 numbers may be entered in ENUM? 
                   
                  The type of numbers available will be discussed later in this 
                  document.  
                
                
               Stastny                  Expires - April 2004                 [Page 5] 
                              Draft-stastny-enum-numbering-voip-00.txt   October 2003 
                
                
                   
                  The current status of discussion is that geographic numbers, numbers 
                  for private networks, mobile numbers and personal numbers may be used 
                  in ENUM. The usage of the other numbers, especially service numbers 
                  like freephone and premium rate services are under discussion. 
                   
                  2. Are E.164 numbers entered in ENUM only or additionally to existing 
                  phone services? 
                   
                  The more important question is if the ENUM entries are made IN 
                  ADDITION to existing phone services if the subscriber requests it 
                  (opt-in) or is it required to have an ENUM entry to get a phone 
                  service (infrastructure ENUM) 
                   
                  2.4.1 ENUM as additional service with opt-in (User ENUM) 
                   
                  In this case ENUM domain names are entered in ADDITION to existing 
                  phone services available on the PSTN/ISDN. Therefore any call 
                  originating on the PSTN/ISDN will be routed normally on the PSTN/ISDN 
                  to the existing termination as usual. Only calls originating on the 
                  Internet MAY query ENUM and MAY route the call to the termination on 
                  the Internet given by the ENUM entry. This is called the opt-in 
                  principle. 
                   
                  The called user is opting-in in ENUM, because the entry in ENUM is 
                  optional. The calling user is also opting-in, because he may query 
                  ENUM or not, and even if he is querying ENUM, he still may decide to 
                  terminate the call on the PSTN via a gateway. 
                   
                  In this case the VoIP application is a second line service in 
                  addition to the primary line on the PSTN. This approach may be 
                  feasible in conjunction with other services and applications on the 
                  Internet (e.g. e-mail), but it has one serious drawback for VoIP: it 
                  suffers from Metcalfe's Law. 
                   
                  Metcalfe's Law states that "the usefulness, or utility, of a network 
                  equals the square of the number of users", which may translate to: "a 
                  new communication application will probably be stillborn anyway, 
                  because the initial value will be so small that no one will have 
                  sufficient incentive for purchase". 
                   
                  Is there a way to overcome this problem? Eventually by using ENUM 
                  also as infrastructure service. Here users rely on ENUM regarding 
                  VoIP and get used to it, so User ENUM maybe introduced later 
                  additionally for other services. 
                   
                  There is another disadvantage with User ENUM: Since the E.164 
                  assignments to the phone services on the PSTN/ISDN and the 
                  delegations of the corresponding e164.arpa domains have to be kept in 
                
                
               Stastny                  Expires - April 2004                 [Page 6] 
                              Draft-stastny-enum-numbering-voip-00.txt   October 2003 
                
                
                  sync, it has to be validated that only the proper number assignee may 
                  request the corresponding ENUM domain. This requires complicated 
                  validation procedures to be established. 
                   
                  2.4.2 ENUM as infrastructure service (Infrastructure ENUM) 
                   
                  If the E.164 number is entered only in ENUM, there is no 
                  synchronization with PSTN/ISDN services and therefore no validation 
                  necessary, which simplifies matters. The E.164 number is then used 
                  natively on the Internet. 
                  In this case ENUM is implemented as a kind of IN-Service on the 
                  Internet to route voice and other multimedia real-time applications 
                  (IP Communications) using E.164 numbers to destinations primarily on 
                  the Internet.  
                   
                  The problem to be solved here is how a call originating on the 
                  PSTN/ISDN may be routed to such destinations. Routing on the 
                  PSTN/ISDN is still done primarily by digit analysis of the dialed 
                  destination number. IN services e.g. for Number Portability (NP) are 
                  available only on a local or national scale. 
                   
                  This immediately raises the question: which E.164 numbering resources 
                  could be used for such destinations? 
                   
                  A simple solution is to use specific numbering resources for this 
                  purpose. This would allow to route (and also bill) any call to this 
                  number from the PSTN/ISDN to the nearest ENUM-enabled gateway (Point-
                  of-Interconnect). Note: this can be done even on a global scale, if 
                  the first 6 to 7 digits of an E.164 number are used (e.g. CC + NDC). 
                  End Note. 
                   
                  This has a severe drawback insofar that most numbering plans 
                  established by the national authorities (NRA) responsible claim to be 
                  technology independent (which is not completely true in all cases 
                  anyway), so specific number ranges for "VoIP-only" are currently not 
                  possible in some countries and also not on a global scale. Although 
                  this may change, other possibilities need to be considered. This 
                  document will try to propose different solutions for this problem. 
                   
               2.5 Why using E.164 numbers natively on the Internet? 
                   
                  It was stated above that users on the Internet may use URIs to 
                  communicate with each other. Although this is true in principle, the 
                  usage of phone numbers also has advantages. 
                   
                  Some existing Administrative Domains implementing VoIP and other IP 
                  Communications use numbers to identify their user agents 
                  (subscribers). This may be done either directly by giving the user 
                  agents a numeric user(info) to be used in the sip: URI or h323: URI 
                
                
               Stastny                  Expires - April 2004                 [Page 7] 
                              Draft-stastny-enum-numbering-voip-00.txt   October 2003 
                
                
                  Address-of-Record, or by providing them in addition with an alias 
                  tel: URI Address-of-Record of a global E.164 number, or both.  
                   
                  It is proposed to provide the numeric userinfo in such a way that it 
                  maps as partial number to the global E.164 number as defined in ITU-
                  Rec. E.164 Annex B. 
                   
                  There are two main reasons to do this:  
                   
                  1. Most VoIP terminals in use are similar to normal phone terminals 
                  (or even use POTS Phones with a terminal adaptor) and provide only a 
                  numeric keypad, and 
                   
                  2. if VoIP Applications are migrating from existing PBX or Centrex 
                  Systems, they want to provide their users with the same environment 
                  as before. 
                   
                  The task of a system administrator of such an administrative domain 
                  is to set up a consistent numbering and dialing plans, leaving room 
                  for future extensions and also for access codes to reach other 
                  numbering plans. 
                   
                  This document tries to give advice in setting up consistent global 
                  and local (private) numbering and dialing plans including access 
                  codes to be used within and across administrative domains. 
                   
                  The proposed numbering and dialing plans are also compatible with 
                  existing numbering and dialing plans on the PSTN/ISDN and especially 
                  with the global numbering plan as defined in ITU-T Rec. E.164. The 
                  proposed numbering plans can also easily implemented in ENUM for 
                  routing within and between administrative domains. 
                   
               3. Numbering and Dialing plans 
                   
                  This section explains existing numbering and dialing plans in general 
                  and also some basic definitions. 
                   
               3.1 Numbering Plans 
                   
                  A numbering plan defines the structure of a namespace consisting only 
                  of strings of decimal digits. It is an inverted tree, consisting of 
                  nodes, called number blocks or number ranges and of leaves, called 
                  numbers. In a telecommunication numbering plan the numbers are called 
                  phone numbers and uniquely identify either directly end-points in a 
                  telecommunication network (e.g. a subscriber line), or indirectly 
                  temporarily connected users (e.g. mobile or personal devices), or 
                  also indirectly specific services (e.g. a freephone service). 
                   

                
                
               Stastny                  Expires - April 2004                 [Page 8] 
                              Draft-stastny-enum-numbering-voip-00.txt   October 2003 
                
                
                  Note for net-heads: A numbering plan is very similar to the structure 
                  of the DNS. If you take an E.164 number e.g. +436644204100, the '+' 
                  can be considered as the root and each single digit can be considered 
                  as a label. There are only two minor and one big difference: 
                   
                  ò  the root and the "top level domain" is on the left side 
                  ò  a label can be only be a single decimal digit  
                   
                  Therefore a mapping from a phone number to DNS is very easy: if one 
                  swaps the order of the digits, places dots between the digits and 
                  replaces '+' with 'e164.arpa', you get exactly a domain name as 
                  specified in ENUM. 
                   
                  Now to the big difference: in the DNS each node may contain data, 
                  e.g. it is possible to have the following e-mail addresses: 
                  user@acme.com and user@dept.acme.com, because there are different MX 
                  records in acme.com and dept.acme.com. 
                   
                  In a numbering plan only the leaves of the tree are phone numbers, 
                  that is, they define end-points, users or services. The +43664 part 
                  of a number is called a number block, or if dialed (see below), it is 
                  called an incomplete number (not a partial number) and (almost) never 
                  leads to a destination (with the exception of pilot numbers for PBX 
                  with direct-dialing-in (DDI or DID), see below). 
                   
                  In some numbering plans also hexadecimal digits are allowed, but only 
                  for internal network specific purposes and not for the normal user. 
                  These digits are not considered any further here. E.164 numbers 
                  consist only of decimal digits (and so do the labels in ENUM, except 
                  e164.arpa) 
                   
                  End Note for net-heads. 
                   
                  As stated above, a numbering plan specifies the format and structure 
                  of the numbers used within that plan. It typically consists of 
                  decimal digits segmented into groups in order to identify specific 
                  elements used for identification, routing and charging capabilities, 
                  e.g. within the E.164 global numbering plan to identify countries, 
                  national destinations, and subscribers. 
                   
                  A numbering plan does NOT include the prefixes to be dialed by the 
                  calling user (this is part of the dialing plan), and it also does not 
                  include suffixes and additional information required to complete a 
                  call. 
                   
               3.2 Types of Numbering Plans 
                   
                  The following types of numbering plans exist in principle: 
                   
                
                
               Stastny                  Expires - April 2004                 [Page 9] 
                              Draft-stastny-enum-numbering-voip-00.txt   October 2003 
                
                
                  ò  The global E.164 Numbering Plan 
                  ò  National numbering plans 
                  ò  Local or network specific numbering plans 
                  ò  Private numbering plans. 
                   
                  They will be discussed below. Some additional useful terminology in 
                  advance: 
                   
                  Closed and open numbering plans 
                   
                  Only the leaves of the inverted tree are phone numbers. To allow the 
                  users and also the phone systems to find out if a number is complete, 
                  some numbering plans define a fixed length for all numbers or at 
                  least for certain numbering blocks (ranges).  
                   
                  A closed numbering plan refers to a telephone numbering scheme that 
                  has a fixed number of digits, not counting special service codes. The 
                  North American Numbering Plan +1 is an example for a closed numbering 
                  plan, because there are always ten digits (10D) associated with each 
                  national number: 3 digits area code (NPA) followed by the 7 digits of 
                  the subscriber number. Australia +61 is another example of a closed 
                  numbering plan. 
                   
                  Note: this term is sometimes confused with a closed dialing plan: A 
                  closed dialing plan refers to a national requirement to use all 
                  digits of a national number (often including a trunk prefix) to place 
                  a call, whether local or long distance. End Note. 
                   
                  There are other numbering plans which have variable number length, 
                  only defining the minimum and maximum length of digits, e.g. in 
                  Austria the area codes may be 1 to 4 digits and the local numbers may 
                  be 3 to 8 digits. This is an open numbering plan. 
                   
                  3.2.1 The Global E.164 Numbering Plan 
                   
                  This is also called the International Public Telecommunication 
                  Numbering Plan according to ITU-T Rec. E.164. The numbers are called 
                  International Public Telecommunications Numbers (IPTN) in the 
                  international format (or E.164 numbers).  
                   
                  A number according to ITU-T Rec. E.164 is a string of decimal digits 
                  that uniquely identifies a user-network interface, e.g. PSTN/ISDN or 
                  mobile terminals and individuals utilizing specific global services, 
                  e.g. Universal International Freephone Numbers (UIFNs). Most of the 
                  services/subscribers can be addressed directly, but in cases where 
                  indirect addressing is used number translation is required, e.g. for 
                  UIFNs. The number contains directly or leads to the information 
                  necessary to route the call to the termination point. 
                   
                
                
               Stastny                  Expires - April 2004                [Page 10] 
                              Draft-stastny-enum-numbering-voip-00.txt   October 2003 
                
                
                  A number can be in a format determined nationally or in an 
                  international format. The international format is known as the 
                  International Public Telecommunication Number (often also known as 
                  E.164 Number) which includes the country code and subsequent digits, 
                  but not the international prefix. 
                   
                  The global E.164 Numbering Plan defines the International Public 
                  Telecommunication Numbers and their structure (e.g. Country Code <CC> 
                  and National (Significant) Number <N(S)N> or Global Subscriber Number 
                  <GSN>). 
                   
                  3.2.2 National Numbering Plans 
                   
                  A national numbering plan is the national implementation of the E.164 
                  global numbering plan (e.g. N(S)N = National Destination Code <NDC> 
                  and Subscriber Number <SN> 
                   
                  3.2.3 Local or network specific Numbering Plans 
                   
                  A local or network specific numbering plan is a local or network 
                  specific implementation of a national numbering plan and therefore 
                  part of the E.164 numbering plan. It may not exist in some national 
                  numbering plans (e.g. in closed dialing plans). 
                   
                  3.2.4 Private Numbering Plans 
                   
                  A private numbering plan is an implementation of a numbering in a 
                  private telephone network. It may or may not be part of the national 
                  or local numbering plan. 
                   
                  If a private numbering plan maps to the global E.164 Numbering Plan 
                  the private numbers are part of the International Public 
                  Telecommunication Number as partial numbers, as defined in ITU-T Rec. 
                  E.164 Annex B. Only these private numbering plans are considered 
                  within this document. 
                   
                  Note: The tel: URI as defined in RFC2806bis uses the terms global and 
                  local number. Within RFC2806bis the term global number is used only 
                  for IPTN (E.164 numbers) in the format 'tel:+43179780'. All other 
                  numbers e.g. in the format 'tel:32;phone-context=+43179780' or 
                  'tel:7978032;phone-context=+431 are called local numbers. Therefore 
                  local numbers may be numbers from national, local or private 
                  numbering plans. End Note. 
                   
                  3.2.5 Non-E.164 numbers 
                   
                  Any international number which does not conform to the structure, 
                  length and uniqueness as defined ITU-T Rec. E.164 is not an E.164 

                
                
               Stastny                  Expires - April 2004                [Page 11] 
                              Draft-stastny-enum-numbering-voip-00.txt   October 2003 
                
                
                  number. Non-E.164 numbers may not be passed across any Network 
                  boundaries without a specific bilateral agreement. 
                   
                  Some examples are local special numbers, network specific numbers, 
                  etc. For more information see ITU-T Rec. E.164 Annex A.  
                   
                  '911' and other emergency numbers (e.g. '112' in Europe) are a 
                  typical examples of non E.164 ûnumbers. Even if they may be dialed 
                  from another country in principle, they lack the uniqueness. 
                   
               3.3 Dialing Plans 
                   
                  A numbering plan is a name space and defines the end-points from the 
                  point of the called user. Phone numbers are assigned to network-end 
                  points, users or services. 
                   
                  A user normally does not enter in most cases a number in his device. 
                  The user is entering a "dialing string", depending on his local 
                  context. 
                   
                  A dialing plan is a string or combination of decimal digits, symbols, 
                  and additional information that defines the method by which a defined 
                  numbering plan is used by the calling user. A dialing plan includes 
                  the use of prefixes, suffixes, and additional information, 
                  supplemental to the numbering plan, required to complete the call. It 
                  is therefore the method to access the given name space. 
                   
                  Depending on the mapping of the dialing plan to the numbering plan, 
                  it may be necessary to leave certain number blocks of the namespace 
                  of the numbering plan unused for use of prefixes (access codes) to 
                  access other numbering plans or network specific services. 
                   
                  Prefix 
                   
                  A prefix is an indicator consisting of one or more digits that allow 
                  the selection of different types of number formats or numbering plans 
                  to be used.  
                   
                  Another type of a prefix is a Carrier Access Code (CAC) followed by a 
                  Carrier Identification Code (CIC) and then the requested number 
                  (eventually including again a prefix). This is used to select within 
                  the originating network the carrier network to be used to route the 
                  call to the destination network. This is a different type of prefix 
                  and should NOT be confused with the access code to select the dialing 
                  plan. 
                   
                  International Prefix 
                   

                
                
               Stastny                  Expires - April 2004                [Page 12] 
                              Draft-stastny-enum-numbering-voip-00.txt   October 2003 
                
                
                  A digit or combination of digits used to indicate that the number 
                  following is a full E.164 Number. 
                   
                  Note: A numbering plan consists only of decimal digits (with the 
                  above mentioned exception of network specific hexadecimal digits). A 
                  dialing plan may also consist of symbols (e.g. '+') and hexadecimal 
                  digits (e.g. '*', '#', 'A-F'). Their use is up to the administrator 
                  of the dialing plan. A normal user may not be able to dial all of 
                  these 'digits'. End Note. 
                  The symbol '+' has a special predefined meaning, originating from 
                  mobile networks: If a number is preceded by a '+', the '+' has to be 
                  replaced by the digits equivalent to the international prefix valid 
                  within this dialing plan, e.g. '00' in most European national dialing 
                  plans or '011' in the North American dialing plan. 
                   
                  Important note: The hexadecimal digits may be used '*' and '#' to 
                  manipulate supplementary services and are always network-specific. 
                  They should therefore only be used as prefixes to access other 
                  numbering plans if it is not planned to use them for supplementary 
                  services in the future. End of important note. 
                   
                  3.3.1 Types of Dialing Plans 
                   
                  A user on the PSTN/ISDN is always in one defined dialing plan at a 
                  given time. That means, if he is going off-hook and starting dialing 
                  digits, or if he enters the digits in his device and submits them in 
                  one block, there is always ONE defined dialing plan assumed by the 
                  system receiving the dialed digits (dialing string). The user has to 
                  know the dialing plan in use, e.g. by reading the manual (phone 
                  book). The dialing plan does never change on a device connected to a 
                  phone system via a fixed line; it may change in case of a mobile 
                  phone while roaming. 
                   
                  Basically the dialing plan can be  
                   
                  ò  private,  
                  ò  local,  
                  ò  network-specific or  
                  ò  national.  
                   
                  Note that there is no global dialing plan. 
                   
                  3.3.2 Access to numbering and dialing plans 
                   
                  The basic principle of a dialing plan is a follows (although there 
                  are exceptions): 
                   
                  ò  If you dial a number without any prefix, you are accessing a 
                  number of the associated numbering plan. 
                
                
               Stastny                  Expires - April 2004                [Page 13] 
                              Draft-stastny-enum-numbering-voip-00.txt   October 2003 
                
                
                   
                  ò  If you dial a prefix (access code), you are accessing another 
                  numbering or dialing plan. 
                   
                  Normally the dialing plans are hierarchically, especially if the 
                  numbering plans are compatible, as it is in the case of E.164 
                  numbers. It is recommended by ITU to use '0' as access code for going 
                  up the hierarchy, but this is not implemented in all countries 
                  (mostly because for historical reasons the number range is not 
                  available). 
                   
                  1. If your phone is connected to a PBX line, you dial either the 
                  extension directly or an access code (e.g. '0' or '9') to access the 
                  local dialing plan. If your phone is directly connected to the 
                  PSTN/ISDN, goto step 2. 
                   
                  2. Now you may dial either a local number or again an access code 
                  (e.g. '0') to access the national numbering or dialing plan. 
                   
                  3. There you may dial a national number or again an access code (e.g. 
                  '0') to access the international numbering plan. 
                   
                  There is normally no way to go to another numbering or dialing plan 
                  directly on the same hierarchy level or to go down the hierarchy. The 
                  only way to access another numbering or dialing plan normally is to 
                  go via the lowest common hierarchy. This requires that the other 
                  numbering plan is mapped into the next higher hierarchy. To reach 
                  another local numbering plan in the same country requires going via 
                  the national dialing plan, to reach a local numbering plan in another 
                  country requires dialing the international access code and the E.164 
                  number including the country code. 
                   
                  3.3.3 Mapping of private numbering plans as partial numbers 
                   
                  To reach another private numbering plan with DDI via the PSTN/ISDN 
                  requires a mapping of the private numbering plan to the E.164 
                  numbering plan as partial numbers. In some cases a given private 
                  number may even be reached with two or three different E.164 numbers 
                  (e.g. from one or more local numbering plans, from one or more 
                  national numbering plans, and here either from a mobile number or a 
                  number for corporate networks. 
                   
                  The extension 3184 of a Vienna company may be reached via +43 1 60501 
                  3184 (Vienna), +43 664 67070 3184 (mobile) or +43 50811 3184 
                  (corporate networks). 
                   
                  3.3.4 Cross trunks or cross connections 
                   

                
                
               Stastny                  Expires - April 2004                [Page 14] 
                              Draft-stastny-enum-numbering-voip-00.txt   October 2003 
                
                
                  In some case there may exist additional access codes to directly 
                  access other numbering plans as a short cut. These access codes are 
                  called cross trunks or cross connections. For technical reasons these 
                  cross connections have been implemented also in the public PSTN/ISDN 
                  in the past when the E.164 numbering plan was not fully implemented 
                  yet. They still exist and are widely used between private networks 
                  with heavy traffic relations. These cross trunks may be implemented 
                  also with physical trunks or only virtually as cross connections. 
                  Often numbers out of the number range '9' are used for this purpose. 
                   
                  It is depending on the system administrator of the destination 
                  network if the dialing plan or only the numbering plan can be 
                  accessed via these cross connections. Normally only the numbering 
                  plan may be accessed and sometimes the access is even more restricted 
                  to certain number ranges. The reason for the blocking of the dialing 
                  plan (especially the access code to the next hierarchy) is to prevent 
                  transit calls (for billing reasons). 
                   
                  Of course the number ranges (blocks) used for these access numbers 
                  cannot be used within the numbering plan. Since often the number 
                  range '1' is used for network-specific services, it is quite common 
                  to use only the number ranges from '2' to '8' for subscriber numbers. 
                   
                  3.3.5 Closed Dialing Plans 
                   
                  In some countries and networks closed dialing plans are used. A 
                  closed dialing plan refers to a national requirement to use all 
                  digits of a national number (often including a trunk prefix) to place 
                  a call, whether local or long distance. The current systems in France 
                  (as of October 1996) and Belgium (as of January 2000) are examples of 
                  closed dialing plans. 
                   
                  The issue of closed dialing plans can be somewhat confusing. Not only 
                  that the terms closed dialing plan and closed numbering plan are used 
                  ambiguously in literature, there are two types of closed dialing 
                  plans. 
                   
                  Type I is derived by canceling the direct access to the local 
                  numbering plan, but leaving the rest of the local dialing plan as is: 
                  one always has to dial the national access code (e.g. '0') to reach 
                  national E.164 numbers. Only network-specific numbers and service 
                  code may be dialed without prefix. Examples are Switzerland and 
                  France. Also many mobile networks use this type. This is less 
                  logical, but easier to tell the customers: "You have to dial now the 
                  area code for local numbers also." People are also used to this 
                  approach from mobile phones anyway. 
                   
                  Type II is derived by canceling both the local numbering plan and 
                  dialing plan: one may dial national numbers directly without a 
                
                
               Stastny                  Expires - April 2004                [Page 15] 
                              Draft-stastny-enum-numbering-voip-00.txt   October 2003 
                
                
                  prefix. One example is Portugal. This approach seems more logical and 
                  also saves one digit to dial, but is harder to explain: "You have to 
                  dial now the area code for local numbers also, but you must not dial 
                  the national access code". To confuse things even further from a 
                  logical point, but to make things easier for customers, the 
                  international access code in Portugal is still '00'. 
                   
                  In the North American Numbering plan all variants exist, normally you 
                  may dial 7 digits xxx-xxxx to access the local dialing plan, and 1-
                  xxx-xxx-xxxx (1+10D) to access the national dialing plan, but in some 
                  NPAs you also may dial only the 10 digits. In some NPA the dialing 
                  plan is closed, so you may only use 1-10D. With mobile phones you 
                  also must use 1+10D always. 
                   
                  In general, the NANP is moving to 1+10D in all NPAs (for more 
                  information see www.nanpa.com ). 
                   
               4. Types of numbers in existing numbering plans 
                   
                  Phone numbers in the PSTN/ISDN serve two main purposes: to route 
                  calls properly to their destination and to be able to tariff the 
                  call. Before the introduction of IN-services and all-call-query (ACQ) 
                  for all numbers dialed (also still today), a switching system must be 
                  able to analyze the first digits dialed and deduce the routing 
                  information and the tariff information. For E.164 numbers in the 
                  international format this is limited to the first 7 digits. 
                   
                  It is therefore necessary to group the numbers in certain number 
                  blocks to be able to derive routing and/or billing information. This 
                  is also required to enable the customers to derive especially the 
                  expected cost and/or service of the call by looking at the number. 
                   
               4.1 International Public Telecommunication Numbers (E.164 Numbers) 
                   
                  The ITU-T Rec. E.164 defines the following types of International 
                  Public Telecommunication Numbers (IPTN). A distinction between the 
                  types of numbers can be made within the first three digits. 
                   
                  ò  IPTN for Geographic Areas 
                   
                  These are the "real" Country Codes (CC) and are one to three digits 
                  in length. The maximum length of an IPTN is 15 digits in principle, 
                  but nationally shorter length may be required (e.g. a number of the 
                  NANPA has a maximum length of 11 digits). The further structure is a 
                  national matter and will be discussed in the next section. 
                   
                  In order to determine the country of destination, the most 
                  appropriate network routing and the proper charging, the originating 
                  country must analyze a number of digits of the E.164 international 
                
                
               Stastny                  Expires - April 2004                [Page 16] 
                              Draft-stastny-enum-numbering-voip-00.txt   October 2003 
                
                
                  number (maximum of 7). The length of the National Destination Code 
                  (NDC) increases the potential requirement for number analysis because 
                  it provides for a combination of either a Trunk Code (TC) and/or a 
                  network identification function. Careful consideration should be 
                  given to the preparation of the National Destination Code (NDC) 
                  assignments. 
                   
                  ò  IPTN for Global Services 
                   
                  The numbering plan for global services is service specific. Each use 
                  of an E.164 country code for a global service needs to comply with 
                  numbering assignment principles, as specified in Recommendation 
                  E.190, as identified for the specific service, and the criteria and 
                  procedures as specified in Recommendation E.164.1. Refer to the 
                  appropriate numbering Recommendation for documentation regarding the 
                  numbering scheme and any service specific principles, e.g. 
                  Recommendation E.168 û Application of E.164 numbering plan for UPT. 
                   
                  The international public telecommunication number for global services 
                  is composed of the 3-digit country code applied for the global 
                  service and the Global Subscriber Number (GSN). The maximum length is 
                  15 digits. 
                   
                  Digit analysis for global services is service specific. In order to 
                  determine the specific global service, and the call routing and 
                  charging, the digit analysis should not exceed 7 digits, e.g. 3-digit 
                  CC + 4 digits of N(S)N. Refer to the appropriate ITU-T numbering 
                  Recommendation for documentation regarding the number analysis 
                  requirements for the specific global service. 
                   
                  Currently the following Global Services are defined: 
                   
                  o  ITU-T Recommendation E.168 (1999), Application of E.164 numbering 
                  plan for UPT. 
                   
                  o  ITU-T Recommendation E.169 (1998), Application of Recommendation 
                  E.164 numbering plan for universal international freephone numbers 
                  for international freephone service. 
                   
                  o  ITU-T Recommendation E.169.2 (2000), Application of Recommendation 
                  E.164 numbering plan for universal international premium rate numbers 
                  for the international premium rate service. 
                   
                  o  ITU-T Recommendation E.169.3 (2000), Application of Recommendation 
                  E.164 numbering plan for universal international shared cost numbers 
                  for the international shared cost service. 
                   
                  ò  IPTN for Networks 
                   
                
                
               Stastny                  Expires - April 2004                [Page 17] 
                              Draft-stastny-enum-numbering-voip-00.txt   October 2003 
                
                
                  International public telecommunication numbers used by Networks 
                  consist of three parts: a shared 3 digit E.164 country code; an 
                  identification code; and a subscriber number. The maximum length of 
                  international public telecommunication numbers used by Networks is 
                  fifteen (15) digits. 
                   
                  For calls utilizing the international public telecommunication number 
                  for Networks, the maximum number of digits to be analyzed is seven, 
                  which includes the three digits of the E.164 country code, the 
                  identification code, and the initial significant digits (if any) of 
                  the subscriber number. A minimum of the 3-digit country code and IC 
                  must always be analyzed to determine the appropriate routing and 
                  charging. 
                   
                  ò  IPTN for Groups of Countries 
                   
                  International public telecommunication numbers used by Groups of 
                  Countries consist of three fields:  a shared three digit Rec. E.164 
                  Country Code; a one digit Group Identification Code; and a Subscriber 
                  Number to a maximum length of eleven digits. The maximum length of 
                  international public telecommunication number used by Groups of 
                  Countries is fifteen digits. 
                   
                  These are the first three digits of international public 
                  telecommunication number for Groups of Countries.  A country code for 
                  Groups of Countries is a shared (i.e., shared between GoC's) three 
                  digit CC used in combination with a single digit GIC to uniquely 
                  identify a Group of Countries. 
                   
                  The maximum number of digits to be analyzed for the processing of 
                  calls to international public telecommunication numbers for Groups of 
                  Countries is seven.  This includes the CC field (three digits) plus 
                  the GIC field (one digit) plus the first three digits of the 
                  Subscriber Number (SN).  A minimum of four digits (i.e., CC + GIC) 
                  must always be analyzed to determine the appropriate routing and 
                  charging. 
                   
               4.2 National E.164 Numbers 
                   
                  Since the structure and also the types of numbers and services 
                  provided are a national matter, there exists a big variety of 
                  implementations, although there are some recommendations from ITU and 
                  also some common international and regional approaches. 
                   
                  Note: One should consider that national numbering plans have 
                  historically evolved and a complete alignment of these numbering 
                  plans would cause major changes to the existing numbering plans. 
                  Since these changes are very costly and causing major resistance by 
                  the public, they are either avoided at all or are long term projects. 
                
                
               Stastny                  Expires - April 2004                [Page 18] 
                              Draft-stastny-enum-numbering-voip-00.txt   October 2003 
                
                
                  Even such a simple change to introduce the recommended access code 
                  '0' for international calls has not been implemented globally yet. 
                  The introduction of a new globally unique access code in all national 
                  dialing plans (e.g. for VoIP) is absolutely impossible û don't even 
                  think of it. End Note. 
                   
                  In most countries the following types of numbers have been 
                  introduced. In most cases a distinction between the types of numbers 
                  can be made within the first three or four digits. 
                  Since the grouping or categorization differs in most countries, a new 
                  and simplified grouping is proposed: 
                   
                  4.2.1 'Pure' Geographic numbers 
                   
                  These are the "original" phone numbers for fixed line end-points. In 
                  open numbering plans they consist of a "trunk code û TC" or "area 
                  code", giving the geographic area or region and the "subscriber 
                  number û SN". The SN may be dialed in open dialing plans directly out 
                  of the local dialing plan. Customers may derive the TC (and also the 
                  tariff for distance) by knowing the address of the called user. 
                   
                  The TC is used to route the call to the switching system(s) serving 
                  the geographic region and also to derive the tariff from the distance 
                  between the originating and termination end-point. 
                   
                  In many countries local number portability is possible if the 
                  customer is moving to another location within the same TC range. A 
                  customer may also port these numbers to another service provider 
                  without changing his location; this is called service provider 
                  portability. 
                   
                  In most countries also databases are available giving the exact 
                  location of the end-point e.g. for emergency services. 
                   
                  These geographic numbers are using up most of the numbering space and 
                  have been the reason for earlier discussions on numbering exhaust. 
                  For historic technical reasons the numbering space is not used 
                  economically. Since some years the number of fixed lines using mostly 
                  these geographic numbers is decreasing. 
                   
                  For this type of numbers number ranges out of each TC are assigned to 
                  network operators or service providers, which in turn assign the 
                  numbers to the end-users. 
                   
                  4.2.2 Non-geographic numbers for private networks 
                   
                  A range of non-geographic numbers may be used for networks private 
                  networks with more then one connection to the PSTN/ISDN. These 
                  connections normally have also geographic numbers assigned. These 
                
                
               Stastny                  Expires - April 2004                [Page 19] 
                              Draft-stastny-enum-numbering-voip-00.txt   October 2003 
                
                
                  numbers consist of a "national subscriber number" and can only be 
                  dialed locally by accessing the national dialing plan and by 
                  prefixing the national access code. The "national subscriber number" 
                  consists of a pilot number for the private network (company) and a 
                  mapping of the private numbering plan as partial number. 
                   
                  The "pilot" number is translated to the nearest geographic number 
                  providing access to the private network and also to derive the 
                  tariff. This tariff is in the most cases only dependent on the type 
                  of number (the number ranges assigned for private networks), and not 
                  on the pilot number. 
                   
                  For this type of numbers service provider portability is available. 
                   
                  For this type of numbers the pilot numbers are assigned to the 
                  private networks, which in turn assign the partial numbers to the 
                  end-users. 
                   
                  4.2.3 Non-geographic numbers for networks 
                   
                  Non-geographic number ranges may also be used for networks (e.g. 
                  mobile networks). They consist in open numbering plans of a "network 
                  destination code û NDC" and also a "subscriber number ûSN". 
                   
                  The NDC is used to route the call to the nearest Point-of-
                  Interconnect of the network given by the NDC and also to derive the 
                  tariff. The tariff may either be dependant on the type of network or 
                  dependant on the specific network. 
                   
                  Between the same types of networks (e.g. mobile networks) service 
                  provider portability may be available in some countries. 
                   
                  For this type of numbers NDCs are assigned to network operators or 
                  service providers, which in turn assign the numbers to the end-users. 
                   
                  Note that in some countries also geographic numbers may be used for 
                  mobile subscribers. End Note. 
                   
                  4.2.4 Non-geographic numbers for personal services 
                   
                  Non-geographic numbers may also be used for personal services . They 
                  consist in open numbering plans of a "network destination code û NDC" 
                  and also a "subscriber number ûSN". 
                   
                  Depending on the implementation of the personal services, either the 
                  NDC is used to route the call to the nearest Point-of-Interconnect of 
                  the network providing the personal service, or the full number is 
                  translated to route the call again the a PoI, or directly to the 

                
                
               Stastny                  Expires - April 2004                [Page 20] 
                              Draft-stastny-enum-numbering-voip-00.txt   October 2003 
                
                
                  geographic number where the user is currently connected to. The 
                  number range is also used to derive the tariff. 
                   
                  Personal numbers are normally service provider portable by 
                  definition, especially if the number is assigned directly to the end-
                  user. Number ranges may also be assigned to service providers, which 
                  in turn assign the numbers to the end-users. 
                   
                  4.2.5 Non-geographic numbers for services (tariff related) 
                  Non-geographic number ranges are used for services. They consist in 
                  open numbering plans of a "network destination code û NDC" and also a 
                  "subscriber number ûSN". The NDC defines the type of service. 
                   
                  Since most of these services are related to billing, the NDC is 
                  primarily used to derive the tariff. This becomes clear if we look at 
                  the services in question: these are freephone, shared cost and 
                  premium rate or other value added services. 
                   
                  Services may be hosted with different service providers and are also 
                  translated finally to a geographic number for termination. These 
                  services are normally implemented as IN-services and two IN-dips are 
                  required for completion: the first to find out the network or service 
                  provider hosting the service and a second to translate the service 
                  number to the final destination number. This second translation may 
                  be dependant on date, time and origination of the call. 
                   
                  In most case service provider portability is available, but only 
                  between the same types of service. 
                   
                  This type of numbers is in most cases directly assigned to the end 
                  user and then hosted by a service provider. 
                   
                  It should be noted that even if some of this services may be reached 
                  uniquely by e.164 numbers, but are blocked for international incoming 
                  calls because they cannot be billed properly. 
                   
                  4.2.6 Discussion of the existing schemes for types of numbers 
                   
                  The boundaries between the classifications of the types of numbers 
                  are already blurred in the existing schemes and may differ in the 
                  various national implementations. 
                   
                  Some examples (not exhaustive): 
                   
                  Some countries assign numbers out of geographic numbering blocks for 
                  access to mobile wireless terminals e.g. in the NANP. Therefore the 
                  same tariffs are charged to calling users regardless of destination 
                  in the fixed or mobile networks and also regardless of mobile 

                
                
               Stastny                  Expires - April 2004                [Page 21] 
                              Draft-stastny-enum-numbering-voip-00.txt   October 2003 
                
                
                  network. The mobile networks therefore may charge air-time to the 
                  called subscriber. 
                   
                  Personal services are currently classified as non-geographic numbers 
                  in most countries and also within the global international E.164 
                  numbers. The reason for this is that existing number ranges for 
                  personal numbers are implemented as Personal Services along the 
                  service description of for Universal Personal Telecommunications 
                  (UPT) as specified in ITU-T Rec. F.85x series. The basic assumption 
                  of UPT is that an UPT user may register on any other fixed or mobile 
                  terminal and receive calls to the personal number and also may make 
                  calls from this terminal in his/her account. This requires an IN-type 
                  service with All Call Query (ACQ) to translate the dialed UPT number 
                  to the number of the line where the user is currently registered. 
                  This service is currently implemented rarely and if, only on a 
                  national scale, because there is no global interworking of IN-
                  services available. For this reason and also because of the pricing 
                  of the service it was not very successful on the market. 
                   
                  A global implementation using the assigned CC for UPT +878 and IP 
                  technology is under development. Although here the users may also 
                  attach to PSTN/ISDN lines, the prime intention of the service is for 
                  "mobile" users on the Internet. 
                   
                  On the other hand, one may consider mobile numbers also as "personal" 
                  numbers and mobile services as "personal" services, because a mobile 
                  numbers are (at least in GSM and UMTS) linked to Subscriber Identity 
                  Modules (SIM). These SIMs are attached temporarily to a device (the 
                  mobile phone). The device also gets a (temporary) number (MSRN) and 
                  the routing of the call is done by this numbers. This also requires a 
                  translation of the number dialed (the mobile number) to the number 
                  assigned currently to the device, the mobile subscriber roaming 
                  number (MSRN). The MSRN is also a E.164 number but used only within 
                  or between mobile networks to route the call properly to the 
                  destination mobile switching center (MSC) of the roaming subscriber 
                  (user). The translation is also done by an IN-type service with ACQ 
                  via the home location register (HLR) of the subscriber. 
                   
                  The technical implementations of personal and mobile numbers are very 
                  similar, with one exception: there is a globally interworking IN-
                  service available, but only within and between the GSM/UMTS networks. 
                   
                  Therefore one may question the classification of mobile numbers in 
                  the existing categories ûgeographic or non-geographic for networks 
                  (they may also be classified as type non-geographic for services) and 
                  one may also question the statement that numbering resources are 
                  allocated technology independent.  
                   

                
                
               Stastny                  Expires - April 2004                [Page 22] 
                              Draft-stastny-enum-numbering-voip-00.txt   October 2003 
                
                
                  It is therefore proposed to classify both personal and mobile numbers 
                  as equivalent and also as non-geographic number for networks. 
                   
                  4.2.7 Proposed new scheme for types of numbers 
                   
                  It is therefore proposed to use a new classification scheme: 
                  ò  Pure geographic numbers 
                  ò  Non-geographic numbers for private networks 
                  ò  Non-geographic numbers for networks and personal numbers 
                  (including mobile networks and personal services using VoIP networks) 
                  û or better: 
                  mobile personal services. 
                  ò  Non-geographic numbers for tariff related services 
                   
                  Even if mobile (wireless) and mobile (VoIP) networks (or services) 
                  are keep distinct for some time, the may merge into one group of 
                  services, namely mobile personal services very soon, especially with 
                  so-called dual mode devices.  
                   
                  Note: These devices are announced for the 4Q2003 and will have both 
                  GSM and WiFi (VoIP) capabilities and may even use the same SIM card 
                  for identification and authentication. End Note. 
                    
               4.3 Partial Numbers 
                   
                  Private numbering plans may map part or all of their numbers to an 
                  E.164 Number in such a manner that destinations (extensions) within 
                  the private network may be reached form the public PSTN/ISDN by 
                  direct-dialing-in (DDI). This is described in more detail in ITU-T 
                  Rec. E.164Annex B "Application of international public 
                  telecommunication numbers for ISDN". 
                   
                  This is done currently in the following way: a number block of an 
                  E.164 number is assigned to a company or provider. This numbering 
                  block is called pilot number. Then the numbering plan of the private 
                  network is attached as partial number. 
                   
                  Pilot number and partial number together are a full E.164 number. The 
                  full E.164 number MUST fit into the national or international 
                  numbering plan, especially concerning digit length. 
                   
                   
                   
                   
                   
                   
                   
                   
                   
                
                
               Stastny                  Expires - April 2004                [Page 23] 
                              Draft-stastny-enum-numbering-voip-00.txt   October 2003 
                
                
                   
                  /-----full E.164 number-----\ 
                   
                         /--------N(S)N-------\ 
                   
                  +----+ +-----+ +------------+ 
                  | CC | | NDC.| |      SN    | 
                  +----+ +-----+ +------------+ 
                   
                  \---pilot number---/\partial/ 
                                        number 
                   
                   
                   
                  Types of numbers used for this purpose are: 
                   
                  ò  National Geographic numbers 
                  ò  National non-geographic numbers for private networks 
                  ò  National non-geographic numbers for mobile networks 
                  ò  Global numbers for networks 
                   
                  Note: If a pilot number is in a numbering range supporting number 
                  portability, only the pilot number (at the endpoint of the PSTN/ISDN) 
                  is portable. End Note. 
                   
                  This is the reason why personal numbers should not be used for this 
                  purpose, or a distinction must be made between single portable 
                  numbers and pilot numbers. This is already the case for mobile 
                  (personal) numbers. 
                   
                  Note: I received a comment to this section from John Elwell, stating 
                  that 
                   
                  "In 4.3 the term "pilot number" is possibly misleading. The fact is 
                  that two private networks could have the same pilot number, e.g., one 
                  network has nnnnnn1xxx and another has nnnnnn2xxx, where pilot number 
                  nnnnnn is the same in each case. The term pilot number implies it is 
                  a kind of lead-in to a private network, but in fact it is (in such 
                  cases) insufficient to identify a particular network." 
                   
                  To which I replied: 
                  This is a very crucial point.  
                  As you see, I copied out the picture from E.164 Annex B, which 
                  defines everything EXCEPT the pilot number (I suspect on purpose, 
                  because there seems to be no clear definition). 
                   
                  According to your explanation, the term pilot number defines the 
                  endpoint in the public network, and I know, there may be split PRI 
                  connecting more then one PBX with different ranges. 
                
                
               Stastny                  Expires - April 2004                [Page 24] 
                              Draft-stastny-enum-numbering-voip-00.txt   October 2003 
                
                
                   
                  Here I have now the problem that on IP there is not really a clear 
                  definition of an "endpoint". 
                   
                  The next problem I have is that in your example in ENUM (DNS) I could 
                  define the "endpoint" or pilot number (delegation-wise) to be nnnnnn1 
                  and nnnnnn2. The "endpoint" in the case is a change of authority and 
                  this can be in DNS only at a "point" or in numbering speak only with 
                  a full digit. If you have the case (and such cases exist) that one 
                  private network (PBX) has number ranges nnnnnn1 and 2 and the other 
                  has nnnnnn3 and 4, you could solve this in DNS only with four 
                  separate delegations, two for one network and two for the other. 
                   
                  So if one hand the term pilot number is defined as network endpoint 
                  and this is meaningless on IP, I need another term for a point of 
                  delegation of authority in DNS. So either I come up with another term 
                  or I explicitly define in my document "pilot" number as boundary of 
                  authority to the number range holder. End of Note. 
                   
               4.4 Calling line identification (CLI) 
                   
                  Phone numbers are also used to identify the identity of the calling 
                  user. For this reason the number of the calling user is transmitted 
                  as CLI to the called user. 
                   
                  The CLI serves many different purposes: 
                   
                  ò  Call-back information to the called user. 
                  ò  Identification of the user and his location to emergency services 
                  and legal intercept 
                  ò  Identification of the user for malicious call identification (MCI) 
                  ò  Identification of the user for accounting purposes 
                   
                  These purposes have different requirements on the trustworthiness of 
                  the CLI. In some signaling systems two numbers may be transmitted, 
                  one un-trusted (user provided) for call back and a trusted (network 
                  provided and screened) for the other thee items. 
                   
                  Regarding the types of numbers, in case of geo-graphic and non-
                  geographic numbers the CLI of the user should be displayed if this 
                  user is making an originating call using this number. In case on non-
                  geographic numbers for private networks, both numbers may be 
                  displayed if a translation is used. 
                   
                  In case of non-geographic numbers for services either only the number 
                  of the terminating line is displayed, or also both numbers if 
                  available. 
                   

                
                
               Stastny                  Expires - April 2004                [Page 25] 
                              Draft-stastny-enum-numbering-voip-00.txt   October 2003 
                
                
                  The usage of CLI with VoIP and the possibility to provide secure 
                  signaling of this information via the Internet will be discussed in 
                  detail in a separate document 
                    
                   
               5. E.164 Numbers for VoIP 
                   
               5.1 E.164 Numbers for VoIP-only 
                   
                  In principle any E.164 number may already terminate on IP-based 
                  networks or the Internet using VoIP technology. Numbering Plans claim 
                  to be technology independent. A telecommunication network provider 
                  may claim a number range out of an area code reserved for geographic 
                  numbers or a number range out of a network destination code for 
                  (mobile) networks. Since he may use any technology within his 
                  network, he may also use VoIP technology. 
                   
                  There are already network providers using IP technology internally 
                  (e.g. cable network providers), mobile operators are planning to use 
                  VoIP technology for UMTS. 
                   
                  Currently these networks are mainly 'private' IP networks with no 
                  direct connection to the Internet. All interconnections with the 
                  public telephony network and to other networks are done via circuit-
                  switched Points-of-Interconnect. All calls are routed via the PSTN, 
                  even if they originate and terminate on IP terminals. This is not 
                  efficient for various reasons, the two most important being the 
                  unnecessary double use of expensive equipment (gateways) and the 
                  reduction in Quality of Service (QoS) (delays) also caused by the 
                  unnecessary double use of gateways. 
                   
                  Another drawback of these closed networks is that the VoIP service 
                  may only be accessed from within the networks. If users want to be 
                  mobile and use their terminal equipment anywhere on the public 
                  Internet they need to be able to connect and register on any 
                  (broadband) Internet access (e.g. via a WiFi hotspot or in a hotel or 
                  meeting broadband connection). 
                   
                  So we have two basic requirements for VoIP: 
                   
                  1. Calls originating on the Internet and terminating on the Internet 
                  must stay on the Internet or terminals using IP technology should be 
                  reachable via the public Internet. 
                   
                  2. Users want to have an E.164 number independent of the PSTN, want 
                  to connect to the Internet anywhere and want to be reached via this 
                  E.164 number from anywhere, including the PSTN/ISDN. 
                   

                
                
               Stastny                  Expires - April 2004                [Page 26] 
                              Draft-stastny-enum-numbering-voip-00.txt   October 2003 
                
                
                  In this section the possible types of numbers for VoIP-only usage are 
                  discussed 
                   
               5.2 Potential E.164 Number types for VoIP-only 
                   
                  5.2.1 National Geographic Numbers 
                   
                  Geographic numbers have a geographic significance. A caller may 
                  determine by looking at the number the geographic region, in some 
                  countries, depending on the numbering plan even the town or village. 
                  What is even more important is that emergency services in most 
                  countries may derive from the displayed number not only the identity 
                  but also the exact location of the caller. 
                   
                  This is considered an important feature and should therefore be 
                  implemented also for VOIP. 
                   
                  So if geographic numbers are allocated to VoIP terminals, it should 
                  be required that the terminal can only be used at the given location. 
                  This is no technical problem e.g. with cable or xDSL access. 
                   
                  To be more precise: it is required that the user may only register 
                  (any terminal) via the given access and make outgoing call using the 
                  geographic number in CLI from this location. 
                   
                  This does not imply that he may not receive calls to this number 
                  anywhere in the world. This can easily be achieved via simple call 
                  forwarding to another number. 
                   
                  Geographic numbers may either be used for residential subscribers or 
                  for private networks. In case of private networks the same is valid 
                  as stated in the next section. 
                   
                  5.2.2 National non-geographic numbers for private networks 
                   
                  Private networks may migrate to VoIP on their own discretion anyway. 
                  So a private network may use VoIP internally anyway. The question 
                  here is the access to the private network itself, which is done 
                  normally via the pilot number and a translation of the national non-
                  geographic number to one or more geographic numbers. It is also up to 
                  the private network if may be reached from the Internet directly. 
                   
                  5.2.3 National non-geographic numbers for mobile networks 
                   
                  This is a question of definition if VoIP networks are also considered 
                  as mobile networks. 
                   


                
                
               Stastny                  Expires - April 2004                [Page 27] 
                              Draft-stastny-enum-numbering-voip-00.txt   October 2003 
                
                
                  One could imagine that the definition for mobile networks is extended 
                  or that there is no distinction between numbers for mobile networks 
                  and personal numbers. 
                   
                  5.2.4 National non-geographic personal numbers 
                   
                  This is the most convenient number range candidate to be used for 
                  mobile VoIP, because it fits the purpose best. Furthermore number 
                  range(s) for personal numbers are already reserved in most countries, 
                  but in most cases not or not extensively used. 
                   
                  5.2.5 Global numbers for networks 
                   
                  These numbers may be considered equivalent to national non-geographic 
                  numbers for private networks. It is up to the customer and his 
                  business if he prefers a national or global numbering resource or 
                  both. 
                   
                  5.2.6 Global personal numbers  
                  These numbers are equivalent to national non-geographic personal 
                  numbers. It is up to the subscriber if he prefers a national or 
                  global numbering resource or both. 
                   
                   
               6. How to set up numbering and dialing plans for VoIP domains 
                   
               6.1 Basic Requirements 
                   
                  Note: the requirements in this section are only valid for numbering 
                  plans if the administrative domain wants to map its numbering plan to 
                  the global numbering plan and/or to a national numbering plan, to be 
                  reachable by E-164 numbers from the outside, either from the PSTN, 
                  from the Internet or both. End Note. 
                   
                  They are only valid for dialing plans if the administrative domain 
                  wants to access the global numbering plan and/or national dialing 
                  plans to reach other administrative domains or the PSTN/ISDN via 
                  E.164 numbers. 
                   
                  These requirements are not valid for administrative domains hosting 
                  single E.164 numbers, e.g. local numbers, mobile numbers or personal 
                  numbers requiring number portability. In this case a mapping of an 
                  own numbering plan is not required, although a dialing plan may 
                  exist. 
                   
                  Recommendation 1: 
                   
                  If existing numbering and dialing plans are used, e.g. if an 
                  administrative domain is migrating an existing private, local or 
                
                
               Stastny                  Expires - April 2004                [Page 28] 
                              Draft-stastny-enum-numbering-voip-00.txt   October 2003 
                
                
                  national network to IP-technology, the numbering and dialing plans 
                  MUST be compliant to these existing numbering and dialing plans. 
                   
                  Recommendation 2: 
                   
                  The global numbering plan as defined in ITU-T recommendation SHALL be 
                  accessible directly and in the same way from all numbering and 
                  dialing plans defined in this document (e.g. with an international 
                  prefix). 
                   
                  Recommendation 3: 
                   
                  The numbering and dialing plans defined in this document SHALL be 
                  compatible with the global numbering plan as defined in ITU-T 
                  Recommendation E.164 Annex B. 
                   
                  Recommendation 4: 
                   
                  It SHALL be possible to address private numbers (extensions) within 
                  an administrative as defined in ITU-T Rec. E.164 Annex B.3.2 by an 
                  ISDN Number to be reached either with Direct-Dialing-In (DDI) 
                  (Overdialing) or via MSN. This implies that the private numbering 
                  plan maps to the E.164 numbers as partial numbers. Sub-addressing 
                  (network address extensions) SHALL not be used. 
                   
                  Recommendation 5: 
                   
                  All private numbering plans according to this document SHOULD use a 
                  fixed length of numbers. This is to allow also for fixed length E.164 
                  numbers and a defined end-of dialing for terminals. 
                   
                  But: Note A private numbering plan could have variable number length, 
                  but the corresponding E.164 numbers are fixed length. For example: 
                  Site 1 has private numbers 77xxxx mapping to E.164 numbers +44 123 
                  4567 xxxx and site 2 has private numbers 666 xxxx mapping to E.164 
                  numbers +44 234 5678 xxxx. End Note: 
                   
                  Recommendation 6: 
                   
                  If the administrative domain has to be reachable from the outside, it 
                  is recommended to start setting up numbering and dialing plans first 
                  with the selection of the E.164 number range (pilot number) where the 
                  numbering plan will be mapped into as partial number.  
                   
                  After the selection of the number range assigned to the 
                  administrative domain the according dialing plan has to be selected 
                  and defined.  
                   

                
                
               Stastny                  Expires - April 2004                [Page 29] 
                              Draft-stastny-enum-numbering-voip-00.txt   October 2003 
                
                
                  After the definition of the dialing plan it is known which number 
                  ranges are used up eventually for access codes, allowing defining the 
                  available numbering ranges for local numbers. 
                   
               6.2 Which E.164 Numbers to use for mapping of partial numbers? 
                   
                  As stated above all types of numbers may be used for VoIP, but only 
                  certain E.164 number types are recommended for partial number mapping 
                  to administrative domains and therefore require the creation of an 
                  own numbering and dialing plan. With all other options the numbering 
                  and dialing plans are already predefined. 
                   
                  ò  Global Numbers for Networks 
                   
                  These types of numbers are recommended for administrative domains 
                  hosting subscribers from many different countries. In this case a 
                  dialing plan for global access is recommended. 
                   
                  ò  National non-geographic numbers for private networks 
                   
                  These types of numbers are recommended for administrative domains 
                  hosting subscribers from mainly this specific country. The selection 
                  is also dependent on national regulations. In this case a dialing 
                  plan for national access is recommended. 
                   
                  ò  National non-geographic numbers for mobile networks 
                   
                  These types of numbers are also recommended for administrative 
                  domains hosting subscribers from mainly this specific country. The 
                  selection is also dependent on national regulations. In this case 
                  also a dialing plan for national access is recommended.  
                   
                  Note: this is only possible if the mobile network allows partial 
                  numbers and DDI. If the administrative domain is also mapped to 
                  another number range, it is recommended to use the dialing plan of 
                  the other numbering range and let the system convert the digits to 
                  access the mobile network. End Note. 
                   
                  ò  Geographic numbers 
                   
                  These types of numbers are recommended for administrative domains 
                  hosting subscribers from mainly this specific location (city). In 
                  this case a dialing plan for local access is recommended. 
                   
                  Note on number assignment to administrative domains 
                   
                  E.164 numbers may be assigned to an administrative domain in two 
                  different ways, depending on policy. 
                   
                
                
               Stastny                  Expires - April 2004                [Page 30] 
                              Draft-stastny-enum-numbering-voip-00.txt   October 2003 
                
                
                  1. The administrative domain is the End User 
                  2. The administrative domain is the number range holder 
                   
                  This has implications on ENUM and Number Portability. 
                   
                  The administrative domain is the End User 
                   
                  In this case the administrative is equivalent to a private company 
                  implementing an IP PBX or IP Centrex. The company is the End User 
                  holding the E.164 Number minus the partial number range (also called 
                  pilot number) and has the right to opt-in into ENUM with this number. 
                  The full E.164 numbers may or may not be entered in ENUM. If the 
                  numbers are entered in ENUM, the company may in addition decide to 
                  provision the entries as a whole or give the provisioning of the 
                  single entries to the employees using the number. 
                   
                  Number Portability never applies. 
                   
                  Examples are administrative domains (companies) with national 
                  geographic numbers or national non-geographic numbers for private 
                  networks. 
                   
                  The administrative domain is the number range holder 
                   
                  This is the case the administrative domain is equivalent to a 
                  Telephony Service Provider (TSP) in the PSTN/ISDN sense. The 
                  administrative domain may now assign in turn E.164 Numbers out of the 
                  number range to End Users.  
                   
                  In this case the End User is the holder of the E.164 Number and has 
                  the right to opt-in to ENUM on his own. 
                   
                  If Number Portability also applies within the number range, the 
                  administrative domain must be aware of this fact and allow for 
                  porting in and out of numbers. 
                   
                  Examples are administrative domains implementing local numbering 
                  plans as Local Exchange Carriers or administrative domains 
                  implementing service numbers e.g. personal numbers. 
                    
               6.3 Dialing Plans for administrative domains 
                   
                  6.3.1 General Recommendations for all Dialing Plans 
                   
                  These recommendations concern dialing strings and are proposals for 
                  discussion. 
                   
                  Recommendation 7: 
                   
                
                
               Stastny                  Expires - April 2004                [Page 31] 
                              Draft-stastny-enum-numbering-voip-00.txt   October 2003 
                
                
                  Any dialing plan of an administrative domain SHALL recognize a global 
                  (E.164) number in the format as defined in rfc2806bis and E.123 with 
                  a leading '+'. The server of the administrative domain SHALL 
                  translate the '+' to the international access code used within this 
                  administrative domain. This is also necessary for a potential 
                  interworking with dual-mode mobile devices (e.g. GSM and WiFi), 
                  because it is common to store numbers in this format. 
                   
                  Note: these numbers may be transmitted to the administrative domain 
                  from the user device (User agent) either in the format tel:+43179780, 
                  sip:+43179780@acme.com or h323:+43179780@acme.com. If a server 
                  receives such a request, he may either forward the call to the PSTN 
                  or launch an ENUM-query. If the result is a NAPTR with a (different) 
                  tel:+xxxx, he may launch another ENUM query. If the result of an ENUM 
                  query is the same number as the previous number queried or no NAPTR 
                  is found for this number, the call shall be forwarded to the PSTN or 
                  forwarded to another proxy with tel:+xxxx;edi (ENUM dip indicator). 
                   
                  Recommendation 8: 
                   
                  Any dialing plan of an administrative domain SHALL recognize the 
                  international access code either in the format '00' or '011', e.g. 
                  0043179780 or 01143179780. Only administrative domains with global 
                  access SHALL recognize both access codes. 
                   
                  Recommendation 9: 
                   
                  For customer convenience, the '+' character MAY be replaced by the 
                  '*' symbol, e.g. international calls MAY also be dialed *43197980. 
                   
                  Recommendation 10: 
                   
                  The administrative domain MAY decide to use '**' for the selection of 
                  a cross trunk or cross connection. In this case the format of the 
                  dialing string is '**yyyxxxxx' where yyy is the selection of the 
                  cross trunk to another numbering plan and xxxxx is a number of the 
                  other numbering plan selected. It is suggested to use not more then 3 
                  digits for cross trunk selection.  
                   
                  In addition or instead of '**' also a digit MAY be used as access 
                  code for cross trunking. It is recommended to use the digit '9' for 
                  this purpose. 
                   
                  Recommendation 11: 
                   
                  The character '#' may be used as end-of-dial signal. 
                   


                
                
               Stastny                  Expires - April 2004                [Page 32] 
                              Draft-stastny-enum-numbering-voip-00.txt   October 2003 
                
                
                  The further selection of the variant of dialing plan used within an 
                  administrative domain is an internal matter, but the choice has to be 
                  communicated to the users (subscribers) 
                   
                  6.3.2 Types of dialing plans 
                   
                  The dialing plans for domains come in four variants: 
                   
                  1. Dialing Plan for domains with global access 
                  2. Dialing Plans for domains with national access 
                  3. ITADs within Local Dialing plans 
                  4. Dialing Plans for domains with local access 
                   
                  6.3.3 Dialing Plans for domains with global access 
                   
                  This dialing plan is for administrative domains with no specifically 
                  defined local or national access. This is intended for administrative 
                  domains hosting users (subscribers) from various nationalities or 
                  countries. 
                   
                  1. All generic recommendations from above may apply. 
                   
                  2. All other numbers dialed are treated like private (local) numbers 
                  out of the selected numbering plan (see numbering plans below). 
                   
                  3. Network specific numbers may be introduced in the number ranges 1 
                  and 9 (see below). 
                   
                  As long as the problems of user location and the routing of emergency 
                  calls is not solved, it is not recommended to provide routing to 
                  national emergency services, but this may be implemented later if the 
                  numbers 112 and 911 are reserved from the beginning. 
                   
                  6.3.4 Dialing Plans for domains with national access 
                   
                  Administrative domains with national access will be domains using 
                  national mobile or personal ENUM numbers, where most of the users 
                  (subscribers) may come out of this country. Nevertheless, a domain 
                  may also decide to use only global access. 
                   
                  1. All generic recommendations from above may apply, with the 
                  exception of '00' or '011'. The reason is that in this case either 
                  '00' or '011' may be valid, depending on the national dialing plan. 
                   
                  2. Only one national access SHALL be provided. It MUST be made clear 
                  to all subscribers which national dialing plan is accessed. Example: 
                  If the Austrian national dialing plan is accessed, a number dialed as 
                  019793321 or 004319793321 is equivalent to +4319793321. 
                   
                
                
               Stastny                  Expires - April 2004                [Page 33] 
                              Draft-stastny-enum-numbering-voip-00.txt   October 2003 
                
                
                  3. It is up to the dialing plan administrator of the ITAD if a Type I 
                  or Type II dialing plan is selected. 
                   
                  4. The access code to the national dialing plan depends on the 
                  national dialing plan itself, e.g. in Europe '0' is recommended, in 
                  the NANPA '1' is recommended. 
                   
                  5. Network specific numbers may be implemented depending on the Type 
                  of dialing plan selected 
                   
                  ITADS with national access may provide routing to national emergency 
                  services, e.g. to the European Emergency Number 112. 
                   
                  6.3.5 Domains within Local Dialing Plans 
                   
                  If a local dialing plan has to be implemented, the administrator has 
                  no choice. He has to implement the local dialing plan in question and 
                  also use local numbers as assigned by the numbering authority. 
                   
                  6.3.6 Dialing Plans for domains with local access 
                  Administrative domains with local access will be domains created by 
                  migration from enterprise PBX or Centrex and therefore may already 
                  have implemented a dialing plan. In this case this dialing plan may 
                  be migrated as is to the ITAD and in most cases this means that the 
                  users are used to dial out to a local dialing plan. 
                   
                  1. All numbers dialed starting with 0 SHALL be treated as access to 
                  ONE specific well defined local dialing plan. The numbers dialed 
                  after the 0 belong always to the local dialing plan selected. 
                   
                  2. Only ONE local access SHALL be provided. It MUST be made clear to 
                  all subscribers which local dialing plan is accessed. Example: If the 
                  Vienna local dialing plan is accessed, a number dialed as 09793321 or 
                  0004319793321 is equivalent to +4319793321. 
                   
                  3. Since with 0 the local dialing plan is reached, further prefixes 
                  to be used within this local dialing plan are already defined. 
                   
                  4. All other numbers are treated like private (local) numbers. 
                   
                  5. Network specific numbers may be introduced in the number ranges 1 
                  and 9 (see below). 
                   
                  Domains with local access may provide routing to local emergency 
                  services, e.g. to 911, 112 or 133 in Vienna. 
                   
               6.4 
                   Numbering Plans for administrative domains 
                   
                  6.4.1 General 
                
                
               Stastny                  Expires - April 2004                [Page 34] 
                              Draft-stastny-enum-numbering-voip-00.txt   October 2003 
                
                
                   
                  The private numbering plan is either taken over from an existing 
                  numbering plan, in case of a PBX or Centrex migration to VoIP (IP PBX 
                  or IP Centrex), or defined from scratch. It the first case it is 
                  assumed that the numbering and dialing plan is already compatible 
                  with ITU-T Rec. E.164 and proper access codes to the local or 
                  national E.164 numbering plan exists. 
                   
                  In the second case, the following is recommended: 
                   
                  1. Define the number of digits N of the local number. The possible 
                  number length is dependent on the E.164 number range where the local 
                  number is mapped as partial number. The minimum number of digits is 
                  the maximum will be dependant on expected final number of users and 
                  the type of E.164 number to be used to address the domain from E.164 
                  (4, 5 or even 6 digits). 
                   
                  It should be noted that the possible flexibility may be very 
                  restricted here, especially in closed numbering plans. 
                  Example: If the number should be mapped to an E.164 number of the 
                  NANP, and only number ranges smaller then 1-xxx-xxx are assignable, 
                  the choice is between 2 to 4 digits. 
                   
                  2. The E.164 number requested to address the administrative domain as 
                  a whole SHALL be according to ITU-T Rec E.164 Annex B.3.2 in such a 
                  way that the CC N(S)N SN or CC GSN including the private number as 
                  partial number gives a full E.164 number and does not exceed 15 
                  digits (in national numbering plans additional restrictions may 
                  apply) 
                   
                  3. No private number SHALL start with digit 0. 
                   
                  4. It is also recommended that no number related to a user starts 
                  with 1 and 9, so it is recommended to use the digits from 2 to 8. 
                  Therefore private numbers MAY start from e.g. 2000 to 8999. 
                   
                  5. There is one exception from this rule. if the dialing plan is 
                  closed and of type I (which means that always an access code has to 
                  be used to dial a local number), then, depending on the access code 
                  also the ranges x0, x1 or x9 may be used for local numbers, where x 
                  is the access code. In this case all other number ranges can be used 
                  for network specific numbers. 
                   
                  6.4.2 Network specific numbers and access numbers 
                   
                  Administrative domains may provide network specific numbers for 
                  internal use only. This numbers SHALL not be reachable from the 
                  outside, since they are NOT E.164 numbers. 
                   
                
                
               Stastny                  Expires - April 2004                [Page 35] 
                              Draft-stastny-enum-numbering-voip-00.txt   October 2003 
                
                
                  A domain may decide on the use network specific numbers on its own 
                  discretion, but the following principles are recommended to be common 
                  for user convenience. 
                   
                  Network specific numbers may be used for the following main purposes: 
                  providing internal services specific for this administrative domain 
                  and providing access to emergency services. 
                   
                  Network specific service numbers SHALL start with digit 1 (or 9). 
                   
                  Numbers starting with 9 may also be used as access numbers to cross 
                  connections to other domains, e.g. if an AD1 has cross connections to 
                  an AD2 and an AD3, it may decide to use access code 99 to access 
                  directly the private numbers of AD2 and 98 to access directly the 
                  private numbers to AD3. 
                   
                  6.4.3 Emergency Numbers 
                   
                  As long as the problems of user location and the routing of emergency 
                  calls is not solved, it is not recommended to provide routing to 
                  national emergency services from domains with global access, but this 
                  may be implemented later if the numbers 112 and 911 are reserved from 
                  the beginning. 
                   
                  Domains with national access may provide routing to national 
                  emergency services, e.g. to the European Emergency Number 112. 
                   
                  Domains with local access may provide routing to local emergency 
                  services, e.g. to 911 or 133 in Vienna, but only if they map to 
                  geographic numbers. 
                   
                  6.4.4 Adress-of-Records and userinfo 
                   
                  Subscribers of these administrative domains may be provided with the 
                  following types of Address-of-Records and alias userinfo: 
                   
                  sip:private number@acme.com (or h323:) 
                  sip:+e164 number@acme.com (or h323:) 
                  tel:+e164 number 
                   
                  In addition, the following types may be used within the domain: 
                   
                  tel:<private number>;phone-context=acme.com 
                  tel:<private number>;phone-context=+e164number - partial number 
                  but these are not recommended. 
                   
               7. Routing of calls to E.164 numbers terminating on VoIP 
                   

                
                
               Stastny                  Expires - April 2004                [Page 36] 
                              Draft-stastny-enum-numbering-voip-00.txt   October 2003 
                
                
               7.1 Routing on the PSTN 
                   
                  In principle routing on the PSTN/ISDN is done via digit analysis. Up 
                  to seven digits may be used in a given network for this purpose. 
                  Normally the originating network (a local network e.g. a LEC) is 
                  analyzing the first digits to determine if the call is local or long 
                  distance. If it is long distance, the call is forwarded to a long-
                  distance carrier. The long-distance carrier is again analyzing the 
                  digits, and routing the call either to the destination network 
                  (nationally) or routing the call to the country in question 
                  internationally. This is done either to another long-distance carrier 
                  or to the destination network 
                   
                  If a number is ported, an intermediate step may be necessary to 
                  determine the final destination network. How this is done depends on 
                  the method of NP implemented and is not discussed detail here. 
                  The primary aim should be to allow for a number terminating on VoIP 
                  to be recognized via digit analysis as soon as possible. This 
                  requires the information to be in the fist 7 digits maximum. 
                   
                  In this case the call could be routed immediately within the LEC or 
                  by the IXC to the nearest VoIP gateway. In case of E.164 numbers 
                  contained in ENUM, all such calls should be routed to the same type 
                  of gateway, namely to a gateway capable of querying ENUM (an ENUM-
                  enabled gateway). 
                   
                  7.1.1 National Geographic Numbers 
                   
                  National geographic numbers will always be routed on the PSTN/ISDN 
                  network to the destination network. There is currently no way to find 
                  out on the PSTN (e.g. in the originating network) if the number 
                  terminates on VoIP (except with ACQ). 
                   
                  7.1.2 National non-geographic numbers for private networks 
                   
                  National non-geographic numbers for private networks will always be 
                  routed internationally to the country hosting the number. Nationally 
                  there are three options. 
                   
                  1. The private network has a direct connection(s) to the PSTN/ISDN 
                  which is assigned a geographic number. In this case the call will 
                  routed (e.g. via IN-translation) to the nearest connection. 
                   
                  2. The private network has no direct connection, but has a geographic 
                  number terminating on VoIP assigned. In this case the number is 
                  translated like in option 1 and then routed like a geographic number 
                  terminating on VoIP 
                   

                
                
               Stastny                  Expires - April 2004                [Page 37] 
                              Draft-stastny-enum-numbering-voip-00.txt   October 2003 
                
                
                  3. The private network has no direct connection to the PSTN/ISDN, but 
                  has a routing number to a gateway assigned. In this case the call 
                  will be routed to the nearest VoIP-gateway capable of routing the 
                  call further on the Internet (e.g. with ENUM). 
                   
                  7.1.3 National non-geographic numbers for mobile networks 
                   
                  These numbers will always be routed to the mobile network defined by 
                  the number as defined in the national network. If the "mobile" 
                  network is using VoIP technology and is assigned a separate national 
                  destination code, the call may be routed by digit analysis directly 
                  to a VoIP gateway. 
                   
                  7.1.4 National non-geographic personal numbers 
                   
                  If number ranges assigned for personal numbers can be assumed to 
                  terminate on VoIP, the same applies as for mobile numbers. The number 
                  range may be analyzed in the originating network and routed directly 
                  to the nearest VoIP gateway. 
                   
                  7.1.5 Global numbers for networks 
                   
                  In this case the routing will be very easy, because the originating 
                  network may determine the VoIP and ENUM-enabled number by the first 5 
                  digits (e.g. +882xx) 
                   
                  7.1.6 Global personal numbers  
                   
                  In this case the routing will be very easy, because the originating 
                  network may determine the VoIP and ENUM-enabled number by the first 5 
                  digits (e.g. +87810) 
                   
                  7.1.7 User-ENUM and access codes 
                   
                  In case of User ENUM (see also section à) any geographic and non-
                  geographic number for networks could in principle terminate also on 
                  the Internet as second line service, providing the national 
                  regulation authority has opted into e164.arpa.  
                   
                  The only question here is how a user on the PSTN may force the PSTN 
                  to make an ENUM lookup to terminate the call not on the PSTN by 
                  default. 
                   
                  This may be done by various ways, one could be to provide a specific 
                  access code similar to a carrier selection code to route the call to 
                  a VoIP gateway. This will be a matter of the originating PSTN network 
                  and is not discussed here any further. 
                   

                
                
               Stastny                  Expires - April 2004                [Page 38] 
                              Draft-stastny-enum-numbering-voip-00.txt   October 2003 
                
                
               7.2 ENUM Support for Routing of E.164 numbers on the Internet 
                   
                  On the Internet, E.164 numbers may be routed by different means. 
                  Administrative domains may have e.g. their own translation and 
                  routing tables, but in this case the calls need to be routed on the 
                  PSTN/ISDN directly to a gateway operated by this administrative 
                  domain. Examples may be PBXes connected to the PSTN or local networks 
                  based on IP technology. 
                   
                  To be reachable from anywhere on the Internet, a global mapping is 
                  necessary. This is provided by ENUM using the DNS. ENUM maps E.164 
                  numbers to URIs. If a domain provides URIs for its users, a mapping 
                  from any E.164 number to the given URIs is possible. 
                   
                  For calls originating on the Internet it is of no difference if the 
                  E.164 number is also used on the PSTN or only on the Internet. The 
                  call is normally routed to the URI given in ENUM first. 
                   
                  Only if for a given number no ENUM entry or no URI pointing to a VoIP 
                  application is found, the call may be routed to the PSTN, proper 
                  connectivity provided. 
                   
               7.3 Routing from Gateways and between domains with ENUM 
                   
                  This section needs work û feedback requested. 
                   
                  This section deals with the routing between administrative domains 
                  and also with the routing from Gateways to the destination domain. 
                   
                  As stated above, a subscriber may have the following types of 
                  address-of-records within his domain: 
                   
                  sip:partial-number@acme.com 
                  sip:+e164-number@acme.com 
                  tel:+e164-number 
                   
                  Additionally he may also have as an alias an alphanumeric user(info), 
                  but this is of no concern within this document (e.g.  
                   
                  sip:firstname.lastname@acme.com). 
                   
                  Another user may enter either the full sip URI to access the user or 
                  dial within the domain by entering the private (partial) number 
                  directly. Outside the domain this private (partial) number alone is 
                  not meaningful and cannot be used, except with cross connections 
                  using access codes. 
                   
                  Therefore to access a user in another domain from a given domain a 
                  sip: or h323 Address-of-Record must be used. If the user does not 
                
                
               Stastny                  Expires - April 2004                [Page 39] 
                              Draft-stastny-enum-numbering-voip-00.txt   October 2003 
                
                
                  know Address-of-Record, or is using an IP Phone with a numeric keypad 
                  he may want to use the E.164 number instead. 
                   
                  If the call is coming in via a Gateway, only the E.164 number is 
                  available. 
                   
                  ENUM is providing a mapping from E.164 Numbers to sip: or h323: 
                  Address-of-Records, it is therefore proposed to use ENUM for the 
                  routing of these calls. 
                   
                  7.3.1 The administrative domain is the End User 
                   
                  In this case the domain has the full control over the ENUM entries. 
                  He may decide to enter only the domain of the pilot number into ENUM 
                  or to enter domains for every extension. In the latter case he may 
                  also decide to control the entries centrally by a system 
                  administrator or delegate the rights to his employees. 
                   
                  One ENUM entry within domain of the pilot number 
                   
                  There is a very simple way to implement a default routing to domains 
                  with ENUM: since all partial numbers are mapped in the same way to 
                  the domains main (pilot) E.164 number, one ENUM domain with the pilot 
                  E.164 number containing one wildcard NAPTR is sufficient. 
                   
                  If e.g. OeFEG has an ENUM entry for +43 1 79780, the following entry 
                  is sufficient: 
                   
                  $ORIGIN 0.8.7.9.7.1.3.4.e164.arpa. 
                  * IN NAPTR 10 10 "u" "E2U+voice:sip" 
                  "!^\\+4379780(.*)$!sip:\\1@sip.oefeg.at!" . 
                   
                  to route all calls dialed including the partial numbers to this 
                  domain. 
                   
                  ENUM entry with centralized administration 
                   
                  If there is a centralized administration by a system administrator 
                  there could also be only one ENUM domain for the pilot number with 
                  the following entries: 
                   
                  $ORIGIN 0.8.7.9.7.1.3.4.e164.arpa. 
                  IN NAPTR 10 10 "u" "E2U+voice:sip" "!^.*$!sip:operator@sip.oefeg.at!" 
                  . 
                  IN NAPTR 10 10 "u" "E2U+email:mailto" "!^.*$!mailto:office@oefeg.at!" 
                  . 
                  IN NAPTR 10 10 "u" "E2U+web:http" "!^.*$!http://www.oefeg.at!" . 
                  0 IN NAPTR 10 10 "u" "E2U+voice:sip" 
                  "!^.*$!sip:operator@sip.oefeg.at!" . 
                
                
               Stastny                  Expires - April 2004                [Page 40] 
                              Draft-stastny-enum-numbering-voip-00.txt   October 2003 
                
                
                  0 IN NAPTR 10 10 "u" "E2U+email:mailto" 
                  "!^.*$!mailto:office@oefeg.at!" . 
                  2.3 IN NAPTR 10 10 "u" "E2U+voice:sip" "!^.*$!sip:32@sip.oefeg.at!" . 
                  2.3 IN NAPTR 10 10 "u" "E2U+email:mailto" 
                  "!^.*$!mailto:richard.stastny@oefeg.at!" . 
                  etc. 
                   
                  ENUM entries with per user administration 
                   
                  If there is a separate administration of each partial number by the 
                  employees of the company a sub-delegation to an ENUM Tier 3 Name 
                  Server operated by the company could be done. There could either be a 
                  wildcard NS Resource Record for all sub-delegations or separate NS RR 
                  for each partial number visible from the outside. 
                   
                  $ORIGIN 0.8.7.9.7.1.3.4.e164.arpa. 
                  IN NAPTR 10 10 "u" "E2U+voice:sip" "!^.*$!sip:operator@sip.oefeg.at!" 
                  . 
                  IN NAPTR 10 10 "u" "E2U+email:mailto" "!^.*$!mailto:office@oefeg.at!" 
                  . 
                  IN NAPTR 10 10 "u" "E2U+web:http" "!^.*$!http://www.oefeg.at!" . 
                  * IN NS enumns1.oefeg.at.  
                  * IN NS enumns2.oefeg.at. 
                  oder  
                  0 IN NS enumns1.oefeg.at. 
                  0 IN NS enumns2.oefeg.at. 
                  2.3 IN NS enumns1.oefeg.at. 
                  2.3 IN NS enumns2.oefeg.at . 
                  etc. 
                   
                  7.3.2 The administrative domain is the number range holder 
                   
                  If the domain is hosting full E.164 numbers, the user has the right 
                  to opt-into ENUM on his own behalf and also he may have the right to 
                  port his number out of the domain regarding the telecommunication 
                  service. 
                   
                  In this case all full E.164 numbers MUST be delegated directly from 
                  the ENUM Tier 1. 
                   
                  But consider the following example: 
                   
                  All numbers from the number range +8781012345 are hosted by the 
                  domain sip.nic.at 
                   
                  All users originally are not interested in own ENUM entries and also 
                  happy with the nic.at sip service. For all this users the first NAPTR 
                  is sufficient. 
                   
                
                
               Stastny                  Expires - April 2004                [Page 41] 
                              Draft-stastny-enum-numbering-voip-00.txt   October 2003 
                
                
                  Now the user with the number +8781012345543210 wants to have an ENUM 
                  service but still provided by the ENUM Tier 2 Name Sever of nic.at. 
                  He gets the second NS RR. He may or may not leave his sip service 
                  within sip.nic.at. 
                   
                  The user with the E.164 number +8781012345543211 wants to have an 
                  ENUM service, but with another ENUM Tier 2 Nameserver Provider. He 
                  gets the third NS RR. He may or may not leave his sip service within 
                  nic.at. 
                   
                  $ORIGIN 5.4.3.2.1.0.1.8.7.8.e164.arpa. 
                  * IN NAPTR 10 10 "u" "E2U+voice:sip" 
                  "!^\\+8781012345(.*)$!sip:\\1@sip.nic.at!" . 
                  0.1.2.3.4.5 IN NS enumns1.nic.at. 
                  1.1.2.3.4.5 IN NS enumns1.otherprovider.net. 
                   
               8. Security Considerations 
                   
                  This document deals primarily with routing of VoIP calls and other 
                  communications on the Internet using ENUM. Regarding the usage of 
                  ENUM and DNS technology see the security considerations in 
                  RFC2916bis. For more general aspects of privacy and security in the 
                  context of ENUM, see [7]. 
                   
                   
               References 
                                    
                  1  Bradner, S., "The Internet Standards Process -- Revision 3", BCP 
                     9, RFC 2026, October 1996. 
                   
                  2 Bradner, S., "Key words for use in RFCs to Indicate Requirement 
                     Levels", BCP 14, RFC 2119, March 1997 
                   
                  3 "The International Public Telecommunication Number Plan", ITU-T 
                     Recommendation E.164, May 1997. 
                   
                  4 Schulzrinne H. & Vaha-Sipila A., "The tel URI for Telephone Calls", 
                     draft-iptel-rfc2806-01.txt, (work in progress), June 2003 
                   
                  5  Faltstrom, P.&  Mealling,M. "The E.164 to URI DDDS Applications", 
                     draft-ietf-enum-rfc2916bis-06.txt, (work in progress), May 2003 
                   
                  6  "International Telephone Service", ITU-T Recommendation E.105, 
                     August 1992 
                   
                  7 Shockey R. & Morris. J., "Privacy and Security Considerations in 
                     ENUM", draft-ietf-enum-privacy-security-01.txt, (work in 
                     progress), July 2003 

                
                
               Stastny                  Expires - April 2004                [Page 42] 
                              Draft-stastny-enum-numbering-voip-00.txt   October 2003 
                
                
                                                                                        
                   
                   
               Acknowledgments 
                   
                  Thanks to John Elwell for his comments. 
                   
                   
               Author's Addresses 
                   
                  Richard Stastny 
                  OeFEG 
                  Arsenal Objekt 24, Postbox 147 
                  1140 Vienna 
                  Austria 
                  Phone: +43 664 420 4100 
                  Email: richard.stastny@oefeg.at 
                    
                   
                  Full Copyright Statement  
                       
                  Copyright (C) The Internet Society (2002).  All Rights Reserved.  
                       
                  This document and translations of it may be copied and furnished to 
                  others, and derivative works that comment on or otherwise explain it 
                  or assist in its implementation may be prepared, copied, published  
                  and distributed, in whole or in part, without restriction of any  
                  kind, provided that the above copyright notice and this paragraph  
                  are included on all such copies and derivative works.  However, this  
                  document itself may not be modified in any way, such as by removing  
                  the copyright notice or references to the Internet Society or other  
                  Internet organizations, except as needed for the purpose of  
                  developing Internet standards in which case the procedures for  
                  copyrights defined in the Internet Standards process must be  
                  followed, or as required to translate it into languages other than  
                  English.  
                       
                  The limited permissions granted above are perpetual and will not be    
                  revoked by the Internet Society or its successors or assigns.  
                       
                  This document and the information contained herein is provided on an  
                  "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING  
                  TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING  
                  BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION  
                  HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF  
                  MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.  
                       
                  Acknowledgement  

                
                
               Stastny                  Expires - April 2004                [Page 43] 
                              Draft-stastny-enum-numbering-voip-00.txt   October 2003 
                
                
                       
                  Funding for the RFC Editor function is currently provided by the    
                  Internet Society. 














































                
                
               Stastny                  Expires - April 2004                [Page 44] 
