



Network Working Group                                        C. Martinez
Internet-Draft                                                    LACNIC
Intended status: Informational                                 A. Newton
Expires: April 19, 2018                                             ARIN
                                                        October 16, 2017


                 Simple Subordinate IP Networks in RDAP
               draft-newton-regext-rdap-simple-subnets-00

Abstract

   This document describes a simple extension to RDAP and an operational
   model for network operators to serve RDAP network information using
   statically generated JSON files over HTTPS.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on April 19, 2018.

Copyright Notice

   Copyright (c) 2017 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.




Martinez & Newton        Expires April 19, 2018                 [Page 1]

Internet-Draft             RDAP Simple Subnets              October 2017


Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  RDAP Subnets Extension  . . . . . . . . . . . . . . . . . . .   2
   3.  RDAP Simple Subnets Operational Model . . . . . . . . . . . .   3
     3.1.  Registration and File Generation  . . . . . . . . . . . .   3
     3.2.  RDAP Reference Links  . . . . . . . . . . . . . . . . . .   4
     3.3.  File Extensions and Media Types . . . . . . . . . . . . .   5
   4.  Normative References  . . . . . . . . . . . . . . . . . . . .   5
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   5

1.  Introduction

   The current operational model of RDAP [RFC7483] for the service of IP
   network information works by serving the information almost
   exclusively from the RDAP servers of the RIRs.  For network operators
   assigned or allocated IP networks by the RIRs and to participate in
   the RDAP ecosystem, they must operate an RDAP-aware HTTPS service.

   This document proposes an operational model for network operators
   assigned or allocated IP networks by the RIRs to participate in the
   RDAP ecosystem using statically generated RDAP JSON [RFC7159] files
   and off-the-shelf HTTP servers.  This operational model is called
   "RDAP Simple Subnets".

   This document also specifies the RDAP Subnets extension to facilitate
   the RDAP Simple Subnets operational model, though this extension may
   be used for other purposes as well.

2.  RDAP Subnets Extension

   Currently there is no method to specify subordinate networks in RDAP
   IP network structures.  The Subnets RDAP extension defines
   subordinate networks in the RDAP "ip network" object class by
   specifying that the current "networks" child JSON array of the RDAP
   "entity" object class may optionally appear as a child of the "ip
   network" object class.  The "networks" JSON array is simply an array
   of "ip network" object classes.  In other words, this extension
   defines no new data structures but simply specifies that the
   "networks" array that may appear in entities may also appear in
   networks.










Martinez & Newton        Expires April 19, 2018                 [Page 2]

Internet-Draft             RDAP Simple Subnets              October 2017


    The following is an elided example of the "networks" array in an IP
                           network object class.

          {
            "rdapConformance" : [ "rdap_level_0", "subnets_0" ],
            "objectClassName" : "ip network",
            "handle" : "XXXX",
            "startAddress" : "2001:db8::",
            "endAddress" : "2001:db8:0:ffff:ffff:ffff:ffff:ffff",
            "ipVersion" : "v6",
            "name": "NET-BIG-1",
            "parentHandle" : "YYYY-RIR",

            ...

            "networks" : [

              {
                "objectClassName" : "ip network",
                "handle" : "XXXX-2",
                "startAddress" : "2001:db8::",
                "endAddress" : "2001:db8:0::ffff",
                "ipVersion" : "v6",
                ...
              }
               ...

            ]
          }

                    Figure 1: Elided IP Network Example

   This specification will register "subnets_0" for the rdapConformance
   array as an RDAP extension with the IANA.

3.  RDAP Simple Subnets Operational Model

   The RDAP Simple Subnets operational model has two facets: a
   registration and file generation process, and an RDAP reference link
   process.

3.1.  Registration and File Generation

   Once allocated or assigned an IP network by an RIR, network operators
   would register an RDAP URL with the RIR.  This URL would be a "base"
   URL with a path to the location on an HTTPS server where the static
   RDAP files may be retrieved.  For example, if
   https://example.com/lunar_isp/ip/2001:db8::1 is an address within one



Martinez & Newton        Expires April 19, 2018                 [Page 3]

Internet-Draft             RDAP Simple Subnets              October 2017


   of the networks, then the base URL would be https://example.com/
   lunar_isp.

   Next, static RDAP JSON files would be generated.  For each network
   assigned or allocated to the network operator, the file generated and
   the file structure would allign with the first (or start) IP address
   of the network.  For example, if a network operator were allocated
   2001:db8:cafe::/48, the file generated would be retrievable as
   "https://example.com/lunar_isp/ip/2001:db8:cafe::".

   Each of these files would contain an "ip network" object class with
   an optional "networks" array.  The "networks" array may then contain
   information regarding sub-allocation of the network.

   Once generated, these files would be served by an HTTPS server.  The
   HTTPS software must be configured to serve these files with the
   "application/rdap+json" media type.

3.2.  RDAP Reference Links

   Once a subordinate network has an associated RDAP base URL, RIRs will
   synthesize reference links to the subordinate networks using the
   "links" structure in RDAP.  The link placed in the "links" structure
   will reference the first (or start) IP address of the network as
   described above.  The link relationship to be used is "start"
   (already registered with the IANA).  Any RDAP lookup for the given
   network will contain the link.

   Using the example above, an RDAP lookup of "https://rir.example/
   ip/2001:db8::cafe::ffff" would contain a link to
   "https://example.com/lunar_isp/2001:db8:cafe::".

   The following is an example of a "links" array found in "ip network"
   object class served by an RIR and referencing the start IP address of
        an "ip network" object class served by a network operator.

     "links" :
     [
       {
         "value" : "http://example.com/lunar_isp/ip/2001:db8:cafe::",
         "rel"   : "start",
         "href"  : "http://example.com/lunar_isp/ip/2001:db8:cafe::",
         "type"  : "application/rdap+json"
       },
     ]

                          Figure 2: Links Example




Martinez & Newton        Expires April 19, 2018                 [Page 4]

Internet-Draft             RDAP Simple Subnets              October 2017


   When issuing these links, the RIR RDAP servers should also use the
   "subnets_0" extension signifier.

3.3.  File Extensions and Media Types

   Because some off-the-shelf HTTPS servers are easily configured to
   serve files with media types based on the file's filesystem name
   extension, this should be an option during the registration,
   generation, and linking processes mentioned above.  This document
   suggests using an extendion of ".rdap".  When extensions are used,
   they will appear in the links.

4.  Normative References

   [RFC7159]  Bray, T., Ed., "The JavaScript Object Notation (JSON) Data
              Interchange Format", RFC 7159, DOI 10.17487/RFC7159, March
              2014, <https://www.rfc-editor.org/info/rfc7159>.

   [RFC7483]  Newton, A. and S. Hollenbeck, "JSON Responses for the
              Registration Data Access Protocol (RDAP)", RFC 7483,
              DOI 10.17487/RFC7483, March 2015,
              <https://www.rfc-editor.org/info/rfc7483>.

Authors' Addresses

   Carlos M. Martinez
   Latin American and Caribbean IP Address Regional Registry
   Rambla Mexico 6125
   Montevideo  11400
   Uruguay

   Phone: +598 2604 2222
   Email: carlos@lacnic.net


   Andrew Lee Newton
   American Registry for Internet Numbers
   PO Box 232290
   Centerville, VA  20120
   US

   Email: andy@arin.net
   URI:   http://www.arin.net








Martinez & Newton        Expires April 19, 2018                 [Page 5]
