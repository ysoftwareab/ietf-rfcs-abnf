
Internet Draft	        Information Store MIB	      April 22,1996


     Definitions of Managed Objects for an Information Store

		      April 22, 1996


                  <draft-hazewinkel-ismib-00.txt>


                       Harrie Hazewinkel
                      University of Twente
                     hazewink@cs.utwente.nl

                       Eric van Hengstum
                      University of Twente
                     hengstum@cs.utwente.nl

                          Aiko Pras
                      University of Twente
                       pras@cs.utwente.nl


		       Status of this Memo

This document is an Internet-Draft.  Internet-Drafts are working
documents of the Internet Engineering Task Force (IETF), its
areas, and its working groups.	Note that other	groups may also
distribute working documents as	Internet-Drafts.

Internet-Drafts	are draft documents valid for a	maximum	of six
months and may be updated, replaced, or	obsoleted by other
documents at any time.	It is inappropriate to use Internet-
Drafts as reference material or	to cite	them other than	as ``work
in progress.''

To learn the current status of any Internet-Draft, please check
the ``1id-abstracts.txt'' listing contained in the Internet-
Drafts Shadow Directories on ds.internic.net (US East Coast),
nic.nordu.net (Europe),	ftp.isi.edu (US	West Coast), or
munnari.oz.au (Pacific Rim).















Expires	October 22, 1996				    [Page 1]

Internet Draft	        Information Store MIB	      April 22, 1996

1.  Abstract

   This draft defines a MIB for use with managing information stores.
   The term "information store" is construed to mean any information
   providing application, such as World Wide Web (WWW), File Transfer 
   Protocol (FTP), and Gopher. The information store is seen as the 
   application responsible for the information providing capabilities.
















































Expires	October 22, 1996				    [Page 2]

Internet Draft	        Information Store MIB	      April 22, 1996

2.  The	SNMPv2 Network Management Framework

The SNMPv2 Network Management Framework	consists of four major
components.  They are:

o    STD 17, RFC 1213 [2] defines MIB-II, the core set of managed
     objects for the Internet suite of protocols.

o    RFC 1901 Introduction to Community-based SNMPv2

o    RFC 1902 Structure	of Management Information for Version 2	of
     the Simple	Network	Management Protocol (SNMPv2)

o    RFC 1903 Textual Conventions for Version 2	of the Simple
     Network Management	Protocol (SNMPv2)

o    RFC 1904 Conformance Statements for Version 2 of the Simple
     Network Management	Protocol (SNMPv2)

o    RFC 1907 Management Information Base for Version 2	of the
     Simple Network Management Protocol	(SNMPv2)

o    RFC 1908 Coexistence between Version 1 and	Version	2 of the
     Internet-standard Network Management Framework


The Framework permits new objects to be	defined	for the	purpose	of
experimentation	and evaluation.


2.1.  Object Definitions

Managed	objects	are accessed via a virtual information store,
termed the Management Information Base or MIB. Objects in the MIB
are defined using the subset of	Abstract Syntax	Notation One
(ASN.1)	defined	in the SMI[1]. In particular, each object type is
named by an OBJECT IDENTIFIER, an administratively assigned name.
The object type	together with an object	instance serves	to
uniquely identify a specific instantiation of the object. For
human convenience, we often use	a textual string, termed the
object descriptor, to refer to the object type.














Expires	October 22, 1996				    [Page 3]

Internet Draft	        Information Store MIB	      April 22, 1996

3.  Introduction.

   The Information Store represents the information part of a World Wide 
   Web application. The name Information Store (IS) is strongly related
   to the use of this part of the WWW application. Most WWW servers provide 
   information to users / customers (clients) of the WWW application. In 
   order to maintain and manage the provided information a specific MIB
   module is defined. The Information Store MIB module specifies the
   network management information of the WWW server, providing the 
   aforementioned information.
   
   The work performed for this MIB is a result of a project executed 
   for the Centre of Earth Observations. It is not seen as complete,
   but it should be a first step in an effort to manage the WWW. An
   implementation of this MIB already exists. Due to the use of a 
   commercial development package it cannot be distributed. However, 
   a public domain version is now being developed.


4.  Information Store MIB structure.

   The Information Store MIB module structure contains the
   following groups:
   1.	isGeneral,
   2.	isAccess,
   3.	isErrors, and
   4.	isDocuments.

4.1 General Group

   The isGeneral group contains overall administrative data which 
   uniquely identifies the IS, and should be static for the Information 
   Store (IS). The network management information consists of the 
   administrative data uniquely identifying the IS. In addition to the 
   static data, such as the isContact object (a contact address for the 
   person responsible for the information provided by the IS), the 
   isGeneral group also contains the isTopicTable. The NMS user can use
    this table to discover what kinds of information are provided by 
   the IS. It was originally intended to include an isLocation variable 
   in this group. This variable would have provided information on the 
   location of the IS, however, as this information is also contained 
   in the sysLocation of the  system group it was omitted.

   The general group contains also information of applications on which 
   the IS depends (such as database applications for search facilities).
   The application dependency table provides that information. The 
   status of these applications is checked dynamically and the values 
   are related to the `process status' command of the UNIX environment.







Expires	October 22, 1996				    [Page 4]

Internet Draft	        Information Store MIB	      April 22, 1996

4.2 Access group

   The access group contains network management information about the
   network activity of the Information Store. The network activity is 
   described in an abstract manner in regard to the service which 
   transports the information. 

   This group provides network management information with the
   following points of view:
   1.	general data containing totals for the information store,
   2.	domain data containing totals ordered by domains,
   3.	daily access data which contains totals for the last N days,
   4.	user data which contains information concerning the most
        frequent and most recent users.

   The general access data provides statistics relating to usage of
   the IS. For example, the variables number of accesses 
   (isNumberOfAccesses) and the number of bytes in/ out 
   (isNumberOfBytesOut, isNumberOfBytesIn) are defined.

   The isDomainTable breaks down accesses to the IS by Internet domain.
   The NMS operator can thus discover the countries or groups regular 
   users of the IS belong. This on may be valuable, as an IS 
   administrator can decide whether mirror servers in certain domains
   may be useful. Then long distance network traffic as well as the 
   server load could be reduced.

   To see the number of hits for each day an isAccessOfLastNDaysTable
   is defined. Together with a variable setting the total number of
   days which can be traced backwards, this table provides information
   on the number of accesses executed on the IS on a day to day basis.

   The isDomainTable and isAccessOfLastNDaysTable provide useful 
   information on the number and sources of accesses to the IS, 
   however, it is equally important to know what information is
   attracting Users to the IS. In support of this function, two tables 
   are defined. These tables are a most recent users table and a most 
   frequent users table. The combination of these tables should give 
   meaningful information of users and which information they access.

   The isMostFrequentUser table is defined in a slightly different 
   fashion from the isMostRecentUser table. This is mainly because of
   implementation aspects such as the amount of memory used to store 
   information relating to the IS users and the processing time to 
   generate the information. Details on every User who has accessed
   the IS must be stored, because new accesses may give that User a
   new place in the table. Therefore, the following solution was
   adopted: the table is updated on initiative of the NMS, thus making 
   the NMS responsible for limiting the number of updates requested.






Expires	October 22, 1996				    [Page 5]

Internet Draft	        Information Store MIB	      April 22, 1996

   The NMS requests an update by setting the refresh variable to the 
   value `false'. An Agent subprocess then processes the new information
   and, on exiting, sets the refresh variable to the value `true'. The 
   subprocess also updates the time stamp variable indicating the date 
   and time when the table was last refreshed.

   Besides these variables, the size of the table can also be set with
   a size variable which has a value in the range of 0 to 128. 
   The isMostRecentUsers table provides information on which users are 
   the last ones who accessed the IS. The size of the table is limited
   to at most 128 and can be set in a range of 0 to 128. The table is 
   indexed with the position of the User in the table, and contains
   information giving the Users name, the time of last access, and 
   document that was accessed.

4.3 Error Group

   The error group contains network management information about errors 
   which occurred during accesses of the IS. This group abstracts from 
   the network errors that occur, it only shows errors resulting from
   information access. This group is defined as a table with an error 
   description, the number of occurrences of that error and the time at
    which the error last occurred. The reason for defining this 
   information in a table is that an implementor of the MIB module can 
   simply add new errors to the table without changing the MIB module 
   definition.

4.4 Document Group

   The document group contains the network management information about 
   the data which is provided by the Information Store. The information 
   is kept in a table containing the documents name, access rights, 
   size, type, and other features such as the number of accesses, time
   of last update, and any associated errors. The isDocumentTable has
   the same implementation constraints as the isMostFrequentNUserTable, 
   and is handled in a similar fashion, with TableSize, TableRefresh, 
   and TableData variables. It should be noted that (in the current 
   implementation) e isDocumentTable is populated from User accesses, 
   and thus documents which have not been accessed will not appear in 
   the table.















Expires	October 22, 1996				    [Page 6]

Internet Draft	        Information Store MIB	      April 22, 1996

5.	Information Store MIB definitions

IS-MIB DEFINITIONS ::=
BEGIN

IMPORTS
	MODULE-IDENTITY, OBJECT-TYPE, Counter32, TimeTicks, Integer32
		FROM SNMPv2-SMI
	TEXTUAL-CONVENTION, DisplayString, DateAndTime, TruthValue, TimeStamp
		FROM SNMPv2-TC
	MODULE-COMPLIANCE, OBJECT-GROUP
		FROM SNMPv2-CONF;

isMIB MODULE-IDENTITY
	LAST-UPDATED	"9601251800Z"
	ORGANIZATION	"University Of Twente"
	CONTACT-INFO 
		"	Harrie Hazewinkel

		Postal:	Centre of Telematics and
				Information Technology
			University Of Twente
			POBox 217 
			7500 AE Enschede
			The Netherlands
		phone :	+31 53 4893746
		E-mail:	H.Hazewinkel@cs.utwente.nl

		This document benefited greatly from the comments of
		all participants in the CEO project for management of 
		World Wide Web Servers."
	DESCRIPTION
		"A MIB module for an Information Store.
		An Information Store is the application from which 
		the information is retrieved on the World Wide Web."
	::= { enterprises universityOfTwente(785) 4 }

isObjects OBJECT IDENTIFIER ::= { isMIB 1 }
isConformance OBJECT IDENTIFIER ::= { isMIB 2 }
isCompliances OBJECT IDENTIFIER ::= { isConformance 1 }
isGroups OBJECT IDENTIFIER ::= { isConformance 2 }













Expires	October 22, 1996				    [Page 7]

Internet Draft	        Information Store MIB	      April 22, 1996

MediaType ::= TEXTUAL-CONVENTION
	STATUS	current
	DESCRIPTION
		"This type should be representing the media types
		which the information store makes available. The
		media types are those recognized by the RFC 1700. 

		The value is a sum and is initially the value zero.
		Then, for each media type, L, in the range 1 through
		7, 2 raised to (L - 1) is added to the sum.
		For example, a server which only supports video
		would have a value of 64 (2^(7-1)).  In
		contrast, a server which is offering text and images
		would have a value of 17 (2^(1-1) + 2^(5-1)).

		Note that in the context of this media type, 
		values should be calculated accordingly:
			1  text
			2  multipart
			3  message
			4  application
			5  image
			6  audio
			7  video"
	SYNTAX INTEGER (0..127)

ApplResourceIdentifier ::= TEXTUAL-CONVENTION
	STATUS	current
	DESCRIPTION
		"A distinguished name which contains a host on which
		the application is running and the application's name."
	SYNTAX DisplayString

AccessRights ::= TEXTUAL-CONVENTION
	STATUS	current
	DESCRIPTION
		"A type with which access rights of a document is
                described.

		The rights are:
			read-only permission
			read-write permission
			execute permission"
	SYNTAX	INTEGER {
                        read-only(1), read-write(2), execute-able(3)
                        }










Expires	October 22, 1996				    [Page 8]

Internet Draft	        Information Store MIB	      April 22, 1996

isGeneral OBJECT IDENTIFIER ::= { isObjects 1 }

isName OBJECT-TYPE
	SYNTAX          DisplayString
	MAX-ACCESS	read-only
	STATUS	current
	DESCRIPTION
		"An administratively-assigned name for this
		Information Store."
	::= { isGeneral 1 }
	-- Instrumentation : Config file

isOrganisation OBJECT-TYPE
	SYNTAX          DisplayString
	MAX-ACCESS	read-only
	STATUS	current
	DESCRIPTION
		"The textual identification of the organisation 
		responsible for the Information Store server.

		For example, if the organisation which is offering
		information of the Information Store is named
		`Flintstones, Inc'. This value should have the 
		value of `Flintstones, Inc'."
	::= { isGeneral 2 }
	-- Instrumentation : Config file

isContact OBJECT-TYPE
	SYNTAX          DisplayString
	MAX-ACCESS	read-only
	STATUS	current
	DESCRIPTION
		"The textual identification of the contact person
		for this Information Store server, together with 
		information on how to contact this person.

		For example, when `Fred' of the `Flintstones, Inc'
		is maintaining this Information Store, the value 
		should be `Fred@Flintstones'."
	::= { isGeneral 3 }
	-- Instrumentation : Config file

isLastInitialisation OBJECT-TYPE
	SYNTAX          TimeStamp
	MAX-ACCESS	read-only
	STATUS	current
	DESCRIPTION
		"The value of sysUpTime at the time the Information 
		Store was last initialized. If the Information Store
		was last initialized prior to the initialization of
		the network management subsystem, then this object
		contains a zero value."
	::= { isGeneral 4 }
	-- Instrumentation : Config file

Expires	October 22, 1996				    [Page 9]

Internet Draft	        Information Store MIB	      April 22, 1996

isSupportedMediaTypes OBJECT-TYPE
	SYNTAX          MediaType
	MAX-ACCESS	read-only
	STATUS          current
	DESCRIPTION
		"A value which indicates the set of media types that
		this Information Store primarily offers."
	::= { isGeneral 5 }
	-- Instrumentation : Config file

isApplDependancyTable OBJECT-TYPE
	SYNTAX          SEQUENCE OF IsApplDependancyEntry
	MAX-ACCESS	not-accessible
	STATUS          current
	DESCRIPTION
		"The table holding objects which apply to all different
		kinds of applications provided by the Information
		Store."
	::= { isGeneral 6 }
	-- Instrumentation : Config file

isApplDependancyEntry OBJECT-TYPE
	SYNTAX          IsApplDependancyEntry
	MAX-ACCESS	not-accessible
	STATUS          current
	DESCRIPTION
		"An entry associated with an application."
	INDEX {applIndex}
	::= {isApplDependancyTable 1}

IsApplDependancyEntry ::= SEQUENCE {
	isApplIndex			INTEGER,
	isApplResourceIdentifier	ApplResourceIdentifier,
	isApplProcessName		DisplayString,
	isApplVersion			DisplayString,
	isApplUptime			TimeStamp,
	isApplOperStatus		INTEGER,
	isApplLastChange		TimeStamp,
	isApplLastActivity		TimeStamp,
	isApplFailedActivities		Counter32
	}

isApplIndex OBJECT-TYPE
	SYNTAX          INTEGER (1..2147483647)
	MAX-ACCESS	not-accessible
	STATUS          current
	DESCRIPTION
		"An index to uniquely identify the application
		application."
	::= {isApplDependancyEntry 1}
	-- Instrumentation : Config file




Expires	October 22, 1996				    [Page 10]

Internet Draft	        Information Store MIB	      April 22, 1996

isApplResourceIdentifier OBJECT-TYPE
	SYNTAX          ApplResourceIdentifier
	MAX-ACCESS	read-only
	STATUS          current
	DESCRIPTION
		"The distinguished name of the host on which the 
                application is running and the application name."
	::= {isApplDependancyEntry 2}
	-- Instrumentation : Config file

isApplProcessName OBJECT-TYPE
	SYNTAX          DisplayString
	MAX-ACCESS 	read-only
	STATUS          current
	DESCRIPTION
		"The process name of the application."
	::= {isApplDependancyEntry 3}
	-- Instrumentation : Config file

isApplVersion OBJECT-TYPE
	SYNTAX          DisplayString
	MAX-ACCESS	read-only
	STATUS          current
	DESCRIPTION
		"The version of the application software."
	::= {isApplDependancyEntry 4}
	-- Instrumentation : Config file

isApplUptime OBJECT-TYPE
	SYNTAX          TimeTicks
	MAX-ACCESS	read-only
	STATUS          current
	DESCRIPTION
		"The value of sysUpTime at the time the application
		was last initialized.  If the application was last
		initialized prior to the last initialization of the
		network management subsystem, then this object contains
		a zero value."
	::= {isApplDependancyEntry 5}
	-- Instrumentation : Config file















Expires	October 22, 1996				    [Page 11]

Internet Draft	        Information Store MIB	      April 22, 1996

isApplOperStatus OBJECT-TYPE
	SYNTAX          INTEGER {	running(1), sleeping(2),
                                        runnable(3), idle(4), 
                                        zombie(5), traced(6),
			                sxbrkState(7), notFound(8) }
	MAX-ACCESS      read-only
	STATUS          current
	DESCRIPTION
		"Indicates the operational status of the network service
		application. The values are related to the output
		of the `ps'-command and the values are:

			running: 	running on a processor.
			sleeping:	waiting for an event to complete.
			runnable:	on run queue.
			idle: 		being created.
			zombie: 	terminated and parent not 
                                        waiting.
			traced: 	stopped by a signal because 
                                        parent is tracing it.
			sxbrkState:	waiting for more primary memory.
			notFound:	not found in process list."
	::= {isApplDependancyEntry 6}
	-- Instrumentation : Config file

isApplLastChange OBJECT-TYPE
	SYNTAX          TimeStamp
	MAX-ACCESS	read-only
	STATUS          current
	DESCRIPTION
		"The value of sysUpTime at the time the application
		application entered its current operational state.  If
		the current state was entered prior to the last
		initialization of the local network management 
		subsystem, then this object contains a zero value."
	::= {isApplDependancyEntry 7 }
	-- Instrumentation : Config file

isApplLastActivity OBJECT-TYPE
	SYNTAX          TimeStamp
	MAX-ACCESS	read-only
	STATUS          current
	DESCRIPTION
		"The value of sysUpTime at the time this application 
		last performed some activity. If the last activity
		occurred prior to the last initialization of the 
		application, then this object contains a zero value."
	::= {isApplDependancyEntry 8 }
	-- Instrumentation : Config file






Expires	October 22, 1996				    [Page 12]

Internet Draft	        Information Store MIB	      April 22, 1996

isApplFailedActivities OBJECT-TYPE
	SYNTAX          Counter32
	MAX-ACCESS	read-only
	STATUS          current
	DESCRIPTION
		"The total number activities where the application
		has failed, since application initialization."
	::= {isApplDependancyEntry 9}
	-- Instrumentation : Config file

isTopicTable OBJECT-TYPE
	SYNTAX          SEQUENCE OF IsTopicEntry
	MAX-ACCESS	not-accessible
	STATUS          current
	DESCRIPTION
		"The table holding topics provided by this 
		Information Store."
	::= { isGeneral 7 }
	-- Instrumentation : Config file

isTopicEntry OBJECT-TYPE
	SYNTAX          IsTopicEntry
	MAX-ACCESS	not-accessible
	STATUS          current
	DESCRIPTION
		"An entry associated with the topics."
	INDEX	{ IMPLIED topic }
	::= {isTopicTable 1}
	-- Instrumentation : Config file

IsTopicEntry ::= SEQUENCE {
	isTopic		DisplayString
	}

isTopic OBJECT-TYPE
	SYNTAX          DisplayString
	MAX-ACCESS 	read-only
	STATUS          current
	DESCRIPTION
		"A textual description of a topic."
	::= {isTopicEntry 1}

--
-- This group provides general access information and access information
-- organized by domain, day, most recent users, most frequent users.
--

isAccess OBJECT IDENTIFIER ::= { isObjects 2 }







Expires	October 22, 1996				    [Page 13]

Internet Draft	        Information Store MIB	      April 22, 1996

isNumberOfAccesses OBJECT-TYPE
	SYNTAX          Counter32
	MAX-ACCESS	read-only
	STATUS          current
	DESCRIPTION
		"The total number accesses done at the Information
		Store."
	::= { isAccess 1 }
	-- Instrumentation : Log file

isNumberOfBytesOut OBJECT-TYPE
	SYNTAX          Counter32
	MAX-ACCESS	read-only
	STATUS          current
	DESCRIPTION
		"The total number bytes transfered by the Information 
		Store."
	::= { isAccess 2 }
	-- Instrumentation : Log file

isNumberOfBytesIn OBJECT-TYPE
	SYNTAX          Counter32
	MAX-ACCESS	read-only
	STATUS          current
	DESCRIPTION
		"The total number bytes received by the Information 
		Store."
	::= { isAccess 3 }
	-- Instrumentation : Direct access

isDomainTable OBJECT-TYPE
	SYNTAX          SEQUENCE OF IsDomainEntry
	MAX-ACCESS	not-accessible
	STATUS          current
	DESCRIPTION
		"The domain table keeps track of the number of 
		accesses done from a specific domain."
	::= { isAccess 4 }
	-- Instrumentation : Log file

isDomainEntry OBJECT-TYPE
	SYNTAX          IsDomainEntry
	MAX-ACCESS	not-accessible
	STATUS          current
	DESCRIPTION
		"Entry (conceptual row) of the domain table."
	INDEX	{ IMPLIED domainName }
	::= { isDomainTable 1 }

IsDomainEntry ::= SEQUENCE {
	isDomainName		DisplayString,
	isDomainAccesses	Counter32
	}


Expires	October 22, 1996				    [Page 14]

Internet Draft	        Information Store MIB	      April 22, 1996

isDomainName OBJECT-TYPE
	SYNTAX          DisplayString
	MAX-ACCESS	read-only
	STATUS          current
	DESCRIPTION
		"The domain of which the number of accesses 
		specific has to be monitored."
	::= { isDomainEntry 1 }
	-- Instrumentation : Log file

isDomainAccesses OBJECT-TYPE
	SYNTAX          Counter32
	MAX-ACCESS	read-only
	STATUS          current
	DESCRIPTION
		"The number of accesses done from a certain domain."
	::= { isDomainEntry 2 }
	-- Instrumentation : Log file

isAccessOfLastNDaysTableSize OBJECT-TYPE
	SYNTAX          INTEGER (0..32)
	MAX-ACCESS	read-write
	STATUS          current
	DESCRIPTION
		"The number of entries which is contained
		in the accessOfLastNDaysTable."
	::= { isAccess 5 }
	-- Instrumentation : Agent internal

isAccessOfLastNDaysTable OBJECT-TYPE
	SYNTAX          SEQUENCE OF IsAccessOfLastNDaysEntry
	MAX-ACCESS	not-accessible
	STATUS          current
	DESCRIPTION
		"The access of last days table keeps track of the
		number of accesses that have been done in the past. 
		Each entry is a specific day in the past. The day 
		which is specified is related to the current day.

		This table should be a Top N table and should be 
		configured by the NMS."
	::= { isAccess 6 }

isAccessOfLastNDaysEntry OBJECT-TYPE
	SYNTAX          IsAccessOfLastNDaysEntry
	MAX-ACCESS	not-accessible
	STATUS          current
	DESCRIPTION
		"Entry (conceptual row) of the accessOfLastNDaysTable."
	INDEX { lastNDayIndex }
	::= { accessOfLastNDaysTable 1 }




Expires	October 22, 1996				    [Page 15]

Internet Draft	        Information Store MIB	      April 22, 1996

IsAccessOfLastNDaysEntry ::= SEQUENCE {
	isLastNDayIndex		INTEGER,
	isAccessOflastNDay	Counter32
	}

isLastNDayIndex OBJECT-TYPE
	SYNTAX          INTEGER (0..32)
	MAX-ACCESS	not-accessible
	STATUS          current
	DESCRIPTION
		"The index of the Last N Days Table"
	::= { accessOfLastNDaysEntry 1 }
	-- Instrumentation : Agent internal

isAccessOflastNDay OBJECT-TYPE
	SYNTAX          Counter32
	MAX-ACCESS	read-only
	STATUS          current
	DESCRIPTION
		"The number of accesses done on the specified day
		in the past."
	::= { accessOfLastNDaysEntry 2 }
	-- Instrumentation : logfile

isMostFrequentNUserTableSize OBJECT-TYPE
	SYNTAX          INTEGER (0..128)
	MAX-ACCESS	read-write
	STATUS          current
	DESCRIPTION
		"The number of entries which is contained
		in the MostFrequentNUserTable."
	::= { isAccess 7 }
	-- Instrumentation : Agent internal

isMostFrequentNUserTableRefresh OBJECT-TYPE
	SYNTAX          TruthValue
	MAX-ACCESS	read-write
	STATUS          current
	DESCRIPTION
		"Field with which a new `most frequent N user table'
		will be made."
	::= { isAccess 8 }
	-- Instrumentation : Agent internal

isMostFrequentNUserTableDate OBJECT-TYPE
	SYNTAX          DateAndTime
	MAX-ACCESS	read-only
	STATUS          current
	DESCRIPTION
		"The universal date and time for the last time the
		isMostFrequentNUserTable was refreshed.."
	::= { isAccess 9 }
	-- Instrumentation : Agent internal


Expires	October 22, 1996				    [Page 16]

Internet Draft	        Information Store MIB	      April 22, 1996


isMostFrequentNUserTable OBJECT-TYPE
	SYNTAX          SEQUENCE OF IsMostFrequentNUserEntry
	MAX-ACCESS	not-accessible
	STATUS          current
	DESCRIPTION
		"The access of document table keeps track of the
		number of accesses that have been done in the past. 
		Each entry is a separate user.

		This is a Top N table with the N most recently accessed
		documents."
	::= { isAccess 10 }

isMostFrequentNUserEntry OBJECT-TYPE
	SYNTAX          IsMostFrequentNUserEntry
	MAX-ACCESS	not-accessible
	STATUS          current
	DESCRIPTION
		"Entry (conceptual row) of the document table."
	INDEX	{ mfIndex }
	::= { isMostFrequentNUserTable 1 }

IsMostFrequentNUserEntry ::= SEQUENCE {
	isMfIndex			INTEGER,
	isMfUserName		DisplayString,
	isMfNumberOfAccesses	Counter32
	}

isMfIndex OBJECT-TYPE
	SYNTAX          INTEGER (0..128)
	MAX-ACCESS	not-accessible
	STATUS          current
	DESCRIPTION
		"The index indicates the position in the Top N table."
	::= { isMostFrequentNUserEntry 1 }
	-- Instrumentation : Agent internal

isMfUserName OBJECT-TYPE
	SYNTAX          DisplayString
	MAX-ACCESS	read-only
	STATUS          current
	DESCRIPTION
		"The name of the user."
	::= { isMostFrequentNUserEntry 2 }
	-- Instrumentation : Log file









Expires	October 22, 1996				    [Page 17]

Internet Draft	        Information Store MIB	      April 22, 1996

isMfNumberOfAccesses OBJECT-TYPE
	SYNTAX          Counter32
	MAX-ACCESS	read-only
	STATUS          current
	DESCRIPTION
		"The number of accesses made by the user on
		 this server."
	::= { isMostFrequentNUserEntry 3 }
	-- Instrumentation : Log file

isMostRecentNUserTableSize OBJECT-TYPE
	SYNTAX          INTEGER (0..128)
	MAX-ACCESS	read-write
	STATUS          current
	DESCRIPTION
		"The number of entries which is contained
		in the isMostRecentNUserTable."
	::= { isAccess 11 }
	-- Instrumentation : Agent internal

isMostRecentNUserTable OBJECT-TYPE
	SYNTAX          SEQUENCE OF IsMostRecentNUserEntry
	MAX-ACCESS	not-accessible
	STATUS          current
	DESCRIPTION
		"The access of document table keeps track of the
		number of accesses that have been done in the past. 
		Each entry is a document.

		This is a Top N table with the N most recently accessed
		documents."
	::= { isAccess 12 }

isMostRecentNUserEntry OBJECT-TYPE
	SYNTAX          IsMostRecentNUserEntry
	MAX-ACCESS	not-accessible
	STATUS          current
	DESCRIPTION
		"Entry (conceptual row) of the most recent users table."
	INDEX { mrIndex }
	::= { isMostRecentNUserTable 1 }

IsMostRecentNUserEntry ::= SEQUENCE {
	isMrIndex			INTEGER,
	isMrUserName			DisplayString,
	isMrLastTime			DateAndTime,
	isMrLastDocument		DisplayString
	}







Expires	October 22, 1996				    [Page 18]

Internet Draft	        Information Store MIB	      April 22, 1996

isMrIndex OBJECT-TYPE
	SYNTAX          INTEGER (0..128)
	MAX-ACCESS	not-accessible
	STATUS          current
	DESCRIPTION
		"The index indicates the sequence of the recent users."
	::= { isMostRecentNUserEntry 1 }
	-- Instrumentation : Agent internal

isMrUserName OBJECT-TYPE
	SYNTAX          DisplayString
	MAX-ACCESS	read-only
	STATUS          current
	DESCRIPTION
		"The name of the user."
	::= { isMostRecentNUserEntry 2 }
	-- Instrumentation : Log file

isMrLastTime OBJECT-TYPE
	SYNTAX          DateAndTime
	MAX-ACCESS	read-only
	STATUS          current
	DESCRIPTION
		"The last time the user has accessed this server."
	::= { isMostRecentNUserEntry 3 }
	-- Instrumentation : Log file

isMrLastDocument OBJECT-TYPE
	SYNTAX          DisplayString
	MAX-ACCESS	read-only
	STATUS          current
	DESCRIPTION
		"The last operation or document which is accessed
		by the user at this server."
	::= { isMostRecentNUserEntry 4 }
	-- Instrumentation : Log file

--
-- The section of the errors that occured in the Information Store.
--

isErrors OBJECT IDENTIFIER ::= { isObjects 3 }













Expires	October 22, 1996				    [Page 19]

Internet Draft	        Information Store MIB	      April 22, 1996

isErrorTable OBJECT-TYPE
	SYNTAX          SEQUENCE OF IsErrorEntry
	MAX-ACCESS	not-accessible
	STATUS          current
	DESCRIPTION
		"The access of document table keeps track of the
		number of accesses that have been done in the past. 
		Each entry is a document.

		This is a Top N table with the N most recently accessed
		documents."
	::= { isErrors 12 }

isErrorEntry OBJECT-TYPE
	SYNTAX          IsErrorEntry
	MAX-ACCESS	not-accessible
	STATUS          current
	DESCRIPTION
		"Entry (conceptual row) of the document table."
	INDEX	{ errorIndex }
	::= { isErrorTable 1 }

IsErrorEntry ::= SEQUENCE {
	isErrorIndex			INTEGER,
	isErrorDescription			DisplayString,
	isErrorCount			Counter32,
	isErrorLastTime			TimeStamp
	}

isErrorIndex OBJECT-TYPE
	SYNTAX		INTEGER (0..128)
	MAX-ACCESS	not-accessible
	STATUS		current
	DESCRIPTION
		"The index indicating the error."
	::= { isErrorEntry 1 }

isErrorDescription OBJECT-TYPE
	SYNTAX          DisplayString
	MAX-ACCESS	read-only
	STATUS          current
	DESCRIPTION
		"The textual description of the error."
	::= { isErrorEntry 2 }

isErrorCount OBJECT-TYPE
	SYNTAX          Counter32
	MAX-ACCESS	read-only
	STATUS          current
	DESCRIPTION
		"The number of errors that occured."
	::= { isErrorEntry 3 }



Expires	October 22, 1996				    [Page 20]

Internet Draft	        Information Store MIB	      April 22, 1996

isErrorLastTime OBJECT-TYPE
	SYNTAX          TimeStamp
	MAX-ACCESS	read-only
	STATUS          current
	DESCRIPTION
		"The time of the last error occured."
	::= { isErrorEntry 4 }

--
-- This group contains information about documents which are accessed
-- on the Information Store Server. That are the documents accessed since
-- the start of the server. This are the URI with which a information
-- can be accessed.

-- For example a document is index.html:
--	If this is a document retrieved from the directory root of the 
--		Information Store.
--	If this document is in a directory beneath the directory root it
--		should also mention this path in the isDocumentName.
--		<path>'/'<name of script>
--
-- For example a document script of the cgi-interface:
--	The script is mentioned in this table with the isDocumentName
--		`cgi/'<path>'/'<name of script>
--

isDocuments OBJECT IDENTIFIER ::= { isObjects 4 }

isDocumentTableSize OBJECT-TYPE
	SYNTAX          INTEGER (0..128)
	MAX-ACCESS	read-write
	STATUS          current
	DESCRIPTION
		"The number of entries which are contained
		in the isDocumentTable."
	::= { isDocuments 1 }

isDocumentTableRefresh OBJECT-TYPE
	SYNTAX          TruthValue
	MAX-ACCESS	read-write
	STATUS	current
	DESCRIPTION
		"Field with which a new `document table' will be made."
	::= { isDocuments 2 }

isDocumentTableDate OBJECT-TYPE
	SYNTAX          DateAndTime
	MAX-ACCESS	read-only
	STATUS          current
	DESCRIPTION
		"The universal date and time for the last time the
		isDocumentTable was refreshed."
	::= { isDocuments 3 }


Expires	October 22, 1996				    [Page 21]

Internet Draft	        Information Store MIB	      April 22, 1996

isDocumentTable OBJECT-TYPE
	SYNTAX          SEQUENCE OF IsDocumentEntry
	MAX-ACCESS	not-accessible
	STATUS          current
	DESCRIPTION
		"The access of document table keeps track of the
		number of accesses that have been done in the past. 
		Each entry is a document."
	::= { isDocuments 4 }

isDocumentEntry OBJECT-TYPE
	SYNTAX          IsDocumentEntry
	MAX-ACCESS	not-accessible
	STATUS          current
	DESCRIPTION
		"Entry (conceptual row) of the document table."
	INDEX { documentIndex }
	::= { isDocumentTable 1 }

IsDocumentEntry ::= SEQUENCE {
	isDocumentIndex			INTEGER,
	isDocumentName			DisplayString,
	isDocumentAccesses		Counter32,
	isDocumentAccessRight		AccessRights,
	isDocumentSize			Integer32,
	isDocumentErrors			Counter32,
	isDocumentUpdate			DateAndTime,
	isDocumentAccessesAtLastUpdate	Counter32,
	isDocumentLastAccess		DateAndTime,
	isDocumentType			MediaType
	}

isDocumentIndex OBJECT-TYPE
	SYNTAX          INTEGER (0..127)
	MAX-ACCESS	not-accessible
	STATUS          current
	DESCRIPTION
		"The ranking of the document is a top N table."
	::= { isDocumentEntry 1 }
	-- Instrumentation : Log file

isDocumentName OBJECT-TYPE
	SYNTAX          DisplayString
	MAX-ACCESS	read-only
	STATUS          current
	DESCRIPTION
		"The name of the document available at the Information
                Store."
	::= { isDocumentEntry 2 }
	-- Instrumentation : Log file





Expires	October 22, 1996				    [Page 22]

Internet Draft	        Information Store MIB	      April 22, 1996

isDocumentAccesses OBJECT-TYPE
	SYNTAX          Counter32
	MAX-ACCESS	read-only
	STATUS          current
	DESCRIPTION
		"The number of accesses of the document."
	::= { isDocumentEntry 3 }
	-- Instrumentation : Log file

isDocumentAccessRights OBJECT-TYPE
	SYNTAX          AccessRights
	MAX-ACCESS	read-only
	STATUS          current
	DESCRIPTION
		"The accessrights of the document. This field should 
		restrict the information retrieval of the clients."
	::= { isDocumentEntry 4 }
	-- Instrumentation : System

isDocumentSize OBJECT-TYPE
	SYNTAX          Integer32
	MAX-ACCESS	read-only
	STATUS          current
	DESCRIPTION
		"The size of the document in bytes (octets)."
	::= { isDocumentEntry 5 }
	-- Instrumentation : System

isDocumentErrors OBJECT-TYPE
	SYNTAX          Counter32
	MAX-ACCESS	read-only
	STATUS          current
	DESCRIPTION
		"The number of errors that occured during accessing 
		this document."
	::= { isDocumentEntry 6 }
	-- Instrumentation : Log file

isDocumentUpdate OBJECT-TYPE
	SYNTAX          DateAndTime
	MAX-ACCESS	read-only
	STATUS          current
	DESCRIPTION
		"Date and time when this file was last updated."
	::= { isDocumentEntry 7 }
	-- Instrumentation : System









Expires	October 22, 1996				    [Page 23]

Internet Draft	        Information Store MIB	      April 22, 1996

isDocumentAccessesAtLastUpdate OBJECT-TYPE
	SYNTAX          Counter32
	MAX-ACCESS	read-only
	STATUS          current
	DESCRIPTION
		"The number of accesses of the document since 
		the document was updated for the last time."
	::= { isDocumentEntry 8 }
	-- Instrumentation : System

isDocumentLastAccess OBJECT-TYPE
	SYNTAX          DateAndTime
	MAX-ACCESS	read-only
	STATUS          current
	DESCRIPTION
		"The date and time the document was last accessed."
	::= { isDocumentEntry 9 }
	-- Instrumentation : Log file

isDocumentType OBJECT-TYPE
	SYNTAX          MediaType
	MAX-ACCESS	read-only
	STATUS          current
	DESCRIPTION
		"The type of the document."
	::= { isDocumentEntry 10 }
	-- Instrumentation : -

--
-- Conformance and compliance definitions.
--

isGeneralGroup OBJECT-GROUP
	OBJECTS {	isName, 
		isOrganisation, 
		isContact, 
		isLastInitialisation, 
		isSupportedMediaTypes,
		isTopic }
	STATUS	current
	DESCRIPTION
		"The isGeneralGroup defines the objects
		which are common to all Information Store
		applications"
	::= { isGroups 1 }










Expires	October 22, 1996				    [Page 24]

Internet Draft	        Information Store MIB	      April 22, 1996

isApplDependancyGroup OBJECT-GROUP
	OBJECTS{
        	isApplResourceIdentifier, isApplProcessName,
		isApplVersion, isApplUptime,
		isApplOperStatus, isApplLastChange,
		isApplLastActivity, isApplFailedActivities }
	STATUS	current
	DESCRIPTION
		"The application dependency Group provides information
		about additional processes (or helper processes) of
		the information store."
	::= { isGroups 2 }

isErrorGroup OBJECT-GROUP
	OBJECTS {	isErrorIndex, isErrorDescription,
		isErrorCount, isErrorLastTime }
	STATUS	current
	DESCRIPTION
		"The isErrorGroup provides the information
		about the errors occured with the  
		information store."
	::= { isGroups 3 }

isAccessGroup OBJECT-GROUP
	OBJECTS {
		isNumberOfAccesses, 
		isNumberOfBytesOut, 
		isNumberOfBytesIn, 
		isDomainName, isDomainAccesses, 
		isAccessOfLastNDaysTableSize,
		isLastNDayIndex, isAccessOflastNDay, 
		isMrUserName, isMrLastTime, isMrLastDocument, 
		isMostRecentNUserTableSize,
		isMostFrequentNUserTableSize,
		isMostFrequentNUserTableRefresh,
		isMostFrequentNUserTableDate,
		isMfUserName, isMfNumberOfAccesses }
	STATUS	current
	DESCRIPTION
		"The isAccessGroup provides the information
		about the accesses performed on this
		information store..
		The group defines the total number of accesses
		and the number of bytes belonging to the accesses.
		The otherwise the accesses or ordered in tables
		The ordination are:
			by domain,
			by day (LastNDays),
			by most frequent users (TopN),
			by most recent users (LastN)"
	::= { isGroups 4 }




Expires	October 22, 1996				    [Page 25]

Internet Draft	        Information Store MIB	      April 22, 1996

isDocumentGroup OBJECT-GROUP
	OBJECTS {
		isDocumentTableSize,
		isDocumentTableRefresh,
		isDocumentTableDate,
		isDocumentName, 
                isDocumentAccesses, isDocumentAccessRights, 
		isDocumentSize, isDocumentErrors, isDocumentUpdate, 
		isDocumentAccessesAtLastUpdate, isDocumentLastAccess,
		isDocumentType }
	STATUS	current
	DESCRIPTION
		"The isDocumentGroup provides the information
		about the accesses which can be made on the 
		information store."
	::= { isGroups 5 }

isMIBCompliance MODULE-COMPLIANCE
	STATUS	current
	DESCRIPTION
		"The compliance statements for http entities
		which implement the HTTP MIB"
	MODULE
		MANDATORY-GROUPS {
				isGeneralGroup,
				isApplDependancyGroup,
				isErrorGroup,
				isAccessGroup,
				isDocumentGroup }
	::= { isCompliances 1 }

END























Expires	October 22, 1996				    [Page 26]

Internet Draft	        Information Store MIB	      April 22, 1996

6.  Acknowledgments

   This document has been produced by the University of Twente 
   (The Netherlands), together with ESYS Limited (The United Kingdom),
   as part of a `proof of concept' study for the `Centre of Earth 
   Observation' (CEO) of the `Joint Research Centre' (JRC) of the 
   European Community. This document has benefited greatly to the
   comments of:

		Mark Gamble
		<mgamble@esys1.esys.co.uk>

		Rui Meneses
		<rui.meneses@jrc.it>

		Juergen Schoenwaelder
		<schoenw@cs.utwente.nl>






































Expires	October 22, 1996				    [Page 27]

Internet Draft	        Information Store MIB	      April 22, 1996

7.  References

[1]  SNMPv2 Working Group, Case, J., McCloghrie, K., Rose, M., and
     S. Waldbusser, "Structure of Management Information for version 2
     of the Simple Network Management Protocol (SNMPv2)", RFC 1902,
     January 1996.

[2]  McCloghrie, K., and M. Rose, Editors, "Management Information Base
     for Network Management of TCP/IP-based internets: MIB-II", STD 17,
     RFC 1213, Hughes LAN Systems, Performance Systems International,
     March 1991.

[3]  SNMPv2 Working Group, Case, J., McCloghrie, K., Rose, M., and
     S. Waldbusser, "Textual Conventions for version 2 of the Simple
     Network Management Protocol (SNMPv2)", RFC 1903, January 1996.

[4]  SNMPv2 Working Group, Case, J., McCloghrie, K., Rose, M., and
     S. Waldbusser, "Protocol Operations for version 2 of the Simple
     Network Management Protocol (SNMPv2)", RFC 1905, January 1996.

[5]  SNMPv2 Working Group, Case, J., McCloghrie, K., Rose, M., and
     S. Waldbusser, "Conformance Statements for version 2 of the Simple
     Network Management Protocol (SNMPv2)", RFC 1904, January 1996.

[6]  Case, J., M. Fedor, M. Schoffstall, J. Davin, "Simple Network
     Management Protocol", RFC 1157, SNMP Research, Performance Systems
     International, MIT Laboratory for Computer Science, May 1990.

[7]  SNMPv2 Working Group, Case, J., McCloghrie, K., Rose, M., and
     S. Waldbusser, "Introduction to Community-based SNMPv2", RFC 1901,
     January 1996.


8.  Security Considerations

Security issues are not discussed in this memo.


9.  Authors' Addresses

     Harrie Hazewinkel / Eric van Hengstum / Aiko Pras
     University of Twente
     Centre for Telematics and Information Technology (CTIT)
     POBox 217
     7500 AE Enschede, The Netherlands
     Phone: +31-53-4893778
     Email: hazewink@cs.utwente.nl
            hengstum@cs.utwente.nl
            pras@cs.utwente.nl






Expires	October 22, 1996				    [Page 28]

Internet Draft	        Information Store MIB	      April 22, 1996

Table of Contents


1 Abstract ..................................................	 2
2 The SNMPv2 Network Management	Framework ...................	 3
2.1 Object Definitions ......................................	 3
3 Introduction ..............................................	 4
4 Information Store MIB structure ...........................	 4
4.1 General group ...........................................	 4
4.2 Access group ............................................	 5
4.2 Error group .............................................	 6
4.2 Document group ..........................................	 6
5 Information Store MIB definition ..........................	 7
6 Acknowledgements ..........................................	27
7 References ................................................	28
8 Security Considerations ...................................	28
9 Authors' Addresses ........................................	28






































Expires	October 22, 1996				    [Page 29]
