
Network Working Group                                       Naiming Shen
Internet Draft                                          Redback Networks

Expiration Date: December 2003                                 June 2003



       Link Name and Sequence Options for IPv6 Neighbor Discovery

              draft-shen-ipv6-nd-name-seq-options-01.txt



Status of this Memo

   This document is an Internet-Draft and is in full conformance with
   all provisions of Section 10 of RFC2026.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet- Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.


Abstract

   To facilitate network troubleshooting and management in IPv6
   environment, two new options for IPv6 Neighbor Discovery messages
   are proposed in this document. The Link-Name option is used in
   Router Advertisement message, and the Sequence-Number option is
   used in Neighbor Solicitation and Neighbor Advertisement messages.


1. Introduction

   The Router Advertisement message in Neighbor Discovery for IPv6 [1]
   currently has defined options with source link-layer address,
   MTU and prefix information. It is obvious that, by inspecting
   a link-local address of the neighbor from diagnostics information
   is less clear than symbolic names. This draft proposes a mechanism
   allowing Router Advertisement message to include a Link-Name
   option.


Shen                     Expires December 2003                  [Page 1]

Internet Draft      IPv6 ND Link-Name and Seq-Num              June 2003


   When Neighbor Advertisement message is received from a neighbor,
   and if the Neighbor Solicitation messages were retransmitted, it
   is useful from troubleshooting point of view to learn which
   Neighbor Solicitation message the Neighbor Advertisement message
   replied to and what is the round trip delay for this address
   resolution, similar to the sequence number and round-trip time
   scheme used in ICMP request/reply implementation.


2. Neighbor Discovery Option Additions

   Two new options for Neighbor Discovery are defined in this
   document, the Link-Name option and the Sequence-Number option.

2.1 Link-Name Option

   The Link-Name option MAY be included in Router Advertisement
   message. A typical Link-Name may be a combination of router name,
   virtual router identifier and interface name of the link.

      0                   1                   2                   3  
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |      Type     |    Length     |  Link-Name String ....
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   Fields:

     Type        103, Link-Name [TBD: IANA]

     Length      1-32 (8 to 256 bytes including the type and length
                 fields)

     Link-Name String
                 This field identifies the symbolic name of the link
                 on the router. The string is null-terminated if the
                 actual length of the name is less than specified.

    The option MUST be silently ignored for other Neighbor Discovery
    messages.

2.2 Sequence-Number Option

   The Sequence-Number option MAY be included in Neighbor Solicitation
   message and Neighbor Advertisement message. The sequence number
   is maintained for each cache entry and is increased by one for each
   Neighbor Solicitation sent for the entry. A Neighbor Advertisement
   message only includes this option when responding to the Neighbor
   Solicitation message, and it MUST simply copy the Sequence-Number
   Option from the Neighbor Solicitation packet unchanged if it
   supports this extension.


Shen                     Expires December 2003                  [Page 2]

Internet Draft      IPv6 ND Link-Name and Seq-Num              June 2003



      0                   1                   2                   3  
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |      Type     |    Length     |      Sequence-Number          |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                       NS Local Data ...                        
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   Fields:

     Type        104, Sequence-Number [TBD: IANA]

     Length      1-32 (8 to 256 bytes including the type and length
                 fields)

     Sequence-Number
                 A 16-bit unsigned integer in network byte order.

     NS Local Data
                 This data has only local significance to the sender
                 of the Neighbor Solicitation packet. For example, it
                 can contain a timestamp in milliseconds.

    The option SHOULD only be used in Neighbor Solicitation message
    when the source address is not an unspecified address. The
    Neighbor Advertisement SHOULD relay the option back to the
    sender of the Neighbor Solicitation packet when responding to
    the Neighbor Solicitation. This option SHOULD not be used in
    unsolicited Neighbor Advertisement message.


3. Security Considerations

   This document has no known security implications.


4. IANA Considerations

   The author has chosen "103" as the type code for Link-Name option,
   and "104" as the type code for Sequence-Number option. Those need
   to be allocated by IANA.


5. Acknowledgments

   TBD.






Shen                     Expires December 2003                  [Page 3]

Internet Draft      IPv6 ND Link-Name and Seq-Num              June 2003


6. Normative References

   [1] Narten, T., Nordmark, E. and W. Simpson, "Neighbor Discovery
       for IP Version 6 (IPv6)", RFC 2461, December 1998.


7. Author Information

   Naiming Shen
   Redback Networks, Inc.
   300 Holger Way
   San Jose, CA 95134
   e-mail: naiming@redback.com


8.  Full Copyright Statement
   
   Copyright (C) The Internet Society (2001).  All Rights Reserved.  
   
   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works.  However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.
   
   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assigns.
   
   This document and the information contained herein is provided on an
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF 
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.











Shen                     Expires December 2003                  [Page 4]

