title==foo*;(updated=lt=-P1D,title==*bar)

expression  = [ "(" ]
                 ( constraint / expression )
                 [ operator ( constraint / expression ) ]
                 [ ")" ]
operator    = ";" / ","

constraint  = selector [ comparison argument ]
selector    = 1*( unreserved / pct-encoded )
comparison  = ( ( "=" 1*ALPHA ) / fiql-delim ) "="
argument    = 1*arg-char
arg-char    = unreserved / pct-encoded / fiql-delim / "="
fiql-delim  = "!" / "$" / "'" / "*" / "+"
text-arg    = [ "*" ] 1*arg-char [ "*" ]

date-arg    = dateTime / duration ; as defined in XML Schema Datatypes

   Four operators are relevant to date comparisons;

   o  "==" yields True if the point in time specified in the argument
      matches that indicated by the string-value of the selected node;
      otherwise False.
   o  "!=" yields True if the point in time specified in the argument
      does not match that indicated by the string-value of the selected
      node; otherwise False.
   o  "=lt=" yields True if the point in time specified in the argument
      follows that indicated by the string-value of the selected node;
      otherwise False.
   o  "=le=" yields True if the point in time specified in the argument
      follows that indicated by the string-value of the selected node,
      or is equal to it; otherwise False.
   o  "=gt=" yields True if the point in time specified in the argument
      precedes that indicated by the string-value of the selected node;
      otherwise False.
   o  "=ge=" yields True if the point in time specified in the argument
      precedes that indicated by the string-value of the selected node,
      or is equal to it; otherwise False.

   A point in time can be specified in two ways;

   o  Absolutely, expressed as an XML Schema dateTime
      [W3C.REC-xmlschema-2-20010502].
   o  Relatively, expressed as an XML Schema duration
      [W3C.REC-xmlschema-2-20010502].  By default, such arguments are
      relative to the time that the query is processed.

   White space in the string value of the selected node MUST be ignored.

   For example, given an entry

   <entry>
     <title>Hello World</title>
     <updated>2003-12-13T18:30:02Z</updated>
     <!-- other stuff -->
   </entry>

      "updated==2003-12-13T18:30:02Z" yields True
      "updated=gt=2003-12-13T00:00:00Z" yields True
      "updated=lt=2005-01-01T00:00:00Z yields True
      "updated=gt=-P1D12H" yields False
      "updated=gt=-P5Y" yields True

   (assuming processing on July 1st, 2006)

   This specification does not define the appropriate behaviour if a
   selector with a date type returns multiple nodes.

   This comparison type can be identied with the URI
   "http://purl.org/syndication/query/date".

number-arg  = [ "+" / "-" ] 1*DIGIT [ "." 1*DIGIT ]

template="/feed-search?{fiql-exp}">
       <fq:index name="title"/>
       <fq:index name="ex:foo"
type="http://purl.org/syndication/query/date"/>
type="http://purl.org/syndication/query/numeric"/>
type="http://purl.org/syndication/query/text"/>
type="http://example.org/comparison-types/case-insensitive"/>
type="http://purl.org/syndication/query/numeric"/>
expression  = [ "(" ]
                ( constraint / expression )
                [ operator ( constraint / expression ) ]
                [ ")" ]
operator    = ";" / ","
constraint  = selector [ comparison argument ]
selector    = 1*( unreserved / pct-encoded )
comparison  = ( ( "=" 1*ALPHA ) / fiql-delim ) "="
argument    = 1*arg-char
arg-char    = unreserved / pct-encoded / fiql-delim / "="
fiql-delim  = "!" / "$" / "'" / "*" / "+"
text-arg    = [ "*" ] 1*arg-char [ "*" ]
date-arg    = dateTime / duration ; as defined in XML Schema Datatypes
number-arg  = [ "+" / "-" ] 1*DIGIT [ "." 1*DIGIT ]

