INTERNET-DRAFT                               Dinh Nguyen - Cisco Systems
                                               Rick Chen - Cisco Systems
                                                          April 13, 1999

                  External Media Gateway Control Protocol MIB
                                XGCP-MIB
                        <ietf-nguyen-xgcp-mib-01.txt> 
          
Status of this Memo:

    This document is an Internet-Draft and is in full conformance with 
all provisions of Section 10 of RFC2026.

Internet-Drafts are working documents of the Internet Engineering Task 
Force (IETF), its areas, and its working groups. The other groups may 
also distribute working documents as Internet-Drafts.

Internet-Drafts are draft documents valid for a maximum of six months  
and may be updated, replaced, or obsoleted by other documents at any 
time. It is inappropriate to use Internet-Drafts as reference material 
or to cite them other than as ``work in progress''. 

The list of current Internet-Drafts can be accessed at
    http://www.ietf.org/ietf/1id-abstracts.txt

The list of Internet-Draft Shadow Directories can be accessed at
    http://www.ietf.org/shadow.html.

This document specifies the MIB proposal for External Media Gateway 
Control Protocols (SGCP/MGCP). External Media Gateway Control Protocol 
such as SGCP/MGCP is a solution for controlling VoIP Gateways from 
external control elements called External Media Gateway Controllers. 

Copyright Notice:

    Copyright (C) The Internet Society (1998-1999). All Rights Reserved.


Abstract

    This memo defines an experimental portion of the Management 
Information Base (MIB) for use with network management protocols in the 
Internet community. In particular, this proposal specifies a new 
XGCP-MIB module in a manner that is compliant to the SNMP SMI. 
The set of its objects is consistent with the SNMP framework and other 
existing SNMP standards.


Table of Contents

Abstract ..............................................................1
1.0 Introduction ......................................................2
2.0 Revision History ..................................................2
3.0 The SNMP Network Management Framework..............................2

Expires October 1999                                           [Page  1]        

INTERNET-DRAFT                  XGCP-MIB                  April 13, 1999

3.1 Object Definitions ................................................3
4.0 Overview ..........................................................3
4.1 Tables ............................................................3
4.2 Objects ...........................................................4
5.0 Definitions .......................................................4
6.0 Acknowledgments ..................................................20
7.0 Security Considerations ..........................................20
8.0 References .......................................................21
9.0 Editor's Address .................................................22




1.0	Introduction

    A management system contains: several (potentially many) nodes, 
each with a processing entity, termed the agent, which has access to 
management instrumentation; at least one management station; and, a 
management protocol, used to convey management information between the 
agents and management stations. Operations of the protocol are carried 
out under an administrative framework which define authentication, 
authorization, access control, and privacy policies.

Management stations execute management applications which monitor and 
control managed elements. Managed elements are devices such as hosts, 
routers, terminal servers, etc., which are monitored and controlled via 
access to their management information.

Management information is viewed as a collection of managed objects, 
residing in a virtual information store, termed the Management 
Information Base (MIB). Collections of related objects are defined in 
MIB modules. These modules are written using a subset of OSI's Abstract 
Syntax Notation One (ASN.1) [1], termed the Structure of Management 
Information (SMI) [2].

This document is the MIB module which defines managed objects for 
managing implementations of the External Media Gateway Control Protocol 
such as SGCP [16] and MGCP [17]. SGCP/MGCP is a protocol used between 
a Media Gateway Controller and a Media Gateway in a VoIP network,
where the Media Gateway Controller uses SGCP/MGCP to control 
the media gateway connected through an IP network. In the SGCP/MGCP 
model, call control intelligence resides in the Media Gateway Controller
and outside of the media gateway.


2.0     Revision History

        0.01 January 15, 1999 - Initial version
        0.02 April 13, 1999 - Updated for general comments from IETF 
             community

3.0     The SNMP Network Management Framework
 
Framework presently consists of five major components:

Expires October 1999                                           [Page  2]        

INTERNET-DRAFT                  XGCP-MIB                  April 13, 1999

 
    o   An overall architecture, described in RFC 2271 [1].
 
    o   Mechanisms for describing and naming objects and events for 
        the purpose of management. The first version of this Structure  
        of Management Information (SMI) is called SMIv1 and described 
        in RFC 1155 [2], RFC 1212 [3] and RFC 1215 [4]. The second 
        version, called SMIv2, is described in RFC 1902 [5], RFC 1903
        [6] and RFC 1904 [7].
 
    o   Message protocols for transferring management information. The 
        first version of the SNMP message protocol is called SNMPv1 
        and described in RFC 1157 [8]. A second version of the SNMP 
        message protocol, which is not an Internet standards track 
        protocol, is called SNMPv2c and described in RFC 1901 [9] and 
        RFC 1906 [10]. The third version of the message protocol is 
        called SNMPv3 and described in RFC 1906 [10], RFC 2272 [11] 
        and RFC 2274 [12].
 
    o   Protocol operations for accessing management information. The  
        first set of protocol operations and associated PDU formats 
        is described in RFC 1157 [8]. A second set of protocol 
        operations and associated PDU formats is described in RFC 
        1905 [13].
 
    o   A set of fundamental applications described in RFC 2273 [14] 
        and the view-based access control mechanism described in RFC 
        2275 [15]. Managed objects are accessed via a virtual 
        information store, termed the Management Information Base or 
        MIB. Objects in the MIB are defined using the mechanisms 
        defined in the SMI. This memo specifies a MIB module that is 
        compliant to the SMIv2. A MIB conforming to the SMIv1 can be 
        produced through the appropriate translations. The resulting 
        translated MIB must be semantically equivalent, except where 
        objects or events are omitted  because  no translation is 
        possible (use of Counter64). Some machine readable information  
        in SMIv2 will be converted into textual descriptions in
        SMIv1 during the translation process. However, this loss of  
        machine readable information is not considered to change the 
        semantics of the MIB.


3.1     Object Definitions

    Managed objects are accessed via a virtual information store, termed
    the Management Information Base or MIB.  Objects in the MIB are 
    defined using the subset of Abstract Syntax Notation One (ASN.1) 
    defined in the SMI. In particular, each object type is named by an 
    OBJECT IDENTIFIER, an administratively assigned name. The object 
    type together with an object instance serves to uniquely identify 
    a specific instantiation of the object.  For human convenience, we 
    often use a textual string, termed the descriptor, to refer to the 
    object type.


Expires October 1999                                           [Page  3]        

INTERNET-DRAFT                  XGCP-MIB                  April 13, 1999

4.0     Overview

4.1     Tables

4.1.1	Message Statistics Table

    The message statistics information table - This table is used for 
    SGCP/MGCP message statistics since reset. The IP Address will be 
    used as an index for this table.

    Message statistics entry in the table is per IP Address.

4.1.2	Capability Package Table

    The Capability Package table - This table is used to specify the 
    availability of the packages.      

    The Capabality Package Name is used as the index for the table.

4.2 	Objects

    This MIB module contains new objects for managing timeout values, 
    maximum waiting delay, restart timer for restart process, request 
    retry counter, package capability, default MGC address (IP/Domain 
    Name), default UDP port of the MGC, packet loss threshold, quality 
    alert thresholds. Trap for protocol shutdown or bring-up is 
    provided. 

5.0	Definitions


XGCP-MIB DEFINITIONS ::= BEGIN

IMPORTS
    experimental,
    MODULE-IDENTITY, 
    OBJECT-TYPE, 
    Integer32, 
    Counter32, 
    IpAddress, 
    NOTIFICATION-TYPE
		FROM SNMPv2-SMI
    TimeStamp,
    TruthValue,
    DisplayString 	
                FROM SNMPv2-TC
    MODULE-COMPLIANCE, 
    OBJECT-GROUP    
 		FROM SNMPv2-CONF;

xgcpMIB MODULE-IDENTITY
    LAST-UPDATED "9904010000Z"
    ORGANIZATION "Submitting this new XGCP-MIB to IETF-DRAFT"
    CONTACT-INFO

Expires October 1999                                           [Page  4]        

INTERNET-DRAFT                  XGCP-MIB                  April 13, 1999

            "        Dinh D. Nguyen 

             Postal: Cisco Systems, Inc.
                     170 West Tasman Drive
                     San Jose, CA  95134-1706
                     US

             Phone:  +1 408 525 1624
             Email:  dinhn@cisco.com

                     Rick N. Chen 

             Postal: Cisco Systems, Inc.
                     170 West Tasman Drive
                     San Jose, CA  95134-1706
                     US

             Phone:  +1 408 525 6367
             Email:  richen@cisco.com"
    DESCRIPTION
            "The MIB module for managing XGCP implementations."
    REVISION      "9904010000Z"
    DESCRIPTION
            "This is initial version of XGCP MIB."

    ::= { experimental 90 }


xgcpObjects                   OBJECT IDENTIFIER ::= { xgcpMIB 1 }

xgcpCoreObjects            OBJECT IDENTIFIER ::= { xgcpObjects 1 }
xgcpExtensionObjects       OBJECT IDENTIFIER ::= { xgcpObjects 2 }
xgcpPackageObjects         OBJECT IDENTIFIER ::= { xgcpObjects 3 }
xgcpVoiceQualityObjects    OBJECT IDENTIFIER ::= { xgcpObjects 4 }
xgcpDefaultMGCObjects      OBJECT IDENTIFIER ::= { xgcpObjects 5 }       

-- *********************************************************************
-- The XGCP Core Group 
-- *********************************************************************

xgcpInBadVersions OBJECT-TYPE
    SYNTAX     Counter32
    UNITS      "messages"
    MAX-ACCESS read-only
    STATUS     current
    DESCRIPTION
        "The total number of incoming messages which were delivered to
         the protocol entity and were for an unsupported protocol 
         version.
        "
    ::= { xgcpCoreObjects 1 }

xgcpRequestTimeOut OBJECT-TYPE
    SYNTAX      Integer32 (1..100000)  

Expires October 1999                                           [Page  5]        

INTERNET-DRAFT                  XGCP-MIB                  April 13, 1999

    UNITS       "milliseconds"
    MAX-ACCESS  read-write
    STATUS      current
    DESCRIPTION
    	"The request timeout is used to determine the timeout value used
         for retransmitting unacknowledged message.
	 It is the responsibility of the requesting entity to provide
	 suitable timeouts for all outstanding commands, and to retry
	 commands when timeouts exceeded.

	 The default value of this object is 500 milliseconds.
    	"
    ::= { xgcpCoreObjects 2 }


xgcpRequestRetries  OBJECT-TYPE
    SYNTAX      Integer32 (0..10)
    MAX-ACCESS  read-write
    STATUS      current
    DESCRIPTION
        "This object specifies the number of retries for a request that
         exceeds timeout. 
	 It is the responsibility of the requesting entity to provide
	 suitable timeouts for all outstanding commands, and to retry
	 when times out.

	 The default value of this object is 3.
        "
    ::= { xgcpCoreObjects 3 }

xgcpAdminStatus OBJECT-TYPE
    SYNTAX      INTEGER {
		up		(1),
 		down		(2),
		gracefulDown	(3)
		}
    MAX-ACCESS  read-write
    STATUS      current
    DESCRIPTION
        "The desired state of the protocol entity. 

	 The possible admin status are:
	     up - bring up protocol entity administratively  
	     down - bring down protocol entity adiministratively 
	     gracefulDown - gracefully shut down protocol entity 
                                 administratively. 

 	 A graceful shutdown indicates that the protocol 
	 will be taken out of service after the restart  
	 delay timer timeouts or all connections are torn down.

         When in graceDown, the xgcpOperStatus goes from up to 
         down via shutDownInProgress. 


Expires October 1999                                           [Page  6]        

INTERNET-DRAFT                  XGCP-MIB                  April 13, 1999

         If there is no connection or restart delay timer 
         timeouts then xgcpOperStatus moves from 
         shutDownInProgress to down.
        "
    DEFVAL { down }
    ::= { xgcpCoreObjects 4 }


xgcpOperStatus OBJECT-TYPE
    SYNTAX      INTEGER {
		up                	(1),
 		down              	(2),
		shutDownInProgress      (3)
		}
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "This object indicates the current operational
         status of the protocol entity.    

	 The possible operating status are:
	     up - protocol up 
	     down - protocol down 
 	     shutDownInProgress - Shut down in progress.

	 The operating status - shutDownInProgress indicates 
         that the Media Gateway is in a transition state from 
         up to down. This state happens when resources are in 
         the process of being cleaned up and new resource 
         can't be allocated. 
	"
    ::= { xgcpCoreObjects 5 }


xgcpUnRecognizedPackets  OBJECT-TYPE
    SYNTAX      Counter32
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        " This refers to the count of unrecognized packets  
          since reset.
        "
    ::= { xgcpCoreObjects 6 }


-- *****************************************************************
-- The XGCP Statistics table
-- *****************************************************************
xgcpMsgStatTable OBJECT-TYPE
    SYNTAX      SEQUENCE OF XgcpMsgStatEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "This table contains XGCP statistics information since reset.

Expires October 1999                                           [Page  7]        

INTERNET-DRAFT                  XGCP-MIB                  April 13, 1999

         XGCP statistics are kept in this table, with each 
         table entry containing the statistics of XGCP that 
         communicates with a Media Gateway Controller (MGC) at 
         a specific IP address of the MGC.

         Each table entry is composed of the following information:  

         1) Messages successfully received/transmitted per IP device 
         2) Messages failed to be received/transmitted per IP device

	"
    ::= { xgcpCoreObjects 7 }

xgcpMsgStatEntry OBJECT-TYPE
    SYNTAX      XgcpMsgStatEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "The row of the xgcpMsgStatTable contains 
         information about XGCP message statistics per IP address
         of the Media Gateway Controller.
         An entry is created when a request messge with new IP 
         address is received from Medida Gateway Controller. 
         When the table is full, an entry is deleted if it is 
         LRU (Least Recently Used). 
	"
    INDEX   { xgcpIPAddress }
    ::= { xgcpMsgStatTable 1 }

XgcpMsgStatEntry ::= SEQUENCE {
        xgcpIPAddress                   IpAddress,
        xgcpSuccessMessages             Counter32,
        xgcpFailMessages                Counter32
    }


xgcpIPAddress  OBJECT-TYPE
    SYNTAX      IpAddress
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        " This object specifies the IP address of the  
          Media Gateway Controller.
        "
    ::= { xgcpMsgStatEntry 1 }
 

xgcpSuccessMessages  OBJECT-TYPE
    SYNTAX      Counter32
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "This object specifies the count of successful messages
         that communicate with the Media Gateway Controller on 

Expires October 1999                                           [Page  8]        

INTERNET-DRAFT                  XGCP-MIB                  April 13, 1999

         that IP address.

         Successful messages apply to both transmit and 
         receive messages.                             

           Transmit: Positive ACK is received from the Media  
                     Gateway Controller

           Receive: Positive ACK is sent to the Media Gateway 
                    Controller. This implies that the format  
                    of the message is correct and the request
                    can be fulfilled.

        "
    ::= { xgcpMsgStatEntry 2 }
 

xgcpFailMessages  OBJECT-TYPE
    SYNTAX      Counter32
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "This object specifies the count of failed  messages
         that communicate with the Media Gateway Controller on 
         that IP address.

         Failed messages apply to both transmit and receive
         messages. 

           Transmit: Either NAK is received from the MGC or message
                     times out waiting for ACK.   
           Receive:  Format of the received message is bad or
                     the request can not be fulfilled.   
        "
    ::= { xgcpMsgStatEntry 3 }
 

-- *****************************************************************
-- The XGCP Extension Group 
-- *****************************************************************

xgcpRestartInProgressMWD OBJECT-TYPE
    SYNTAX      Integer32 (0..600000)  
    UNITS       "milliseconds"
    MAX-ACCESS  read-write
    STATUS      current
    DESCRIPTION
    	"The maximum waiting delay (MWD) timeout value is used for the
         Media Gateway to send the Restart In Progress to the Media  
         Gateway Controller.

         The default value of this object is chosen in an 
         implementation-dependent manner by the MGCP functionality 
         based on the call volume of the system.

Expires October 1999                                           [Page  9]        

INTERNET-DRAFT                  XGCP-MIB                  April 13, 1999

    	"
    REFERENCE
         " Media Gateway Control Protocol (MGCP),
           version 0.1 draft, Feb 1, 1999 : Section 4.3.4 
         "
    ::= { xgcpExtensionObjects 1 }


xgcpRestartDelay OBJECT-TYPE
    SYNTAX      Integer32 (-1..600)  
    UNITS       "seconds"
    MAX-ACCESS  read-write
    STATUS      current
    DESCRIPTION
        "This object specifies the Restart Delay Timeout for 
         the restart process.
         The purpose of setting the restart timer before sending
         the Restart In Progress notification to the media gateway
         controller is to avoid the network congestion
         during the critical period of service restoration.

         -1: infinity which indicates no timeout.
          0: immediate timeout which indicates immediate shutdown.

	 The default value of this object is -1.
    	"
    REFERENCE
         " Media Gateway Control Protocol (MGCP),
           version 0.1 draft, Feb 1, 1999 : Section 4.3.4 
         "
    ::= { xgcpExtensionObjects 2 }


-- *****************************************************************
-- The XGCP Defalut MGC Group 
-- *****************************************************************
xgcpMGCCfgAddress OBJECT-TYPE
    SYNTAX      DisplayString (SIZE (1..64)) 
    MAX-ACCESS  read-write
    STATUS      current
    DESCRIPTION
        "This object is used to configure either the domain 
         name or the IP address of the Default Media Gateway 
         Controller in standard dot notation.     

         The complete address of a default MGC is cmposed of  
         IP address/Domain Name and UDP port.
        
         xgcpMGCCfgaddress specifies address of the default Media 
         Gateway Controller to which RSIP(RestartInProgress) message 
         is sent whenever system starts up or line goes up.

         If DNS name is entered and the IP address is found,
         MG will send RSIP to the desired MGC. If no IP address is  

Expires October 1999                                           [Page 10]        

INTERNET-DRAFT                  XGCP-MIB                  April 13, 1999

         found or no such DNS name exists, no RSIP will be sent.

         If IP address is entered, MG will send RSIP to that address.

         If there is no response, it could be that the network is down 
         or user misconfigures the address (IP address, Domain Name or
         UDP port number)
	"
    ::= { xgcpDefaultMGCObjects 1 } 

xgcpMGCCfgUDPPort OBJECT-TYPE
    SYNTAX      Integer32(1025..65535)
    MAX-ACCESS  read-write
    STATUS      current
    DESCRIPTION
        "This object is used to configure the UDP port
         of the Media Gateway Controller.

         The UDP port is used together with xgcpMGCCfgAddress to  
         specify the destination address of the default Media 
         Gateway Controller to which RSIP message is sent when
         system starts up or line goes up.
          
	"
    ::= { xgcpDefaultMGCObjects 2 } 

xgcpMGCCfgConnStatus OBJECT-TYPE
    SYNTAX      INTEGER {
                unknown                 (1),
		connected               (2),
 		connecting              (3),
		noSuchName              (4),
                noResponse              (5)
 
                }
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "This object is used to specify the connection status   
         of the Default Media Gateway Controller.

         When sending RSIP to default Media Gateway Controller,
         there could be the following status:
   
         unknown - undefined stauts. 
         connected - RSIP sent and response to it is received.  
         connecting -  RSIP is sent and waiting for response.
         noSuchName - no domain name/ip address is found 
                      when checking the DNS for the domain name 
                      entered in xgcpMGCCfgAddress. No RSIP 
                      message is sent.
         noResponse - timeout on RSIP message. 
        


Expires October 1999                                           [Page 11]        

INTERNET-DRAFT                  XGCP-MIB                  April 13, 1999

         The possible casues for no response on RSIP message:          

         1) Address(IP Address/Domain Name and UDP) for the default 
            MGC is correct but MGC in not up or network is down.
         2) MGC is up but at a different address (IP Address/
            Domain Name)
         3) MGC is up and at the same address(IP address/
            Domain Name) but wrong UDP port.
         4) MGC is down and address is wrong. 
	"
    ::= { xgcpDefaultMGCObjects 3 } 


xgcpMGCCfgTimeStamp OBJECT-TYPE
    SYNTAX      TimeStamp 
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "This object contains the time stamp of 
         state transition of xgcpMGCCfgConnStatus.
	"
    ::= { xgcpDefaultMGCObjects 4 } 



-- *****************************************************************
-- The XGCP Package Group 
-- *****************************************************************
-- *****************************************************************
-- The XGCP Capability Package table
-- *****************************************************************

xgcpCapabilityPackageTable  OBJECT-TYPE
    SYNTAX      SEQUENCE OF XgcpCapabilityPackageEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "This table contains XGCP capability packages.
         The Capability Package table - This table is 
         used to specify the availability of the packages.

         The Capabality Package Name is used as the 
         index for the table.

         Each entry contains a CapabilityPackageEnable 
         object. It is used to enable/disable a package 
         on the Media Gateway.  
        "
    ::= { xgcpPackageObjects 1 }

xgcpCapabilityPackageEntry OBJECT-TYPE
    SYNTAX      XgcpCapabilityPackageEntry
    MAX-ACCESS  not-accessible
    STATUS      current

Expires October 1999                                           [Page 12]        

INTERNET-DRAFT                  XGCP-MIB                  April 13, 1999

    DESCRIPTION
        "The entry specifies the availability of the XGCP         
         package.
         Each entry is created when the MGCP software 
         detects a new package. The entry goes away  
         only if the package is removed.
        "
    INDEX   { IMPLIED xgcpCapabilityPackageName }

    ::= { xgcpCapabilityPackageTable 1 }
 
XgcpCapabilityPackageEntry ::= SEQUENCE {
        xgcpCapabilityPackageName       DisplayString (SIZE (1..64)),
        xgcpCapabilityPackageEnable     TruthValue
    }

xgcpCapabilityPackageName  OBJECT-TYPE
    SYNTAX      DisplayString (SIZE (1..64)) 
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        " This object specifies the Name of the
          Capability Package. 

          The list of basic packages includes the following:

               _________________________________________
              | Package                      |   name  |
              |______________________________|_________|
              | Generic Media Package        |   G     |
              | DTMF package                 |   D     |
              | MF Package                   |   M     |
              | Trunk Package                |   T     |
              | Line Package                 |   L     |
              | Handset Package              |   H     |
              | RTP Package                  |   R     |
              | Netwark Access Server Package|   N     |
              | Announcement Server Package  |   A     |
              | Script Package               |   S     |
              |______________________________|_________|
         "
    REFERENCE
         " Media Gateway Control Protocol (MGCP),
           version 0.1 draft, Feb 1, 1999 : Section 6.1
         "

    ::= { xgcpCapabilityPackageEntry 1 }


xgcpCapabilityPackageEnable  OBJECT-TYPE
    SYNTAX      TruthValue
    MAX-ACCESS  read-write 
    STATUS      current
    DESCRIPTION

Expires October 1999                                           [Page 13]        

INTERNET-DRAFT                  XGCP-MIB                  April 13, 1999

        " This object eables/disables the Package Capability 
        "
    DEFVAL { true }
    ::= { xgcpCapabilityPackageEntry 2 }


xgcpDefaultPackage  OBJECT-TYPE
    SYNTAX      DisplayString (SIZE (1..64)) 
    MAX-ACCESS  read-write 
    STATUS      current
    DESCRIPTION
        " This object contains the default package name for
          the MGCP/SGCP protocol and it should have the
          same value as xgcpCapabilityPackageName. 
        "
    REFERENCE
         " Media Gateway Control Protocol (MGCP),
           version 0.1 draft, Feb 1, 1998 : Section 2.1.6
         "
    ::= { xgcpPackageObjects 2 }


-- *****************************************************************
-- The XGCP Voice Quality Group 
-- *****************************************************************



xgcpLowerBoundForPacketLoss  OBJECT-TYPE
    SYNTAX      Integer32 (1..3000)
    MAX-ACCESS  read-write
    STATUS      current
    DESCRIPTION
	"This object specifies the lower bound for voice
         quality packet loss per 100,000 packets. Voice quality 
         packet loss may happen due to network congestion or due
         to network overload.

         When packet loss(number of packet per 100,000) is high 
         enough to reach lower bound(e.g. 1500) and then higher 
         bound(e.g. 2500) the first time, a MGCP/SGCP Notify 
         message is sent to the Media Gateway Controller. 
   
         Subsequent hits of the higher bound results in a 
         MGCP/SGCP Notify message being sent to the Media Gateway 
         Controller only after the lower bound is hit.


           |                Ntfy 
           |    Ntfy  Ntfy   |        Ntfy
           |     |     |     v         |
           |     v     v      *   *    v
           +     * *   *     * * * *   *     <---  higher bound
           |    *   * * *  *    *   * * *

Expires October 1999                                           [Page 14]        

INTERNET-DRAFT                  XGCP-MIB                  April 13, 1999

           +   *     *   *           *   *   <---- lower bound
           |  *                           *
           | *                             * 
           |*
           +------------------------------------ 

	 The default value of this object is 1000.
        "
    ::= { xgcpVoiceQualityObjects 1 }  

xgcpHigherBoundForPacketLoss  OBJECT-TYPE
    SYNTAX      Integer32 (5000..25000)
    MAX-ACCESS  read-write
    STATUS      current
    DESCRIPTION
	"This object specifies the higher bound for voice quality 
         packet loss per 100,000 packets. Voice quality packet loss 
         may happen due to network congestion or due to network 
         overload.

	 The default value of this object is 10,000.
        "
    ::= { xgcpVoiceQualityObjects 2 }  

xgcpLowerBoundForJitter  OBJECT-TYPE
    SYNTAX      Integer32 (4..60)
    UNITS       "milliseconds"
    MAX-ACCESS  read-write
    STATUS      current
    DESCRIPTION
        "This object is the lower bound for Quality Alert for 
         Jitter.

         Jitter is an estimate of the statistical variance of the RTP 
         data packet interval-rival time measured in milliseconds and 
         expressed as an unsigned integer.

         When jitter(milliseconds) is long enough to reach lower 
         bound(e.g.30 ) and then higher bound(e.g. 150) the first 
         time, a MGCP/SGCP Notify message is sent to the Media 
         Gateway Controller. 
   
         Subsequent hits of the higher bound results in a 
         MGCP/SGCP Notify message being sent to the Media Gateway 
         Controller only after the lower bound is hit.

	 The default value of this object is 30.
        "
    ::= { xgcpVoiceQualityObjects 3 }  

xgcpHigherBoundForJitter  OBJECT-TYPE
    SYNTAX      Integer32 (100..200)
    UNITS       "milliseconds"
    MAX-ACCESS  read-write

Expires October 1999                                           [Page 15]        

INTERNET-DRAFT                  XGCP-MIB                  April 13, 1999

    STATUS      current
    DESCRIPTION
        "This object is the higher bound for Quality Alert for 
         Jitter.

         Jitter is an estimate of the statistical variance of the RTP 
         data packet interval-rival time measured in milliseconds and 
         expressed as an unsigned integer.

	 The default value of this object is 150.
        "
    ::= { xgcpVoiceQualityObjects 4 }  


xgcpLowerBoundForLatency  OBJECT-TYPE
    SYNTAX      Integer32 (125..200)
    UNITS       "milliseconds"
    MAX-ACCESS  read-write
    STATUS      current
    DESCRIPTION
        "This object is the higher bound for Quality Alert for 
	 latency.  

	 QA latency is an estimate of the network delay, expressed 
         in milliseconds. This is the average value of the difference 
         between the Network Time Protocol (NTP) timestamp indicated 
         by the senders of the RTCP messages and the NTP timestamp 
         of the receivers, measured when these messages are received. 

         When latency (milliseconds) is long enough to reach lower 
         bound (e.g.150 ) and then higher bound(e.g. 300) the first 
         time, a MGCP/SGCP Notify message is sent to the Media 
         Gateway Controller. 
   
         Subsequent hits of the higher bound results in a 
         MGCP/SGCP Notify message being sent to the Media Gateway 
         Controller only after the lower bound is hit.

	 The default value of this object is 150.
        "
    ::= { xgcpVoiceQualityObjects 5 }  


xgcpHigherBoundForLatency  OBJECT-TYPE
    SYNTAX      Integer32 (250..400)
    UNITS       "milliseconds"
    MAX-ACCESS  read-write
    STATUS      current
    DESCRIPTION
        "This object is the higher bound for Quality Alert for 
	 latency.  

	 QA latency is an estimate of the network delay, expressed 
         in milliseconds. This is the average value of the difference 

Expires October 1999                                           [Page 16]        

INTERNET-DRAFT                  XGCP-MIB                  April 13, 1999

         between the NTP timestamp indicated by the senders of the 
	 RTCP messages and the NTP timestamp of the receivers, 
         measured when these messages are received. 


	 The default value of this object is 300.
        "
    ::= { xgcpVoiceQualityObjects 6 }  



-- *********************************************************************
-- Media gateway control notification 
-- *********************************************************************

xgcpNotificationPrefix OBJECT IDENTIFIER ::= { xgcpMIB 2 }

xgcpNotifications OBJECT IDENTIFIER ::= { xgcpNotificationPrefix 0 }

xgcpUpDownNotification NOTIFICATION-TYPE
   OBJECTS {
        xgcpOperStatus 
    }

    STATUS  current
    DESCRIPTION
            "This notification is sent when the protocol status changes  
             between up and down.

             The following information is returned:
                   xgcpOperStatus -> Current operational status of XGCP 

	    "
    ::= { xgcpNotifications 1 }


--**********************************************************************
-- Conformance 
--**********************************************************************

-- 
-- conformance information
--

xgcpMIBConformance OBJECT IDENTIFIER ::= { xgcpMIB 3 }

xgcpMIBCompliances OBJECT IDENTIFIER ::= { xgcpMIBConformance 1 }

xgcpMIBGroups      OBJECT IDENTIFIER ::= { xgcpMIBConformance 2 }


-- 
-- Conformance and compliance statements statements
--

Expires October 1999                                           [Page 17]        

INTERNET-DRAFT                  XGCP-MIB                  April 13, 1999


xgcpMIBCompliance MODULE-COMPLIANCE
    STATUS  current
    DESCRIPTION
            "The compliance statement for the SNMPv2 entities 
             which implement XGCP."
    MODULE  -- this module
        MANDATORY-GROUPS { xgcpCoreGroup
                           }
        GROUP xgcpExtensionGroup
        DESCRIPTION
              "The xgcp Extension Group is mandatory for MGCP  
               on the Media Gateway. 
              "
        GROUP xgcpPackageGroup
        DESCRIPTION
              "The xgcp Package Group is mandatory for MGCP on 
               the Media Gateway Controller and the Media 
               Gateway. 
              "
        GROUP xgcpVoiceQualityGroup
        DESCRIPTION
              "The xgcp Voice Quality Group is mandatory for MGCP on  
               the Media Gateway. 
              "
        GROUP xgcpDefaultMGCGroup 
        DESCRIPTION
              "The xgcp default MGC Group is mandatory for MGCP on  
               the Media Gateway. 
              "
    ::= { xgcpMIBCompliances 1 }

--
-- units of conformance
--
-- MIB Groups
--
xgcpCoreGroup OBJECT-GROUP
	OBJECTS {
                xgcpInBadVersions,
		xgcpRequestTimeOut, 
		xgcpRequestRetries,
		xgcpAdminStatus,
		xgcpOperStatus, 
		xgcpUnRecognizedPackets, 
                xgcpSuccessMessages,
                xgcpFailMessages
		}

    STATUS    current
    DESCRIPTION
            "This group contains core objects for SGCP/MGCP on the  
             Media Gateway Controller and the Media Gateway.
             "

Expires October 1999                                           [Page 18]        

INTERNET-DRAFT                  XGCP-MIB                  April 13, 1999


    ::= { xgcpMIBGroups 1 }

xgcpExtensionGroup OBJECT-GROUP
	OBJECTS {
		xgcpRestartInProgressMWD,
		xgcpRestartDelay
		}

    STATUS    current
    DESCRIPTION
            "This group contains extension objects for MGCP on 
             the Media Gateway.
             "

    ::= { xgcpMIBGroups 2 }

xgcpPackageGroup OBJECT-GROUP
	OBJECTS {
		xgcpCapabilityPackageEnable,
                xgcpDefaultPackage
		}

    STATUS    current
    DESCRIPTION
            "This group contains package objects for MGCP on
             the Media Gateway or the Media Gateway Controller.
            "

    ::= { xgcpMIBGroups 3 }

xgcpVoiceQualityGroup OBJECT-GROUP
	OBJECTS {
		xgcpLowerBoundForPacketLoss,
		xgcpHigherBoundForPacketLoss,
		xgcpLowerBoundForJitter, 
		xgcpHigherBoundForJitter, 
		xgcpLowerBoundForLatency,
		xgcpHigherBoundForLatency
		}

    STATUS    current
    DESCRIPTION
            "This group contains voice quality objects for  
             the Media Gateway ."

    ::= { xgcpMIBGroups 4 }

xgcpDefaultMGCGroup OBJECT-GROUP
	OBJECTS {
                xgcpMGCCfgAddress,
                xgcpMGCCfgUDPPort,
                xgcpMGCCfgConnStatus,
                xgcpMGCCfgTimeStamp

Expires October 1999                                           [Page 19]        

INTERNET-DRAFT                  XGCP-MIB                  April 13, 1999

		}

    STATUS    current
    DESCRIPTION
            "This group contains address objects for default 
             Media Gateway Controller.
             "

    ::= { xgcpMIBGroups 5 }

END

6.0	Acknowledgments

    Thanks to Bert Wijnen - IESG Operations & Management Area (OPS), 
    David Oran, Bob Stewart, Hongchi Shih, Bill Foster, Alex Clemm, 
    Dan Lai, Eliza Duerme, Thao Tran, and Mike Hubenthal - Cisco 
    Systems, for helping and reviewing this first draft version.

7.0	Security Considerations

    There are a number of management objects defined in this MIB
    that have a MAX-ACCESS clause of read-write and/or read-create.
    Such objects may be considered sensitive or vulnerable in some
    network environments.  The support for SET operations in a
    non-secure environment without proper protection can have a
    negative effect on network operations.

    There are a number of managed objects in this MIB that may
    contain sensitive information. These are:

               xgcpAdminStatus
               xgcpMGCCfgAddress/xgcpMGCCfgUDPPort
               xgcpCapbilityPackageTable
             
     It is thus important to control even GET access to these objects
     and possibly to even encrypt the values of these object when
     sending them over the network via SNMP.  Not all versions of
     SNMP provide features for such a secure environment.


     SNMPv1 by itself is not a secure environment.  Even if the
     network itself is secure (for example by using IPSec), even then,
     there is no control as to who on the secure network is allowed
     to access and GET/SET (read/change/create/delete) the objects in
     this MIB.

     It is recommended that the implementers consider the security
     features as provided by the SNMPv3 framework.  Specifically, the
     use of the User-based Security Model RFC 2274 [18] and the
     View-based Access Control Model RFC 2275 [19] is recommended.

     It is then a customer/user responsibility to ensure that the SNMP
     entity giving access to an instance of this MIB, is properly

Expires October 1999                                           [Page 20]        

INTERNET-DRAFT                  XGCP-MIB                  April 13, 1999

     configured to give access to the objects only to those
     principals (users) that have legitimate rights to indeed GET or
     SET (change/create/delete) them.


8.0	References

[1]  Harrington, D., Presuhn, R., and B. Wijnen, "An  Architecture for 
     Describing SNMP Management Frameworks", RFC 2271, Cabletron 
     Systems, Inc., BMC Software, Inc., IBM T. J. Watson Research, 
     January 1998
 
[2]  Rose, M., and K. McCloghrie, "Structure and Identification of 
     Management Information for TCP/IP-based Internets", RFC 1155,  
     Performance Systems International, Hughes LAN Systems, May 1990
 
[3]  Rose, M., and K. McCloghrie, "Concise MIB Definitions", RFC 1212, 
     Performance Systems International, Hughes LAN Systems, March 1991
 
[4]  M. Rose, "A Convention for Defining Traps for use with the SNMP", 
     RFC 1215, Performance Systems International, March 1991
 
[5]  Case, J., McCloghrie, K., Rose, M., and S. Waldbusser, "Structure  
     of Management Information for Version 2 of the Simple Network 
     Management Protocol (SNMPv2)", RFC 1902, SNMP Research,Inc., 
     Cisco Systems, Inc., Dover Beach Consulting, Inc., International 
     Network Services, January 1996.
 
[6]  Case, J., McCloghrie, K., Rose, M., and S.  Waldbusser, "Textual  
     Conventions  for Version 2 of the Simple Network Management  
     Protocol (SNMPv2)", RFC 1903, SNMP Research, Inc., Cisco Systems, 
     Inc., Dover Beach Consulting, Inc., International Network 
     Services, January 1996.
 
[7]  Case, J., McCloghrie, K., Rose, M., and S. Waldbusser,"Conformance  
     Statements for Version 2 of the Simple Network Management Protocol 
     (SNMPv2)", RFC 1904, SNMP Research,  Inc., Cisco Systems, Inc., 
     Dover Beach Consulting, Inc., International Network Services,  
     January 1996.
 
[8]  Case, J., Fedor, M., Schoffstall, M., and J. Davin, "Simple Network
     Management  Protocol", RFC 1157, SNMP Research, Performance  
     Systems International, Performance  Systems  International,  
     MIT Laboratory for Computer Science, May 1990.
 
[9]  Case, J., McCloghrie, K., Rose, M., and S.  Waldbusser, 
     "Introduction  to  Community-based  SNMPv2",  RFC 1901, SNMP 
     Research, Inc., Cisco Systems, Inc., Dover Beach Consulting, Inc.,
     International Network Services, January 1996.

[10] Case, J., McCloghrie, K., Rose, M., and S.  Waldbusser, "Transport 
     Mappings for Version 2 of the Simple Network Management Protocol 
     (SNMPv2)", RFC 1906, SNMP Research, Inc., Cisco Systems, Inc.,  
     Dover Beach Consulting, Inc., International Network Services, 

Expires October 1999                                           [Page 21]        

INTERNET-DRAFT                  XGCP-MIB                  April 13, 1999

     January 1996.
 
[11] Case, J., Harrington D., Presuhn  R.,  and  B.  Wijnen, "Message 
     Processing and Dispatching for the Simple Network  Management  
     Protocol  (SNMP)",  RFC  2272, SNMP Research,  Inc., Cabletron 
     Systems, Inc., BMC Software, Inc., IBM T. J. Watson Research, 
     January 1998.
 
[12] Blumenthal, U., and  B.  Wijnen,  "User-based  Security Model (USM) 
     for version 3 of the Simple Network Management Protocol (SNMPv3)", 
     RFC 2274,  IBM  T.  J.  Watson Research, January 1998.
 
[13] Case, J., McCloghrie, K., Rose, M., and S.  Waldbusser, "Protocol  
     Operations for Version 2 of the Simple Network Management Protocol  
     (SNMPv2)", RFC 1905, SNMP Research,  Inc., Cisco Systems, Inc., 
     Dover Beach Consulting, Inc., International Network Services,  
     January 1996.
 
[14] Levi, D., Meyer, P., and B. Stewart,  "SNMPv3  Applications", RFC 
     2273, SNMP Research, Inc., Secure Computing Corporation, Cisco 
     Systems, January 1998
 
[15] Wijnen, B., Presuhn, R., and K. McCloghrie, "View-based Access  
     Control  Model  (VACM)  for  the Simple Network Management Protocol
     (SNMP)", RFC 2275, IBM T. J. Watson Research,  BMC  Software, Inc.,
     Cisco  Systems, Inc., January 1998

[16] Maurico Arango et al, Simple Gateway Control Protocol,
     Version 1.1 June 26, 1998

[17] Maurico Arango et al, Media Gateway Control Protocol,
     Version 0.1 draft, February 1, 1999

[18]
     Blumenthal, U., and B. Wijnen, "User-based Security Model (USM)
     for version 3 of the Simple Network Management Protocol (SNMPv3)",
     RFC 2274, January 1998.

[19]
     Wijnen, B., Presuhn, R., and K. McCloghrie, "View-based Access
     Control Model for the Simple Network Management Protocol (SNMP)",
     RFC 2275, January 1998.


9.0	Editor's Address

    Dinh D. Nguyen
    Cisco Systems
    170 West Tasman Drive
    San Jose, CA 95134-1706
    Phone: +1 408 525 1624
    Email: dinhn@cisco.com



Expires October 1999                                           [Page 22]        

INTERNET-DRAFT                  XGCP-MIB                  April 13, 1999

    Rick Chen
    Cisco Systems
    170 West Tasman Drive
    San Jose, CA 95134-1706
    Phone: +1 408 525 6367
    Email: richen@cisco.com


















































Expires October 1999                                           [Page 23]
