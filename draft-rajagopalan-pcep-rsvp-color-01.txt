



PCE Working Group                                         B. Rajagopalan
Internet-Draft                                                 V. Beeram
Intended status: Standards Track                        Juniper Networks
Expires: January 13, 2022                                      G. Mishra
                                             Verizon Communications Inc.
                                                           July 12, 2021


    Path Computation Element Protocol(PCEP) Extension for RSVP Color
                  draft-rajagopalan-pcep-rsvp-color-01

Abstract

   This document specifies extensions to Path Computation Element
   Protocol (PCEP) to carry a newly defined attribute of RSVP LSP called
   'color' that can be used as a guiding criterion for selecting the LSP
   as a next hop for a service route.

Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [RFC2119].

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on January 13, 2022.

Copyright Notice

   Copyright (c) 2021 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents



Rajagopalan, et al.     Expires January 13, 2022                [Page 1]

Internet-Draft               PCEP RSVP Color                   July 2021


   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Protocol Operation  . . . . . . . . . . . . . . . . . . . . .   3
   3.  TLV Format  . . . . . . . . . . . . . . . . . . . . . . . . .   4
   4.  Usage with BGP-CT . . . . . . . . . . . . . . . . . . . . . .   4
   5.  Security Considerations . . . . . . . . . . . . . . . . . . .   4
   6.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   5
   7.  Acknowledgments . . . . . . . . . . . . . . . . . . . . . . .   5
   8.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   5
     8.1.  Normative References  . . . . . . . . . . . . . . . . . .   5
     8.2.  Informative References  . . . . . . . . . . . . . . . . .   6
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   6

1.  Introduction

   This document defines a new RSVP LSP property, called "color", that
   can be exchanged over PCEP.  The 'color' field can be used as one of
   the guiding criteria in selecting the LSP as a next hop for service
   prefixes.

   While the specific details of how the service prefixes are associated
   with the appropriate RSVP LSP's are outside the scope of this
   specification, the envisioned high level usage of the 'color' field
   is as follows.

   The service prefixes are marked with some indication of the type of
   underlay they need.  The underlay LSP's carry corresponding markings,
   which we refer to as "color" in this specification, enabling an
   ingress node to associate the service prefixes with the appropriate
   underlay LSP's.

   As an example, for a BGP-based service, the originating PE could
   attach some community, e.g. the Extended Color Community [RFC5512]
   with the service route.  A receiving PE could use locally configured
   policies to associate service routes carrying Extended Color
   Community 'X' with underlay RSVP LSP's of color 'Y'.

   While the Extended Color Community provides a convenient method to
   perform the mapping, the policy on the ingress node is free to



Rajagopalan, et al.     Expires January 13, 2022                [Page 2]

Internet-Draft               PCEP RSVP Color                   July 2021


   classify on any property of the route to select underlay RSVP LSP's
   of a certain color.

   The 'color' specified in this draft is mainly used for facilitating
   underlay selection, and does not have any effect on the constraints
   used for path computation.

2.  Protocol Operation

   The STATEFUL-PCE-CAPABILITY negotiation message is enhanced to carry
   the color capability, which allows PCC & PCE to determine how
   incompatibility should be handled, should only one of them support
   color.  An older implementation that does not recognize the new color
   TLV would ignore it upon receipt.  This can sometimes result in
   undesirable behavior.  For example, if PCE passes color to a PCC that
   does not understand colors, the LSP may not be used as intended.  A
   PCE that clearly knows the PCC's color capability can handle such
   cases better, and vice versa.  Following are the rules for handling
   mismatch in color capability.

   A PCE that has color capability MUST NOT send color TLV to a PCC that
   does not have color capability.  A PCE that does not have color
   capability can ignore color marking reported by PCC.

   When a PCC is interacting with a PCE that does not have color
   capability, the PCC

   o  SHOULD NOT report color to the PCE.

   o  MUST NOT override the local color, if it is configured, based on
      any messages coming from the PCE.

   The actual color value itself is carried in a newly defined TLV in
   the LSP Object defined in [RFC8231].

   If a PCC is unable to honor a color value passed in an LSP Update
   request, the PCC must keep the LSP in DOWN state, and include an LSP
   Error Code value of "Unsupported Color" [Value to be assigned by
   IANA] in LSP State Report message.

   If an RSVP tunnel has multiple LSP's associated with it, the PCE
   should designate one of the LSP's as primary, and attach the color
   with that LSP.  If PCC receives color TLV for an LSP that it treats
   as secondary, it SHOULD respond with an error code of 4 (Unacceptable
   Parameters).






Rajagopalan, et al.     Expires January 13, 2022                [Page 3]

Internet-Draft               PCEP RSVP Color                   July 2021


3.  TLV Format

      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |     Type                      |          Length=4             |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                             Color                             |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                     Figure 1: Color TLV in LSP Object

   Type has the value [TO-BE-ASSIGNED-BY-IANA].  Length carries a value
   of 4.  The 'color' field is 4-bytes long, and carries the actual
   color value.

   Section 7.1.1 of RFC8231 [RFC8231] defines STATEFUL-PCE-CAPABILITY
   flags.  The following flag is used to indicate if the speaker
   supports color capability:

      C-bit (TO-BE-ASSIGNED-BY-IANA): A PCE/PCC that supports color
      capability must turn on this bit.

4.  Usage with BGP-CT

   RSVP LSP's marked with color can also be used for inter-domain
   service mapping as defined in BGP-CT
   [I-D.kaliraj-idr-bgp-classful-transport-planes].  In BGP-CT, the
   mapping community of the service route is used to select a
   "resolution scheme", which in turn selects LSP's of various
   "transport classes" in the defined order of preference.  The 'color'
   field defined in this specification could be used to associate the
   RSVP LSP with a particular transport class.

   A colored RSVP LSP can also be exported into BGP-CT for inter-domain
   classful transport.

5.  Security Considerations

   This document defines a new TLV for color, and a new flag in
   capability negotiation, which do not add any new security concerns
   beyond those discussed in [RFC5440], [RFC8231] and [RFC8281].

   An unauthorized PCE may maliciously associate the LSP with an
   incorrect color.  The procedures described in [RFC8253] and [RFC7525]
   can be used to protect against this attack.






Rajagopalan, et al.     Expires January 13, 2022                [Page 4]

Internet-Draft               PCEP RSVP Color                   July 2021


6.  IANA Considerations

   IANA is requested to assign code points for the following:

   o  Code point for "Color" TLV from the sub-registry "PCEP TLV Type
      Indicators".

   o  C-bit value from the sub-registry "STATEFUL-PCE-CAPABILITY TLV
      Flag Field".

   o  An error code for "Unsupported color" from the sub-registry "LSP-
      ERROR-CODE TLV Error Code Field".

7.  Acknowledgments

   The authors would like to thank Kaliraj Vairavakkalai, Colby Barth &
   Natrajan Venkataraman for their review & suggestions, which helped
   improve this specification.

8.  References

8.1.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.

   [RFC5440]  Vasseur, JP., Ed. and JL. Le Roux, Ed., "Path Computation
              Element (PCE) Communication Protocol (PCEP)", RFC 5440,
              DOI 10.17487/RFC5440, March 2009,
              <https://www.rfc-editor.org/info/rfc5440>.

   [RFC5512]  Mohapatra, P. and E. Rosen, "The BGP Encapsulation
              Subsequent Address Family Identifier (SAFI) and the BGP
              Tunnel Encapsulation Attribute", RFC 5512,
              DOI 10.17487/RFC5512, April 2009,
              <https://www.rfc-editor.org/info/rfc5512>.

   [RFC7525]  Sheffer, Y., Holz, R., and P. Saint-Andre,
              "Recommendations for Secure Use of Transport Layer
              Security (TLS) and Datagram Transport Layer Security
              (DTLS)", BCP 195, RFC 7525, DOI 10.17487/RFC7525, May
              2015, <https://www.rfc-editor.org/info/rfc7525>.







Rajagopalan, et al.     Expires January 13, 2022                [Page 5]

Internet-Draft               PCEP RSVP Color                   July 2021


   [RFC8231]  Crabbe, E., Minei, I., Medved, J., and R. Varga, "Path
              Computation Element Communication Protocol (PCEP)
              Extensions for Stateful PCE", RFC 8231,
              DOI 10.17487/RFC8231, September 2017,
              <https://www.rfc-editor.org/info/rfc8231>.

   [RFC8253]  Lopez, D., Gonzalez de Dios, O., Wu, Q., and D. Dhody,
              "PCEPS: Usage of TLS to Provide a Secure Transport for the
              Path Computation Element Communication Protocol (PCEP)",
              RFC 8253, DOI 10.17487/RFC8253, October 2017,
              <https://www.rfc-editor.org/info/rfc8253>.

   [RFC8281]  Crabbe, E., Minei, I., Sivabalan, S., and R. Varga, "Path
              Computation Element Communication Protocol (PCEP)
              Extensions for PCE-Initiated LSP Setup in a Stateful PCE
              Model", RFC 8281, DOI 10.17487/RFC8281, December 2017,
              <https://www.rfc-editor.org/info/rfc8281>.

8.2.  Informative References

   [I-D.kaliraj-idr-bgp-classful-transport-planes]
              Vairavakkalai, K., Venkataraman, N., Rajagopalan, B.,
              Mishra, G., Khaddam, M., Xu, X., and R. J. Szarecki, "BGP
              Classful Transport Planes", draft-kaliraj-idr-bgp-
              classful-transport-planes-07 (work in progress), February
              2021.

Authors' Addresses

   Balaji Rajagopalan
   Juniper Networks

   Email: balajir@juniper.net


   Vishnu Pavan Beeram
   Juniper Networks

   Email: vbeeram@juniper.net


   Gyan Mishra
   Verizon Communications Inc.

   Email: gyan.s.mishra@verizon.com






Rajagopalan, et al.     Expires January 13, 2022                [Page 6]
