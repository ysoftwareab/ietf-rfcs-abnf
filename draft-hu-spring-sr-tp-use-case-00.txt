



SPRING WG                                                     Fangwei Hu
Internet-Draft                                                Quan Xiong
Intended status: Informational                               Greg Mirsky
Expires: September 2, 2018                               ZTE Corporation
                                                             Mar 1, 2018


               Segment Routing Transport Profile Use Case
                 draft-hu-spring-sr-tp-use-case-00.txt

Abstract

   This document discusses the use case and requirement of segment
   routing is used in MPLS-TP network.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on September 2, 2018.

Copyright Notice

   Copyright (c) 2018 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.





Fangwei Hu, et al.      Expires September 2, 2018               [Page 1]

Internet-Draft                SRTP use case                     Mar 2018


Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Conventions used in this document . . . . . . . . . . . . . .   3
     2.1.  Terminology . . . . . . . . . . . . . . . . . . . . . . .   3
     2.2.  Requirements Language . . . . . . . . . . . . . . . . . .   3
   3.  SRTP Requirement  . . . . . . . . . . . . . . . . . . . . . .   3
   4.  SRTP Use Case . . . . . . . . . . . . . . . . . . . . . . . .   3
     4.1.  SRTP Scenario . . . . . . . . . . . . . . . . . . . . . .   3
     4.2.  SRTP Loose Constraints Path . . . . . . . . . . . . . . .   5
     4.3.  SRTP Strict Constraints Path  . . . . . . . . . . . . . .   6
   5.  Bi-direction SRTP Tunnel Binding  . . . . . . . . . . . . . .   7
   6.  Security Considerations . . . . . . . . . . . . . . . . . . .   8
   7.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   8
   8.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   8
   9.  Normative References  . . . . . . . . . . . . . . . . . . . .   8
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   9

1.  Introduction

   With the wide spread adoption of virtualization and cloud computing,
   the east-west traffic is greatly increased in the current MPLS-TP
   network.  This trend brought the new requirements for the MPLS-TP
   networks:

   (1)  The access layer nodes should be meshed to provide the east-west
        traffic forwarding capability.

   (2)  The access nodes should support signaling protocol and maintain
        large volume of state for traffic engineering and tunnel
        connection, which is very challenging for the access nodes in
        the current MPLS-TP networks.

   Segment Routing(SR)[I-D.ietf-spring-segment-routing] allows a node to
   steer a packet through a controlled set of instructions, called
   segments, by prepending an SR header to the packet.  The transit
   nodes forward the packet based on the segment list, and do not need
   to maintain the service status.  There is no need to run signaling
   protocol in the traffic engineering network, which simplifies the
   network deployment and operation.  The Segment Routing architecture
   can be directly applied to the MPLS dataplane with no change on the
   forwarding plane [I-D.ietf-spring-segment-routing-mpls].  It requires
   a minor extension to the existing link-state routing protocols.

   If the segment routing technology is deployed in the current MPLS-TP
   network, the challenge for the access layer nodes could be addressed.
   The access layer nodes only need to support IGP protocol (ISIS,
   OSPF), and they do not need to support signaling protocol and



Fangwei Hu, et al.      Expires September 2, 2018               [Page 2]

Internet-Draft                SRTP use case                     Mar 2018


   maintain traffic engineering status and tunnel information, which
   simplifies the access layer nodes.  The segment routing technology
   being deployed in the MPLS-TP network is referred to as SRTP
   technology.  This document discusses uses case and requirements for
   the SR-TP.

2.  Conventions used in this document

2.1.  Terminology

   SRTP: segment routing transport profile.  The segment routing is
   deployed in the packet-switched transport networks.

2.2.  Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
   "OPTIONAL" in this document are to be interpreted as described in BCP
   14 [RFC2119] [RFC8174] when, and only when, they appear in all
   capitals, as shown here.

3.  SRTP Requirement

   The requirement of SRTP are as following:

   (1)  It is required to support bi-direction tunnel to fit for the
        requirement of packet-switched transport networks.  The SR nodes
        are required to announce the related capability and parameters
        information to the centralized controller.

   (2)  It is required to support SRTP loose constraints traffic
        engineering path for packet-switched transport networks.

   (3)  It is required to support SRTP strict constraints traffic
        engineering path for packet-switched transport networks.  The
        data forwarding path is usually maintained by centralized
        controller.

4.  SRTP Use Case

4.1.  SRTP Scenario

   Figure 1 is a typical SRTP deployment scenario.  The SR nodes run IGP
   protocol extension for segment routing
   ([I-D.ietf-isis-segment-routing-extensions] or
   [I-D.ietf-ospf-segment-routing-extensions]), and flood the SR
   parameters to the network.  The nodes maintain local SR information,
   and receiving the other nodes' SR information through IGP protocol.



Fangwei Hu, et al.      Expires September 2, 2018               [Page 3]

Internet-Draft                SRTP use case                     Mar 2018


   They create the RIB and SR label forwarding table for traffic
   forwarding.  A centralized controller can be used to configure and
   manage the nodes in the transport network.  The segment routing nodes
   report their topology information to the centralized controller, e.g.
   through [I-D.ietf-idr-bgp-ls-segment-routing-ext].  The centralized
   controller creates the RIB and synchronizes the forwarding table
   among segment routing nodes.  The centralized controller also
   calculates the end to end SR paths, and creates the ordered segment
   list, then downloads it to the ingress segment routing nodes.

   Both the loose constraints path and strict constraints path are
   support in the packet-switched transport networks.  The SRTP loose
   constraints path is usually used in the access rings or access and
   aggregation rings for the east-west data flows (the synchronized data
   among eNodeB) in the packet-switched transport, and the SRTP strict
   constraints path is usually used for the south-north data flows
   (e.g., the data from eNodeB to core network).


































Fangwei Hu, et al.      Expires September 2, 2018               [Page 4]

Internet-Draft                SRTP use case                     Mar 2018


                               ************************
                               *                      *
                               *    Controller        *
                               *                      *
                               ************************
                                       /     ^
                                      /       \
                                     /         \
                                    v           \
                      +---+        +---+     +----+       +----+
                      |SR2|--------|SR3|     |SR9 |-------|SR10|
                      +---+        +---+     +----+       +----+
                      /               \     /                \
                     /                 \   /                  \
        +---+      +---+              +---+                  +----+
        |BS1|------|SR1|              |SR4|                  |SR11|
        +---+      +---+              +---+                  +----+
                    |                   |                      |
                    |                   |                      |
        +---+      +---+              +---+                  +----+
        |BS2|------|SR8|              |SR5|                  |SR12|
        +---+      +---+              +---+                  +----+
                     \                  /  \                  /
                      \                /    \                /
                      +---+        +---+     +----+       +----+
                      |SR7|--------|SR6|     |SR14|-------|SR13|
                      +---+        +---+     +----+       +----+

                            Figure 1 SRTP Scenario


4.2.  SRTP Loose Constraints Path

   Figure 2 shows the typical SRTP loose constraints path application
   scenario.  A and F is the ingress SR node and egress node
   respectively, and D is the gateway of the access ring.  The data
   traffic will be forwarded to go across access ring and aggregation
   ring from A to F.  The F node's Node SID and D's Node SID are flooded
   in the access ring and aggregation ring (The access ring and
   aggregation ring belong to the same IGP area).  Node A encapsulates
   the SID D and SID F in the segment routing data packet.  The data
   traffic is forwarded along the best path from A to D, and then is
   forwarded from D to F.

   In the SRTP loose constraints path mechanism, the SR nodes in the IGP
   area are assigned a global unique node SID, and all the SR nodes
   should run IGP protocol(ISIS OR OSPF) to advertise their Node SIDs.




Fangwei Hu, et al.      Expires September 2, 2018               [Page 5]

Internet-Draft                SRTP use case                     Mar 2018


   The SR packets forwarding is based on the best route to the
   destination SR nodes calculated at each node.

                 +-----------+        +-----------+
                 |     B     |        |    SR     |
                 +-----------+        +-----------+
                 /             \      /             \
                /               \    /               \
           +-----+              +----+                +-----+
           | A   |              | C  |                |SR11 |
           +-----+              +----+                +-----+
             |                    |                      |
             |                    |                      |
           +---+                +---+                 +------+
           |SR |                | D |                 |   F  |
           +---+                +---+                 +------+
              \                  /   \                 /
               \                /     \               /
                +-------------+        +------------+
                |     SR      |        |      E     |
                +-------------+        +------------+

       +--------+   +--------+
       | node D |   | node D |
           +--------+   +--------+   +--------+  +--------+
           | node E |   | node E |   | node E |  | node E |
           +--------+   +--------+   +--------+  +--------+  +--------+
           |payload |   |payload |   |payload |  |payload |  |payload |
           +--------+   +--------+   +--------+  +--------+  +--------+

                           Figure 2 SRTP Loose Constraints Path


4.3.  SRTP Strict Constraints Path

   Figure 3 shows the SRTP strict constraints path.  The SR nodes are
   assigned the Adjacent SIDs(local SID) by the centralized controller.
   The centralized controller collects the global topology and TE
   information, and calculates the end-to-end path based on the service
   requirement and the routing policy (minimum hop count, minimum delay,
   load balancing, etc.) to form the strictly constrained path.  The
   ingress SR nodes (PE nodes) push the SID list to encapsulate the SR
   packet.  The transit SR nodes (P nodes) forward the SR packets based
   on the SID list.  Egress SR nodes (PE nodes) decapsulate the SR
   packet and forwards to the destination.

   Because there is no label or only the last label in the MPLS label
   stack when the packet reaches the egress node, the egress node cannot



Fangwei Hu, et al.      Expires September 2, 2018               [Page 6]

Internet-Draft                SRTP use case                     Mar 2018


   determine from which ingress node or SR path the packet comes.  A
   path segment is introduced to address this issue(Section 5 for
   details).

                             +-----------+        +-----------+
                 |     A     |        |    SR     |
                 +-----------+        +-----------+
                 /             \      /             \
                / adj A    adj B\    /               \
           +-----+              +----+                +-----+
           | PE1 |              |  B |                |SR11 |
           +-----+              +----+                +-----+
             |                    |                      |
             |             adj C  |                      |
           +---+                +---+                 +-----+
           |SR |                | C |                 | PE2 |
           +---+                +---+                 +-----+
              \                  /   \ adj D           /
               \                /     \               / adj E
                +-------------+        +------------+
                |     SR      |        |      D     |
                +-------------+        +------------+

           +--------+
           | adj A  |
           +--------+   +--------+
           | adj B  |   | adj B  |
           +--------+   +--------+   +--------+
           | adj C  |   | adj C  |   | adj C  |
           +--------+   +--------+   +--------+
           | adj D  |   | adj D  |   | adj D  |
           +--------+   +--------+   +--------+  +--------+
           | adj E  |   | adj E  |   | adj E  |  | adj E  |
           +--------+   +--------+   +--------+  +--------+  +--------+
           |path SID|   |path SID|   |path SID|  |path SID|  |path SID|
           +--------+   +--------+   +--------+  +--------+  +--------+
           |payload |   |payload |   |payload |  |payload |  |payload |
           +--------+   +--------+   +--------+  +--------+  +--------+

                              Figure 3 SRTP Strict Constraints Path


5.  Bi-direction SRTP Tunnel Binding

   It is required to establish the bi-direction tunnel, for some use
   cases, such as end-to-end 1+1 path protection, bidirectional path
   correlation or performance measurement (PM) in MPLS-TP network . But
   the SR is a one direction tunnel, so when deploying the SR to packet-



Fangwei Hu, et al.      Expires September 2, 2018               [Page 7]

Internet-Draft                SRTP use case                     Mar 2018


   switched transport networks, it is necessary to binding two direction
   tunnel as a bi-direction tunnel to meet the requirement of MPLS-TP.
   [I-D.cheng-spring-mpls-path-segment] provides the solution to binding
   the bi-direction SRTP tunnel.

6.  Security Considerations

7.  Acknowledgements

8.  IANA Considerations

9.  Normative References

   [I-D.cheng-spring-mpls-path-segment]
              Cheng, W., Wang, L., Li, H., Chen, M., Zigler, R., and S.
              Zhan, "Path Segment in MPLS Based Sement Routing Network",
              draft-cheng-spring-mpls-path-segment-00 (work in
              progress), October 2017.

   [I-D.ietf-idr-bgp-ls-segment-routing-ext]
              Previdi, S., Talaulikar, K., Filsfils, C., Gredler, H.,
              and M. Chen, "BGP Link-State extensions for Segment
              Routing", draft-ietf-idr-bgp-ls-segment-routing-ext-04
              (work in progress), January 2018.

   [I-D.ietf-isis-segment-routing-extensions]
              Previdi, S., Ginsberg, L., Filsfils, C., Bashandy, A.,
              Gredler, H., Litkowski, S., Decraene, B., and J. Tantsura,
              "IS-IS Extensions for Segment Routing", draft-ietf-isis-
              segment-routing-extensions-15 (work in progress), December
              2017.

   [I-D.ietf-ospf-segment-routing-extensions]
              Psenak, P., Previdi, S., Filsfils, C., Gredler, H.,
              Shakir, R., Henderickx, W., and J. Tantsura, "OSPF
              Extensions for Segment Routing", draft-ietf-ospf-segment-
              routing-extensions-24 (work in progress), December 2017.

   [I-D.ietf-spring-segment-routing]
              Filsfils, C., Previdi, S., Ginsberg, L., Decraene, B.,
              Litkowski, S., and R. Shakir, "Segment Routing
              Architecture", draft-ietf-spring-segment-routing-15 (work
              in progress), January 2018.








Fangwei Hu, et al.      Expires September 2, 2018               [Page 8]

Internet-Draft                SRTP use case                     Mar 2018


   [I-D.ietf-spring-segment-routing-mpls]
              Bashandy, A., Filsfils, C., Previdi, S., Decraene, B.,
              Litkowski, S., and R. Shakir, "Segment Routing with MPLS
              data plane", draft-ietf-spring-segment-routing-mpls-12
              (work in progress), February 2018.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.

   [RFC5654]  Niven-Jenkins, B., Ed., Brungard, D., Ed., Betts, M., Ed.,
              Sprecher, N., and S. Ueno, "Requirements of an MPLS
              Transport Profile", RFC 5654, DOI 10.17487/RFC5654,
              September 2009, <https://www.rfc-editor.org/info/rfc5654>.

   [RFC5921]  Bocci, M., Ed., Bryant, S., Ed., Frost, D., Ed., Levrau,
              L., and L. Berger, "A Framework for MPLS in Transport
              Networks", RFC 5921, DOI 10.17487/RFC5921, July 2010,
              <https://www.rfc-editor.org/info/rfc5921>.

   [RFC8174]  Leiba, B., "Ambiguity of Uppercase vs Lowercase in RFC
              2119 Key Words", BCP 14, RFC 8174, DOI 10.17487/RFC8174,
              May 2017, <https://www.rfc-editor.org/info/rfc8174>.

Authors' Addresses

   Fangwei Hu
   ZTE Corporation
   No.889 Bibo Rd
   Shanghai  201203
   China

   Phone: +86 21 68896273
   Email: hu.fangwei@zte.com.cn


   Quan Xiong
   ZTE Corporation
   No.6 Huashi Park Rd
   Wuhan, Hubei  430223
   China

   Phone: +86 27 83531060
   Email: xiong.quan@zte.com.cn






Fangwei Hu, et al.      Expires September 2, 2018               [Page 9]

Internet-Draft                SRTP use case                     Mar 2018


   Greg Mirsky
   ZTE Corporation
   USA

   Email: gregimirsky@gmail.com














































Fangwei Hu, et al.      Expires September 2, 2018              [Page 10]
