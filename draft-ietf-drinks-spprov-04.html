<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard%20http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>Session Peering Provisioning Protocol </title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";3
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction">
<link href="#rfc.section.2" rel="Chapter" title="2 Terminology">
<link href="#rfc.section.3" rel="Chapter" title="3 Protocol High Level Design">
<link href="#rfc.section.3.1" rel="Chapter" title="3.1 Protocol Layering">
<link href="#rfc.section.3.2" rel="Chapter" title="3.2 Protocol Data Model">
<link href="#rfc.section.4" rel="Chapter" title="4 Transport Protocol Requirements">
<link href="#rfc.section.4.1" rel="Chapter" title="4.1 Connection Oriented">
<link href="#rfc.section.4.2" rel="Chapter" title="4.2 Request and Response Model">
<link href="#rfc.section.4.3" rel="Chapter" title="4.3 Connection Lifetime">
<link href="#rfc.section.4.4" rel="Chapter" title="4.4 Authentication">
<link href="#rfc.section.4.5" rel="Chapter" title="4.5 Confidentiality and Integrity">
<link href="#rfc.section.4.6" rel="Chapter" title="4.6 Near Real Time">
<link href="#rfc.section.4.7" rel="Chapter" title="4.7 Request and Response Sizes">
<link href="#rfc.section.4.8" rel="Chapter" title="4.8 Request and Response Correlation">
<link href="#rfc.section.4.9" rel="Chapter" title="4.9 Request Acknowledgement">
<link href="#rfc.section.4.10" rel="Chapter" title="4.10 Mandatory         Transport">
<link href="#rfc.section.5" rel="Chapter" title="5 Base Protocol Data Structures">
<link href="#rfc.section.5.1" rel="Chapter" title="5.1 Request and Response Structures">
<link href="#rfc.section.5.1.1" rel="Chapter" title="5.1.1 Update Request and Response Structures">
<link href="#rfc.section.5.1.1.1" rel="Chapter" title="5.1.1.1 Update Request">
<link href="#rfc.section.5.1.1.2" rel="Chapter" title="5.1.1.2 Update Response">
<link href="#rfc.section.5.1.2" rel="Chapter" title="5.1.2 Query Request and Response Structures">
<link href="#rfc.section.5.1.2.1" rel="Chapter" title="5.1.2.1 Query Request">
<link href="#rfc.section.5.1.2.2" rel="Chapter" title="5.1.2.2 Query Response">
<link href="#rfc.section.5.2" rel="Chapter" title="5.2 Response Codes and Messages">
<link href="#rfc.section.5.3" rel="Chapter" title="5.3 Basic Object Type and Organization Identifiers">
<link href="#rfc.section.6" rel="Chapter" title="6 Protocol Commands">
<link href="#rfc.section.6.1" rel="Chapter" title="6.1 Add Route Group Operation">
<link href="#rfc.section.6.2" rel="Chapter" title="6.2 Get Route Groups Operation">
<link href="#rfc.section.6.3" rel="Chapter" title="6.3 Add Destination Group Operation">
<link href="#rfc.section.6.4" rel="Chapter" title="6.4 Get Destination Groups Operation">
<link href="#rfc.section.6.5" rel="Chapter" title="6.5 Add Route Group Offer Operation">
<link href="#rfc.section.6.6" rel="Chapter" title="6.6 Accept Route Group Offer Operation">
<link href="#rfc.section.6.7" rel="Chapter" title="6.7 Reject Route Group Offer Operation">
<link href="#rfc.section.6.8" rel="Chapter" title="6.8 Get Route Group Offers Operation">
<link href="#rfc.section.6.9" rel="Chapter" title="6.9 Public Identifier Operations">
<link href="#rfc.section.6.10" rel="Chapter" title="6.10 Egress Route Operations">
<link href="#rfc.section.6.11" rel="Chapter" title="6.11 Add Route Record Operation">
<link href="#rfc.section.6.12" rel="Chapter" title="6.12 Get Route Records Operation">
<link href="#rfc.section.6.13" rel="Chapter" title="6.13 Delete Operation">
<link href="#rfc.section.7" rel="Chapter" title="7 SPPP Examples">
<link href="#rfc.section.7.1" rel="Chapter" title="7.1 Add Destination Group">
<link href="#rfc.section.7.2" rel="Chapter" title="7.2 Add Route Records">
<link href="#rfc.section.7.3" rel="Chapter" title="7.3 Add Route Records -- URIType">
<link href="#rfc.section.7.4" rel="Chapter" title="7.4 Add Route Group">
<link href="#rfc.section.7.5" rel="Chapter" title="7.5 Add Public Identity -- Successful COR claim">
<link href="#rfc.section.7.6" rel="Chapter" title="7.6 Add LRN">
<link href="#rfc.section.7.7" rel="Chapter" title="7.7 Add TN Range">
<link href="#rfc.section.7.8" rel="Chapter" title="7.8 Add TN Range with Open Number Plan support">
<link href="#rfc.section.7.9" rel="Chapter" title="7.9 Add TN Prefix">
<link href="#rfc.section.7.10" rel="Chapter" title="7.10 Enable Peering -- Route Group Offer">
<link href="#rfc.section.7.11" rel="Chapter" title="7.11 Enable Peering -- Route Group Offer Accept">
<link href="#rfc.section.7.12" rel="Chapter" title="7.12 Add Egress Route">
<link href="#rfc.section.7.13" rel="Chapter" title="7.13 Get Destination Group">
<link href="#rfc.section.7.14" rel="Chapter" title="7.14 Get Public Identity">
<link href="#rfc.section.7.15" rel="Chapter" title="7.15 Get Route Group Request">
<link href="#rfc.section.7.16" rel="Chapter" title="7.16 Get Route Group Offers Request">
<link href="#rfc.section.7.17" rel="Chapter" title="7.17 Get Egress Route">
<link href="#rfc.section.7.18" rel="Chapter" title="7.18 Delete Destination Group">
<link href="#rfc.section.7.19" rel="Chapter" title="7.19 Delete Public Identity">
<link href="#rfc.section.7.20" rel="Chapter" title="7.20 Delete Route Group Request">
<link href="#rfc.section.7.21" rel="Chapter" title="7.21 Delete Route Group Offers Request">
<link href="#rfc.section.7.22" rel="Chapter" title="7.22 Delete Egress Route">
<link href="#rfc.section.8" rel="Chapter" title="8 XML Considerations">
<link href="#rfc.section.8.1" rel="Chapter" title="8.1 Namespaces">
<link href="#rfc.section.8.2" rel="Chapter" title="8.2 Versioning and Character Encoding">
<link href="#rfc.section.9" rel="Chapter" title="9 Security Considerations">
<link href="#rfc.section.10" rel="Chapter" title="10 IANA Considerations">
<link href="#rfc.section.11" rel="Chapter" title="11 Formal Specification">
<link href="#rfc.section.12" rel="Chapter" title="12 Acknowledgments">
<link href="#rfc.references" rel="Chapter" title="13 References">
<link href="#rfc.references.1" rel="Chapter" title="13.1 Normative References">
<link href="#rfc.references.2" rel="Chapter" title="13.2 Informative References">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content=
  "http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.539, 2011-01-02 17:13:00, XSLT vendor: SAXON 6.5.5 from Michael Kay http://saxon.sf.net/" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />
  <meta name="dct.creator" content="Doe, J." />
  <meta name="dct.identifier" content="urn:ietf:id:draft-sample-input-00" />
  <meta name="dct.issued" scheme="ISO8601" content="2010-12" />
  
  <meta name="dct.abstract" content="This document defines a protocol for provisioning session establishment data into Session Data Registries and SIP Service Provider data stores. The provisioned data is typically used by various network elements for session peering. " />
  <meta name="description" content="This document defines a protocol for provisioning session establishment data into Session Data Registries and SIP Service Provider data stores. The provisioned data is typically used by various network elements for session peering. " />
  <meta name="keywords" content="" />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">DRINKS</td>
<td class="right">J-F.M. Mule</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right">CableLabs</td>
</tr>
<tr>
<td class="left">Intended status: Standards Track</td>
<td class="right">K.C. Cartwright</td>
</tr>
<tr>
<td class="left">Expires: August 22, 2011</td>
<td class="right">TNS</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">S.A. Ali</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">NeuStar</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">A.M. Mayrhofer</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">enum.at GmbH</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">February 18, 2011</td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">Session Peering Provisioning Protocol <br />
  <span class="filename">draft-ietf-drinks-spprov-04</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>This document defines a protocol for provisioning session establishment data into Session Data Registries and SIP Service Provider data stores. The provisioned data is typically used by various network elements for session peering. </p>
<p>This document describes the Session Peering Provisioning Protocol used by clients to provision registries. The document provides a set of guiding principles for the design of this protocol including extensibility and independent transport definitions, a basic data model and an XML Schema Document.  </p>
<h1 id="rfc.status"><a href="#rfc.status">Status of this Memo</a></h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet- Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on August 22, 2011.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2011 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a>
</li>
<li>2.   <a href="#rfc.section.2">Terminology</a>
</li>
<li>3.   <a href="#rfc.section.3">Protocol High Level Design</a>
</li>
<li>3.1.   <a href="#rfc.section.3.1">Protocol Layering</a>
</li>
<li>3.2.   <a href="#rfc.section.3.2">Protocol Data Model</a>
</li>
<li>4.   <a href="#rfc.section.4">Transport Protocol Requirements</a>
</li>
<li>4.1.   <a href="#rfc.section.4.1">Connection Oriented</a>
</li>
<li>4.2.   <a href="#rfc.section.4.2">Request and Response Model</a>
</li>
<li>4.3.   <a href="#rfc.section.4.3">Connection Lifetime</a>
</li>
<li>4.4.   <a href="#rfc.section.4.4">Authentication</a>
</li>
<li>4.5.   <a href="#rfc.section.4.5">Confidentiality and Integrity</a>
</li>
<li>4.6.   <a href="#rfc.section.4.6">Near Real Time</a>
</li>
<li>4.7.   <a href="#rfc.section.4.7">Request and Response Sizes</a>
</li>
<li>4.8.   <a href="#rfc.section.4.8">Request and Response Correlation</a>
</li>
<li>4.9.   <a href="#rfc.section.4.9">Request Acknowledgement</a>
</li>
<li>4.10.   <a href="#rfc.section.4.10">Mandatory         Transport</a>
</li>
<li>5.   <a href="#rfc.section.5">Base Protocol Data Structures</a>
</li>
<li>5.1.   <a href="#rfc.section.5.1">Request and Response Structures</a>
</li>
<li>5.1.1.   <a href="#rfc.section.5.1.1">Update Request and Response Structures</a>
</li>
<li>5.1.1.1.   <a href="#rfc.section.5.1.1.1">Update Request</a>
</li>
<li>5.1.1.2.   <a href="#rfc.section.5.1.1.2">Update Response</a>
</li>
<li>5.1.2.   <a href="#rfc.section.5.1.2">Query Request and Response Structures</a>
</li>
<li>5.1.2.1.   <a href="#rfc.section.5.1.2.1">Query Request</a>
</li>
<li>5.1.2.2.   <a href="#rfc.section.5.1.2.2">Query Response</a>
</li>
<li>5.2.   <a href="#rfc.section.5.2">Response Codes and Messages</a>
</li>
<li>5.3.   <a href="#rfc.section.5.3">Basic Object Type and Organization Identifiers</a>
</li>
<li>6.   <a href="#rfc.section.6">Protocol Commands</a>
</li>
<li>6.1.   <a href="#rfc.section.6.1">Add Route Group Operation</a>
</li>
<li>6.2.   <a href="#rfc.section.6.2">Get Route Groups Operation</a>
</li>
<li>6.3.   <a href="#rfc.section.6.3">Add Destination Group Operation</a>
</li>
<li>6.4.   <a href="#rfc.section.6.4">Get Destination Groups Operation</a>
</li>
<li>6.5.   <a href="#rfc.section.6.5">Add Route Group Offer Operation</a>
</li>
<li>6.6.   <a href="#rfc.section.6.6">Accept Route Group Offer Operation</a>
</li>
<li>6.7.   <a href="#rfc.section.6.7">Reject Route Group Offer Operation</a>
</li>
<li>6.8.   <a href="#rfc.section.6.8">Get Route Group Offers Operation</a>
</li>
<li>6.9.   <a href="#rfc.section.6.9">Public Identifier Operations</a>
</li>
<li>6.10.   <a href="#rfc.section.6.10">Egress Route Operations</a>
</li>
<li>6.11.   <a href="#rfc.section.6.11">Add Route Record Operation</a>
</li>
<li>6.12.   <a href="#rfc.section.6.12">Get Route Records Operation</a>
</li>
<li>6.13.   <a href="#rfc.section.6.13">Delete Operation</a>
</li>
<li>7.   <a href="#rfc.section.7">SPPP Examples</a>
</li>
<li>7.1.   <a href="#rfc.section.7.1">Add Destination Group</a>
</li>
<li>7.2.   <a href="#rfc.section.7.2">Add Route Records</a>
</li>
<li>7.3.   <a href="#rfc.section.7.3">Add Route Records -- URIType</a>
</li>
<li>7.4.   <a href="#rfc.section.7.4">Add Route Group</a>
</li>
<li>7.5.   <a href="#rfc.section.7.5">Add Public Identity -- Successful COR claim</a>
</li>
<li>7.6.   <a href="#rfc.section.7.6">Add LRN</a>
</li>
<li>7.7.   <a href="#rfc.section.7.7">Add TN Range</a>
</li>
<li>7.8.   <a href="#rfc.section.7.8">Add TN Range with Open Number Plan support</a>
</li>
<li>7.9.   <a href="#rfc.section.7.9">Add TN Prefix</a>
</li>
<li>7.10.   <a href="#rfc.section.7.10">Enable Peering -- Route Group Offer</a>
</li>
<li>7.11.   <a href="#rfc.section.7.11">Enable Peering -- Route Group Offer Accept</a>
</li>
<li>7.12.   <a href="#rfc.section.7.12">Add Egress Route</a>
</li>
<li>7.13.   <a href="#rfc.section.7.13">Get Destination Group</a>
</li>
<li>7.14.   <a href="#rfc.section.7.14">Get Public Identity</a>
</li>
<li>7.15.   <a href="#rfc.section.7.15">Get Route Group Request</a>
</li>
<li>7.16.   <a href="#rfc.section.7.16">Get Route Group Offers Request</a>
</li>
<li>7.17.   <a href="#rfc.section.7.17">Get Egress Route</a>
</li>
<li>7.18.   <a href="#rfc.section.7.18">Delete Destination Group</a>
</li>
<li>7.19.   <a href="#rfc.section.7.19">Delete Public Identity</a>
</li>
<li>7.20.   <a href="#rfc.section.7.20">Delete Route Group Request</a>
</li>
<li>7.21.   <a href="#rfc.section.7.21">Delete Route Group Offers Request</a>
</li>
<li>7.22.   <a href="#rfc.section.7.22">Delete Egress Route</a>
</li>
<li>8.   <a href="#rfc.section.8">XML Considerations</a>
</li>
<li>8.1.   <a href="#rfc.section.8.1">Namespaces</a>
</li>
<li>8.2.   <a href="#rfc.section.8.2">Versioning and Character Encoding</a>
</li>
<li>9.   <a href="#rfc.section.9">Security Considerations</a>
</li>
<li>10.   <a href="#rfc.section.10">IANA Considerations</a>
</li>
<li>11.   <a href="#rfc.section.11">Formal Specification</a>
</li>
<li>12.   <a href="#rfc.section.12">Acknowledgments</a>
</li>
<li>13.   <a href="#rfc.references">References</a>
</li>
<li>13.1.   <a href="#rfc.references.1">Normative References</a>
</li>
<li>13.2.   <a href="#rfc.references.2">Informative References</a>
</li>
<li><a href="#rfc.authors">Authors' Addresses</a>
</li>


  </ul>

  <h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> <a href="#introduction" id="introduction">Introduction</a>
</h1>
<p id="rfc.section.1.p.1">Service providers and enterprises use registries to make call or session routing decisions for Voice over IP, SMS and MMS traffic exchanges. This document is narrowly focused on the provisioning protocol for these registries. This protocol prescribes a way for an entity to provision session-related data into a registry. The data being provisioned can be optionally shared with other participating peering entities.  The requirements and use cases driving this protocol have been documented in <a href="#I-D.ietf-drinks-usecases-requirements">[I-D.ietf-drinks-usecases-requirements]</a>. The reader is expected to be familiar with the terminology defined in the previously mentioned document. <br><br> Three types of provisioning flows have been described in the use case document: client to registry provisioning, registry to local data repository and registry-to-registry. This document addresses a subset (client-to-registry provisioning) by defining a Session Peering Provisioning Protocol (SPPP) for provisioning Session Establishment Data (SED) into a Registry (arrow "1" in the figure below). While the other "provisioning flows" are shown below as separate message flows, no determination has been made for whether one common baseline protocol could be used for all three, or whether distinct protocols are required. </p>
<div id="#rfc.figure.1"></div>
<div id="#RegFlows"></div>
<pre>
            
                         *------------*               *------------*
(1). Provisioning SED    |            | (3).Registry  |            |
-----------------------&gt; |  Registry  |&lt;-------------&gt;|  Registry  | 
     data into Registries|            |  to Registry  |            |
                         *------------*  exchanges    *------------*
                              /  \                          \
                             /    \                          \
                            /      \                          \
                           /        \                          v
                          /          \                         ...
                         /            \
                        / (2).         \
                       / Distributing   \
                      /      SED         \
                     V                    V
                    +----------+       +----------+
                    |Local Data|       |Local Data|
                    |Repository|       |Repository|
                    +----------+       +----------+
                       
          </pre>
<p></p>

<p>Three Registry Provisioning Flows </p>
<p id="rfc.section.1.p.3">The data provisioned for session establishment is typically used by various downstream SIP signaling systems to route a call to the next hop associated with the called domain. These systems typically use a local data store ("Local Data Repository") as their source of session routing information.  More specifically, the SED data is the set of parameters that the outgoing signaling path border elements (SBEs) need to initiate the session. See <a href="#RFC5486">[RFC5486]</a> for more details. <br><br> A "terminating" SIP Service Provider (SSP) provisions SED into the registry to be selectively shared with other peer SSPs. Subsequently, a Registry may distribute the provisioned data into local Data Repositories used for look-up queries (identifier -&gt; URI) or for lookup and location resolution (identifier -&gt; URI -&gt; ingress SBE of terminating SSP). In some cases, the Registry may additionally offer a central query resolution service (not shown in the above figure). </p>
<p id="rfc.section.1.p.4">A key requirement for the SPPP protocol is to be able to accommodate two basic deployment scenarios: </p>

<ol>
<li>A Local Data Repository serves a Look-Up Function (LUF) to determine the target domain to assist in call routing (as described in <a href="#RFC5486">[RFC5486]</a>). In this case, the querying entity may use other means to perform the Location Routing Function (LRF) which in turn helps determine the actual location of the Signaling Function in that domain. </li>
<li>A Local Data Repository serves both a Look-Up function (LUF) and Location Routing Function (LRF) to locate the SED data fully. </li>
</ol>

<p> </p>
<p id="rfc.section.1.p.5">In terms of protocol design, SPPP protocol is agnostic to the transport. This document includes the description of the data model and the means to enable protocol operations within a request and response structure. To encourage interoperability, the protocol supports extensibility aspects. </p>
<p id="rfc.section.1.p.6">Transport requirements are provided in this document to help with the selection of the optimum transport mechanism. (<a href="#I-D.ietf-drinks-sppp-over-soap">[I-D.ietf-drinks-sppp-over-soap]</a>) identifies a SOAP transport mechanism for SPPP. </p>
<p id="rfc.section.1.p.7">This document is organized as follows: </p>

<ul>
<li>
<a href="#terminology">Section 2</a> provides the terminology; </li>
<li>
<a href="#highleveldesign">Section 3</a> provides an overview of the SPPP protocol, including the layering approach, functional entities and data model; </li>
<li>
<a href="#transportreq">Section 4</a> specifies requirements for SPPP transport protocols; </li>
<li>
<a href="#basicdatastructures">Section 5</a> describes the base protocol data structures including the request and response elements (<a href="#requestandresponse">Section 5.1</a>), the response codes and messages (<a href="#resultcodes">Section 5.2</a>) and the basic object type most first class objects extend from;</li>
<li>
<a href="#protocolcommands">Section 6</a> and <a href="#examples">Section 7</a> describe the main protocol commands and examples; </li>
<li>
<a href="#xmlconsiderations">Section 8</a> defines XML considerations that XML parsers must meet to conform to this specification; </li>
<li>
<a href="#formalspecification">Section 11</a> normatively defines the SPPP protocol using its XML Schema Definition.  </li>
</ul>

<p> </p>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> <a href="#terminology" id="terminology">Terminology</a>
</h1>
<p id="rfc.section.2.p.1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a href="#RFC2119">[RFC2119]</a>. </p>
<p id="rfc.section.2.p.2">This document reuses terms from <a href="#RFC3261">[RFC3261]</a>, <a href="#RFC5486">[RFC5486]</a>, use cases and requirements documented in <a href="#I-D.ietf-drinks-usecases-requirements">[I-D.ietf-drinks-usecases-requirements]</a> and the ENUM Validation Architecture <a href="#RFC4725">[RFC4725]</a>. </p>
<p id="rfc.section.2.p.3">In addition, this document specifies the following additional terms: <br><br> </p>

<dl>
<dt>SPPP: </dt>
<dd style="margin-left: 8">Session Peering Provisioning Protocol, the protocol used to provision data into a Registry (see arrow labeled "1." in Figure 1 of <a href="#I-D.ietf-drinks-usecases-requirements">[I-D.ietf-drinks-usecases-requirements]</a>). It is the primary scope of this document. <br><br> </dd>
<dt>SPDP: </dt>
<dd style="margin-left: 8">Session Peering Distribution Protocol, the protocol used to distribute data to Local Data Repository (see arrow labeled "2." in Figure 1 of <a href="#I-D.ietf-drinks-usecases-requirements">[I-D.ietf-drinks-usecases-requirements]</a>).  <br><br> </dd>
<dt>Client: </dt>
<dd style="margin-left: 8">An application that supports an SPPP Client; it is sometimes referred to as a "Registry Client". <br><br> </dd>
<dt>Registry: </dt>
<dd style="margin-left: 8">The Registry operates a master database of Session Establishment Data for one or more Registrants. <br><br> A Registry acts as an SPPP Server. <br><br> </dd>
<dt>Registrant: </dt>
<dd style="margin-left: 8">In this document, we extend the definition of a Registrant based on <a href="#RFC4725">[RFC4725]</a>. The Registrant is the end-user, the person or organization who is the "holder" of the Session Establishment Data being provisioned into the Registry.  For example, in <a href="#I-D.ietf-drinks-usecases-requirements">[I-D.ietf-drinks-usecases-requirements]</a>, a Registrant is pictured as a SIP Service Provider in Figure 2. <br><br> A Registrant is identified by its name and an identifier in the data model. <br><br> </dd>
<dt>Registrar: </dt>
<dd style="margin-left: 8">In this document, we also extend the definition of a Registrar from <a href="#RFC4725">[RFC4725]</a>. A Registrar performs provisioning operations on behalf of a Registrant by interacting with the Registry, in our case via the SPPP protocol defined in this document.  <br><br> A Registrar is identified by its name and an identifier in the data model. </dd>
</dl>

<p> </p>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> <a href="#highleveldesign" id="highleveldesign">Protocol High Level Design</a>
</h1>
<p id="rfc.section.3.p.1">This section introduces the structure of the data model and provides the information framework for the SPPP protocol. An overview of the protocol operations is first provided with a typical deployment scenario. The data model is then defined along with all the objects manipulated by the protocol and their relationships. </p>
<h1 id="rfc.section.3.1">
<a href="#rfc.section.3.1">3.1.</a> <a href="#layering" id="layering">Protocol Layering</a>
</h1>
<p id="rfc.section.3.1.p.1">SPPP is a simple request/reply protocol that allows a client application to submit provisioning data and query requests to a server. The SPPP data structures are designed to be protocol agnostic. Concerns regarding encryption, non-repudiation, and authentication are beyond the scope of this document. For more details, please refer to the Transport Protocol Requirements section. </p>
<div id="#rfc.figure.2"></div>
<div id="#SPPP_layering"></div>
<pre>
            
          Layer                      Example
     +-------------+      +-----------------------------+
 (5) |Data Objects |      |      RteGrpType, etc.       |
     +-------------+      +-----------------------------+
           |                           |
     +-------------+      +-----------------------------+
 (4) | Operations  |      |   AddRteGrpRqstType, etc.   |
     +-------------+      +-----------------------------+
           |                           |
     +-------------+      +-----------------------------+
 (3) |   Message   |      |    spppUpdateRequest,       |
     |             |      |    spppUpdateResponse,      |
     |             |      |    spppQueryRequest,        |
     |             |      |    spppQueryResponse        |
     +-------------+      +-----------------------------+
           |                           |
     +-------------+      +-----------------------------+
 (2) |   Message   |      |   HTTP, SOAP, None, etc.    |
     |   Envelope  |      |                             |
     +-------------+      +-----------------------------+
           |                           |
     +-------------+      +-----------------------------+
 (1) |  Transport  |      |    TCP, TLS, BEEP, etc.     |
     |   Protocol  |      |                             |
     +-------------+      +-----------------------------+
                       
          </pre>
<p>SPPP Layering </p>
<p id="rfc.section.3.1.p.2">SPPP can be viewed as a set of layers that collectively define the structure of an SPPP request and response. Layers 1 and 2, as detailed below, are left to separate specifications to allow for potentially multiple SPPP transport, envelope, and authentication technologies. This document defines layers 3, 4, and 5 below. </p>
<p></p>

<ol>
<li>The transport protocol layer provides a communication mechanism between the client and server. SPPP can be layered over any transport protocol that provides a set of basic requirements defined in the Transport Protocol Requirements section. </li>
<li>The message envelope layer is optional, but can provide features that are above the transport technology layer but below the application messaging layer.  Technologies such as HTTP and SOAP are examples of messaging envelope technologies. </li>
<li>The message layer provides a simple, envelope-independent and transport-independent, SPPP wrapper for SPPP request and response messages. </li>
<li>The operation layer defines the set of base SPPP actions that can be invoked for a given object data type using an SPPP message.  Operations are encoded using XML encoded actions and objects. </li>
<li>The data object layer defines the base set of SPPP data objects that can be included in update operations or returned in operation responses. </li>
</ol>

<p> </p>
<h1 id="rfc.section.3.2">
<a href="#rfc.section.3.2">3.2.</a> <a href="#datamodel" id="datamodel">Protocol Data Model</a>
</h1>
<p id="rfc.section.3.2.p.1">The data model illustrated and described in <a href="#SPPP_datamodel">Figure 3</a> defines the logical objects and the relationships between these objects that the SPPP protocol supports. SPPP defines the protocol operations through which an SPPP Client populates a Registry with these logical objects. Various clients belonging to different Registrars may use the protocol for populating the Registry's data. </p>
<p id="rfc.section.3.2.p.2">The logical structure presented below is consistent with the terminology and requirements defined in <a href="#I-D.ietf-drinks-usecases-requirements">[I-D.ietf-drinks-usecases-requirements]</a>. </p>
<div id="#rfc.figure.3"></div>
<div id="#SPPP_datamodel"></div>
<p></p>
<pre>
+-------------+      +------------------+                         
| all object  |      |Organization:     |                        
| types       |      |orgId,            |                       
+------+------+      |orgName,          |                       
       +------------&gt;|extension         |                           
                     |                  |                       
 All objects are     |                  |                       
 associated with 2   |                  |                       
 Organizations to    +------------------+                       
 identify the            ^                                      
 registrant and          |A Route Group is                      
 the registrar           |associated with                       
                         |zero or more Peering          
                         |Organizations         
                         |                      
                +--------+--------------+
                |Route Group:           |        +-----[abstract]-+
                |  rant,              |        | Route Record:  |
                |  rar,               |        |                |
                |  rgName,          |        |  rrName,       |
                |  destGrpRef,          +-------&gt;|  priority,     |
                |  isInSvc,             |        |  extension     |
                |  rrRef,           |        |                |
                |  peeringOrg,          |        +----------------+
                |  sourceIdent,         |            ^
                |  priority,            |            |
                |  extension            |            |Various types
                +-----------------------+            |of Route
                      ^                              |Records...
                      |                       +------+------------...
                      |                       |        |         |
                      |                     +----+  +-------+ +----+    
                      |                     | URI|  | NAPTR | | NS | 
     +----------------+-----+               +----+  +-------+ +----+
     |Destination           |                
     |Group:                |     +----------[abstract]-+          
     |  rant,             |     |Public Identifier:   |
     |  rar,              |     |                     |
     |  dgName,             |     |  rant,            |
     |  extension           |&lt;----+  rar,             |
     +----------------------+     |  publicIdentifier,  |
                                  |  destGrpRef,        |
                                  |  rrRef,            |
                                  |  extension          |
                                  +---------------------+
                                             ^             
                                             |Various types
                                             |of Public     
                                             |Identifiers...   
                          +---------+-------+------------...
                          |         |       |     |
                      +------+  +-----+  +-----+ +-----+
                      |  TN  |  | TNP |  | TNR | | RN  |
                      +------+  +-----+  +-----+ +-----+
</pre>
<p>SPPP Data Model </p>
<p id="rfc.section.3.2.p.3">The objects and attributes that comprise the data model can be described as follows (objects listed from the bottom up): </p>

<ul>
<li>Public Identifier: <br> From a broad perspective a public identifier is a well known attribute that is used as the key to perform resolution lookups. Within the context of SPPP, a Public Identifier object can be a telephone number, a range of telephone numbers, a PSTN Routing Number (RN), or a prefix. <br><br> An SPPP Public Identifier is associated with a Destination Group to create a logical grouping of Public Identifiers that share a common set of Routes. <br><br> A TN Public Identifier may optionally be associated with zero or more individual Route Records. This ability for a Public Identifier to be directly associated with a set of Route Records (e.g. target URI), as opposed to being associated with a Destination Group, supports the use cases where the target URI contains data specifically tailored to an individual TN Public Identifier. </li>
<li>Destination Group: <br> A named collection of zero or more Public Identifiers that can be associated with one or more Route Groups for the purpose of facilitating the management of their common routing information. </li>
<li>Route Group: <br> A Route Group contains a set of references to Route Records, a set of Destination Group references, and a set of peering organization identifiers.  This is used to establish a three part relationships between a set of Public Identifiers and their common routing information (SED), and the list of peering organizations whose query responses may include that routing information in their query responses.  To support the use cases defined in [I-D.ietf-drinks-usecases-requirements], this document defines the following types of Route Records: NAPTRType, NSType, and URIType.  The sourceIdent element within a Route Group, in concert with the set of peering organization identifiers enables fine grained source based routing.  Further details about the Route Group and source based routing refer to the definitions and descriptions of the Route Group operations found later in this document. </li>
<li>Route Record: <br> A Route Record contains the data that a resolution system returns in response to a successful query for a Public Identifier.  Route Recoords are associated with a Route Group for SED that is not specific to a Public Identifier.  <br> To support the use cases defined in <a href="#I-D.ietf-drinks-usecases-requirements">[I-D.ietf-drinks-usecases-requirements]</a>, SPPP protocol defines three type of Route Records: URIType, NAPTRType, and NSType. These Route Records extend the abstract type RteRecType and inherit the common attribute 'priority' that is meant for setting precedence across the route records defined within a Route Group in a protocol agnostic fashion. </li>
<li>Organization: <br> An Organization is an entity that may fulfill any combination of three roles:  Registrant, Registrar, and Peering Organization.  All SPPP objects are associated with two organization identifiers to identify each object's registrant and the registrar. A Route Group object is also associated with a set of zero or more organization identifiers that identify the peering organizations whose query responses may include the routing information (SED) defined in the Route Records within that Route Group. </li>
</ul>

<p> </p>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> <a href="#transportreq" id="transportreq">Transport Protocol Requirements</a>
</h1>
<p id="rfc.section.4.p.1">This section provides requirements for transport protocols suitable for SPPP. More specifically, this section specifies the services, features, and assumptions that SPPP delegates to the chosen transport and envelope technologies. </p>
<p id="rfc.section.4.p.2">Two different groups of use cases are specified in <a href="#I-D.ietf-drinks-usecases-requirements">[I-D.ietf-drinks-usecases-requirements]</a>. One group of use cases describes the provisioning of data by a client into a Registry (Section 3.1 of the above referenced document), while the other group describes the distribution of data into local data repositories (Section 3.2). The current version of this document focuses on the first set of use cases (client to registry provisioning). <br><br> These use cases may involve the provisioning of very small data sets like the modification or update of a single public identifier. Other provisioning operations may deal with huge datasets like the "download" of a whole local number portability database to a Registry. <br><br> As a result, a transport protocol for SPPP must be very flexible and accommodate various sizes of data set sizes. </p>
<p id="rfc.section.4.p.3">For the reasons outlined above, it is conceivable that provisioning and distributing may use different transport protocols. This document focuses on the provisioning protocol. </p>
<h1 id="rfc.section.4.1">
<a href="#rfc.section.4.1">4.1.</a> <a href="#transpconnreq" id="transpconnreq">Connection Oriented</a>
</h1>
<p id="rfc.section.4.1.p.1">The SPPP protocol follows a model where a Client establishes a connection to a Server in order to further exchange provisioning transactions over such point-to-point connection. A transport protocol for SPPP MUST therefore be connection oriented. </p>
<p id="rfc.section.4.1.p.2">Note that the role of the "Client" and the "Server" only applies to the connection, and those roles are not related in any way to the type of entity that participates in a protocol exchange. For example, a Registry might also include a "Client" when such a Registry initiates a connection (for example, for data distribution to SSP). </p>
<h1 id="rfc.section.4.2">
<a href="#rfc.section.4.2">4.2.</a> <a href="#requestresponse" id="requestresponse">Request and Response Model</a>
</h1>
<p id="rfc.section.4.2.p.1">Provisioning operations in SPPP follow the request - response model, where a transaction is initiated by a Client using a Request command, and the Server responds to the Client by means of a Response. <br><br> Multiple subsequent request-response exchanges MAY be performed over a single connection. </p>
<p id="rfc.section.4.2.p.2">Therefore, a transport protocol for SPPP MUST follow the request-response model by allowing a response to be sent to the request initiator.</p>
<h1 id="rfc.section.4.3">
<a href="#rfc.section.4.3">4.3.</a> <a href="#connectionlength" id="connectionlength">Connection Lifetime</a>
</h1>
<p id="rfc.section.4.3.p.1">Some use cases involve provisioning a single request to a network element - connections supporting such provisioning requests might be short-lived, and only established on demand. </p>
<p id="rfc.section.4.3.p.2">Other use cases involve either provisioning a huge set of data, or a constant stream of small updates, which would require long-lived connections. </p>
<p id="rfc.section.4.3.p.3">Therefore, a protocol suitable for SPPP SHOULD support short lived as well as long lived connections. </p>
<h1 id="rfc.section.4.4">
<a href="#rfc.section.4.4">4.4.</a> <a href="#authentication" id="authentication">Authentication</a>
</h1>
<p id="rfc.section.4.4.p.1">Many use cases require the Server to authenticate the Client, and potentially also the Client to authenticate the Server. While authentication of the Server by the Client is expected to be used only to prevent impersonation of the Server, authentication of the Client by the Server is expected to be used to identify and further authorize the Client to certain resources on the Server. </p>
<p id="rfc.section.4.4.p.2">Therefore, an SPPP transport protocol MUST provide means for a Server to authenticate and authorize a Client, and MAY provide means for Clients to authenticate a Server. </p>
<h1 id="rfc.section.4.5">
<a href="#rfc.section.4.5">4.5.</a> <a href="#confidentiality" id="confidentiality">Confidentiality and Integrity</a>
</h1>
<p id="rfc.section.4.5.p.1">Data that is transported over the protocol is deemed confidential. Therefore, a transport protocol suitable for SPPP MUST ensure confidentiality and integrity protection by providing encryption capabilities. </p>
<p id="rfc.section.4.5.p.2">Additionally, a DRINKS protocol MUST NOT use an unreliable lower-layer transport protocol that does not provide confidentiality and integrity protection. </p>
<h1 id="rfc.section.4.6">
<a href="#rfc.section.4.6">4.6.</a> <a href="#timing" id="timing">Near Real Time</a>
</h1>
<p id="rfc.section.4.6.p.1">Many use cases require near real-time responses from the Server. Therefore, a DRINKS transport protocol MUST support near-real-time response to requests submitted by the Client.  </p>
<h1 id="rfc.section.4.7">
<a href="#rfc.section.4.7">4.7.</a> <a href="#respsizes" id="respsizes">Request and Response Sizes</a>
</h1>
<p id="rfc.section.4.7.p.1">SPPP covers a range of use cases - from cases where provisioning a single public identifier will create very small request and response sizes to cases where millions of data records are submitted or retrieved in one transaction.  Therefore, a transport protocol suitable for SPPP MUST support a great variety of request and response sizes. </p>
<p id="rfc.section.4.7.p.2">A transport protocol MAY allow splitting large chunks of data into several smaller chunks. </p>
<h1 id="rfc.section.4.8">
<a href="#rfc.section.4.8">4.8.</a> <a href="#reqorder" id="reqorder">Request and Response Correlation</a>
</h1>
<p id="rfc.section.4.8.p.1">A transport protocol suitable for SPPP MUST allow responses to be correlated with requests. </p>
<h1 id="rfc.section.4.9">
<a href="#rfc.section.4.9">4.9.</a> <a href="#ack" id="ack">Request Acknowledgement</a>
</h1>
<p id="rfc.section.4.9.p.1">Data transported in the SPPP protocol is likely crucial for the operation of the communication network that is being provisioned. <br><br> Failed transactions can lead to situations where a subset of public identifiers (or even SSPs) might not be reachable, or situations where the provisioning state of the network is inconsistent. </p>
<p id="rfc.section.4.9.p.2">Therefore, a transport protocol for SPPP MUST provide a Response for each Request, so that a Client can identify whether a Request succeeded or failed. </p>
<h1 id="rfc.section.4.10">
<a href="#rfc.section.4.10">4.10.</a> <a href="#mandatorytransport" id="mandatorytransport">Mandatory         Transport</a>
</h1>
<p id="rfc.section.4.10.p.1">As of this writing of this revision, one transport protocol proposal has been provided in <a href="#I-D.ietf-drinks-sppp-over-soap">[I-D.ietf-drinks-sppp-over-soap]</a>. <br><br> This section will define a mandatory transport protocol to be compliant with this RFC. </p>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> <a href="#basicdatastructures" id="basicdatastructures">Base Protocol Data Structures</a>
</h1>
<p id="rfc.section.5.p.1">SPPP uses a common model and a common set of data structures for most of the supported operations and object types.  This section describes these common data structures.</p>
<h1 id="rfc.section.5.1">
<a href="#rfc.section.5.1">5.1.</a> <a href="#requestandresponse" id="requestandresponse">Request and Response Structures</a>
</h1>
<p id="rfc.section.5.1.p.1">An SPPP client interacts with an SPPP server by using one of the supported transport mechanisms to send one or more requests to the server and receive corresponding replies from the server.  There are two generalized types of operations that an SPPP client can submit to an SPPP server, updates and queries.  The following two sub-sections describe the generalized data structures that are used for each of these two types of operations. </p>
<h1 id="rfc.section.5.1.1">
<a href="#rfc.section.5.1.1">5.1.1.</a> <a href="#updates" id="updates">Update Request and Response Structures</a>
</h1>
<p id="rfc.section.5.1.1.p.1">An SPPP update request is wrapped within the &lt;spppUpdateRequest&gt;  element while an SPPP update response is wrapped within an &lt;spppUpdateResponse&gt; element.  The following two sub-sections describe these two elements.</p>
<h1 id="rfc.section.5.1.1.1">
<a href="#rfc.section.5.1.1.1">5.1.1.1.</a> <a href="#updaterequest" id="updaterequest">Update Request</a>
</h1>
<p id="rfc.section.5.1.1.1.p.1">An SPPP update request object is contained within the generic &lt;spppUpdateRequest&gt; element. </p>
<div id="#rfc.figure.4"></div>
<pre>
                
                
  &lt;element name="spppUpdateRequest"&gt;
    &lt;complexType&gt;
      &lt;sequence&gt;
        &lt;element name="clientTransId" type="spppb:TransIdType" 
                 minOccurs="0"/&gt;
        &lt;element name="minorVer" type="spppb:MinorVerType" 
                 minOccurs="0"/&gt;
        &lt;element name="rqst" type="spppb:BasicRqstType" 
                 maxOccurs="unbounded"/&gt;
      &lt;/sequence&gt;
    &lt;/complexType&gt;
  &lt;/element&gt;
  
  &lt;simpleType name="TransIdType"&gt;
    &lt;restriction base="string"/&gt;
  &lt;/simpleType&gt;
  
  &lt;simpleType name="MinorVerType"&gt;
    &lt;restriction base="unsignedLong"/&gt;
  &lt;/simpleType&gt;

                 
              </pre>
<p></p>
<p id="rfc.section.5.1.1.1.p.3">The data elements within the &lt;spppUpdateRequest&gt; element are described as follows: </p>

<ul>
<li>clientTransId: Zero or one client generated transaction ID that, within the context of the SPPP client, identifies this request. This value can be used at the discretion of the SPPP client to track, log or correlate requests and their responses. This value is also echoed back to the client in the SPPP update response.  An SPPP server will not check this value for uniqueness. </li>
<li>minorVer: Zero or one minor version identifier, indicating the minor version of the SPPP API that the client is attempting to use. This is used in conjunction with the major version identifier in the XML namespace to identify the version of SPPP that the client is using.  If the element is not present, the server assumes that the client is using the latest minor version supported by the SPPP server for the given major version. The versions supported by a given SPPP server can be retrieved by the client using the SPPP server menu operation described later in the document.</li>
<li>rqst: One or more BasicRqstType objects.  These are the actions that the client is requesting the SPPP server perform.  They are processed by the SPPP server in the order in which they are included in the request.  And with respect to handling error conditions, it is a matter of policy whether the objects are processed in a "stop and rollback" fashion or in a "stop and commit" fashion.  In the "stop and rollback" scenario, the SPPP server would stop processing BasicRqstType object instances in the request at the first error and roll back any BasicRqstType object instances that had already been processed for that update request.  In the "stop and commit" scenario the SPPP server would stop processing BasicRqstType object instances in the request at the first error but commit any BasicRqstType object instances that had already been processed for that update request.  </li>
</ul>

<p> </p>
<p id="rfc.section.5.1.1.1.p.4">All update request objects extend the base type BasicRqstType. This base type is defined as follows: </p>
<div id="#rfc.figure.5"></div>
<pre>
              
  &lt;complexType name="BasicRqstType" abstract="true"&gt;
    &lt;sequence&gt;
      &lt;element name="ext" type="spppb:ExtAnyType" minOccurs="0"/&gt;
    &lt;/sequence&gt;
  &lt;/complexType&gt;
                                
            </pre>
<p></p>
<p id="rfc.section.5.1.1.1.p.6">The BasicRqstType object primarily acts as an abstract base type, and its only data element is described as follows: </p>

<ul><li>ext: This is the standard extension element for this object. Refer to the Extensibility section of this document for more details. </li></ul>

<p> </p>
<h1 id="rfc.section.5.1.1.2">
<a href="#rfc.section.5.1.1.2">5.1.1.2.</a> <a href="#updateresponse" id="updateresponse">Update Response</a>
</h1>
<p id="rfc.section.5.1.1.2.p.1">An SPPP update response object is contained within the generic &lt;spppUpdateResponse&gt; element. </p>
<div id="#rfc.figure.6"></div>
<pre>
                
  &lt;element name="spppUpdateResponse"&gt;
    &lt;complexType&gt;
      &lt;sequence&gt;
        &lt;element name="overallResult" type="spppb:ResultCodeType"/&gt;
        &lt;element name="rqstObjResult" type="spppb:RqstObjResultCodeType" 
            minOccurs="0" maxOccurs="unbounded"/&gt;
        &lt;element name="clientTransId" type="spppb:TransIdType" 
            minOccurs="0"/&gt;
        &lt;element name="serverTransId" type="spppb:TransIdType"/&gt;
      &lt;/sequence&gt;
    &lt;/complexType&gt;
  &lt;/element&gt;
  
  &lt;complexType name="ResultCodeType"&gt;
    &lt;sequence&gt;
       &lt;element name="code" type="int"/&gt;
       &lt;element name="msg" type="string"/&gt;
    &lt;/sequence&gt;
  &lt;/complexType&gt;
  
  &lt;complexType name="RqstObjResultCodeType"&gt;
    &lt;complexContent&gt;
       &lt;extension base="spppb:ResultCodeType"&gt;
          &lt;sequence&gt;
             &lt;element name="rqstObj" type="spppb:BasicRqstType"/&gt;
          &lt;/sequence&gt;
       &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
  
                                
              </pre>
<p></p>
<p id="rfc.section.5.1.1.2.p.3">An &lt;spppUpdateResponse&gt; contains the elements necessary for the SPPP client to precisely determine the overal result of the request, and if an error occurred, it provides information about the specific object, data element, or condition caused the error. </p>
<p id="rfc.section.5.1.1.2.p.4">The data elements within the SPPP update response are described as follows: </p>

<ul>
<li>clientTransId: Zero or one client transaction ID.  This value is simply an echo of the client transaction ID that SPPP client passed into the SPPP update request.</li>
<li>serverTransId: Exactly one server transaction ID that identifies this request for tracking purposes. This value is guaranteed to be unique for a given SPPP server. </li>
<li>overallResult: Exactly one response code and message pair that explicitly identifies the result of the request. See the Response Code section for further details. </li>
<li>rqstObjResult: An optional response code, response message, and BasicRqstObject triplet.  This element will be present only if an object level error condition occurs, and indicates exactly which error condition occurred and exactly which request object that was passed in caused the error condition.  The contained BasicRqstObject is simply an echo of the request object instance that caused the error, while the response code and message indicate the error condition for this object. See the Response Code section for further details. </li>
<li>ext: This is the standard extension element for this object. Refer to the Extensibility section for more details. </li>
</ul>

<p> </p>
<h1 id="rfc.section.5.1.2">
<a href="#rfc.section.5.1.2">5.1.2.</a> <a href="#queries" id="queries">Query Request and Response Structures</a>
</h1>
<p id="rfc.section.5.1.2.p.1">An SPPP query request is wrapped within the &lt;spppQueryRequest&gt;  element while an SPPP query response is wrapped within an &lt;spppQueryResponse&gt; element.  The following two sub-sections describe these two element structures.</p>
<h1 id="rfc.section.5.1.2.1">
<a href="#rfc.section.5.1.2.1">5.1.2.1.</a> <a href="#queryrequest" id="queryrequest">Query Request</a>
</h1>
<p id="rfc.section.5.1.2.1.p.1">An SPPP query request object is contained within the generic &lt;spppQueryRequest&gt; element. </p>
<div id="#rfc.figure.7"></div>
<pre>
                
  &lt;element name="spppQueryRequest"&gt;
    &lt;complexType&gt;
      &lt;sequence&gt;
        &lt;element name="minorVer" type="spppb:MinorVerType" 
            minOccurs="0"/&gt;
        &lt;element name="rqst" type="spppb:BasicQueryRqstType"/&gt;
      &lt;/sequence&gt;
    &lt;/complexType&gt;
  &lt;/element&gt;
                 
              </pre>
<p></p>
<p id="rfc.section.5.1.2.1.p.3">The data elements within the &lt;spppQueryRequest&gt; element are described as follows: </p>

<ul>
<li>minorVer: Zero or one minor version identifier, indicating the minor version of the SPPP API that the client is attempting to use. This is used in conjunction with the major version identifier in the XML namespace to identify the version of SPPP that the client is using.  If the element is not present, the server assumes that the client is using the latest minor version supported by the SPPP server for the given major version. The versions supported by a given SPPP server can be retrieved by the client using the SPPP server menu operation described later in the document.</li>
<li>rqst: One BasicQueryRqstType objects.  This is the query that the client is requesting the SPPP server perform.  </li>
</ul>

<p> </p>
<p id="rfc.section.5.1.2.1.p.4">All query request objects extend the base type BasicQueryRqstType. This base type is defined as follows: </p>
<div id="#rfc.figure.8"></div>
<pre>
              
  &lt;complexType name="BasicQueryRqstType" abstract="true"&gt;
    &lt;sequence&gt;
      &lt;element name="ext" type="spppb:ExtAnyType" minOccurs="0"/&gt;
    &lt;/sequence&gt;
  &lt;/complexType&gt;
              
            </pre>
<p></p>
<p id="rfc.section.5.1.2.1.p.6">The BasicQueryRqstType object primarily acts as an abstract base type, and its only data element is described as follows: </p>

<ul><li>ext: This is the standard extension element for this object. Refer to the Extensibility section of this document for more details. </li></ul>

<p> </p>
<h1 id="rfc.section.5.1.2.2">
<a href="#rfc.section.5.1.2.2">5.1.2.2.</a> <a href="#queryresponse" id="queryresponse">Query Response</a>
</h1>
<p id="rfc.section.5.1.2.2.p.1">An SPPP query response object is contained within the generic &lt;spppQueryResponse&gt; element. </p>
<div id="#rfc.figure.9"></div>
<pre>
                
  &lt;element name="spppQueryResponse"&gt;
    &lt;complexType&gt;
      &lt;sequence&gt;
        &lt;element name="overallResult" type="spppb:ResultCodeType"/&gt;
        &lt;element name="resultSet" type="spppb:BasicObjType" 
           minOccurs="0" maxOccurs=" unbounded"/&gt;
      &lt;/sequence&gt;
    &lt;/complexType&gt;
  &lt;/element&gt;
                 
              </pre>
<p></p>
<p id="rfc.section.5.1.2.2.p.3">An &lt;spppQueryResponse&gt; contains the elements necessary for the SPPP client to precisely determine the overal result of the query, and if an error occurred, exactly what condition caused the error. </p>
<p id="rfc.section.5.1.2.2.p.4">The data elements within the SPPP query response are described as follows: </p>

<ul>
<li>overallResult: Exactly one response code and message pair that explicitly identifies the result of the request. See the Response Code section for further details. </li>
<li>resultSet: The set of zero or more objects that matched the query criteria.  If no objects matched the query criteria then this result set MUST be empty and the overallResult value MUST indicate success (if no matches are found for the query criteria, the response is considered a success).</li>
</ul>

<p> </p>
<h1 id="rfc.section.5.2">
<a href="#rfc.section.5.2">5.2.</a> <a href="#resultcodes" id="resultcodes">Response Codes and Messages</a>
</h1>
<p id="rfc.section.5.2.p.1">This section contains the listing of response codes and their corresponding human-readable text. </p>
<p id="rfc.section.5.2.p.2">The response code numbering scheme generally adheres to the theory formalized in section 4.2.1 of <a href="#RFC5321">[RFC5321]</a>: </p>

<ul>
<li>The first digit of the response code can only be 1 or 2: 1 = a positive result, 2 = a negative result. </li>
<li>The second digit of the response code indicates the category: 0 = Protocol Syntax, 1 = Implementation Specific Business Rule, 2 = Security, 3 = Server System. </li>
<li>The third and fourth digits of the response code indicate the individual message event within the category defines by the first two digits. </li>
</ul>

<p> </p>
<p id="rfc.section.5.2.p.3">The response codes are also categorized as to whether they are overall response codes that may only be returned in the "overallResult" data element in SPPP responses, of object level response codes that may only be returned in the "rqstObjResult" element of the SPPP responses.</p>
<div id="#rfc.table.1"></div>
<div id="#Table1"></div>
<table cellpadding="3" cellspacing="0" class="tt full center">
<caption>Response Codes Numbering Scheme and Messages</caption>
<thead><tr>
<th class="left">Result Code</th>
<th class="left">Text</th>
<th class="left">Overall or Object Level</th>
</tr></thead>
<tbody>
<tr>
<td class="left">1000 </td>
<td class="left">Request Succeeded.</td>
<td class="left">Overall Response Code</td>
</tr>
<tr>
<td class="left">2001 </td>
<td class="left">Request syntax invalid.</td>
<td class="left">Overall Response Code</td>
</tr>
<tr>
<td class="left">2002 </td>
<td class="left">Request too large.</td>
<td class="left">Overall Response Code</td>
</tr>
<tr>
<td class="left">2003 </td>
<td class="left">Version not supported.</td>
<td class="left">Overall Response Code</td>
</tr>
<tr>
<td class="left">2103 </td>
<td class="left">Command invalid.</td>
<td class="left">Overall Response Code</td>
</tr>
<tr>
<td class="left">2301 </td>
<td class="left">System temporarily unavailable.</td>
<td class="left">Overall Response Code</td>
</tr>
<tr>
<td class="left">2302 </td>
<td class="left">Unexpected internal system or server error.</td>
<td class="left">Overall Response Code</td>
</tr>
<tr>
<td class="left">2104 </td>
<td class="left">Attribute value invalid. AttrName:[AttributeName] AttrVal:[AttributeValue]</td>
<td class="left">Object Level Response Code</td>
</tr>
<tr>
<td class="left">2105 </td>
<td class="left">Object does not exist. AttrName:[AttributeName] AttrVal:[AttributeValue]</td>
<td class="left">Object Level Response Code</td>
</tr>
<tr>
<td class="left">2106 </td>
<td class="left">Object status or ownership does not allow for operation. AttrName:[AttributeName] AttrVal:[AttributeValue]</td>
<td class="left">Object Level Response Code</td>
</tr>
</tbody>
</table>
<p id="rfc.section.5.2.p.4">Each of the object level response messages are "parameterized" with the following parameters: "AttributeName" and "AttributeValue". </p>
<p id="rfc.section.5.2.p.5">The use of these parameters MUST adhere to the following rules: </p>

<ul>
<li>All parameters within a response message are mandatory and MUST be present. </li>
<li>Any value provided for the "AttributeName" parameter MUST be an exact XSD element name of the protocol data element that the response message is referring to.  For example, valid values for "attribute name" are "dgName", "rgName", "rteRec", etc. </li>
<li>The value for "AttributeValue" MUST be the value of the data element to which the preceding "AttributeName" refers. </li>
<li>Result code 2104 SHOULD be used whenever an element value does not adhere to data validation rules. </li>
<li>Result codes 2104 and 2105 MUST NOT be used interchangeably. Response code 2105 SHOULD be returned by an update operation when the data element(s) used to uniquely identify a pre-existing object do not exist. If the data elements used to uniquely identify an object are malformed, then response code 2104 SHOULD be returned. </li>
</ul>

<p> </p>
<h1 id="rfc.section.5.3">
<a href="#rfc.section.5.3">5.3.</a> <a href="#BasicObjType" id="BasicObjType">Basic Object Type and Organization Identifiers</a>
</h1>
<p id="rfc.section.5.3.p.1">This section introduces the basic object type that most first class objects derive from. </p>
<p id="rfc.section.5.3.p.2">All first class objects extend the basic object type        BasicObjType which contains the identifier of the registrant organization that owns this object, the identifier of the registrar organization that provisioned this object, the date and time that the object was created by the server, and the date and time that the object was last modified.</p>
<div id="#rfc.figure.10"></div>
<pre>
              
  &lt;complexType name="BasicObjType" abstract="true"&gt;
    &lt;sequence&gt;
      &lt;element name="rant" type="spppb:OrgIdType"/&gt;
      &lt;element name="rar" type="spppb:OrgIdType"/&gt;
      &lt;element name="cDate" type="dateTime" minOccurs="0"/&gt;
      &lt;element name="mDate" type="dateTime" minOccurs="0"/&gt;
      &lt;element name="ext" type="spppb:ExtAnyType" minOccurs="0"/&gt;
    &lt;/sequence&gt;
  &lt;/complexType&gt;

                        
            </pre>
<p></p>
<p id="rfc.section.5.3.p.4">The identifiers used for registrants (rant), registrars (rar) and peering organizations (peeringOrg) are instances of OrgIdType. The OrgIdType is defined as a string and all OrgIdType instances SHOULD follow the textual convention: "namespace:value" (for example "iana-en:32473").  See the IANA Consideration section for more details.  </p>
<h1 id="rfc.section.6">
<a href="#rfc.section.6">6.</a> <a href="#protocolcommands" id="protocolcommands">Protocol Commands</a>
</h1>
<p id="rfc.section.6.p.1">This section provides a description of each supported protocol command. </p>
<h1 id="rfc.section.6.1">
<a href="#rfc.section.6.1">6.1.</a> <a href="#addrtegrp" id="addrtegrp">Add Route Group Operation</a>
</h1>
<p id="rfc.section.6.1.p.1">As described in the introductory sections, a Route Group represents a combined grouping of Route Records that define route information, Destination Groups that contain a set of Public Identifiers with common routing information, and the list of peer organizations that have access to these public identifiers using this route information. It is this indirect linking of public identifiers to their route information that significantly improves the scalability and manageability of the peering data. Additions and changes to routing information are reduced to a single operation on a Route Group or Route Record , rather than millions of data updates to individual public identifier records that individually contain their peering data. </p>
<p id="rfc.section.6.1.p.2">The AddRteGrpRqstType operation creates or overwrites a Route Group object. If a Route Group with the given name and registrant ID (which together comprise the unique key or a Route Group) does not exist, then the server MUST create the Route Group. If a Route Group with the given name and registrant ID does exist, then the server MUST replace the current properties of the Route Group with the properties passed into the AddRteGrpRqstType operation. The XSD declarations of the AddRteGrpRqstType operation request object are as follows: </p>
<div id="#rfc.figure.11"></div>
<pre>
              
  &lt;complexType name="AddRteGrpRqstType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:BasicRqstType"&gt;
        &lt;sequence&gt;
          &lt;element name="rteGrp" type="spppb:RteGrpType"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
                        
            </pre>
<p></p>
<p id="rfc.section.6.1.p.4">The element passed into the spppUpdateRequest element for this operation is an instance of AddRteGrpRqstType, which extends BasicRqstType and contains one RteGrpType object. The RteGrpType object structure is defined as follows: </p>
<div id="#rfc.figure.12"></div>
<pre>
              
  &lt;complexType name="RteGrpType"&gt;
    &lt;complexContent&gt;
     &lt;extension base="spppb:BasicObjType"&gt;
       &lt;sequence&gt;
         &lt;element name="rgName" type="spppb:ObjNameType"/&gt;
         &lt;element name="rrRef" type="spppb:RteRecRefType" 
           minOccurs="0" maxOccurs="unbounded"/&gt;
         &lt;element name="dgName" type="spppb:ObjNameType" minOccurs="0"
           maxOccurs="unbounded"/&gt;
         &lt;element name="peeringOrg" type="spppb:OrgIdType" 
           minOccurs="0" maxOccurs="unbounded"/&gt;
         &lt;element name="sourceIdent" type="spppb:SourceIdentType"
           minOccurs="0" maxOccurs="unbounded"/&gt;
         &lt;element name="isInSvc" type="boolean"/&gt;
         &lt;element name="priority" type="unsignedShort"/&gt;
         &lt;element name="ext" type="spppb:ExtAnyType" minOccurs="0"/&gt;
       &lt;/sequence&gt;
     &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
  
  &lt;complexType name="RteRecRefType"&gt;
    &lt;sequence&gt;
      &lt;element name="rrKey" type="spppb:ObjKeyType"/&gt;
      &lt;element name="priority" type="unsignedShort"/&gt;
      &lt;element name="ext" type="spppb:ExtAnyType" minOccurs="0"/&gt;
    &lt;/sequence&gt;
  &lt;/complexType&gt;
                        
            </pre>
<p></p>
<p id="rfc.section.6.1.p.6">The RteGrpType object is composed of the following elements: </p>

<ul>
<li>base: All first class objects extend BasicObjType which contains the ID of the registrant organization that owns this object, the ID of the registrar organization that provisioned this object, the date and time that the object was created by the server, and the date and time that the object was last modified. If the client passes in either the created date or the modification date, the server will ignore them.  The server sets these two date/time values.</li>
<li>rgName: The character string that contains the name of the Route Group. It uniquely identifies this object within the context of the registrant ID (a child element of the base element as described above). </li>
<li>rrRef: Set of zero or more objects of type RteRecRefType that house the unique keys of the Route Records that the RteGrpType object refers to and their relative priority within the context of a given route group. The associated Route Records contain the routing information, sometimes called SED, associated with this Route Group.</li>
<li>dgName: Set of zero or more names of DestGrpType object instances. Each dgName name, in association with this Route Group's registrant ID, uniquely identifies a DestGrpType object instance whose public identifiers are reachable using the routing information housed in this Route Group.  An intended side affect of this is that a Route Group cannot provide routing information for a Destination Group belonging to another registrant. </li>
<li>peeringOrg: Set of zero or more peering organization IDs that have accepted an offer to receive this Route Group's information. The set of peering organizations in this list is not directly settable or modifiable using the addRteGrpsRqst operation. This set is instead controlled using the route offer and accept operations. </li>
<li>sourceIdent: Set of zero or more SourceIdentType object instances. These objects, described further below, house the source identification schemes and identifiers that are applied at resolution time as part of source based routing algorithms for the Route Group. </li>
<li>isInSvc: A boolean element that defines whether this Route Group is in service. The routing information contained in a Route Group that is in service is a candidate for inclusion in resolution responses for public identities residing in the Destination Group associated with this Route Group. The routing information contained in a Route Group that is not in service is not a candidate for inclusion in resolution responses. </li>
<li>priority: Zero or one priority value that can be used to provide a relative value weighting of one Route Group over another.  The manner in which this value is used, perhaps in conjunction with other factors, is a matter of policy.</li>
<li>ext: Point of extensibility described in a previous section of this document. </li>
</ul>

<p> </p>
<p id="rfc.section.6.1.p.7">As described above, the Route Group contains a set of references to route record objects. A route record object is based on an abstract type: RteRecType. The concrete types that use RteRecType as an extension base are NAPTRType, NSType, and URIType. The definitions of these types are included the Route Record section of this document. </p>
<p id="rfc.section.6.1.p.8">The RteGrpType object provides support for source-based routing via the peeringOrg data element and more granular source base routing via the source identity element. The source identity element provides the ability to specify zero or more of the following in association with a given Route Group: a regular expression that is matched against the resolution client IP address, a regular expression that is matched against the root domain name(s), and/or a regular expression that is matched against the calling party URI(s).  The result will be that, after identifying the visible Route Groups whose associated Destination Group(s) contain the lookup key being queried and whose peeringOrg list contains the querying organizations organization ID, the resolution server will evaluate the characteristics of the Source URI, and Source IP address, and root domain of the lookup key being queried.  The resolution server then compares these criteria against the source identity criteria associated with the Route Groups. The routing information contained in Route Groups that have source based routing criteria will only be included in the resolution response if one or more of the criteria matches the source criteria from the resolution request.  The Source Identity data element is of type SourceIdentType, whose structure is defined as follows:</p>
<div id="#rfc.figure.13"></div>
<pre>
              
  &lt;complexType name="SourceIdentType"&gt;
    &lt;sequence&gt;
      &lt;element name="sourceIdentLabel" type="string"/&gt;
      &lt;element name="sourceIdentScheme"
        type="spppb:SourceIdentSchemeType"/&gt;
      &lt;element name="ext" type="spppb:ExtAnyType" minOccurs="0"/&gt;
    &lt;/sequence&gt;
  &lt;/complexType&gt;
  
  &lt;simpleType name="SourceIdentSchemeType"&gt;
    &lt;restriction base="token"&gt;
      &lt;enumeration value="uri"/&gt;
      &lt;enumeration value="ip"/&gt;
      &lt;enumeration value="rootDomain"/&gt;
    &lt;/restriction&gt;
  &lt;/simpleType&gt;
                        
            </pre>
<p></p>
<p id="rfc.section.6.1.p.10">The SourceIdentType object is composed of the following data elements: </p>

<ul>
<li>sourceIdentScheme: The source identification scheme that this source identification criteria applies to and that the associated sourceIdentRegex should be matched against. </li>
<li>sourceIdentRegex: The regular expression that should be used to test for a match against the portion of the resolution request that is dictated by the associated sourceIdentScheme. </li>
<li>ext: Point of extensibility described in a previous section of this document. </li>
</ul>

<p> </p>
<p id="rfc.section.6.1.p.11">As with the responses to all update operations, the result of the AddRteGrpRqstType operation is contained in the generic spppUpdateResponse data structure described in an earlier sections of this document.  For a detailed description of the spppUpdateResponse data structure refer to that section of the document.</p>
<h1 id="rfc.section.6.2">
<a href="#rfc.section.6.2">6.2.</a> <a href="#getroutegrps" id="getroutegrps">Get Route Groups Operation</a>
</h1>
<p id="rfc.section.6.2.p.1">The getRteGrpsRqst operation allows a client to get the properties of Route Group objects that a registrar organization is authorized to view. The server will attempt to find a Route Group object that has the registrant ID and route group name pair contained in each ObjKeyType object instance. If the set of ObjKeyType objects is empty then the server will return the list of Route Group objects that the querying client has the authority to view. If there are no matching Route Groups found then an empty result set will be returned. </p>
<p id="rfc.section.6.2.p.2">The element passed into the spppQueryRequest element for this operation is an instance of type GetRteGrpsRqstType, which extends BasicRqstType and contains zero or more ObjKeyType objects. Any limitation on the maximum number of objects that may be passed into or returned by this operation is a policy decision and not limited by the protocol. The XSD declaration of the operation is as follows: </p>
<div id="#rfc.figure.14"></div>
<pre>
              
  &lt;complexType name="GetRteGrpsRqstType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:BasicQueryRqstType"&gt;
        &lt;sequence&gt;
          &lt;element name="objKey" type="spppb:ObjKeyType"
            minOccurs="0" maxOccurs="unbounded"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
                        
            </pre>
<p></p>
<p id="rfc.section.6.2.p.4">As described in an earlier section of this document, the result of any spppQueryRequest operation is an spppQueryResponse element that contains the overall response code and the query result set, if any.  Refer to that section of the document for a detailed description of the spppQueryResponse element.</p>
<h1 id="rfc.section.6.3">
<a href="#rfc.section.6.3">6.3.</a> <a href="#adddestgrp" id="adddestgrp">Add Destination Group Operation</a>
</h1>
<p id="rfc.section.6.3.p.1">As described in the introductory sections, a Destination Group represents a set of Public Identifiers with common routing information. </p>
<p id="rfc.section.6.3.p.2">The AddDestGrpRqstType operation creates or overwrites a Destination Group object. If a Destination Group with the given name and registrant ID (which together comprise the unique key for a Destination Group) does not exist, then the server MUST create the Destination Group. If a Destination Group with the given name and registrant ID does exist, then the server MUST replace the current properties of the Destination Group with the properties passed into the AddDestGrpsRqstType operation. The XSD declarations of the operation request object are as follows: </p>
<div id="#rfc.figure.15"></div>
<pre>
              
  &lt;complexType name="AddDestGrpRqstType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:BasicRqstType"&gt;
        &lt;sequence&gt;
          &lt;element name="destGrp" type="spppb:DestGrpType"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
                        
            </pre>
<p></p>
<p id="rfc.section.6.3.p.4">The element passed into the spppUpdateRequest element for this operation is an element of type AddDestGrpRqsttype, which extends BasicRqstType and contains a DestGrpType object. The DestGrpType object structure is defined as follows: </p>
<div id="#rfc.figure.16"></div>
<pre>
              
  &lt;complexType name="DestGrpType"&gt;
    &lt;complexContent&gt;
     &lt;extension base="spppb:BasicObjType"&gt;
      &lt;sequence&gt;
         &lt;element name="dgName" type="spppb:ObjNameType"/&gt;
      &lt;/sequence&gt;
     &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
                        
            </pre>
<p></p>
<p id="rfc.section.6.3.p.6">The DestGrpType object is composed of the following elements: </p>

<ul>
<li>base: All first class objects extend BasicObjType which contains the ID of the registrant organization that owns this object, the ID of the registrar organization that provisioned this object, the date and time that the object was created by the server, and the date and time that the object was last modified. If the client passed in either the created date or the modification date, the server will ignore them.  The server sets these two date/time values.</li>
<li>dgName: The character string that contains the name of the Destination Group. This uniquely identifies this object within the context of the registrant ID (a child element of the base element as described above). </li>
<li>ext: Point of extensibility described in a previous section of this document. </li>
</ul>

<p> </p>
<p id="rfc.section.6.3.p.7">As with the responses to all update operations, the result of the AddDestGrpRqstType operation is contained in the generic spppUpdateResponse data structure described in an earlier sections of this document.  For a detailed description of the spppUpdateResponse data structure refer to that section of the document.</p>
<h1 id="rfc.section.6.4">
<a href="#rfc.section.6.4">6.4.</a> <a href="#getdestgrps" id="getdestgrps">Get Destination Groups Operation</a>
</h1>
<p id="rfc.section.6.4.p.1">The getDestGrpsRqst operation allows a client to get the properties of Destination Group objects that a registrar organization is authorized to view. The server will attempt to find a Destination Group object that has the registrant ID and destination group name pair contained in each ObjKeyType object instance. If there are no matching Destination Groups found then an empty result set will be returned. If the set of ObjKeyType objects passed in is empty then the server will return the list of Destination Group objects that the querying registrar has the authority to view. </p>
<p id="rfc.section.6.4.p.2">The element passed into the spppQueryRequest element for this operation is an instance of type GetDestGrpsRqstType, which extends BasicQueryRqstType and contains zero or more ObjKeyType objects. Any limitation on the maximum number of objects that may be passed into or returned by this operation is a policy decision and not limited by the protocol. The XSD declaration of the operation is as follows: </p>
<div id="#rfc.figure.17"></div>
<pre>
              
  &lt;complexType name="GetDestGrpsRqstType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:BasicQueryRqstType"&gt;
        &lt;sequence&gt;
          &lt;element name="objKey" type="spppb:ObjKeyType"
            minOccurs="0" maxOccurs="unbounded"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
                        
            </pre>
<p></p>
<p id="rfc.section.6.4.p.4">As described in an earlier section of this document, the result of any spppQueryRequest operation is an spppQueryResponse element that contains the overall response code and the query result set, if any.  Refer to that section of the document for a detailed description of the spppQueryResponse element.</p>
<h1 id="rfc.section.6.5">
<a href="#rfc.section.6.5">6.5.</a> <a href="#addrtegrpoffer" id="addrtegrpoffer">Add Route Group Offer Operation</a>
</h1>
<p id="rfc.section.6.5.p.1">The list of peer organizations whose resolution responses can include the routing information contained in a given Route Group is controlled by the organization to which a Route Group object belongs (its registrant), and the peer organization that submits resolution requests (a data recipient, also know as a peering organization). The registrant offers access to a Route Group by submitting a Route Group Offer.  The data recipient can then accept or reject that offer.  Not until access to a Route Group has been offered and accepted will the data recipient's organization ID be included in the peeringOrg list in a Route Group object, and that Route Group's peering information become a candidate for inclusion in the responses to the resolution requests submitted by that data recipient. The AddRteGrpOffersRqstType operation creates or overwrites one or more Route Group Offer objects. If a Route Group Offer for the given Route Group object key and the offeredTo Org ID does not exist, then the server creates the Route Group Offer object. If a such a Route Group Offer does exist, then the server replaces the current object with the new object. The XSD declarations of the operation request object are as follows: </p>
<div id="#rfc.figure.18"></div>
<pre>
              
  &lt;complexType name="AddRteGrpOfferRqstType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:BasicRqstType"&gt;
        &lt;sequence&gt;
          &lt;element name="rteGrpOffer" type="spppb:RteGrpOfferType"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
                        
            </pre>
<p></p>
<p id="rfc.section.6.5.p.3">The element passed into the spppUpdateRequest element for this operation is an instance of AddRteGrpOfferRqstType, which extends BasicRqstType and contains a RteGrpOfferType object. The XSD declaration of the RteGrpOfferType is as follows: </p>
<div id="#rfc.figure.19"></div>
<pre>
              
  &lt;complexType name="RteGrpOfferType"&gt;
   &lt;complexContent&gt;
     &lt;extension base="spppb:BasicObjType"&gt;
       &lt;sequence&gt;
         &lt;element name="rteGrpOfferKey" 
                  type="spppb:RteGrpOfferKeyType"/&gt;
         &lt;element name="status" type="spppb:RteGrpOfferStatusType"/&gt;
         &lt;element name="offerDateTime" type="dateTime"/&gt;
         &lt;element name="acceptDateTime" type="dateTime" minOccurs="0"/&gt;
         &lt;element name="ext" type="spppb:ExtAnyType" minOccurs="0"/&gt;
       &lt;/sequence&gt;
     &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
    
  &lt;complexType name="RteGrpOfferKeyType"&gt;
    &lt;sequence&gt;
      &lt;element name="rteGrpKey" type="spppb:ObjKeyType"/&gt;
      &lt;element name="offeredTo" type="spppb:OrgIdType"/&gt;
    &lt;/sequence&gt;
  &lt;/complexType&gt;
  
  &lt;simpleType name="RteGrpOfferStatusType"&gt;
    &lt;restriction base="token"&gt;
      &lt;enumeration value="offered"/&gt;
      &lt;enumeration value="accepted"/&gt;
    &lt;/restriction&gt;
  &lt;/simpleType&gt;
                        
            </pre>
<p></p>
<p id="rfc.section.6.5.p.5">The RteGrpOfferType object is composed of the following elements: </p>

<ul>
<li>base: All first class objects extend BasicObjType which contains the ID of the registrant organization that owns this object, the ID of the registrar organization that provisioned this object, the date and time that the object was created by the server, and the date and time that the object was last modified. If the client passed in either the created date or the modification date, the will ignore them.  The server sets these two date/time values.</li>
<li>rteGrpOfferKey: The object that identifies the route that is or has been offered and the organization that it is or has been offered to. The combination of these three data elements uniquely identify a Route Group Offer. </li>
<li>status: The status of the offer, offered or accepted.  This status is controlled by the server. It is automatically set to "offered" when ever a new Route Group Offer is added, and is automatically set to "accepted" if and when that offer is accepted. The value of the element is ignored when passed in by the client. </li>
<li>offerDateTime: Date and time in GMT when the Route Group Offer was added. </li>
<li>acceptDateTime: Date and time in GMT when the Route Group Offer was accepted. </li>
</ul>

<p> </p>
<p id="rfc.section.6.5.p.6">As with the responses to all update operations, the result of the AddRteGrpOfferRqstType operation is contained in the generic spppUpdateResponse data structure described in an earlier sections of this document.  For a detailed description of the spppUpdateResponse data structure refer to that section of the document.</p>
<h1 id="rfc.section.6.6">
<a href="#rfc.section.6.6">6.6.</a> <a href="#accrtegrpoff" id="accrtegrpoff">Accept Route Group Offer Operation</a>
</h1>
<p id="rfc.section.6.6.p.1">Not until access to a Route Group has been offered and accepted will the data recipient's organization ID will it be included in the peeringOrg list in that Route Group object, and that Route Group's peering information become a candidate for inclusion in the responses to the resolution requests submitted by that data recipient.  The AcceptRteGrpOffersRqstType operation is called by, or on behalf of, the data recipient to accept a Route Group Offer that is pending in the "offered" status for the data recipient's organization ID. If a Route Group Offer for the given Route Group Offer key (route name, route registrant ID, data recipient's organization ID) exists, then the server moves the Route Group Offer to the "accepted" status and adds that data recipient's organization ID into the list of peerOrgIds for that Route Group. If a such a Route Group Offer does not exist, then the server returns the appropriate error code, 2105. The XSD declarations for the operation request object are as follows: </p>
<div id="#rfc.figure.20"></div>
<pre>
              
&lt;complexType name="AcceptRteGrpOfferRqstType"&gt;
  &lt;complexContent&gt;
    &lt;extension base="spppb:BasicRqstType"&gt;
      &lt;sequence&gt;
        &lt;element name="rteGrpOfferKey" type="spppb:RteGrpOfferKeyType"/&gt;
      &lt;/sequence&gt;
    &lt;/extension&gt;
  &lt;/complexContent&gt;
&lt;/complexType&gt;
                        
            </pre>
<p></p>
<p id="rfc.section.6.6.p.3">The element passed into the spppUpdateRequest element for this operation is an instance of AcceptRteGrpOffersRqstType, which extends BasicRqstType and contains a RteGrpOfferKeyType object.</p>
<p id="rfc.section.6.6.p.4">As with the responses to all update operations, the result of the AcceptRteGrpOfferRqstType operation is contained in the generic spppUpdateResponse data structure described in an earlier sections of this document.  For a detailed description of the spppUpdateResponse data structure refer to that section of the document.</p>
<h1 id="rfc.section.6.7">
<a href="#rfc.section.6.7">6.7.</a> <a href="#rejrtegrpoff" id="rejrtegrpoff">Reject Route Group Offer Operation</a>
</h1>
<p id="rfc.section.6.7.p.1">The data recipient to which a Route Group has been offered has the option of rejecting a Route Group Offer.  Furthermore, that offer may be rejected, regardless of whether or not it has been previously accepted.  The RejectRteGrpOffersRqstType operation is used for these purposes and is called by, or on behalf of, the data recipient to accept a Route Group Offer that is pending in the "offered" status or is in the "accepted" status for the data recipient's organization ID. If a Route Group Offer for the given Route Group Offer key (route name, route registrant ID, data recipient's organization ID) exists in either the offered or accepted status, then the server deletes that Route Group Offer object, and, if appropriate, removes the data recipients organization ID from the list of peeringOrg IDs for that Route Group. If the Route Group Offer does not exist, then the server returns the appropriate error code, 2105. The XSD declarations for the operation request object are as follows: </p>
<div id="#rfc.figure.21"></div>
<pre>
              
&lt;complexType name="RejectRteGrpOfferRqstType"&gt;
  &lt;complexContent&gt;
    &lt;extension base="spppb:BasicRqstType"&gt;
      &lt;sequence&gt;
        &lt;element name="rteGrpOfferKey" type="spppb:RteGrpOfferKeyType"/&gt;
      &lt;/sequence&gt;
    &lt;/extension&gt;
  &lt;/complexContent&gt;
&lt;/complexType&gt;
                        
            </pre>
<p></p>
<p id="rfc.section.6.7.p.3">The element passed into the spppUpdateRequest element for this operation is an instance of RejectRteGrpOffersRqstType, which extends BasicRqstType and contains a RteGrpOfferKeyType object.</p>
<p id="rfc.section.6.7.p.4">As with the responses to all update operations, the result of the RejectRteGrpOfferRqstType operation is contained in the generic spppUpdateResponse data structure described in an earlier sections of this document.  For a detailed description of the spppUpdateResponse data structure refer to that section of the document.</p>
<h1 id="rfc.section.6.8">
<a href="#rfc.section.6.8">6.8.</a> <a href="#getrtegrpoff" id="getrtegrpoff">Get Route Group Offers Operation</a>
</h1>
<p id="rfc.section.6.8.p.1">The getRteGrpOffersRqst operation allows a client to get the properties of zero or more Route Group Offer objects that registrar is authorized to view. The server will attempt to find Route Group Offer objects that have all the properties specified in the criteria passed into the operation. If no criteria is passed in then the server will return the list of Route Group Offer objects that the querying client has the authority to view. If there are no matching Route Group Offers found then an empty result set will be returned. </p>
<p id="rfc.section.6.8.p.2">The element passed into the spppQueryRequest element for this operation is an instance of GetRteGrpOffersRqstType, which extends BasicQueryRqstType and contains the criteria that the returned Route Group Offer objects must match. Any limitation on the maximum number of objects that may be returned by this operation is a policy decision and not limited by the protocol. The XSD declaration of the operation is as follows: </p>
<div id="#rfc.figure.22"></div>
<pre>
              
  &lt;complexType name="GetRteGrpOffersRqstType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:BasicQueryRqstType"&gt;
        &lt;sequence&gt;
          &lt;element name="offeredBy" type="spppb:OrgIdType"
            minOccurs="0" maxOccurs="unbounded"/&gt;
          &lt;element name="offeredTo" type="spppb:OrgIdType"
            minOccurs="0" maxOccurs="unbounded"/&gt;
          &lt;element name="status" type="spppb:RteGrpOfferStatusType"
            minOccurs="0"/&gt;
          &lt;element name="rteGrpOfferKey"
            type="spppb:RteGrpOfferKeyType" minOccurs="0"
            maxOccurs="unbounded"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
                        
            </pre>
<p></p>
<p id="rfc.section.6.8.p.4">The GetRteGrpOffersRqstType object is composed of the following elements: </p>

<ul>
<li>offeredBy: Zero or more organization IDs. Only offers that are offered to the organization IDs in this list should be included in the result set. The result set is also subject to other query criteria in the request.  </li>
<li>offeredTo: Zero or more organization IDs. Only offers that are offered by the organization IDs in this list should be included in the result set. The result set is also subject to other query criteria in the request.  </li>
<li>status: The status of the offer, offered or accepted.  Only offers in the specified status should be included in the result set. If this element is not present then the status of the offer should not be considered in the query. The result set is also subject to other query criteria in the request. </li>
<li>rteGrpOfferKey: Zero or more Route Group Offer Keys.  Only offers having one of these keys should be included in the result set. The result set is also subject to other query criteria in the request. </li>
</ul>

<p> </p>
<p id="rfc.section.6.8.p.5">As described in an earlier section of this document, the result of any spppQueryRequest operation is an spppQueryResponse element that contains the overall response code and the query result set, if any.  Refer to that section of the document for a detailed description of the spppQueryResponse element.</p>
<h1 id="rfc.section.6.9">
<a href="#rfc.section.6.9">6.9.</a> <a href="#pubIdsOper" id="pubIdsOper">Public Identifier Operations</a>
</h1>
<p id="rfc.section.6.9.p.1">Public Identifier is the search key used for locating the session establishment data (SED). In many cases, a Public Identifier is attributed to the end user who has a retail relationship with the service provider or registrant organization. In SPPP, SED can be provisioned by the registrant, or by the registrar on behalf of the registrant. Also, SPPP supports the notion of the carrier-of-record as defined in RFC 5067. Therefore, the entity adding the Public Identity in the Registry can optionally claim to be a carrier-of-record.</p>
<p id="rfc.section.6.9.p.2">SPPP identifies three types of Public Identifiers: telephone number (TN), and the routing number (RN). SPPP provides structures to manage a single TN, a contiguous range of TNs, and a TN prefix. </p>
<p id="rfc.section.6.9.p.3">The XML schema type definition PubIDType is the generalization of the Public Identifier. PubIDType is an abstract type. In agreement with the data model, PubIDType member 'dgName' represents the name of the destination group that a given Public Identifier is associated to. The PubIDType object structure is defined as follows:</p>
<div id="#rfc.figure.23"></div>
<pre>
              
  &lt;complexType name="PubIdType" abstract="true"&gt;
    &lt;complexContent&gt;
     &lt;extension base="spppb:BasicObjType"&gt;
       &lt;sequence&gt;
         &lt;element name="dgName" type="spppb:ObjNameType" minOccurs="0"/&gt;
       &lt;/sequence&gt;
     &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
               
           </pre>
<p></p>
<p id="rfc.section.6.9.p.5">A registrant can add a Public Identifier with the help of a BasicRqstType called AddPubIdRqstType. To complete the add request, AddPubIdRqstType XML instance is added to &lt;spppUpdateRequest&gt; root element. If there is a conflict and a Public Identifier already exists in the Registry, the old entry will be replaced with the newly provisioned entry. For the add or update operation, the destination group name is a mandatory parameter. Not including a valid destination group name in the update request will cause the Registry to return an appropriate error.</p>
<p id="rfc.section.6.9.p.6">Telephone number is identified by TNType, an extension of PubIDType. Schema definition of TNType is as follows: </p>
<div id="#rfc.figure.24"></div>
<pre>
                
  &lt;complexType name="TNType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:PubIdType"&gt;
        &lt;sequence&gt;
          &lt;element name="tn" type="string"/&gt;
          &lt;element name="rrRef" type="spppb:RteRecRefType" 
             minOccurs="0" maxOccurs="unbounded"/&gt;
          &lt;element name="corInfo" type="spppb:CORInfoType" 
             minOccurs="0"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
               
              </pre>
<p></p>
<p id="rfc.section.6.9.p.8">TNType consists of the following attributes: </p>

<ul>
<li>tn: Telephone number to be added to the Registry.</li>
<li>rrRef: Optional reference to the route record that is directly associated with the TN Public Identifier. Following the SPPP data model, the route record could be a protocol agnostic URIType or another type.</li>
<li>corInfo: corInfo is an optional parameter of type CORInfoType that allows the registrant organization to set forth a claim to be the carrier-of-record [see RFC 5067]. This is done by setting the value of &lt;corClaim&gt; element of the CORInfoType object structure to "true". The other two parameters of the CORInfoType, &lt;cor&gt; and &lt;corDate&gt; are set by the Registry to describe the outcome of the carrier-of-record claim by the registrant. In general, inclusion of &lt;corInfo&gt; parameter is useful if the Registry has the authority information, such as, the number portability data, etc., in order to qualify whether the registrant claim can be satisfied. If the carrier-of-record claim disagrees with the authority data in the Registry, whether the TN add operation fails or not is a matter of policy and it is beyond the scope of this document. In the response message &lt;spppUpdateResponse&gt;, the SPPP Server must include the &lt;cor&gt; parameter of the &lt;corInfo&gt; element to let the registrant know the outcome of the claim.</li>
</ul>

<p> </p>
<p id="rfc.section.6.9.p.9">Routing number is identified by RNType. SSPs that possess the number portability data may be able to leverage the RN search key to discover the ingress routes for session establishment. Therefore, the registrant organization can add the RN and associate it with the appropriate destination group to share the route information. RNType is defined as follows:</p>
<div id="#rfc.figure.25"></div>
<pre>
                
  &lt;complexType name="RNType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:PubIdType"&gt;
        &lt;sequence&gt;
          &lt;element name="rn" type="string" default="true"/&gt;
          &lt;element name="corInfo" type="spppb:CORInfoType" 
               minOccurs="0"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
                 
              </pre>
<p></p>
<p id="rfc.section.6.9.p.11">RNType has the following attributes: </p>

<ul>
<li>rn: Routing Number used as the search key</li>
<li>corInfo: Optional &lt;corInfo&gt; element of type CORInfoType.</li>
</ul>

<p> </p>
<p id="rfc.section.6.9.p.12">TNRType structure is used to add contiguous range of TNs. The object definition requires a starting TN and the ending TN that describes the TN range. In addition, TNRType includes an optional "prefix" attribute to indicate that the given TN range qualifies for the Open Number Plan (ONP). In order for the resolution server to correctly respond to the queries for TNs in the TNRType object, the Registry and/or the resolution server will need the national significant number length data for the TN blocks included in the TNRType object. Further, &lt;spppUpdateRequest&gt; is transactional in nature, therefore, if the Registry encounters an error in adding even a single TN that is included in the TNRType object, the whole request will be deemed a failure. In other words, the partial success case is not supported. TNPType object structure is as follows:</p>
<div id="#rfc.figure.26"></div>
<pre>
                
  &lt;complexType name="TNRType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:PubIdType"&gt;
        &lt;sequence&gt;
          &lt;element name="startTn" type="string"/&gt;
          &lt;element name="endTn" type="string"/&gt;
          &lt;element name="corInfo" type="spppb:CORInfoType" 
              minOccurs="0"/&gt;
        &lt;/sequence&gt;
        &lt;attribute name="prefix" type="boolean" default="false"&gt;
           &lt;/attribute&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
               
              </pre>
<p></p>
<p id="rfc.section.6.9.p.14">TNRType has the following attributes: </p>

<ul>
<li>startTn: Starting TN in the TN range</li>
<li>endTn: The last TN in the TN range</li>
<li>corInfo: Optional &lt;corInfo&gt; element of type CORInfoType</li>
<li>prefix: Optional attribute, when set to "true", indicates that the Open Number Plan applies to a given TN Range</li>
</ul>

<p> </p>
<p id="rfc.section.6.9.p.15">In some cases, it is useful to describe a set of TNs with the help of the first few digits of the telephone number, also referred to as the telephone number prefix or a block. In SPPP, the TNPType structure is reserved for use of TN prefix as defined below:</p>
<div id="#rfc.figure.27"></div>
<pre>
                
  &lt;complexType name="TNPType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:PubIdType"&gt;
        &lt;sequence&gt;
          &lt;element name="tnPrefix" type="string"/&gt;
          &lt;element name="corInfo" type="spppb:CORInfoType" 
            minOccurs="0"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
               
              </pre>
<p></p>
<p id="rfc.section.6.9.p.17">TNPType consists of the following attributes: </p>

<ul>
<li>tnPrefix: The telephone number prefix</li>
<li>corInfo: Optional &lt;corInfo&gt; element of type CORInfoType.</li>
</ul>

<p> </p>
<p id="rfc.section.6.9.p.18">The object structure of AddPubIdRqstType used to add Public Identifiers is as follows</p>
<div id="#rfc.figure.28"></div>
<pre>
                
  &lt;complexType name="AddPubIdRqstType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:BasicRqstType"&gt;
        &lt;sequence&gt;
          &lt;element name="pi" type="spppb:PubIdType"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
                        
              </pre>
<p></p>
<p id="rfc.section.6.9.p.20">The SPPP client can use the GetPubIdsRqstType in the &lt;spppQueryRequest&gt; structure to obtain information about one or more valid &lt;pi&gt; objects. If the GetPubIdsRqstType object does not include &lt;pi&gt; data, then all applicable Public Identity data will be returned in the response message. If no matching Public Identifiers are found, then an empty result set is returned.</p>
<p id="rfc.section.6.9.p.21">GetPubIdsRqstType object structure is as follows:</p>
<div id="#rfc.figure.29"></div>
<pre>
                
  &lt;complexType name="GetPubIdsRqstType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:BasicQueryRqstType"&gt;
        &lt;sequence&gt;
          &lt;element name="pi" type="spppb:PubIdType" minOccurs="0"
            maxOccurs="unbounded"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
                          
              </pre>
<p></p>
<p id="rfc.section.6.9.p.23">As described earlier in the document, the result of any spppQueryRequest operation is a spppQueryResponse that contains the response code and the query result set, if any.</p>
<h1 id="rfc.section.6.10">
<a href="#rfc.section.6.10">6.10.</a> <a href="#egressRteOper" id="egressRteOper">Egress Route Operations</a>
</h1>
<p id="rfc.section.6.10.p.1">In a high-availability environment, the originating SSP likely has more than one egress paths to the ingress SBE of the target SSP.  If the originating SSP wants to exercise greater control and choose a specific egress SBE to be associated to the target ingress SBE, it can do so using the AddEgrRteRqstType object.</p>
<p id="rfc.section.6.10.p.2">Lets assume that the target SSP has offered to share one or more ingress route information and that the originating SSP has accepted the offer. In order to add the egress route to the Registry, the originating SSP uses a valid regular expression to rewrite ingress route in order to include the egress SBE information. Also, more than one egress route can be associated with a given ingress route in support of fault-tolerant configurations. The supporting SPPP protocol structure provides a way to include route precedence information to help manage traffic to more than one outbound egress SBE.</p>
<p id="rfc.section.6.10.p.3">An egress route is identified by type EgrRteType and its object structure is shown below: </p>
<div id="#rfc.figure.30"></div>
<pre>
              
  &lt;complexType name="EgrRteType"&gt;
    &lt;complexContent&gt;
     &lt;extension base="spppb:BasicObjType"&gt;
       &lt;sequence&gt;
         &lt;element name="egrRteName" type="spppb:ObjNameType"/&gt;
         &lt;element name="pref" type="unsignedShort"/&gt;
         &lt;element name="regxRewriteRule" type="spppb:RegexParamType"/&gt;
         &lt;element name="ingrRteRec" type="spppb:ObjKeyType" 
            minOccurs="0" maxOccurs="unbounded"/&gt;
         &lt;element name="ext" type="spppb:ExtAnyType" minOccurs="0"/&gt;
       &lt;/sequence&gt;
     &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
  
            </pre>
<p></p>
<p id="rfc.section.6.10.p.5">The EgrRteType object is composed of the following elements: </p>

<ul>
<li>base: All first class objects extend BasicObjType which contains the ID of the registrant organization that owns this object, the ID of the registrar organization that provisioned this object, the date and time that the object was created by the server, and the date and time that the object was last modified. If the client passes in either the created date or the modification date, the server will ignore them.  The server sets these two date/time values.</li>
<li>egrRteName: The name of the egress route. </li>
<li>pref: The preference of this egress route relative to other egress routes that may get selected when responding to a resolution request.</li>
<li>regxRewriteRule: The regular expression re-write rule that should be applied to the&#160;regular expression of the ingress NAPTR(s) that belong to the ingress route.</li>
<li>ingrRteRec: The ingress route records that the egress route should be used for. </li>
<li>ext: Point of extensibility described in a previous section of this document. </li>
</ul>

<p> </p>
<p id="rfc.section.6.10.p.6">The AddEgrRteRqstType request is used to create or overwrite an egress route. </p>
<div id="#rfc.figure.31"></div>
<pre>
              
  &lt;complexType name="AddEgrRteRqstType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:BasicRqstType"&gt;
        &lt;sequence&gt;
          &lt;element name="egrRte" type="spppb:EgrRteType"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
              
            </pre>
<p></p>
<p id="rfc.section.6.10.p.8">An instance of AddEgrRtesRqstType is added in the spppUpdateRequest element in order to send a valid request to the server. Any limitation on the maximum number of AddEgrRteRqstType instances is a matter of policy and is not limited by the specification. </p>
<p id="rfc.section.6.10.p.9">The response from the server is returned in addEgrRteRspns element, which is defined as the element of type BasicRspnsType. </p>
<p id="rfc.section.6.10.p.10">The GetEgrRtesRqstType is used by an authorized entity to fetch the well-known egress route data. </p>
<div id="#rfc.figure.32"></div>
<pre>
                
  &lt;complexType name="GetEgrRtesRqstType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:BasicQueryRqstType"&gt;
        &lt;sequence&gt;
          &lt;element name="objKey" type="spppb:ObjKeyType"
            minOccurs="0" maxOccurs="unbounded"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
                 
              </pre>
<p></p>
<h1 id="rfc.section.6.11">
<a href="#rfc.section.6.11">6.11.</a> <a href="#addrterec" id="addrterec">Add Route Record Operation</a>
</h1>
<p id="rfc.section.6.11.p.1">As described in the introductory sections, a Route Group represents a combined grouping of Route Records that define route information. However, Route Records need not be created to just serve a single Route Group.  Route Records can be created and managed to serve multiple Route Groups.  As a result, a change to the properties of a network node, for example, that is used for multiple routes, would necessitate just a single update operation to change the properties of that node.  The change would then be reflected in all the Route Groups whose route record set contains a reference to that node. </p>
<p id="rfc.section.6.11.p.2">The AddRteRecRqstType operation creates or overwrites a Route Record object. If a Route Record with the given name and registrant ID (which together comprise the unique key or a Route Record) does not exist, then the server MUST create the Route Record. If a Route Record with the given name and registrant ID does exist, then the server MUST replace the current properties of the Route Record with the properties passed into the AddRteRecRqstType operation. The XSD declarations of the AddRteRecRqstType operation request object are as follows: </p>
<div id="#rfc.figure.33"></div>
<pre>
              
  &lt;complexType name="AddRteRecRqstType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:BasicRqstType"&gt;
        &lt;sequence&gt;
          &lt;element name="rteRec" type="spppb:RteRecType"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
                        
            </pre>
<p></p>
<p id="rfc.section.6.11.p.4">The element passed into the spppUpdateRequest element for this operation is an instance of AddRteRecRqstType, which extends BasicRqstType and contains one RteRecType object. The RteRecType object structure is defined as follows: </p>
<div id="#rfc.figure.34"></div>
<pre>
              
  &lt;complexType name="RteRecType" abstract="true"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:BasicObjType"&gt;
         &lt;sequence&gt;
           &lt;element name="rrName" type="spppb:ObjNameType"/&gt;
           &lt;element name="priority" type="unsignedShort" minOccurs="0"/&gt;
         &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
                        
            </pre>
<p></p>
<p id="rfc.section.6.11.p.6">The RteRecType object is composed of the following elements: </p>

<ul>
<li>base: All first class objects extend BasicObjType which contains the ID of the registrant organization that owns this object, the ID of the registrar organization that provisioned this object, the date and time that the object was created by the server, and the date and time that the object was last modified. If the client passes in either the created date or the modification date, the server will ignore them.  The server sets these two date/time values.</li>
<li>rrName: The character string that contains the name of the Route Record. It uniquely identifies this object within the context of the registrant ID (a child element of the base element as described above). </li>
<li>priority: Zero or one priority value that can be used to provide a relative value weighting of one Route Record over another.  The manner in which this value is used, perhaps in conjunction with other factors, is a matter of policy.</li>
<li>ext: Point of extensibility described in a previous section of this document. </li>
</ul>

<p> </p>
<p id="rfc.section.6.11.p.7">As described above, route records are based on an abstract type: RteRecType. The concrete types that use RteRecType as an extension base are NAPTRType, NSType, and URIType. The definitions of these types are included below.  The NAPTRType object is comprised of the data elements necessary for a NAPTR that contains routing information for a Route Group. The NSType object is comprised of the data elements necessary for a Name Server that points to another DNS server that contains the desired routing information.  The URIType object is comprised of the data elements necessary to house a URI. </p>
<p id="rfc.section.6.11.p.8">The data provisioned in a Registry can be leveraged for many purposes and queried using various protocols including SIP, ENUM and others. It is for this reason that a route record type offers a choice of URI and DNS resource record types. URIType fulfills the need for both SIP and ENUM protocols. When a given URIType is associated to a destination group, the user part of the replacement string &lt;uri&gt; that may require the Public Identifier cannot be preset. As a SIP Redirect, the resolution server will apply &lt;ere&gt; pattern on the input Public Identifier in the query and process the replacement string by substituting any back reference(s) in the &lt;uri&gt; to arrive at the final URI that is returned in the SIP Contact header. For an ENUM query, the resolution server will simply return the value of the &lt;ere&gt; and &lt;uri&gt; members of the URIType in the NAPTR REGEX parameter.</p>
<div id="#rfc.figure.35"></div>
<pre>
              
  &lt;complexType name="RteRecType" abstract="true"&gt;
    &lt;sequence&gt;
      &lt;element name="rrName" type="spppb:ObjNameType"/&gt;
      &lt;element name="priority" type="unsignedShort"/&gt;
    &lt;/sequence&gt;
  &lt;/complexType&gt;
  &lt;complexType name="NAPTRType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:RteRecType"&gt;
        &lt;sequence&gt;
          &lt;element name="order" type="unsignedShort"/&gt;
          &lt;element name="flags" type="string" minOccurs="0"/&gt;
          &lt;element name="svcs" type="string"/&gt;
          &lt;element name="regx" type="spppb:RegexParamType"
            minOccurs="0"/&gt;
          &lt;element name="repl" type="string" minOccurs="0"/&gt;
          &lt;element name="ttl" type="positiveInteger" minOccurs="0"/&gt;
          &lt;element name="ext" type="spppb:ExtAnyType" minOccurs="0"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
  
  &lt;complexType name="NSType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:RteRecType"&gt;
        &lt;sequence&gt;
          &lt;element name="hostName" type="string"/&gt;
          &lt;element name="ipAddr" type="spppb:IPAddrType" minOccurs="0"
            maxOccurs="unbounded"/&gt;
          &lt;element name="ttl" type="positiveInteger" minOccurs="0"/&gt;
          &lt;element name="ext" type="spppb:ExtAnyType" minOccurs="0"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
  
  &lt;complexType name="URIType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:RteRecType"&gt;
        &lt;sequence&gt;
          &lt;element name="ere" type="string" default="^(.*)$"/&gt;
          &lt;element name="uri" type="string"/&gt;
          &lt;element name="ext" type="spppb:ExtAnyType" minOccurs="0"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;

  &lt;complexType name="IPAddrType"&gt;
    &lt;sequence&gt;
      &lt;element name="addr" type="string"/&gt;
      &lt;element name="type" type="spppb:IPType"/&gt;
      &lt;element name="ext" type="spppb:ExtAnyType" minOccurs="0"/&gt;
    &lt;/sequence&gt;
  &lt;/complexType&gt;
  
  &lt;simpleType name="IPType"&gt;
    &lt;restriction base="token"&gt;
      &lt;enumeration value="IPv4"/&gt;
      &lt;enumeration value="IPv6"/&gt;
    &lt;/restriction&gt;
  &lt;/simpleType&gt;

                        
            </pre>
<p></p>
<p id="rfc.section.6.11.p.10">The NAPTRType object is composed of the following elements: </p>

<ul>
<li>order: Order value in an ENUM NAPTR, relative to other NAPTRType objects in the same Route Group. </li>
<li>svcs: ENUM service(s) that are served by the SBE. This field's value must be of the form specified in <a href="#RFC3761">[RFC3761]</a> (e.g., E2U+pstn:sip+sip). The allowable values are a matter of policy and not limited by this protocol. </li>
<li>regx: NAPTR&#8217;s regular expression field. If this is not included then the Repl field must be included. </li>
<li>repl: NAPTR replacement field, should only be provided if the Regex field is not provided, otherwise it will be ignored by the server. </li>
<li>ttl: Number of seconds that an addressing server may cache this NAPTR. </li>
<li>ext: Point of extensibility described in a previous section of this document. </li>
</ul>

<p> </p>
<p id="rfc.section.6.11.p.11">The NSType object is composed of the following elements: </p>

<ul>
<li>hostName: Fully qualified host name of the name server. </li>
<li>ipAddr: Zero or more objects of type IpAddrType. Each object holds an IP Address and the IP Address type, IPv4 or IP v6. </li>
<li>ttl: Number of seconds that an addressing server may cache this Name Server. </li>
<li>ext: Point of extensibility described in a previous section of this document. </li>
</ul>

<p> </p>
<p id="rfc.section.6.11.p.12">The URIType object is composed of the following elements: </p>

<ul>
<li>ere: The POSIX Extended Regular Expression (ere) as defined in <a href="#RFC3986">[RFC3986]</a>.  </li>
<li>uri: the URI as defined in <a href="#RFC3986">[RFC3986]</a>. In some cases, this will serve as the replacement string and it will be left to the resolution server to arrive at the final usable URI.  </li>
</ul>

<p> </p>
<p id="rfc.section.6.11.p.13">As with the responses to all update operations, the result of the AddRteRecRqstType operation is contained in the generic spppUpdateResponse data structure described in an earlier sections of this document.  For a detailed description of the spppUpdateResponse data structure refer to that section of the document.</p>
<h1 id="rfc.section.6.12">
<a href="#rfc.section.6.12">6.12.</a> <a href="#getrterecs" id="getrterecs">Get Route Records Operation</a>
</h1>
<p id="rfc.section.6.12.p.1">The getRteRecsRqst operation allows a client to get the properties of Route Record objects that a registrar organization is authorized to view. The server will attempt to find a Route Record object that has the registrant ID and route record name pair contained in each ObjKeyType object instance. If the set of ObjKeyType objects is empty then the server will return the list of Route Record objects that the querying client has the authority to view. If there are no matching Route Record found then an empty result set will be returned. </p>
<p id="rfc.section.6.12.p.2">The element passed into the spppQueryRequest element for this operation is an instance of type GetRteRecsRqstType, which extends BasicRqstType and contains zero or more ObjKeyType objects. Any limitation on the maximum number of objects that may be passed into or returned by this operation is a policy decision and not limited by the protocol. The XSD declaration of the operation is as follows: </p>
<div id="#rfc.figure.36"></div>
<pre>
              
  &lt;complexType name="GetRteRecsRqstType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:BasicQueryRqstType"&gt;
        &lt;sequence&gt;
          &lt;element name="objKey" type="spppb:ObjKeyType"
            minOccurs="0" maxOccurs="unbounded"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
                        
            </pre>
<p></p>
<p id="rfc.section.6.12.p.4">As described in an earlier section of this document, the result of any spppQueryRequest operation is an spppQueryResponse element that contains the overall response code and the query result set, if any.  Refer to that section of the document for a detailed description of the spppQueryResponse element.</p>
<h1 id="rfc.section.6.13">
<a href="#rfc.section.6.13">6.13.</a> <a href="#delete_oper" id="delete_oper">Delete Operation</a>
</h1>
<p id="rfc.section.6.13.p.1">In order to remove an object from the Registry, an authorized entity can send the &lt;spppUpdateRequest&gt; to the Registry with a corresponding delete BasicRqstType object. If the entity that issued the command is not authorized to perform this operation or if the public identifier doesn't exist, an appropriate error code will be returned in the &lt;spppUpdateRespnonse&gt; message. </p>
<p id="rfc.section.6.13.p.2">As an example, DelPubIdRqstType aids in identifying the Public Identifier that is used to delete a Public Identifier from the Registry. DelPubIdsRqstType object definition is shown below: </p>
<div id="#rfc.figure.37"></div>
<pre>
                
  &lt;complexType name="DelPubIdRqstType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:BasicRqstType"&gt;
        &lt;sequence&gt;
          &lt;element name="pi" type="spppb:PubIdType"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
                          
              </pre>
<p></p>
<p id="rfc.section.6.13.p.4">Similarly, each 'Add' operation in the SP protocol has a corresponding 'Del' operation used to delete the respective object type from the Registry.</p>
<h1 id="rfc.section.7">
<a href="#rfc.section.7">7.</a> <a href="#examples" id="examples">SPPP Examples</a>
</h1>
<p id="rfc.section.7.p.1">This section shows XML message exchange between two SIP Service Providers (SSP) and a Registry. For the sake of simplicity, the transport wrapper for the SPPP protocol is left out. The SPPP protocol messages in this section are valid XML instances that conform to the SPPP schema version within this document.</p>
<p id="rfc.section.7.p.2">In this sample use case scenario, SSP1 and SSP2 provision resource data in the registry and use SPPP constructs to selectively share the route groups. In the figure below, SSP2 has two ingress SBE instances that are associated with the public identities that SSP2 has the retail relationship with. Also, the two SBE instances for SSP1 are used to show how to use SPPP protocol to associate route preferences for the destination ingress routes and exercise greater control on outbound traffic to the peer's ingress SBEs.</p>
<div id="#rfc.figure.38"></div>
<pre>
            
   ---------------+                      +------------------
                  |                      |            
              +------+               +------+
              | sbe1 |               | sbe2 |
              +------+               +------+
    SSP1          |                      |           SSP2
              +------+               +------+
              | sbe3 |               | sbe4 |
              +------+               +------+
   iana-en:111    |                      |     iana-en:222
   ---------------+                      +------------------
           |                                     |
           |                                     |
           | SPPP   +------------------+   SPPP  |
           +-------&gt;|     Registry     |&lt;--------+
                    +------------------+
                        
            </pre>
<p></p>
<h1 id="rfc.section.7.1">
<a href="#rfc.section.7.1">7.1.</a> <a href="#add_destgrp" id="add_destgrp">Add Destination Group</a>
</h1>
<p id="rfc.section.7.1.p.1">SSP2 adds a destination group to the Registry for use later. The SSP2 SPPP client sets a unique transaction identifier 'tx_7777' for tracking purposes. The name of the destination group is set to DEST_GRP_SSP2_1</p>
<div id="#rfc.figure.39"></div>
<pre>
              
   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;spppUpdateRequest 
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd"
    xmlns="urn:ietf:params:xml:ns:sppp:base:1"&gt;
     &lt;clientTransId&gt;txid-5555&lt;/clientTransId&gt;
     &lt;rqst xmlns:ns1="urn:ietf:params:xml:ns:sppp:base:1"
       xsi:type="ns1:AddDestGrpRqstType"&gt;
       &lt;destGrp&gt;
         &lt;ns1:rant&gt;iana-en:222&lt;/ns1:rant&gt;
         &lt;ns1:rar&gt;iana-en:222&lt;/ns1:rar&gt;
         &lt;dgName&gt;DEST_GRP_SSP2_1&lt;/dgName&gt;
       &lt;/destGrp&gt;
     &lt;/rqst&gt;
   &lt;/spppUpdateRequest&gt;
              
            </pre>
<p></p>
<p id="rfc.section.7.1.p.3">The Registry processes the request and return a favorable response confirming successful creation of the named destination group. Also, besides returning a unique transaction identifier, Registry also returns the matching client transaction identifier from the request message back to the SPPP client.</p>
<div id="#rfc.figure.40"></div>
<pre>
              
   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;spppUpdateResponse 
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd"
    xmlns="urn:ietf:params:xml:ns:sppp:base:1"&gt;
     &lt;clientTransId&gt;tx_5555&lt;/clientTransId&gt;
     &lt;serverTransId&gt;tx_id_12346&lt;/serverTransId&gt;
     &lt;overallResult&gt;
       &lt;code&gt;1000&lt;/code&gt;
       &lt;msg&gt;success&lt;/msg&gt;
     &lt;/overallResult&gt;
   &lt;/spppUpdateResponse&gt;
              
            </pre>
<p></p>
<h1 id="rfc.section.7.2">
<a href="#rfc.section.7.2">7.2.</a> <a href="#add_rterecs" id="add_rterecs">Add Route Records</a>
</h1>
<p id="rfc.section.7.2.p.1">SSP2 adds an ingress routes in the Registry.</p>
<div id="#rfc.figure.41"></div>
<pre>
              
  &lt;?xml version="1.0" encoding="UTF-8"?&gt;
  &lt;spppUpdateRequest
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd"
    xmlns="urn:ietf:params:xml:ns:sppp:base:1"&gt;
    &lt;rqst xmlns:ns1="urn:ietf:params:xml:ns:sppp:base:1"
      xsi:type="ns1:AddRteRecRqstType"&gt;
      &lt;rteRec xmlns:ns1="urn:ietf:params:xml:ns:sppp:base:1"
        xsi:type="ns1:NAPTRType"&gt;
        &lt;rant&gt;iana-en:222&lt;/rant&gt;
        &lt;rar&gt;iana-en:222&lt;/rar&gt;
        &lt;ns1:rrName&gt;RTE_SSP2_SBE2&lt;/ns1:rrName&gt;
        &lt;order&gt;10&lt;/order&gt;
        &lt;flags&gt;u&lt;/flags&gt;
        &lt;svcs&gt;E2U+sip&lt;/svcs&gt;
        &lt;regx&gt;
          &lt;ere&gt;^(.*)$&lt;/ere&gt;
          &lt;repl&gt;sip:\1@sbe2.ssp2.example.com&lt;/repl&gt;
        &lt;/regx&gt;
      &lt;/rteRec&gt;
    &lt;/rqst&gt;
  &lt;/spppUpdateRequest&gt;
              
            </pre>
<p></p>
<p id="rfc.section.7.2.p.3">The Registry returns a success response.</p>
<div id="#rfc.figure.42"></div>
<pre>
              
  &lt;?xml version="1.0" encoding="UTF-8"?&gt;
  &lt;spppUpdateResponse
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd"
    xmlns="urn:ietf:params:xml:ns:sppp:base:1"&gt;
    &lt;serverTransId&gt;tx_id_11145&lt;/serverTransId&gt;
    &lt;overallResult&gt;
      &lt;code&gt;1000&lt;/code&gt;
      &lt;msg&gt;Request successful&lt;/msg&gt;
    &lt;/overallResult&gt;
  &lt;/spppUpdateResponse&gt;
              
            </pre>
<p></p>
<h1 id="rfc.section.7.3">
<a href="#rfc.section.7.3">7.3.</a> <a href="#add_rterecs_uritype" id="add_rterecs_uritype">Add Route Records -- URIType</a>
</h1>
<p id="rfc.section.7.3.p.1">SSP2 adds another ingress routes in the Registry and makes use of URIType</p>
<div id="#rfc.figure.43"></div>
<pre>
              
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;spppUpdateRequest&gt;
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd"
  xmlns="urn:ietf:params:xml:ns:sppp:base:1"&gt;
  &lt;rqst xmlns:ns1="urn:ietf:params:xml:ns:sppp:base:1"
    xsi:type="ns1:AddRteRecRqstType"&gt;
    &lt;rteRec xsi:type="ns1:URIType"&gt;
      &lt;rant&gt;iana-en:222&lt;/rant&gt;
      &lt;rar&gt;iana-en:222&lt;/rar&gt;
      &lt;rrName&gt;RTE_SSP2_SBE4&lt;/rrName&gt;
      &lt;ere&gt;^(.*)$&lt;/ere&gt;
      &lt;uri&gt;sip:\1;npdi@sbe4.ssp2.example.com&lt;/uri&gt;
    &lt;/rteRec&gt;
  &lt;/rqst&gt;
&lt;/spppUpdateRequest&gt;
              
            </pre>
<p></p>
<p id="rfc.section.7.3.p.3">The Registry returns a success response.</p>
<div id="#rfc.figure.44"></div>
<pre>
              
  &lt;?xml version="1.0" encoding="UTF-8"?&gt;
  &lt;spppUpdateResponse
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd"
    xmlns="urn:ietf:params:xml:ns:sppp:base:1"&gt;
    &lt;serverTransId&gt;tx_id_11145&lt;/serverTransId&gt;
    &lt;overallResult&gt;
      &lt;code&gt;1000&lt;/code&gt;
      &lt;msg&gt;Request successful&lt;/msg&gt;
    &lt;/overallResult&gt;
  &lt;/spppUpdateResponse&gt;
              
            </pre>
<p></p>
<h1 id="rfc.section.7.4">
<a href="#rfc.section.7.4">7.4.</a> <a href="#add_rtegrp" id="add_rtegrp">Add Route Group</a>
</h1>
<p id="rfc.section.7.4.p.1">SSP2 creates the grouping of the ingress routes and choses higher precedence for RTE_SSP2_SBE2 by setting a lower number for the "priority" attribute, a protocol agnostic precedence indicator.</p>
<div id="#rfc.figure.45"></div>
<pre>
              
  &lt;?xml version="1.0" encoding="UTF-8"?&gt;
  &lt;spppUpdateRequest
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd"
    xmlns="urn:ietf:params:xml:ns:sppp:base:1"&gt;
    &lt;rqst xmlns:ns1="urn:ietf:params:xml:ns:sppp:base:1"
      xsi:type="ns1:AddRteGrpRqstType"&gt;
      &lt;rteGrp&gt;
        &lt;rant&gt;iana-en:222&lt;/rant&gt;
        &lt;rar&gt;iana-en:222&lt;/rar&gt;
        &lt;rgName&gt;RTE_GRP_SSP2_1&lt;/rgName&gt;
        &lt;rrRef&gt;
          &lt;rrKey&gt;
            &lt;rant&gt;iana-en:222&lt;/rant&gt;
            &lt;name&gt;RTE_SSP2_SBE2&lt;/name&gt;
          &lt;/rrKey&gt;
          &lt;priority&gt;100&lt;/priority&gt;
        &lt;/rrRef&gt;
        &lt;dgName&gt;DEST_GRP_SSP2_1&lt;/dgName&gt;
        &lt;isInSvc&gt;true&lt;/isInSvc&gt;
        &lt;ns1:priority&gt;10&lt;/ns1:priority&gt;
      &lt;/rteGrp&gt;
    &lt;/rqst&gt;
  &lt;/spppUpdateRequest&gt;
              
            </pre>
<p></p>
<p id="rfc.section.7.4.p.3">To confirm successful processing of this request, Registry returns a well-known resolution code '1000' to the SSP2 client.</p>
<div id="#rfc.figure.46"></div>
<pre>
              
  &lt;?xml version="1.0" encoding="UTF-8"?&gt;
  &lt;spppUpdateResponse
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd"
    xmlns="urn:ietf:params:xml:ns:sppp:base:1"&gt;
    &lt;serverTransId&gt;tx_id_12345&lt;/serverTransId&gt;
    &lt;overallResult&gt;
      &lt;code&gt;1000&lt;/code&gt;
      &lt;msg&gt;Request successful&lt;/msg&gt;
    &lt;/overallResult&gt;
  &lt;/spppUpdateResponse&gt;
              
            </pre>
<p></p>
<h1 id="rfc.section.7.5">
<a href="#rfc.section.7.5">7.5.</a> <a href="#add_pi_corclaim" id="add_pi_corclaim">Add Public Identity -- Successful COR claim</a>
</h1>
<p id="rfc.section.7.5.p.1">SSP2 activates a TN public identity by associating it with a valid destination group. Further, SSP2 puts forth a claim that it is the carrier-of-record for the TN.</p>
<div id="#rfc.figure.47"></div>
<pre>
              
  &lt;?xml version="1.0" encoding="UTF-8"?&gt;
  &lt;spppUpdateRequest xmlns="urn:ietf:params:xml:ns:sppp:base:1"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd"&gt;
    &lt;clientTransId&gt;txid-5577&lt;/clientTransId&gt;
    &lt;rqst xmlns:ns1="urn:ietf:params:xml:ns:sppp:base:1"
      xsi:type="ns1:AddPubIdRqstType"&gt;
      &lt;pi xsi:type="ns1:TNType"&gt;
        &lt;rant&gt;iana-en:222&lt;/rant&gt;
        &lt;rar&gt;iana-en:222&lt;/rar&gt;
        &lt;cDate&gt;2010-05-30T09:30:10Z&lt;/cDate&gt;
        &lt;dgName&gt;DEST_GRP_SSP2_1&lt;/dgName&gt;
        &lt;tn&gt;+12025556666&lt;/tn&gt;
        &lt;corInfo&gt;
          &lt;corClaim&gt;true&lt;/corClaim&gt;
        &lt;/corInfo&gt;
      &lt;/pi&gt;
    &lt;/rqst&gt;
  &lt;/spppUpdateRequest&gt;
              
            </pre>
<p></p>
<p id="rfc.section.7.5.p.3">Assuming that the Registry has access to TN authority data and it performs the required checks to verify that SSP2 is in fact the service provider of record for the given TN, the request is processed successfully. In the response message, the Registry sets the value of &lt;cor&gt; to "true" in order to confirm SSP2 claim as the carrier of record and the &lt;corDate&gt; reflects the time when the carrier of record claim is processed.</p>
<div id="#rfc.figure.48"></div>
<pre>
              
  &lt;?xml version="1.0" encoding="UTF-8"?&gt;
  &lt;spppUpdateResponse 
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd"
    xmlns="urn:ietf:params:xml:ns:sppp:base:1"&gt;
    &lt;clientTransId&gt;txid-5577&lt;/clientTransId&gt;
    &lt;serverTransId&gt;tx_id_12345&lt;/serverTransId&gt;
    &lt;overallResult&gt;
      &lt;code&gt;1000&lt;/code&gt;
      &lt;msg&gt;success&lt;/msg&gt;
    &lt;/overallResult&gt;
    &lt;rqstObjResult&gt;
      &lt;code&gt;1000&lt;/code&gt;
      &lt;msg&gt;success&lt;/msg&gt;
      &lt;rqstObj xmlns:ns1="urn:ietf:params:xml:ns:sppp:base:1"
        xsi:type="ns1:AddPubIdRqstType"&gt;
        &lt;pi xsi:type="ns1:TNType"&gt;
          &lt;rant&gt;iana-en:222&lt;/rant&gt;
          &lt;rar&gt;iana-en:222&lt;/rar&gt;
          &lt;cDate&gt;2010-05-30T09:30:10Z&lt;/cDate&gt;
          &lt;dgName&gt;DEST_GRP_SSP2_1&lt;/dgName&gt;
          &lt;tn&gt;+12025556666&lt;/tn&gt;
          &lt;corInfo&gt;
            &lt;corClaim&gt;true&lt;/corClaim&gt;
            &lt;cor&gt;true&lt;/cor&gt;
            &lt;corDate&gt;2010-05-30T09:30:11Z&lt;/corDate&gt;
          &lt;/corInfo&gt;
        &lt;/pi&gt;
      &lt;/rqstObj&gt;
    &lt;/rqstObjResult&gt;
  &lt;/spppUpdateResponse&gt;
              
            </pre>
<p></p>
<h1 id="rfc.section.7.6">
<a href="#rfc.section.7.6">7.6.</a> <a href="#add_lrn" id="add_lrn">Add LRN</a>
</h1>
<p id="rfc.section.7.6.p.1">If another entity that SSP2 shares the routes with has access to Number Portability data, it may choose to perform route lookups by routing number. Therefore, SSP2 associates a routing number to a destination group in order to facilitate ingress route discovery.</p>
<div id="#rfc.figure.49"></div>
<pre>
              
  &lt;?xml version="1.0" encoding="UTF-8"?&gt;
  &lt;spppUpdateRequest xmlns="urn:ietf:params:xml:ns:sppp:base:1"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd"&gt;
    &lt;rqst xmlns:ns1="urn:ietf:params:xml:ns:sppp:base:1"
      xsi:type="ns1:AddPubIdRqstType"&gt;
      &lt;pi xmlns:ns1="urn:ietf:params:xml:ns:sppp:base:1"
        xsi:type="ns1:RNType"&gt;
        &lt;rant&gt;iana-en:222&lt;/rant&gt;
        &lt;rar&gt;iana-en:222&lt;/rar&gt;
        &lt;ns1:dgName&gt;DEST_GRP_SSP2_1&lt;/ns1:dgName&gt;
        &lt;rn&gt;2025550000&lt;/rn&gt;
      &lt;/pi&gt;
    &lt;/rqst&gt;
  &lt;/spppUpdateRequest&gt;
              
            </pre>
<p></p>
<p id="rfc.section.7.6.p.3">Registry completes the request successfully and returns a favorable response to the SPPP client.</p>
<div id="#rfc.figure.50"></div>
<pre>
              
  &lt;?xml version="1.0" encoding="UTF-8"?&gt;
  &lt;spppUpdateResponse 
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd"
    xmlns="urn:ietf:params:xml:ns:sppp:base:1"&gt;  
    &lt;serverTransId&gt;tx_id_12345&lt;/serverTransId&gt;
    &lt;overallResult&gt;
      &lt;code&gt;1000&lt;/code&gt;
      &lt;msg&gt;Request successful&lt;/msg&gt;
    &lt;/overallResult&gt;
  &lt;/spppUpdateResponse&gt;
              
            </pre>
<p></p>
<h1 id="rfc.section.7.7">
<a href="#rfc.section.7.7">7.7.</a> <a href="#add_tn_range" id="add_tn_range">Add TN Range</a>
</h1>
<p id="rfc.section.7.7.p.1">Next, SSP2 activates a block of ten thousand TNs and associate it to a destination group. Since the 'prefix' public identity attribute is not set to 'true', this means that the TNs belong to a closed number plan.</p>
<div id="#rfc.figure.51"></div>
<pre>
              
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;spppUpdateRequest xmlns="urn:ietf:params:xml:ns:sppp:base:1"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd"&gt;
  &lt;rqst xmlns:ns1="urn:ietf:params:xml:ns:sppp:base:1"
    xsi:type="ns1:AddPubIdRqstType"&gt;
    &lt;pi xsi:type="ns1:TNRType"&gt;
      &lt;rant&gt;iana-en:222&lt;/rant&gt;
      &lt;rar&gt;iana-en:222&lt;/rar&gt;
      &lt;dgName&gt;DEST_GRP_SSP2_1&lt;/dgName&gt;
      &lt;startTn&gt;+12026660000&lt;/startTn&gt;
      &lt;endTn&gt;+12026669999&lt;/endTn&gt;
    &lt;/pi&gt;
  &lt;/rqst&gt;
&lt;/spppUpdateRequest&gt;
              
            </pre>
<p></p>
<p id="rfc.section.7.7.p.3">Registry completes the request successfully and returns a favorable response.</p>
<div id="#rfc.figure.52"></div>
<pre>
              
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;spppUpdateResponse 
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd"
  xmlns="urn:ietf:params:xml:ns:sppp:base:1"&gt;
  &lt;serverTransId&gt;tx_id_12244498&lt;/serverTransId&gt;
  &lt;overallResult&gt;
    &lt;code&gt;1000&lt;/code&gt;
    &lt;msg&gt;Request successful&lt;/msg&gt;
  &lt;/overallResult&gt;
&lt;/spppUpdateResponse&gt;
              
            </pre>
<p></p>
<h1 id="rfc.section.7.8">
<a href="#rfc.section.7.8">7.8.</a> <a href="#add_tn_range_onp" id="add_tn_range_onp">Add TN Range with Open Number Plan support</a>
</h1>
<p id="rfc.section.7.8.p.1">In this case, open number plan refers to TN length variance. Inclusion of "prefix" attribute of TNRType with its value set to true indicates that the start TN range identified by the &lt;tn&gt; element is not necessarily a subscriber number and the Registry will have to consult the number plan data for the respective country to know how to expand the number range. &lt;endTn&gt; attribute marks the end of the TN range.</p>
<div id="#rfc.figure.53"></div>
<pre>
              
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;spppUpdateRequest xmlns="urn:ietf:params:xml:ns:sppp:base:1"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd"&gt;
  &lt;rqst xmlns:ns1="urn:ietf:params:xml:ns:sppp:base:1"
    xsi:type="ns1:AddPubIdRqstType"&gt;
    &lt;pi xsi:type="ns1:TNRType" prefix="true"&gt;
      &lt;rant&gt;iana-en:222&lt;/rant&gt;
      &lt;rar&gt;iana-en:222&lt;/rar&gt;
      &lt;ns1:dgName&gt;DEST_GRP_SSP2_1&lt;/ns1:dgName&gt;
      &lt;startTn&gt;+4312315566&lt;/startTn&gt;
      &lt;endTn&gt;+4312315567&lt;/endTn&gt;
    &lt;/pi&gt;
  &lt;/rqst&gt;
&lt;/spppUpdateRequest&gt;
              
            </pre>
<p></p>
<p id="rfc.section.7.8.p.3">Registry completes the request successfully and returns a favorable response.</p>
<div id="#rfc.figure.54"></div>
<pre>
              
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;spppUpdateResponse 
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd"
  xmlns="urn:ietf:params:xml:ns:sppp:base:1"&gt;
  &lt;serverTransId&gt;tx_id_12255598&lt;/serverTransId&gt;
  &lt;overallResult&gt;
    &lt;code&gt;1000&lt;/code&gt;
    &lt;msg&gt;Request successful&lt;/msg&gt;
  &lt;/overallResult&gt;
&lt;/spppUpdateResponse&gt;
              
            </pre>
<p></p>
<h1 id="rfc.section.7.9">
<a href="#rfc.section.7.9">7.9.</a> <a href="#add_tn_prefix" id="add_tn_prefix">Add TN Prefix</a>
</h1>
<p id="rfc.section.7.9.p.1">Next, SSP2 activates a block of ten thousand TNs using the TNPType structure and identifying a TN prefix.</p>
<div id="#rfc.figure.55"></div>
<pre>
              
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;spppUpdateRequest xmlns="urn:ietf:params:xml:ns:sppp:base:1"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd"&gt;
  &lt;rqst xmlns:ns1="urn:ietf:params:xml:ns:sppp:base:1"
    xsi:type="ns1:AddPubIdRqstType"&gt;
    &lt;pi xsi:type="ns1:TNPType"&gt;
      &lt;rant&gt;iana-en:222&lt;/rant&gt;
      &lt;rar&gt;iana-en:222&lt;/rar&gt;
      &lt;ns1:dgName&gt;DEST_GRP_SSP2_1&lt;/ns1:dgName&gt;
      &lt;tnPrefix&gt;+1202777&lt;/tnPrefix&gt;
    &lt;/pi&gt;
  &lt;/rqst&gt;
&lt;/spppUpdateRequest&gt;
              
            </pre>
<p></p>
<p id="rfc.section.7.9.p.3">Registry completes the request successfully and returns a favorable response.</p>
<div id="#rfc.figure.56"></div>
<pre>
              
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;spppUpdateResponse 
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd"
  xmlns="urn:ietf:params:xml:ns:sppp:base:1"&gt;
  &lt;serverTransId&gt;tx_id_12387698&lt;/serverTransId&gt;
  &lt;overallResult&gt;
    &lt;code&gt;1000&lt;/code&gt;
    &lt;msg&gt;Request successful&lt;/msg&gt;
  &lt;/overallResult&gt;
&lt;/spppUpdateResponse&gt;
              
            </pre>
<p></p>
<h1 id="rfc.section.7.10">
<a href="#rfc.section.7.10">7.10.</a> <a href="#add_rte_grp_offer" id="add_rte_grp_offer">Enable Peering -- Route Group Offer</a>
</h1>
<p id="rfc.section.7.10.p.1">In order for SSP1 to complete session establishment for a destination TN where the target subscriber has a retail relationship with SSP2, it first requires an asynchronous bi-directional handshake to show mutual consent. To start the process, SSP2 initiates the peering handshake by offering SSP1 access to its route group.</p>
<div id="#rfc.figure.57"></div>
<pre>
              
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;spppUpdateRequest xmlns="urn:ietf:params:xml:ns:sppp:base:1"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd"&gt;
  &lt;rqst xmlns:ns1="urn:ietf:params:xml:ns:sppp:base:1"
    xsi:type="ns1:AddRteGrpOfferRqstType"&gt;
    &lt;rteGrpOffer&gt;
      &lt;rant&gt;iana-en:222&lt;/rant&gt;
      &lt;rar&gt;iana-en:222&lt;/rar&gt;
      &lt;rteGrpOfferKey&gt;
        &lt;rteGrpKey&gt;
          &lt;rant&gt;iana-en:222&lt;/rant&gt;
          &lt;name&gt;RTE_GRP_SSP2_1&lt;/name&gt;
        &lt;/rteGrpKey&gt;
        &lt;offeredTo&gt;iana-en:111&lt;/offeredTo&gt;
      &lt;/rteGrpOfferKey&gt;
      &lt;status&gt;offered&lt;/status&gt;
      &lt;offerDateTime&gt;2006-05-04T18:13:51.0Z&lt;/offerDateTime&gt;
    &lt;/rteGrpOffer&gt;
  &lt;/rqst&gt;
&lt;/spppUpdateRequest&gt;
              
            </pre>
<p></p>
<p id="rfc.section.7.10.p.3">Registry completes the request successfully and confirms that the SSP1 will now have the opportunity to weigh in on the offer and either accept or reject it. The Registry may employ out-of-band notification mechanisms for quicker updates to SSP1 so they can act faster, though this topic is beyond the scope of this document.</p>
<div id="#rfc.figure.58"></div>
<pre>
              
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;spppUpdateResponse 
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd"
  xmlns="urn:ietf:params:xml:ns:sppp:base:1"&gt;
  &lt;serverTransId&gt;tx_id_12277798&lt;/serverTransId&gt;
  &lt;overallResult&gt;
    &lt;code&gt;1000&lt;/code&gt;
    &lt;msg&gt;Request successful&lt;/msg&gt;
  &lt;/overallResult&gt;
&lt;/spppUpdateResponse&gt;
              
            </pre>
<p></p>
<h1 id="rfc.section.7.11">
<a href="#rfc.section.7.11">7.11.</a> <a href="#add_rte_grp_offer_accept" id="add_rte_grp_offer_accept">Enable Peering -- Route Group Offer Accept</a>
</h1>
<p id="rfc.section.7.11.p.1">SSP1 responds to the offer from SSP2 and agrees to have visibility to SSP2 ingress routes.</p>
<div id="#rfc.figure.59"></div>
<pre>
              
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;spppUpdateRequest xmlns="urn:ietf:params:xml:ns:sppp:base:1"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd"&gt;
  &lt;rqst xmlns:ns1="urn:ietf:params:xml:ns:sppp:base:1"
    xsi:type="ns1:AcceptRteGrpOfferRqstType"&gt;
    &lt;rteGrpOfferKey&gt;
      &lt;rteGrpKey&gt;
        &lt;rant&gt;iana-en:222&lt;/rant&gt;
        &lt;name&gt;RTE_GRP_SSP2_1&lt;/name&gt;
      &lt;/rteGrpKey&gt;
      &lt;offeredTo&gt;iana-en:111&lt;/offeredTo&gt;
    &lt;/rteGrpOfferKey&gt;
  &lt;/rqst&gt;
&lt;/spppUpdateRequest&gt;
              
            </pre>
<p></p>
<p id="rfc.section.7.11.p.3">Registry confirms that the request has been processed successfully. From this point forward, if SSP1 looks up a public identity through the query resolution server, where the public identity is part of the destination group by way of "RTE_GRP_SSP2_1" route association, SSP2 ingress SBE information will be shared with SSP1.</p>
<div id="#rfc.figure.60"></div>
<pre>
              
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;spppUpdateResponse 
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd"
  xmlns="urn:ietf:params:xml:ns:sppp:base:1"&gt;
  &lt;serverTransId&gt;tx_id_12333798&lt;/serverTransId&gt;
  &lt;overallResult&gt;
    &lt;code&gt;1000&lt;/code&gt;
    &lt;msg&gt;success&lt;/msg&gt;
  &lt;/overallResult&gt;
&lt;/spppUpdateResponse&gt;
              
            </pre>
<p></p>
<h1 id="rfc.section.7.12">
<a href="#rfc.section.7.12">7.12.</a> <a href="#add_egress_rte" id="add_egress_rte">Add Egress Route</a>
</h1>
<p id="rfc.section.7.12.p.1">SSP1 wants to prioritize all outbound traffic to routes associated with "RTE_GRP_SSP2_1" route group through "sbe1.ssp1.example.com".</p>
<div id="#rfc.figure.61"></div>
<pre>
              
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;spppUpdateRequest xmlns="urn:ietf:params:xml:ns:sppp:base:1"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd"&gt;
  &lt;clientTransId&gt;tx_9000&lt;/clientTransId&gt;
  &lt;rqst xmlns:ns1="urn:ietf:params:xml:ns:sppp:base:1"
    xsi:type="ns1:AddEgrRteRqstType"&gt;
    &lt;egrRte&gt;
      &lt;rant&gt;iana-en:111&lt;/rant&gt;
      &lt;rar/&gt;
      &lt;egrRteName&gt;EGR_RTE_01&lt;/egrRteName&gt;
      &lt;pref&gt;50&lt;/pref&gt;
      &lt;regxRewriteRule&gt;
        &lt;ere&gt;^(.*@)(.*)$&lt;/ere&gt;
        &lt;repl&gt;\1\2?route=sbe1.ssp1.example.com&lt;/repl&gt;
      &lt;/regxRewriteRule&gt;
      &lt;ingrRteRec&gt;
        &lt;rant&gt;iana-en:222&lt;/ns1:rant&gt;
        &lt;name&gt;SSP2_RTE_REC_3&lt;/ns1:name&gt;
      &lt;/ingrRteRec&gt;
    &lt;/egrRte&gt;
  &lt;/rqst&gt;
&lt;/spppUpdateRequest&gt;
              
            </pre>
<p></p>
<p id="rfc.section.7.12.p.3">Since peering has already been established, the request to add the egress route has been successfully completed.</p>
<div id="#rfc.figure.62"></div>
<pre>
              
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;spppUpdateResponse 
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd"
  xmlns="urn:ietf:params:xml:ns:sppp:base:1"&gt;
  &lt;clientTransId&gt;tx_9000&lt;/clientTransId&gt;
  &lt;serverTransId&gt;tx_id_12388898&lt;/serverTransId&gt;
  &lt;overallResult&gt;
    &lt;code&gt;1000&lt;/code&gt;
    &lt;msg&gt;Request successful&lt;/msg&gt;
  &lt;/overallResult&gt;
&lt;/spppUpdateResponse&gt;
              
            </pre>
<p></p>
<h1 id="rfc.section.7.13">
<a href="#rfc.section.7.13">7.13.</a> <a href="#get_dest_grp" id="get_dest_grp">Get Destination Group</a>
</h1>
<p id="rfc.section.7.13.p.1">SSP2 uses the 'GetDestGrpsRqstType' operation to tally the last provisioned record for destination group DEST_GRP_SSP2_1.</p>
<div id="#rfc.figure.63"></div>
<pre>
              
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;spppQueryRequest xmlns="urn:ietf:params:xml:ns:sppp:base:1"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd"&gt;
  &lt;rqst xmlns:ns1="urn:ietf:params:xml:ns:sppp:base:1"
    xsi:type="ns1:GetDestGrpsRqstType"&gt;
    &lt;objKey&gt;
      &lt;rant&gt;iana-en:222&lt;/rant&gt;
      &lt;name&gt;DEST_GRP_SSP2_1&lt;/name&gt;
    &lt;/objKey&gt;
  &lt;/rqst&gt;
&lt;/spppQueryRequest&gt;
              
            </pre>
<p></p>
<p id="rfc.section.7.13.p.3">Registry completes the request successfully and returns a favorable response.</p>
<div id="#rfc.figure.64"></div>
<pre>
              
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;spppQueryResponse xmlns="urn:ietf:params:xml:ns:sppp:base:1"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd"&gt;
  &lt;overallResult&gt;
    &lt;code&gt;1000&lt;/code&gt;
    &lt;msg&gt;success&lt;/msg&gt;
  &lt;/overallResult&gt;
  &lt;resultSet xmlns:ns1="urn:ietf:params:xml:ns:sppp:base:1"
    xsi:type="ns1:DestGrpType"&gt;
    &lt;rant&gt;iana-en:222&lt;/rant&gt;
    &lt;rar&gt;iana-en:222&lt;/rar&gt;
    &lt;dgName&gt;DEST_GRP_SSP2_1&lt;/dgName&gt;
  &lt;/resultSet&gt;
&lt;/spppQueryResponse&gt;
              
            </pre>
<p></p>
<h1 id="rfc.section.7.14">
<a href="#rfc.section.7.14">7.14.</a> <a href="#add_pub_id" id="add_pub_id">Get Public Identity</a>
</h1>
<p id="rfc.section.7.14.p.1">SSP2 obtains the last provisioned record associated with a given TN.</p>
<div id="#rfc.figure.65"></div>
<pre>
              
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;spppQueryRequest xmlns="urn:ietf:params:xml:ns:sppp:base:1"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd"&gt;
  &lt;rqst xmlns:ns1="urn:ietf:params:xml:ns:sppp:base:1"
    xsi:type="ns1:GetPubIdsRqstType"&gt;
    &lt;pi xmlns:ns1="urn:ietf:params:xml:ns:sppp:base:1"
      xsi:type="ns1:TNType"&gt;
      &lt;rant&gt;iana-en:222&lt;/rant&gt;
      &lt;rar&gt;iana-en:222&lt;/rar&gt;
      &lt;tn&gt;+12025556666&lt;/tn&gt;
    &lt;/pi&gt;
  &lt;/rqst&gt;
&lt;/spppQueryRequest&gt;
              
            </pre>
<p></p>
<p id="rfc.section.7.14.p.3">Registry completes the request successfully and returns a favorable response.</p>
<div id="#rfc.figure.66"></div>
<pre>
              
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;spppQueryResponse xmlns="urn:ietf:params:xml:ns:sppp:base:1"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd"&gt;
  &lt;overallResult&gt;
    &lt;code&gt;1000&lt;/code&gt;
    &lt;msg&gt;success&lt;/msg&gt;
  &lt;/overallResult&gt;
  &lt;resultSet xmlns:ns1="urn:ietf:params:xml:ns:sppp:base:1"
    xsi:type="ns1:TNType"&gt;
    &lt;rant&gt;iana-en:222&lt;/rant&gt;
    &lt;rar&gt;iana-en:222&lt;/rar&gt;
    &lt;dgName&gt;DEST_GRP_1&lt;/dgName&gt;
    &lt;tn&gt;+12025556666&lt;/tn&gt;
    &lt;corInfo&gt;
      &lt;corClaim&gt;true&lt;/corClaim&gt;
      &lt;cor&gt;true&lt;/cor&gt;
      &lt;corDate&gt;2010-05-30T09:30:10Z&lt;/corDate&gt;
    &lt;/corInfo&gt;
  &lt;/resultSet&gt;
&lt;/spppQueryResponse&gt;
              
            </pre>
<p></p>
<h1 id="rfc.section.7.15">
<a href="#rfc.section.7.15">7.15.</a> <a href="#get_rte_grp_request" id="get_rte_grp_request">Get Route Group Request</a>
</h1>
<p id="rfc.section.7.15.p.1">SSP2 obtains the last provisioned record for the route group RTE_GRP_SSP2_1.</p>
<div id="#rfc.figure.67"></div>
<pre>
              
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;spppQueryRequest xmlns="urn:ietf:params:xml:ns:sppp:base:1"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd"&gt;
  &lt;rqst xmlns:ns1="urn:ietf:params:xml:ns:sppp:base:1"
    xsi:type="ns1:GetRteGrpsRqstType"&gt;
    &lt;objKey&gt;
      &lt;rant&gt;iana-en:222&lt;/rant&gt;
      &lt;name&gt;RTE_GRP_SSP2_1&lt;/name&gt;
    &lt;/objKey&gt;
  &lt;/rqst&gt;
&lt;/spppQueryRequest&gt;
              
            </pre>
<p></p>
<p id="rfc.section.7.15.p.3">Registry completes the request successfully and returns a favorable response.</p>
<div id="#rfc.figure.68"></div>
<pre>
              
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;spppQueryResponse xmlns="urn:ietf:params:xml:ns:sppp:base:1"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd"&gt;
  &lt;overallResult&gt;
    &lt;code&gt;1000&lt;/code&gt;
    &lt;msg&gt;success&lt;/msg&gt;
  &lt;/overallResult&gt;
  &lt;resultSet xmlns:ns1="urn:ietf:params:xml:ns:sppp:base:1"
    xsi:type="ns1:RteGrpType"&gt;
    &lt;rant&gt;iana-en:222&lt;/rant&gt;
    &lt;rar&gt;iana-en:222&lt;/rar&gt;
    &lt;rgName&gt;RTE_GRP_SSP2_1&lt;/rgName&gt;
    &lt;rrRef&gt;
      &lt;rrKey&gt;
        &lt;rant&gt;iana-en:222&lt;/rant&gt;
        &lt;name&gt;RTE_SSP2_SBE2&lt;/name&gt;
      &lt;/rrKey&gt;
      &lt;priority&gt;100&lt;/priority&gt;
    &lt;/rrRef&gt;
    &lt;rrRef&gt;
      &lt;rrKey&gt;
        &lt;rant&gt;iana-en:222&lt;/rant&gt;
        &lt;name&gt;RTE_SSP2_SBE4&lt;/name&gt;
      &lt;/rrKey&gt;
      &lt;priority&gt;101&lt;/priority&gt;
    &lt;/rrRef&gt;
    &lt;dgName&gt;DEST_GRP_SSP2_1&lt;/dgName&gt;
    &lt;isInSvc&gt;true&lt;/isInSvc&gt;
    &lt;priority&gt;10&lt;/priority&gt;
  &lt;/resultSet&gt;
&lt;/spppQueryResponse&gt;
              
            </pre>
<p></p>
<h1 id="rfc.section.7.16">
<a href="#rfc.section.7.16">7.16.</a> <a href="#get_rte_grp_offers_rqst" id="get_rte_grp_offers_rqst">Get Route Group Offers Request</a>
</h1>
<p id="rfc.section.7.16.p.1">SSP2 fetches the last provisioned route group offer to the &lt;peeringOrg&gt; SSP1.</p>
<div id="#rfc.figure.69"></div>
<pre>
              
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;spppQueryRequest xmlns="urn:ietf:params:xml:ns:sppp:base:1"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd"&gt;
  &lt;rqst xmlns:ns1="urn:ietf:params:xml:ns:sppp:base:1"
    xsi:type="ns1:GetRteGrpOffersRqstType"&gt;
    &lt;offeredTo&gt;iana-en:111&lt;/offeredTo&gt;
  &lt;/rqst&gt;
&lt;/spppQueryRequest&gt;
              
            </pre>
<p></p>
<p id="rfc.section.7.16.p.3">Registry processes the request successfully and returns a favorable response.</p>
<div id="#rfc.figure.70"></div>
<pre>
              
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;spppQueryResponse xmlns="urn:ietf:params:xml:ns:sppp:base:1"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd"&gt;
  &lt;overallResult&gt;
    &lt;code&gt;1000&lt;/code&gt;
    &lt;msg&gt;success&lt;/msg&gt;
  &lt;/overallResult&gt;
  &lt;resultSet xmlns:ns1="urn:ietf:params:xml:ns:sppp:base:1"
    xsi:type="ns1:RteGrpOfferType"&gt;
    &lt;rant&gt;iana-en:222&lt;/rant&gt;
    &lt;rar&gt;iana-en:222&lt;/rar&gt;
    &lt;rteGrpOfferKey&gt;
      &lt;rteGrpKey&gt;
        &lt;rant&gt;iana-en:222&lt;/rant&gt;
        &lt;name&gt;RTE_GRP_SSP2_1&lt;/name&gt;
      &lt;/rteGrpKey&gt;
      &lt;offeredTo&gt;iana-en:111&lt;/offeredTo&gt;
    &lt;/rteGrpOfferKey&gt;
    &lt;status&gt;offered&lt;/status&gt;
    &lt;offerDateTime&gt;2006-05-04T18:13:51.0Z&lt;/offerDateTime&gt;
  &lt;/resultSet&gt;
&lt;/spppQueryResponse&gt;
              
            </pre>
<p></p>
<h1 id="rfc.section.7.17">
<a href="#rfc.section.7.17">7.17.</a> <a href="#get_egress_rte" id="get_egress_rte">Get Egress Route</a>
</h1>
<p id="rfc.section.7.17.p.1">SSP1 wants to verify the last provisioned record for the egress route called EGR_RTE_01.</p>
<div id="#rfc.figure.71"></div>
<pre>
              
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;spppQueryRequest xmlns="urn:ietf:params:xml:ns:sppp:base:1"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd"&gt;
  &lt;rqst xmlns:ns1="urn:ietf:params:xml:ns:sppp:base:1"
    xsi:type="ns1:GetEgrRtesRqstType"&gt;
    &lt;objKey&gt;
      &lt;rant&gt;iana-en:111&lt;/rant&gt;
      &lt;name&gt;EGR_RTE_01&lt;/name&gt;
    &lt;/objKey&gt;
  &lt;/rqst&gt;
&lt;/spppQueryRequest&gt;
              
            </pre>
<p></p>
<p id="rfc.section.7.17.p.3">Registry completes the request successfully and returns a favorable response.</p>
<div id="#rfc.figure.72"></div>
<pre>
              
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;spppQueryResponse xmlns="urn:ietf:params:xml:ns:sppp:base:1"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd"&gt;
  &lt;overallResult&gt;
    &lt;code&gt;1000&lt;/code&gt;
    &lt;msg&gt;success&lt;/msg&gt;
  &lt;/overallResult&gt;
  &lt;resultSet xmlns:ns1="urn:ietf:params:xml:ns:sppp:base:1"
    xsi:type="ns1:EgrRteType"&gt;
    &lt;rant&gt;iana-en:111&lt;/rant&gt;
    &lt;rar&gt;iana-en:111&lt;/rar&gt;
    &lt;egrRteName&gt;EGR_RTE_01&lt;/egrRteName&gt;
    &lt;pref&gt;50&lt;/pref&gt;
    &lt;svcs&gt;E2U+sip&lt;/svcs&gt;
    &lt;regxRewriteRule&gt;
      &lt;ere&gt;^(.*)$&lt;/ere&gt;
      &lt;repl&gt;sip:\1@sbe1.ssp1.example.com&lt;/repl&gt;
    &lt;/regxRewriteRule&gt;
    &lt;ingressRte&gt;
      &lt;rant&gt;iana-en:222&lt;/rant&gt;
      &lt;name&gt;RTE_GRP_SSP2_1&lt;/name&gt;
    &lt;/ingressRte&gt;
  &lt;/resultSet&gt;
&lt;/spppQueryResponse&gt;
              
            </pre>
<p></p>
<h1 id="rfc.section.7.18">
<a href="#rfc.section.7.18">7.18.</a> <a href="#del_dest_grp" id="del_dest_grp">Delete Destination Group</a>
</h1>
<p id="rfc.section.7.18.p.1">SSP2 initiates a request to delete the destination group DEST_GRP_SSP2_1.</p>
<div id="#rfc.figure.73"></div>
<pre>
              
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;spppUpdateRequest xmlns="urn:ietf:params:xml:ns:sppp:base:1"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd"&gt;
  &lt;rqst xmlns:ns1="urn:ietf:params:xml:ns:sppp:base:1"
    xsi:type="ns1:DelDestGrpRqstType"&gt;
    &lt;objKey&gt;
      &lt;rant&gt;iana-en:222&lt;/rant&gt;
      &lt;name&gt;DEST_GRP_SSP2_1&lt;/name&gt;
    &lt;/objKey&gt;
  &lt;/rqst&gt;
&lt;/spppUpdateRequest&gt;
              
            </pre>
<p></p>
<p id="rfc.section.7.18.p.3">Registry completes the request successfully and returns a favorable response.</p>
<div id="#rfc.figure.74"></div>
<pre>
              
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;spppUpdateResponse xmlns="urn:ietf:params:xml:ns:sppp:base:1"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd"&gt;
  &lt;serverTransId&gt;txid-982543123&lt;/serverTransId&gt;
  &lt;overallResult&gt;
    &lt;code&gt;1000&lt;/code&gt;
    &lt;msg&gt;Success&lt;/msg&gt;
  &lt;/overallResult&gt;
&lt;/spppUpdateResponse&gt;
              
            </pre>
<p></p>
<h1 id="rfc.section.7.19">
<a href="#rfc.section.7.19">7.19.</a> <a href="#del_pub_id" id="del_pub_id">Delete Public Identity</a>
</h1>
<p id="rfc.section.7.19.p.1">SSP2 choses to de-activate the TN and remove it from the Registry.</p>
<div id="#rfc.figure.75"></div>
<pre>
              
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;spppUpdateRequest xmlns="urn:ietf:params:xml:ns:sppp:base:1"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd"&gt;
  &lt;rqst xmlns:ns1="urn:ietf:params:xml:ns:sppp:base:1"
    xsi:type="ns1:DelPubIdRqstType"&gt;
    &lt;pi xmlns:ns1="urn:ietf:params:xml:ns:sppp:base:1"
      xsi:type="ns1:TNType"&gt;
      &lt;rant&gt;iana-en:222&lt;/rant&gt;
      &lt;rar&gt;iana-en:222&lt;/rar&gt;
      &lt;tn&gt;+12025556666&lt;/tn&gt;
    &lt;/pi&gt;
  &lt;/rqst&gt;
&lt;/spppUpdateRequest&gt;
              
            </pre>
<p></p>
<p id="rfc.section.7.19.p.3">Registry completes the request successfully and returns a favorable response.</p>
<div id="#rfc.figure.76"></div>
<pre>
              
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;spppUpdateResponse xmlns="urn:ietf:params:xml:ns:sppp:base:1"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd"&gt;
  &lt;serverTransId&gt;txid-98298273123&lt;/serverTransId&gt;
  &lt;overallResult&gt;
    &lt;code&gt;1000&lt;/code&gt;
    &lt;msg&gt;success&lt;/msg&gt;
  &lt;/overallResult&gt;
&lt;/spppUpdateResponse&gt;
              
            </pre>
<p></p>
<h1 id="rfc.section.7.20">
<a href="#rfc.section.7.20">7.20.</a> <a href="#del_rte_grp_rqst" id="del_rte_grp_rqst">Delete Route Group Request</a>
</h1>
<p id="rfc.section.7.20.p.1">SSP2 removes the route group called RTE_GRP_SSP2_1.</p>
<div id="#rfc.figure.77"></div>
<pre>
              
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;spppUpdateRequest xmlns="urn:ietf:params:xml:ns:sppp:base:1"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd"&gt;
  &lt;rqst xmlns:ns1="urn:ietf:params:xml:ns:sppp:base:1"
    xsi:type="ns1:DelRteGrpRqstType"&gt;
    &lt;objKey&gt;
      &lt;rant&gt;iana-en:222&lt;/rant&gt;
      &lt;name&gt;RTE_GRP_SSP2_1&lt;/name&gt;
    &lt;/objKey&gt;
  &lt;/rqst&gt;
&lt;/spppUpdateRequest&gt;
              
            </pre>
<p></p>
<p id="rfc.section.7.20.p.3">Registry completes the request successfully and returns a favorable response.</p>
<div id="#rfc.figure.78"></div>
<pre>
              
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;spppUpdateResponse xmlns="urn:ietf:params:xml:ns:sppp:base:1"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd"&gt;
  &lt;serverTransId&gt;txid-982543123&lt;/serverTransId&gt;
  &lt;overallResult&gt;
    &lt;code&gt;1000&lt;/code&gt;
    &lt;msg&gt;msg&lt;/msg&gt;
  &lt;/overallResult&gt;
&lt;/spppUpdateResponse&gt;
              
            </pre>
<p></p>
<h1 id="rfc.section.7.21">
<a href="#rfc.section.7.21">7.21.</a> <a href="#del_rte_grp_offers_rqst" id="del_rte_grp_offers_rqst">Delete Route Group Offers Request</a>
</h1>
<p id="rfc.section.7.21.p.1">SSP2 no longer wants to share route group RTE_GRP_SSP2_1 with SSP1.</p>
<div id="#rfc.figure.79"></div>
<pre>
              
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;spppUpdateRequest xmlns="urn:ietf:params:xml:ns:sppp:base:1"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd"&gt;
  &lt;rqst xmlns:ns1="urn:ietf:params:xml:ns:sppp:base:1"
    xsi:type="ns1:DelRteGrpOfferRqstType"&gt;
    &lt;rteGrpOfferKey&gt;
      &lt;rteGrpKey&gt;
        &lt;rant&gt;iana-en:222&lt;/rant&gt;
        &lt;name&gt;RTE_GRP_SSP2_1&lt;/name&gt;
      &lt;/rteGrpKey&gt;
      &lt;offeredTo&gt;iana-en:111&lt;/offeredTo&gt;
    &lt;/rteGrpOfferKey&gt;
  &lt;/rqst&gt;
&lt;/spppUpdateRequest&gt;
              
            </pre>
<p></p>
<p id="rfc.section.7.21.p.3">Registry completes the request successfully and returns a favorable response. Restoring this resource sharing will require a new route group offer from SSP2 to SSP1 followed by a successful route group accept request from SSP1.</p>
<div id="#rfc.figure.80"></div>
<pre>
              
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;spppUpdateResponse xmlns="urn:ietf:params:xml:ns:sppp:base:1"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd"&gt;
  &lt;serverTransId&gt;txid-982543123&lt;/serverTransId&gt;
  &lt;overallResult&gt;
    &lt;code&gt;1000&lt;/code&gt;
    &lt;msg&gt;Success&lt;/msg&gt;
  &lt;/overallResult&gt;
&lt;/spppUpdateResponse&gt;
              
            </pre>
<p></p>
<h1 id="rfc.section.7.22">
<a href="#rfc.section.7.22">7.22.</a> <a href="#del_egress_rte" id="del_egress_rte">Delete Egress Route</a>
</h1>
<p id="rfc.section.7.22.p.1">SSP1 decides to remove the egress route with the label EGR_RTE_01.</p>
<div id="#rfc.figure.81"></div>
<pre>
              
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;spppUpdateRequest xmlns="urn:ietf:params:xml:ns:sppp:base:1"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd"&gt;
  &lt;rqst xmlns:ns1="urn:ietf:params:xml:ns:sppp:base:1"
    xsi:type="ns1:DelEgrRteRqstType"&gt;
    &lt;objKey&gt;
      &lt;rant&gt;iana-en:111&lt;/rant&gt;
      &lt;name&gt;EGR_RTE_01&lt;/name&gt;
    &lt;/objKey&gt;
  &lt;/rqst&gt;
&lt;/spppUpdateRequest&gt;
              
            </pre>
<p></p>
<p id="rfc.section.7.22.p.3">Registry completes the request successfully and returns a favorable response.</p>
<div id="#rfc.figure.82"></div>
<pre>
              
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;spppUpdateResponse xmlns="urn:ietf:params:xml:ns:sppp:base:1"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd"&gt;
  &lt;serverTransId&gt;txid-982543123&lt;/serverTransId&gt;
  &lt;overallResult&gt;
    &lt;code&gt;1000&lt;/code&gt;
    &lt;msg&gt;Success&lt;/msg&gt;
  &lt;/overallResult&gt;
&lt;/spppUpdateResponse&gt;
              
            </pre>
<p></p>
<h1 id="rfc.section.8">
<a href="#rfc.section.8">8.</a> <a href="#xmlconsiderations" id="xmlconsiderations">XML Considerations</a>
</h1>
<p id="rfc.section.8.p.1">XML serves as the encoding format for SPPP, allowing complex hierarchical data to be expressed in a text format that can be read, saved, and manipulated with both traditional text tools and tools specific to XML. <br><br> XML is case sensitive. Unless stated otherwise, XML specifications and examples provided in this document MUST be interpreted in the character case presented to develop a conforming implementation. <br><br> This section discusses a small number of XML-related considerations pertaining to SPPP. </p>
<h1 id="rfc.section.8.1">
<a href="#rfc.section.8.1">8.1.</a> <a href="#namespaces" id="namespaces">Namespaces</a>
</h1>
<p id="rfc.section.8.1.p.1">All SPPP protocol elements are defined in the namespaces in the IANA Considerations section and in the Formal Protocol Specification section of this document.  </p>
<h1 id="rfc.section.8.2">
<a href="#rfc.section.8.2">8.2.</a> <a href="#versioning" id="versioning">Versioning and Character Encoding</a>
</h1>
<p id="rfc.section.8.2.p.1">All XML instances SHOULD begin with an &lt;?xml?&gt;  declaration to identify the version of XML that is being used, optionally identify use of the character encoding used, and optionally provide a hint to an XML parser that an external schema file is needed to validate the XML instance. <br><br> Conformant XML parsers recognize both UTF-8 (defined in <a href="#RFC3629">[RFC3629]</a>) and UTF-16 (defined in <a href="#RFC2781">[RFC2781]</a>); per <a href="#RFC2277">[RFC2277]</a> UTF-8 is the RECOMMENDED character encoding for use with SPPP. </p>
<p id="rfc.section.8.2.p.2">Character encodings other than UTF-8 and UTF-16 are allowed by XML. UTF-8 is the default encoding assumed by XML in the absence of an "encoding" attribute or a byte order mark (BOM); thus, the "encoding" attribute in the XML declaration is OPTIONAL if UTF-8 encoding is used. SPPP clients and servers MUST accept a UTF-8 BOM if present, though emitting a UTF-8 BOM is NOT RECOMMENDED. </p>
<p id="rfc.section.8.2.p.3">Example XML declarations: <br><br> &lt;?xml?&gt; version="1.0" encoding="UTF-8" standalone="no"?&gt; </p>
<h1 id="rfc.section.9">
<a href="#rfc.section.9">9.</a> <a href="#securityconsiderations" id="securityconsiderations">Security Considerations</a>
</h1>
<p id="rfc.section.9.p.1">The transport protocol section contains some security properties that the transport protocol must provide so that authenticated endpoints can exchange data confidentially and with integrity protection. </p>
<p id="rfc.section.9.p.2">More details will be provided in a future revision of this document. </p>
<h1 id="rfc.section.10">
<a href="#rfc.section.10">10.</a> <a href="#IANA" id="IANA">IANA Considerations</a>
</h1>
<p id="rfc.section.10.p.1">This document uses URNs to describe XML namespaces and XML schemas conforming to a registry mechanism described in <a href="#RFC3688">[RFC3688]</a>. </p>
<p id="rfc.section.10.p.2">Two URI assignments are requested. <br><br> Registration request for the SPPP XML namespace: <br> urn:ietf:params:xml:ns:sppp:base:1 <br> Registrant Contact: IESG <br> XML: None. Namespace URIs do not represent an XML specification. </p>
<p id="rfc.section.10.p.3">Registration request for the XML schema: <br> URI: urn:ietf:params:xml:schema:sppp:1 <br> Registrant Contact: IESG <br> XML: See the "Formal Specification" section of this document (<a href="#formalspecification">Section 11</a>). </p>
<p id="rfc.section.10.p.4">IANA is requested to create a new SPPP registry for Organization Identifiers that will indicate valid strings to be used for well-known enterprise namespaces.  <br> This document makes the following assignments for the OrgIdType namespaces: </p>
<div id="#rfc.figure.83"></div>
<pre>
              
      Namespace                    OrgIdType namespace string
      ----                         ----------------------------
      IANA Enterprise Numbers       iana-en
                              
            </pre>
<p></p>
<h1 id="rfc.section.11">
<a href="#rfc.section.11">11.</a> <a href="#formalspecification" id="formalspecification">Formal Specification</a>
</h1>
<p id="rfc.section.11.p.1">This section provides the draft XML Schema Definition for the SPPP protocol. </p>
<div id="#rfc.figure.84"></div>
<pre>
            
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema xmlns:spppb="urn:ietf:params:xml:ns:sppp:base:1"
  xmlns="http://www.w3.org/2001/XMLSchema"
  targetNamespace="urn:ietf:params:xml:ns:sppp:base:1"
  elementFormDefault="qualified" xml:lang="EN"&gt;
  &lt;annotation&gt;
    &lt;documentation&gt;
    ------------------ Object Type Definitions -------------- 
    &lt;/documentation&gt;
  &lt;/annotation&gt;
  &lt;complexType name="RteGrpType"&gt;
    &lt;complexContent&gt;
     &lt;extension base="spppb:BasicObjType"&gt;
       &lt;sequence&gt;
         &lt;element name="rgName" type="spppb:ObjNameType"/&gt;
         &lt;element name="rrRef" type="spppb:RteRecRefType" 
           minOccurs="0" maxOccurs="unbounded"/&gt;
         &lt;element name="dgName" type="spppb:ObjNameType" minOccurs="0"
           maxOccurs="unbounded"/&gt;
         &lt;element name="peeringOrg" type="spppb:OrgIdType" minOccurs="0"
           maxOccurs="unbounded"/&gt;
         &lt;element name="sourceIdent" type="spppb:SourceIdentType"
           minOccurs="0" maxOccurs="unbounded"/&gt;
         &lt;element name="isInSvc" type="boolean"/&gt;
         &lt;element name="priority" type="unsignedShort"/&gt;
         &lt;element name="ext" type="spppb:ExtAnyType" minOccurs="0"/&gt;
       &lt;/sequence&gt;
     &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
  &lt;complexType name="DestGrpType"&gt;
    &lt;complexContent&gt;
     &lt;extension base="spppb:BasicObjType"&gt;
      &lt;sequence&gt;
         &lt;element name="dgName" type="spppb:ObjNameType"/&gt;
      &lt;/sequence&gt;
     &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
  &lt;complexType name="PubIdType" abstract="true"&gt;
    &lt;complexContent&gt;
     &lt;extension base="spppb:BasicObjType"&gt;
       &lt;sequence&gt;
         &lt;element name="dgName" type="spppb:ObjNameType" minOccurs="0"/&gt;
       &lt;/sequence&gt;
     &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
  &lt;complexType name="TNType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:PubIdType"&gt;
        &lt;sequence&gt;
          &lt;element name="tn" type="string"/&gt;
          &lt;element name="rrRef" type="spppb:RteRecRefType" 
             minOccurs="0" maxOccurs="unbounded"/&gt;
          &lt;element name="corInfo" type="spppb:CORInfoType" 
             minOccurs="0"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
  &lt;complexType name="TNRType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:PubIdType"&gt;
        &lt;sequence&gt;
          &lt;element name="startTn" type="string"/&gt;
          &lt;element name="endTn" type="string"/&gt;
          &lt;element name="corInfo" type="spppb:CORInfoType" 
              minOccurs="0"/&gt;
        &lt;/sequence&gt;
        &lt;attribute name="prefix" type="boolean" default="false"&gt;
           &lt;/attribute&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
  &lt;complexType name="TNPType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:PubIdType"&gt;
        &lt;sequence&gt;
          &lt;element name="tnPrefix" type="string"/&gt;
          &lt;element name="corInfo" type="spppb:CORInfoType" 
            minOccurs="0"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
  &lt;complexType name="RNType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:PubIdType"&gt;
        &lt;sequence&gt;
          &lt;element name="rn" type="string" default="true"/&gt;
          &lt;element name="corInfo" type="spppb:CORInfoType" 
             minOccurs="0"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
  &lt;complexType name="RteRecType" abstract="true"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:BasicObjType"&gt;
         &lt;sequence&gt;
           &lt;element name="rrName" type="spppb:ObjNameType"/&gt;
         &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
  &lt;complexType name="NAPTRType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:RteRecType"&gt;
        &lt;sequence&gt;
          &lt;element name="order" type="unsignedShort"/&gt;
          &lt;element name="flags" type="string" minOccurs="0"/&gt;
          &lt;element name="svcs" type="string"/&gt;
          &lt;element name="regx" type="spppb:RegexParamType"
            minOccurs="0"/&gt;
          &lt;element name="repl" type="string" minOccurs="0"/&gt;
          &lt;element name="ttl" type="positiveInteger" minOccurs="0"/&gt;
          &lt;element name="ext" type="spppb:ExtAnyType" minOccurs="0"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
  &lt;complexType name="NSType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:RteRecType"&gt;
        &lt;sequence&gt;
          &lt;element name="hostName" type="string"/&gt;
          &lt;element name="ipAddr" type="spppb:IPAddrType" minOccurs="0"
            maxOccurs="unbounded"/&gt;
          &lt;element name="ttl" type="positiveInteger" minOccurs="0"/&gt;
          &lt;element name="ext" type="spppb:ExtAnyType" minOccurs="0"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
  &lt;complexType name="URIType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:RteRecType"&gt;
        &lt;sequence&gt;
          &lt;element name="ere" type="string" default="^(.*)$"/&gt;
          &lt;element name="uri" type="string"/&gt;
          &lt;element name="ext" type="spppb:ExtAnyType" minOccurs="0"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
  &lt;complexType name="RteGrpOfferType"&gt;
   &lt;complexContent&gt;
     &lt;extension base="spppb:BasicObjType"&gt;
       &lt;sequence&gt;
         &lt;element name="rteGrpOfferKey" type="spppb:RteGrpOfferKeyType"
            /&gt;
         &lt;element name="status" type="spppb:RteGrpOfferStatusType"/&gt;
         &lt;element name="offerDateTime" type="dateTime"/&gt;
         &lt;element name="acceptDateTime" type="dateTime" minOccurs="0"/&gt;
         &lt;element name="ext" type="spppb:ExtAnyType" minOccurs="0"/&gt;
       &lt;/sequence&gt;
     &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
  &lt;complexType name="EgrRteType"&gt;
    &lt;complexContent&gt;
     &lt;extension base="spppb:BasicObjType"&gt;
       &lt;sequence&gt;
         &lt;element name="egrRteName" type="spppb:ObjNameType"/&gt;
         &lt;element name="pref" type="unsignedShort"/&gt;
         &lt;element name="regxRewriteRule" type="spppb:RegexParamType"/&gt;
         &lt;element name="ingrRteRec" type="spppb:ObjKeyType" 
            minOccurs="0" maxOccurs="unbounded"/&gt;
         &lt;element name="ext" type="spppb:ExtAnyType" minOccurs="0"/&gt;
       &lt;/sequence&gt;
     &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
  &lt;annotation&gt;
    &lt;documentation&gt; ------------------ Abstract Object and Element
      Type Definitions -------------- &lt;/documentation&gt;
  &lt;/annotation&gt;
  &lt;complexType name="BasicObjType" abstract="true"&gt;
    &lt;sequence&gt;
      &lt;element name="rant" type="spppb:OrgIdType"/&gt;
      &lt;element name="rar" type="spppb:OrgIdType"/&gt;
      &lt;element name="cDate" type="dateTime" minOccurs="0"/&gt;
      &lt;element name="mDate" type="dateTime" minOccurs="0"/&gt;
      &lt;element name="ext" type="spppb:ExtAnyType" minOccurs="0"/&gt;
    &lt;/sequence&gt;
  &lt;/complexType&gt;
  &lt;complexType name="RegexParamType"&gt;
    &lt;sequence&gt;
      &lt;element name="ere" type="string" default="^(.*)$"/&gt;
      &lt;element name="repl" type="string"/&gt;
    &lt;/sequence&gt;
  &lt;/complexType&gt;
  &lt;simpleType name="OrgIdType"&gt;
    &lt;restriction base="string"/&gt;
  &lt;/simpleType&gt;
  &lt;simpleType name="ObjNameType"&gt;
    &lt;restriction base="string"/&gt;
  &lt;/simpleType&gt;
  &lt;simpleType name="TransIdType"&gt;
    &lt;restriction base="string"/&gt;
  &lt;/simpleType&gt;
  &lt;simpleType name="MinorVerType"&gt;
    &lt;restriction base="unsignedLong"/&gt;
  &lt;/simpleType&gt;
  &lt;complexType name="ObjKeyType"&gt;
    &lt;sequence&gt;
      &lt;element name="rant" type="spppb:OrgIdType"/&gt;
      &lt;element name="name" type="spppb:ObjNameType"/&gt;
    &lt;/sequence&gt;
  &lt;/complexType&gt;
  &lt;complexType name="IPAddrType"&gt;
    &lt;sequence&gt;
      &lt;element name="addr" type="string"/&gt;
      &lt;element name="type" type="spppb:IPType"/&gt;
      &lt;element name="ext" type="spppb:ExtAnyType" minOccurs="0"/&gt;
    &lt;/sequence&gt;
  &lt;/complexType&gt;
  &lt;simpleType name="IPType"&gt;
    &lt;restriction base="token"&gt;
      &lt;enumeration value="IPv4"/&gt;
      &lt;enumeration value="IPv6"/&gt;
    &lt;/restriction&gt;
  &lt;/simpleType&gt;
  &lt;complexType name="RteRecRefType"&gt;
    &lt;sequence&gt;
      &lt;element name="rrKey" type="spppb:ObjKeyType"/&gt;
      &lt;element name="priority" type="unsignedShort"/&gt;
      &lt;element name="ext" type="spppb:ExtAnyType" minOccurs="0"/&gt;
    &lt;/sequence&gt;
  &lt;/complexType&gt;
  &lt;complexType name="SourceIdentType"&gt;
    &lt;sequence&gt;
      &lt;element name="sourceIdentLabel" type="string"/&gt;
      &lt;element name="sourceIdentScheme"
        type="spppb:SourceIdentSchemeType"/&gt;
      &lt;element name="ext" type="spppb:ExtAnyType" minOccurs="0"/&gt;
    &lt;/sequence&gt;
  &lt;/complexType&gt;
  &lt;simpleType name="SourceIdentSchemeType"&gt;
    &lt;restriction base="token"&gt;
      &lt;enumeration value="uri"/&gt;
      &lt;enumeration value="ip"/&gt;
      &lt;enumeration value="rootDomain"/&gt;
    &lt;/restriction&gt;
  &lt;/simpleType&gt;
  &lt;complexType name="CORInfoType"&gt;
    &lt;sequence&gt;
      &lt;element name="corClaim" type="boolean" default="true"/&gt;
      &lt;element name="cor" type="boolean" default="false" 
         minOccurs="0"/&gt;
      &lt;element name="corDate" type="dateTime" minOccurs="0"/&gt;
    &lt;/sequence&gt;
  &lt;/complexType&gt;
  &lt;complexType name="SvcMenuType"&gt;
    &lt;sequence&gt;
      &lt;element name="serverStatus" type="spppb:ServerStatusType"/&gt;
      &lt;element name="majMinVersion" type="string"
        maxOccurs="unbounded"/&gt;
      &lt;element name="objURI" type="anyURI" maxOccurs="unbounded"/&gt;
      &lt;element name="extURI" type="anyURI" minOccurs="0"
        maxOccurs="unbounded"/&gt;
    &lt;/sequence&gt;
  &lt;/complexType&gt;
  &lt;simpleType name="ServerStatusType"&gt;
    &lt;restriction base="token"&gt;
      &lt;enumeration value="inService"/&gt;
      &lt;enumeration value="outOfService"/&gt;
    &lt;/restriction&gt;
  &lt;/simpleType&gt;
  &lt;complexType name="RteGrpOfferKeyType"&gt;
    &lt;sequence&gt;
      &lt;element name="rteGrpKey" type="spppb:ObjKeyType"/&gt;
      &lt;element name="offeredTo" type="spppb:OrgIdType"/&gt;
    &lt;/sequence&gt;
  &lt;/complexType&gt;
  &lt;simpleType name="RteGrpOfferStatusType"&gt;
    &lt;restriction base="token"&gt;
      &lt;enumeration value="offered"/&gt;
      &lt;enumeration value="accepted"/&gt;
    &lt;/restriction&gt;
  &lt;/simpleType&gt;
  &lt;complexType name="ExtAnyType"&gt;
    &lt;sequence&gt;
      &lt;any namespace="##other" maxOccurs="unbounded"/&gt;
    &lt;/sequence&gt;
  &lt;/complexType&gt;
  &lt;annotation&gt;
    &lt;documentation&gt; -------------- Operation Request and Response
      Object Type Definitions ------------ &lt;/documentation&gt;
  &lt;/annotation&gt;
  &lt;complexType name="ResultCodeType"&gt;
    &lt;sequence&gt;
       &lt;element name="code" type="int"/&gt;
       &lt;element name="msg" type="string"/&gt;
    &lt;/sequence&gt;
  &lt;/complexType&gt;
  &lt;complexType name="RqstObjResultCodeType"&gt;
    &lt;complexContent&gt;
       &lt;extension base="spppb:ResultCodeType"&gt;
          &lt;sequence&gt;
             &lt;element name="rqstObj" type="spppb:BasicRqstType"/&gt;
          &lt;/sequence&gt;
       &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
  
  &lt;complexType name="BasicRqstType" abstract="true"&gt;
    &lt;sequence&gt;
      &lt;element name="ext" type="spppb:ExtAnyType" minOccurs="0"/&gt;
    &lt;/sequence&gt;
  &lt;/complexType&gt;
  &lt;complexType name="BasicQueryRqstType" abstract="true"&gt;
    &lt;sequence&gt;
      &lt;element name="ext" type="spppb:ExtAnyType" minOccurs="0"/&gt;
    &lt;/sequence&gt;
  &lt;/complexType&gt;
  
  &lt;complexType name="AddRteGrpRqstType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:BasicRqstType"&gt;
        &lt;sequence&gt;
          &lt;element name="rteGrp" type="spppb:RteGrpType"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
  &lt;complexType name="DelRteGrpRqstType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:BasicRqstType"&gt;
        &lt;sequence&gt;
          &lt;element name="objKey" type="spppb:ObjKeyType"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
  &lt;complexType name="GetRteGrpsRqstType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:BasicQueryRqstType"&gt;
        &lt;sequence&gt;
          &lt;element name="objKey" type="spppb:ObjKeyType"
            minOccurs="0" maxOccurs="unbounded"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
  &lt;complexType name="AddRteRecRqstType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:BasicRqstType"&gt;
        &lt;sequence&gt;
          &lt;element name="rteRec" type="spppb:RteRecType"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
  &lt;complexType name="DelRteRecRqstType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:BasicRqstType"&gt;
        &lt;sequence&gt;
          &lt;element name="objKey" type="spppb:ObjKeyType"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
  &lt;complexType name="GetRteRecsRqstType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:BasicQueryRqstType"&gt;
        &lt;sequence&gt;
          &lt;element name="objKey" type="spppb:ObjKeyType"
            minOccurs="0" maxOccurs="unbounded"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
 
  &lt;complexType name="AddDestGrpRqstType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:BasicRqstType"&gt;
        &lt;sequence&gt;
          &lt;element name="destGrp" type="spppb:DestGrpType"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
  &lt;complexType name="DelDestGrpRqstType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:BasicRqstType"&gt;
        &lt;sequence&gt;
          &lt;element name="objKey" type="spppb:ObjKeyType"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
  &lt;complexType name="GetDestGrpsRqstType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:BasicQueryRqstType"&gt;
        &lt;sequence&gt;
          &lt;element name="objKey" type="spppb:ObjKeyType"
            minOccurs="0" maxOccurs="unbounded"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
  &lt;complexType name="AddPubIdRqstType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:BasicRqstType"&gt;
        &lt;sequence&gt;
          &lt;element name="pi" type="spppb:PubIdType"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
  &lt;complexType name="DelPubIdRqstType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:BasicRqstType"&gt;
        &lt;sequence&gt;
          &lt;element name="pi" type="spppb:PubIdType"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
  &lt;complexType name="GetPubIdsRqstType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:BasicQueryRqstType"&gt;
        &lt;sequence&gt;
          &lt;element name="pi" type="spppb:PubIdType" minOccurs="0"
            maxOccurs="unbounded"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
  &lt;complexType name="AddRteGrpOfferRqstType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:BasicRqstType"&gt;
        &lt;sequence&gt;
          &lt;element name="rteGrpOffer" type="spppb:RteGrpOfferType"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
  &lt;complexType name="DelRteGrpOfferRqstType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:BasicRqstType"&gt;
        &lt;sequence&gt;
          &lt;element name="rteGrpOfferKey" 
                     type="spppb:RteGrpOfferKeyType" /&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
  &lt;complexType name="AcceptRteGrpOfferRqstType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:BasicRqstType"&gt;
        &lt;sequence&gt;
          &lt;element name="rteGrpOfferKey" 
                    type="spppb:RteGrpOfferKeyType"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
  &lt;complexType name="RejectRteGrpOfferRqstType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:BasicRqstType"&gt;
        &lt;sequence&gt;
          &lt;element name="rteGrpOfferKey" 
                    type="spppb:RteGrpOfferKeyType"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
  &lt;complexType name="GetRteGrpOffersRqstType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:BasicQueryRqstType"&gt;
        &lt;sequence&gt;
          &lt;element name="offeredBy" type="spppb:OrgIdType"
            minOccurs="0" maxOccurs="unbounded"/&gt;
          &lt;element name="offeredTo" type="spppb:OrgIdType"
            minOccurs="0" maxOccurs="unbounded"/&gt;
          &lt;element name="status" type="spppb:RteGrpOfferStatusType"
            minOccurs="0"/&gt;
          &lt;element name="rteGrpOfferKey"
            type="spppb:RteGrpOfferKeyType" minOccurs="0"
            maxOccurs="unbounded"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
  &lt;complexType name="AddEgrRteRqstType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:BasicRqstType"&gt;
        &lt;sequence&gt;
          &lt;element name="egrRte" type="spppb:EgrRteType"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
  &lt;complexType name="DelEgrRteRqstType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:BasicRqstType"&gt;
        &lt;sequence&gt;
          &lt;element name="objKey" type="spppb:ObjKeyType"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
  &lt;complexType name="GetEgrRtesRqstType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:BasicQueryRqstType"&gt;
        &lt;sequence&gt;
          &lt;element name="objKey" type="spppb:ObjKeyType"
            minOccurs="0" maxOccurs="unbounded"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
  &lt;annotation&gt;
    &lt;documentation&gt; -------- Generic Request and Response Definitions
      --------------- &lt;/documentation&gt;
  &lt;/annotation&gt;
  &lt;element name="spppUpdateRequest"&gt;
    &lt;complexType&gt;
      &lt;sequence&gt;
        &lt;element name="clientTransId" type="spppb:TransIdType" 
            minOccurs="0"/&gt;
        &lt;element name="minorVer" type="spppb:MinorVerType" 
            minOccurs="0"/&gt;
        &lt;element name="rqst" type="spppb:BasicRqstType" 
            maxOccurs="unbounded"/&gt;
      &lt;/sequence&gt;
    &lt;/complexType&gt;
  &lt;/element&gt;
  &lt;element name="spppUpdateResponse"&gt;
    &lt;complexType&gt;
      &lt;sequence&gt;
        &lt;element name="clientTransId" type="spppb:TransIdType" 
            minOccurs="0"/&gt;
        &lt;element name="serverTransId" type="spppb:TransIdType"/&gt;
        &lt;element name="overallResult" type="spppb:ResultCodeType"/&gt;
        &lt;element name="rqstObjResult" 
            type="spppb:RqstObjResultCodeType" minOccurs="0" 
          maxOccurs="unbounded"/&gt;
      &lt;/sequence&gt;
    &lt;/complexType&gt;
  &lt;/element&gt;
  &lt;element name="spppQueryRequest"&gt;
    &lt;complexType&gt;
      &lt;sequence&gt;
        &lt;element name="minorVer" type="spppb:MinorVerType" 
            minOccurs="0"/&gt;
        &lt;element name="rqst" type="spppb:BasicQueryRqstType"/&gt;
      &lt;/sequence&gt;
    &lt;/complexType&gt;
  &lt;/element&gt;
  &lt;element name="spppQueryResponse"&gt;
    &lt;complexType&gt;
      &lt;sequence&gt;
        &lt;element name="overallResult" type="spppb:ResultCodeType"/&gt;
        &lt;element name="resultSet" type="spppb:BasicObjType" 
           minOccurs="0" maxOccurs="unbounded"/&gt;
      &lt;/sequence&gt;
    &lt;/complexType&gt;
  &lt;/element&gt;
  &lt;element name="spppServerStatusRequest"&gt;
    &lt;complexType&gt;
      &lt;sequence&gt;
        &lt;element name="minorVer" type="spppb:MinorVerType" 
           minOccurs="0"/&gt;
      &lt;/sequence&gt;
    &lt;/complexType&gt;
  &lt;/element&gt;
  &lt;element name="spppServerStatusResponse"&gt;
    &lt;complexType&gt;
      &lt;sequence&gt;
        &lt;element name="overallResult" type="spppb:ResultCodeType"/&gt;
        &lt;element name="svcMenu" type="spppb:SvcMenuType"/&gt;
      &lt;/sequence&gt;
    &lt;/complexType&gt;
  &lt;/element&gt;
&lt;/schema&gt;

          </pre>
<p></p>
<h1 id="rfc.section.12">
<a href="#rfc.section.12">12.</a> Acknowledgments</h1>
<p id="rfc.section.12.p.1">This document is a result of various discussions held in the DRINKS working group and within the DRINKS protocol design team, which is comprised of the following individuals, in alphabetical order: Alexander Mayrhofer, Deborah A Guyton, David Schwartz, Lisa Dusseault, Manjul Maharishi, Otmar Lendl, Richard Shockey and Sumanth Channabasappa.</p>
<h1 id="rfc.references">
<a href="#rfc.references">13.</a> References</h1>
<h1 id="rfc.references.1">
<a href="#rfc.references.1">13.1.</a> Normative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC2119">[RFC2119]</b></td>
<td class="top">
<a href="mailto:sob@harvard.edu" title="Harvard University">Bradner, S.</a>, "<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>", BCP 14, RFC 2119, March 1997.</td>
</tr>
<tr>
<td class="reference"><b id="RFC2277">[RFC2277]</b></td>
<td class="top">
<a href="mailto:Harald.T.Alvestrand@uninett.no" title="UNINETT">Alvestrand, H.T.</a>, "<a href="http://tools.ietf.org/html/rfc2277">IETF Policy on Character Sets and Languages</a>", BCP 18, RFC 2277, January 1998.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3629">[RFC3629]</b></td>
<td class="top">
<a>Yergeau, F.</a>, "<a href="http://tools.ietf.org/html/rfc3629">UTF-8, a transformation format of ISO 10646</a>", STD 63, RFC 3629, November 2003.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3688">[RFC3688]</b></td>
<td class="top">
<a>Mealling, M.</a>, "<a href="http://tools.ietf.org/html/rfc3688">The IETF XML Registry</a>", BCP 81, RFC 3688, January 2004.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3986">[RFC3986]</b></td>
<td class="top">
<a href="mailto:timbl@w3.org" title="World Wide Web Consortium">Berners-Lee, T.</a>, <a href="mailto:fielding@gbiv.com" title="Day Software">Fielding, R.</a> and <a href="mailto:LMM@acm.org" title="Adobe Systems Incorporated">L. Masinter</a>, "<a href="http://tools.ietf.org/html/rfc3986">Uniform Resource Identifier (URI): Generic Syntax</a>", STD 66, RFC 3986, January 2005.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.ietf-drinks-sppp-over-soap">[I-D.ietf-drinks-sppp-over-soap]</b></td>
<td class="top">
<a>Cartwright, K</a> and <a>V Bhatia</a>, "<a href="http://tools.ietf.org/html/draft-ietf-drinks-sppp-over-soap-07">SPPP Over SOAP and HTTP</a>", Internet-Draft draft-ietf-drinks-sppp-over-soap-07, November 2011.</td>
</tr>
</tbody></table>
<h1 id="rfc.references.2">
<a href="#rfc.references.2">13.2.</a> Informative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC5321">[RFC5321]</b></td>
<td class="top">
<a>Klensin, J.</a>, "<a href="http://tools.ietf.org/html/rfc5321">Simple Mail Transfer Protocol</a>", RFC 5321, October 2008.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3261">[RFC3261]</b></td>
<td class="top">
<a>Rosenberg, J.</a>, <a>Schulzrinne, H.</a>, <a>Camarillo, G.</a>, <a>Johnston, A.</a>, <a>Peterson, J.</a>, <a>Sparks, R.</a>, <a>Handley, M.</a> and <a>E. Schooler</a>, "<a href="http://tools.ietf.org/html/rfc3261">SIP: Session Initiation Protocol</a>", RFC 3261, June 2002.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3761">[RFC3761]</b></td>
<td class="top">
<a>Faltstrom, P.</a> and <a>M. Mealling</a>, "<a href="http://tools.ietf.org/html/rfc3761">The E.164 to Uniform Resource Identifiers (URI) Dynamic Delegation Discovery System (DDDS) Application (ENUM)</a>", RFC 3761, April 2004.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4725">[RFC4725]</b></td>
<td class="top">
<a>Mayrhofer, A.</a> and <a>B. Hoeneisen</a>, "<a href="http://tools.ietf.org/html/rfc4725">ENUM Validation Architecture</a>", RFC 4725, November 2006.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5486">[RFC5486]</b></td>
<td class="top">
<a>Malas, D.</a> and <a>D. Meyer</a>, "<a href="http://tools.ietf.org/html/rfc5486">Session Peering for Multimedia Interconnect (SPEERMINT) Terminology</a>", RFC 5486, March 2009.</td>
</tr>
<tr>
<td class="reference"><b id="RFC2781">[RFC2781]</b></td>
<td class="top">
<a href="mailto:phoffman@imc.org" title="Internet Mail Consortium">Hoffman, P.</a> and <a href="mailto:fyergeau@alis.com" title="Alis Technologies">F. Yergeau</a>, "<a href="http://tools.ietf.org/html/rfc2781">UTF-16, an encoding of ISO 10646</a>", RFC 2781, February 2000.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.ietf-drinks-usecases-requirements">[I-D.ietf-drinks-usecases-requirements]</b></td>
<td class="top">
<a>Channabasappa, S</a>, "<a href="http://tools.ietf.org/html/draft-ietf-drinks-usecases-requirements-06">Data for Reachability of Inter/tra-NetworK SIP (DRINKS) Use cases and Protocol Requirements</a>", Internet-Draft draft-ietf-drinks-usecases-requirements-06, August 2011.</td>
</tr>
</tbody></table>
<h1 id="rfc.authors"><a href="#rfc.authors">Authors' Addresses</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Jean-Francois Mule</span> 
	  <span class="n hidden">
		<span class="family-name">Mule</span>
	  </span>
	</span>
	<span class="org vcardline">CableLabs </span>
	<span class="adr">
	  <span>858 Coal Creek Circle</span>

	  <span class="vcardline">
		<span class="locality">Louisville</span>,  
		<span class="region">CO</span> 
		<span class="code">80027</span>
	  </span>
	  <span class="country-name vcardline">USA</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:jfm@cablelabs.com">jfm@cablelabs.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Kenneth Cartwright</span> 
	  <span class="n hidden">
		<span class="family-name">Cartwright</span>
	  </span>
	</span>
	<span class="org vcardline">TNS</span>
	<span class="adr">
	  <span>1939 Roland Clarke Place</span>

	  <span class="vcardline">
		<span class="locality">Reston</span>,  
		<span class="region">VA</span> 
		<span class="code">20191</span>
	  </span>
	  <span class="country-name vcardline">USA</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:kcartwright@tnsi.com">kcartwright@tnsi.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Syed Wasim Ali</span> 
	  <span class="n hidden">
		<span class="family-name">Ali</span>
	  </span>
	</span>
	<span class="org vcardline">NeuStar</span>
	<span class="adr">
	  <span>46000 Center Oak Plaza</span>

	  <span class="vcardline">
		<span class="locality">Sterling</span>,  
		<span class="region">VA</span> 
		<span class="code">20166</span>
	  </span>
	  <span class="country-name vcardline">USA</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:syed.ali@neustar.biz">syed.ali@neustar.biz</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Alexander Mayrhofer</span> 
	  <span class="n hidden">
		<span class="family-name">Mayrhofer</span>
	  </span>
	</span>
	<span class="org vcardline">enum.at GmbH</span>
	<span class="adr">
	  <span>Karlsplatz 1/9</span>

	  <span class="vcardline">
		<span class="locality">Wien</span>,  
		<span class="region"></span>
		<span class="code">A-1010</span>
	  </span>
	  <span class="country-name vcardline">Austria</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:alexander.mayrhofer@enum.at">alexander.mayrhofer@enum.at</a></span>

  </address>
</div>

</body>
</html>