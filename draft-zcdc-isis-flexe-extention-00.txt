



Network Working Group                                             Y. Zhu
Internet-Draft                                                   H. Chen
Intended status: Standards Track                           China Telecom
Expires: September 14, 2017                                        Z. Du
                                                                 M. Chen
                                                                  Huawei
                                                          March 13, 2017


                 ISIS Extensions for Flexible Ethernet
                   draft-zcdc-isis-flexe-extention-00

Abstract

   This document specifies the extensions to the IS-IS routing protocol
   to carry and flood Flex Ethernet (FlexE) link state information.  The
   FlexE link state information is necessary for a device or a
   controller to compute a path that is required to over FlexE links.

Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on September 14, 2017.

Copyright Notice

   Copyright (c) 2017 IETF Trust and the persons identified as the
   document authors.  All rights reserved.





Zhu, et al.            Expires September 14, 2017               [Page 1]

Internet-Draft               ISIS for FlexE                   March 2017


   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Extensions for Aggregated FlexE Link  . . . . . . . . . . . .   3
     2.1.  Interface Switch Capability Descriptor  . . . . . . . . .   3
   3.  Extensions for Channelized FlexE Link . . . . . . . . . . . .   5
   4.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   6
     4.1.  FlexE Switching Type  . . . . . . . . . . . . . . . . . .   6
     4.2.  FlexE LSP Encoding Type . . . . . . . . . . . . . . . . .   6
     4.3.  FlexE Group Sub-TLV . . . . . . . . . . . . . . . . . . .   6
     4.4.  FlexE Capable Link  . . . . . . . . . . . . . . . . . . .   7
   5.  Security Consideration  . . . . . . . . . . . . . . . . . . .   7
   6.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   7
   7.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   7
     7.1.  Normative References  . . . . . . . . . . . . . . . . . .   7
     7.2.  Informative References  . . . . . . . . . . . . . . . . .   7
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   8

1.  Introduction

   Flexible Ethernet (FlexE) is defined in [FlexE], it provides a
   generic mechanism for supporting a variety of Ethernet MAC rates that
   may or may not correspond to any existing Ethernet PHY rate.  This
   includes MAC rates that are both greater than (through bonding) and
   less than (through sub-rate and channelization) the Ethernet PHY
   rates used to carry FlexE.

   A FlexE group [FlexE] can be treated as an aggregated interface that
   is composed of from 1 to n 100GBASE-R PHYs (other types of PHY, e.g.,
   400GbE under development in the IEEE P802.3bs project, may be
   supported in the future).  A FlexE link is a logic/virtual link that
   connects two adjacent FlexE groups.  When a FlexE group is considered
   as a single interface, the link connecting two FlexE groups is
   referred to as an aggregated FlexE link.  When a FlexE group is
   channelized to multiple sub-interfaces, the link connecting a pair of
   sub-interfaces is referred to as a channelized FlexE link.  Each
   channelized FlexE link corresponds to a FlexE client [FlexE].




Zhu, et al.            Expires September 14, 2017               [Page 2]

Internet-Draft               ISIS for FlexE                   March 2017


                 FlexE Group 1                     FlexE Group 1'
                   +-------+                        +--------+
                   | FlexE |  aggregated FlexE link | FlexE  |
                   |       |========================|        |
                   | Shim  |                        | Shim   |
                   +-------+                        +--------+
            Figure 1: Aggregated FlexE link between two FlexE groups


                 FlexE Group 1                       FlexE Group 1'
                   +-------+ channelized FlexE link 1 +--------+
                   | FlexE |==========================| FlexE  |
                   |       |            ...           |        |
                   | Shim  |==========================| Shim   |
                   +-------+ channelized FlexE link n +--------+
            Figure 2: Channelized FlexE links between two FlexE groups


   The GMPLS routing and signaling framework for FlexE is defined in
   [I-D.izh-ccamp-flexe-fwk].

   This document defines extensions to ISIS protocol to carry and flood
   the FlexE link state information.

2.  Extensions for Aggregated FlexE Link

   An aggregated FlexE link can be used as a whole link and mapped to a
   single FlexE client.  Or it can be treated as a resource and be
   allocated to different FlexE clients as needed.

   In order to compute and establish a path/LSP spanning multiple FlexE
   nodes/links, the following information of an aggregated FlexE link
   should be included:

   o  FlexE switching capability of the interface (whether an interface
      support FlexE Switching)

   o  FlexE switching granularity of the interface

   o  The bandwidth (used and unused) information of the interface

2.1.  Interface Switch Capability Descriptor

   The Interface Switching Capability Descriptor (ISCD) is a sub-TLV of
   the extended IS reachability TLV [RFC5307], it is defined to
   describes the switching capability of an interface.  The following
   illustrates encoding of the Value field of the Interface Switching
   Capability Descriptor sub-TLV.



Zhu, et al.            Expires September 14, 2017               [Page 3]

Internet-Draft               ISIS for FlexE                   March 2017


        0                   1                   2                   3
        0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       | Switching Cap |   Encoding    |           Reserved            |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                  Max LSP Bandwidth at priority 0              |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                  Max LSP Bandwidth at priority 1              |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                  Max LSP Bandwidth at priority 2              |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                  Max LSP Bandwidth at priority 3              |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                  Max LSP Bandwidth at priority 4              |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                  Max LSP Bandwidth at priority 5              |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                  Max LSP Bandwidth at priority 6              |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                  Max LSP Bandwidth at priority 7              |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |           Switching Capability-specific information           |
       |                     (variable)                                |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                         Figure 3: ISCD sub-TLV

   To support aggregated FlexE link advertisement, new "Switching Cap"
   and "Encoding" are defined as follows:

   The Switching Capability (Switching Cap) for FlexE:

   Value    Name
   -----    --------------
   TBD1     FlexE-Switching

   The Encoding Type for FlexE:

   Value    Name
   -----    --------------
   TBD2     FlexE

   The content of the Switching Capability specific information field
   depends on the value of the Switching Capability field.  When the
   Switching Capability is FlexE-Switching, the "Switching Capability-
   specific information" is defined as below.  It is referred to as
   FlexE Group sub-TLV in this document.




Zhu, et al.            Expires September 14, 2017               [Page 4]

Internet-Draft               ISIS for FlexE                   March 2017


        0                   1                   2                   3
        0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |         Type = TBD3           |          Length               |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |         Granularity           |          Reserved             |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                  Available Slots at priority 0                |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                  Available Slots at priority 1                |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                  Available Slots at priority 2                |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                  Available Slots at priority 3                |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                  Available Slots at priority 4                |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                  Available Slots at priority 5                |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                  Available Slots at priority 6                |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                  Available Slots at priority 7                |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                      Figure 4: FlexE Group sub-TLV

   The Type field is 2 octets in length and the value is TBD3.

   The Length field is 2 octets in length that indicates the total
   length of the TLV in octet.

   The Granularity is 2 octets in length and its values map to the
   granularities of a FlexE time slot.  Current OIF agreement only
   allows the "5G" granularity.

   Value    Granularity
   -----    --------------
   1        5G

   Each Available Slots at priority n is 4-octet in length that
   indicates the maximum number of slots available at priority 'n' on
   active calendar of the TE Link.

3.  Extensions for Channelized FlexE Link

   A channelized FlexE link is a logic/virtual point-2-point link and
   corresponds to a FlexE client.  Although it's a logic/virtual link,
   from link characteristic point of view, it's same as a real point-



Zhu, et al.            Expires September 14, 2017               [Page 5]

Internet-Draft               ISIS for FlexE                   March 2017


   2-point link.  It can be advertised and used as a normal point-
   2-point link.

   In a network, it's possible that not all devices/links are FlexE
   capable, especially at the beginning of FlexE deployment.  Since a
   channelized FlexE link has dedicated resource, it can provide a
   certain degree of service isolation and service level assurance
   (SLA), operators may want to deploy some services over only FlexE
   capable links.  So, it needs a mechanism to identify whether a link
   is FlexE capable.  This document defines a bit value (TBD4) in link-
   attributes sub-TLV [RFC5029] to identify whether a link is FlexE
   capable.

4.  IANA Considerations

4.1.  FlexE Switching Type

   IANA is requested to allocate a new switching type from the
   "Switching Types" registry of "Generalized Multi-Protocol Label
   Switching (GMPLS) Signaling Parameters" registry.

   Value  Name             Reference
   -----  ---------------  -------------
   TBD1   FlexE-Switching  This document

4.2.  FlexE LSP Encoding Type

   IANA is requested to allocate a new LSP encoding type from the "LSP
   Encoding Types" registry of "Generalized Multi-Protocol Label
   Switching (GMPLS) Signaling Parameters" registry.

   Value  Name     Reference
   -----  -------  -------------
   TBD2   FlexE    This document

4.3.  FlexE Group Sub-TLV

   IANA is requested to create and maintain a new sub-registry, the
   "Types for sub-TLVs of FlexE Switching Capability Specific
   Information" registry under the "Open Shortest Path First (OSPF)
   Traffic Engineering TLVs" registry.

   Value  sub-TLV Name  Reference
   -----  ------------  -------------
   TBD3   FlexE Group   This document






Zhu, et al.            Expires September 14, 2017               [Page 6]

Internet-Draft               ISIS for FlexE                   March 2017


4.4.  FlexE Capable Link

   IANA is requested to allocate the following bit value in ISIS "link-
   attributes sub-TLV" registry.

   Value  Name           Reference
   -----  -------------  -------------
   TBD3   FlexE Capable  This document

5.  Security Consideration

   This document describes a mechanism for advertising FlexE link state
   information through IS-IS LSPs and does not introduce any new
   security issues.

6.  Acknowledgements

7.  References

7.1.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <http://www.rfc-editor.org/info/rfc2119>.

   [RFC5029]  Vasseur, JP. and S. Previdi, "Definition of an IS-IS Link
              Attribute Sub-TLV", RFC 5029, DOI 10.17487/RFC5029,
              September 2007, <http://www.rfc-editor.org/info/rfc5029>.

   [RFC5307]  Kompella, K., Ed. and Y. Rekhter, Ed., "IS-IS Extensions
              in Support of Generalized Multi-Protocol Label Switching
              (GMPLS)", RFC 5307, DOI 10.17487/RFC5307, October 2008,
              <http://www.rfc-editor.org/info/rfc5307>.

7.2.  Informative References

   [FlexE]    OIF, "Flex Ethernet Implementation Agreement Version 1.0
              (OIF-FLEXE-01.0)", March 2016.

   [I-D.izh-ccamp-flexe-fwk]
              Hussain, I., Valiveti, R., Wang, Q., Andersson, L., Chen,
              M., and z. zhenghaomian@huawei.com, "GMPLS Routing and
              Signaling Framework for Flexible Ethernet (FlexE)", draft-
              izh-ccamp-flexe-fwk-01 (work in progress), February 2017.






Zhu, et al.            Expires September 14, 2017               [Page 7]

Internet-Draft               ISIS for FlexE                   March 2017


Authors' Addresses

   Yongqing Zhu
   China Telecom
   109, West Zhongshan Road, Tianhe District, Guangzhou,China

   Email: zhuyq@gsta.com


   Huanan Chen
   China Telecom
   109, West Zhongshan Road, Tianhe District, Guangzhou,China

   Email: chenhuanan@gsta.com


   Zongpeng Du
   Huawei

   Email: duzongpeng@huawei.com


   Mach(Guoyi) Chen
   Huawei

   Email: mach.chen@huawei.com

























Zhu, et al.            Expires September 14, 2017               [Page 8]
