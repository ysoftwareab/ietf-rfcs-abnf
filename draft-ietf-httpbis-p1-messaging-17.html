<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard%20http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>HTTP/1.1, part 1: URIs, Connections, and Message Parsing</title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";3
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction">
<link href="#rfc.section.1.1" rel="Chapter" title="1.1 Conformance and Error Handling">
<link href="#rfc.section.1.2" rel="Chapter" title="1.2 Syntax Notation">
<link href="#rfc.section.1.2.1" rel="Chapter" title="1.2.1 ABNF Extension: #rule">
<link href="#rfc.section.1.2.2" rel="Chapter" title="1.2.2 Basic Rules">
<link href="#rfc.section.2" rel="Chapter" title="2 Architecture">
<link href="#rfc.section.2.1" rel="Chapter" title="2.1 Client/Server Messaging">
<link href="#rfc.section.2.2" rel="Chapter" title="2.2 Message Orientation and Buffering">
<link href="#rfc.section.2.3" rel="Chapter" title="2.3 Connections and Transport Independence">
<link href="#rfc.section.2.4" rel="Chapter" title="2.4 Intermediaries">
<link href="#rfc.section.2.5" rel="Chapter" title="2.5 Caches">
<link href="#rfc.section.2.6" rel="Chapter" title="2.6 Protocol Versioning">
<link href="#rfc.section.2.7" rel="Chapter" title="2.7 Uniform Resource Identifiers">
<link href="#rfc.section.2.7.1" rel="Chapter" title="2.7.1 http URI scheme">
<link href="#rfc.section.2.7.2" rel="Chapter" title="2.7.2 https URI scheme">
<link href="#rfc.section.2.7.3" rel="Chapter" title="2.7.3 http and https URI Normalization and Comparison">
<link href="#rfc.section.3" rel="Chapter" title="3 Message Format">
<link href="#rfc.section.3.1" rel="Chapter" title="3.1 Start Line">
<link href="#rfc.section.3.1.1" rel="Chapter" title="3.1.1 Request-Line">
<link href="#rfc.section.3.1.1.1" rel="Chapter" title="3.1.1.1 Method">
<link href="#rfc.section.3.1.1.2" rel="Chapter" title="3.1.1.2 request-target">
<link href="#rfc.section.3.1.2" rel="Chapter" title="3.1.2 Response Status-Line">
<link href="#rfc.section.3.1.2.1" rel="Chapter" title="3.1.2.1 Status Code">
<link href="#rfc.section.3.1.2.2" rel="Chapter" title="3.1.2.2 Reason Phrase">
<link href="#rfc.section.3.2" rel="Chapter" title="3.2 Header Fields">
<link href="#rfc.section.3.2.1" rel="Chapter" title="3.2.1 Field Parsing">
<link href="#rfc.section.3.2.2" rel="Chapter" title="3.2.2 Field Length">
<link href="#rfc.section.3.2.3" rel="Chapter" title="3.2.3 Common Field ABNF Rules">
<link href="#rfc.section.3.3" rel="Chapter" title="3.3 Message Body">
<link href="#rfc.section.3.4" rel="Chapter" title="3.4 Handling Incomplete Messages">
<link href="#rfc.section.3.5" rel="Chapter" title="3.5 Message Parsing Robustness">
<link href="#rfc.section.4" rel="Chapter" title="4 Message Routing">
<link href="#rfc.section.4.1" rel="Chapter" title="4.1 Types of Request Target">
<link href="#rfc.section.4.2" rel="Chapter" title="4.2 The Resource Identified by a Request">
<link href="#rfc.section.4.3" rel="Chapter" title="4.3 Effective Request URI">
<link href="#rfc.section.5" rel="Chapter" title="5 Protocol Parameters">
<link href="#rfc.section.5.1" rel="Chapter" title="5.1 Transfer Codings">
<link href="#rfc.section.5.1.1" rel="Chapter" title="5.1.1 Chunked Transfer Coding">
<link href="#rfc.section.5.1.2" rel="Chapter" title="5.1.2 Compression Codings">
<link href="#rfc.section.5.1.2.1" rel="Chapter" title="5.1.2.1 Compress Coding">
<link href="#rfc.section.5.1.2.2" rel="Chapter" title="5.1.2.2 Deflate Coding">
<link href="#rfc.section.5.1.2.3" rel="Chapter" title="5.1.2.3 Gzip Coding">
<link href="#rfc.section.5.1.3" rel="Chapter" title="5.1.3 Transfer Coding Registry">
<link href="#rfc.section.5.2" rel="Chapter" title="5.2 Product Tokens">
<link href="#rfc.section.5.3" rel="Chapter" title="5.3 Quality Values">
<link href="#rfc.section.6" rel="Chapter" title="6 Connections">
<link href="#rfc.section.6.1" rel="Chapter" title="6.1 Persistent Connections">
<link href="#rfc.section.6.1.1" rel="Chapter" title="6.1.1 Purpose">
<link href="#rfc.section.6.1.2" rel="Chapter" title="6.1.2 Overall Operation">
<link href="#rfc.section.6.1.2.1" rel="Chapter" title="6.1.2.1 Negotiation">
<link href="#rfc.section.6.1.2.2" rel="Chapter" title="6.1.2.2 Pipelining">
<link href="#rfc.section.6.1.3" rel="Chapter" title="6.1.3 Proxy Servers">
<link href="#rfc.section.6.1.3.1" rel="Chapter" title="6.1.3.1 End-to-end and Hop-by-hop Header Fields">
<link href="#rfc.section.6.1.3.2" rel="Chapter" title="6.1.3.2 Non-modifiable Header Fields">
<link href="#rfc.section.6.1.4" rel="Chapter" title="6.1.4 Practical Considerations">
<link href="#rfc.section.6.1.5" rel="Chapter" title="6.1.5 Retrying Requests">
<link href="#rfc.section.6.2" rel="Chapter" title="6.2 Message Transmission Requirements">
<link href="#rfc.section.6.2.1" rel="Chapter" title="6.2.1 Persistent Connections and Flow Control">
<link href="#rfc.section.6.2.2" rel="Chapter" title="6.2.2 Monitoring Connections for Error Status Messages">
<link href="#rfc.section.6.2.3" rel="Chapter" title="6.2.3 Use of the 100 (Continue) Status">
<link href="#rfc.section.7" rel="Chapter" title="7 Miscellaneous notes that might disappear">
<link href="#rfc.section.7.1" rel="Chapter" title="7.1 Scheme aliases considered harmful">
<link href="#rfc.section.7.2" rel="Chapter" title="7.2 Use of HTTP for proxy communication">
<link href="#rfc.section.7.3" rel="Chapter" title="7.3 Interception of HTTP for access control">
<link href="#rfc.section.7.4" rel="Chapter" title="7.4 Use of HTTP by other protocols">
<link href="#rfc.section.7.5" rel="Chapter" title="7.5 Use of HTTP by media type specification">
<link href="#rfc.section.8" rel="Chapter" title="8 Header Field Definitions">
<link href="#rfc.section.8.1" rel="Chapter" title="8.1 Connection">
<link href="#rfc.section.8.2" rel="Chapter" title="8.2 Content-Length">
<link href="#rfc.section.8.3" rel="Chapter" title="8.3 Host">
<link href="#rfc.section.8.4" rel="Chapter" title="8.4 TE">
<link href="#rfc.section.8.5" rel="Chapter" title="8.5 Trailer">
<link href="#rfc.section.8.6" rel="Chapter" title="8.6 Transfer-Encoding">
<link href="#rfc.section.8.7" rel="Chapter" title="8.7 Upgrade">
<link href="#rfc.section.8.7.1" rel="Chapter" title="8.7.1 Upgrade Token Registry">
<link href="#rfc.section.8.8" rel="Chapter" title="8.8 Via">
<link href="#rfc.section.9" rel="Chapter" title="9 IANA Considerations">
<link href="#rfc.section.9.1" rel="Chapter" title="9.1 Header Field Registration">
<link href="#rfc.section.9.2" rel="Chapter" title="9.2 URI Scheme Registration">
<link href="#rfc.section.9.3" rel="Chapter" title="9.3 Internet Media Type Registrations">
<link href="#rfc.section.9.3.1" rel="Chapter" title="9.3.1 Internet Media Type message/http">
<link href="#rfc.section.9.3.2" rel="Chapter" title="9.3.2 Internet Media Type application/http">
<link href="#rfc.section.9.4" rel="Chapter" title="9.4 Transfer Coding Registry">
<link href="#rfc.section.9.5" rel="Chapter" title="9.5 Upgrade Token Registration">
<link href="#rfc.section.10" rel="Chapter" title="10 Security Considerations">
<link href="#rfc.section.10.1" rel="Chapter" title="10.1 Personal Information">
<link href="#rfc.section.10.2" rel="Chapter" title="10.2 Abuse of Server Log Information">
<link href="#rfc.section.10.3" rel="Chapter" title="10.3 Attacks Based On File and Path Names">
<link href="#rfc.section.10.4" rel="Chapter" title="10.4 DNS-related Attacks">
<link href="#rfc.section.10.5" rel="Chapter" title="10.5 Proxies and Caching">
<link href="#rfc.section.10.6" rel="Chapter" title="10.6 Protocol Element Size Overflows">
<link href="#rfc.section.10.7" rel="Chapter" title="10.7 Denial of Service Attacks on Proxies">
<link href="#rfc.section.11" rel="Chapter" title="11 Acknowledgments">
<link href="#rfc.references" rel="Chapter" title="12 References">
<link href="#rfc.references.1" rel="Chapter" title="12.1 Normative References">
<link href="#rfc.references.2" rel="Chapter" title="12.2 Informative References">
<link href="#rfc.appendix.Appendix%20A" rel="Chapter" title="Appendix A HTTP Version History">
<link href="#rfc.appendix.Appendix%20A.1" rel="Chapter" title="Appendix A.1 Changes from HTTP/1.0">
<link href="#rfc.appendix.Appendix%20A.1.1" rel="Chapter" title="Appendix A.1.1 Multi-homed Web Servers">
<link href="#rfc.appendix.Appendix%20A.1.2" rel="Chapter" title="Appendix A.1.2 Keep-Alive Connections">
<link href="#rfc.appendix.Appendix%20A.2" rel="Chapter" title="Appendix A.2 Changes from RFC 2616">
<link href="#rfc.appendix.Appendix%20B" rel="Chapter" title="Appendix B Collected ABNF">
<link href="#rfc.appendix.Appendix%20C" rel="Chapter" title="Appendix C Change Log (to be removed by RFC Editor before publication)">
<link href="#rfc.appendix.Appendix%20C.1" rel="Chapter" title="Appendix C.1 Since RFC 2616">
<link href="#rfc.appendix.Appendix%20C.2" rel="Chapter" title="Appendix C.2 Since draft-ietf-httpbis-p1-messaging-00">
<link href="#rfc.appendix.Appendix%20C.3" rel="Chapter" title="Appendix C.3 Since draft-ietf-httpbis-p1-messaging-01">
<link href="#rfc.appendix.Appendix%20C.4" rel="Chapter" title="Appendix C.4 Since draft-ietf-httpbis-p1-messaging-02">
<link href="#rfc.appendix.Appendix%20C.5" rel="Chapter" title="Appendix C.5 Since draft-ietf-httpbis-p1-messaging-03">
<link href="#rfc.appendix.Appendix%20C.6" rel="Chapter" title="Appendix C.6 Since draft-ietf-httpbis-p1-messaging-04">
<link href="#rfc.appendix.Appendix%20C.7" rel="Chapter" title="Appendix C.7 Since draft-ietf-httpbis-p1-messaging-05">
<link href="#rfc.appendix.Appendix%20C.8" rel="Chapter" title="Appendix C.8 Since draft-ietf-httpbis-p1-messaging-06">
<link href="#rfc.appendix.Appendix%20C.9" rel="Chapter" title="Appendix C.9 Since draft-ietf-httpbis-p1-messaging-07">
<link href="#rfc.appendix.Appendix%20C.10" rel="Chapter" title="Appendix C.10 Since draft-ietf-httpbis-p1-messaging-08">
<link href="#rfc.appendix.Appendix%20C.11" rel="Chapter" title="Appendix C.11 Since draft-ietf-httpbis-p1-messaging-09">
<link href="#rfc.appendix.Appendix%20C.12" rel="Chapter" title="Appendix C.12 Since draft-ietf-httpbis-p1-messaging-10">
<link href="#rfc.appendix.Appendix%20C.13" rel="Chapter" title="Appendix C.13 Since draft-ietf-httpbis-p1-messaging-11">
<link href="#rfc.appendix.Appendix%20C.14" rel="Chapter" title="Appendix C.14 Since draft-ietf-httpbis-p1-messaging-12">
<link href="#rfc.appendix.Appendix%20C.15" rel="Chapter" title="Appendix C.15 Since draft-ietf-httpbis-p1-messaging-13">
<link href="#rfc.appendix.Appendix%20C.16" rel="Chapter" title="Appendix C.16 Since draft-ietf-httpbis-p1-messaging-14">
<link href="#rfc.appendix.Appendix%20C.17" rel="Chapter" title="Appendix C.17 Since draft-ietf-httpbis-p1-messaging-15">
<link href="#rfc.appendix.Appendix%20C.18" rel="Chapter" title="Appendix C.18 Since draft-ietf-httpbis-p1-messaging-16">
<link href="#rfc.index" rel="Chapter">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content=
  "http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.539, 2011-01-02 17:13:00, XSLT vendor: SAXON 6.5.5 from Michael Kay http://saxon.sf.net/" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />
  <meta name="dct.creator" content="Doe, J." />
  <meta name="dct.identifier" content="urn:ietf:id:draft-sample-input-00" />
  <meta name="dct.issued" scheme="ISO8601" content="2010-12" />
  
  <meta name="dct.abstract" content="The Hypertext Transfer Protocol (HTTP) is an application-level protocol for distributed, collaborative, hypertext information systems. HTTP has been in use by the World Wide Web global information initiative since 1990. This document is Part 1 of the seven-part specification that defines the protocol referred to as "HTTP/1.1" and, taken together, obsoletes RFC 2616 and moves it to historic status, along with its predecessor RFC 2068.  " />
  <meta name="description" content="The Hypertext Transfer Protocol (HTTP) is an application-level protocol for distributed, collaborative, hypertext information systems. HTTP has been in use by the World Wide Web global information initiative since 1990. This document is Part 1 of the seven-part specification that defines the protocol referred to as "HTTP/1.1" and, taken together, obsoletes RFC 2616 and moves it to historic status, along with its predecessor RFC 2068.  " />
  <meta name="keywords" content="" />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">HTTPbis Working Group</td>
<td class="right">R. Fielding, Ed.</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right">Adobe</td>
</tr>
<tr>
<td class="left">Updates: 2817 (if approved)</td>
<td class="right">J. Gettys</td>
</tr>
<tr>
<td class="left">Obsoletes: 2145,2616 (if approved)</td>
<td class="right">Alcatel-Lucent</td>
</tr>
<tr>
<td class="left">Intended status: Standards Track</td>
<td class="right">J. Mogul</td>
</tr>
<tr>
<td class="left">Expires: May 03, 2012</td>
<td class="right">HP</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">H. Frystyk</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">Microsoft</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">L. Masinter</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">Adobe</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">P. Leach</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">Microsoft</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">T. Berners-Lee</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">W3C/MIT</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">Y. Lafon, Ed.</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">W3C</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">J. F. Reschke, Ed.</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">greenbytes</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">October 31, 2011</td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">HTTP/1.1, part 1: URIs, Connections, and Message Parsing<br />
  <span class="filename">draft-ietf-httpbis-p1-messaging-17</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>The Hypertext Transfer Protocol (HTTP) is an application-level protocol for distributed, collaborative, hypertext information systems. HTTP has been in use by the World Wide Web global information initiative since 1990. This document is Part 1 of the seven-part specification that defines the protocol referred to as "HTTP/1.1" and, taken together, obsoletes RFC 2616 and moves it to historic status, along with its predecessor RFC 2068.  </p>
<p>Part 1 provides an overview of HTTP and its associated terminology, defines the "http" and "https" Uniform Resource Identifier (URI) schemes, defines the generic message syntax and parsing requirements for HTTP message frames, and describes general security concerns for implementations.  </p>
<p>This part also obsoletes RFCs 2145 (on HTTP version numbers) and 2817 (on using CONNECT for TLS upgrades) and moves them to historic status.  </p>
<h1><a>Editorial Note (To be removed by RFC Editor)</a></h1>
<p>Discussion of this draft should take place on the HTTPBIS working group mailing list (ietf-http-wg@w3.org), which is archived at <a href="http://lists.w3.org/Archives/Public/ietf-http-wg/">http://lists.w3.org/Archives/Public/ietf-http-wg/</a>.  </p>
<p>The current issues list is at <a href="http://tools.ietf.org/wg/httpbis/trac/report/3">http://tools.ietf.org/wg/httpbis/trac/report/3</a> and related documents (including fancy diffs) can be found at <a href="http://tools.ietf.org/wg/httpbis/">http://tools.ietf.org/wg/httpbis/</a>.  </p>
<p>The changes in this draft are summarized in <a href="#changes.since.16">Appendix Appendix C.18</a>.  </p>
<h1 id="rfc.status"><a href="#rfc.status">Status of this Memo</a></h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet- Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on May 03, 2012.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2011 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>
<p>This document may contain material from IETF Documents or IETF Contributions published or made publicly available before November 10, 2008.  The person(s) controlling the copyright in some of this material may not have granted the IETF Trust the right to allow modifications of such material outside the IETF Standards Process. Without obtaining an adequate license from the person(s) controlling the copyright in such materials, this document may not be modified outside the IETF Standards Process, and derivative works of it may not be created outside the IETF Standards Process, except to format it for publication as an RFC or to translate it into languages other than English.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a>
</li>
<li>1.1.   <a href="#rfc.section.1.1">Conformance and Error Handling</a>
</li>
<li>1.2.   <a href="#rfc.section.1.2">Syntax Notation</a>
</li>
<li>1.2.1.   <a href="#rfc.section.1.2.1">ABNF Extension: #rule</a>
</li>
<li>1.2.2.   <a href="#rfc.section.1.2.2">Basic Rules</a>
</li>
<li>2.   <a href="#rfc.section.2">Architecture</a>
</li>
<li>2.1.   <a href="#rfc.section.2.1">Client/Server Messaging</a>
</li>
<li>2.2.   <a href="#rfc.section.2.2">Message Orientation and Buffering</a>
</li>
<li>2.3.   <a href="#rfc.section.2.3">Connections and Transport Independence</a>
</li>
<li>2.4.   <a href="#rfc.section.2.4">Intermediaries</a>
</li>
<li>2.5.   <a href="#rfc.section.2.5">Caches</a>
</li>
<li>2.6.   <a href="#rfc.section.2.6">Protocol Versioning</a>
</li>
<li>2.7.   <a href="#rfc.section.2.7">Uniform Resource Identifiers</a>
</li>
<li>2.7.1.   <a href="#rfc.section.2.7.1">http URI scheme</a>
</li>
<li>2.7.2.   <a href="#rfc.section.2.7.2">https URI scheme</a>
</li>
<li>2.7.3.   <a href="#rfc.section.2.7.3">http and https URI Normalization and Comparison</a>
</li>
<li>3.   <a href="#rfc.section.3">Message Format</a>
</li>
<li>3.1.   <a href="#rfc.section.3.1">Start Line</a>
</li>
<li>3.1.1.   <a href="#rfc.section.3.1.1">Request-Line</a>
</li>
<li>3.1.1.1.   <a href="#rfc.section.3.1.1.1">Method</a>
</li>
<li>3.1.1.2.   <a href="#rfc.section.3.1.1.2">request-target</a>
</li>
<li>3.1.2.   <a href="#rfc.section.3.1.2">Response Status-Line</a>
</li>
<li>3.1.2.1.   <a href="#rfc.section.3.1.2.1">Status Code</a>
</li>
<li>3.1.2.2.   <a href="#rfc.section.3.1.2.2">Reason Phrase</a>
</li>
<li>3.2.   <a href="#rfc.section.3.2">Header Fields</a>
</li>
<li>3.2.1.   <a href="#rfc.section.3.2.1">Field Parsing</a>
</li>
<li>3.2.2.   <a href="#rfc.section.3.2.2">Field Length</a>
</li>
<li>3.2.3.   <a href="#rfc.section.3.2.3">Common Field ABNF Rules</a>
</li>
<li>3.3.   <a href="#rfc.section.3.3">Message Body</a>
</li>
<li>3.4.   <a href="#rfc.section.3.4">Handling Incomplete Messages</a>
</li>
<li>3.5.   <a href="#rfc.section.3.5">Message Parsing Robustness</a>
</li>
<li>4.   <a href="#rfc.section.4">Message Routing</a>
</li>
<li>4.1.   <a href="#rfc.section.4.1">Types of Request Target</a>
</li>
<li>4.2.   <a href="#rfc.section.4.2">The Resource Identified by a Request</a>
</li>
<li>4.3.   <a href="#rfc.section.4.3">Effective Request URI</a>
</li>
<li>5.   <a href="#rfc.section.5">Protocol Parameters</a>
</li>
<li>5.1.   <a href="#rfc.section.5.1">Transfer Codings</a>
</li>
<li>5.1.1.   <a href="#rfc.section.5.1.1">Chunked Transfer Coding</a>
</li>
<li>5.1.2.   <a href="#rfc.section.5.1.2">Compression Codings</a>
</li>
<li>5.1.2.1.   <a href="#rfc.section.5.1.2.1">Compress Coding</a>
</li>
<li>5.1.2.2.   <a href="#rfc.section.5.1.2.2">Deflate Coding</a>
</li>
<li>5.1.2.3.   <a href="#rfc.section.5.1.2.3">Gzip Coding</a>
</li>
<li>5.1.3.   <a href="#rfc.section.5.1.3">Transfer Coding Registry</a>
</li>
<li>5.2.   <a href="#rfc.section.5.2">Product Tokens</a>
</li>
<li>5.3.   <a href="#rfc.section.5.3">Quality Values</a>
</li>
<li>6.   <a href="#rfc.section.6">Connections</a>
</li>
<li>6.1.   <a href="#rfc.section.6.1">Persistent Connections</a>
</li>
<li>6.1.1.   <a href="#rfc.section.6.1.1">Purpose</a>
</li>
<li>6.1.2.   <a href="#rfc.section.6.1.2">Overall Operation</a>
</li>
<li>6.1.2.1.   <a href="#rfc.section.6.1.2.1">Negotiation</a>
</li>
<li>6.1.2.2.   <a href="#rfc.section.6.1.2.2">Pipelining</a>
</li>
<li>6.1.3.   <a href="#rfc.section.6.1.3">Proxy Servers</a>
</li>
<li>6.1.3.1.   <a href="#rfc.section.6.1.3.1">End-to-end and Hop-by-hop Header Fields</a>
</li>
<li>6.1.3.2.   <a href="#rfc.section.6.1.3.2">Non-modifiable Header Fields</a>
</li>
<li>6.1.4.   <a href="#rfc.section.6.1.4">Practical Considerations</a>
</li>
<li>6.1.5.   <a href="#rfc.section.6.1.5">Retrying Requests</a>
</li>
<li>6.2.   <a href="#rfc.section.6.2">Message Transmission Requirements</a>
</li>
<li>6.2.1.   <a href="#rfc.section.6.2.1">Persistent Connections and Flow Control</a>
</li>
<li>6.2.2.   <a href="#rfc.section.6.2.2">Monitoring Connections for Error Status Messages</a>
</li>
<li>6.2.3.   <a href="#rfc.section.6.2.3">Use of the 100 (Continue) Status</a>
</li>
<li>7.   <a href="#rfc.section.7">Miscellaneous notes that might disappear</a>
</li>
<li>7.1.   <a href="#rfc.section.7.1">Scheme aliases considered harmful</a>
</li>
<li>7.2.   <a href="#rfc.section.7.2">Use of HTTP for proxy communication</a>
</li>
<li>7.3.   <a href="#rfc.section.7.3">Interception of HTTP for access control</a>
</li>
<li>7.4.   <a href="#rfc.section.7.4">Use of HTTP by other protocols</a>
</li>
<li>7.5.   <a href="#rfc.section.7.5">Use of HTTP by media type specification</a>
</li>
<li>8.   <a href="#rfc.section.8">Header Field Definitions</a>
</li>
<li>8.1.   <a href="#rfc.section.8.1">Connection</a>
</li>
<li>8.2.   <a href="#rfc.section.8.2">Content-Length</a>
</li>
<li>8.3.   <a href="#rfc.section.8.3">Host</a>
</li>
<li>8.4.   <a href="#rfc.section.8.4">TE</a>
</li>
<li>8.5.   <a href="#rfc.section.8.5">Trailer</a>
</li>
<li>8.6.   <a href="#rfc.section.8.6">Transfer-Encoding</a>
</li>
<li>8.7.   <a href="#rfc.section.8.7">Upgrade</a>
</li>
<li>8.7.1.   <a href="#rfc.section.8.7.1">Upgrade Token Registry</a>
</li>
<li>8.8.   <a href="#rfc.section.8.8">Via</a>
</li>
<li>9.   <a href="#rfc.section.9">IANA Considerations</a>
</li>
<li>9.1.   <a href="#rfc.section.9.1">Header Field Registration</a>
</li>
<li>9.2.   <a href="#rfc.section.9.2">URI Scheme Registration</a>
</li>
<li>9.3.   <a href="#rfc.section.9.3">Internet Media Type Registrations</a>
</li>
<li>9.3.1.   <a href="#rfc.section.9.3.1">Internet Media Type message/http</a>
</li>
<li>9.3.2.   <a href="#rfc.section.9.3.2">Internet Media Type application/http</a>
</li>
<li>9.4.   <a href="#rfc.section.9.4">Transfer Coding Registry</a>
</li>
<li>9.5.   <a href="#rfc.section.9.5">Upgrade Token Registration</a>
</li>
<li>10.   <a href="#rfc.section.10">Security Considerations</a>
</li>
<li>10.1.   <a href="#rfc.section.10.1">Personal Information</a>
</li>
<li>10.2.   <a href="#rfc.section.10.2">Abuse of Server Log Information</a>
</li>
<li>10.3.   <a href="#rfc.section.10.3">Attacks Based On File and Path Names</a>
</li>
<li>10.4.   <a href="#rfc.section.10.4">DNS-related Attacks</a>
</li>
<li>10.5.   <a href="#rfc.section.10.5">Proxies and Caching</a>
</li>
<li>10.6.   <a href="#rfc.section.10.6">Protocol Element Size Overflows</a>
</li>
<li>10.7.   <a href="#rfc.section.10.7">Denial of Service Attacks on Proxies</a>
</li>
<li>11.   <a href="#rfc.section.11">Acknowledgments</a>
</li>
<li>12.   <a href="#rfc.references">References</a>
</li>
<li>12.1.   <a href="#rfc.references.1">Normative References</a>
</li>
<li>12.2.   <a href="#rfc.references.2">Informative References</a>
</li>
<li>Appendix A.   <a href="#rfc.appendix.Appendix%20A">HTTP Version History</a>
</li>
<li>Appendix A.1.   <a href="#rfc.appendix.Appendix%20A.1">Changes from HTTP/1.0</a>
</li>
<li>Appendix A.1.1.   <a href="#rfc.appendix.Appendix%20A.1.1">Multi-homed Web Servers</a>
</li>
<li>Appendix A.1.2.   <a href="#rfc.appendix.Appendix%20A.1.2">Keep-Alive Connections</a>
</li>
<li>Appendix A.2.   <a href="#rfc.appendix.Appendix%20A.2">Changes from RFC 2616</a>
</li>
<li>Appendix B.   <a href="#rfc.appendix.Appendix%20B">Collected ABNF</a>
</li>
<li>Appendix C.   <a href="#rfc.appendix.Appendix%20C">Change Log (to be removed by RFC Editor before publication)</a>
</li>
<li>Appendix C.1.   <a href="#rfc.appendix.Appendix%20C.1">Since RFC 2616</a>
</li>
<li>Appendix C.2.   <a href="#rfc.appendix.Appendix%20C.2">Since draft-ietf-httpbis-p1-messaging-00</a>
</li>
<li>Appendix C.3.   <a href="#rfc.appendix.Appendix%20C.3">Since draft-ietf-httpbis-p1-messaging-01</a>
</li>
<li>Appendix C.4.   <a href="#rfc.appendix.Appendix%20C.4">Since draft-ietf-httpbis-p1-messaging-02</a>
</li>
<li>Appendix C.5.   <a href="#rfc.appendix.Appendix%20C.5">Since draft-ietf-httpbis-p1-messaging-03</a>
</li>
<li>Appendix C.6.   <a href="#rfc.appendix.Appendix%20C.6">Since draft-ietf-httpbis-p1-messaging-04</a>
</li>
<li>Appendix C.7.   <a href="#rfc.appendix.Appendix%20C.7">Since draft-ietf-httpbis-p1-messaging-05</a>
</li>
<li>Appendix C.8.   <a href="#rfc.appendix.Appendix%20C.8">Since draft-ietf-httpbis-p1-messaging-06</a>
</li>
<li>Appendix C.9.   <a href="#rfc.appendix.Appendix%20C.9">Since draft-ietf-httpbis-p1-messaging-07</a>
</li>
<li>Appendix C.10.   <a href="#rfc.appendix.Appendix%20C.10">Since draft-ietf-httpbis-p1-messaging-08</a>
</li>
<li>Appendix C.11.   <a href="#rfc.appendix.Appendix%20C.11">Since draft-ietf-httpbis-p1-messaging-09</a>
</li>
<li>Appendix C.12.   <a href="#rfc.appendix.Appendix%20C.12">Since draft-ietf-httpbis-p1-messaging-10</a>
</li>
<li>Appendix C.13.   <a href="#rfc.appendix.Appendix%20C.13">Since draft-ietf-httpbis-p1-messaging-11</a>
</li>
<li>Appendix C.14.   <a href="#rfc.appendix.Appendix%20C.14">Since draft-ietf-httpbis-p1-messaging-12</a>
</li>
<li>Appendix C.15.   <a href="#rfc.appendix.Appendix%20C.15">Since draft-ietf-httpbis-p1-messaging-13</a>
</li>
<li>Appendix C.16.   <a href="#rfc.appendix.Appendix%20C.16">Since draft-ietf-httpbis-p1-messaging-14</a>
</li>
<li>Appendix C.17.   <a href="#rfc.appendix.Appendix%20C.17">Since draft-ietf-httpbis-p1-messaging-15</a>
</li>
<li>Appendix C.18.   <a href="#rfc.appendix.Appendix%20C.18">Since draft-ietf-httpbis-p1-messaging-16</a>
</li>
<li><a href="#rfc.index">Index</a>
</li>
<li><a href="#rfc.authors">Authors' Addresses</a>
</li>


  </ul>

  <h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> <a href="#introduction" id="introduction">Introduction</a>
</h1>
<p id="rfc.section.1.p.1">The Hypertext Transfer Protocol (HTTP) is an application-level request/response protocol that uses extensible semantics and MIME-like message payloads for flexible interaction with network-based hypertext information systems. HTTP relies upon the Uniform Resource Identifier (URI) standard <a href="#RFC3986">[RFC3986]</a> to indicate the target resource and relationships between resources.  Messages are passed in a format similar to that used by Internet mail <a href="#RFC5322">[RFC5322]</a> and the Multipurpose Internet Mail Extensions (MIME) <a href="#RFC2045">[RFC2045]</a> (see Appendix A of <a href="#Part3">[Part3]</a> for the differences between HTTP and MIME messages).  </p>
<p id="rfc.section.1.p.2">HTTP is a generic interface protocol for information systems. It is designed to hide the details of how a service is implemented by presenting a uniform interface to clients that is independent of the types of resources provided. Likewise, servers do not need to be aware of each client's purpose: an HTTP request can be considered in isolation rather than being associated with a specific type of client or a predetermined sequence of application steps. The result is a protocol that can be used effectively in many different contexts and for which implementations can evolve independently over time.  </p>
<p id="rfc.section.1.p.3">HTTP is also designed for use as an intermediation protocol for translating communication to and from non-HTTP information systems.  HTTP proxies and gateways can provide access to alternative information services by translating their diverse protocols into a hypertext format that can be viewed and manipulated by clients in the same way as HTTP services.  </p>
<p id="rfc.section.1.p.4">One consequence of HTTP flexibility is that the protocol cannot be defined in terms of what occurs behind the interface. Instead, we are limited to defining the syntax of communication, the intent of received communication, and the expected behavior of recipients.  If the communication is considered in isolation, then successful actions ought to be reflected in corresponding changes to the observable interface provided by servers. However, since multiple clients might act in parallel and perhaps at cross-purposes, we cannot require that such changes be observable beyond the scope of a single response.  </p>
<p id="rfc.section.1.p.5">This document is Part 1 of the seven-part specification of HTTP, defining the protocol referred to as "HTTP/1.1", obsoleting <a href="#RFC2616">[RFC2616]</a> and <a href="#RFC2145">[RFC2145]</a>.  Part 1 describes the architectural elements that are used or referred to in HTTP, defines the "http" and "https" URI schemes, describes overall network operation and connection management, and defines HTTP message framing and forwarding requirements.  Our goal is to define all of the mechanisms necessary for HTTP message handling that are independent of message semantics, thereby defining the complete set of requirements for message parsers and message-forwarding intermediaries.  </p>
<h1 id="rfc.section.1.1">
<a href="#rfc.section.1.1">1.1.</a> <a href="#intro.conformance.and.error.handling" id="intro.conformance.and.error.handling">Conformance and Error Handling</a>
</h1>
<p id="rfc.section.1.1.p.1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a href="#RFC2119">[RFC2119]</a>.  </p>
<p id="rfc.section.1.1.p.2">This document defines conformance criteria for several roles in HTTP communication, including Senders, Recipients, Clients, Servers, User-Agents, Origin Servers, Intermediaries, Proxies and Gateways. See <a href="#architecture">Section 2</a> for definitions of these terms.  </p>
<p id="rfc.section.1.1.p.3">An implementation is considered conformant if it complies with all of the requirements associated with its role(s). Note that SHOULD-level requirements are relevant here, unless one of the documented exceptions is applicable.  </p>
<p id="rfc.section.1.1.p.4">This document also uses ABNF to define valid protocol elements (<a href="#notation">Section 1.2</a>). In addition to the prose requirements placed upon them, Senders MUST NOT generate protocol elements that are invalid.  </p>
<p id="rfc.section.1.1.p.5">Unless noted otherwise, Recipients MAY take steps to recover a usable protocol element from an invalid construct. However, HTTP does not define specific error handling mechanisms, except in cases where it has direct impact on security. This is because different uses of the protocol require different error handling strategies; for example, a Web browser may wish to transparently recover from a response where the Location header field doesn't parse according to the ABNF, whereby in a systems control protocol using HTTP, this type of error recovery could lead to dangerous consequences.  </p>
<h1 id="rfc.section.1.2">
<a href="#rfc.section.1.2">1.2.</a> <a href="#notation" id="notation">Syntax Notation</a>
</h1>
<p id="rfc.section.1.2.p.1">This specification uses the Augmented Backus-Naur Form (ABNF) notation of <a href="#RFC5234">[RFC5234]</a>.  </p>
<p id="rfc.section.1.2.p.2">The following core rules are included by reference, as defined in <a href="#RFC5234">[RFC5234]</a>, Appendix B.1: ALPHA (letters), CR (carriage return), CRLF (CR LF), CTL (controls), DIGIT (decimal 0-9), DQUOTE (double quote), HEXDIG (hexadecimal 0-9/A-F/a-f), HTAB (horizontal tab), LF (line feed), OCTET (any 8-bit sequence of data), SP (space), and VCHAR (any visible <a href="#USASCII">[USASCII]</a> character).  </p>
<p id="rfc.section.1.2.p.3">As a syntactic convention, ABNF rule names prefixed with "obs-" denote "obsolete" grammar rules that appear for historical reasons.  </p>
<h1 id="rfc.section.1.2.1">
<a href="#rfc.section.1.2.1">1.2.1.</a> <a href="#notation.abnf" id="notation.abnf">ABNF Extension: #rule</a>
</h1>
<p id="rfc.section.1.2.1.p.1">The #rule extension to the ABNF rules of <a href="#RFC5234">[RFC5234]</a> is used to improve readability.  </p>
<p id="rfc.section.1.2.1.p.2">A construct "#" is defined, similar to "*", for defining comma-delimited lists of elements. The full form is "&lt;n&gt;#&lt;m&gt;element" indicating at least &lt;n&gt; and at most &lt;m&gt; elements, each separated by a single comma (",") and optional whitespace (OWS, <a href="#basic.rules">Section 1.2.2</a>).  </p>
<div id="#rfc.figure.1"></div>
<p>Thus, </p>
<pre>
  1#element =&gt; element *( OWS "," OWS element )
</pre>
<div id="#rfc.figure.2"></div>
<p>and: </p>
<pre>
  #element =&gt; [ 1#element ]
</pre>
<div id="#rfc.figure.3"></div>
<p>and for n &gt;= 1 and m &gt; 1: </p>
<pre>
  &lt;n&gt;#&lt;m&gt;element =&gt; element &lt;n-1&gt;*&lt;m-1&gt;( OWS "," OWS element )
</pre>
<p id="rfc.section.1.2.1.p.3">For compatibility with legacy list rules, recipients SHOULD accept empty list elements. In other words, consumers would follow the list productions: </p>
<div id="#rfc.figure.4"></div>
<pre>
  #element =&gt; [ ( "," / element ) *( OWS "," [ OWS element ] ) ]
  
  1#element =&gt; *( "," OWS ) element *( OWS "," [ OWS element ] )
</pre>
<p id="rfc.section.1.2.1.p.4">Note that empty elements do not contribute to the count of elements present, though.  </p>
<p id="rfc.section.1.2.1.p.5">For example, given these ABNF productions: </p>
<div id="#rfc.figure.5"></div>
<pre>
  example-list      = 1#example-list-elmt
  example-list-elmt = token ; see Section 3.2.3 
</pre>
<p id="rfc.section.1.2.1.p.6">Then these are valid values for example-list (not including the double quotes, which are present for delimitation only): </p>
<div id="#rfc.figure.6"></div>
<pre>
  "foo,bar"
  "foo ,bar,"
  "foo , ,bar,charlie   "
</pre>
<p id="rfc.section.1.2.1.p.7">But these values would be invalid, as at least one non-empty element is required: </p>
<div id="#rfc.figure.7"></div>
<pre>
  ""
  ","
  ",   ,"
</pre>
<p><a href="#collected.abnf">Appendix Appendix B</a> shows the collected ABNF, with the list rules expanded as explained above.  </p>
<h1 id="rfc.section.1.2.2">
<a href="#rfc.section.1.2.2">1.2.2.</a> <a href="#basic.rules" id="basic.rules">Basic Rules</a>
</h1>
<p id="rfc.section.1.2.2.p.1">This specification uses three rules to denote the use of linear whitespace: OWS (optional whitespace), RWS (required whitespace), and BWS ("bad" whitespace).  </p>
<p id="rfc.section.1.2.2.p.2">The OWS rule is used where zero or more linear whitespace octets might appear. OWS SHOULD either not be produced or be produced as a single SP. Multiple OWS octets that occur within field-content SHOULD either be replaced with a single SP or transformed to all SP octets (each octet other than SP replaced with SP) before interpreting the field value or forwarding the message downstream.  </p>
<p id="rfc.section.1.2.2.p.3">RWS is used when at least one linear whitespace octet is required to separate field tokens. RWS SHOULD be produced as a single SP.  Multiple RWS octets that occur within field-content SHOULD either be replaced with a single SP or transformed to all SP octets before interpreting the field value or forwarding the message downstream.  </p>
<p id="rfc.section.1.2.2.p.4">BWS is used where the grammar allows optional whitespace for historical reasons but senders SHOULD NOT produce it in messages. HTTP/1.1 recipients MUST accept such bad optional whitespace and remove it before interpreting the field value or forwarding the message downstream.  </p>
<p></p>
<div id="#rfc.figure.8"></div>
<pre>
  OWS            = *( SP / HTAB / obs-fold )
                 ; "optional" whitespace
  RWS            = 1*( SP / HTAB / obs-fold )
                 ; "required" whitespace
  BWS            = OWS
                 ; "bad" whitespace
  obs-fold       = CRLF ( SP / HTAB )
                 ; obsolete line folding
                 ; see Section 3.2.1
</pre>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> <a href="#architecture" id="architecture">Architecture</a>
</h1>
<p id="rfc.section.2.p.1">HTTP was created for the World Wide Web architecture and has evolved over time to support the scalability needs of a worldwide hypertext system. Much of that architecture is reflected in the terminology and syntax productions used to define HTTP.  </p>
<h1 id="rfc.section.2.1">
<a href="#rfc.section.2.1">2.1.</a> <a href="#operation" id="operation">Client/Server Messaging</a>
</h1>
<p id="rfc.section.2.1.p.1">HTTP is a stateless request/response protocol that operates by exchanging messages (<a href="#http.message">Section 3</a>) across a reliable transport or session-layer "connection". An HTTP "client" is a program that establishes a connection to a server for the purpose of sending one or more HTTP requests.  An HTTP "server" is a program that accepts connections in order to service HTTP requests by sending HTTP responses.  </p>
<p id="rfc.section.2.1.p.2">Note that the terms client and server refer only to the roles that these programs perform for a particular connection.  The same program might act as a client on some connections and a server on others.  We use the term "user agent" to refer to the program that initiates a request, such as a WWW browser, editor, or spider (web-traversing robot), and the term "origin server" to refer to the program that can originate authoritative responses to a request.  For general requirements, we use the term "sender" to refer to whichever component sent a given message and the term "recipient" to refer to any component that receives the message.  </p>
<p id="rfc.section.2.1.p.3">Most HTTP communication consists of a retrieval request (GET) for a representation of some resource identified by a URI.  In the simplest case, this might be accomplished via a single bidirectional connection (===) between the user agent (UA) and the origin server (O).  </p>
<div id="#rfc.figure.9"></div>
<pre>
         request   &gt;
    UA ======================================= O
                                &lt;   response
</pre>
<p id="rfc.section.2.1.p.4">A client sends an HTTP request to the server in the form of a request message, beginning with a request-line that includes a method, URI, and protocol version (<a href="#request.line">Section 3.1.1</a>), followed by MIME-like header fields containing request modifiers, client information, and payload metadata (<a href="#header.fields">Section 3.2</a>), an empty line to indicate the end of the header section, and finally a message body containing the payload body (if any, <a href="#message.body">Section 3.3</a>).  </p>
<p id="rfc.section.2.1.p.5">A server responds to the client's request by sending an HTTP response message, beginning with a status line that includes the protocol version, a success or error code, and textual reason phrase (<a href="#status.line">Section 3.1.2</a>), followed by MIME-like header fields containing server information, resource metadata, and payload metadata (<a href="#header.fields">Section 3.2</a>), an empty line to indicate the end of the header section, and finally a message body containing the payload body (if any, <a href="#message.body">Section 3.3</a>).  </p>
<p id="rfc.section.2.1.p.6">The following example illustrates a typical message exchange for a GET request on the URI "http://www.example.com/hello.txt": </p>
<div id="#rfc.figure.10"></div>
<p>client request: </p>
<pre>
  GET /hello.txt HTTP/1.1
  User-Agent: curl/7.16.3 libcurl/7.16.3 OpenSSL/0.9.7l zlib/1.2.3
  Host: www.example.com
  Accept: */*
  
  </pre>
<div id="#rfc.figure.11"></div>
<p>server response: </p>
<pre>
  HTTP/1.1 200 OK
  Date: Mon, 27 Jul 2009 12:28:53 GMT
  Server: Apache
  Last-Modified: Wed, 22 Jul 2009 19:15:56 GMT
  ETag: "34aa387-d-1568eb00"
  Accept-Ranges: bytes
  Content-Length: 14
  Vary: Accept-Encoding
  Content-Type: text/plain
  
  Hello World!
  </pre>
<h1 id="rfc.section.2.2">
<a href="#rfc.section.2.2">2.2.</a> <a href="#message-orientation-and-buffering" id="message-orientation-and-buffering">Message Orientation and Buffering</a>
</h1>
<p id="rfc.section.2.2.p.1">Fundamentally, HTTP is a message-based protocol. Although message bodies can be chunked (<a href="#chunked.encoding">Section 5.1.1</a>) and implementations often make parts of a message available progressively, this is not required, and some widely-used implementations only make a message available when it is complete. Furthermore, while most proxies will progressively stream messages, some amount of buffering will take place, and some proxies might buffer messages to perform transformations, check content or provide other services.  </p>
<p id="rfc.section.2.2.p.2">Therefore, extensions to and uses of HTTP cannot rely on the availability of a partial message, or assume that messages will not be buffered. There are strategies that can be used to test for buffering in a given connection, but it should be understood that behaviors can differ across connections, and between requests and responses.  </p>
<p id="rfc.section.2.2.p.3">Recipients MUST consider every message in a connection in isolation; because HTTP is a stateless protocol, it cannot be assumed that two requests on the same connection are from the same client or share any other common attributes. In particular, intermediaries might mix requests from different clients into a single server connection. Note that some existing HTTP extensions (e.g., <a href="#RFC4559">[RFC4559]</a>) violate this requirement, thereby potentially causing interoperability and security problems.  </p>
<h1 id="rfc.section.2.3">
<a href="#rfc.section.2.3">2.3.</a> <a href="#transport-independence" id="transport-independence">Connections and Transport Independence</a>
</h1>
<p id="rfc.section.2.3.p.1">HTTP messaging is independent of the underlying transport or session-layer connection protocol(s).  HTTP only presumes a reliable transport with in-order delivery of requests and the corresponding in-order delivery of responses.  The mapping of HTTP request and response structures onto the data units of the underlying transport protocol is outside the scope of this specification.  </p>
<p id="rfc.section.2.3.p.2">The specific connection protocols to be used for an interaction are determined by client configuration and the target resource's URI.  For example, the "http" URI scheme (<a href="#http.uri">Section 2.7.1</a>) indicates a default connection of TCP over IP, with a default TCP port of 80, but the client might be configured to use a proxy via some other connection port or protocol instead of using the defaults.  </p>
<p id="rfc.section.2.3.p.3">A connection might be used for multiple HTTP request/response exchanges, as defined in <a href="#persistent.connections">Section 6.1</a>.  </p>
<h1 id="rfc.section.2.4">
<a href="#rfc.section.2.4">2.4.</a> <a href="#intermediaries" id="intermediaries">Intermediaries</a>
</h1>
<p id="rfc.section.2.4.p.1">HTTP enables the use of intermediaries to satisfy requests through a chain of connections.  There are three common forms of HTTP intermediary: proxy, gateway, and tunnel.  In some cases, a single intermediary might act as an origin server, proxy, gateway, or tunnel, switching behavior based on the nature of each request.  </p>
<div id="#rfc.figure.12"></div>
<pre>
         &gt;             &gt;             &gt;             &gt;
    UA =========== A =========== B =========== C =========== O
               &lt;             &lt;             &lt;             &lt;
</pre>
<p id="rfc.section.2.4.p.2">The figure above shows three intermediaries (A, B, and C) between the user agent and origin server. A request or response message that travels the whole chain will pass through four separate connections.  Some HTTP communication options might apply only to the connection with the nearest, non-tunnel neighbor, only to the end-points of the chain, or to all connections along the chain. Although the diagram is linear, each participant might be engaged in multiple, simultaneous communications. For example, B might be receiving requests from many clients other than A, and/or forwarding requests to servers other than C, at the same time that it is handling A's request.  </p>
<p><a name="index.upstream"></a><a name="index.downstream"></a> <a name="index.inbound"></a><a name="index.outbound"></a> We use the terms "upstream" and "downstream" to describe various requirements in relation to the directional flow of a message: all messages flow from upstream to downstream.  Likewise, we use the terms inbound and outbound to refer to directions in relation to the request path: "inbound" means toward the origin server and "outbound" means toward the user agent.  </p>
<p><a name="index.proxy"></a> A "proxy" is a message forwarding agent that is selected by the client, usually via local configuration rules, to receive requests for some type(s) of absolute URI and attempt to satisfy those requests via translation through the HTTP interface.  Some translations are minimal, such as for proxy requests for "http" URIs, whereas other requests might require translation to and from entirely different application-layer protocols. Proxies are often used to group an organization's HTTP requests through a common intermediary for the sake of security, annotation services, or shared caching.  </p>
<p><a name="index.transforming%20proxy"></a> <a name="index.non-transforming%20proxy"></a> An HTTP-to-HTTP proxy is called a "transforming proxy" if it is designed or configured to modify request or response messages in a semantically meaningful way (i.e., modifications, beyond those required by normal HTTP processing, that change the message in a way that would be significant to the original sender or potentially significant to downstream recipients).  For example, a transforming proxy might be acting as a shared annotation server (modifying responses to include references to a local annotation database), a malware filter, a format transcoder, or an intranet-to-Internet privacy filter.  Such transformations are presumed to be desired by the client (or client organization) that selected the proxy and are beyond the scope of this specification.  However, when a proxy is not intended to transform a given message, we use the term "non-transforming proxy" to target requirements that preserve HTTP message semantics. See Section 7.2.4 of <a href="#Part2">[Part2]</a> and Section 3.6 of <a href="#Part6">[Part6]</a> for status and warning codes related to transformations.  </p>
<p><a name="index.gateway"></a><a name="index.reverse%20proxy"></a> <a name="index.accelerator"></a> A "gateway" (a.k.a., "reverse proxy") is a receiving agent that acts as a layer above some other server(s) and translates the received requests to the underlying server's protocol.  Gateways are often used to encapsulate legacy or untrusted information services, to improve server performance through "accelerator" caching, and to enable partitioning or load-balancing of HTTP services across multiple machines.  </p>
<p id="rfc.section.2.4.p.7">A gateway behaves as an origin server on its outbound connection and as a user agent on its inbound connection.  All HTTP requirements applicable to an origin server also apply to the outbound communication of a gateway.  A gateway communicates with inbound servers using any protocol that it desires, including private extensions to HTTP that are outside the scope of this specification.  However, an HTTP-to-HTTP gateway that wishes to interoperate with third-party HTTP servers MUST comply with HTTP user agent requirements on the gateway's inbound connection and MUST implement the Connection (<a href="#header.connection">Section 8.1</a>) and Via (<a href="#header.via">Section 8.8</a>) header fields for both connections.  </p>
<p><a name="index.tunnel"></a> A "tunnel" acts as a blind relay between two connections without changing the messages. Once active, a tunnel is not considered a party to the HTTP communication, though the tunnel might have been initiated by an HTTP request. A tunnel ceases to exist when both ends of the relayed connection are closed. Tunnels are used to extend a virtual connection through an intermediary, such as when transport-layer security is used to establish private communication through a shared firewall proxy.  </p>
<p><a name="index.interception%20proxy"></a><a name="index.transparent%20proxy"></a> <a name="index.captive%20portal"></a> In addition, there may exist network intermediaries that are not considered part of the HTTP communication but nevertheless act as filters or redirecting agents (usually violating HTTP semantics, causing security problems, and otherwise making a mess of things).  Such a network intermediary, often referred to as an "interception proxy" <a href="#RFC3040">[RFC3040]</a>, "transparent proxy" <a href="#RFC1919">[RFC1919]</a>, or "captive portal", differs from an HTTP proxy because it has not been selected by the client.  Instead, the network intermediary redirects outgoing TCP port 80 packets (and occasionally other common port traffic) to an internal HTTP server.  Interception proxies are commonly found on public network access points, as a means of enforcing account subscription prior to allowing use of non-local Internet services, and within corporate firewalls to enforce network usage policies.  They are indistinguishable from a man-in-the-middle attack.  </p>
<h1 id="rfc.section.2.5">
<a href="#rfc.section.2.5">2.5.</a> <a href="#caches" id="caches">Caches</a>
</h1>
<p id="rfc.section.2.5.p.1">A "cache" is a local store of previous response messages and the subsystem that controls its message storage, retrieval, and deletion.  A cache stores cacheable responses in order to reduce the response time and network bandwidth consumption on future, equivalent requests. Any client or server MAY employ a cache, though a cache cannot be used by a server while it is acting as a tunnel.  </p>
<p id="rfc.section.2.5.p.2">The effect of a cache is that the request/response chain is shortened if one of the participants along the chain has a cached response applicable to that request. The following illustrates the resulting chain if B has a cached copy of an earlier response from O (via C) for a request which has not been cached by UA or A.  </p>
<div id="#rfc.figure.13"></div>
<pre>
            &gt;             &gt;
       UA =========== A =========== B - - - - - - C - - - - - - O
                  &lt;             &lt;
</pre>
<p><a name="index.cacheable"></a> A response is "cacheable" if a cache is allowed to store a copy of the response message for use in answering subsequent requests.  Even when a response is cacheable, there might be additional constraints placed by the client or by the origin server on when that cached response can be used for a particular request. HTTP requirements for cache behavior and cacheable responses are defined in Section 2 of <a href="#Part6">[Part6]</a>.  </p>
<p id="rfc.section.2.5.p.4">There are a wide variety of architectures and configurations of caches and proxies deployed across the World Wide Web and inside large organizations. These systems include national hierarchies of proxy caches to save transoceanic bandwidth, systems that broadcast or multicast cache entries, organizations that distribute subsets of cached data via optical media, and so on.  </p>
<h1 id="rfc.section.2.6">
<a href="#rfc.section.2.6">2.6.</a> <a href="#http.version" id="http.version">Protocol Versioning</a>
</h1>
<p id="rfc.section.2.6.p.1">HTTP uses a "&lt;major&gt;.&lt;minor&gt;" numbering scheme to indicate versions of the protocol. This specification defines version "1.1".  The protocol version as a whole indicates the sender's compliance with the set of requirements laid out in that version's corresponding specification of HTTP.  </p>
<p id="rfc.section.2.6.p.2">The version of an HTTP message is indicated by an HTTP-Version field in the first line of the message. HTTP-Version is case-sensitive.  </p>
<div id="#rfc.figure.14"></div>
<pre>
  HTTP-Version   = HTTP-Prot-Name "/" DIGIT "." DIGIT
  HTTP-Prot-Name = %x48.54.54.50 ; "HTTP", case-sensitive 
</pre>
<p id="rfc.section.2.6.p.3">The HTTP version number consists of two decimal digits separated by a "." (period or decimal point).  The first digit ("major version") indicates the HTTP messaging syntax, whereas the second digit ("minor version") indicates the highest minor version to which the sender is at least conditionally compliant and able to understand for future communication.  The minor version advertises the sender's communication capabilities even when the sender is only using a backwards-compatible subset of the protocol, thereby letting the recipient know that more advanced features can be used in response (by servers) or in future requests (by clients).  </p>
<p id="rfc.section.2.6.p.4">When an HTTP/1.1 message is sent to an HTTP/1.0 recipient <a href="#RFC1945">[RFC1945]</a> or a recipient whose version is unknown, the HTTP/1.1 message is constructed such that it can be interpreted as a valid HTTP/1.0 message if all of the newer features are ignored.  This specification places recipient-version requirements on some new features so that a compliant sender will only use compatible features until it has determined, through configuration or the receipt of a message, that the recipient supports HTTP/1.1.  </p>
<p id="rfc.section.2.6.p.5">The interpretation of an HTTP header field does not change between minor versions of the same major version, though the default behavior of a recipient in the absence of such a field can change.  Unless specified otherwise, header fields defined in HTTP/1.1 are defined for all versions of HTTP/1.x.  In particular, the Host and Connection header fields ought to be implemented by all HTTP/1.x implementations whether or not they advertise compliance with HTTP/1.1.  </p>
<p id="rfc.section.2.6.p.6">New header fields can be defined such that, when they are understood by a recipient, they might override or enhance the interpretation of previously defined header fields.  When an implementation receives an unrecognized header field, the recipient MUST ignore that header field for local processing regardless of the message's HTTP version.  An unrecognized header field received by a proxy MUST be forwarded downstream unless the header field's field-name is listed in the message's Connection header-field (see <a href="#header.connection">Section 8.1</a>).  These requirements allow HTTP's functionality to be enhanced without requiring prior update of all compliant intermediaries.  </p>
<p id="rfc.section.2.6.p.7">Intermediaries that process HTTP messages (i.e., all intermediaries other than those acting as a tunnel) MUST send their own HTTP-Version in forwarded messages.  In other words, they MUST NOT blindly forward the first line of an HTTP message without ensuring that the protocol version matches what the intermediary understands, and is at least conditionally compliant to, for both the receiving and sending of messages.  Forwarding an HTTP message without rewriting the HTTP-Version might result in communication errors when downstream recipients use the message sender's version to determine what features are safe to use for later communication with that sender.  </p>
<p id="rfc.section.2.6.p.8">An HTTP client SHOULD send a request version equal to the highest version for which the client is at least conditionally compliant and whose major version is no higher than the highest version supported by the server, if this is known.  An HTTP client MUST NOT send a version for which it is not at least conditionally compliant.  </p>
<p id="rfc.section.2.6.p.9">An HTTP client MAY send a lower request version if it is known that the server incorrectly implements the HTTP specification, but only after the client has attempted at least one normal request and determined from the response status or header fields (e.g., Server) that the server improperly handles higher request versions.  </p>
<p id="rfc.section.2.6.p.10">An HTTP server SHOULD send a response version equal to the highest version for which the server is at least conditionally compliant and whose major version is less than or equal to the one received in the request.  An HTTP server MUST NOT send a version for which it is not at least conditionally compliant.  A server MAY send a 505 (HTTP Version Not Supported) response if it cannot send a response using the major version used in the client's request.  </p>
<p id="rfc.section.2.6.p.11">An HTTP server MAY send an HTTP/1.0 response to an HTTP/1.0 request if it is known or suspected that the client incorrectly implements the HTTP specification and is incapable of correctly processing later version responses, such as when a client fails to parse the version number correctly or when an intermediary is known to blindly forward the HTTP-Version even when it doesn't comply with the given minor version of the protocol. Such protocol downgrades SHOULD NOT be performed unless triggered by specific client attributes, such as when one or more of the request header fields (e.g., User-Agent) uniquely match the values sent by a client known to be in error.  </p>
<p id="rfc.section.2.6.p.12">The intention of HTTP's versioning design is that the major number will only be incremented if an incompatible message syntax is introduced, and that the minor number will only be incremented when changes made to the protocol have the effect of adding to the message semantics or implying additional capabilities of the sender.  However, the minor version was not incremented for the changes introduced between <a href="#RFC2068">[RFC2068]</a> and <a href="#RFC2616">[RFC2616]</a>, and this revision is specifically avoiding any such changes to the protocol.  </p>
<h1 id="rfc.section.2.7">
<a href="#rfc.section.2.7">2.7.</a> <a href="#uri" id="uri">Uniform Resource Identifiers</a>
</h1>
<p id="rfc.section.2.7.p.1">Uniform Resource Identifiers (URIs) <a href="#RFC3986">[RFC3986]</a> are used throughout HTTP as the means for identifying resources. URI references are used to target requests, indicate redirects, and define relationships.  HTTP does not limit what a resource might be; it merely defines an interface that can be used to interact with a resource via HTTP. More information on the scope of URIs and resources can be found in <a href="#RFC3986">[RFC3986]</a>.  </p>
<p id="rfc.section.2.7.p.2">This specification adopts the definitions of "URI-reference", "absolute-URI", "relative-part", "port", "host", "path-abempty", "path-absolute", "query", and "authority" from the URI generic syntax <a href="#RFC3986">[RFC3986]</a>.  In addition, we define a partial-URI rule for protocol elements that allow a relative URI but not a fragment.  </p>
<div id="#rfc.figure.15"></div>
<pre>
  URI-reference = &lt;URI-reference, defined in [RFC3986], Section 4.1&gt;
  absolute-URI  = &lt;absolute-URI, defined in [RFC3986], Section 4.3&gt;
  relative-part = &lt;relative-part, defined in [RFC3986], Section 4.2&gt;
  authority     = &lt;authority, defined in [RFC3986], Section 3.2&gt;
  path-abempty  = &lt;path-abempty, defined in [RFC3986], Section 3.3&gt;
  path-absolute = &lt;path-absolute, defined in [RFC3986], Section 3.3&gt;
  port          = &lt;port, defined in [RFC3986], Section 3.2.3&gt;
  query         = &lt;query, defined in [RFC3986], Section 3.4&gt;
  uri-host      = &lt;host, defined in [RFC3986], Section 3.2.2&gt;
  
  partial-URI   = relative-part [ "?" query ]
</pre>
<p id="rfc.section.2.7.p.3">Each protocol element in HTTP that allows a URI reference will indicate in its ABNF production whether the element allows any form of reference (URI-reference), only a URI in absolute form (absolute-URI), only the path and optional query components, or some combination of the above.  Unless otherwise indicated, URI references are parsed relative to the effective request URI, which defines the default base URI for references in both the request and its corresponding response.  </p>
<h1 id="rfc.section.2.7.1">
<a href="#rfc.section.2.7.1">2.7.1.</a> <a href="#http.uri" id="http.uri">http URI scheme</a>
</h1>
<p id="rfc.section.2.7.1.p.1">The "http" URI scheme is hereby defined for the purpose of minting identifiers according to their association with the hierarchical namespace governed by a potential HTTP origin server listening for TCP connections on a given port.  </p>
<div id="#rfc.figure.16"></div>
<pre>
  http-URI = "http:" "//" authority path-abempty [ "?" query ]
</pre>
<p id="rfc.section.2.7.1.p.2">The HTTP origin server is identified by the generic syntax's <a href="#uri">authority</a> <cite title="NONE">[uri]</cite> component, which includes a host identifier and optional TCP port (<a href="#RFC3986">[RFC3986]</a>, Section 3.2.2).  The remainder of the URI, consisting of both the hierarchical path component and optional query component, serves as an identifier for a potential resource within that origin server's name space.  </p>
<p id="rfc.section.2.7.1.p.3">If the host identifier is provided as an IP literal or IPv4 address, then the origin server is any listener on the indicated TCP port at that IP address. If host is a registered name, then that name is considered an indirect identifier and the recipient might use a name resolution service, such as DNS, to find the address of a listener for that host.  The host MUST NOT be empty; if an "http" URI is received with an empty host, then it MUST be rejected as invalid.  If the port subcomponent is empty or not given, then TCP port 80 is assumed (the default reserved port for WWW services).  </p>
<p id="rfc.section.2.7.1.p.4">Regardless of the form of host identifier, access to that host is not implied by the mere presence of its name or address. The host might or might not exist and, even when it does exist, might or might not be running an HTTP server or listening to the indicated port. The "http" URI scheme makes use of the delegated nature of Internet names and addresses to establish a naming authority (whatever entity has the ability to place an HTTP server at that Internet name or address) and allows that authority to determine which names are valid and how they might be used.  </p>
<p id="rfc.section.2.7.1.p.5">When an "http" URI is used within a context that calls for access to the indicated resource, a client MAY attempt access by resolving the host to an IP address, establishing a TCP connection to that address on the indicated port, and sending an HTTP request message (<a href="#http.message">Section 3</a>) containing the URI's identifying data (<a href="#message.routing">Section 4</a>) to the server.  If the server responds to that request with a non-interim HTTP response message, as described in Section 4 of <a href="#Part2">[Part2]</a>, then that response is considered an authoritative answer to the client's request.  </p>
<p id="rfc.section.2.7.1.p.6">Although HTTP is independent of the transport protocol, the "http" scheme is specific to TCP-based services because the name delegation process depends on TCP for establishing authority.  An HTTP service based on some other underlying connection protocol would presumably be identified using a different URI scheme, just as the "https" scheme (below) is used for servers that require an SSL/TLS transport layer on a connection. Other protocols might also be used to provide access to "http" identified resources &#8212; it is only the authoritative interface used for mapping the namespace that is specific to TCP.  </p>
<p id="rfc.section.2.7.1.p.7">The URI generic syntax for authority also includes a deprecated userinfo subcomponent (<a href="#RFC3986">[RFC3986]</a>, Section 3.2.1) for including user authentication information in the URI.  Some implementations make use of the userinfo component for internal configuration of authentication information, such as within command invocation options, configuration files, or bookmark lists, even though such usage might expose a user identifier or password.  Senders MUST NOT include a userinfo subcomponent (and its "@" delimiter) when transmitting an "http" URI in a message.  Recipients of HTTP messages that contain a URI reference SHOULD parse for the existence of userinfo and treat its presence as an error, likely indicating that the deprecated subcomponent is being used to obscure the authority for the sake of phishing attacks.  </p>
<h1 id="rfc.section.2.7.2">
<a href="#rfc.section.2.7.2">2.7.2.</a> <a href="#https.uri" id="https.uri">https URI scheme</a>
</h1>
<p id="rfc.section.2.7.2.p.1">The "https" URI scheme is hereby defined for the purpose of minting identifiers according to their association with the hierarchical namespace governed by a potential HTTP origin server listening for SSL/TLS-secured connections on a given TCP port.  </p>
<p id="rfc.section.2.7.2.p.2">All of the requirements listed above for the "http" scheme are also requirements for the "https" scheme, except that a default TCP port of 443 is assumed if the port subcomponent is empty or not given, and the TCP connection MUST be secured for privacy through the use of strong encryption prior to sending the first HTTP request.  </p>
<div id="#rfc.figure.17"></div>
<pre>
  https-URI = "https:" "//" authority path-abempty [ "?" query ]
</pre>
<p id="rfc.section.2.7.2.p.3">Unlike the "http" scheme, responses to "https" identified requests are never "public" and thus MUST NOT be reused for shared caching.  They can, however, be reused in a private cache if the message is cacheable by default in HTTP or specifically indicated as such by the Cache-Control header field (Section 3.2 of <a href="#Part6">[Part6]</a>).  </p>
<p id="rfc.section.2.7.2.p.4">Resources made available via the "https" scheme have no shared identity with the "http" scheme even if their resource identifiers indicate the same authority (the same host listening to the same TCP port).  They are distinct name spaces and are considered to be distinct origin servers.  However, an extension to HTTP that is defined to apply to entire host domains, such as the Cookie protocol <a href="#RFC6265">[RFC6265]</a>, can allow information set by one service to impact communication with other services within a matching group of host domains.  </p>
<p id="rfc.section.2.7.2.p.5">The process for authoritative access to an "https" identified resource is defined in <a href="#RFC2818">[RFC2818]</a>.  </p>
<h1 id="rfc.section.2.7.3">
<a href="#rfc.section.2.7.3">2.7.3.</a> <a href="#uri.comparison" id="uri.comparison">http and https URI Normalization and Comparison</a>
</h1>
<p id="rfc.section.2.7.3.p.1">Since the "http" and "https" schemes conform to the URI generic syntax, such URIs are normalized and compared according to the algorithm defined in <a href="#RFC3986">[RFC3986]</a>, Section 6, using the defaults described above for each scheme.  </p>
<p id="rfc.section.2.7.3.p.2">If the port is equal to the default port for a scheme, the normal form is to elide the port subcomponent. Likewise, an empty path component is equivalent to an absolute path of "/", so the normal form is to provide a path of "/" instead. The scheme and host are case-insensitive and normally provided in lowercase; all other components are compared in a case-sensitive manner.  Characters other than those in the "reserved" set are equivalent to their percent-encoded octets (see <a href="#RFC3986">[RFC3986]</a>, Section 2.1): the normal form is to not encode them.  </p>
<p id="rfc.section.2.7.3.p.3">For example, the following three URIs are equivalent: </p>
<div id="#rfc.figure.18"></div>
<pre>
   http://example.com:80/~smith/home.html
   http://EXAMPLE.com/%7Esmith/home.html
   http://EXAMPLE.com:/%7esmith/home.html
</pre>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> <a href="#http.message" id="http.message">Message Format</a>
</h1>
<p id="rfc.section.3.p.1">All HTTP/1.1 messages consist of a start-line followed by a sequence of octets in a format similar to the Internet Message Format <a href="#RFC5322">[RFC5322]</a>: zero or more header fields (collectively referred to as the "headers" or the "header section"), an empty line indicating the end of the header section, and an optional message-body.  </p>
<div id="#rfc.figure.19"></div>
<pre>
  HTTP-message    = start-line
                    *( header-field CRLF )
                    CRLF
                    [ message-body ]
</pre>
<p id="rfc.section.3.p.2">The normal procedure for parsing an HTTP message is to read the start-line into a structure, read each header field into a hash table by field name until the empty line, and then use the parsed data to determine if a message-body is expected.  If a message-body has been indicated, then it is read as a stream until an amount of octets equal to the message-body length is read or the connection is closed.  </p>
<p id="rfc.section.3.p.3">Recipients MUST parse an HTTP message as a sequence of octets in an encoding that is a superset of US-ASCII <a href="#USASCII">[USASCII]</a>.  Parsing an HTTP message as a stream of Unicode characters, without regard for the specific encoding, creates security vulnerabilities due to the varying ways that string processing libraries handle invalid multibyte character sequences that contain the octet LF (%x0A).  String-based parsers can only be safely used within protocol elements after the element has been extracted from the message, such as within a header field-value after message parsing has delineated the individual fields.  </p>
<h1 id="rfc.section.3.1">
<a href="#rfc.section.3.1">3.1.</a> <a href="#start.line" id="start.line">Start Line</a>
</h1>
<p id="rfc.section.3.1.p.1">An HTTP message can either be a request from client to server or a response from server to client.  Syntactically, the two types of message differ only in the start-line, which is either a Request-Line (for requests) or a Status-Line (for responses), and in the algorithm for determining the length of the message-body (<a href="#message.body">Section 3.3</a>).  In theory, a client could receive requests and a server could receive responses, distinguishing them by their different start-line formats, but in practice servers are implemented to only expect a request (a response is interpreted as an unknown or invalid request method) and clients are implemented to only expect a response.  </p>
<div id="#rfc.figure.20"></div>
<pre>
  start-line      = Request-Line / Status-Line
</pre>
<p></p>
<p id="rfc.section.3.1.p.3">Implementations MUST NOT send whitespace between the start-line and the first header field. The presence of such whitespace in a request might be an attempt to trick a server into ignoring that field or processing the line after it as a new request, either of which might result in a security vulnerability if other implementations within the request chain interpret the same message differently.  Likewise, the presence of such whitespace in a response might be ignored by some clients or cause others to cease parsing.  </p>
<h1 id="rfc.section.3.1.1">
<a href="#rfc.section.3.1.1">3.1.1.</a> <a href="#request.line" id="request.line">Request-Line</a>
</h1>
<p id="rfc.section.3.1.1.p.1">The Request-Line begins with a method token, followed by a single space (SP), the request-target, another single space (SP), the protocol version, and ending with CRLF.  </p>
<div id="#rfc.figure.21"></div>
<pre>
  Request-Line   = Method SP request-target SP HTTP-Version CRLF
</pre>
<h1 id="rfc.section.3.1.1.1">
<a href="#rfc.section.3.1.1.1">3.1.1.1.</a> <a href="#method" id="method">Method</a>
</h1>
<p id="rfc.section.3.1.1.1.p.1">The Method token indicates the request method to be performed on the target resource. The request method is case-sensitive.  </p>
<div id="#rfc.figure.22"></div>
<pre>
  Method         = token
</pre>
<p id="rfc.section.3.1.1.1.p.2">See Section 2 of <a href="#Part2">[Part2]</a> for further information, such as the list of methods defined by this specification, the IANA registry, and considerations for new methods.  </p>
<h1 id="rfc.section.3.1.1.2">
<a href="#rfc.section.3.1.1.2">3.1.1.2.</a> <a href="#request-target" id="request-target">request-target</a>
</h1>
<p id="rfc.section.3.1.1.2.p.1">The request-target identifies the target resource upon which to apply the request.  The four options for request-target are described in <a href="#request-target-types">Section 4.1</a>.  </p>
<div id="#rfc.figure.23"></div>
<pre>
  request-target = "*"
                 / absolute-URI
                 / ( path-absolute [ "?" query ] )
                 / authority
</pre>
<p id="rfc.section.3.1.1.2.p.2">HTTP does not place a pre-defined limit on the length of a request-target.  A server MUST be prepared to receive URIs of unbounded length and respond with the 414 (URI Too Long) status code if the received request-target would be longer than the server wishes to handle (see Section 7.4.15 of <a href="#Part2">[Part2]</a>).  </p>
<p id="rfc.section.3.1.1.2.p.3">Various ad-hoc limitations on request-target length are found in practice.  It is RECOMMENDED that all HTTP senders and recipients support request-target lengths of 8000 or more octets.  </p>
<p></p>

<ul class="empty"><li>Note: Fragments (<a href="#RFC3986">[RFC3986]</a>, Section 3.5) are not part of the request-target and thus will not be transmitted in an HTTP request.  </li></ul>
<h1 id="rfc.section.3.1.2">
<a href="#rfc.section.3.1.2">3.1.2.</a> <a href="#status.line" id="status.line">Response Status-Line</a>
</h1>
<p id="rfc.section.3.1.2.p.1">The first line of a Response message is the Status-Line, consisting of the protocol version, a space (SP), the status code, another space, a possibly-empty textual phrase describing the status code, and ending with CRLF.  </p>
<div id="#rfc.figure.24"></div>
<pre>
  Status-Line = HTTP-Version SP Status-Code SP Reason-Phrase CRLF
</pre>
<h1 id="rfc.section.3.1.2.1">
<a href="#rfc.section.3.1.2.1">3.1.2.1.</a> <a href="#status.code" id="status.code">Status Code</a>
</h1>
<p id="rfc.section.3.1.2.1.p.1">The Status-Code element is a 3-digit integer result code of the attempt to understand and satisfy the request. See Section 4 of <a href="#Part2">[Part2]</a> for further information, such as the list of status codes defined by this specification, the IANA registry, and considerations for new status codes.  </p>
<div id="#rfc.figure.25"></div>
<pre>
  Status-Code    = 3DIGIT
</pre>
<h1 id="rfc.section.3.1.2.2">
<a href="#rfc.section.3.1.2.2">3.1.2.2.</a> <a href="#reason.phrase" id="reason.phrase">Reason Phrase</a>
</h1>
<p id="rfc.section.3.1.2.2.p.1">The Reason Phrase exists for the sole purpose of providing a textual description associated with the numeric status code, out of deference to earlier Internet application protocols that were more frequently used with interactive text clients. A client SHOULD ignore the content of the Reason Phrase.  </p>
<div id="#rfc.figure.26"></div>
<pre>
  Reason-Phrase  = *( HTAB / SP / VCHAR / obs-text )
</pre>
<h1 id="rfc.section.3.2">
<a href="#rfc.section.3.2">3.2.</a> <a href="#header.fields" id="header.fields">Header Fields</a>
</h1>
<p id="rfc.section.3.2.p.1">Each HTTP header field consists of a case-insensitive field name followed by a colon (":"), optional whitespace, and the field value.  </p>
<div id="#rfc.figure.27"></div>
<pre>
  header-field   = field-name ":" OWS field-value BWS
  field-name     = token
  field-value    = *( field-content / obs-fold )
  field-content  = *( HTAB / SP / VCHAR / obs-text )
</pre>
<p id="rfc.section.3.2.p.2">The field-name token labels the corresponding field-value as having the semantics defined by that header field.  For example, the Date header field is defined in Section 9.2 of <a href="#Part2">[Part2]</a> as containing the origination timestamp for the message in which it appears.  </p>
<p id="rfc.section.3.2.p.3">HTTP header fields are fully extensible: there is no limit on the introduction of new field names, each presumably defining new semantics, or on the number of header fields used in a given message.  Existing fields are defined in each part of this specification and in many other specifications outside the standards process.  New header fields can be introduced without changing the protocol version if their defined semantics allow them to be safely ignored by recipients that do not recognize them.  </p>
<p id="rfc.section.3.2.p.4">New HTTP header fields SHOULD be registered with IANA according to the procedures in Section 3.1 of <a href="#Part2">[Part2]</a>.  Unrecognized header fields MUST be forwarded by a proxy unless the field-name is listed in the Connection header field (<a href="#header.connection">Section 8.1</a>) or the proxy is specifically configured to block or otherwise transform such fields.  Unrecognized header fields SHOULD be ignored by other recipients.  </p>
<p id="rfc.section.3.2.p.5">The order in which header fields with differing field names are received is not significant. However, it is "good practice" to send header fields that contain control data first, such as Host on requests and Date on responses, so that implementations can decide when not to handle a message as early as possible.  A server MUST wait until the entire header section is received before interpreting a request message, since later header fields might include conditionals, authentication credentials, or deliberately misleading duplicate header fields that would impact request processing.  </p>
<p id="rfc.section.3.2.p.6">Multiple header fields with the same field name MUST NOT be sent in a message unless the entire field value for that header field is defined as a comma-separated list [i.e., #(values)].  Multiple header fields with the same field name can be combined into one "field-name: field-value" pair, without changing the semantics of the message, by appending each subsequent field value to the combined field value in order, separated by a comma. The order in which header fields with the same field name are received is therefore significant to the interpretation of the combined field value; a proxy MUST NOT change the order of these field values when forwarding a message.  </p>
<p></p>

<ul class="empty"><li>Note: The "Set-Cookie" header field as implemented in practice can occur multiple times, but does not use the list syntax, and thus cannot be combined into a single line (<a href="#RFC6265">[RFC6265]</a>). (See Appendix A.2.3 of <a href="#Kri2001">[Kri2001]</a> for details.) Also note that the Set-Cookie2 header field specified in <a href="#RFC2965">[RFC2965]</a> does not share this problem.  </li></ul>
<h1 id="rfc.section.3.2.1">
<a href="#rfc.section.3.2.1">3.2.1.</a> <a href="#field.parsing" id="field.parsing">Field Parsing</a>
</h1>
<p id="rfc.section.3.2.1.p.1">No whitespace is allowed between the header field-name and colon.  In the past, differences in the handling of such whitespace have led to security vulnerabilities in request routing and response handling.  Any received request message that contains whitespace between a header field-name and colon MUST be rejected with a response code of 400 (Bad Request).  A proxy MUST remove any such whitespace from a response message before forwarding the message downstream.  </p>
<p id="rfc.section.3.2.1.p.2">A field value MAY be preceded by optional whitespace (OWS); a single SP is preferred. The field value does not include any leading or trailing white space: OWS occurring before the first non-whitespace octet of the field value or after the last non-whitespace octet of the field value is ignored and SHOULD be removed before further processing (as this does not change the meaning of the header field).  </p>
<p id="rfc.section.3.2.1.p.3">Historically, HTTP header field values could be extended over multiple lines by preceding each extra line with at least one space or horizontal tab (obs-fold). This specification deprecates such line folding except within the message/http media type (<a href="#internet.media.type.message.http">Section 9.3.1</a>).  HTTP senders MUST NOT produce messages that include line folding (i.e., that contain any field-content that matches the obs-fold rule) unless the message is intended for packaging within the message/http media type.  HTTP recipients SHOULD accept line folding and replace any embedded obs-fold whitespace with either a single SP or a matching number of SP octets (to avoid buffer copying) prior to interpreting the field value or forwarding the message downstream.  </p>
<p id="rfc.section.3.2.1.p.4">Historically, HTTP has allowed field content with text in the ISO-8859-1 <a href="#ISO-8859-1">[ISO-8859-1]</a> character encoding and supported other character sets only through use of <a href="#RFC2047">[RFC2047]</a> encoding.  In practice, most HTTP header field values use only a subset of the US-ASCII character encoding <a href="#USASCII">[USASCII]</a>. Newly defined header fields SHOULD limit their field values to US-ASCII octets.  Recipients SHOULD treat other (obs-text) octets in field content as opaque data.  </p>
<h1 id="rfc.section.3.2.2">
<a href="#rfc.section.3.2.2">3.2.2.</a> <a href="#field.length" id="field.length">Field Length</a>
</h1>
<p id="rfc.section.3.2.2.p.1">HTTP does not place a pre-defined limit on the length of header fields, either in isolation or as a set. A server MUST be prepared to receive request header fields of unbounded length and respond with a 4xx status code if the received header field(s) would be longer than the server wishes to handle.  </p>
<p id="rfc.section.3.2.2.p.2">A client that receives response headers that are longer than it wishes to handle can only treat it as a server error.  </p>
<p id="rfc.section.3.2.2.p.3">Various ad-hoc limitations on header length are found in practice. It is RECOMMENDED that all HTTP senders and recipients support messages whose combined header fields have 4000 or more octets.  </p>
<h1 id="rfc.section.3.2.3">
<a href="#rfc.section.3.2.3">3.2.3.</a> <a href="#field.rules" id="field.rules">Common Field ABNF Rules</a>
</h1>
<p id="rfc.section.3.2.3.p.1">Many HTTP/1.1 header field values consist of words (token or quoted-string) separated by whitespace or special characters. These special characters MUST be in a quoted string to be used within a parameter value (as defined in <a href="#transfer.codings">Section 5.1</a>).  </p>
<div id="#rfc.figure.28"></div>
<pre>
  word           = token / quoted-string

  token          = 1*tchar

  tchar          = "!" / "#" / "$" / "%" / "&amp;" / "'" / "*"
                 / "+" / "-" / "." / "^" / "_" / "`" / "|" / "~" 
                 / DIGIT / ALPHA
                 ; any VCHAR, except special

  special        = "(" / ")" / "&lt;" / "&gt;" / "@" / ","
                 / ";" / ":" / "\" / DQUOTE / "/" / "[" 
                 / "]" / "?" / "=" / "{" / "}"
</pre>
<p id="rfc.section.3.2.3.p.2">A string of text is parsed as a single word if it is quoted using double-quote marks.  </p>
<div id="#rfc.figure.29"></div>
<pre>
  quoted-string  = DQUOTE *( qdtext / quoted-pair ) DQUOTE
  qdtext         = OWS / %x21 / %x23-5B / %x5D-7E / obs-text
  obs-text       = %x80-FF
</pre>
<p id="rfc.section.3.2.3.p.3">The backslash octet ("\") can be used as a single-octet quoting mechanism within quoted-string constructs: </p>
<div id="#rfc.figure.30"></div>
<pre>
  quoted-pair    = "\" ( HTAB / SP / VCHAR / obs-text ) 
</pre>
<p id="rfc.section.3.2.3.p.4">Recipients that process the value of the quoted-string MUST handle a quoted-pair as if it were replaced by the octet following the backslash.  </p>
<p id="rfc.section.3.2.3.p.5">Senders SHOULD NOT escape octets in quoted-strings that do not require escaping (i.e., other than DQUOTE and the backslash octet).  </p>
<p id="rfc.section.3.2.3.p.6">Comments can be included in some HTTP header fields by surrounding the comment text with parentheses. Comments are only allowed in fields containing "comment" as part of their field value definition.  </p>
<div id="#rfc.figure.31"></div>
<pre>
  comment        = "(" *( ctext / quoted-cpair / comment ) ")"
  ctext          = OWS / %x21-27 / %x2A-5B / %x5D-7E / obs-text
</pre>
<p id="rfc.section.3.2.3.p.7">The backslash octet ("\") can be used as a single-octet quoting mechanism within comment constructs: </p>
<div id="#rfc.figure.32"></div>
<pre>
  quoted-cpair    = "\" ( HTAB / SP / VCHAR / obs-text ) 
</pre>
<p id="rfc.section.3.2.3.p.8">Senders SHOULD NOT escape octets in comments that do not require escaping (i.e., other than the backslash octet "\" and the parentheses "(" and ")").  </p>
<h1 id="rfc.section.3.3">
<a href="#rfc.section.3.3">3.3.</a> <a href="#message.body" id="message.body">Message Body</a>
</h1>
<p id="rfc.section.3.3.p.1">The message-body (if any) of an HTTP message is used to carry the payload body associated with the request or response.  </p>
<div id="#rfc.figure.33"></div>
<pre>
  message-body = *OCTET
</pre>
<p id="rfc.section.3.3.p.2">The message-body differs from the payload body only when a transfer-coding has been applied, as indicated by the Transfer-Encoding header field (<a href="#header.transfer-encoding">Section 8.6</a>).  If more than one Transfer-Encoding header field is present in a message, the multiple field-values MUST be combined into one field-value, according to the algorithm defined in <a href="#header.fields">Section 3.2</a>, before determining the message-body length.  </p>
<p id="rfc.section.3.3.p.3">When one or more transfer-codings are applied to a payload in order to form the message-body, the Transfer-Encoding header field MUST contain the list of transfer-codings applied. Transfer-Encoding is a property of the message, not of the payload, and thus MAY be added or removed by any implementation along the request/response chain under the constraints found in <a href="#transfer.codings">Section 5.1</a>.  </p>
<p id="rfc.section.3.3.p.4">If a message is received that has multiple Content-Length header fields (<a href="#header.content-length">Section 8.2</a>) with field-values consisting of the same decimal value, or a single Content-Length header field with a field value containing a list of identical decimal values (e.g., "Content-Length: 42, 42"), indicating that duplicate Content-Length header fields have been generated or combined by an upstream message processor, then the recipient MUST either reject the message as invalid or replace the duplicated field-values with a single valid Content-Length field containing that decimal value prior to determining the message-body length.  </p>
<p id="rfc.section.3.3.p.5">The rules for when a message-body is allowed in a message differ for requests and responses.  </p>
<p id="rfc.section.3.3.p.6">The presence of a message-body in a request is signaled by the inclusion of a Content-Length or Transfer-Encoding header field in the request's header fields, even if the request method does not define any use for a message-body.  This allows the request message framing algorithm to be independent of method semantics.  </p>
<p id="rfc.section.3.3.p.7">For response messages, whether or not a message-body is included with a message is dependent on both the request method and the response status code (<a href="#status.code">Section 3.1.2.1</a>).  Responses to the HEAD request method never include a message-body because the associated response header fields (e.g., Transfer-Encoding, Content-Length, etc.) only indicate what their values would have been if the request method had been GET.  All 1xx (Informational), 204 (No Content), and 304 (Not Modified) responses MUST NOT include a message-body.  All other responses do include a message-body, although the body MAY be of zero length.  </p>
<p id="rfc.section.3.3.p.8">The length of the message-body is determined by one of the following (in order of precedence): </p>
<p></p>

<ol>
<li>Any response to a HEAD request and any response with a status code of 100-199, 204, or 304 is always terminated by the first empty line after the header fields, regardless of the header fields present in the message, and thus cannot contain a message-body.  </li>
<li>If a Transfer-Encoding header field is present and the "chunked" transfer-coding (<a href="#transfer.codings">Section 5.1</a>) is the final encoding, the message-body length is determined by reading and decoding the chunked data until the transfer-coding indicates the data is complete.  <br><br> If a Transfer-Encoding header field is present in a response and the "chunked" transfer-coding is not the final encoding, the message-body length is determined by reading the connection until it is closed by the server.  If a Transfer-Encoding header field is present in a request and the "chunked" transfer-coding is not the final encoding, the message-body length cannot be determined reliably; the server MUST respond with the 400 (Bad Request) status code and then close the connection.  <br><br> If a message is received with both a Transfer-Encoding header field and a Content-Length header field, the Transfer-Encoding overrides the Content-Length.  Such a message might indicate an attempt to perform request or response smuggling (bypass of security-related checks on message routing or content) and thus ought to be handled as an error.  The provided Content-Length MUST be removed, prior to forwarding the message downstream, or replaced with the real message-body length after the transfer-coding is decoded.  </li>
<li>If a message is received without Transfer-Encoding and with either multiple Content-Length header fields having differing field-values or a single Content-Length header field having an invalid value, then the message framing is invalid and MUST be treated as an error to prevent request or response smuggling.  If this is a request message, the server MUST respond with a 400 (Bad Request) status code and then close the connection.  If this is a response message received by a proxy, the proxy MUST discard the received response, send a 502 (Bad Gateway) status code as its downstream response, and then close the connection.  If this is a response message received by a user-agent, it MUST be treated as an error by discarding the message and closing the connection.  </li>
<li>If a valid Content-Length header field is present without Transfer-Encoding, its decimal value defines the message-body length in octets.  If the actual number of octets sent in the message is less than the indicated Content-Length, the recipient MUST consider the message to be incomplete and treat the connection as no longer usable.  If the actual number of octets sent in the message is more than the indicated Content-Length, the recipient MUST only process the message-body up to the field value's number of octets; the remainder of the message MUST either be discarded or treated as the next message in a pipeline.  For the sake of robustness, a user-agent MAY attempt to detect and correct such an error in message framing if it is parsing the response to the last request on a connection and the connection has been closed by the server.  </li>
<li>If this is a request message and none of the above are true, then the message-body length is zero (no message-body is present).  </li>
<li>Otherwise, this is a response message without a declared message-body length, so the message-body length is determined by the number of octets received prior to the server closing the connection.  </li>
</ol>

<p> </p>
<p id="rfc.section.3.3.p.10">Since there is no way to distinguish a successfully completed, close-delimited message from a partially-received message interrupted by network failure, implementations SHOULD use encoding or length-delimited messages whenever possible.  The close-delimiting feature exists primarily for backwards compatibility with HTTP/1.0.  </p>
<p id="rfc.section.3.3.p.11">A server MAY reject a request that contains a message-body but not a Content-Length by responding with 411 (Length Required).  </p>
<p id="rfc.section.3.3.p.12">Unless a transfer-coding other than "chunked" has been applied, a client that sends a request containing a message-body SHOULD use a valid Content-Length header field if the message-body length is known in advance, rather than the "chunked" encoding, since some existing services respond to "chunked" with a 411 (Length Required) status code even though they understand the chunked encoding.  This is typically because such services are implemented via a gateway that requires a content-length in advance of being called and the server is unable or unwilling to buffer the entire request before processing.  </p>
<p id="rfc.section.3.3.p.13">A client that sends a request containing a message-body MUST include a valid Content-Length header field if it does not know the server will handle HTTP/1.1 (or later) requests; such knowledge can be in the form of specific user configuration or by remembering the version of a prior received response.  </p>
<h1 id="rfc.section.3.4">
<a href="#rfc.section.3.4">3.4.</a> <a href="#incomplete.messages" id="incomplete.messages">Handling Incomplete Messages</a>
</h1>
<p id="rfc.section.3.4.p.1">Request messages that are prematurely terminated, possibly due to a cancelled connection or a server-imposed time-out exception, MUST result in closure of the connection; sending an HTTP/1.1 error response prior to closing the connection is OPTIONAL.  </p>
<p id="rfc.section.3.4.p.2">Response messages that are prematurely terminated, usually by closure of the connection prior to receiving the expected number of octets or by failure to decode a transfer-encoded message-body, MUST be recorded as incomplete.  A response that terminates in the middle of the header block (before the empty line is received) cannot be assumed to convey the full semantics of the response and MUST be treated as an error.  </p>
<p id="rfc.section.3.4.p.3">A message-body that uses the chunked transfer encoding is incomplete if the zero-sized chunk that terminates the encoding has not been received.  A message that uses a valid Content-Length is incomplete if the size of the message-body received (in octets) is less than the value given by Content-Length.  A response that has neither chunked transfer encoding nor Content-Length is terminated by closure of the connection, and thus is considered complete regardless of the number of message-body octets received, provided that the header block was received intact.  </p>
<p id="rfc.section.3.4.p.4">A user agent MUST NOT render an incomplete response message-body as if it were complete (i.e., some indication must be given to the user that an error occurred).  Cache requirements for incomplete responses are defined in Section 2.1 of <a href="#Part6">[Part6]</a>.  </p>
<p id="rfc.section.3.4.p.5">A server MUST read the entire request message-body or close the connection after sending its response, since otherwise the remaining data on a persistent connection would be misinterpreted as the next request.  Likewise, a client MUST read the entire response message-body if it intends to reuse the same connection for a subsequent request.  Pipelining multiple requests on a connection is described in <a href="#pipelining">Section 6.1.2.2</a>.  </p>
<h1 id="rfc.section.3.5">
<a href="#rfc.section.3.5">3.5.</a> <a href="#message.robustness" id="message.robustness">Message Parsing Robustness</a>
</h1>
<p id="rfc.section.3.5.p.1">Older HTTP/1.0 client implementations might send an extra CRLF after a POST request as a lame workaround for some early server applications that failed to read message-body content that was not terminated by a line-ending. An HTTP/1.1 client MUST NOT preface or follow a request with an extra CRLF.  If terminating the request message-body with a line-ending is desired, then the client MUST include the terminating CRLF octets as part of the message-body length.  </p>
<p id="rfc.section.3.5.p.2">In the interest of robustness, servers SHOULD ignore at least one empty line received where a Request-Line is expected. In other words, if the server is reading the protocol stream at the beginning of a message and receives a CRLF first, it SHOULD ignore the CRLF.  Likewise, although the line terminator for the start-line and header fields is the sequence CRLF, we recommend that recipients recognize a single LF as a line terminator and ignore any CR.  </p>
<p id="rfc.section.3.5.p.3">When a server listening only for HTTP request messages, or processing what appears from the start-line to be an HTTP request message, receives a sequence of octets that does not match the HTTP-message grammar aside from the robustness exceptions listed above, the server MUST respond with an HTTP/1.1 400 (Bad Request) response.  </p>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> <a href="#message.routing" id="message.routing">Message Routing</a>
</h1>
<p id="rfc.section.4.p.1">In most cases, the user agent is provided a URI reference from which it determines an absolute URI for identifying the target resource.  When a request to the resource is initiated, all or part of that URI is used to construct the HTTP request-target.  </p>
<h1 id="rfc.section.4.1">
<a href="#rfc.section.4.1">4.1.</a> <a href="#request-target-types" id="request-target-types">Types of Request Target</a>
</h1>
<p id="rfc.section.4.1.p.1">The four options for request-target are dependent on the nature of the request.  </p>
<p><a name="index.asterisk%20form%20(of%20request-target)"></a> The asterisk "*" form of request-target, which MUST NOT be used with any request method other than OPTIONS, means that the request applies to the server as a whole (the listening process) rather than to a specific named resource at that server.  For example, </p>
<div id="#rfc.figure.34"></div>
<pre>
  OPTIONS * HTTP/1.1
  </pre>
<p><a name="index.absolute-URI%20form%20(of%20request-target)"></a> The "absolute-URI" form is REQUIRED when the request is being made to a proxy. The proxy is requested to either forward the request or service it from a valid cache, and then return the response. Note that the proxy MAY forward the request on to another proxy or directly to the server specified by the absolute-URI. In order to avoid request loops, a proxy that forwards requests to other proxies MUST be able to recognize and exclude all of its own server names, including any aliases, local variations, and the numeric IP address. An example Request-Line would be: </p>
<div id="#rfc.figure.35"></div>
<pre>
  GET http://www.example.org/pub/WWW/TheProject.html HTTP/1.1
  </pre>
<p id="rfc.section.4.1.p.4">To allow for transition to absolute-URIs in all requests in future versions of HTTP, all HTTP/1.1 servers MUST accept the absolute-URI form in requests, even though HTTP/1.1 clients will only generate them in requests to proxies.  </p>
<p id="rfc.section.4.1.p.5">If a proxy receives a host name that is not a fully qualified domain name, it MAY add its domain to the host name it received. If a proxy receives a fully qualified domain name, the proxy MUST NOT change the host name.  </p>
<p><a name="index.authority%20form%20(of%20request-target)"></a> The "authority form" is only used by the CONNECT request method (Section 6.9 of <a href="#Part2">[Part2]</a>).  </p>
<p><a name="index.origin%20form%20(of%20request-target)"></a> The most common form of request-target is that used when making a request to an origin server ("origin form").  In this case, the absolute path and query components of the URI MUST be transmitted as the request-target, and the authority component MUST be transmitted in a Host header field. For example, a client wishing to retrieve a representation of the resource, as identified above, directly from the origin server would open (or reuse) a TCP connection to port 80 of the host "www.example.org" and send the lines: </p>
<div id="#rfc.figure.36"></div>
<pre>
  GET /pub/WWW/TheProject.html HTTP/1.1
  Host: www.example.org
  </pre>
<p id="rfc.section.4.1.p.8">followed by the remainder of the Request. Note that the origin form of request-target always starts with an absolute path; if the target resource's URI path is empty, then an absolute path of "/" MUST be provided in the request-target.  </p>
<p id="rfc.section.4.1.p.9">If a proxy receives an OPTIONS request with an absolute-URI form of request-target in which the URI has an empty path and no query component, then the last proxy on the request chain MUST use a request-target of "*" when it forwards the request to the indicated origin server.  </p>
<div id="#rfc.figure.37"></div>
<p>For example, the request </p>
<pre>
  OPTIONS http://www.example.org:8001 HTTP/1.1
  </pre>
<div id="#rfc.figure.38"></div>
<p>would be forwarded by the final proxy as </p>
<pre>
  OPTIONS * HTTP/1.1
  Host: www.example.org:8001
  </pre>
<p>after connecting to port 8001 of host "www.example.org".  </p>
<p id="rfc.section.4.1.p.10">The request-target is transmitted in the format specified in <a href="#http.uri">Section 2.7.1</a>. If the request-target is percent-encoded (<a href="#RFC3986">[RFC3986]</a>, Section 2.1), the origin server MUST decode the request-target in order to properly interpret the request. Servers SHOULD respond to invalid request-targets with an appropriate status code.  </p>
<p id="rfc.section.4.1.p.11">A non-transforming proxy MUST NOT rewrite the "path-absolute" part of the received request-target when forwarding it to the next inbound server, except as noted above to replace a null path-absolute with "/" or "*".  </p>
<p></p>

<ul class="empty"><li>Note: The "no rewrite" rule prevents the proxy from changing the meaning of the request when the origin server is improperly using a non-reserved URI character for a reserved purpose.  Implementors need to be aware that some pre-HTTP/1.1 proxies have been known to rewrite the request-target.  </li></ul>
<h1 id="rfc.section.4.2">
<a href="#rfc.section.4.2">4.2.</a> <a href="#the.resource.identified.by.a.request" id="the.resource.identified.by.a.request">The Resource Identified by a Request</a>
</h1>
<p id="rfc.section.4.2.p.1">The exact resource identified by an Internet request is determined by examining both the request-target and the Host header field.  </p>
<p id="rfc.section.4.2.p.2">An origin server that does not allow resources to differ by the requested host MAY ignore the Host header field value when determining the resource identified by an HTTP/1.1 request. (But see <a href="#changes.to.simplify.multi-homed.web.servers.and.conserve.ip.addresses">Appendix Appendix A.1.1</a> for other requirements on Host support in HTTP/1.1.) </p>
<p id="rfc.section.4.2.p.3">An origin server that does differentiate resources based on the host requested (sometimes referred to as virtual hosts or vanity host names) MUST use the following rules for determining the requested resource on an HTTP/1.1 request: </p>

<ol>
<li>If request-target is an absolute-URI, the host is part of the request-target. Any Host header field value in the request MUST be ignored.</li>
<li>If the request-target is not an absolute-URI, and the request includes a Host header field, the host is determined by the Host header field value.</li>
<li>If the host as determined by rule 1 or 2 is not a valid host on the server, the response MUST be a 400 (Bad Request) error message.</li>
</ol>

<p> </p>
<p id="rfc.section.4.2.p.4">Recipients of an HTTP/1.0 request that lacks a Host header field MAY attempt to use heuristics (e.g., examination of the URI path for something unique to a particular host) in order to determine what exact resource is being requested.  </p>
<h1 id="rfc.section.4.3">
<a href="#rfc.section.4.3">4.3.</a> <a href="#effective.request.uri" id="effective.request.uri">Effective Request URI</a>
</h1>
<p id="rfc.section.4.3.p.1">HTTP requests often do not carry the absolute URI (<a href="#RFC3986">[RFC3986]</a>, Section 4.3) for the target resource; instead, the URI needs to be inferred from the request-target, Host header field, and connection context. The result of this process is called the "effective request URI".  The "target resource" is the resource identified by the effective request URI.  </p>
<p id="rfc.section.4.3.p.2">If the request-target is an absolute-URI, then the effective request URI is the request-target.  </p>
<p id="rfc.section.4.3.p.3">If the request-target uses the path-absolute form or the asterisk form, and the Host header field is present, then the effective request URI is constructed by concatenating </p>
<p></p>

<ul>
<li>the scheme name: "http" if the request was received over an insecure TCP connection, or "https" when received over a SSL/TLS-secured TCP connection, </li>
<li>the octet sequence "://", </li>
<li>the authority component, as specified in the Host header field (<a href="#header.host">Section 8.3</a>), and </li>
<li>the request-target obtained from the Request-Line, unless the request-target is just the asterisk "*".  </li>
</ul>

<p> </p>
<p id="rfc.section.4.3.p.5">If the request-target uses the path-absolute form or the asterisk form, and the Host header field is not present, then the effective request URI is undefined.  </p>
<p id="rfc.section.4.3.p.6">Otherwise, when request-target uses the authority form, the effective request URI is undefined.  </p>
<div id="#rfc.figure.39"></div>
<p>Example 1: the effective request URI for the message </p>
<pre>
  GET /pub/WWW/TheProject.html HTTP/1.1
  Host: www.example.org:8080
  </pre>
<p>(received over an insecure TCP connection) is "http", plus "://", plus the authority component "www.example.org:8080", plus the request-target "/pub/WWW/TheProject.html", thus "http://www.example.org:8080/pub/WWW/TheProject.html".  </p>
<div id="#rfc.figure.40"></div>
<p>Example 2: the effective request URI for the message </p>
<pre>
  OPTIONS * HTTP/1.1
  Host: www.example.org
  </pre>
<p>(received over an SSL/TLS secured TCP connection) is "https", plus "://", plus the authority component "www.example.org", thus "https://www.example.org".  </p>
<p id="rfc.section.4.3.p.7">Effective request URIs are compared using the rules described in <a href="#uri.comparison">Section 2.7.3</a>, except that empty path components MUST NOT be treated as equivalent to an absolute path of "/".  </p>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> <a href="#protocol.parameters" id="protocol.parameters">Protocol Parameters</a>
</h1>
<h1 id="rfc.section.5.1">
<a href="#rfc.section.5.1">5.1.</a> <a href="#transfer.codings" id="transfer.codings">Transfer Codings</a>
</h1>
<p id="rfc.section.5.1.p.1">Transfer-coding values are used to indicate an encoding transformation that has been, can be, or might need to be applied to a payload body in order to ensure "safe transport" through the network.  This differs from a content coding in that the transfer-coding is a property of the message rather than a property of the representation that is being transferred.  </p>
<div id="#rfc.figure.41"></div>
<pre>
  transfer-coding         = "chunked" ; Section 5.1.1
                          / "compress" ; Section 5.1.2.1
                          / "deflate" ; Section 5.1.2.2
                          / "gzip" ; Section 5.1.2.3
                          / transfer-extension
  transfer-extension      = token *( OWS ";" OWS transfer-parameter )
</pre>
<p id="rfc.section.5.1.p.2">Parameters are in the form of attribute/value pairs.  </p>
<div id="#rfc.figure.42"></div>
<pre>
  transfer-parameter      = attribute BWS "=" BWS value
  attribute               = token
  value                   = word
</pre>
<p id="rfc.section.5.1.p.3">All transfer-coding values are case-insensitive. HTTP/1.1 uses transfer-coding values in the TE header field (<a href="#header.te">Section 8.4</a>) and in the Transfer-Encoding header field (<a href="#header.transfer-encoding">Section 8.6</a>).  </p>
<p id="rfc.section.5.1.p.4">Transfer-codings are analogous to the Content-Transfer-Encoding values of MIME, which were designed to enable safe transport of binary data over a 7-bit transport service (<a href="#RFC2045">[RFC2045]</a>, Section 6).  However, safe transport has a different focus for an 8bit-clean transfer protocol. In HTTP, the only unsafe characteristic of message-bodies is the difficulty in determining the exact message body length (<a href="#message.body">Section 3.3</a>), or the desire to encrypt data over a shared transport.  </p>
<p id="rfc.section.5.1.p.5">A server that receives a request message with a transfer-coding it does not understand SHOULD respond with 501 (Not Implemented) and then close the connection. A server MUST NOT send transfer-codings to an HTTP/1.0 client.  </p>
<h1 id="rfc.section.5.1.1">
<a href="#rfc.section.5.1.1">5.1.1.</a> <a href="#chunked.encoding" id="chunked.encoding">Chunked Transfer Coding</a>
</h1>
<p id="rfc.section.5.1.1.p.1">The chunked encoding modifies the body of a message in order to transfer it as a series of chunks, each with its own size indicator, followed by an OPTIONAL trailer containing header fields. This allows dynamically produced content to be transferred along with the information necessary for the recipient to verify that it has received the full message.  </p>
<div id="#rfc.figure.43"></div>
<pre>
  Chunked-Body   = *chunk
                   last-chunk
                   trailer-part
                   CRLF
  
  chunk          = chunk-size [ chunk-ext ] CRLF
                   chunk-data CRLF
  chunk-size     = 1*HEXDIG
  last-chunk     = 1*("0") [ chunk-ext ] CRLF
  
  chunk-ext      = *( ";" chunk-ext-name
                      [ "=" chunk-ext-val ] )
  chunk-ext-name = token
  chunk-ext-val  = token / quoted-str-nf
  chunk-data     = 1*OCTET ; a sequence of chunk-size octets
  trailer-part   = *( header-field CRLF )
  
  quoted-str-nf  = DQUOTE *( qdtext-nf / quoted-pair ) DQUOTE
                 ; like quoted-string, but disallowing line folding
  qdtext-nf      = HTAB / SP / %x21 / %x23-5B / %x5D-7E / obs-text
</pre>
<p id="rfc.section.5.1.1.p.2">The chunk-size field is a string of hex digits indicating the size of the chunk-data in octets. The chunked encoding is ended by any chunk whose size is zero, followed by the trailer, which is terminated by an empty line.  </p>
<p id="rfc.section.5.1.1.p.3">The trailer allows the sender to include additional HTTP header fields at the end of the message. The Trailer header field can be used to indicate which header fields are included in a trailer (see <a href="#header.trailer">Section 8.5</a>).  </p>
<p id="rfc.section.5.1.1.p.4">A server using chunked transfer-coding in a response MUST NOT use the trailer for any header fields unless at least one of the following is true: </p>

<ol>
<li>the request included a TE header field that indicates "trailers" is acceptable in the transfer-coding of the  response, as described in <a href="#header.te">Section 8.4</a>; or,</li>
<li>the trailer fields consist entirely of optional metadata, and the recipient could use the message (in a manner acceptable to the server where the field originated) without receiving it. In other words, the server that generated the header (often but not always the origin server) is willing to accept the possibility that the trailer fields might be silently discarded along the path to the client.</li>
</ol>

<p> </p>
<p id="rfc.section.5.1.1.p.5">This requirement prevents an interoperability failure when the message is being received by an HTTP/1.1 (or later) proxy and forwarded to an HTTP/1.0 recipient. It avoids a situation where compliance with the protocol would have necessitated a possibly infinite buffer on the proxy.  </p>
<p id="rfc.section.5.1.1.p.6">A process for decoding the "chunked" transfer-coding can be represented in pseudo-code as: </p>
<div id="#rfc.figure.44"></div>
<pre>
  length := 0
  read chunk-size, chunk-ext (if any) and CRLF
  while (chunk-size &gt; 0) {
     read chunk-data and CRLF
     append chunk-data to decoded-body
     length := length + chunk-size
     read chunk-size and CRLF
  }
  read header-field
  while (header-field not empty) {
     append header-field to existing header fields
     read header-field
  }
  Content-Length := length
  Remove "chunked" from Transfer-Encoding
</pre>
<p id="rfc.section.5.1.1.p.7">All HTTP/1.1 applications MUST be able to receive and decode the "chunked" transfer-coding and MUST ignore chunk-ext extensions they do not understand.  </p>
<p id="rfc.section.5.1.1.p.8">Since "chunked" is the only transfer-coding required to be understood by HTTP/1.1 recipients, it plays a crucial role in delimiting messages on a persistent connection.  Whenever a transfer-coding is applied to a payload body in a request, the final transfer-coding applied MUST be "chunked".  If a transfer-coding is applied to a response payload body, then either the final transfer-coding applied MUST be "chunked" or the message MUST be terminated by closing the connection. When the "chunked" transfer-coding is used, it MUST be the last transfer-coding applied to form the message-body. The "chunked" transfer-coding MUST NOT be applied more than once in a message-body.  </p>
<h1 id="rfc.section.5.1.2">
<a href="#rfc.section.5.1.2">5.1.2.</a> <a href="#compression.codings" id="compression.codings">Compression Codings</a>
</h1>
<p id="rfc.section.5.1.2.p.1">The codings defined below can be used to compress the payload of a message.  </p>
<p></p>

<ul class="empty"><li>Note: Use of program names for the identification of encoding formats is not desirable and is discouraged for future encodings. Their use here is representative of historical practice, not good design.  </li></ul>
<p></p>

<ul class="empty"><li>Note: For compatibility with previous implementations of HTTP, applications SHOULD consider "x-gzip" and "x-compress" to be equivalent to "gzip" and "compress" respectively.  </li></ul>
<h1 id="rfc.section.5.1.2.1">
<a href="#rfc.section.5.1.2.1">5.1.2.1.</a> <a href="#compress.coding" id="compress.coding">Compress Coding</a>
</h1>
<p id="rfc.section.5.1.2.1.p.1">The "compress" format is produced by the common UNIX file compression program "compress". This format is an adaptive Lempel-Ziv-Welch coding (LZW).  </p>
<h1 id="rfc.section.5.1.2.2">
<a href="#rfc.section.5.1.2.2">5.1.2.2.</a> <a href="#deflate.coding" id="deflate.coding">Deflate Coding</a>
</h1>
<p id="rfc.section.5.1.2.2.p.1">The "deflate" format is defined as the "deflate" compression mechanism (described in <a href="#RFC1951">[RFC1951]</a>) used inside the "zlib" data format (<a href="#RFC1950">[RFC1950]</a>).  </p>
<p></p>

<ul class="empty"><li>Note: Some incorrect implementations send the "deflate" compressed data without the zlib wrapper.  </li></ul>
<h1 id="rfc.section.5.1.2.3">
<a href="#rfc.section.5.1.2.3">5.1.2.3.</a> <a href="#gzip.coding" id="gzip.coding">Gzip Coding</a>
</h1>
<p id="rfc.section.5.1.2.3.p.1">The "gzip" format is produced by the file compression program "gzip" (GNU zip), as described in <a href="#RFC1952">[RFC1952]</a>. This format is a Lempel-Ziv coding (LZ77) with a 32 bit CRC.  </p>
<h1 id="rfc.section.5.1.3">
<a href="#rfc.section.5.1.3">5.1.3.</a> <a href="#transfer.coding.registry" id="transfer.coding.registry">Transfer Coding Registry</a>
</h1>
<p id="rfc.section.5.1.3.p.1">The HTTP Transfer Coding Registry defines the name space for the transfer coding names.  </p>
<p id="rfc.section.5.1.3.p.2">Registrations MUST include the following fields: </p>

<ul>
<li>Name</li>
<li>Description</li>
<li>Pointer to specification text</li>
</ul>

<p> </p>
<p id="rfc.section.5.1.3.p.3">Names of transfer codings MUST NOT overlap with names of content codings (Section 2.2 of <a href="#Part3">[Part3]</a>), unless the encoding transformation is identical (as it is the case for the compression codings defined in <a href="#compression.codings">Section 5.1.2</a>).  </p>
<p id="rfc.section.5.1.3.p.4">Values to be added to this name space require a specification (see "Specification Required" in Section 4.1 of <a href="#RFC5226">[RFC5226]</a>), and MUST conform to the purpose of transfer coding defined in this section.  </p>
<p id="rfc.section.5.1.3.p.5">The registry itself is maintained at <a href="http://www.iana.org/assignments/http-parameters">http://www.iana.org/assignments/http-parameters</a>.  </p>
<h1 id="rfc.section.5.2">
<a href="#rfc.section.5.2">5.2.</a> <a href="#product.tokens" id="product.tokens">Product Tokens</a>
</h1>
<p id="rfc.section.5.2.p.1">Product tokens are used to allow communicating applications to identify themselves by software name and version. Most fields using product tokens also allow sub-products which form a significant part of the application to be listed, separated by whitespace. By convention, the products are listed in order of their significance for identifying the application.  </p>
<div id="#rfc.figure.45"></div>
<pre>
  product         = token ["/" product-version]
  product-version = token
</pre>
<p id="rfc.section.5.2.p.2">Examples: </p>
<div id="#rfc.figure.46"></div>
<pre>
  User-Agent: CERN-LineMode/2.15 libwww/2.17b3
  Server: Apache/0.8.4
</pre>
<p id="rfc.section.5.2.p.3">Product tokens SHOULD be short and to the point. They MUST NOT be used for advertising or other non-essential information. Although any token octet MAY appear in a product-version, this token SHOULD only be used for a version identifier (i.e., successive versions of the same product SHOULD only differ in the product-version portion of the product value).  </p>
<h1 id="rfc.section.5.3">
<a href="#rfc.section.5.3">5.3.</a> <a href="#quality.values" id="quality.values">Quality Values</a>
</h1>
<p id="rfc.section.5.3.p.1">Both transfer codings (TE request header field, <a href="#header.te">Section 8.4</a>) and content negotiation (Section 5 of <a href="#Part3">[Part3]</a>) use short "floating point" numbers to indicate the relative importance ("weight") of various negotiable parameters.  A weight is normalized to a real number in the range 0 through 1, where 0 is the minimum and 1 the maximum value. If a parameter has a quality value of 0, then content with this parameter is "not acceptable" for the client. HTTP/1.1 applications MUST NOT generate more than three digits after the decimal point. User configuration of these values SHOULD also be limited in this fashion.  </p>
<div id="#rfc.figure.47"></div>
<pre>
  qvalue         = ( "0" [ "." 0*3DIGIT ] )
                 / ( "1" [ "." 0*3("0") ] )
</pre>
<p></p>

<ul class="empty"><li>Note: "Quality values" is a misnomer, since these values merely represent relative degradation in desired quality.  </li></ul>
<h1 id="rfc.section.6">
<a href="#rfc.section.6">6.</a> <a href="#connections" id="connections">Connections</a>
</h1>
<h1 id="rfc.section.6.1">
<a href="#rfc.section.6.1">6.1.</a> <a href="#persistent.connections" id="persistent.connections">Persistent Connections</a>
</h1>
<h1 id="rfc.section.6.1.1">
<a href="#rfc.section.6.1.1">6.1.1.</a> <a href="#persistent.purpose" id="persistent.purpose">Purpose</a>
</h1>
<p id="rfc.section.6.1.1.p.1">Prior to persistent connections, a separate TCP connection was established for each request, increasing the load on HTTP servers and causing congestion on the Internet. The use of inline images and other associated data often requires a client to make multiple requests of the same server in a short amount of time. Analysis of these performance problems and results from a prototype implementation are available <a href="#Pad1995">[Pad1995]</a> <a href="#Spe">[Spe]</a>. Implementation experience and measurements of actual HTTP/1.1 implementations show good results <a href="#Nie1997">[Nie1997]</a>. Alternatives have also been explored, for example, T/TCP <a href="#Tou1998">[Tou1998]</a>.  </p>
<p id="rfc.section.6.1.1.p.2">Persistent HTTP connections have a number of advantages: </p>

<ul>
<li>By opening and closing fewer TCP connections, CPU time is saved in routers and hosts (clients, servers, proxies, gateways, tunnels, or caches), and memory used for TCP protocol control blocks can be saved in hosts.  </li>
<li>HTTP requests and responses can be pipelined on a connection.  Pipelining allows a client to make multiple requests without waiting for each response, allowing a single TCP connection to be used much more efficiently, with much lower elapsed time.  </li>
<li>Network congestion is reduced by reducing the number of packets caused by TCP opens, and by allowing TCP sufficient time to determine the congestion state of the network.  </li>
<li>Latency on subsequent requests is reduced since there is no time spent in TCP's connection opening handshake.  </li>
<li>HTTP can evolve more gracefully, since errors can be reported without the penalty of closing the TCP connection. Clients using future versions of HTTP might optimistically try a new feature, but if communicating with an older server, retry with old semantics after an error is reported.  </li>
</ul>

<p> </p>
<p id="rfc.section.6.1.1.p.3">HTTP implementations SHOULD implement persistent connections.  </p>
<h1 id="rfc.section.6.1.2">
<a href="#rfc.section.6.1.2">6.1.2.</a> <a href="#persistent.overall" id="persistent.overall">Overall Operation</a>
</h1>
<p id="rfc.section.6.1.2.p.1">A significant difference between HTTP/1.1 and earlier versions of HTTP is that persistent connections are the default behavior of any HTTP connection. That is, unless otherwise indicated, the client SHOULD assume that the server will maintain a persistent connection, even after error responses from the server.  </p>
<p id="rfc.section.6.1.2.p.2">Persistent connections provide a mechanism by which a client and a server can signal the close of a TCP connection. This signaling takes place using the Connection header field (<a href="#header.connection">Section 8.1</a>). Once a close has been signaled, the client MUST NOT send any more requests on that connection.  </p>
<h1 id="rfc.section.6.1.2.1">
<a href="#rfc.section.6.1.2.1">6.1.2.1.</a> <a href="#persistent.negotiation" id="persistent.negotiation">Negotiation</a>
</h1>
<p id="rfc.section.6.1.2.1.p.1">An HTTP/1.1 server MAY assume that a HTTP/1.1 client intends to maintain a persistent connection unless a Connection header field including the connection-token "close" was sent in the request. If the server chooses to close the connection immediately after sending the response, it SHOULD send a Connection header field including the connection-token "close".  </p>
<p id="rfc.section.6.1.2.1.p.2">An HTTP/1.1 client MAY expect a connection to remain open, but would decide to keep it open based on whether the response from a server contains a Connection header field with the connection-token close. In case the client does not want to maintain a connection for more than that request, it SHOULD send a Connection header field including the connection-token close.  </p>
<p id="rfc.section.6.1.2.1.p.3">If either the client or the server sends the close token in the Connection header field, that request becomes the last one for the connection.  </p>
<p id="rfc.section.6.1.2.1.p.4">Clients and servers SHOULD NOT  assume that a persistent connection is maintained for HTTP versions less than 1.1 unless it is explicitly signaled. See <a href="#compatibility.with.http.1.0.persistent.connections">Appendix Appendix A.1.2</a> for more information on backward compatibility with HTTP/1.0 clients.  </p>
<p id="rfc.section.6.1.2.1.p.5">In order to remain persistent, all messages on the connection MUST have a self-defined message length (i.e., one not defined by closure of the connection), as described in <a href="#message.body">Section 3.3</a>.  </p>
<h1 id="rfc.section.6.1.2.2">
<a href="#rfc.section.6.1.2.2">6.1.2.2.</a> <a href="#pipelining" id="pipelining">Pipelining</a>
</h1>
<p id="rfc.section.6.1.2.2.p.1">A client that supports persistent connections MAY "pipeline" its requests (i.e., send multiple requests without waiting for each response). A server MUST send its responses to those requests in the same order that the requests were received.  </p>
<p id="rfc.section.6.1.2.2.p.2">Clients which assume persistent connections and pipeline immediately after connection establishment SHOULD be prepared to retry their connection if the first pipelined attempt fails. If a client does such a retry, it MUST NOT pipeline before it knows the connection is persistent. Clients MUST also be prepared to resend their requests if the server closes the connection before sending all of the corresponding responses.  </p>
<p id="rfc.section.6.1.2.2.p.3">Clients SHOULD NOT pipeline requests using non-idempotent request methods or non-idempotent sequences of request methods (see Section 6.1.2 of <a href="#Part2">[Part2]</a>). Otherwise, a premature termination of the transport connection could lead to indeterminate results. A client wishing to send a non-idempotent request SHOULD wait to send that request until it has received the response status line for the previous request.  </p>
<h1 id="rfc.section.6.1.3">
<a href="#rfc.section.6.1.3">6.1.3.</a> <a href="#persistent.proxy" id="persistent.proxy">Proxy Servers</a>
</h1>
<p id="rfc.section.6.1.3.p.1">It is especially important that proxies correctly implement the properties of the Connection header field as specified in <a href="#header.connection">Section 8.1</a>.  </p>
<p id="rfc.section.6.1.3.p.2">The proxy server MUST signal persistent connections separately with its clients and the origin servers (or other proxy servers) that it connects to. Each persistent connection applies to only one transport link.  </p>
<p id="rfc.section.6.1.3.p.3">A proxy server MUST NOT establish a HTTP/1.1 persistent connection with an HTTP/1.0 client (but see Section 19.7.1 of <a href="#RFC2068">[RFC2068]</a> for information and discussion of the problems with the Keep-Alive header field implemented by many HTTP/1.0 clients).  </p>
<h1 id="rfc.section.6.1.3.1">
<a href="#rfc.section.6.1.3.1">6.1.3.1.</a> <a href="#end-to-end.and.hop-by-hop.header-fields" id="end-to-end.and.hop-by-hop.header-fields">End-to-end and Hop-by-hop Header Fields</a>
</h1>
<p id="rfc.section.6.1.3.1.p.1">For the purpose of defining the behavior of caches and non-caching proxies, we divide HTTP header fields into two categories: </p>

<ul>
<li>End-to-end header fields, which are  transmitted to the ultimate recipient of a request or response. End-to-end header fields in responses MUST be stored as part of a cache entry and MUST be transmitted in any response formed from a cache entry.</li>
<li>Hop-by-hop header fields, which are meaningful only for a single transport-level connection, and are not stored by caches or forwarded by proxies.</li>
</ul>

<p> </p>
<p id="rfc.section.6.1.3.1.p.2">The following HTTP/1.1 header fields are hop-by-hop header fields: </p>

<ul>
<li>Connection</li>
<li>Keep-Alive</li>
<li>Proxy-Authenticate</li>
<li>Proxy-Authorization</li>
<li>TE</li>
<li>Trailer</li>
<li>Transfer-Encoding</li>
<li>Upgrade</li>
</ul>

<p> </p>
<p id="rfc.section.6.1.3.1.p.3">All other header fields defined by HTTP/1.1 are end-to-end header fields.  </p>
<p id="rfc.section.6.1.3.1.p.4">Other hop-by-hop header fields MUST be listed in a Connection header field (<a href="#header.connection">Section 8.1</a>).  </p>
<h1 id="rfc.section.6.1.3.2">
<a href="#rfc.section.6.1.3.2">6.1.3.2.</a> <a href="#non-modifiable.header-fields" id="non-modifiable.header-fields">Non-modifiable Header Fields</a>
</h1>
<p id="rfc.section.6.1.3.2.p.1">Some features of HTTP/1.1, such as Digest Authentication, depend on the value of certain end-to-end header fields. A non-transforming proxy SHOULD NOT modify an end-to-end header field unless the definition of that header field requires or specifically allows that.  </p>
<p id="rfc.section.6.1.3.2.p.2">A non-transforming proxy MUST NOT modify any of the following fields in a request or response, and it MUST NOT add any of these fields if not already present: </p>

<ul>
<li>Allow</li>
<li>Content-Location</li>
<li>Content-MD5</li>
<li>ETag</li>
<li>Last-Modified</li>
<li>Server</li>
</ul>

<p> </p>
<p id="rfc.section.6.1.3.2.p.3">A non-transforming proxy MUST NOT modify any of the following fields in a response: </p>

<ul><li>Expires</li></ul>

<p> </p>
<p id="rfc.section.6.1.3.2.p.4">but it MAY add any of these fields if not already present. If an Expires header field is added, it MUST be given a field-value identical to that of the Date header field in that response.  </p>
<p id="rfc.section.6.1.3.2.p.5">A proxy MUST NOT modify or add any of the following fields in a message that contains the no-transform cache-control directive, or in any request: </p>

<ul>
<li>Content-Encoding</li>
<li>Content-Range</li>
<li>Content-Type</li>
</ul>

<p> </p>
<p id="rfc.section.6.1.3.2.p.6">A transforming proxy MAY modify or add these fields to a message that does not include no-transform, but if it does so, it MUST add a Warning 214 (Transformation applied) if one does not already appear in the message (see Section 3.6 of <a href="#Part6">[Part6]</a>).  </p>
<p></p>

<ul class="empty"><li>Warning: Unnecessary modification of end-to-end header fields might cause authentication failures if stronger authentication mechanisms are introduced in later versions of HTTP. Such authentication mechanisms MAY rely on the values of header fields not listed here.  </li></ul>
<p id="rfc.section.6.1.3.2.p.8">A non-transforming proxy MUST preserve the message payload (<a href="#Part3">[Part3]</a>), though it MAY change the message-body through application or removal of a transfer-coding (<a href="#transfer.codings">Section 5.1</a>).  </p>
<h1 id="rfc.section.6.1.4">
<a href="#rfc.section.6.1.4">6.1.4.</a> <a href="#persistent.practical" id="persistent.practical">Practical Considerations</a>
</h1>
<p id="rfc.section.6.1.4.p.1">Servers will usually have some time-out value beyond which they will no longer maintain an inactive connection. Proxy servers might make this a higher value since it is likely that the client will be making more connections through the same server. The use of persistent connections places no requirements on the length (or existence) of this time-out for either the client or the server.  </p>
<p id="rfc.section.6.1.4.p.2">When a client or server wishes to time-out it SHOULD issue a graceful close on the transport connection. Clients and servers SHOULD both constantly watch for the other side of the transport close, and respond to it as appropriate. If a client or server does not detect the other side's close promptly it could cause unnecessary resource drain on the network.  </p>
<p id="rfc.section.6.1.4.p.3">A client, server, or proxy MAY close the transport connection at any time. For example, a client might have started to send a new request at the same time that the server has decided to close the "idle" connection. From the server's point of view, the connection is being closed while it was idle, but from the client's point of view, a request is in progress.  </p>
<p id="rfc.section.6.1.4.p.4">Clients (including proxies) SHOULD limit the number of simultaneous connections that they maintain to a given server (including proxies).  </p>
<p id="rfc.section.6.1.4.p.5">Previous revisions of HTTP gave a specific number of connections as a ceiling, but this was found to be impractical for many applications. As a result, this specification does not mandate a particular maximum number of connections, but instead encourages clients to be conservative when opening multiple connections.  </p>
<p id="rfc.section.6.1.4.p.6">In particular, while using multiple connections avoids the "head-of-line blocking" problem (whereby a request that takes significant server-side processing and/or has a large payload can block subsequent requests on the same connection), each connection used consumes server resources (sometimes significantly), and furthermore using multiple connections can cause undesirable side effects in congested networks.  </p>
<p id="rfc.section.6.1.4.p.7">Note that servers might reject traffic that they deem abusive, including an excessive number of connections from a client.  </p>
<h1 id="rfc.section.6.1.5">
<a href="#rfc.section.6.1.5">6.1.5.</a> <a href="#persistent.retrying.requests" id="persistent.retrying.requests">Retrying Requests</a>
</h1>
<p id="rfc.section.6.1.5.p.1">Senders can close the transport connection at any time. Therefore, clients, servers, and proxies MUST be able to recover from asynchronous close events. Client software MAY reopen the transport connection and retransmit the aborted sequence of requests without user interaction so long as the request sequence is idempotent (see Section 6.1.2 of <a href="#Part2">[Part2]</a>). Non-idempotent request methods or sequences MUST NOT be automatically retried, although user agents MAY offer a human operator the choice of retrying the request(s). Confirmation by user-agent software with semantic understanding of the application MAY substitute for user confirmation. The automatic retry SHOULD NOT be repeated if the second sequence of requests fails.  </p>
<h1 id="rfc.section.6.2">
<a href="#rfc.section.6.2">6.2.</a> <a href="#message.transmission.requirements" id="message.transmission.requirements">Message Transmission Requirements</a>
</h1>
<h1 id="rfc.section.6.2.1">
<a href="#rfc.section.6.2.1">6.2.1.</a> <a href="#persistent.flow" id="persistent.flow">Persistent Connections and Flow Control</a>
</h1>
<p id="rfc.section.6.2.1.p.1">HTTP/1.1 servers SHOULD maintain persistent connections and use TCP's flow control mechanisms to resolve temporary overloads, rather than terminating connections with the expectation that clients will retry.  The latter technique can exacerbate network congestion.  </p>
<h1 id="rfc.section.6.2.2">
<a href="#rfc.section.6.2.2">6.2.2.</a> <a href="#persistent.monitor" id="persistent.monitor">Monitoring Connections for Error Status Messages</a>
</h1>
<p id="rfc.section.6.2.2.p.1">An HTTP/1.1 (or later) client sending a message-body SHOULD monitor the network connection for an error status code while it is transmitting the request. If the client sees an error status code, it SHOULD immediately cease transmitting the body. If the body is being sent using a "chunked" encoding (<a href="#transfer.codings">Section 5.1</a>), a zero length chunk and empty trailer MAY be used to prematurely mark the end of the message.  If the body was preceded by a Content-Length header field, the client MUST close the connection.  </p>
<h1 id="rfc.section.6.2.3">
<a href="#rfc.section.6.2.3">6.2.3.</a> <a href="#use.of.the.100.status" id="use.of.the.100.status">Use of the 100 (Continue) Status</a>
</h1>
<p id="rfc.section.6.2.3.p.1">The purpose of the 100 (Continue) status code (see Section 7.1.1 of <a href="#Part2">[Part2]</a>) is to allow a client that is sending a request message with a request body to determine if the origin server is willing to accept the request (based on the request header fields) before the client sends the request body. In some cases, it might either be inappropriate or highly inefficient for the client to send the body if the server will reject the message without looking at the body.  </p>
<p id="rfc.section.6.2.3.p.2">Requirements for HTTP/1.1 clients: </p>

<ul>
<li>If a client will wait for a 100 (Continue) response before sending the request body, it MUST send an Expect header field (Section 9.3 of <a href="#Part2">[Part2]</a>) with the "100-continue" expectation.  </li>
<li>A client MUST NOT send an Expect header field (Section 9.3 of <a href="#Part2">[Part2]</a>) with the "100-continue" expectation if it does not intend to send a request body.  </li>
</ul>

<p> </p>
<p id="rfc.section.6.2.3.p.3">Because of the presence of older implementations, the protocol allows ambiguous situations in which a client might send "Expect: 100-continue" without receiving either a 417 (Expectation Failed) or a 100 (Continue) status code. Therefore, when a client sends this header field to an origin server (possibly via a proxy) from which it has never seen a 100 (Continue) status code, the client SHOULD NOT wait for an indefinite period before sending the request body.  </p>
<p id="rfc.section.6.2.3.p.4">Requirements for HTTP/1.1 origin servers: </p>

<ul>
<li>Upon receiving a request which includes an Expect header field with the "100-continue" expectation, an origin server MUST either respond with 100 (Continue) status code and continue to read from the input stream, or respond with a final status code. The origin server MUST NOT wait for the request body before sending the 100 (Continue) response. If it responds with a final status code, it MAY close the transport connection or it MAY continue to read and discard the rest of the request.  It MUST NOT perform the request method if it returns a final status code.  </li>
<li>An origin server SHOULD NOT  send a 100 (Continue) response if the request message does not include an Expect header field with the "100-continue" expectation, and MUST NOT send a 100 (Continue) response if such a request comes from an HTTP/1.0 (or earlier) client. There is an exception to this rule: for compatibility with <a href="#RFC2068">[RFC2068]</a>, a server MAY send a 100 (Continue) status code in response to an HTTP/1.1 PUT or POST request that does not include an Expect header field with the "100-continue" expectation. This exception, the purpose of which is to minimize any client processing delays associated with an undeclared wait for 100 (Continue) status code, applies only to HTTP/1.1 requests, and not to requests with any other HTTP-version value.  </li>
<li>An origin server MAY omit a 100 (Continue) response if it has already received some or all of the request body for the corresponding request.  </li>
<li>An origin server that sends a 100 (Continue) response MUST ultimately send a final status code, once the request body is received and processed, unless it terminates the transport connection prematurely.  </li>
<li>If an origin server receives a request that does not include an Expect header field with the "100-continue" expectation, the request includes a request body, and the server responds with a final status code before reading the entire request body from the transport connection, then the server SHOULD NOT  close the transport connection until it has read the entire request, or until the client closes the connection. Otherwise, the client might not reliably receive the response message. However, this requirement is not be construed as preventing a server from defending itself against denial-of-service attacks, or from badly broken client implementations.  </li>
</ul>

<p> </p>
<p id="rfc.section.6.2.3.p.5">Requirements for HTTP/1.1 proxies: </p>

<ul>
<li>If a proxy receives a request that includes an Expect header field with the "100-continue" expectation, and the proxy either knows that the next-hop server complies with HTTP/1.1 or higher, or does not know the HTTP version of the next-hop server, it MUST forward the request, including the Expect header field.  </li>
<li>If the proxy knows that the version of the next-hop server is HTTP/1.0 or lower, it MUST NOT forward the request, and it MUST respond with a 417 (Expectation Failed) status code.  </li>
<li>Proxies SHOULD maintain a record of the HTTP version numbers received from recently-referenced next-hop servers.  </li>
<li>A proxy MUST NOT forward a 100 (Continue) response if the request message was received from an HTTP/1.0 (or earlier) client and did not include an Expect header field with the "100-continue" expectation. This requirement overrides the general rule for forwarding of 1xx responses (see Section 7.1 of <a href="#Part2">[Part2]</a>).  </li>
</ul>

<p> </p>
<h1 id="rfc.section.7">
<a href="#rfc.section.7">7.</a> <a href="#misc" id="misc">Miscellaneous notes that might disappear</a>
</h1>
<h1 id="rfc.section.7.1">
<a href="#rfc.section.7.1">7.1.</a> <a href="#scheme.aliases" id="scheme.aliases">Scheme aliases considered harmful</a>
</h1>
<p></p>
<h1 id="rfc.section.7.2">
<a href="#rfc.section.7.2">7.2.</a> <a href="#http.proxy" id="http.proxy">Use of HTTP for proxy communication</a>
</h1>
<p></p>
<h1 id="rfc.section.7.3">
<a href="#rfc.section.7.3">7.3.</a> <a href="#http.intercept" id="http.intercept">Interception of HTTP for access control</a>
</h1>
<p></p>
<h1 id="rfc.section.7.4">
<a href="#rfc.section.7.4">7.4.</a> <a href="#http.others" id="http.others">Use of HTTP by other protocols</a>
</h1>
<p></p>
<h1 id="rfc.section.7.5">
<a href="#rfc.section.7.5">7.5.</a> <a href="#http.media" id="http.media">Use of HTTP by media type specification</a>
</h1>
<p></p>
<h1 id="rfc.section.8">
<a href="#rfc.section.8">8.</a> <a href="#header.field.definitions" id="header.field.definitions">Header Field Definitions</a>
</h1>
<p id="rfc.section.8.p.1">This section defines the syntax and semantics of HTTP header fields related to message origination, framing, and routing.  </p>
<div id="#rfc.table.1"></div>
<table cellpadding="3" cellspacing="0" class="tt full left">
<thead><tr>
<th class="left">Header Field Name</th>
<th class="left">Defined in...</th>
</tr></thead>
<tbody>
<tr>
<td class="left">Connection</td>
<td class="left"><a href="#header.connection">Section 8.1</a></td>
</tr>
<tr>
<td class="left">Content-Length</td>
<td class="left"><a href="#header.content-length">Section 8.2</a></td>
</tr>
<tr>
<td class="left">Host</td>
<td class="left"><a href="#header.host">Section 8.3</a></td>
</tr>
<tr>
<td class="left">TE</td>
<td class="left"><a href="#header.te">Section 8.4</a></td>
</tr>
<tr>
<td class="left">Trailer</td>
<td class="left"><a href="#header.trailer">Section 8.5</a></td>
</tr>
<tr>
<td class="left">Transfer-Encoding</td>
<td class="left"><a href="#header.transfer-encoding">Section 8.6</a></td>
</tr>
<tr>
<td class="left">Upgrade</td>
<td class="left"><a href="#header.upgrade">Section 8.7</a></td>
</tr>
<tr>
<td class="left">Via</td>
<td class="left"><a href="#header.via">Section 8.8</a></td>
</tr>
</tbody>
</table>
<h1 id="rfc.section.8.1">
<a href="#rfc.section.8.1">8.1.</a> <a href="#header.connection" id="header.connection">Connection</a>
</h1>
<p id="rfc.section.8.1.p.1">The "Connection" header field allows the sender to specify options that are desired only for that particular connection.  Such connection options MUST be removed or replaced before the message can be forwarded downstream by a proxy or gateway.  This mechanism also allows the sender to indicate which HTTP header fields used in the message are only intended for the immediate recipient ("hop-by-hop"), as opposed to all recipients on the chain ("end-to-end"), enabling the message to be self-descriptive and allowing future connection-specific extensions to be deployed in HTTP without fear that they will be blindly forwarded by previously deployed intermediaries.  </p>
<p id="rfc.section.8.1.p.2">The Connection header field's value has the following grammar: </p>
<div id="#rfc.figure.48"></div>
<pre>
  Connection       = 1#connection-token
  connection-token = token
</pre>
<p id="rfc.section.8.1.p.3">A proxy or gateway MUST parse a received Connection header field before a message is forwarded and, for each connection-token in this field, remove any header field(s) from the message with the same name as the connection-token, and then remove the Connection header field itself or replace it with the sender's own connection options for the forwarded message.  </p>
<p id="rfc.section.8.1.p.4">A sender MUST NOT include field-names in the Connection header field-value for fields that are defined as expressing constraints for all recipients in the request or response chain, such as the Cache-Control header field (Section 3.2 of <a href="#Part6">[Part6]</a>).  </p>
<p id="rfc.section.8.1.p.5">The connection options do not have to correspond to a header field present in the message, since a connection-specific header field might not be needed if there are no parameters associated with that connection option.  Recipients that trigger certain connection behavior based on the presence of connection options MUST do so based on the presence of the connection-token rather than only the presence of the optional header field.  In other words, if the connection option is received as a header field but not indicated within the Connection field-value, then the recipient MUST ignore the connection-specific header field because it has likely been forwarded by an intermediary that is only partially compliant.  </p>
<p id="rfc.section.8.1.p.6">When defining new connection options, specifications ought to carefully consider existing deployed header fields and ensure that the new connection-token does not share the same name as an unrelated header field that might already be deployed.  Defining a new connection-token essentially reserves that potential field-name for carrying additional information related to the connection option, since it would be unwise for senders to use that field-name for anything else.  </p>
<p id="rfc.section.8.1.p.7">HTTP/1.1 defines the "close" connection option for the sender to signal that the connection will be closed after completion of the response. For example, </p>
<div id="#rfc.figure.49"></div>
<pre>
  Connection: close
</pre>
<p id="rfc.section.8.1.p.8">in either the request or the response header fields indicates that the connection SHOULD NOT  be considered "persistent" (<a href="#persistent.connections">Section 6.1</a>) after the current request/response is complete.  </p>
<p id="rfc.section.8.1.p.9">An HTTP/1.1 client that does not support persistent connections MUST include the "close" connection option in every request message.  </p>
<p id="rfc.section.8.1.p.10">An HTTP/1.1 server that does not support persistent connections MUST include the "close" connection option in every response message that does not have a 1xx (Informational) status code.  </p>
<h1 id="rfc.section.8.2">
<a href="#rfc.section.8.2">8.2.</a> <a href="#header.content-length" id="header.content-length">Content-Length</a>
</h1>
<p id="rfc.section.8.2.p.1">The "Content-Length" header field indicates the size of the message-body, in decimal number of octets, for any message other than a response to a HEAD request or a response with a status code of 304.  In the case of a response to a HEAD request, Content-Length indicates the size of the payload body (not including any potential transfer-coding) that would have been sent had the request been a GET.  In the case of a 304 (Not Modified) response to a GET request, Content-Length indicates the size of the payload body (not including any potential transfer-coding) that would have been sent in a 200 (OK) response.  </p>
<div id="#rfc.figure.50"></div>
<pre>
  Content-Length = 1*DIGIT
</pre>
<p id="rfc.section.8.2.p.2">An example is </p>
<div id="#rfc.figure.51"></div>
<pre>
  Content-Length: 3495
</pre>
<p id="rfc.section.8.2.p.3">Implementations SHOULD use this field to indicate the message-body length when no transfer-coding is being applied and the payload's body length can be determined prior to being transferred.  <a href="#message.body">Section 3.3</a> describes how recipients determine the length of a message-body.  </p>
<p id="rfc.section.8.2.p.4">Any Content-Length greater than or equal to zero is a valid value.  </p>
<p id="rfc.section.8.2.p.5">Note that the use of this field in HTTP is significantly different from the corresponding definition in MIME, where it is an optional field used within the "message/external-body" content-type.  </p>
<h1 id="rfc.section.8.3">
<a href="#rfc.section.8.3">8.3.</a> <a href="#header.host" id="header.host">Host</a>
</h1>
<p id="rfc.section.8.3.p.1">The "Host" header field in a request provides the host and port information from the target resource's URI, enabling the origin server to distinguish between resources while servicing requests for multiple host names on a single IP address.  Since the Host field-value is critical information for handling a request, it SHOULD be sent as the first header field following the Request-Line.  </p>
<div id="#rfc.figure.52"></div>
<pre>
  Host = uri-host [ ":" port ] ; Section 2.7.1
</pre>
<p id="rfc.section.8.3.p.2">A client MUST send a Host header field in all HTTP/1.1 request messages.  If the target resource's URI includes an authority component, then the Host field-value MUST be identical to that authority component after excluding any userinfo (<a href="#http.uri">Section 2.7.1</a>).  If the authority component is missing or undefined for the target resource's URI, then the Host header field MUST be sent with an empty field-value.  </p>
<p id="rfc.section.8.3.p.3">For example, a GET request to the origin server for &lt;http://www.example.org/pub/WWW/&gt; would begin with: </p>
<div id="#rfc.figure.53"></div>
<pre>
  GET /pub/WWW/ HTTP/1.1
  Host: www.example.org
  </pre>
<p id="rfc.section.8.3.p.4">The Host header field MUST be sent in an HTTP/1.1 request even if the request-target is in the form of an absolute-URI, since this allows the Host information to be forwarded through ancient HTTP/1.0 proxies that might not have implemented Host.  </p>
<p id="rfc.section.8.3.p.5">When an HTTP/1.1 proxy receives a request with a request-target in the form of an absolute-URI, the proxy MUST ignore the received Host header field (if any) and instead replace it with the host information of the request-target.  When a proxy forwards a request, it MUST generate the Host header field based on the received absolute-URI rather than the received Host.  </p>
<p id="rfc.section.8.3.p.6">Since the Host header field acts as an application-level routing mechanism, it is a frequent target for malware seeking to poison a shared cache or redirect a request to an unintended server.  An interception proxy is particularly vulnerable if it relies on the Host header field value for redirecting requests to internal servers, or for use as a cache key in a shared cache, without first verifying that the intercepted connection is targeting a valid IP address for that host.  </p>
<p id="rfc.section.8.3.p.7">A server MUST respond with a 400 (Bad Request) status code to any HTTP/1.1 request message that lacks a Host header field and to any request message that contains more than one Host header field or a Host header field with an invalid field-value.  </p>
<p id="rfc.section.8.3.p.8">See Sections <a href="#the.resource.identified.by.a.request">4.2</a> and <a href="#changes.to.simplify.multi-homed.web.servers.and.conserve.ip.addresses">Appendix A.1.1</a> for other requirements relating to Host.  </p>
<h1 id="rfc.section.8.4">
<a href="#rfc.section.8.4">8.4.</a> <a href="#header.te" id="header.te">TE</a>
</h1>
<p id="rfc.section.8.4.p.1">The "TE" header field indicates what extension transfer-codings it is willing to accept in the response, and whether or not it is willing to accept trailer fields in a chunked transfer-coding.  </p>
<p id="rfc.section.8.4.p.2">Its value consists of the keyword "trailers" and/or a comma-separated list of extension transfer-coding names with optional accept parameters (as described in <a href="#transfer.codings">Section 5.1</a>).  </p>
<div id="#rfc.figure.54"></div>
<pre>
  TE        = #t-codings
  t-codings = "trailers" / ( transfer-extension [ te-params ] )
  te-params = OWS ";" OWS "q=" qvalue *( te-ext )
  te-ext    = OWS ";" OWS token [ "=" word ]
</pre>
<p id="rfc.section.8.4.p.3">The presence of the keyword "trailers" indicates that the client is willing to accept trailer fields in a chunked transfer-coding, as defined in <a href="#chunked.encoding">Section 5.1.1</a>. This keyword is reserved for use with transfer-coding values even though it does not itself represent a transfer-coding.  </p>
<p id="rfc.section.8.4.p.4">Examples of its use are: </p>
<div id="#rfc.figure.55"></div>
<pre>
  TE: deflate
  TE:
  TE: trailers, deflate;q=0.5
</pre>
<p id="rfc.section.8.4.p.5">The TE header field only applies to the immediate connection.  Therefore, the keyword MUST be supplied within a Connection header field (<a href="#header.connection">Section 8.1</a>) whenever TE is present in an HTTP/1.1 message.  </p>
<p id="rfc.section.8.4.p.6">A server tests whether a transfer-coding is acceptable, according to a TE field, using these rules: </p>

<ol>
<li>The "chunked" transfer-coding is always acceptable. If the keyword "trailers" is listed, the client indicates that it is willing to accept trailer fields in the chunked response on behalf of itself and any downstream clients. The implication is that, if given, the client is stating that either all downstream clients are willing to accept trailer fields in the forwarded response, or that it will attempt to buffer the response on behalf of downstream recipients.  <br><br> Note: HTTP/1.1 does not define any means to limit the size of a chunked response such that a client can be assured of buffering the entire response.</li>
<li>If the transfer-coding being tested is one of the transfer-codings listed in the TE field, then it is acceptable unless it is accompanied by a qvalue of 0. (As defined in <a href="#quality.values">Section 5.3</a>, a qvalue of 0 means "not acceptable".)</li>
<li>If multiple transfer-codings are acceptable, then the acceptable transfer-coding with the highest non-zero qvalue is preferred.  The "chunked" transfer-coding always has a qvalue of 1.</li>
</ol>

<p> </p>
<p id="rfc.section.8.4.p.7">If the TE field-value is empty or if no TE field is present, the only transfer-coding is "chunked". A message with no transfer-coding is always acceptable.  </p>
<h1 id="rfc.section.8.5">
<a href="#rfc.section.8.5">8.5.</a> <a href="#header.trailer" id="header.trailer">Trailer</a>
</h1>
<p id="rfc.section.8.5.p.1">The "Trailer" header field indicates that the given set of header fields is present in the trailer of a message encoded with chunked transfer-coding.  </p>
<div id="#rfc.figure.56"></div>
<pre>
  Trailer = 1#field-name
</pre>
<p id="rfc.section.8.5.p.2">An HTTP/1.1 message SHOULD include a Trailer header field in a message using chunked transfer-coding with a non-empty trailer. Doing so allows the recipient to know which header fields to expect in the trailer.  </p>
<p id="rfc.section.8.5.p.3">If no Trailer header field is present, the trailer SHOULD NOT  include any header fields. See <a href="#chunked.encoding">Section 5.1.1</a> for restrictions on the use of trailer fields in a "chunked" transfer-coding.  </p>
<p id="rfc.section.8.5.p.4">Message header fields listed in the Trailer header field MUST NOT include the following header fields: </p>

<ul>
<li>Transfer-Encoding</li>
<li>Content-Length</li>
<li>Trailer</li>
</ul>

<p> </p>
<h1 id="rfc.section.8.6">
<a href="#rfc.section.8.6">8.6.</a> <a href="#header.transfer-encoding" id="header.transfer-encoding">Transfer-Encoding</a>
</h1>
<p id="rfc.section.8.6.p.1">The "Transfer-Encoding" header field indicates what transfer-codings (if any) have been applied to the message body. It differs from Content-Encoding (Section 2.2 of <a href="#Part3">[Part3]</a>) in that transfer-codings are a property of the message (and therefore are removed by intermediaries), whereas content-codings are not.  </p>
<div id="#rfc.figure.57"></div>
<pre>
  Transfer-Encoding = 1#transfer-coding
</pre>
<p id="rfc.section.8.6.p.2">Transfer-codings are defined in <a href="#transfer.codings">Section 5.1</a>. An example is: </p>
<div id="#rfc.figure.58"></div>
<pre>
  Transfer-Encoding: chunked
</pre>
<p id="rfc.section.8.6.p.3">If multiple encodings have been applied to a representation, the transfer-codings MUST be listed in the order in which they were applied.  Additional information about the encoding parameters MAY be provided by other header fields not defined by this specification.  </p>
<p id="rfc.section.8.6.p.4">Many older HTTP/1.0 applications do not understand the Transfer-Encoding header field.  </p>
<h1 id="rfc.section.8.7">
<a href="#rfc.section.8.7">8.7.</a> <a href="#header.upgrade" id="header.upgrade">Upgrade</a>
</h1>
<p id="rfc.section.8.7.p.1">The "Upgrade" header field allows the client to specify what additional communication protocols it would like to use, if the server chooses to switch protocols. Servers can use it to indicate what protocols they are willing to switch to.  </p>
<div id="#rfc.figure.59"></div>
<pre>
  Upgrade = 1#product
</pre>
<p id="rfc.section.8.7.p.2">For example, </p>
<div id="#rfc.figure.60"></div>
<pre>
  Upgrade: HTTP/2.0, SHTTP/1.3, IRC/6.9, RTA/x11
</pre>
<p id="rfc.section.8.7.p.3">The Upgrade header field is intended to provide a simple mechanism for transition from HTTP/1.1 to some other, incompatible protocol. It does so by allowing the client to advertise its desire to use another protocol, such as a later version of HTTP with a higher major version number, even though the current request has been made using HTTP/1.1.  This eases the difficult transition between incompatible protocols by allowing the client to initiate a request in the more commonly supported protocol while indicating to the server that it would like to use a "better" protocol if available (where "better" is determined by the server, possibly according to the nature of the request method or target resource).  </p>
<p id="rfc.section.8.7.p.4">The Upgrade header field only applies to switching application-layer protocols upon the existing transport-layer connection. Upgrade cannot be used to insist on a protocol change; its acceptance and use by the server is optional. The capabilities and nature of the application-layer communication after the protocol change is entirely dependent upon the new protocol chosen, although the first action after changing the protocol MUST be a response to the initial HTTP request containing the Upgrade header field.  </p>
<p id="rfc.section.8.7.p.5">The Upgrade header field only applies to the immediate connection.  Therefore, the upgrade keyword MUST be supplied within a Connection header field (<a href="#header.connection">Section 8.1</a>) whenever Upgrade is present in an HTTP/1.1 message.  </p>
<p id="rfc.section.8.7.p.6">The Upgrade header field cannot be used to indicate a switch to a protocol on a different connection. For that purpose, it is more appropriate to use a 3xx redirection response (Section 7.3 of <a href="#Part2">[Part2]</a>).  </p>
<p id="rfc.section.8.7.p.7">Servers MUST include the "Upgrade" header field in 101 (Switching Protocols) responses to indicate which protocol(s) are being switched to, and MUST include it in 426 (Upgrade Required) responses to indicate acceptable protocols to upgrade to. Servers MAY include it in any other response to indicate that they are willing to upgrade to one of the specified protocols.  </p>
<p id="rfc.section.8.7.p.8">This specification only defines the protocol name "HTTP" for use by the family of Hypertext Transfer Protocols, as defined by the HTTP version rules of <a href="#http.version">Section 2.6</a> and future updates to this specification. Additional tokens can be registered with IANA using the registration procedure defined below.  </p>
<h1 id="rfc.section.8.7.1">
<a href="#rfc.section.8.7.1">8.7.1.</a> <a href="#upgrade.token.registry" id="upgrade.token.registry">Upgrade Token Registry</a>
</h1>
<p id="rfc.section.8.7.1.p.1">The HTTP Upgrade Token Registry defines the name space for product tokens used to identify protocols in the Upgrade header field.  Each registered token is associated with contact information and an optional set of specifications that details how the connection will be processed after it has been upgraded.  </p>
<p id="rfc.section.8.7.1.p.2">Registrations are allowed on a First Come First Served basis as described in Section 4.1 of <a href="#RFC5226">[RFC5226]</a>. The specifications need not be IETF documents or be subject to IESG review.  Registrations are subject to the following rules: </p>

<ol>
<li>A token, once registered, stays registered forever.</li>
<li>The registration MUST name a responsible party for the registration.</li>
<li>The registration MUST name a point of contact.</li>
<li>The registration MAY name a set of specifications associated with that token. Such specifications need not be publicly available.</li>
<li>The responsible party MAY change the registration at any time.  The IANA will keep a record of all such changes, and make them available upon request.</li>
<li>The responsible party for the first registration of a "product" token MUST approve later registrations of a "version" token together with that "product" token before they can be registered.</li>
<li>If absolutely required, the IESG MAY reassign the responsibility for a token. This will normally only be used in the case when a responsible party cannot be contacted.</li>
</ol>

<p> </p>
<h1 id="rfc.section.8.8">
<a href="#rfc.section.8.8">8.8.</a> <a href="#header.via" id="header.via">Via</a>
</h1>
<p id="rfc.section.8.8.p.1">The "Via" header field MUST be sent by a proxy or gateway to indicate the intermediate protocols and recipients between the user agent and the server on requests, and between the origin server and the client on responses. It is analogous to the "Received" field used by email systems (Section 3.6.7 of <a href="#RFC5322">[RFC5322]</a>) and is intended to be used for tracking message forwards, avoiding request loops, and identifying the protocol capabilities of all senders along the request/response chain.  </p>
<div id="#rfc.figure.61"></div>
<pre>
  Via               = 1#( received-protocol RWS received-by
                          [ RWS comment ] )
  received-protocol = [ protocol-name "/" ] protocol-version
  protocol-name     = token
  protocol-version  = token
  received-by       = ( uri-host [ ":" port ] ) / pseudonym
  pseudonym         = token
</pre>
<p id="rfc.section.8.8.p.2">The received-protocol indicates the protocol version of the message received by the server or client along each segment of the request/response chain. The received-protocol version is appended to the Via field value when the message is forwarded so that information about the protocol capabilities of upstream applications remains visible to all recipients.  </p>
<p id="rfc.section.8.8.p.3">The protocol-name is excluded if and only if it would be "HTTP". The received-by field is normally the host and optional port number of a recipient server or client that subsequently forwarded the message.  However, if the real host is considered to be sensitive information, it MAY be replaced by a pseudonym. If the port is not given, it MAY be assumed to be the default port of the received-protocol.  </p>
<p id="rfc.section.8.8.p.4">Multiple Via field values represent each proxy or gateway that has forwarded the message. Each recipient MUST append its information such that the end result is ordered according to the sequence of forwarding applications.  </p>
<p id="rfc.section.8.8.p.5">Comments MAY be used in the Via header field to identify the software of each recipient, analogous to the User-Agent and Server header fields.  However, all comments in the Via field are optional and MAY be removed by any recipient prior to forwarding the message.  </p>
<p id="rfc.section.8.8.p.6">For example, a request message could be sent from an HTTP/1.0 user agent to an internal proxy code-named "fred", which uses HTTP/1.1 to forward the request to a public proxy at p.example.net, which completes the request by forwarding it to the origin server at www.example.com.  The request received by www.example.com would then have the following Via header field: </p>
<div id="#rfc.figure.62"></div>
<pre>
  Via: 1.0 fred, 1.1 p.example.net (Apache/1.1)
</pre>
<p id="rfc.section.8.8.p.7">A proxy or gateway used as a portal through a network firewall SHOULD NOT forward the names and ports of hosts within the firewall region unless it is explicitly enabled to do so. If not enabled, the received-by host of any host behind the firewall SHOULD be replaced by an appropriate pseudonym for that host.  </p>
<p id="rfc.section.8.8.p.8">For organizations that have strong privacy requirements for hiding internal structures, a proxy or gateway MAY combine an ordered subsequence of Via header field entries with identical received-protocol values into a single such entry. For example, </p>
<div id="#rfc.figure.63"></div>
<pre>
  Via: 1.0 ricky, 1.1 ethel, 1.1 fred, 1.0 lucy
</pre>
<p id="rfc.section.8.8.p.9">could be collapsed to </p>
<div id="#rfc.figure.64"></div>
<pre>
  Via: 1.0 ricky, 1.1 mertz, 1.0 lucy
</pre>
<p id="rfc.section.8.8.p.10">Senders SHOULD NOT combine multiple entries unless they are all under the same organizational control and the hosts have already been replaced by pseudonyms. Senders MUST NOT combine entries which have different received-protocol values.  </p>
<h1 id="rfc.section.9">
<a href="#rfc.section.9">9.</a> <a href="#IANA.considerations" id="IANA.considerations">IANA Considerations</a>
</h1>
<h1 id="rfc.section.9.1">
<a href="#rfc.section.9.1">9.1.</a> <a href="#header.field.registration" id="header.field.registration">Header Field Registration</a>
</h1>
<p id="rfc.section.9.1.p.1">The Message Header Field Registry located at <a href="http://www.iana.org/assignments/message-headers/message-header-index.html">http://www.iana.org/assignments/message-headers/message-header-index.html</a> shall be updated with the permanent registrations below (see <a href="#RFC3864">[RFC3864]</a>): </p>
<div id="#rfc.table.2"></div>
<div id="#iana.header.registration.table"></div>
<table cellpadding="3" cellspacing="0" class="tt full left">
<thead><tr>
<th class="left">Header Field Name</th>
<th class="left">Protocol</th>
<th class="left">Status</th>
<th class="left">Reference</th>
</tr></thead>
<tbody>
<tr>
<td class="left">Connection</td>
<td class="left">http</td>
<td class="left">standard</td>
<td class="left">
<a href="#header.connection">Section 8.1</a> </td>
</tr>
<tr>
<td class="left">Content-Length</td>
<td class="left">http</td>
<td class="left">standard</td>
<td class="left">
<a href="#header.content-length">Section 8.2</a> </td>
</tr>
<tr>
<td class="left">Host</td>
<td class="left">http</td>
<td class="left">standard</td>
<td class="left">
<a href="#header.host">Section 8.3</a> </td>
</tr>
<tr>
<td class="left">TE</td>
<td class="left">http</td>
<td class="left">standard</td>
<td class="left">
<a href="#header.te">Section 8.4</a> </td>
</tr>
<tr>
<td class="left">Trailer</td>
<td class="left">http</td>
<td class="left">standard</td>
<td class="left">
<a href="#header.trailer">Section 8.5</a> </td>
</tr>
<tr>
<td class="left">Transfer-Encoding</td>
<td class="left">http</td>
<td class="left">standard</td>
<td class="left">
<a href="#header.transfer-encoding">Section 8.6</a> </td>
</tr>
<tr>
<td class="left">Upgrade</td>
<td class="left">http</td>
<td class="left">standard</td>
<td class="left">
<a href="#header.upgrade">Section 8.7</a> </td>
</tr>
<tr>
<td class="left">Via</td>
<td class="left">http</td>
<td class="left">standard</td>
<td class="left">
<a href="#header.via">Section 8.8</a> </td>
</tr>
</tbody>
</table>
<p id="rfc.section.9.1.p.2">Furthermore, the header field name "Close" shall be registered as "reserved", as its use as HTTP header field would be in conflict with the use of the "close" connection option for the "Connection" header field (<a href="#header.connection">Section 8.1</a>).  </p>
<div id="#rfc.table.3"></div>
<table cellpadding="3" cellspacing="0" class="tt full left">
<thead><tr>
<th class="left">Header Field Name</th>
<th class="left">Protocol</th>
<th class="left">Status</th>
<th class="left">Reference</th>
</tr></thead>
<tbody><tr>
<td class="left">Close</td>
<td class="left">http</td>
<td class="left">reserved</td>
<td class="left">
<a href="#header.field.registration">Section 9.1</a> </td>
</tr></tbody>
</table>
<p id="rfc.section.9.1.p.3">The change controller is: "IETF (iesg@ietf.org) - Internet Engineering Task Force".  </p>
<h1 id="rfc.section.9.2">
<a href="#rfc.section.9.2">9.2.</a> <a href="#uri.scheme.registration" id="uri.scheme.registration">URI Scheme Registration</a>
</h1>
<p id="rfc.section.9.2.p.1">The entries for the "http" and "https" URI Schemes in the registry located at <a href="http://www.iana.org/assignments/uri-schemes.html">http://www.iana.org/assignments/uri-schemes.html</a> shall be updated to point to Sections <a href="#http.uri">2.7.1</a> and <a href="#https.uri">2.7.2</a> of this document (see <a href="#RFC4395">[RFC4395]</a>).  </p>
<h1 id="rfc.section.9.3">
<a href="#rfc.section.9.3">9.3.</a> <a href="#internet.media.type.http" id="internet.media.type.http">Internet Media Type Registrations</a>
</h1>
<p id="rfc.section.9.3.p.1">This document serves as the specification for the Internet media types "message/http" and "application/http". The following is to be registered with IANA (see <a href="#RFC4288">[RFC4288]</a>).  </p>
<h1 id="rfc.section.9.3.1">
<a href="#rfc.section.9.3.1">9.3.1.</a> <a href="#internet.media.type.message.http" id="internet.media.type.message.http">Internet Media Type message/http</a>
</h1>
<p id="rfc.section.9.3.1.p.1">The message/http type can be used to enclose a single HTTP request or response message, provided that it obeys the MIME restrictions for all "message" types regarding line length and encodings.  </p>
<p></p>

<dl>
<dt>Type name:</dt>
<dd style="margin-left: 8">message </dd>
<dt>Subtype name:</dt>
<dd style="margin-left: 8">http </dd>
<dt>Required parameters:</dt>
<dd style="margin-left: 8">none </dd>
<dt>Optional parameters:</dt>
<dd style="margin-left: 8">version, msgtype <dl>
<dt>version:</dt>
<dd style="margin-left: 8">The HTTP-Version number of the enclosed message (e.g., "1.1"). If not present, the version can be determined from the first line of the body.  </dd>
<dt>msgtype:</dt>
<dd style="margin-left: 8">The message type &#8212; "request" or "response". If not present, the type can be determined from the first line of the body.  </dd>
</dl>
<p> </p>
</dd>
<dt>Encoding considerations:</dt>
<dd style="margin-left: 8">only "7bit", "8bit", or "binary" are permitted </dd>
<dt>Security considerations:</dt>
<dd style="margin-left: 8">none </dd>
<dt>Interoperability considerations:</dt>
<dd style="margin-left: 8">none </dd>
<dt>Published specification:</dt>
<dd style="margin-left: 8">This specification (see <a href="#internet.media.type.message.http">Section 9.3.1</a>).  </dd>
<dt>Applications that use this media type:</dt>
<dd style="margin-left: 8"></dd>
<dt>Additional information:</dt>
<dd style="margin-left: 8">
<dl>
<dt>Magic number(s):</dt>
<dd style="margin-left: 8">none</dd>
<dt>File extension(s):</dt>
<dd style="margin-left: 8">none</dd>
<dt>Macintosh file type code(s):</dt>
<dd style="margin-left: 8">none</dd>
</dl>
<p> </p>
</dd>
<dt>Person and email address to contact for further information:</dt>
<dd style="margin-left: 8">See Authors Section.  </dd>
<dt>Intended usage:</dt>
<dd style="margin-left: 8">COMMON </dd>
<dt>Restrictions on usage:</dt>
<dd style="margin-left: 8">none </dd>
<dt>Author/Change controller:</dt>
<dd style="margin-left: 8">IESG </dd>
</dl>

<p> </p>
<h1 id="rfc.section.9.3.2">
<a href="#rfc.section.9.3.2">9.3.2.</a> <a href="#internet.media.type.application.http" id="internet.media.type.application.http">Internet Media Type application/http</a>
</h1>
<p id="rfc.section.9.3.2.p.1">The application/http type can be used to enclose a pipeline of one or more HTTP request or response messages (not intermixed).  </p>
<p></p>

<dl>
<dt>Type name:</dt>
<dd style="margin-left: 8">application </dd>
<dt>Subtype name:</dt>
<dd style="margin-left: 8">http </dd>
<dt>Required parameters:</dt>
<dd style="margin-left: 8">none </dd>
<dt>Optional parameters:</dt>
<dd style="margin-left: 8">version, msgtype <dl>
<dt>version:</dt>
<dd style="margin-left: 8">The HTTP-Version number of the enclosed messages (e.g., "1.1"). If not present, the version can be determined from the first line of the body.  </dd>
<dt>msgtype:</dt>
<dd style="margin-left: 8">The message type &#8212; "request" or "response". If not present, the type can be determined from the first line of the body.  </dd>
</dl>
<p> </p>
</dd>
<dt>Encoding considerations:</dt>
<dd style="margin-left: 8">HTTP messages enclosed by this type are in "binary" format; use of an appropriate Content-Transfer-Encoding is required when transmitted via E-mail.  </dd>
<dt>Security considerations:</dt>
<dd style="margin-left: 8">none </dd>
<dt>Interoperability considerations:</dt>
<dd style="margin-left: 8">none </dd>
<dt>Published specification:</dt>
<dd style="margin-left: 8">This specification (see <a href="#internet.media.type.application.http">Section 9.3.2</a>).  </dd>
<dt>Applications that use this media type:</dt>
<dd style="margin-left: 8"></dd>
<dt>Additional information:</dt>
<dd style="margin-left: 8">
<dl>
<dt>Magic number(s):</dt>
<dd style="margin-left: 8">none</dd>
<dt>File extension(s):</dt>
<dd style="margin-left: 8">none</dd>
<dt>Macintosh file type code(s):</dt>
<dd style="margin-left: 8">none</dd>
</dl>
<p> </p>
</dd>
<dt>Person and email address to contact for further information:</dt>
<dd style="margin-left: 8">See Authors Section.  </dd>
<dt>Intended usage:</dt>
<dd style="margin-left: 8">COMMON </dd>
<dt>Restrictions on usage:</dt>
<dd style="margin-left: 8">none </dd>
<dt>Author/Change controller:</dt>
<dd style="margin-left: 8">IESG </dd>
</dl>

<p> </p>
<h1 id="rfc.section.9.4">
<a href="#rfc.section.9.4">9.4.</a> <a href="#transfer.coding.registration" id="transfer.coding.registration">Transfer Coding Registry</a>
</h1>
<p id="rfc.section.9.4.p.1">The registration procedure for HTTP Transfer Codings is now defined by <a href="#transfer.coding.registry">Section 5.1.3</a> of this document.  </p>
<p id="rfc.section.9.4.p.2">The HTTP Transfer Codings Registry located at <a href="http://www.iana.org/assignments/http-parameters">http://www.iana.org/assignments/http-parameters</a> shall be updated with the registrations below: </p>
<div id="#rfc.table.4"></div>
<div id="#iana.transfer.coding.registration.table"></div>
<table cellpadding="3" cellspacing="0" class="tt full left">
<thead><tr>
<th class="left">Name</th>
<th class="left">Description</th>
<th class="left">Reference</th>
</tr></thead>
<tbody>
<tr>
<td class="left">chunked</td>
<td class="left">Transfer in a series of chunks</td>
<td class="left">
<a href="#chunked.encoding">Section 5.1.1</a> </td>
</tr>
<tr>
<td class="left">compress</td>
<td class="left">UNIX "compress" program method</td>
<td class="left">
<a href="#compress.coding">Section 5.1.2.1</a> </td>
</tr>
<tr>
<td class="left">deflate</td>
<td class="left">"deflate" compression mechanism (<a href="#RFC1951">[RFC1951]</a>) used inside the "zlib" data format (<a href="#RFC1950">[RFC1950]</a>) </td>
<td class="left">
<a href="#deflate.coding">Section 5.1.2.2</a> </td>
</tr>
<tr>
<td class="left">gzip</td>
<td class="left">Same as GNU zip <a href="#RFC1952">[RFC1952]</a>
</td>
<td class="left">
<a href="#gzip.coding">Section 5.1.2.3</a> </td>
</tr>
</tbody>
</table>
<h1 id="rfc.section.9.5">
<a href="#rfc.section.9.5">9.5.</a> <a href="#upgrade.token.registration" id="upgrade.token.registration">Upgrade Token Registration</a>
</h1>
<p id="rfc.section.9.5.p.1">The registration procedure for HTTP Upgrade Tokens &#8212; previously defined in Section 7.2 of <a href="#RFC2817">[RFC2817]</a> &#8212; is now defined by <a href="#upgrade.token.registry">Section 8.7.1</a> of this document.  </p>
<p id="rfc.section.9.5.p.2">The HTTP Status Code Registry located at <a href="http://www.iana.org/assignments/http-upgrade-tokens/">http://www.iana.org/assignments/http-upgrade-tokens/</a> shall be updated with the registration below: </p>
<div id="#rfc.table.5"></div>
<table cellpadding="3" cellspacing="0" class="tt full left">
<thead><tr>
<th class="left">Value</th>
<th class="left">Description</th>
<th class="left">Reference</th>
</tr></thead>
<tbody><tr>
<td class="left">HTTP</td>
<td class="left">Hypertext Transfer Protocol</td>
<td class="left">
<a href="#http.version">Section 2.6</a> of this specification</td>
</tr></tbody>
</table>
<h1 id="rfc.section.10">
<a href="#rfc.section.10">10.</a> <a href="#security.considerations" id="security.considerations">Security Considerations</a>
</h1>
<p id="rfc.section.10.p.1">This section is meant to inform application developers, information providers, and users of the security limitations in HTTP/1.1 as described by this document. The discussion does not include definitive solutions to the problems revealed, though it does make some suggestions for reducing security risks.  </p>
<h1 id="rfc.section.10.1">
<a href="#rfc.section.10.1">10.1.</a> <a href="#personal.information" id="personal.information">Personal Information</a>
</h1>
<p id="rfc.section.10.1.p.1">HTTP clients are often privy to large amounts of personal information (e.g., the user's name, location, mail address, passwords, encryption keys, etc.), and SHOULD be very careful to prevent unintentional leakage of this information.  We very strongly recommend that a convenient interface be provided for the user to control dissemination of such information, and that designers and implementors be particularly careful in this area.  History shows that errors in this area often create serious security and/or privacy problems and generate highly adverse publicity for the implementor's company.  </p>
<h1 id="rfc.section.10.2">
<a href="#rfc.section.10.2">10.2.</a> <a href="#abuse.of.server.log.information" id="abuse.of.server.log.information">Abuse of Server Log Information</a>
</h1>
<p id="rfc.section.10.2.p.1">A server is in the position to save personal data about a user's requests which might identify their reading patterns or subjects of interest. This information is clearly confidential in nature and its handling can be constrained by law in certain countries. People using HTTP to provide data are responsible for ensuring that such material is not distributed without the permission of any individuals that are identifiable by the published results.  </p>
<h1 id="rfc.section.10.3">
<a href="#rfc.section.10.3">10.3.</a> <a href="#attack.pathname" id="attack.pathname">Attacks Based On File and Path Names</a>
</h1>
<p id="rfc.section.10.3.p.1">Implementations of HTTP origin servers SHOULD be careful to restrict the documents returned by HTTP requests to be only those that were intended by the server administrators. If an HTTP server translates HTTP URIs directly into file system calls, the server MUST take special care not to serve files that were not intended to be delivered to HTTP clients. For example, UNIX, Microsoft Windows, and other operating systems use ".." as a path component to indicate a directory level above the current one. On such a system, an HTTP server MUST disallow any such construct in the request-target if it would otherwise allow access to a resource outside those intended to be accessible via the HTTP server. Similarly, files intended for reference only internally to the server (such as access control files, configuration files, and script code) MUST be protected from inappropriate retrieval, since they might contain sensitive information. Experience has shown that minor bugs in such HTTP server implementations have turned into security risks.  </p>
<h1 id="rfc.section.10.4">
<a href="#rfc.section.10.4">10.4.</a> <a href="#dns.related.attacks" id="dns.related.attacks">DNS-related Attacks</a>
</h1>
<p id="rfc.section.10.4.p.1">HTTP clients rely heavily on the Domain Name Service (DNS), and are thus generally prone to security attacks based on the deliberate misassociation of IP addresses and DNS names not protected by DNSSec. Clients need to be cautious in assuming the validity of an IP number/DNS name association unless the response is protected by DNSSec (<a href="#RFC4033">[RFC4033]</a>).  </p>
<h1 id="rfc.section.10.5">
<a href="#rfc.section.10.5">10.5.</a> <a href="#attack.proxies" id="attack.proxies">Proxies and Caching</a>
</h1>
<p id="rfc.section.10.5.p.1">By their very nature, HTTP proxies are men-in-the-middle, and represent an opportunity for man-in-the-middle attacks. Compromise of the systems on which the proxies run can result in serious security and privacy problems. Proxies have access to security-related information, personal information about individual users and organizations, and proprietary information belonging to users and content providers. A compromised proxy, or a proxy implemented or configured without regard to security and privacy considerations, might be used in the commission of a wide range of potential attacks.  </p>
<p id="rfc.section.10.5.p.2">Proxy operators need to protect the systems on which proxies run as they would protect any system that contains or transports sensitive information. In particular, log information gathered at proxies often contains highly sensitive personal information, and/or information about organizations. Log information needs to be carefully guarded, and appropriate guidelines for use need to be developed and followed.  (<a href="#abuse.of.server.log.information">Section 10.2</a>).  </p>
<p id="rfc.section.10.5.p.3">Proxy implementors need to consider the privacy and security implications of their design and coding decisions, and of the configuration options they provide to proxy operators (especially the default configuration).  </p>
<p id="rfc.section.10.5.p.4">Users of a proxy need to be aware that proxies are no trustworthier than the people who run them; HTTP itself cannot solve this problem.  </p>
<p id="rfc.section.10.5.p.5">The judicious use of cryptography, when appropriate, might suffice to protect against a broad range of security and privacy attacks. Such cryptography is beyond the scope of the HTTP/1.1 specification.  </p>
<h1 id="rfc.section.10.6">
<a href="#rfc.section.10.6">10.6.</a> <a href="#attack.protocol.element.size.overflows" id="attack.protocol.element.size.overflows">Protocol Element Size Overflows</a>
</h1>
<p id="rfc.section.10.6.p.1">Because HTTP uses mostly textual, character-delimited fields, attackers can overflow buffers in implementations, and/or perform a Denial of Service against implementations that accept fields with unlimited lengths.  </p>
<p id="rfc.section.10.6.p.2">To promote interoperability, this specification makes specific recommendations for size limits on request-targets (<a href="#request-target">Section 3.1.1.2</a>) and blocks of header fields (<a href="#header.fields">Section 3.2</a>). These are minimum recommendations, chosen to be supportable even by implementations with limited resources; it is expected that most implementations will choose substantially higher limits.  </p>
<p id="rfc.section.10.6.p.3">This specification also provides a way for servers to reject messages that have request-targets that are too long (Section 7.4.15 of <a href="#Part2">[Part2]</a>) or request entities that are too large (Section 7.4 of <a href="#Part2">[Part2]</a>).  </p>
<p id="rfc.section.10.6.p.4">Other fields (including but not limited to request methods, response status phrases, header field-names, and body chunks) SHOULD be limited by implementations carefully, so as to not impede interoperability.  </p>
<h1 id="rfc.section.10.7">
<a href="#rfc.section.10.7">10.7.</a> <a href="#attack.DoS" id="attack.DoS">Denial of Service Attacks on Proxies</a>
</h1>
<p id="rfc.section.10.7.p.1">They exist. They are hard to defend against. Research continues.  Beware.  </p>
<h1 id="rfc.section.11">
<a href="#rfc.section.11">11.</a> <a href="#acks" id="acks">Acknowledgments</a>
</h1>
<p id="rfc.section.11.p.1">This document revision builds on the work that went into <a href="#RFC2616">RFC 2616</a> <cite title="NONE">[RFC2616]</cite> and its predecessors.  See Section 16 of <a href="#RFC2616">[RFC2616]</a> for detailed acknowledgements.  </p>
<p id="rfc.section.11.p.2">Since 1999, many contributors have helped by reporting bugs, asking smart questions, drafting and reviewing text, and discussing open issues: </p>
<p id="rfc.section.11.p.3">Adam Barth, Adam Roach, Addison Phillips, Adrian Chadd, Adrien de Croy, Alan Ford, Alan Ruttenberg, Albert Lunde, Alex Rousskov, Alexey Melnikov, Alisha Smith, Amichai Rothman, Amit Klein, Amos Jeffries, Andreas Maier, Andreas Petersson, Anne van Kesteren, Anthony Bryan, Asbjorn Ulsberg, Balachander Krishnamurthy, Barry Leiba, Ben Laurie, Benjamin Niven-Jenkins, Bil Corry, Bill Burke, Bjoern Hoehrmann, Bob Scheifler, Boris Zbarsky, Brett Slatkin, Brian Kell, Brian McBarron, Brian Pane, Brian Smith, Bryce Nesbitt, Carl Kugler, Charles Fry, Chris Newman, Cyrus Daboo, Dale Robert Anderson, Dan Winship, Daniel Stenberg, Dave Cridland, Dave Crocker, Dave Kristol, David Booth, David Singer, David W. Morris, Diwakar Shetty, Drummond Reed, Duane Wessels, Edward Lee, Eliot Lear, Eran Hammer-Lahav, Eric D. Williams, Eric J. Bowman, Eric Lawrence, Erik Aronesty, Florian Weimer, Frank Ellermann, Fred Bohle, Geoffrey Sneddon, Gervase Markham, Greg Wilkins, Harald Tveit Alvestrand, Harry Halpin, Helge Hess, Henrik Nordstrom, Henry S. Thompson, Henry Story, Howard Melman, Hugo Haas, Ian Hickson, Ingo Struck, J. Ross Nicoll, James H. Manger, James Lacey, James M. Snell, Jamie Lokier, Jan Algermissen, Jeff Hodges (for coming up with the term 'effective Request-URI'), Jeff Walden, Jim Luther, Joe D. Williams, Joe Gregorio, Joe Orton, John C. Klensin, John C. Mallery, John Cowan, John Kemp, John Panzer, John Schneider, John Stracke, Jonas Sicking, Jonathan Moore, Jonathan Rees, Jordi Ros, Joris Dobbelsteen, Josh Cohen, Julien Pierre, Jungshik Shin, Justin Chapweske, Justin Erenkrantz, Justin James, Kalvinder Singh, Karl Dubost, Keith Hoffman, Keith Moore, Koen Holtman, Konstantin Voronkov, Kris Zyp, Lisa Dusseault, Maciej Stachowiak, Marc Schneider, Marc Slemko, Mark Baker, Mark Nottingham (Working Group chair), Mark Pauley, Martin J. Duerst, Martin Thomson, Matt Lynch, Matthew Cox, Max Clark, Michael Burrows, Michael Hausenblas, Mike Amundsen, Mike Kelly, Mike Schinkel, Miles Sabin, Mykyta Yevstifeyev, Nathan Rixham, Nicholas Shanks, Nico Williams, Nicolas Alvarez, Noah Slater, Pablo Castro, Pat Hayes, Patrick R. McManus, Paul E. Jones, Paul Hoffman, Paul Marquess, Peter Saint-Andre, Peter Watkins, Phil Archer, Phillip Hallam-Baker, Poul-Henning Kamp, Preethi Natarajan, Reto Bachmann-Gmuer, Richard Cyganiak, Robert Brewer, Robert Collins, Robert O'Callahan, Robert Olofsson, Robert Sayre, Robert Siemer, Robert de Wilde, Roberto Javier Godoy, Ronny Widjaja, S. Mike Dierken, Salvatore Loreto, Sam Johnston, Sam Ruby, Scott Lawrence (for maintaining the original issues list), Sean B. Palmer, Shane McCarron, Stefan Eissing, Stefan Tilkov, Stefanos Harhalakis, Stephane Bortzmeyer, Stuart Williams, Subbu Allamaraju, Sylvain Hellegouarch, Tapan Divekar, Thomas Broyer, Thomas Nordin, Thomas Roessler, Tim Morgan, Tim Olsen, Travis Snoozy, Tyler Close, Vincent Murphy, Wenbo Zhu, Werner Baumann, Wilbur Streett, Wilfredo Sanchez Vega, William A. Rowe Jr., William Chan, Willy Tarreau, Xiaoshu Wang, Yaron Goland, Yngve Nysaeter Pettersen, Yogesh Bang, Yutaka Oiwa, and Zed A. Shaw.  </p>
<h1 id="rfc.references">
<a href="#rfc.references">12.</a> References</h1>
<h1 id="rfc.references.1">
<a href="#rfc.references.1">12.1.</a> Normative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="ISO-8859-1">[ISO-8859-1]</b></td>
<td class="top">
<a>International Organization for Standardization</a>, "<a>Information technology -- 8-bit single-byte coded graphic character sets -- Part 1: Latin alphabet No. 1 </a>", ISO/IEC 8859-1:1998, 1998.</td>
</tr>
<tr>
<td class="reference"><b id="Part2">[Part2]</b></td>
<td class="top">
<a title="Adobe Systems Incorporated">Fielding, R.</a>, <a title="Alcatel-Lucent Bell Labs">Gettys, J.</a>, <a title="Hewlett-Packard Company">Mogul, J.</a>, <a title="Microsoft Corporation">Frystyk, H.</a>, <a title="Adobe Systems Incorporated">Masinter, L.</a>, <a title="Microsoft Corporation">Leach, P.</a>, <a title="World Wide Web Consortium">Berners-Lee, T.</a>, <a title="World Wide Web Consortium">Lafon, Y.</a> and <a title="greenbytes GmbH">J. F. Reschke</a>, "<a href="http://tools.ietf.org/html/draft-ietf-httpbis-p2-semantics-17">HTTP/1.1, part 2: Message Semantics</a>", Internet-Draft draft-ietf-httpbis-p2-semantics-17, October 2011.</td>
</tr>
<tr>
<td class="reference"><b id="Part3">[Part3]</b></td>
<td class="top">
<a title="Adobe Systems Incorporated">Fielding, R.</a>, <a title="Alcatel-Lucent Bell Labs">Gettys, J.</a>, <a title="Hewlett-Packard Company">Mogul, J.</a>, <a title="Microsoft Corporation">Frystyk, H.</a>, <a title="Adobe Systems Incorporated">Masinter, L.</a>, <a title="Microsoft Corporation">Leach, P.</a>, <a title="World Wide Web Consortium">Berners-Lee, T.</a>, <a title="World Wide Web Consortium">Lafon, Y.</a> and <a title="greenbytes GmbH">J. F. Reschke</a>, "<a href="http://tools.ietf.org/html/draft-ietf-httpbis-p3-payload-17">HTTP/1.1, part 3: Message Payload and Content Negotiation</a>", Internet-Draft draft-ietf-httpbis-p3-payload-17, October 2011.</td>
</tr>
<tr>
<td class="reference"><b id="Part6">[Part6]</b></td>
<td class="top">
<a title="Adobe Systems Incorporated">Fielding, R.</a>, <a title="Alcatel-Lucent Bell Labs">Gettys, J.</a>, <a title="Hewlett-Packard Company">Mogul, J.</a>, <a title="Microsoft Corporation">Frystyk, H.</a>, <a title="Adobe Systems Incorporated">Masinter, L.</a>, <a title="Microsoft Corporation">Leach, P.</a>, <a title="World Wide Web Consortium">Berners-Lee, T.</a>, <a title="World Wide Web Consortium">Lafon, Y.</a>, <a title="Rackspace">Nottingham, M.</a> and <a title="greenbytes GmbH">J. F. Reschke</a>, "<a href="http://tools.ietf.org/html/draft-ietf-httpbis-p6-cache-17">HTTP/1.1, part 6: Caching</a>", Internet-Draft draft-ietf-httpbis-p6-cache-17, October 2011.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5234">[RFC5234]</b></td>
<td class="top">
<a title="Brandenburg InternetWorking">Crocker, D.</a> and <a title="THUS plc.">P. Overell</a>, "<a href="http://tools.ietf.org/html/rfc5234">Augmented BNF for Syntax Specifications: ABNF</a>", STD 68, RFC 5234, January 2008.</td>
</tr>
<tr>
<td class="reference"><b id="RFC2119">[RFC2119]</b></td>
<td class="top">
<a title="Harvard University">Bradner, S.</a>, "<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>", BCP 14, RFC 2119, March 1997.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3986">[RFC3986]</b></td>
<td class="top">
<a title="World Wide Web Consortium">Berners-Lee, T.</a>, <a title="Day Software">Fielding, R.</a> and <a title="Adobe Systems Incorporated">L. Masinter</a>, "<a href="http://tools.ietf.org/html/rfc3986">Uniform Resource Identifier (URI): Generic Syntax</a>", STD 66, RFC 3986, January 2005.</td>
</tr>
<tr>
<td class="reference"><b id="USASCII">[USASCII]</b></td>
<td class="top">
<a>American National Standards Institute</a>, "<a>Coded Character Set -- 7-bit American Standard Code for Information Interchange</a>", ANSI X3.4, 1986.</td>
</tr>
<tr>
<td class="reference"><b id="RFC1950">[RFC1950]</b></td>
<td class="top">
<a title="Aladdin Enterprises">Deutsch, L.P.</a> and <a>J-L. Gailly</a>, "<a href="http://tools.ietf.org/html/rfc1950">ZLIB Compressed Data Format Specification version 3.3</a>", RFC 1950, May 1996.<p>RFC 1950 is an Informational RFC, thus it might be less stable than this specification. On the other hand, this downward reference was present since the publication of RFC 2068 in 1997, therefore it is unlikely to cause problems in practice. See also </p>
</td>
</tr>
<tr>
<td class="reference"><b id="RFC1951">[RFC1951]</b></td>
<td class="top">
<a title="Aladdin Enterprises">Deutsch, P.</a>, "<a href="http://tools.ietf.org/html/rfc1951">DEFLATE Compressed Data Format Specification version 1.3</a>", RFC 1951, May 1996.<p>RFC 1951 is an Informational RFC, thus it might be less stable than this specification. On the other hand, this downward reference was present since the publication of RFC 2068 in 1997, therefore it is unlikely to cause problems in practice. See also </p>
</td>
</tr>
<tr>
<td class="reference"><b id="RFC1952">[RFC1952]</b></td>
<td class="top">
<a title="Aladdin Enterprises">Deutsch, P.</a>, <a>Gailly, J-L.</a>, <a>Adler, M.</a>, <a>Deutsch, L.P.</a> and <a>G. Randers-Pehrson</a>, "<a href="http://tools.ietf.org/html/rfc1952">GZIP file format specification version 4.3</a>", RFC 1952, May 1996.<p>RFC 1952 is an Informational RFC, thus it might be less stable than this specification. On the other hand, this downward reference was present since the publication of RFC 2068 in 1997, therefore it is unlikely to cause problems in practice. See also </p>
</td>
</tr>
</tbody></table>
<h1 id="rfc.references.2">
<a href="#rfc.references.2">12.2.</a> Informative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="Nie1997">[Nie1997]</b></td>
<td class="top">
<a>Frystyk, H.</a>, <a>Gettys, J.</a>, <a>Prud'hommeaux, E.</a>, <a>Lie, H.</a> and <a>C. Lilley</a>, "<a>Network Performance Effects of HTTP/1.1, CSS1, and PNG</a>", ACM Proceedings of the ACM SIGCOMM '97 conference on Applications, technologies, architectures, and protocols for computer communication SIGCOMM '97, September 1997.</td>
</tr>
<tr>
<td class="reference"><b id="Pad1995">[Pad1995]</b></td>
<td class="top">
<a>Padmanabhan, V.N.</a> and <a>J.C. Mogul</a>, "<a>Improving HTTP Latency</a>", Computer Networks and ISDN Systems v. 28, pp. 25-35, December 1995.</td>
</tr>
<tr>
<td class="reference"><b id="RFC1919">[RFC1919]</b></td>
<td class="top">
<a>Chatel, M.</a>, "<a href="http://tools.ietf.org/html/rfc1919">Classical versus Transparent IP Proxies</a>", RFC 1919, March 1996.</td>
</tr>
<tr>
<td class="reference"><b id="RFC1945">[RFC1945]</b></td>
<td class="top">
<a title="MIT, Laboratory for Computer Science">Berners-Lee, T.</a>, <a title="University of California, Irvine, Department of Information and Computer Science">Fielding, R.T.</a> and <a title="W3 Consortium, MIT Laboratory for Computer Science">H.F. Nielsen</a>, "<a href="http://tools.ietf.org/html/rfc1945">Hypertext Transfer Protocol -- HTTP/1.0</a>", RFC 1945, May 1996.</td>
</tr>
<tr>
<td class="reference"><b id="RFC2045">[RFC2045]</b></td>
<td class="top">
<a title="Innosoft International, Inc.">Freed, N.</a> and <a title="First Virtual Holdings">N.S. Borenstein</a>, "<a href="http://tools.ietf.org/html/rfc2045">Multipurpose Internet Mail Extensions (MIME) Part One: Format of Internet Message Bodies</a>", RFC 2045, November 1996.</td>
</tr>
<tr>
<td class="reference"><b id="RFC2047">[RFC2047]</b></td>
<td class="top">
<a title="University of Tennessee">Moore, K.</a>, "<a href="http://tools.ietf.org/html/rfc2047">MIME (Multipurpose Internet Mail Extensions) Part Three: Message Header Extensions for Non-ASCII Text</a>", RFC 2047, November 1996.</td>
</tr>
<tr>
<td class="reference"><b id="RFC2068">[RFC2068]</b></td>
<td class="top">
<a title="University of California, Irvine, Department of Information and Computer Science">Fielding, R.</a>, <a title="MIT Laboratory for Computer Science">Gettys, J.</a>, <a title="Digital Equipment Corporation, Western Research Laboratory">Mogul, J.</a>, <a title="MIT Laboratory for Computer Science">Nielsen, H.</a> and <a title="MIT Laboratory for Computer Science">T. Berners-Lee</a>, "<a href="http://tools.ietf.org/html/rfc2068">Hypertext Transfer Protocol -- HTTP/1.1</a>", RFC 2068, January 1997.</td>
</tr>
<tr>
<td class="reference"><b id="RFC2145">[RFC2145]</b></td>
<td class="top">
<a title="Western Research Laboratory">Mogul, J.C.</a>, <a title="Department of Information and Computer Science">Fielding, R.T.</a>, <a title="MIT Laboratory for Computer Science">Gettys, J.</a> and <a title="W3 Consortium">H.F. Nielsen</a>, "<a href="http://tools.ietf.org/html/rfc2145">Use and Interpretation of HTTP Version Numbers</a>", RFC 2145, May 1997.</td>
</tr>
<tr>
<td class="reference"><b id="RFC2616">[RFC2616]</b></td>
<td class="top">
<a title="University of California, Irvine">Fielding, R.</a>, <a title="W3C">Gettys, J.</a>, <a title="Compaq Computer Corporation">Mogul, J.</a>, <a title="MIT Laboratory for Computer Science">Frystyk, H.</a>, <a title="Xerox Corporation">Masinter, L.</a>, <a title="Microsoft Corporation">Leach, P.</a> and <a title="W3C">T. Berners-Lee</a>, "<a href="http://tools.ietf.org/html/rfc2616">Hypertext Transfer Protocol -- HTTP/1.1</a>", RFC 2616, June 1999.</td>
</tr>
<tr>
<td class="reference"><b id="RFC2817">[RFC2817]</b></td>
<td class="top">
<a title="4K Associates / UC Irvine">Khare, R.</a> and <a title="Agranat Systems, Inc.">S. Lawrence</a>, "<a href="http://tools.ietf.org/html/rfc2817">Upgrading to TLS Within HTTP/1.1</a>", RFC 2817, May 2000.</td>
</tr>
<tr>
<td class="reference"><b id="RFC2818">[RFC2818]</b></td>
<td class="top">
<a title="RTFM, Inc.">Rescorla, E.</a>, "<a href="http://tools.ietf.org/html/rfc2818">HTTP Over TLS</a>", RFC 2818, May 2000.</td>
</tr>
<tr>
<td class="reference"><b id="RFC2965">[RFC2965]</b></td>
<td class="top">
<a title="Bell Laboratories, Lucent Technologies">Kristol, D. M.</a> and <a title="Epinions.com, Inc.">L. Montulli</a>, "<a href="http://tools.ietf.org/html/rfc2965">HTTP State Management Mechanism</a>", RFC 2965, October 2000.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3040">[RFC3040]</b></td>
<td class="top">
<a title="Equinix, Inc.">Cooper, I.</a>, <a title="UNINETT">Melve, I.</a> and <a title="CacheFlow Inc.">G. Tomlinson</a>, "<a href="http://tools.ietf.org/html/rfc3040">Internet Web Replication and Caching Taxonomy</a>", RFC 3040, January 2001.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3864">[RFC3864]</b></td>
<td class="top">
<a title="Nine by Nine">Klyne, G.</a>, <a title="BEA Systems">Nottingham, M.</a> and <a title="HP Labs">J. Mogul</a>, "<a href="http://tools.ietf.org/html/rfc3864">Registration Procedures for Message Header Fields</a>", BCP 90, RFC 3864, September 2004.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4033">[RFC4033]</b></td>
<td class="top">
<a>Arends, R.</a>, <a>Austein, R.</a>, <a>Larson, M.</a>, <a>Massey, D.</a> and <a>S. Rose</a>, "<a href="http://tools.ietf.org/html/rfc4033">DNS Security Introduction and Requirements</a>", RFC 4033, March 2005.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4288">[RFC4288]</b></td>
<td class="top">
<a title="Sun Microsystems">Freed, N.</a> and <a>J. Klensin</a>, "<a href="http://tools.ietf.org/html/rfc4288">Media Type Specifications and Registration Procedures</a>", BCP 13, RFC 4288, December 2005.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4395">[RFC4395]</b></td>
<td class="top">
<a title="AT&amp;T Laboratories">Hansen, T.</a>, <a title="Qualcomm, Inc.">Hardie, T.</a> and <a title="Adobe Systems">L. Masinter</a>, "<a href="http://tools.ietf.org/html/rfc4395">Guidelines and Registration Procedures for New URI Schemes</a>", BCP 115, RFC 4395, February 2006.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4559">[RFC4559]</b></td>
<td class="top">
<a>Jaganathan, K.</a>, <a>Zhu, L.</a> and <a>J. Brezak</a>, "<a href="http://tools.ietf.org/html/rfc4559">SPNEGO-based Kerberos and NTLM HTTP Authentication in Microsoft Windows</a>", RFC 4559, June 2006.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5226">[RFC5226]</b></td>
<td class="top">
<a title="IBM">Narten, T.</a> and <a title="Google">H. Alvestrand</a>, "<a href="http://tools.ietf.org/html/rfc5226">Guidelines for Writing an IANA Considerations Section in RFCs</a>", BCP 26, RFC 5226, May 2008.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5322">[RFC5322]</b></td>
<td class="top">
<a title="Qualcomm Incorporated">Resnick, P.</a>, "<a href="http://tools.ietf.org/html/rfc5322">Internet Message Format</a>", RFC 5322, October 2008.</td>
</tr>
<tr>
<td class="reference"><b id="RFC6265">[RFC6265]</b></td>
<td class="top">
<a title="University of California, Berkeley ">Barth, A.</a>, "<a href="http://tools.ietf.org/html/rfc6265">HTTP State Management Mechanism</a>", RFC 6265, April 2011.</td>
</tr>
<tr>
<td class="reference"><b id="BCP97">[BCP97]</b></td>
<td class="top">
<a>Klensin, J.</a> and <a title="MIT">S. Hartman</a>, "<a href="http://tools.ietf.org/html/rfc4897">Handling Normative References to Standards-Track Documents</a>", BCP 97, RFC 4897, June 2007.</td>
</tr>
<tr>
<td class="reference"><b id="Kri2001">[Kri2001]</b></td>
<td class="top">
<a>Kristol, D.</a>, "<a>HTTP Cookies: Standards, Privacy, and Politics</a>", ACM Transactions on Internet Technology Vol. 1, #2, November 2001.</td>
</tr>
<tr>
<td class="reference"><b id="Spe">[Spe]</b></td>
<td class="top">
<a>Spero, S.</a>, "<a>Analysis of HTTP Performance Problems</a>", .</td>
</tr>
<tr>
<td class="reference"><b id="Tou1998">[Tou1998]</b></td>
<td class="top">
<a title="USC/Information Sciences Institute">Touch, J.</a>, <a title="USC/Information Sciences Institute">Heidemann, J.</a> and <a title="USC/Information Sciences Institute">K. Obraczka</a>, "<a>Analysis of HTTP Performance</a>", ISI Research Report ISI/RR-98-463, Aug 1998.<p>(original report dated Aug. 1996)</p>
</td>
</tr>
</tbody></table>
<h1 id="rfc.appendix.Appendix A">
<a href="#rfc.appendix.Appendix%20A">Appendix A.</a> <a href="#compatibility" id="compatibility">HTTP Version History</a>
</h1>
<p id="rfc.section.Appendix A.p.1">HTTP has been in use by the World-Wide Web global information initiative since 1990. The first version of HTTP, later referred to as HTTP/0.9, was a simple protocol for hypertext data transfer across the Internet with only a single request method (GET) and no metadata.  HTTP/1.0, as defined by <a href="#RFC1945">[RFC1945]</a>, added a range of request methods and MIME-like messaging that could include metadata about the data transferred and modifiers on the request/response semantics. However, HTTP/1.0 did not sufficiently take into consideration the effects of hierarchical proxies, caching, the need for persistent connections, or name-based virtual hosts. The proliferation of incompletely-implemented applications calling themselves "HTTP/1.0" further necessitated a protocol version change in order for two communicating applications to determine each other's true capabilities.  </p>
<p id="rfc.section.Appendix A.p.2">HTTP/1.1 remains compatible with HTTP/1.0 by including more stringent requirements that enable reliable implementations, adding only those new features that will either be safely ignored by an HTTP/1.0 recipient or only sent when communicating with a party advertising compliance with HTTP/1.1.  </p>
<p id="rfc.section.Appendix A.p.3">It is beyond the scope of a protocol specification to mandate compliance with previous versions. HTTP/1.1 was deliberately designed, however, to make supporting previous versions easy.  We would expect a general-purpose HTTP/1.1 server to understand any valid request in the format of HTTP/1.0 and respond appropriately with an HTTP/1.1 message that only uses features understood (or safely ignored) by HTTP/1.0 clients.  Likewise, would expect an HTTP/1.1 client to understand any valid HTTP/1.0 response.  </p>
<p id="rfc.section.Appendix A.p.4">Since HTTP/0.9 did not support header fields in a request, there is no mechanism for it to support name-based virtual hosts (selection of resource by inspection of the Host header field).  Any server that implements name-based virtual hosts ought to disable support for HTTP/0.9.  Most requests that appear to be HTTP/0.9 are, in fact, badly constructed HTTP/1.x requests wherein a buggy client failed to properly encode linear whitespace found in a URI reference and placed in the request-target.  </p>
<h1 id="rfc.appendix.Appendix A.1">
<a href="#rfc.appendix.Appendix%20A.1">Appendix A.1.</a> <a href="#changes.from.1.0" id="changes.from.1.0">Changes from HTTP/1.0</a>
</h1>
<p id="rfc.section.Appendix A.1.p.1">This section summarizes major differences between versions HTTP/1.0 and HTTP/1.1.  </p>
<h1 id="rfc.appendix.Appendix A.1.1">
<a href="#rfc.appendix.Appendix%20A.1.1">Appendix A.1.1.</a> <a href="#changes.to.simplify.multi-homed.web.servers.and.conserve.ip.addresses" id="changes.to.simplify.multi-homed.web.servers.and.conserve.ip.addresses">Multi-homed Web Servers</a>
</h1>
<p id="rfc.section.Appendix A.1.1.p.1">The requirements that clients and servers support the Host header field (<a href="#header.host">Section 8.3</a>), report an error if it is missing from an HTTP/1.1 request, and accept absolute URIs (<a href="#request-target">Section 3.1.1.2</a>) are among the most important changes defined by HTTP/1.1.  </p>
<p id="rfc.section.Appendix A.1.1.p.2">Older HTTP/1.0 clients assumed a one-to-one relationship of IP addresses and servers; there was no other established mechanism for distinguishing the intended server of a request than the IP address to which that request was directed. The Host header field was introduced during the development of HTTP/1.1 and, though it was quickly implemented by most HTTP/1.0 browsers, additional requirements were placed on all HTTP/1.1 requests in order to ensure complete adoption.  At the time of this writing, most HTTP-based services are dependent upon the Host header field for targeting requests.  </p>
<h1 id="rfc.appendix.Appendix A.1.2">
<a href="#rfc.appendix.Appendix%20A.1.2">Appendix A.1.2.</a> <a href="#compatibility.with.http.1.0.persistent.connections" id="compatibility.with.http.1.0.persistent.connections">Keep-Alive Connections</a>
</h1>
<p id="rfc.section.Appendix A.1.2.p.1">For most implementations of HTTP/1.0, each connection is established by the client prior to the request and closed by the server after sending the response. However, some implementations implement the Keep-Alive version of persistent connections described in Section 19.7.1 of <a href="#RFC2068">[RFC2068]</a>.  </p>
<p id="rfc.section.Appendix A.1.2.p.2">Some clients and servers might wish to be compatible with some previous implementations of persistent connections in HTTP/1.0 clients and servers. Persistent connections in HTTP/1.0 are explicitly negotiated as they are not the default behavior. HTTP/1.0 experimental implementations of persistent connections are faulty, and the new facilities in HTTP/1.1 are designed to rectify these problems. The problem was that some existing HTTP/1.0 clients might send Keep-Alive to a proxy server that doesn't understand Connection, which would then erroneously forward it to the next inbound server, which would establish the Keep-Alive connection and result in a hung HTTP/1.0 proxy waiting for the close on the response. The result is that HTTP/1.0 clients must be prevented from using Keep-Alive when talking to proxies.  </p>
<p id="rfc.section.Appendix A.1.2.p.3">However, talking to proxies is the most important use of persistent connections, so that prohibition is clearly unacceptable. Therefore, we need some other mechanism for indicating a persistent connection is desired, which is safe to use even when talking to an old proxy that ignores Connection. Persistent connections are the default for HTTP/1.1 messages; we introduce a new keyword (Connection: close) for declaring non-persistence. See <a href="#header.connection">Section 8.1</a>.  </p>
<h1 id="rfc.appendix.Appendix A.2">
<a href="#rfc.appendix.Appendix%20A.2">Appendix A.2.</a> <a href="#changes.from.rfc.2616" id="changes.from.rfc.2616">Changes from RFC 2616</a>
</h1>
<p id="rfc.section.Appendix A.2.p.1">Empty list elements in list productions have been deprecated.  (<a href="#notation.abnf">Section 1.2.1</a>) </p>
<p id="rfc.section.Appendix A.2.p.2">Rules about implicit linear whitespace between certain grammar productions have been removed; now it's only allowed when specifically pointed out in the ABNF.  (<a href="#basic.rules">Section 1.2.2</a>) </p>
<p id="rfc.section.Appendix A.2.p.3">Clarify that the string "HTTP" in the HTTP-Version ABFN production is case sensitive. Restrict the version numbers to be single digits due to the fact that implementations are known to handle multi-digit version numbers incorrectly.  (<a href="#http.version">Section 2.6</a>) </p>
<p id="rfc.section.Appendix A.2.p.4">Require that invalid whitespace around field-names be rejected.  (<a href="#header.fields">Section 3.2</a>) </p>
<p id="rfc.section.Appendix A.2.p.5">The NUL octet is no longer allowed in comment and quoted-string text. The quoted-pair rule no longer allows escaping control characters other than HTAB.  Non-ASCII content in header fields and reason phrase has been obsoleted and made opaque (the TEXT rule was removed).  (<a href="#field.rules">Section 3.2.3</a>) </p>
<p id="rfc.section.Appendix A.2.p.6">Require recipients to handle bogus Content-Length header fields as errors.  (<a href="#message.body">Section 3.3</a>) </p>
<p id="rfc.section.Appendix A.2.p.7">Remove reference to non-existent identity transfer-coding value tokens.  (Sections <a href="#message.body">3.3</a> and <a href="#transfer.codings">5.1</a>) </p>
<p id="rfc.section.Appendix A.2.p.8">Update use of abs_path production from RFC 1808 to the path-absolute + query components of RFC 3986. State that the asterisk form is allowed for the OPTIONS request method only.  (<a href="#request-target">Section 3.1.1.2</a>) </p>
<p id="rfc.section.Appendix A.2.p.9">Clarification that the chunk length does not include the count of the octets in the chunk header and trailer. Furthermore disallowed line folding in chunk extensions.  (<a href="#chunked.encoding">Section 5.1.1</a>) </p>
<p id="rfc.section.Appendix A.2.p.10">Remove hard limit of two connections per server.  Remove requirement to retry a sequence of requests as long it was idempotent.  Remove requirements about when servers are allowed to close connections prematurely.  (<a href="#persistent.practical">Section 6.1.4</a>) </p>
<p id="rfc.section.Appendix A.2.p.11">Remove requirement to retry requests under certain cirumstances when the server prematurely closes the connection.  (<a href="#message.transmission.requirements">Section 6.2</a>) </p>
<p id="rfc.section.Appendix A.2.p.12">Change ABNF productions for header fields to only define the field value.  (<a href="#header.field.definitions">Section 8</a>) </p>
<p id="rfc.section.Appendix A.2.p.13">Clarify exactly when close connection options must be sent.  (<a href="#header.connection">Section 8.1</a>) </p>
<p id="rfc.section.Appendix A.2.p.14">Define the semantics of the "Upgrade" header field in responses other than 101 (this was incorporated from <a href="#RFC2817">[RFC2817]</a>).  (<a href="#header.upgrade">Section 8.7</a>) </p>
<h1 id="rfc.appendix.Appendix B">
<a href="#rfc.appendix.Appendix%20B">Appendix B.</a> <a href="#collected.abnf" id="collected.abnf">Collected ABNF</a>
</h1>
<div id="#rfc.figure.65"></div>
<pre>
BWS = OWS

Chunked-Body = *chunk last-chunk trailer-part CRLF
Connection = *( "," OWS ) connection-token *( OWS "," [ OWS
 connection-token ] )
Content-Length = 1*DIGIT

HTTP-Prot-Name = %x48.54.54.50 ; HTTP
HTTP-Version = HTTP-Prot-Name "/" DIGIT "." DIGIT
HTTP-message = start-line *( header-field CRLF ) CRLF [ message-body
 ]
Host = uri-host [ ":" port ]

Method = token

OWS = *( SP / HTAB / obs-fold )

RWS = 1*( SP / HTAB / obs-fold )
Reason-Phrase = *( HTAB / SP / VCHAR / obs-text )
Request-Line = Method SP request-target SP HTTP-Version CRLF

Status-Code = 3DIGIT
Status-Line = HTTP-Version SP Status-Code SP Reason-Phrase CRLF

TE = [ ( "," / t-codings ) *( OWS "," [ OWS t-codings ] ) ]
Trailer = *( "," OWS ) field-name *( OWS "," [ OWS field-name ] )
Transfer-Encoding = *( "," OWS ) transfer-coding *( OWS "," [ OWS
 transfer-coding ] )

URI-reference = &lt;URI-reference, defined in [RFC3986], Section 4.1&gt;
Upgrade = *( "," OWS ) product *( OWS "," [ OWS product ] )

Via = *( "," OWS ) received-protocol RWS received-by [ RWS comment ]
 *( OWS "," [ OWS received-protocol RWS received-by [ RWS comment ] ]
 )

absolute-URI = &lt;absolute-URI, defined in [RFC3986], Section 4.3&gt;
attribute = token
authority = &lt;authority, defined in [RFC3986], Section 3.2&gt;

chunk = chunk-size [ chunk-ext ] CRLF chunk-data CRLF
chunk-data = 1*OCTET
chunk-ext = *( ";" chunk-ext-name [ "=" chunk-ext-val ] )
chunk-ext-name = token
chunk-ext-val = token / quoted-str-nf
chunk-size = 1*HEXDIG
comment = "(" *( ctext / quoted-cpair / comment ) ")"
connection-token = token
ctext = OWS / %x21-27 ; '!'-'''
 / %x2A-5B ; '*'-'['
 / %x5D-7E ; ']'-'~'
 / obs-text

field-content = *( HTAB / SP / VCHAR / obs-text )
field-name = token
field-value = *( field-content / obs-fold )

header-field = field-name ":" OWS field-value BWS
http-URI = "http://" authority path-abempty [ "?" query ]
https-URI = "https://" authority path-abempty [ "?" query ]

last-chunk = 1*"0" [ chunk-ext ] CRLF

message-body = *OCTET

obs-fold = CRLF ( SP / HTAB )
obs-text = %x80-FF

partial-URI = relative-part [ "?" query ]
path-abempty = &lt;path-abempty, defined in [RFC3986], Section 3.3&gt;
path-absolute = &lt;path-absolute, defined in [RFC3986], Section 3.3&gt;
port = &lt;port, defined in [RFC3986], Section 3.2.3&gt;
product = token [ "/" product-version ]
product-version = token
protocol-name = token
protocol-version = token
pseudonym = token

qdtext = OWS / "!" / %x23-5B ; '#'-'['
 / %x5D-7E ; ']'-'~'
 / obs-text
qdtext-nf = HTAB / SP / "!" / %x23-5B ; '#'-'['
 / %x5D-7E ; ']'-'~'
 / obs-text
query = &lt;query, defined in [RFC3986], Section 3.4&gt;
quoted-cpair = "\" ( HTAB / SP / VCHAR / obs-text )
quoted-pair = "\" ( HTAB / SP / VCHAR / obs-text )
quoted-str-nf = DQUOTE *( qdtext-nf / quoted-pair ) DQUOTE
quoted-string = DQUOTE *( qdtext / quoted-pair ) DQUOTE
qvalue = ( "0" [ "." *3DIGIT ] ) / ( "1" [ "." *3"0" ] )

received-by = ( uri-host [ ":" port ] ) / pseudonym
received-protocol = [ protocol-name "/" ] protocol-version
relative-part = &lt;relative-part, defined in [RFC3986], Section 4.2&gt;
request-target = "*" / absolute-URI / ( path-absolute [ "?" query ] )
 / authority

special = "(" / ")" / "&lt;" / "&gt;" / "@" / "," / ";" / ":" / "\" /
 DQUOTE / "/" / "[" / "]" / "?" / "=" / "{" / "}"
start-line = Request-Line / Status-Line

t-codings = "trailers" / ( transfer-extension [ te-params ] )
tchar = "!" / "#" / "$" / "%" / "&amp;" / "'" / "*" / "+" / "-" / "." /
 "^" / "_" / "`" / "|" / "~" / DIGIT / ALPHA
te-ext = OWS ";" OWS token [ "=" word ]
te-params = OWS ";" OWS "q=" qvalue *te-ext
token = 1*tchar
trailer-part = *( header-field CRLF )
transfer-coding = "chunked" / "compress" / "deflate" / "gzip" /
 transfer-extension
transfer-extension = token *( OWS ";" OWS transfer-parameter )
transfer-parameter = attribute BWS "=" BWS value

uri-host = &lt;host, defined in [RFC3986], Section 3.2.2&gt;

value = word

word = token / quoted-string
</pre>
<div id="#rfc.figure.66"></div>
<p>ABNF diagnostics:</p>
<pre>
; Chunked-Body defined but not used
; Connection defined but not used
; Content-Length defined but not used
; HTTP-message defined but not used
; Host defined but not used
; TE defined but not used
; Trailer defined but not used
; Transfer-Encoding defined but not used
; URI-reference defined but not used
; Upgrade defined but not used
; Via defined but not used
; http-URI defined but not used
; https-URI defined but not used
; partial-URI defined but not used
; special defined but not used
</pre>
<h1 id="rfc.appendix.Appendix C">
<a href="#rfc.appendix.Appendix%20C">Appendix C.</a> <a href="#change.log" id="change.log">Change Log (to be removed by RFC Editor before publication)</a>
</h1>
<h1 id="rfc.appendix.Appendix C.1">
<a href="#rfc.appendix.Appendix%20C.1">Appendix C.1.</a> Since RFC 2616</h1>
<p id="rfc.section.Appendix C.1.p.1">Extracted relevant partitions from <a href="#RFC2616">[RFC2616]</a>.  </p>
<h1 id="rfc.appendix.Appendix C.2">
<a href="#rfc.appendix.Appendix%20C.2">Appendix C.2.</a> Since draft-ietf-httpbis-p1-messaging-00</h1>
<p id="rfc.section.Appendix C.2.p.1">Closed issues: </p>

<ul>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/1">http://tools.ietf.org/wg/httpbis/trac/ticket/1</a>: "HTTP Version should be case sensitive" (<a href="http://purl.org/NET/http-errata#verscase">http://purl.org/NET/http-errata#verscase</a>) </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/2">http://tools.ietf.org/wg/httpbis/trac/ticket/2</a>: "'unsafe' characters" (<a href="http://purl.org/NET/http-errata#unsafe-uri">http://purl.org/NET/http-errata#unsafe-uri</a>) </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/3">http://tools.ietf.org/wg/httpbis/trac/ticket/3</a>: "Chunk Size Definition" (<a href="http://purl.org/NET/http-errata#chunk-size">http://purl.org/NET/http-errata#chunk-size</a>) </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/4">http://tools.ietf.org/wg/httpbis/trac/ticket/4</a>: "Message Length" (<a href="http://purl.org/NET/http-errata#msg-len-chars">http://purl.org/NET/http-errata#msg-len-chars</a>) </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/8">http://tools.ietf.org/wg/httpbis/trac/ticket/8</a>: "Media Type Registrations" (<a href="http://purl.org/NET/http-errata#media-reg">http://purl.org/NET/http-errata#media-reg</a>) </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/11">http://tools.ietf.org/wg/httpbis/trac/ticket/11</a>: "URI includes query" (<a href="http://purl.org/NET/http-errata#uriquery">http://purl.org/NET/http-errata#uriquery</a>) </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/15">http://tools.ietf.org/wg/httpbis/trac/ticket/15</a>: "No close on 1xx responses" (<a href="http://purl.org/NET/http-errata#noclose1xx">http://purl.org/NET/http-errata#noclose1xx</a>) </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/16">http://tools.ietf.org/wg/httpbis/trac/ticket/16</a>: "Remove 'identity' token references" (<a href="http://purl.org/NET/http-errata#identity">http://purl.org/NET/http-errata#identity</a>) </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/26">http://tools.ietf.org/wg/httpbis/trac/ticket/26</a>: "Import query BNF" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/31">http://tools.ietf.org/wg/httpbis/trac/ticket/31</a>: "qdtext BNF" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/35">http://tools.ietf.org/wg/httpbis/trac/ticket/35</a>: "Normative and Informative references" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/42">http://tools.ietf.org/wg/httpbis/trac/ticket/42</a>: "RFC2606 Compliance" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/45">http://tools.ietf.org/wg/httpbis/trac/ticket/45</a>: "RFC977 reference" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/46">http://tools.ietf.org/wg/httpbis/trac/ticket/46</a>: "RFC1700 references" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/47">http://tools.ietf.org/wg/httpbis/trac/ticket/47</a>: "inconsistency in date format explanation" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/48">http://tools.ietf.org/wg/httpbis/trac/ticket/48</a>: "Date reference typo" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/65">http://tools.ietf.org/wg/httpbis/trac/ticket/65</a>: "Informative references" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/66">http://tools.ietf.org/wg/httpbis/trac/ticket/66</a>: "ISO-8859-1 Reference" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/86">http://tools.ietf.org/wg/httpbis/trac/ticket/86</a>: "Normative up-to-date references" </li>
</ul>

<p> </p>
<p id="rfc.section.Appendix C.2.p.2">Other changes: </p>

<ul>
<li>Update media type registrations to use RFC4288 template.  </li>
<li>Use names of RFC4234 core rules DQUOTE and HTAB, fix broken ABNF for chunk-data (work in progress on <a href="http://tools.ietf.org/wg/httpbis/trac/ticket/36">http://tools.ietf.org/wg/httpbis/trac/ticket/36</a>) </li>
</ul>

<p> </p>
<h1 id="rfc.appendix.Appendix C.3">
<a href="#rfc.appendix.Appendix%20C.3">Appendix C.3.</a> Since draft-ietf-httpbis-p1-messaging-01</h1>
<p id="rfc.section.Appendix C.3.p.1">Closed issues: </p>

<ul>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/19">http://tools.ietf.org/wg/httpbis/trac/ticket/19</a>: "Bodies on GET (and other) requests" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/55">http://tools.ietf.org/wg/httpbis/trac/ticket/55</a>: "Updating to RFC4288" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/57">http://tools.ietf.org/wg/httpbis/trac/ticket/57</a>: "Status Code and Reason Phrase" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/82">http://tools.ietf.org/wg/httpbis/trac/ticket/82</a>: "rel_path not used" </li>
</ul>

<p> </p>
<p id="rfc.section.Appendix C.3.p.2">Ongoing work on ABNF conversion (<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/36">http://tools.ietf.org/wg/httpbis/trac/ticket/36</a>): </p>

<ul>
<li>Get rid of duplicate BNF rule names ("host" -&gt; "uri-host", "trailer" -&gt; "trailer-part").  </li>
<li>Avoid underscore character in rule names ("http_URL" -&gt; "http-URL", "abs_path" -&gt; "path-absolute").  </li>
<li>Add rules for terms imported from URI spec ("absoluteURI", "authority", "path-absolute", "port", "query", "relativeURI", "host) &#8212; these will have to be updated when switching over to RFC3986.  </li>
<li>Synchronize core rules with RFC5234.  </li>
<li>Get rid of prose rules that span multiple lines.  </li>
<li>Get rid of unused rules LOALPHA and UPALPHA.  </li>
<li>Move "Product Tokens" section (back) into Part 1, as "token" is used in the definition of the Upgrade header field.  </li>
<li>Add explicit references to BNF syntax and rules imported from other parts of the specification.  </li>
<li>Rewrite prose rule "token" in terms of "tchar", rewrite prose rule "TEXT".  </li>
</ul>

<p> </p>
<h1 id="rfc.appendix.Appendix C.4">
<a href="#rfc.appendix.Appendix%20C.4">Appendix C.4.</a> <a href="#changes.since.02" id="changes.since.02">Since draft-ietf-httpbis-p1-messaging-02</a>
</h1>
<p id="rfc.section.Appendix C.4.p.1">Closed issues: </p>

<ul>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/51">http://tools.ietf.org/wg/httpbis/trac/ticket/51</a>: "HTTP-date vs. rfc1123-date" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/64">http://tools.ietf.org/wg/httpbis/trac/ticket/64</a>: "WS in quoted-pair" </li>
</ul>

<p> </p>
<p id="rfc.section.Appendix C.4.p.2">Ongoing work on IANA Message Header Field Registration (<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/40">http://tools.ietf.org/wg/httpbis/trac/ticket/40</a>): </p>

<ul><li>Reference RFC 3984, and update header field registrations for headers defined in this document.  </li></ul>

<p> </p>
<p id="rfc.section.Appendix C.4.p.3">Ongoing work on ABNF conversion (<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/36">http://tools.ietf.org/wg/httpbis/trac/ticket/36</a>): </p>

<ul><li>Replace string literals when the string really is case-sensitive (HTTP-Version).  </li></ul>

<p> </p>
<h1 id="rfc.appendix.Appendix C.5">
<a href="#rfc.appendix.Appendix%20C.5">Appendix C.5.</a> <a href="#changes.since.03" id="changes.since.03">Since draft-ietf-httpbis-p1-messaging-03</a>
</h1>
<p id="rfc.section.Appendix C.5.p.1">Closed issues: </p>

<ul>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/28">http://tools.ietf.org/wg/httpbis/trac/ticket/28</a>: "Connection closing" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/97">http://tools.ietf.org/wg/httpbis/trac/ticket/97</a>: "Move registrations and registry information to IANA Considerations" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/120">http://tools.ietf.org/wg/httpbis/trac/ticket/120</a>: "need new URL for PAD1995 reference" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/127">http://tools.ietf.org/wg/httpbis/trac/ticket/127</a>: "IANA Considerations: update HTTP URI scheme registration" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/128">http://tools.ietf.org/wg/httpbis/trac/ticket/128</a>: "Cite HTTPS URI scheme definition" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/129">http://tools.ietf.org/wg/httpbis/trac/ticket/129</a>: "List-type headers vs Set-Cookie" </li>
</ul>

<p> </p>
<p id="rfc.section.Appendix C.5.p.2">Ongoing work on ABNF conversion (<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/36">http://tools.ietf.org/wg/httpbis/trac/ticket/36</a>): </p>

<ul>
<li>Replace string literals when the string really is case-sensitive (HTTP-Date).  </li>
<li>Replace HEX by HEXDIG for future consistence with RFC 5234's core rules.  </li>
</ul>

<p> </p>
<h1 id="rfc.appendix.Appendix C.6">
<a href="#rfc.appendix.Appendix%20C.6">Appendix C.6.</a> <a href="#changes.since.04" id="changes.since.04">Since draft-ietf-httpbis-p1-messaging-04</a>
</h1>
<p id="rfc.section.Appendix C.6.p.1">Closed issues: </p>

<ul>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/34">http://tools.ietf.org/wg/httpbis/trac/ticket/34</a>: "Out-of-date reference for URIs" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/132">http://tools.ietf.org/wg/httpbis/trac/ticket/132</a>: "RFC 2822 is updated by RFC 5322" </li>
</ul>

<p> </p>
<p id="rfc.section.Appendix C.6.p.2">Ongoing work on ABNF conversion (<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/36">http://tools.ietf.org/wg/httpbis/trac/ticket/36</a>): </p>

<ul>
<li>Use "/" instead of "|" for alternatives.  </li>
<li>Get rid of RFC822 dependency; use RFC5234 plus extensions instead.  </li>
<li>Only reference RFC 5234's core rules.  </li>
<li>Introduce new ABNF rules for "bad" whitespace ("BWS"), optional whitespace ("OWS") and required whitespace ("RWS").  </li>
<li>Rewrite ABNFs to spell out whitespace rules, factor out header field value format definitions.  </li>
</ul>

<p> </p>
<h1 id="rfc.appendix.Appendix C.7">
<a href="#rfc.appendix.Appendix%20C.7">Appendix C.7.</a> <a href="#changes.since.05" id="changes.since.05">Since draft-ietf-httpbis-p1-messaging-05</a>
</h1>
<p id="rfc.section.Appendix C.7.p.1">Closed issues: </p>

<ul>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/30">http://tools.ietf.org/wg/httpbis/trac/ticket/30</a>: "Header LWS" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/52">http://tools.ietf.org/wg/httpbis/trac/ticket/52</a>: "Sort 1.3 Terminology" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/63">http://tools.ietf.org/wg/httpbis/trac/ticket/63</a>: "RFC2047 encoded words" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/74">http://tools.ietf.org/wg/httpbis/trac/ticket/74</a>: "Character Encodings in TEXT" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/77">http://tools.ietf.org/wg/httpbis/trac/ticket/77</a>: "Line Folding" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/83">http://tools.ietf.org/wg/httpbis/trac/ticket/83</a>: "OPTIONS * and proxies" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/94">http://tools.ietf.org/wg/httpbis/trac/ticket/94</a>: "Reason-Phrase BNF" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/111">http://tools.ietf.org/wg/httpbis/trac/ticket/111</a>: "Use of TEXT" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/118">http://tools.ietf.org/wg/httpbis/trac/ticket/118</a>: "Join "Differences Between HTTP Entities and RFC 2045 Entities"?" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/134">http://tools.ietf.org/wg/httpbis/trac/ticket/134</a>: "RFC822 reference left in discussion of date formats" </li>
</ul>

<p> </p>
<p id="rfc.section.Appendix C.7.p.2">Final work on ABNF conversion (<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/36">http://tools.ietf.org/wg/httpbis/trac/ticket/36</a>): </p>

<ul>
<li>Rewrite definition of list rules, deprecate empty list elements.  </li>
<li>Add appendix containing collected and expanded ABNF.  </li>
</ul>

<p> </p>
<p id="rfc.section.Appendix C.7.p.3">Other changes: </p>

<ul>
<li>Rewrite introduction; add mostly new Architecture Section.  </li>
<li>Move definition of quality values from Part 3 into Part 1; make TE request header field grammar independent of accept-params (defined in Part 3).  </li>
</ul>

<p> </p>
<h1 id="rfc.appendix.Appendix C.8">
<a href="#rfc.appendix.Appendix%20C.8">Appendix C.8.</a> <a href="#changes.since.06" id="changes.since.06">Since draft-ietf-httpbis-p1-messaging-06</a>
</h1>
<p id="rfc.section.Appendix C.8.p.1">Closed issues: </p>

<ul>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/161">http://tools.ietf.org/wg/httpbis/trac/ticket/161</a>: "base for numeric protocol elements" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/162">http://tools.ietf.org/wg/httpbis/trac/ticket/162</a>: "comment ABNF" </li>
</ul>

<p> </p>
<p id="rfc.section.Appendix C.8.p.2">Partly resolved issues: </p>

<ul>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/88">http://tools.ietf.org/wg/httpbis/trac/ticket/88</a>: "205 Bodies" (took out language that implied that there might be methods for which a request body MUST NOT be included) </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/163">http://tools.ietf.org/wg/httpbis/trac/ticket/163</a>: "editorial improvements around HTTP-date" </li>
</ul>

<p> </p>
<h1 id="rfc.appendix.Appendix C.9">
<a href="#rfc.appendix.Appendix%20C.9">Appendix C.9.</a> <a href="#changes.since.07" id="changes.since.07">Since draft-ietf-httpbis-p1-messaging-07</a>
</h1>
<p id="rfc.section.Appendix C.9.p.1">Closed issues: </p>

<ul>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/93">http://tools.ietf.org/wg/httpbis/trac/ticket/93</a>: "Repeating single-value headers" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/131">http://tools.ietf.org/wg/httpbis/trac/ticket/131</a>: "increase connection limit" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/157">http://tools.ietf.org/wg/httpbis/trac/ticket/157</a>: "IP addresses in URLs" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/172">http://tools.ietf.org/wg/httpbis/trac/ticket/172</a>: "take over HTTP Upgrade Token Registry" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/173">http://tools.ietf.org/wg/httpbis/trac/ticket/173</a>: "CR and LF in chunk extension values" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/184">http://tools.ietf.org/wg/httpbis/trac/ticket/184</a>: "HTTP/0.9 support" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/188">http://tools.ietf.org/wg/httpbis/trac/ticket/188</a>: "pick IANA policy (RFC5226) for Transfer Coding / Content Coding" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/189">http://tools.ietf.org/wg/httpbis/trac/ticket/189</a>: "move definitions of gzip/deflate/compress to part 1" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/194">http://tools.ietf.org/wg/httpbis/trac/ticket/194</a>: "disallow control characters in quoted-pair" </li>
</ul>

<p> </p>
<p id="rfc.section.Appendix C.9.p.2">Partly resolved issues: </p>

<ul><li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/148">http://tools.ietf.org/wg/httpbis/trac/ticket/148</a>: "update IANA requirements wrt Transfer-Coding values" (add the IANA Considerations subsection) </li></ul>

<p> </p>
<h1 id="rfc.appendix.Appendix C.10">
<a href="#rfc.appendix.Appendix%20C.10">Appendix C.10.</a> <a href="#changes.since.08" id="changes.since.08">Since draft-ietf-httpbis-p1-messaging-08</a>
</h1>
<p id="rfc.section.Appendix C.10.p.1">Closed issues: </p>

<ul><li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/201">http://tools.ietf.org/wg/httpbis/trac/ticket/201</a>: "header parsing, treatment of leading and trailing OWS" </li></ul>

<p> </p>
<p id="rfc.section.Appendix C.10.p.2">Partly resolved issues: </p>

<ul>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/60">http://tools.ietf.org/wg/httpbis/trac/ticket/60</a>: "Placement of 13.5.1 and 13.5.2" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/200">http://tools.ietf.org/wg/httpbis/trac/ticket/200</a>: "use of term "word" when talking about header structure" </li>
</ul>

<p> </p>
<h1 id="rfc.appendix.Appendix C.11">
<a href="#rfc.appendix.Appendix%20C.11">Appendix C.11.</a> <a href="#changes.since.09" id="changes.since.09">Since draft-ietf-httpbis-p1-messaging-09</a>
</h1>
<p id="rfc.section.Appendix C.11.p.1">Closed issues: </p>

<ul>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/73">http://tools.ietf.org/wg/httpbis/trac/ticket/73</a>: "Clarification of the term 'deflate'" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/83">http://tools.ietf.org/wg/httpbis/trac/ticket/83</a>: "OPTIONS * and proxies" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/122">http://tools.ietf.org/wg/httpbis/trac/ticket/122</a>: "MIME-Version not listed in P1, general header fields" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/143">http://tools.ietf.org/wg/httpbis/trac/ticket/143</a>: "IANA registry for content/transfer encodings" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/165">http://tools.ietf.org/wg/httpbis/trac/ticket/165</a>: "Case-sensitivity of HTTP-date" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/200">http://tools.ietf.org/wg/httpbis/trac/ticket/200</a>: "use of term "word" when talking about header structure" </li>
</ul>

<p> </p>
<p id="rfc.section.Appendix C.11.p.2">Partly resolved issues: </p>

<ul><li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/196">http://tools.ietf.org/wg/httpbis/trac/ticket/196</a>: "Term for the requested resource's URI" </li></ul>

<p> </p>
<h1 id="rfc.appendix.Appendix C.12">
<a href="#rfc.appendix.Appendix%20C.12">Appendix C.12.</a> <a href="#changes.since.10" id="changes.since.10">Since draft-ietf-httpbis-p1-messaging-10</a>
</h1>
<p id="rfc.section.Appendix C.12.p.1">Closed issues: </p>

<ul>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/28">http://tools.ietf.org/wg/httpbis/trac/ticket/28</a>: "Connection Closing" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/90">http://tools.ietf.org/wg/httpbis/trac/ticket/90</a>: "Delimiting messages with multipart/byteranges" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/95">http://tools.ietf.org/wg/httpbis/trac/ticket/95</a>: "Handling multiple Content-Length headers" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/109">http://tools.ietf.org/wg/httpbis/trac/ticket/109</a>: "Clarify entity / representation / variant terminology" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/220">http://tools.ietf.org/wg/httpbis/trac/ticket/220</a>: "consider removing the 'changes from 2068' sections" </li>
</ul>

<p> </p>
<p id="rfc.section.Appendix C.12.p.2">Partly resolved issues: </p>

<ul><li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/159">http://tools.ietf.org/wg/httpbis/trac/ticket/159</a>: "HTTP(s) URI scheme definitions" </li></ul>

<p> </p>
<h1 id="rfc.appendix.Appendix C.13">
<a href="#rfc.appendix.Appendix%20C.13">Appendix C.13.</a> <a href="#changes.since.11" id="changes.since.11">Since draft-ietf-httpbis-p1-messaging-11</a>
</h1>
<p id="rfc.section.Appendix C.13.p.1">Closed issues: </p>

<ul>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/193">http://tools.ietf.org/wg/httpbis/trac/ticket/193</a>: "Trailer requirements" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/204">http://tools.ietf.org/wg/httpbis/trac/ticket/204</a>: "Text about clock requirement for caches belongs in p6" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/221">http://tools.ietf.org/wg/httpbis/trac/ticket/221</a>: "effective request URI: handling of missing host in HTTP/1.0" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/248">http://tools.ietf.org/wg/httpbis/trac/ticket/248</a>: "confusing Date requirements for clients" </li>
</ul>

<p> </p>
<p id="rfc.section.Appendix C.13.p.2">Partly resolved issues: </p>

<ul><li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/95">http://tools.ietf.org/wg/httpbis/trac/ticket/95</a>: "Handling multiple Content-Length headers" </li></ul>

<p> </p>
<h1 id="rfc.appendix.Appendix C.14">
<a href="#rfc.appendix.Appendix%20C.14">Appendix C.14.</a> <a href="#changes.since.12" id="changes.since.12">Since draft-ietf-httpbis-p1-messaging-12</a>
</h1>
<p id="rfc.section.Appendix C.14.p.1">Closed issues: </p>

<ul>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/75">http://tools.ietf.org/wg/httpbis/trac/ticket/75</a>: "RFC2145 Normative" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/159">http://tools.ietf.org/wg/httpbis/trac/ticket/159</a>: "HTTP(s) URI scheme definitions" (tune the requirements on userinfo) </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/210">http://tools.ietf.org/wg/httpbis/trac/ticket/210</a>: "define 'transparent' proxy" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/224">http://tools.ietf.org/wg/httpbis/trac/ticket/224</a>: "Header Classification" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/233">http://tools.ietf.org/wg/httpbis/trac/ticket/233</a>: "Is * usable as a request-uri for new methods?" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/240">http://tools.ietf.org/wg/httpbis/trac/ticket/240</a>: "Migrate Upgrade details from RFC2817" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/276">http://tools.ietf.org/wg/httpbis/trac/ticket/276</a>: "untangle ABNFs for header fields" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/279">http://tools.ietf.org/wg/httpbis/trac/ticket/279</a>: "update RFC 2109 reference" </li>
</ul>

<p> </p>
<h1 id="rfc.appendix.Appendix C.15">
<a href="#rfc.appendix.Appendix%20C.15">Appendix C.15.</a> <a href="#changes.since.13" id="changes.since.13">Since draft-ietf-httpbis-p1-messaging-13</a>
</h1>
<p id="rfc.section.Appendix C.15.p.1">Closed issues: </p>

<ul>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/53">http://tools.ietf.org/wg/httpbis/trac/ticket/53</a>: "Allow is not in 13.5.2" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/95">http://tools.ietf.org/wg/httpbis/trac/ticket/95</a>: "Handling multiple Content-Length headers" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/276">http://tools.ietf.org/wg/httpbis/trac/ticket/276</a>: "untangle ABNFs for header fields" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/286">http://tools.ietf.org/wg/httpbis/trac/ticket/286</a>: "Content-Length ABNF broken" </li>
</ul>

<p> </p>
<h1 id="rfc.appendix.Appendix C.16">
<a href="#rfc.appendix.Appendix%20C.16">Appendix C.16.</a> <a href="#changes.since.14" id="changes.since.14">Since draft-ietf-httpbis-p1-messaging-14</a>
</h1>
<p id="rfc.section.Appendix C.16.p.1">Closed issues: </p>

<ul>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/273">http://tools.ietf.org/wg/httpbis/trac/ticket/273</a>: "HTTP-Version should be redefined as fixed length pair of DIGIT . DIGIT" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/282">http://tools.ietf.org/wg/httpbis/trac/ticket/282</a>: "Recommend minimum sizes for protocol elements" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/283">http://tools.ietf.org/wg/httpbis/trac/ticket/283</a>: "Set expectations around buffering" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/288">http://tools.ietf.org/wg/httpbis/trac/ticket/288</a>: "Considering messages in isolation" </li>
</ul>

<p> </p>
<h1 id="rfc.appendix.Appendix C.17">
<a href="#rfc.appendix.Appendix%20C.17">Appendix C.17.</a> <a href="#changes.since.15" id="changes.since.15">Since draft-ietf-httpbis-p1-messaging-15</a>
</h1>
<p id="rfc.section.Appendix C.17.p.1">Closed issues: </p>

<ul>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/100">http://tools.ietf.org/wg/httpbis/trac/ticket/100</a>: "DNS Spoofing / DNS Binding advice" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/254">http://tools.ietf.org/wg/httpbis/trac/ticket/254</a>: "move RFCs 2145, 2616, 2817 to Historic status" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/270">http://tools.ietf.org/wg/httpbis/trac/ticket/270</a>: "\-escaping in quoted strings" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/305">http://tools.ietf.org/wg/httpbis/trac/ticket/305</a>: "'Close' should be reserved in the HTTP header field registry" </li>
</ul>

<p> </p>
<h1 id="rfc.appendix.Appendix C.18">
<a href="#rfc.appendix.Appendix%20C.18">Appendix C.18.</a> <a href="#changes.since.16" id="changes.since.16">Since draft-ietf-httpbis-p1-messaging-16</a>
</h1>
<p id="rfc.section.Appendix C.18.p.1">Closed issues: </p>

<ul>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/186">http://tools.ietf.org/wg/httpbis/trac/ticket/186</a>: "Document HTTP's error-handling philosophy" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/215">http://tools.ietf.org/wg/httpbis/trac/ticket/215</a>: "Explain header registration" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/219">http://tools.ietf.org/wg/httpbis/trac/ticket/219</a>: "Revise Acknowledgements Sections" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/297">http://tools.ietf.org/wg/httpbis/trac/ticket/297</a>: "Retrying Requests" </li>
<li>
<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/318">http://tools.ietf.org/wg/httpbis/trac/ticket/318</a>: "Closing the connection on server error" </li>
</ul>

<p> </p>
<h1 id="rfc.index"><a href="#rfc.index">Index</a></h1>
<table>
<tr><td><strong>A</strong></td></tr>
<tr>
<td> </td>
<td><a href="#index.absolute-URI%20form%20(of%20request-target)">absolute-URI form (of request-target)</a></td>
</tr>
<tr>
<td> </td>
<td><a href="#index.accelerator">accelerator</a></td>
</tr>
<tr>
<td> </td>
<td><a href="#index.asterisk%20form%20(of%20request-target)">asterisk form (of request-target)</a></td>
</tr>
<tr>
<td> </td>
<td><a href="#index.authority%20form%20(of%20request-target)">authority form (of request-target)</a></td>
</tr>
<tr><td><strong>C</strong></td></tr>
<tr>
<td> </td>
<td><a href="#index.cacheable">cacheable</a></td>
</tr>
<tr>
<td> </td>
<td><a href="#index.captive%20portal">captive portal</a></td>
</tr>
<tr><td><strong>D</strong></td></tr>
<tr>
<td> </td>
<td><a href="#index.downstream">downstream</a></td>
</tr>
<tr><td><strong>G</strong></td></tr>
<tr>
<td> </td>
<td><a href="#index.gateway">gateway</a></td>
</tr>
<tr><td><strong>I</strong></td></tr>
<tr>
<td> </td>
<td><a href="#index.inbound">inbound</a></td>
</tr>
<tr>
<td> </td>
<td><a href="#index.interception%20proxy">interception proxy</a></td>
</tr>
<tr><td><strong>N</strong></td></tr>
<tr>
<td> </td>
<td><a href="#index.non-transforming%20proxy">non-transforming proxy</a></td>
</tr>
<tr><td><strong>O</strong></td></tr>
<tr>
<td> </td>
<td><a href="#index.origin%20form%20(of%20request-target)">origin form (of request-target)</a></td>
</tr>
<tr>
<td> </td>
<td><a href="#index.outbound">outbound</a></td>
</tr>
<tr><td><strong>P</strong></td></tr>
<tr>
<td> </td>
<td><a href="#index.proxy">proxy</a></td>
</tr>
<tr><td><strong>R</strong></td></tr>
<tr>
<td> </td>
<td><a href="#index.reverse%20proxy">reverse proxy</a></td>
</tr>
<tr><td><strong>T</strong></td></tr>
<tr>
<td> </td>
<td><a href="#index.transforming%20proxy">transforming proxy</a></td>
</tr>
<tr>
<td> </td>
<td><a href="#index.transparent%20proxy">transparent proxy</a></td>
</tr>
<tr>
<td> </td>
<td><a href="#index.tunnel">tunnel</a></td>
</tr>
<tr><td><strong>U</strong></td></tr>
<tr>
<td> </td>
<td><a href="#index.upstream">upstream</a></td>
</tr>
</table>
<h1 id="rfc.authors"><a href="#rfc.authors">Authors' Addresses</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Roy T. Fielding</span> editor
	  <span class="n hidden">
		<span class="family-name">Fielding</span>
	  </span>
	</span>
	<span class="org vcardline">Adobe Systems Incorporated</span>
	<span class="adr">
	  <span>345 Park Ave</span>

	  <span class="vcardline">
		<span class="locality">San Jose</span>,  
		<span class="region">CA</span> 
		<span class="code">95110</span>
	  </span>
	  <span class="country-name vcardline">USA</span>
	</span>
	<span class="vcardline">EMail: fielding@gbiv.com</span>

<span class="vcardline">URI: <a href="http://roy.gbiv.com/">http://roy.gbiv.com/</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Jim Gettys</span> 
	  <span class="n hidden">
		<span class="family-name">Gettys</span>
	  </span>
	</span>
	<span class="org vcardline">Alcatel-Lucent Bell Labs</span>
	<span class="adr">
	  <span>21 Oak Knoll Road</span>

	  <span class="vcardline">
		<span class="locality">Carlisle</span>,  
		<span class="region">MA</span> 
		<span class="code">01741</span>
	  </span>
	  <span class="country-name vcardline">USA</span>
	</span>
	<span class="vcardline">EMail: jg@freedesktop.org</span>

<span class="vcardline">URI: <a href="http://gettys.wordpress.com/">http://gettys.wordpress.com/</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Jeffrey C. Mogul</span> 
	  <span class="n hidden">
		<span class="family-name">Mogul</span>
	  </span>
	</span>
	<span class="org vcardline">Hewlett-Packard Company</span>
	<span class="adr">
	  <span>HP Labs, Large Scale Systems Group</span>
<span>1501 Page Mill Road, MS 1177</span>

	  <span class="vcardline">
		<span class="locality">Palo Alto</span>,  
		<span class="region">CA</span> 
		<span class="code">94304</span>
	  </span>
	  <span class="country-name vcardline">USA</span>
	</span>
	<span class="vcardline">EMail: JeffMogul@acm.org</span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Henrik Frystyk Nielsen</span> 
	  <span class="n hidden">
		<span class="family-name">Frystyk</span>
	  </span>
	</span>
	<span class="org vcardline">Microsoft Corporation</span>
	<span class="adr">
	  <span>1 Microsoft Way</span>

	  <span class="vcardline">
		<span class="locality">Redmond</span>,  
		<span class="region">WA</span> 
		<span class="code">98052</span>
	  </span>
	  <span class="country-name vcardline">USA</span>
	</span>
	<span class="vcardline">EMail: henrikn@microsoft.com</span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Larry Masinter</span> 
	  <span class="n hidden">
		<span class="family-name">Masinter</span>
	  </span>
	</span>
	<span class="org vcardline">Adobe Systems Incorporated</span>
	<span class="adr">
	  <span>345 Park Ave</span>

	  <span class="vcardline">
		<span class="locality">San Jose</span>,  
		<span class="region">CA</span> 
		<span class="code">95110</span>
	  </span>
	  <span class="country-name vcardline">USA</span>
	</span>
	<span class="vcardline">EMail: LMM@acm.org</span>

<span class="vcardline">URI: <a href="http://larry.masinter.net/">http://larry.masinter.net/</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Paul J. Leach</span> 
	  <span class="n hidden">
		<span class="family-name">Leach</span>
	  </span>
	</span>
	<span class="org vcardline">Microsoft Corporation</span>
	<span class="adr">
	  <span>1 Microsoft Way</span>

	  <span class="vcardline">
		<span class="locality">Redmond</span>,  
		<span class="region">WA</span> 
		<span class="code">98052</span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	<span class="vcardline">EMail: paulle@microsoft.com</span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Tim Berners-Lee</span> 
	  <span class="n hidden">
		<span class="family-name">Berners-Lee</span>
	  </span>
	</span>
	<span class="org vcardline">World Wide Web Consortium</span>
	<span class="adr">
	  <span>MIT Computer Science and Artificial Intelligence Laboratory</span>
<span>The Stata Center, Building 32</span>
<span>32 Vassar Street</span>

	  <span class="vcardline">
		<span class="locality">Cambridge</span>,  
		<span class="region">MA</span> 
		<span class="code">02139</span>
	  </span>
	  <span class="country-name vcardline">USA</span>
	</span>
	<span class="vcardline">EMail: timbl@w3.org</span>

<span class="vcardline">URI: <a href="http://www.w3.org/People/Berners-Lee/">http://www.w3.org/People/Berners-Lee/</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Yves Lafon</span> editor
	  <span class="n hidden">
		<span class="family-name">Lafon</span>
	  </span>
	</span>
	<span class="org vcardline">World Wide Web Consortium</span>
	<span class="adr">
	  <span>W3C / ERCIM</span>
<span>2004, rte des Lucioles</span>

	  <span class="vcardline">
		<span class="locality">Sophia-Antipolis</span>,  
		<span class="region">AM</span> 
		<span class="code">06902</span>
	  </span>
	  <span class="country-name vcardline">France</span>
	</span>
	<span class="vcardline">EMail: ylafon@w3.org</span>

<span class="vcardline">URI: <a href="http://www.raubacapeu.net/people/yves/">http://www.raubacapeu.net/people/yves/</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Julian F. Reschke</span> editor
	  <span class="n hidden">
		<span class="family-name">Reschke</span>
	  </span>
	</span>
	<span class="org vcardline">greenbytes GmbH</span>
	<span class="adr">
	  <span>Hafenweg 16</span>

	  <span class="vcardline">
		<span class="locality">Muenster</span>,  
		<span class="region">NW</span> 
		<span class="code">48155</span>
	  </span>
	  <span class="country-name vcardline">Germany</span>
	</span>
	<span class="vcardline">Phone: +49 251 2807760</span>

<span class="vcardline">EMail: julian.reschke@greenbytes.de</span>

<span class="vcardline">URI: <a href="http://greenbytes.de/tech/webdav/">http://greenbytes.de/tech/webdav/</a></span>

  </address>
</div>

</body>
</html>