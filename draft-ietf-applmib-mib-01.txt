

INTERNET-DRAFT                                            C. Kalbfleisch
                                               OnRamp Technologies, Inc.
                                                             C. Krupczak
                                               Empire Technologies, Inc.
                                                              R. Presuhn
                                                      BMC Software, Inc.
                                                              J. Saperia
                                                       BGS Systems, Inc.
                                                        18 December 1996

                       Application Management MIB
                    <draft-ietf-applmib-mib-01.txt>

Status of this Memo

   This document is an Internet-Draft.  Internet-Drafts are working
   documents of the Internet Engineering Task Force (IETF), its areas,
   and its working groups.  Note that other groups may also distribute
   working documents as Internet-Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet- Drafts as reference
   material or to cite them other than as ``work in progress.''

   To learn the current status of any Internet-Draft, please check the
   ``1id-abstracts.txt'' listing contained in the Internet- Drafts
   Shadow Directories on ftp.is.co.za (Africa), nic.nordu.net (Europe),
   munnari.oz.au (Pacific Rim), ds.internic.net (US East Coast), or
   ftp.isi.edu (US West Coast).

Abstract

   This memo defines an experimental portion of the Management
   Information Base (MIB) for use with network management protocols in
   the Internet Community.  In particular, it defines objects used for
   the management of applications.  This MIB complements the System
   Application MIB, providing for the management of applications' common
   aspects which could not typically be observed without the cooperation
   of the software being managed.


1. Introduction

   This draft seeks to further the work begun in the systems application
   mib [11].  In its current form, it identifies far more issues and
   capabilities than can reasonably be addressed in one MIB.  It is
   hoped that the first round of discussion of this document will trim



Applmib Working Group       Expires June 1997           [Page 1]

Internet Draft         Application Management MIB       18 December 1996


   this feature set to an essential core that will provide the most
   "bang for the buck" in making applications manageable.

   The development of [1], [2], [3], [4], [8] and [9] provides us with a
   base of experience in making a variety of applications visible to
   management; this specification abstracts out the common aspects of
   applications management and provides a generic base usable for the
   management of almost any application.

2. Overview

   Many important topics were not handled in system application MIB
   [11].  The following topics are within the scope of the this
   document:


        -    Support for generic application throughput measurements;

        -    Providing MIB definitions that allow managed entities to
             report what they considered to be units of work;

        -    Providing support for generic application response time
             monitoring capabilities;

        -    Provide explicit support for the management of applications
             distributed within a single managed system ("local" distri-
             bution);

        -    Address generic resource management issues, including:

             -    files in use;

             -    I/O statistics (from the application's perspective,
                  not at the operating system or device driver level);

             -    other resources are open to discussion, possibilities
                  include:

                  -    various system calls;

                  -    heap usage;

                  -    stack penetration;

                  -    networking resources.

             -    Providing access to dependency information, both in
                  the form of MIB objects to report dependencies on



Applmib Working Group       Expires June 1997           [Page 2]

Internet Draft         Application Management MIB       18 December 1996


                  "mission critical" processes, as well as the logging
                  of failures due to dependencies.

        -    Provide a generic logging (stderr) capability:

             -    Identify common application log entries interest;

             -    Permit use of specialized log entries where appropri-
                  ate;

             -    Provide generic facility for the management of this
                  log;

             -    Provide generic facility to control notification gen-
                  eration by the application;

        -    Facilities for the control of applications, including:

             -    Starting and stopping applications and their elements;

             -    Suspending and resuming applications and their ele-
                  ments;

             -    Configuration of application parameters;

             -    A "mission critical process" MIB to identify processes
                  that are of particular interest;

             -    Reconfiguration (e.g., SIGHUP) request capability.

   Note that these issues are addressed at least in part by other stan-
   dards work, including [12] and [13].

   Some topics were identified as being of interest to the applmib work-
   ing group, but outside the scope of this document.

     -    Providing MIB definitions that allow management to define what
          is to be considerred an error.  This includes mechanisms for
          filtering and selective forwarding of information from notifi-
          cations or log entries.

   Topics identified as specifically out of scope include:


     -    Providing MIB definitions to allow dynamic control of the def-
          inition of units of work;

     -    Explicit support for the management of applications



Applmib Working Group       Expires June 1997           [Page 3]

Internet Draft         Application Management MIB       18 December 1996


          distributed across multiple systems; (The indexing structure
          and semantics of the system application MIB [11] are not suf-
          ficient for this task.)

     -    Issues of backup and recovery;

     -    Issues of software request, delivery, installation, activa-
          tion, patching, version update, reversion, and removal;

     -    Issues of software validation and integrity checks;

     -    Issues of software licensing.

3. Architecture

     To emulate the object-oriented modeling techniques of subclassing
     and multiple inheritance, the SNMP information model provides for
     the use of tables with common indexes.  The challenge for the
     developer of management applications is to recognize those situa-
     tions in which various aspects of a single logical resource are
     represented in several different tables, possibly defined in dif-
     ferent MIBs.

     Most of the management information defined here may pertain to any
     number of applications in a managed system.  The simplest way of
     supporting this requirement within the SNMP information model is to
     use tables.  This means that the management information for a par-
     ticular resource may be found in one or more rows of one or more
     tables; the fact that this information pertains to a single
     resource may be deduced from the index values used, possibly with
     the support of mapping tables.  This also means that a single table
     may contain management information relevant to a number of applica-
     tions.  This has significant implementation implications; see the
     implementation issues section below for more information.

     Relationships to other MIBs

     This section will outline the relationships of the components of
     this MIB (usually in the form of common indexing structures) to:

     -    the systems applications MIB [11]

     -    the host resources MIB [1]

     -    the entity MIB [8]

     -    the network services monitoring MIB [2]




Applmib Working Group       Expires June 1997           [Page 4]

Internet Draft         Application Management MIB       18 December 1996


   Relationship to NSM

   The Network Services Monitoring MIB is defined as the base set of
   attributes for managing network applications.  This MIB extends that
   set of attributes to include information normally obtainable only
   from the managed resource itself, rather than the supporting system.

   The nsmToSysApplElmtRunTable is defined to provide the relationship
   between the NSM and sysApplMIB frameworks.

   Relationship to sysAppl

   The sysApplMIB defines attributes for management of applications
   which can be realized without instrumenting an application.  This
   sepcification extends that framework to include additional attributes
   which will typically require instrumentation within the managed
   resource.


4. MIB Structure

   The open files table

   The open files table contains one entry for file in use by the man-
   aged application.  If multiple applications open the same file, it
   will appear as many times in this table as there are applications
   opening that file.  Entries in this table are indexed by the applica-
   tion run index and an arbitrary integer, chosen so that taken
   together the application run index and this integer yield a unique
   key for each open file.  The following information is available in
   this table:

     -    file name

     -    number of read requests

     -    number of bytes read

     -    timestamp of last read operation

     -    number of write requests

     -    number of bytes written

     -    timestamp of last write operation

     -    number of seek operations




Applmib Working Group       Expires June 1997           [Page 5]

Internet Draft         Application Management MIB       18 December 1996


     -    file size
   Special cases to consider: stdin, stdout, stderr, etc.

   The open connections table

   This table extends the capabilities provided by the network services
   monitoring MIB [2].  It includes:

     -

     -

   The transaction statistics table

   Entries in the transaction statistics table are indexed by the appli-
   cation run index and an arbitrary integer, chosen so that taken
   together the application run index and this integer yield a unique
   key for each transaction stream.  A transaction stream may be a file
   or a connection; a column in this table contains the OBJECT IDENTI-
   FIER of the instance in the open files table or open connections
   table.  The information recorded in the entries of this table
   includes:

     -    Transactions received / read

     -    Transactions transmitted / written

     -    Transaction response time (definition gets tricky...)

     The application component details table

     This table provides time stamps, current size, ownership, and other
     information as it extends the sysApplInstallElmt table.

5. Definitions

     APPLICATION-MIB DEFINITIONS ::= BEGIN

     *
     * note: this MIB will not compile in its current form!
     *

     IMPORTS
         MODULE-IDENTITY, OBJECT-TYPE,
             Unsigned32                      FROM SNMPv2-SMI
         MODULE-COMPLIANCE, OBJECT-GROUP     FROM SNMPv2-CONF;

     applicationMIB MODULE-IDENTITY



Applmib Working Group       Expires June 1997           [Page 6]

Internet Draft         Application Management MIB       18 December 1996


         LAST-UPDATED "9611200000Z"
         ORGANIZATION "Application MIB Working Group"
         CONTACT-INFO
             "Randy Presuhn
              BMC Software, Inc.
              1190 Saratoga Avenue, Suite 100
              San Jose, CA 95129
              USA

              Telephone: +1 800 841-2031
              Facsimile: +1 408 556-0735
              Email: rpresuhn@bmc.com
             "
         DESCRIPTION
             "
             "
         ::= { bogus 1 }

     UTF8String ::= TEXTUAL CONVENTION
         STATUS current
         DESCRIPTION
             "A string of IS 10646 characters encoded
              in the UTF-8 (see [10]) format.
             "
         SYNTAX OCTET STRING (SIZE (0 .. 1024))

     --
     --  nsmToSysApplElmtRunTable
     --
     --  The table that defines relationships between NSM's applTable
     --  and sysApplMIB's sysApplRunElmtTable.
     --
     nsmToSysApplElmtRunTable OBJECT-TYPE
             SYNTAX  SEQUENCE OF NsmToSysApplElmtRunEntry
             MAX-ACCESS not-accessible
             STATUS current
             DESCRIPTION
               "The table that defines relationships between the
                applTable of the Network Services Monitoring MIB [2]
                and the sysApplElmtRunTable of the System Application
                MIB [11]."
             ::= { nsmToSysAppl 1 }

     nsmToSysApplElmtRunEntry OBJECT-TYPE
             SYNTAX  NsmToSysApplElmtRunEntry
             MAX-ACCESS not-accessible
             STATUS current
             DESCRIPTION



Applmib Working Group       Expires June 1997           [Page 7]

Internet Draft         Application Management MIB       18 December 1996


               "An entry in the table that defines relationships between the
                applTable of the Network Services Monitoring MIB [REF]
                and the sysApplElmtRunTable of the System Application
                MIB [REF]."
             INDEX { nsmToSysApplElmtRunIndex }
             ::= { nsmToSysApplElmtRunTable 1 }

     NsmToSysApplElmtRunEntry ::= SEQUENCE
             {
             nsmToSysApplElmtRunIndex                Unsigned32,
             nsmToSysApplElmtRunApplIndex            Unsigned32,
             nsmToSysApplElmtRunSysApplRunIndex      Unsigned32,
             nsmToSysApplElmtRunSysApplRunElmtIndex  Unsigned32
             }

     nsmToSysApplElmtRunIndex OBJECT-TYPE
             SYNTAX          Unsigned32
             MAX-ACCESS      not-accessible
             STATUS          current
             DESCRIPTION
               "An arbitrary integer used for indexing purposes.
                Each entry in this table represents a relationship
                between an entry in applTable of NSM and sysApplRunElmtTable
                of sysApplMIB."
             ::= { nsmToSysApplElmtRunEntry 1 }


     nsmToSysApplElmtRunApplIndex OBJECT-TYPE
             SYNTAX          Unsigned32
             MAX-ACCESS      read-only
             STATUS          current
             DESCRIPTION
               "The index into the applTable of NSM.  This is used to
                identify an entry in applTable which relates to an
                entry in sysApplRunElmtTable which is indexed by
                nsmToSysApplElmtSysApplRunIndex and
                nsmToSysApplElmtSysApplRunElmtIndex"
             ::= { nsmToSysApplElmtRunEntry 2 }

     nsmToSysApplElmtRunSysApplRunIndex OBJECT-TYPE
             SYNTAX          Unsigned32
             MAX-ACCESS      read-only
             STATUS          current
             DESCRIPTION
               "The application index into the sysApplRunTable of
                sysApplMIB.  This is also one of the primary indices
                of the sysApplRunElmtTable.  This is used in conjunction
                with the value of nsmToSysApplElmtSysApplRunElmtIndex



Applmib Working Group       Expires June 1997           [Page 8]

Internet Draft         Application Management MIB       18 December 1996


                to identify an entry in the sysApplRunElmtTable that
                is related to an entry in the applTable."
             ::= { nsmToSysApplElmtRunEntry 3 }

     nsmToSysApplElmtRunSysApplRunElmtIndex OBJECT-TYPE
             SYNTAX          Unsigned32
             MAX-ACCESS      read-only
             STATUS          current
             DESCRIPTION
               "The element index into the sysApplRunElmntTable of
                sysApplMIB.  This is used in conjunction with the
                value of nsmToSysApplElmtSysApplRunIndex to identify
                an entry in the sysApplRunElmtTable that is related
                to an entry in the applTable."
             ::= { nsmToSysApplElmtRunEntry 4 }

     END


6. Implementation Issues

   Unlike the system application MIB [11], in many environments support
   for much of this MIB requires instrumentation built into the managed
   resource.  Some tables may be implemented by a single monitor pro-
   cess; for others, the implementation may be distributed within the
   managed system with the resources being managed.

   As a practical matter, this means that the management infrastructure
   of the managed system must support different subagents taking respon-
   sibility for different rows of a single table.  This can be supported
   by Agentx [14] as well as other subagent protocols [15].

7. Security Considerations

   By making potentially sensitive information externally accessible,
   the capabilities supported by the MIB have the potential of becoming
   security problems.

   The capabilities supported by this MIB include several that may be of
   value to a security administrator.  These include the ability to mon-
   itor the level of usage of a given application, to verify licenses,
   and to check the integrity of application components.

8. Acknowledgements

   This document was produced by the Application MIB working group.

   The author gratefully acknowledges the comments and contributions of



Applmib Working Group       Expires June 1997           [Page 9]

Internet Draft         Application Management MIB       18 December 1996


   the following individuals:

             Carl Kalbfleisch
             John Saperia
             Cheryl Krupczak

9. Editors' Addresses

   Carl Kalbfleisch
   OnRamp Technologies, Inc.
   1950 Stemmons Frwy
   2026 INFOMART
   Dallas, TX 75207
   USA

   Phone: +1 214 672-7246
   Fax:   +1 214 672-7275

   E-Mail: cwk@onramp.net


   Cheryl Krupczak
   Empire Technologies, Inc.
   541 Tenth Street, NW Suite 169
   Atlanta, GA 30318

   Phone: +1 770 384-0184

   E-Mail: cheryl@empiretech.com


   Randy Presuhn
   BMC Software, Inc.
   PEER Networks Division
   1190 Saratoga Avenue
   San Jose, CA 95129
   USA

   Phone: +1 408 556-0720
   Fax:   +1 408 556-0735

   E-Mail: rpresuhn@bmc.com


   Jon Saperia
   BGS Systems, Inc.
   128 Technology Center
   Waltham, MA 02254



Applmib Working Group       Expires June 1997          [Page 10]

Internet Draft         Application Management MIB       18 December 1996


   USA

   Phone: +1 617 891-0000 ext 340

   E-Mail: saperia@networks.bgs.com

10. References

   [1]  Grillo, P., and S. Waldbusser, "Host Resources MIB", RFC 1514,
        September 1993.

   [2]  Freed, N., and S. Kille, "Network Services Monitoring MIB", RFC
        1565, January 1994.

   [3]  Freed, N., and S. Kille, "Mail Monitoring MIB", RFC 1566, January
        1994.

   [4]  Brower, D., Purvy, R., Daniel, A., Sinykin, M., and J. Smith,
        "Relational Database Management System (RDBMS) Management
        Information Base (MIB) using SMIv2", RFC 1697, August 1994.

   [5]  Case, J., McCloghrie, K., Rose, M., and S. Waldbusser, "Structure
        of Management Information for Version 2 of the Simple Network
        Management Protocol (SNMPv2)", RFC 1902, January 1996.

   [6]  Case, J., McCloghrie, K., Rose, M., and S. Waldbusser, "Textual
        Conventions for Version 2 of the Simple Network Management Protocol
        (SNMPv2)", RFC 1903, January 1996.

   [7]  Case, J., McCloghrie, K., Rose, M., and S. Waldbusser, "Conformance
        Statements for Version 2 of the Simple Network Management Protocol
        (SNMPv2)", RFC 1904, January 1996.

   [8]  McCloghrie, K. and A. Bierman, "Entity MIB", RFC 2037, October
        1996.

   [9]  C. Kalbfleisch, "Applicability of Standards Track MIBs to
        Management of World Wide Web Servers", RFC 2039, November 1996.

   [10] Yergeau, F., "UTF-8, a transformation format of Unicode and ISO
        10646", RFC 2044, October 1996.

   [11] Krupczak, C., Saperia, J., and R. Sturm, "Definitions of Managed
        Objects for Applications", <draft-ietf-applmib-sysapplmib-05.txt>,
        November 1996.

   [12] ITU-T Recommendation X.744 | ISO/IEC IS 10164-18:1996, Information
        Technology - Open Systems Interconnection - Systems Management:



Applmib Working Group       Expires June 1997          [Page 11]

Internet Draft         Application Management MIB       18 December 1996


        Software Management Function, 1996.

   [13] IEEE P1387.2, POSIX System Administration - Part 2: Software
        Administration.  (Draft)

   [14] Francisco, D., Daniele, M., and B. Wijnen, "Agent Extensibility
        (AgentX) Protocol", <draft-ietf-agentx-pro-01.txt>, November, 1995.

   [15] Rose, M.  "SNMP MUX Protocol and MIB", RFC 1227, May 1991.


11. List of Things Left To Be Done



        -    Put in real MIB definitions, verify compilability.



































Applmib Working Group       Expires June 1997          [Page 12]
