Network Working Group                                         Chen Wumao
Internet-Draft                                                    Huawei 
July 30, 2005
Expires: January 30, 2006 

    Extend IGMPv3 To Support Router Annoucing Information For Host
         <draft-chenwm-magma-igmp-router-info-00.txt>

Status of this Memo

   By submitting this Internet-Draft, each author represents that any
   applicable patent or other IPR claims of which he or she is aware
   have been or will be disclosed, and any of which he or she becomes
   aware will be disclosed, in accordance with Section 6 of BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on January 2006.

Copyright Notice

   Copyright (C) The Internet Society (2005).

Abstract

   IGMP is used by IPv4 system to report their multicast group
   memberships to multicast routers.
   
   This document adds support for router annoucing information, that
   is, the ability for a multicast router to annouce information about a
   group to host. For example, some hosts may send reports to join a
   group that do not exist, so the router would send some message to
   inform the hosts.










Chen Wumao              Expires January 30,2006                 [Page 1]

INTERNET-DRAFT    Extend IGMPv3 For Router Annoucing           July 2005

1.  Requirements notation

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [RFC2119].

2. Introduction

   The IGMP protocol (IGMPv1, IGMPv2, IGMPv3) is used by IPv4 hosts to 
   report their IP multicast group memberships to its neighboring 
   multicast routers. It specifies how an IPv4 host could join or leave
   multicast groups, and how an Multicast router use IGMP to learn which
   groups have members on each of its attached physical or logical 
   networks.
   
   It is possible that an multicast router can not forward some groups 
   to some of its attached networks. The reasons may be various. For 
   example, the group is not exist, or the attached network does not 
   have the right to access the group, or the bandwidth needed for the
   group is too high for the attached network to support. In these 
   scenarios, the multicast router had better sends some messages to 
   inform the reasons.
   
   This document specifies a new IGMP message that allows multicast
   routers annoucing information to hosts.

3. Meassage Formats

   The IGMP protocol (IGMPv1, IGMPv2, IGMPv3) has specified 5 types of
   IGMP messages, as following:

      Type Number (hex)        Message Name               
      -----------------        ------------               
                                                          
            0x11               Membership Query           
                                                          
            0x12               Version 1 Membership Report
            0x16               Version 2 Membership Report
            0x22               Version 3 Membership Report
                             
            0x17               Version 2 Leave Group

   This document discribes a new type of message:
         
             YY                Group Information
   (to be assigned by IANA)
         
   Similar to Membership Query Message, Group Informations are sent by
   multicast router, and have two sub-types:

        - General Information, used to annouce informations about the
          router to its attached network. Such informations are needed
          to learn by any member of any group.

Chen Wumao              Expires January 30,2006                 [Page 2]

INTERNET-DRAFT    Extend IGMPv3 For Router Annoucing           July 2005

        - Group-Specific Information, used to annouce informations 
          about a specific group to an attached network. Such 
          informations are needed to learn by any member of the group.

   These two messages are differentiated by the Group Address, as 
   described in section 3.3 . In this document Group Information 
   messages are referred to simply as "Information".

   Informations have the following format:
   
       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |  Type = YY    |     Resv      |           Checksum            |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                         Group Address                         |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |            Length             |     Notes                     |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+                              -+
      |                                                               |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

3.1. Resv (Reserved)

   The Resv field is set to zero on transmission, and ignored on 
   reception.
 
3.2. Checksum

   The Checksum field is the 16-bit one's complement of the one's 
   complement sum of the whole IGMP message (the entire IP payload). For
   computing the checksum, the Checksum field is set to zero.  When 
   receiving packets, the checksum MUST be verified before processing a
   packet. [RFC-1071]

3.3. Group Address

   The Group Address field is set to all zero when sending a General 
   Information, and set to the IP multicast address being informing when
   sending a Group-Specific Information.

3.4. Length

   The Length field is the length of the Notes field, measured in 
   octets. It MUST NOT be set to zero on transmission. Length with zero
   value indicates that the message MUST be silently discarded on 
   reception.

3.5. Notes

   The Notes field is used to pass information, and text based.



Chen Wumao              Expires January 30,2006                 [Page 3]

INTERNET-DRAFT    Extend IGMPv3 For Router Annoucing           July 2005

3.6. Destination IP Addresses

   General Informations are sent with an IP destination address of
   224.0.0.1, the all-systems multicast address.  Group-Specific 
   Informations are sent with an IP destination address equal to the 
   multicast address of interest. 

4. Requirement for Multicast Routers

   Only the Querier need to send Informations, the other multicast 
   routers SHOULD keep silent. Routers SHOULD NOT forward Informations.

5. Security Considerations

   Information message will not change the status of Querier, so a 
   forged Information will not creat any security concerns to multicast
   routers.
   
   A forged Informatin message sent to a group may pass some fake 
   information to the hosts which are members of the group. This cause
   no protocol problems. 

6. IANA Considerations

   This document introduces a new IGMP messages, this message requires a
   new IGMP Type value.  This document requests IANA to assign a new 
   IGMP Type values to IGMP Protocol:

    +-----------+-----------------+--------------------------------+
    | IGMP Type |     Section     |          Message Name          |
    +-----------+-----------------+--------------------------------+
    |     YY    |  Section 3      | Group Information Message      |
    +-----------+-----------------+--------------------------------+

7. References

   [RFC-1112]   Deering, S., "Host Extensions for IP Multicasting", STD
                5, RFC 1112, August 1989.

   [RFC-2113]   Katz, D., "IP Router Alert Option," RFC 2113, February,
                1997.

   [RFC-2119]   Bradner, S., "Key words for use in RFCs to Indicate
                Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC-2236]   Fenner, W., "Internet Group Management Protocol, Version
                2", RFC 2236, November 1997.
             
   [RFC-3376]   Cain, B., Deering, S., Fenner, B., Kouvelas, I., and
                Thyagarajan, A., "Internet Group Management Protocol, 
                Version 3," RFC3376, October 2002



Chen Wumao              Expires January 30,2006                 [Page 4]

INTERNET-DRAFT    Extend IGMPv3 For Router Annoucing           July 2005

Author's Address

   Chen Wumao
   Huawei Industrial Base
   Bantian Longgang
   Shenzhen 518129 P.R.C 
   EMail:  Chenwm@huawei.com

Intellectual Property Statement

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in BCP 78 and BCP 79.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   http://www.ietf.org/ipr.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.

Copyright Statement

   Copyright (C) The Internet Society (2005).  This document is subject
   to the rights, licenses and restrictions contained in BCP 78, and
   except as set forth therein, the authors retain all their rights.

Disclaimer of Validity

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET
   ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED,
   INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE
   INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.







Chen Wumao              Expires January 30,2006                 [Page 5]

