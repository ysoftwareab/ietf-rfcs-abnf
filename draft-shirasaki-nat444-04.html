<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard%20http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>NAT444</title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";3
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction">
<link href="#rfc.section.2" rel="Chapter" title="2 Definition of NAT444 Model">
<link href="#rfc.section.3" rel="Chapter" title="3 Behavior of NAT444 Model">
<link href="#rfc.section.4" rel="Chapter" title="4 Pros and Cons of NAT444 Model">
<link href="#rfc.section.4.1" rel="Chapter" title="4.1 Pros of NAT444 Model">
<link href="#rfc.section.4.2" rel="Chapter" title="4.2 Cons of NAT444 Model">
<link href="#rfc.section.5" rel="Chapter" title="5 Acknowledgements">
<link href="#rfc.section.6" rel="Chapter" title="6 IANA Considerations">
<link href="#rfc.section.7" rel="Chapter" title="7 Security Considerations">
<link href="#rfc.references" rel="Chapter" title="8 References">
<link href="#rfc.references.1" rel="Chapter" title="8.1 Normative References">
<link href="#rfc.references.2" rel="Chapter" title="8.2 Informative References">
<link href="#rfc.appendix.Appendix%20A" rel="Chapter" title="Appendix A Example IPv6 Transition Scenario">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content=
  "http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.539, 2011-01-02 17:13:00, XSLT vendor: SAXON 6.5.5 from Michael Kay http://saxon.sf.net/" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />
  <meta name="dct.creator" content="Doe, J." />
  <meta name="dct.identifier" content="urn:ietf:id:draft-sample-input-00" />
  <meta name="dct.issued" scheme="ISO8601" content="2010-12" />
  
  <meta name="dct.abstract" content="This document describes one of the network models that are designed for smooth transition to IPv6.  It is called NAT444 model. NAT444 model is composed of IPv6, and IPv4 with Large Scale NAT (LSN)." />
  <meta name="description" content="This document describes one of the network models that are designed for smooth transition to IPv6.  It is called NAT444 model. NAT444 model is composed of IPv6, and IPv4 with Large Scale NAT (LSN)." />
  <meta name="keywords" content="Large-Scale,NAT" />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">Internet Engineering Task Force</td>
<td class="right">I. Yamagata</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right">Y. Shirasaki</td>
</tr>
<tr>
<td class="left">Intended status: Informational</td>
<td class="right">NTT Communications</td>
</tr>
<tr>
<td class="left">Expires: January 12, 2012</td>
<td class="right">A. Nakagawa</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">Japan Internet Exchange (JPIX)</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">J. Yamaguchi</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">IIJ</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">H. Ashida</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">iTSCOM</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">July 11, 2011</td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">NAT444<br />
  <span class="filename">draft-shirasaki-nat444-04</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>This document describes one of the network models that are designed for smooth transition to IPv6.  It is called NAT444 model. NAT444 model is composed of IPv6, and IPv4 with Large Scale NAT (LSN).</p>
<p>NAT444 is the only scheme not to require replacing Customer Premises Equipment (CPE) even if IPv4 address exhausted.  But it must be noted that NAT444 has serious restrictions i.e. it limits the number of sessions per CPE so that rich applications such as AJAX and RSS feed cannot work well.</p>
<p>Therefore, IPv6 which is free from such a difficulty has to be introduced into the network at the same time.  In other words, NAT444 is just a tool to make IPv6 transition easy to be swallowed.  It is designed for the days IPv4 and IPv6 co-existence.</p>
<h1 id="rfc.status"><a href="#rfc.status">Status of this Memo</a></h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet- Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on January 12, 2012.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2011 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a>
</li>
<li>2.   <a href="#rfc.section.2">Definition of NAT444 Model</a>
</li>
<li>3.   <a href="#rfc.section.3">Behavior of NAT444 Model</a>
</li>
<li>4.   <a href="#rfc.section.4">Pros and Cons of NAT444 Model</a>
</li>
<li>4.1.   <a href="#rfc.section.4.1">Pros of NAT444 Model</a>
</li>
<li>4.2.   <a href="#rfc.section.4.2">Cons of NAT444 Model</a>
</li>
<li>5.   <a href="#rfc.section.5">Acknowledgements</a>
</li>
<li>6.   <a href="#rfc.section.6">IANA Considerations</a>
</li>
<li>7.   <a href="#rfc.section.7">Security Considerations</a>
</li>
<li>8.   <a href="#rfc.references">References</a>
</li>
<li>8.1.   <a href="#rfc.references.1">Normative References</a>
</li>
<li>8.2.   <a href="#rfc.references.2">Informative References</a>
</li>
<li>Appendix A.   <a href="#rfc.appendix.Appendix%20A">Example IPv6 Transition Scenario</a>
</li>
<li><a href="#rfc.authors">Authors' Addresses</a>
</li>


  </ul>

  <h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> Introduction</h1>
<p id="rfc.section.1.p.1">The only permanent solution of the IPv4 address exhaustion is to deploy IPv6. Now, just before the exhaustion, it's time to make a transition to IPv6.</p>
<p id="rfc.section.1.p.2">After the exhaustion, unless ISP takes any action, end users will not be able to get IPv4 address.</p>
<p id="rfc.section.1.p.3">The servers that have only IPv4 address will continue to exist on the Internet after the IPv4 address exhaustion.  In this situation, IPv6 only hosts cannot reach IPv4 only hosts.</p>
<p id="rfc.section.1.p.4">This document explains NAT444 model that bridges the gap between the coming IPv6 Internet and the present IPv4 Internet.</p>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> Definition of NAT444 Model</h1>
<p id="rfc.section.2.p.1">NAT444 Model is a network model that uses two Network Address and Port Translators (NAPTs) with three types of IPv4 address blocks.</p>
<p id="rfc.section.2.p.2">The first NAPT is in CPE, and the second NAPT is in <a href="#I-D.ietf-behave-lsn-requirements">Large Scale NAT (LSN)</a> <cite title="NONE">[I-D.ietf-behave-lsn-requirements]</cite>.  LSN is supposed to be installed in the ISP's network.</p>
<div id="#rfc.figure.1"></div>
<pre>
    (The IPv4 Internet)    (The IPv6 Internet)
             |                       |
             +---------+             |
IPv4 Global Address    |             |
              +--------+--------+    |
              |       LSN       |    |
              +--------+--------+    |
                  IPv4 |             | IPv6
                       +-------------+
            Dual Stack |
       +---------------+----------------+
       |  IPv4 NAT/IPv6 Dual Stack CPE  |
       +---------------+----------------+
IPv4 Private Address / |
IPv6 Dual Stack        |
           +-----------+-------------+
           |IPv4/IPv6 Dual Stack host|
           +-------------------------+
</pre>
<p id="rfc.section.2.p.3">The first IPv4 address block is <a href="#RFC1918">Private Address</a> <cite title="NONE">[RFC1918]</cite> inside CPE.  The second one is an IPv4 Address block between CPEs and LSN.  The third one is IPv4 Global Addresses that is outside LSN.  The ISPs using NAT444 provide IPv6 connectivity by dual stack model.</p>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> <a href="#behavior" id="behavior">Behavior of NAT444 Model</a>
</h1>
<p id="rfc.section.3.p.1">The IPv6 packets from the host reach the IPv6 Internet without using NAT functionality.</p>
<p id="rfc.section.3.p.2">The following figure shows the behavior of the IPv4 packet from the host to the IPv4 server via two NATs. The first NAT in CPE overwrites the Source IP Address and Source Port from 10.0.0.2:tt to w.w.w.w:uu. Then the second NAT in LSN overwrites them from w.w.w.w:uu to y.y.y.y:vv.  Destination IP Address and Port are not overwritten.</p>
<div id="#rfc.figure.2"></div>
<pre>
             +-------------+
(Port=80)    | IPv4 Server |  ^
   x.x.x.x-&gt; +------+------+  :
                    |         :
IPv4 Global Address |         :
                    |         :
           (The IPv4 Internet):(Dst=x.x.x.x:80/Src=y.y.y.y:vv)
                    |         :
IPv4 Global Address |         :
                    |         :
    y.y.y.y-&gt;  +----+----+    :
     (Port=vv) |   LSN   |    ^
    z.z.z.z-&gt;  +----+----+    :
                    |         :
       IPv4 Address |         :(Dst=x.x.x.x:80/Src=w.w.w.w:uu)
                    |         :
  w.w.w.w-&gt; +-------+-------+ :
  (Port=uu) | IPv4 NAT CPE  | ^
 10.0.0.1-&gt; +-------+-------+ :
                    |         :
IPv4 Private Address|         :
                    |         :
   10.0.0.2-&gt;  +----+----+    :(Dst=x.x.x.x:80/Src=10.0.0.2:tt)
     (Port=tt) |IPv4 Host|
               +---------+
</pre>
<p id="rfc.section.3.p.3">The following figure explains the behavior of returning IPv4 packet via two NATs. The first NAT in LSN overwrites the Destination IP Address and Port Number from y.y.y.y:vv to w.w.w.w:uu.  Then the second NAT in CPE overwrites them from w.w.w.w:u to 10.0.0.2:tt.</p>
<div id="#rfc.figure.3"></div>
<pre>
              +-------------+
    (Port=80) | IPv4 Server |  :
    x.x.x.x-&gt; +------+------+  :
                     |         :
 IPv4 Global Address |         :
                     |         :
            (The IPv4 Internet):(Dst=y.y.y.y:vv/Src=x.x.x.x:80)
                     |         :
IPv4 Global Address  |         :
                     |         :
      y.y.y.y-&gt; +----+----+    :
      (Port=vv) |   LSN   |    v
      z.z.z.z-&gt; +----+----+    :
                     |         :
       IPv4 Address  |         :(Dst=w.w.w.w:uu/Src=x.x.x.x:80)
                     |         :
   w.w.w.w-&gt; +-------+-------+ :
   (Port=uu) | IPv4 NAT CPE  | v
  10.0.0.1-&gt; +-------+-------+ :
                     |         :
IPv4 Private Address |         :(Dst=10.0.0.2:tt/Src=x.x.x.x:80)
                     |         :
     10.0.0.2-&gt; +----+----+    :
      (Port=tt) |IPv4 Host|    v
                +---------+
</pre>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> <a href="#proscons" id="proscons">Pros and Cons of NAT444 Model</a>
</h1>
<h1 id="rfc.section.4.1">
<a href="#rfc.section.4.1">4.1.</a> <a href="#pros" id="pros">Pros of NAT444 Model</a>
</h1>
<p id="rfc.section.4.1.p.1">This network model has following advantages.</p>
<p id="rfc.section.4.1.p.2">- This is the only network model that doesn't require replacing CPEs those are owned by customers.<br> - This network model is composed of the present technology.<br> - This network model doesn't require address family translation.<br> - This network model doesn't require DNS rewriting.<br> - This network model doesn't require additional fragment for the packets because it doesn't use tunneling technology.</p>
<h1 id="rfc.section.4.2">
<a href="#rfc.section.4.2">4.2.</a> <a href="#cons" id="cons">Cons of NAT444 Model</a>
</h1>
<p id="rfc.section.4.2.p.1">This network model has some technical restrictions.</p>
<p id="rfc.section.4.2.p.2">- Some application such as SIP requires special treatment, because IP address is written in the payload of the packet.  Special treatment means application itself aware double NAPT or both of two NAPTs support inspecting and rewriting the packets.  <br> - Because both IPv4 route and IPv6 route exist, it doubles the number of IGP route inside the LSN.  <br> - UPnP doesn't work with double NAPTs.</p>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> <a href="#Acknowledgements" id="Acknowledgements">Acknowledgements</a>
</h1>
<p id="rfc.section.5.p.1">Thanks for the input and review by Shin Miyakawa, Shirou Niinobe, Takeshi Tomochika, Tomohiro Fujisaki, Dai Nishino, JP address community members, AP address community members and JPNIC members.</p>
<h1 id="rfc.section.6">
<a href="#rfc.section.6">6.</a> <a href="#IANA" id="IANA">IANA Considerations</a>
</h1>
<p id="rfc.section.6.p.1">There are no IANA considerations.</p>
<h1 id="rfc.section.7">
<a href="#rfc.section.7">7.</a> <a href="#Security" id="Security">Security Considerations</a>
</h1>
<p id="rfc.section.7.p.1">Each customer inside a LSN looks using the same Global Address from outside an ISP.  In case of incidents, the ISP must have the function to trace back the record of each customer's access without using	only IP address.</p>
<p id="rfc.section.7.p.2">If a Global Address of the LSN is listed on the blacklist, other customers who share the same address could be affected.  </p>
<h1 id="rfc.references">
<a href="#rfc.references">8.</a> References</h1>
<h1 id="rfc.references.1">
<a href="#rfc.references.1">8.1.</a> Normative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC1918">[RFC1918]</b></td>
<td class="top">
<a href="mailto:yakov@cisco.com" title="Cisco systems">Rekhter, Y.</a>, <a href="mailto:rgm3@is.chrysler.com" title="Chrysler Corporation">Moskowitz, R.</a>, <a href="mailto:Daniel.Karrenberg@ripe.net" title="RIPE Network Coordination Centre">Karrenberg, D.</a>, <a href="mailto:GeertJan.deGroot@ripe.net" title="RIPE Network Coordination Centre">Groot, G.</a> and <a href="mailto:lear@sgi.com" title="Silicon Graphics, Inc.">E. Lear</a>, "<a href="http://tools.ietf.org/html/rfc1918">Address Allocation for Private Internets</a>", BCP 5, RFC 1918, February 1996.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4925">[RFC4925]</b></td>
<td class="top">
<a>Li, X.</a>, <a>Dawkins, S.</a>, <a>Ward, D.</a> and <a>A. Durand</a>, "<a href="http://tools.ietf.org/html/rfc4925">Softwire Problem Statement</a>", RFC 4925, July 2007.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.ietf-behave-lsn-requirements">[I-D.ietf-behave-lsn-requirements]</b></td>
<td class="top">
<a>Perreault, S</a>, <a>Yamagata, I</a>, <a>Miyakawa, S</a>, <a>Nakagawa, A</a> and <a>H Ashida</a>, "<a href="http://tools.ietf.org/html/draft-ietf-behave-lsn-requirements-04">Common requirements for Carrier Grade NAT (CGN)</a>", Internet-Draft draft-ietf-behave-lsn-requirements-04, October 2011.</td>
</tr>
</tbody></table>
<h1 id="rfc.references.2">
<a href="#rfc.references.2">8.2.</a> Informative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="I-D.shirasaki-isp-shared-addr">[I-D.shirasaki-isp-shared-addr]</b></td>
<td class="top">
<a>Yamagata, I</a>, <a>Miyakawa, S</a>, <a>Nakagawa, A</a>, <a>Yamaguchi, J</a> and <a>H Ashida</a>, "<a href="http://tools.ietf.org/html/draft-shirasaki-isp-shared-addr-06">ISP Shared Address</a>", Internet-Draft draft-shirasaki-isp-shared-addr-06, July 2011.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.shirasaki-nat444-isp-shared-addr">[I-D.shirasaki-nat444-isp-shared-addr]</b></td>
<td class="top">
<a>Yamaguchi, J</a>, <a>Shirasaki, Y</a>, <a>Miyakawa, S</a>, <a>Nakagawa, A</a> and <a>H Ashida</a>, "<a href="http://tools.ietf.org/html/draft-shirasaki-nat444-isp-shared-addr-06">NAT444 addressing models</a>", Internet-Draft draft-shirasaki-nat444-isp-shared-addr-06, July 2011.</td>
</tr>
</tbody></table>
<h1 id="rfc.appendix.Appendix A">
<a href="#rfc.appendix.Appendix%20A">Appendix A.</a> <a href="#transition" id="transition">Example IPv6 Transition Scenario</a>
</h1>
<p id="rfc.section.Appendix A.p.1">The steps of IPv6 transition are as follows.</p>
<p id="rfc.section.Appendix A.p.2">Step 1: Enabling softwire client in host</p>
<p id="rfc.section.Appendix A.p.3">ISP provides IPv6 connectivity to customers with <a href="#RFC4925">softwire</a> <cite title="NONE">[RFC4925]</cite>. ISP installs LSN and softwire concentrator in its network. A softwire client in host connects to the IPv6 internet via ISP's concentrator.  ISP can use existing IPv4 equipments. Customers can just use existing CPE.</p>
<div id="#rfc.figure.4"></div>
<pre>
  (The IPv4 Internet)  (The IPv6 Internet)
           |                    | IPv6
           |        +-----------+-----------+
           |        | Softwire Concentrator |
           |        +-----------+-----------+
           +---------+----------+  ^
 IPv4 Global Address |             :
          +----------+----------+  :
          |         LSN         |  :
          +----------+----------+  :
    Any IPv4 Address |             : IPv6 over IPv4 Softwire
       (ISP Network) |             : (e.g. IPv6 over IPv4 L2TP)
          +----------+----------+  :
          |  IPv4 NAT only CPE  |  :
          +----------+----------+  :
IPv4 Private Address |             v
     +---------------+-----------------+
     |IPv4/IPv6 Softwire Client in host|
     +---------------------------------+
</pre>
<p id="rfc.section.Appendix A.p.4">Step 2: Enabling softwire client in CPE</p>
<p id="rfc.section.Appendix A.p.5">A customer enables softwire client in CPE. A softwire client in CPE connects to the IPv6 internet via ISP's concentrator. A Customer's network is now dual stack.</p>
<div id="#rfc.figure.5"></div>
<pre>
    (The IPv4 Internet)    (The IPv6 Internet)
             |                      | IPv6
             |           +----------+------------+
             |           | Softwire Concentrator | 
             |           +----------+------------+
             +---------+------------+  ^
IPv4 Global Address    |               :
            +----------+------------+  : 
            |         LSN           |  : IPv6 over IPv4 Softwire
            +----------+------------+  : (e.g. IPv6 over IPv4 L2TP)
      Any IPv4 Address |               : 
        (ISP Network)  |               v
       +---------------+--------------------+ 
       |IPv4 NAT/IPv6 Softwire client in CPE| 
       +---------------+--------------------+ 
IPv4 Private Address / |
IPv6 Dual Stack        |
           +-----------+-------------+
           |IPv4/IPv6 Dual Stack host|
           +-------------------------+
</pre>
<p id="rfc.section.Appendix A.p.6">Step 3: Moving on to dual stack</p>
<p id="rfc.section.Appendix A.p.7">ISP provides dual stack access to CPE. A CPE uplink is now dual stack.</p>
<div id="#rfc.figure.6"></div>
<pre>
    (The IPv4 Internet)    (The IPv6 Internet)
             |                       | 
             +---------+             |
IPv4 Global Address    |             |
              +--------+--------+    |
              |       LSN       |    | IPv6 
              +--------+--------+    |
    Any IPv4 Address / |             |
     IPv6 Dual Stack   +-------------+
        (ISP Network)  |
       +---------------+----------------+ 
       |  IPv4 NAT/IPv6 Dual Stack CPE  | 
       +---------------+----------------+ 
IPv4 Private Address / |
IPv6 Dual Stack        |
           +-----------+-------------+
           |IPv4/IPv6 Dual Stack host|
           +-------------------------+
</pre>
<p id="rfc.section.Appendix A.p.8">Step 4: Moving on to pure IPv6</p>
<p id="rfc.section.Appendix A.p.9">IPv6 transition completes.</p>
<div id="#rfc.figure.7"></div>
<pre>
(The IPv6 Internet)
         | 
    IPv6 | 
+--------+----------+ 
|     IPv6 CPE      | 
+--------+----------+ 
    IPv6 |
+--------+----------+
|     IPv6 host     |
+-------------------+
</pre>
<h1 id="rfc.authors"><a href="#rfc.authors">Authors' Addresses</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Ikuhei Yamagata</span> 
	  <span class="n hidden">
		<span class="family-name">Yamagata</span>
	  </span>
	</span>
	<span class="org vcardline">NTT Communications Corporation</span>
	<span class="adr">
	  <span>Granpark Tower 17F, 3-4-1 Shibaura, Minato-ku</span>

	  <span class="vcardline">
		<span class="locality">Tokyo</span>,  
		<span class="region"></span>
		<span class="code">108-8118</span>
	  </span>
	  <span class="country-name vcardline">Japan</span>
	</span>
	<span class="vcardline">Phone: +81 3 6733 8671</span>

<span class="vcardline">EMail: <a href="mailto:ikuhei@nttv6.jp">ikuhei@nttv6.jp</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Yasuhiro Shirasaki</span> 
	  <span class="n hidden">
		<span class="family-name">Shirasaki</span>
	  </span>
	</span>
	<span class="org vcardline">NTT Communications Corporation</span>
	<span class="adr">
	  <span>NTT Hibiya Bldg. 7F, 1-1-6 Uchisaiwai-cho, Chiyoda-ku</span>

	  <span class="vcardline">
		<span class="locality">Tokyo</span>,  
		<span class="region"></span>
		<span class="code">100-8019</span>
	  </span>
	  <span class="country-name vcardline">Japan</span>
	</span>
	<span class="vcardline">Phone: +81 3 6700 8530</span>

<span class="vcardline">EMail: <a href="mailto:yasuhiro@nttv6.jp">yasuhiro@nttv6.jp</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Akira Nakagawa</span> 
	  <span class="n hidden">
		<span class="family-name">Nakagawa</span>
	  </span>
	</span>
	<span class="org vcardline">Japan Internet Exchange Co., Ltd. (JPIX)</span>
	<span class="adr">
	  <span>Otemachi Building 21F, 1-8-1 Otemachi, Chiyoda-ku</span>

	  <span class="vcardline">
		<span class="locality">Tokyo</span>,  
		<span class="region"></span>
		<span class="code">100-0004</span>
	  </span>
	  <span class="country-name vcardline">Japan</span>
	</span>
	<span class="vcardline">Phone: +81 90 9242 2717</span>

<span class="vcardline">EMail: <a href="mailto:a-nakagawa@jpix.ad.jp">a-nakagawa@jpix.ad.jp</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Jiro Yamaguchi</span> 
	  <span class="n hidden">
		<span class="family-name">Yamaguchi</span>
	  </span>
	</span>
	<span class="org vcardline">Internet Initiative Japan Inc.</span>
	<span class="adr">
	  <span>Kakyoin Square Bldg., 15F, 1-1-20 Kakyoin, Aoba-ku</span>

	  <span class="vcardline">
		<span class="locality">Sendai</span>,  
		<span class="region"></span>
		<span class="code">980-0013</span>
	  </span>
	  <span class="country-name vcardline">Japan</span>
	</span>
	<span class="vcardline">Phone: +81 22 216 5650</span>

<span class="vcardline">EMail: <a href="mailto:jiro-y@iij.ad.jp">jiro-y@iij.ad.jp</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Hiroyuki Ashida</span> 
	  <span class="n hidden">
		<span class="family-name">Ashida</span>
	  </span>
	</span>
	<span class="org vcardline">its communications Inc.</span>
	<span class="adr">
	  <span>3-5-7 Hisamoto Takatsu-ku Kawasaki-shi</span>

	  <span class="vcardline">
		<span class="locality">Kanagawa</span>,  
		<span class="region"></span>
		<span class="code">213-0011</span>
	  </span>
	  <span class="country-name vcardline">Japan</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:ashida@itscom.ad.jp">ashida@itscom.ad.jp</a></span>

  </address>
</div>

</body>
</html>