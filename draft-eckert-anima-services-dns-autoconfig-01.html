<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Autoconfiguration of infrastructure services in ACP networks via DNS-SD over GRASP</title>
<meta content="Toerless Eckert" name="author">
<meta content="Mohamed Boucadair" name="author">
<meta content="Christian Jacquenet" name="author">
<meta content="Michael H. Behringer" name="author">
<meta content="
       This document defines standards that enable autoconfiguration of
fundamental centralized or decentralized network infrastructure services on ACP network nodes via GRASP. These are primarily the services required for initial bootstrapping of a network but will persist through the lifecycles of the network.
These services include secure remote access to zero-touch bootstrapped ANI devices via SSH/Netconf with Radius/Diameter authentication and authorization and provides lifecycle autoconfiguration for other crucial services such as syslog, NTP (clock synchronization) and DNS for operational purposes. 
    " name="description">
<meta content="xml2rfc 3.12.3" name="generator">
<meta content="draft-eckert-anima-services-dns-autoconfig-01" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.12.3
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.8.0
    MarkupSafe 2.0.1
    pycountry 22.1.10
    pyflakes 2.4.0
    PyYAML 6.0
    requests 2.27.1
    setuptools 59.6.0
    six 1.16.0
    WeasyPrint 52.5
-->
<link href="/tmp/draft-eckert-anima-services-dns-autoconfig-01-whfe7048.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">ACP services autoconfig</td>
<td class="right">March 2022</td>
</tr></thead>
<tfoot><tr>
<td class="left">Eckert, et al.</td>
<td class="center">Expires 5 September 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">ANIMA</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-eckert-anima-services-dns-autoconfig-01</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2022-03-04" class="published">4 March 2022</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-09-05">5 September 2022</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">T.T.E. Eckert</div>
<div class="org">Futurewei</div>
</div>
<div class="author">
      <div class="author-name">M. Boucadair</div>
<div class="org">Orange</div>
</div>
<div class="author">
      <div class="author-name">C. Jacquenet</div>
<div class="org">Orange</div>
</div>
<div class="author">
      <div class="author-name">M. Behringer</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Autoconfiguration of infrastructure services in ACP networks via DNS-SD over GRASP</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This document defines standards that enable autoconfiguration of
fundamental centralized or decentralized network infrastructure services on ACP network nodes via GRASP. These are primarily the services required for initial bootstrapping of a network but will persist through the lifecycles of the network.
These services include secure remote access to zero-touch bootstrapped ANI devices via SSH/Netconf with Radius/Diameter authentication and authorization and provides lifecycle autoconfiguration for other crucial services such as syslog, NTP (clock synchronization) and DNS for operational purposes.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo-2">
<a href="#name-status-of-this-memo-2" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 5 September 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice-2">
<a href="#name-copyright-notice-2" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2022 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents-2">
<a href="#name-table-of-contents-2" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction-2" class="xref">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="xref">1.1</a>.  <a href="#name-overview" class="xref">Overview</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.2">
                <p id="section-toc.1-1.1.2.2.1" class="keepWithNext"><a href="#section-1.2" class="xref">1.2</a>.  <a href="#name-acp-nodes-supporting-servic" class="xref">ACP nodes supporting services autoconfiguration</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.3">
                <p id="section-toc.1-1.1.2.3.1" class="keepWithNext"><a href="#section-1.3" class="xref">1.3</a>.  <a href="#name-use-of-acp-grasp-for-autoco" class="xref">Use of ACP GRASP for autoconfiguration</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.4">
                <p id="section-toc.1-1.1.2.4.1"><a href="#section-1.4" class="xref">1.4</a>.  <a href="#name-grasp-parameters" class="xref">GRASP parameters</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="xref">2</a>.  <a href="#name-services" class="xref">Services</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1"><a href="#section-2.1" class="xref">2.1</a>.  <a href="#name-syslog" class="xref">Syslog</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2">
                <p id="section-toc.1-1.2.2.2.1"><a href="#section-2.2" class="xref">2.2</a>.  <a href="#name-ntp" class="xref">NTP</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3">
                <p id="section-toc.1-1.2.2.3.1"><a href="#section-2.3" class="xref">2.3</a>.  <a href="#name-dns-for-operations" class="xref">DNS for operations</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.4">
                <p id="section-toc.1-1.2.2.4.1"><a href="#section-2.4" class="xref">2.4</a>.  <a href="#name-radius" class="xref">Radius</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.5">
                <p id="section-toc.1-1.2.2.5.1"><a href="#section-2.5" class="xref">2.5</a>.  <a href="#name-diameter" class="xref">Diameter</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.6">
                <p id="section-toc.1-1.2.2.6.1"><a href="#section-2.6" class="xref">2.6</a>.  <a href="#name-ssh-server" class="xref">SSH server</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-security-considerations-2" class="xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-acknowledgments" class="xref">Acknowledgments</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-change-log-rfc-editor-pleas" class="xref">Change log [RFC Editor: Please remove]</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-references-2" class="xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="xref">6.1</a>.  <a href="#name-normative-references-2" class="xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="xref">6.2</a>.  <a href="#name-informative-references-2" class="xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#appendix-A" class="xref"></a><a href="#name-authors-addresses-2" class="xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="intro">
<section id="section-1">
      <h2 id="name-introduction-2">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction-2" class="section-name selfRef">Introduction</a>
      </h2>
<div id="overview">
<section id="section-1.1">
        <h3 id="name-overview">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-overview" class="section-name selfRef">Overview</a>
        </h3>
<p id="section-1.1-1">This document defines to support the autoconfiguration of Autonomic Control Plane
  (ACP, <span>[<a href="#RFC8994" class="xref">RFC8994</a>]</span>) nodes for fundamental decentralized network services via DNS-SD
  GRASP, utilizing a new proposal mapping of DNS-SD (<span>[<a href="#RFC6763" class="xref">RFC6763</a>]</span>) onto GRASP
  as its hop-by-hop multicast transport and encoding of messages.<a href="#section-1.1-1" class="pilcrow">¶</a></p>
<p id="section-1.1-2">One key purpose of this autoconfiguration is the seamless step from zero-touch bootstrap
   in ANI devices over to a securely remotely manageable ACP node.<a href="#section-1.1-2" class="pilcrow">¶</a></p>
<p id="section-1.1-3">Bootstrapping ANI devices via BRSKI into a running ACP can be seen as so-called "Day-0"
   bootstrap. If devices do not have BRSKI, then this "Day-0" may include pre-staging of devices
   with the required ACP domain credentials. The mechanisms described in this document then
   start with what maybe could be called "Day-1" bootstrap: Auto-configuring the required
   functions for remote, secure access to ANI/ACP devices.<a href="#section-1.1-3" class="pilcrow">¶</a></p>
<p id="section-1.1-4">The services identified to be required for "Day-1" start with 
   bootstrapping NTP clock synchronization across ACP/ANI nodes sufficient to validate certificates
   used across the ACP, establishment of user/role based authentication via Radius or diameter,
   autoconfiguration of the required remote-access methods to remotely access ACP/ANI nodes,
   SSH and NetConf with user/role based authentication. Last, but not least, in the absence
   of better registration mechanisms, syslog, which is also proposed to be autoconfigured
   via the mechanisms of this document can also serve as a "Day-1" mechanism to inform
   other sysems about the status of ACP/ANI devices.<a href="#section-1.1-4" class="pilcrow">¶</a></p>
<p id="section-1.1-5">All autoconfiguration provided for Day-1 stays valuable and continues to operate through the
   lifetime of the ANI/ACP devices, so called "Day-N" services. This allows especially to
   change decentralized servers such as diameter/radius/NTP/syslog servers in case of failures,
   load-balancing or when moving devices to different locations in the network where better
   local server instances should be used.<a href="#section-1.1-5" class="pilcrow">¶</a></p>
<p id="section-1.1-6"><span>[<a href="#RFC8368" class="xref">RFC8368</a>]</span> was written on the simple assumption that all server
   instances for services described in this document, NTP, Radius/Diameter, Syslog and so on
   are located in a so called 'Network Operations Center'. This was at the writing of
   <span>[<a href="#RFC8368" class="xref">RFC8368</a>]</span> how this was done and called in various, mostly Enterprise networks,
   but is today not necessarily a good way to capture all possible deployment options.
   For example, server instances can today with distributed Point of Presence (POP) and
   edge data-centers much easier decentralized for resilience, performance and cost.
   Therefore, this document avoids limiting its applicability to just one "NOC" deployment
   option.<a href="#section-1.1-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="autoconfig">
<section id="section-1.2">
        <h3 id="name-acp-nodes-supporting-servic">
<a href="#section-1.2" class="section-number selfRef">1.2. </a><a href="#name-acp-nodes-supporting-servic" class="section-name selfRef">ACP nodes supporting services autoconfiguration</a>
        </h3>
<p id="section-1.2-1">This document introduces the term ACPna nodes to indicate nodes supporting ACP that
    also support the requirements described in this document: ACP (n)oc (a)utoconfigurable.<a href="#section-1.2-1" class="pilcrow">¶</a></p>
<p id="section-1.2-2">If an ACPna node supports zero-touch bootstrap of the ACP where no configuration
    is possible before the ACP is enabled, then the services autoconfiguration features 
    described in this document SHOULD be enabled by default on such an ACPna node after this
    zero-touch bootstrap, because the autoconfiguration of these services can
    be the only method for the ACPna node to become operationally accessible from 
    OAM systems so that it can further be configured. ANI nodes are nodes supporting ACP and
    BRSKI (<span>[<a href="#RFC8995" class="xref">RFC8995</a>]</span>). BRSKI bootstrap
    is an instance of such a zero-touch bootstrap requiring auto-enablement of
    autoconfiguration after zero-toch bootstrap.<a href="#section-1.2-2" class="pilcrow">¶</a></p>
<p id="section-1.2-3">If an ACPna node was not zero-touch bootstrapped, then autoconfiguration
    SHOULD be enabled whenever ACP is enabled but may be separately configurable.<a href="#section-1.2-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="acp-grasp">
<section id="section-1.3">
        <h3 id="name-use-of-acp-grasp-for-autoco">
<a href="#section-1.3" class="section-number selfRef">1.3. </a><a href="#name-use-of-acp-grasp-for-autoco" class="section-name selfRef">Use of ACP GRASP for autoconfiguration</a>
        </h3>
<p id="section-1.3-1">Autoconfiguration of ACNna services utilizes the ACP instance of GRASP,
    (<span>[<a href="#RFC8990" class="xref">RFC8990</a>]</span> as defined in <span>[<a href="#RFC8994" class="xref">RFC8994</a>]</span>. It leverages and
    extends the GRASP objective definitions of <span>[<a href="#I-D.eckert-anima-grasp-dnssd" class="xref">I-D.eckert-anima-grasp-dnssd</a>]</span>.
    Thos objective elements allow to create DNS-SD compatible service announcements with
    flexible priority/weight and distance based selection across multiple service instances
    and per-service parameters.<a href="#section-1.3-1" class="pilcrow">¶</a></p>
<p id="section-1.3-2">Nodes supporting a particular service announce it via the appropriate
    GRASP objective into ACP GRASP. The nodes therefore need to have access to the
    ACP, either directly because they are ACP nodes or because they use the ACP
    connect function (see <span>[<a href="#RFC8994" class="xref">RFC8994</a>]</span>).
    ACPna nodes receive these announcements and auto-configure the services tied to them.
    In most instances, the service announcement is from server
    that a client instance on the ACPna node connects to, for example a syslog server in
    the POP/NOC or other location with compute. In another instance, the service is that of an authentication service
    and the ACPna nodes will enable a server instance that leverages the authentication
    service elsewhere in the network.<a href="#section-1.3-2" class="pilcrow">¶</a></p>
<p id="section-1.3-3">Note: Currently, this document does not define the option of an
    mDNS/DNS-SD -&gt; ACP GRASP gateway function to enable service nodes without GRASP
    implementations to utilize mDNS/DNS-SD to announce their services and
    then expect an appropriate translation function to convert these announcements
    into GRASP objectives. This document does define all the GRASP objectives
    so that that it would be possible to define such a gateway function, but
    some loss of functionality would exist. For once, GRASP does support network
    distance based service selection (e.g., select a server from the closest service node location),
    whereas no such mechanism exists in DNS-SD. In addition, this documen believes
    that support of GRASP software to announce services from service systems is very
    easy to accomplish.<a href="#section-1.3-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="acp-grasp-parameters">
<section id="section-1.4">
        <h3 id="name-grasp-parameters">
<a href="#section-1.4" class="section-number selfRef">1.4. </a><a href="#name-grasp-parameters" class="section-name selfRef">GRASP parameters</a>
        </h3>
<p id="section-1.4-1">Unless otherwise described, all GRASP objective announcements described
      in this document SHOULD default to the following GRASP parameters. These parameters
      MAY all be configurable on the service nodes.<a href="#section-1.4-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1.4-2.1">M_FLOOD GRASP message, periodicially sent once every 60 second. Random phase vs. full minutes (so different service announcements are distributed over time in the network).<a href="#section-1.4-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-1.4-2.2">ttl of 210000 msec (3.5 times 60 seconds).<a href="#section-1.4-2.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-1.4-2.3">locator-option is the ACP address of the announcing node unless the nnouncement is done from a third-party, for exmple if the announcing server does not support GRASP but GRASP is run on another service node.<a href="#section-1.4-2.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-1.4-2.4">objective-name is 'SRV.&lt;name&gt;', where &lt;name&gt; is an <span>[<a href="#RFC6335" class="xref">RFC6335</a>]</span> registered service name for the service in question.<a href="#section-1.4-2.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-1.4-2.5">objective-flags is sync-only, loop-count is 255.<a href="#section-1.4-2.5" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-1.4-2.6">objective-value MUST comply with the requirements of <span>[<a href="#I-D.eckert-anima-grasp-dnssd" class="xref">I-D.eckert-anima-grasp-dnssd</a>]</span>.<a href="#section-1.4-2.6" class="pilcrow">¶</a>
</li>
        </ul>
<span id="name-srvsyslog-example"></span><div id="syslog-example">
<figure id="figure-1">
          <div class="alignLeft art-text artwork" id="section-1.4-3.1">
<pre>
     [M_FLOOD, 12340815, h'fd89b714f3db0000200000064000001', 210000,
         ["SRV.syslog", 4, 255,
             { rfcXXXX: {
                 &amp;(sender-loop-count:1) =&gt; 255,
                 &amp;(srv-element:2) =&gt; {
                     &amp;(msg-type:1)  =&gt; &amp;(describe: 0),
                     &amp;(service:2)   =&gt; "syslog",
                     &amp;(instance:3)  =&gt; "east-coast-primary",
                     &amp;(priority:5)  =&gt; 0,
                     &amp;(weight:6)    =&gt; 65535,
                     &amp;(kvpairs:7)   =&gt; { "replicate" =&gt; 2 },
                     &amp;(range:8)     =&gt; 2,
                 }
             } }
         ],
         [O_IPv6_LOCATOR,
              h'fd89b714f3db0000200000064000001', TLS12, 514]
     ]
</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-srvsyslog-example" class="selfRef">SRV.syslog example</a>
          </figcaption></figure>
</div>
<p id="section-1.4-4">The above example shows the default values for a "syslog" service announcement
using the objective-value elements defined in <span>[<a href="#I-D.eckert-anima-grasp-dnssd" class="xref">I-D.eckert-anima-grasp-dnssd</a>]</span>.
SRV.syslog is the standard objective name for the "syslog" service, as is SRV.&lt;any&gt;
for the &lt;any&gt; service. The announcer of this objective also provides the syslog
service as it is announcing its own address in the locator option. It provides syslog
on the standard syslog TCP port 514 using TLS12.<a href="#section-1.4-4" class="pilcrow">¶</a></p>
<p id="section-1.4-5">The DNS-SD equivalent service attributes are carried in
the srv-element. The msg-type indicates that this objective is a service announcement.
The instance of "" indicates that this service annuncement for the ACP itself, and not
for e.g. the data-plane. It is shown here just for illustration purposes and can be
left out in encoding because it is the default. Likewise, the service element is
redundant and shown only for illustrative purposes. Priority and weight have the
same semantic as in DNS-SD SRV records. In this case, the service announcement indicates
the highest priority (0) and the highest weight (65535). Kvpairs includes service
specific options.<a href="#section-1.4-5" class="pilcrow">¶</a></p>
<p id="section-1.4-6">Going beyond the capabilities, the range parameter indicates that the client of
this service should select this announced service not only by priority/weight but
primarily by the distance in terms of network hop-count between this service announcer
and the client: The client is expected to select the best service announcement
by priority adn weight only between alternatives that are not more than two network
hops apart in distance to the client. Otherwise the client should pick the closer one.<a href="#section-1.4-6" class="pilcrow">¶</a></p>
<p id="section-1.4-7">To allow the client to know the distance to a service announcement, the sender-loop-count
parameter is included in the announcement. It MUST be set by the sender to the same
value (255 in this example) as the loop-count in the GRASP header. The loop-count in the
header is hop-by-hop reduced. When the GRASP message arrives at the client, the difference
between sender-loop-count and loop-count is the distance to the service announcer in hops.<a href="#section-1.4-7" class="pilcrow">¶</a></p>
<span id="name-grasp-service-definition"></span><div id="grasp-service-definition">
<figure id="figure-2">
          <div class="alignLeft art-text artwork" id="section-1.4-8.1">
<pre>
    ;
    ; Following GRASP header definitions from GRASP
    ;
    flood-message = [M_FLOOD, session-id, initiator, ttl,
                     +[objective, (locator-option / [])]]
    objective = ["SRV.&lt;rfc6335-name&gt;", objective-flags, loop-count,
                                           objective-value]

    objective-flags = sync-only  ; as in GRASP spec
    sync-only       = 4          ; M_FLOOD only requires synchronization
    loop-count      = 255        ; recommended
    ;
    ; Following GRASP objective-value definitions from GRASP DNS-SD
    ;
    objective-value = { 1*elements }
    elements        = ( @rfcXXXX: { 1*relement } )
    relement      //= ( &amp;(sender-loop-count:1) =&gt; 1..255 )
    relement      //= ( &amp;(srv-element:2) =&gt; context-element )
    context-element  =  {
        ?( &amp;(private:0)      =&gt; any),
        ?( &amp;(msg-type:1      =&gt; msg-type),
        ?( &amp;(service:2)      =&gt; tstr),
        *( &amp;(instance:3)     =&gt; tstr),
        ?( &amp;(domain:4)       =&gt; tstr),
        ?( &amp;(priority:5)     =&gt; 0..65535 ),
        ?( &amp;(weight:6)       =&gt; 0..65535 ),
        *( &amp;(kvpairs:7)      =&gt; { *(tstr: any) },
        ?( &amp;(range:8)        =&gt; 0..255 ),
        *( &amp;(clocator:9)     =&gt; clocator),
       }
    ;
    TLS12 = 257

</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-grasp-service-definition" class="selfRef">GRASP service definition</a>
          </figcaption></figure>
</div>
<p id="section-1.4-9">The above picture shows the complete CDDL defition of a GRASP M_FLOOD message indicating
a service together with the objective-value encoding. Som of the context-element
options are not used in this document (TBD - remove before going RFC).<a href="#section-1.4-9" class="pilcrow">¶</a></p>
<p id="section-1.4-10">The value 257 is defined to indicate TLS12 (<span>[<a href="#RFC5246" class="xref">RFC5246</a>]</span>) to be used in
the protocol field of GRASP locators to indicate that a TCP port is intended to be
used with TLS version 1.2. Values 1..255 are reserved for IP protocol numbers.<a href="#section-1.4-10" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="services">
<section id="section-2">
      <h2 id="name-services">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-services" class="section-name selfRef">Services</a>
      </h2>
<div id="syslog">
<section id="section-2.1">
        <h3 id="name-syslog">
<a href="#section-2.1" class="section-number selfRef">2.1. </a><a href="#name-syslog" class="section-name selfRef">Syslog</a>
        </h3>
<p id="section-2.1-1">ACPna nodes SHOULD support autoconfiguring of syslog via the SRV.syslog objective.<a href="#section-2.1-1" class="pilcrow">¶</a></p>
<p id="section-2.1-2">When an ACPna node discovers one or more SRV.syslog announcements across the ACP,
    it SHOULD perform syslog operations to the best available discovered server.<a href="#section-2.1-2" class="pilcrow">¶</a></p>
<p id="section-2.1-3">Local configuration of syslog on the ACPna node SHOULD have no impact on the
    autoconfigured syslog operations, or else, misconfiguration could cause to failure
    of the autoconfigured syslog operations. Instead, configured syslog operations
    should just operate as ships-in-the-night to the GRASP learned autoconfigured
    syslog operations.<a href="#section-2.1-3" class="pilcrow">¶</a></p>
<p id="section-2.1-4">Severity of syslog messages SHOULD be 5 (Notice) (see <span>[<a href="#RFC5424" class="xref">RFC5424</a>]</span>),
     and all messages that are necessary to support normal remote operations of the node
     should be assigned severities higher (numerically lower) or equal to 5/Notice.<a href="#section-2.1-4" class="pilcrow">¶</a></p>
<p id="section-2.1-5">Syslog service announcements SHOULD include the instance option, indicating
    the unique name of the service instance described by the GRASP objective. This
    serves diagnostics and avoids having to identify service instances by the 
    address(es) in the locator-options. In the example <a href="#syslog-example" class="xref">Figure 1</a>,
    the instance name is "east-coast-primary".<a href="#section-2.1-5" class="pilcrow">¶</a></p>
<p id="section-2.1-6">The syslog facility value is a choice of the ACPna node, the autoconfigured
    syslog server must be able to deal with any syslog facility code received. 
    If an ACPna node has no pre-established standard for the facility-code, then
    the value of local7 (23) MAY be used.<a href="#section-2.1-6" class="pilcrow">¶</a></p>
<p id="section-2.1-7">For resilience, it may be appropriate to receive syslog messages on more than
    one server. A server can indicate this via the "replicate" keyword in the
    GRASP objective-value kvpair element. The value of the "replicate" keyword indicates
    the maximum number of syslog servers that the client SHOULD autoconfigure syslog to.
    After selecting the best service announcement, the client looks up the value N of the
    "replicate" keyword of that best servers announcement and selects the best N-1
    service announcements and ultimately logs to all N. ACPna nodes SHOULD support
    autoconfigured syslog to up to 3 servers simultaneously.<a href="#section-2.1-7" class="pilcrow">¶</a></p>
<p id="section-2.1-8">Autoconfigured syslog SHOULD support TLS1.2, TCP and UDP. Because ACP provides
    encryption, use of just TCP instead of TLS should be sufficient and may achieve 
    higher performance. Use of UDP should be avoided because of the potential to
    loose packets and not supporting congestion control.<a href="#section-2.1-8" class="pilcrow">¶</a></p>
<p id="section-2.1-9">If a syslog server supports more than one transport option (TLS1.2, TCP, UDP),
    it SHOULD announce them via a single GRASP objective and list them via 
    clocator options of the srv-element because the locator-option in the GRASP header
    (as shown in example <a href="#syslog-example" class="xref">Figure 1</a>) allows only one locator-option.
    The order of the clocator options in the indicates the preference of the server.
    From this list, the client supports the first option supported also by the client
    and ignore the others.  The context of the clocator would normally be "", indicating
    that the locator-option address is reachable via the ACP.<a href="#section-2.1-9" class="pilcrow">¶</a></p>
<p id="section-2.1-10">Instead of (or in addition to) using multiple clocator options, a server can also
    announce multiple SRV.syslog objectives, but in that case each of them would be
    considered to be a different service instance considered by the the client when
    selecting the (set of) best service instances. If a service announcement indicates
    via the "replicate" keyword that the client should log to three service instances,
    and announce three separate SRV.syslog objectives, each one with a different
    locator-option, then the client might select to log to all three of them - instead
    of - which is more likely the desired option - for the client to log to actually
    three different servers. Hence the use of multiple clocator options that are
    examined by clients only after server selection is done.<a href="#section-2.1-10" class="pilcrow">¶</a></p>
<p id="section-2.1-11">When a client uses TLS, it MUST use its ACP domain certificate for authentication.
    Likewise, the syslog server MUSTS use its ACP domain certificate.<a href="#section-2.1-11" class="pilcrow">¶</a></p>
<p id="section-2.1-12">Logging by default uses the ACP, in the clocator option, this is indicated via
    a context value of "". Servers may also indicate support for logging across the
    data-plane, which may provide higher performance but may fail if reachability in the
    data-plane does not exist, so care must be taken when announcing this option. For
    example, in managed MPLS/VPN networks where the ACP extends across P/PE and CE
    devices, the global routing table on a CE device is often not the same as that on
    P/PE devices, and therefore CE devices may not be able to log to "0". In this case,
    the syslog server should instead announce a deployment choosen name for the
    context, such as "VRF0". Clients would only take such a clocator into account if
    there is a local configuration that maps the context name to a routing table.
    In this example, only P/PE nodes would have this configuration, therefore allowing
    the CE nodes to ignore this clocator; And if this clocator was the only locator-option
    in the GRASP objective, then the whole objective MUST be ignored by the client when
    selecting the best possible service instance. Note that for contexts other than the
    ACP (""), both IPv4 and IPv6 are possible, depending on what version(s) of IP are
    deployed in the data-plane.<a href="#section-2.1-12" class="pilcrow">¶</a></p>
<p id="section-2.1-13">Failure to connect to a choosen service instance SHOULD be taken into accounts
    by clients when selecting service instances to log to. For UDP locator-options,
    ICMP/ICMPv6 error indications are such connection failures. For TCP/TLS connections,
    connection failure includes TCP and TLS failures as well as keepalive failures.
    When failures occur, clients should attempt to re-connect with exponential timeouts,
    starting with 5 seconds and staying at 320 seconds or until the GRASP service
    announcement expires and is not refreshed.<a href="#section-2.1-13" class="pilcrow">¶</a></p>
<p id="section-2.1-14">When connecting to a server fails, the ACPna client SHOULD connect to the next best
    available server in the meantime. ACPna client SHOULD support connecting to up to
    four service instances if any connections fail. If for example the client is logging
    to two service instances because 2 is indicated in the "replicate" option of the
    service announcements, and one fails, the client will attempt to re-connect
    to it while in parallel establishing syslog connection to a third-best service-instance.<a href="#section-2.1-14" class="pilcrow">¶</a></p>
<p id="section-2.1-15">When establishing connection to a new syslog service instance, ACPna clients
    SHOULD log with severity 5 an indication of this event, indicating its own
    ACP address, the ACP address and if existing instance name of the new syslog
    service instance and the reason. Like any other autoconfigured syslog message,
    this would go to all syslog connections and therefore show up on the redundant
    syslog servers, allowing to recognize failure of connectivity to another syslog
    server - and tracing of client logs across syslog servers if the client changes them.<a href="#section-2.1-15" class="pilcrow">¶</a></p>
<p id="section-2.1-16">Examples:<a href="#section-2.1-16" class="pilcrow">¶</a></p>
<p id="section-2.1-17">ACP: fd89:b714:f3db::0200:0000:6400:0042 start logging to: fd89:b714:f3db::0200:0000:6400:0001/east-coast-primary,TLS reason: starting up<a href="#section-2.1-17" class="pilcrow">¶</a></p>
<p id="section-2.1-18">ACP: fd89:b714:f3db::0200:0000:6400:0042 start logging to: fd89:b714:f3db::0200:0000:6400:0001/east-coast-primary,TLS reason: new better service instance<a href="#section-2.1-18" class="pilcrow">¶</a></p>
<p id="section-2.1-19">ACP: fd89:b714:f3db::0200:0000:6400:0042 stop logging to: fd89:b714:f3db::0200:0000:6400:0001/east-coast-secondary,TLS reason: connection failure<a href="#section-2.1-19" class="pilcrow">¶</a></p>
<p id="section-2.1-20">When failures to deliver syslog messages to ANY syslog servers happen, clients
    SHOULD track the this and indicate loss of messages via the next working syslog
    connection. Note that due to the possibility of ICMP/ICMPv6 errors, only the
    successful delivery of messages via TLS or TCP should be tracked. TBD:
    need to check if this can reasonably be recommended, pending on availability of
    e.g. TAPS API spec to know whethrer a TCP write was sent and acknowledged by the
    receiver (given how there are no reply messages in syslog).<a href="#section-2.1-20" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ntp">
<section id="section-2.2">
        <h3 id="name-ntp">
<a href="#section-2.2" class="section-number selfRef">2.2. </a><a href="#name-ntp" class="section-name selfRef">NTP</a>
        </h3>
<p id="section-2.2-1">Time synchronization is one of the most fundamental functionality for network
    devices for a variety of functions to work and also for diagnostics to be comparable
    across the network. If problems propagate fast across the network, the client
    generated timestamp of events in syslog messages (or other diagnostics function)
    allows to trace event propagation and decude causality. This may require
    network clock synchronization in the order of milliseconds, something which is
    easily achievable in todays network devices via NTP.<a href="#section-2.2-1" class="pilcrow">¶</a></p>
<p id="section-2.2-2">ACPna nodes SHOULD support autoconfiguration of clock synchronization through
    NTP (<span>[<a href="#RFC5905" class="xref">RFC5905</a>]</span>) with the following autoconfiguration semantics.<a href="#section-2.2-2" class="pilcrow">¶</a></p>
<p id="section-2.2-3">The GRASP objective for NTP is SRV.ntp. This does not distinguish between
    NTPv4 and NTPv3 because NTPv4 is fully backward compatible with NTPv3, so server
    and client will negotiate between these two versions.<a href="#section-2.2-3" class="pilcrow">¶</a></p>
<p id="section-2.2-4">The kvpair key "stratum" has a numeric value and indicates the stratum or
    level of a server in a synchronization tree. The value of 1 indicates the root of the
    distribution tree. Servers that synchronize from the master have a stratum of 2,
    and so on.<a href="#section-2.2-4" class="pilcrow">¶</a></p>
<p id="section-2.2-5">The kvpair key "minpoll" indicates the lowest periodic polling that the client
    will perform against the server. Announcing a large numeric value allows for a server
    to reduce the amount of NTP messages from clients, but slows down convergence time
    of clientsnumber of service instances that simultaneously bootstrap.<a href="#section-2.2-5" class="pilcrow">¶</a></p>
<p id="section-2.2-6">The kvpair key "key" indicates the NTPv3 authentication mechanism. When present,
    clients MUST use the value as the key to perform NTPv3 (MD5) hash authentication
    of message with this service instance. Note that the encryption of the ACP serves
    as protection of distributing such a cleartext symmetric key via GRASP to clients.<a href="#section-2.2-6" class="pilcrow">¶</a></p>
<p id="section-2.2-7">TBD: Understand NTPv4 autokey and define appropriate kvpair to enable auto-configuring
    it, especially when the service instance announcement indicates the use of the data-plane.<a href="#section-2.2-7" class="pilcrow">¶</a></p>
<p id="section-2.2-8">The autoconfiguration described in the following paragraphs is for leafs of the
    clock distribution graph, e.g., nodes that do only aim to obtain synchronized
    time from a server. Configuration of the server hierarchy is left to explicit
    configuration.<a href="#section-2.2-8" class="pilcrow">¶</a></p>
<p id="section-2.2-9">Clients SHOULD select service instance(s) with the worst (highest) stratum
    value. In the face of multiple equal options, clients have to pick the best ones
    based on the standard selection criteria priority/weight and range, allowing for
    distributed NTP server deployment by e.e., setting range to 1, or via centralized
    deployment with multiple servers, setting range to 255 and priority/weight accordingly.
    Making the stratum the primary selection criteria allows in the future to also
    introduce autoconfiguration of servers in the NTP clock distribution tree without
    incurring the problem that a large number of clients would then select higher
    stratum servers (and overload them).<a href="#section-2.2-9" class="pilcrow">¶</a></p>
<p id="section-2.2-10">Like most other autoconfigured services, the autoconfigured NTP time synchronization
    SHOULD take precedence over explicit configured NTP options to ensure that 
    time synchronization is not subject to misconfiguration of individual nodes (but
    only subject to misconfiguration of servers).<a href="#section-2.2-10" class="pilcrow">¶</a></p>
<p id="section-2.2-11">The kvpair "TZ" option allows to signal the time zone of the ACP network to
    clients. Its value is a string indicating the time zone of all nodes in the ACP
    network. Care must be taken not to use this option in networks extending across
    multiple time zones. Because time zone distribution does not work automatically
    across larger networks with multiple time zones, overriding the signalled time zone
    SHOULD be possible through local configuration.<a href="#section-2.2-11" class="pilcrow">¶</a></p>
<p id="section-2.2-12">TBD: references for time zone spec standards and also for DST rule indications.<a href="#section-2.2-12" class="pilcrow">¶</a></p>
</section>
</div>
<div id="dns">
<section id="section-2.3">
        <h3 id="name-dns-for-operations">
<a href="#section-2.3" class="section-number selfRef">2.3. </a><a href="#name-dns-for-operations" class="section-name selfRef">DNS for operations</a>
        </h3>
<p id="section-2.3-1">Availability of DNS names for network operations/troubleshooting is today mostly
    an convenience in network operations, but with IPv6 evolving the need to use DNS
    names even in CLI based network diagnostics is raising - because IPv6 addresses often 
    are more difficult to memorize by operators. More and more network features also
    support configurtion that instead of addresses include domain names or URLs, 
    and ultimately, any non-fully autoconfigured functions should rather rely on
    domain-names and URLs instead of just addresses for greater flexibility and
    relilability in the face of address changes.<a href="#section-2.3-1" class="pilcrow">¶</a></p>
<p id="section-2.3-2">In thw face of this, ACPna nodes SHOULD support autoconfiguration of DNS for
    operational purposes. "For operation purposes" implies that the use of of the
    autoconfigured DNS servers SHOULD NOT be used for DNS services offered to
    users of the data plane, such as DNS proxy services. This would cause the ACP to
    effectively carry user traffic, whenever a client DNS request to an ACPna node
    with a DNS proxy would be forwrded to an autoconfigured server via the ACP.<a href="#section-2.3-2" class="pilcrow">¶</a></p>
<p id="section-2.3-3">The GRASP objective name for such OAM use of DNS is OAM-DNS. It is explicitly
    not SRV.dns to highlight that this instance of DNS is coped for operational
    purposes only to isolate it from user issues (performance across the ACP and attacks).
    Utilizing different DNS contexts also allows to set up split-horizon DNS where
    all the operationally relevant DNS names are only made available via the DNS
    servers or zones available across the ACP.<a href="#section-2.3-3" class="pilcrow">¶</a></p>
<p id="section-2.3-4">The value of the "search-list" kvpair option is a ";" (semicolon) separated
    list of domain name prefixes that should be searched by the client for non-FQDN
    that they need to resolve. "local-arpa" is the prefix to use for reverse
    IPv4/IPv6 address lookups. If for example "local-arpa" is set to 
    "arpa.example.com", then the clients should first look up IPv4/IPv6 addresses
    in "ipv6.arpa.example.com."/"in-addr.arpa.example.com." before resorting to lookup in the
    Internet global "ipv6.arpa."/"in-addr.arpa.". For RFC1918/ULA addresses, no fallback
    to the global reverse lookup prefixes should be done.<a href="#section-2.3-4" class="pilcrow">¶</a></p>
<p id="section-2.3-5">ACPna nodes SHOULD look up their name via a reverse lookup of their ACP address,
    and then auto-configure this name.<a href="#section-2.3-5" class="pilcrow">¶</a></p>
<p id="section-2.3-6">There are no service specifics for the selection of DNS servers. A ACPna
    node simply uses the standard priority/weight/range options to select a DNS
    server. It MAY prefer a server with TCP locator-option simply because that 
    allows in most cases faster discovery of connectivity problems than a UDP connection.<a href="#section-2.3-6" class="pilcrow">¶</a></p>
<p id="section-2.3-7">TBD: Note that it is fairly easy to re-use the autoconfiguration scheme described here
    to provide auto-configuration of DNS for user DNS services with the help of the ACP.
    The objective name would have to be changed and the clocators would have to
    indicate a data-plane context, so that user requests are carried across the data-plane
    from DNS proxies to DNS servers. It is unclear if this service should be described
    in this document though.<a href="#section-2.3-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="radius">
<section id="section-2.4">
        <h3 id="name-radius">
<a href="#section-2.4" class="section-number selfRef">2.4. </a><a href="#name-radius" class="section-name selfRef">Radius</a>
        </h3>
<p id="section-2.4-1">Radius <span>[<a href="#RFC2865" class="xref">RFC2865</a>]</span> is a protocol used for AAA service -
     Authentication, Authorization and Accounting. Autodiscovery of Radius servers
     across the ACP for ACPna nodes serves the purpose to enable authentication and
     authorization of other ACPna autoconfigured services such as below described
     <a href="#SSH" class="xref">Section 2.6</a>.<a href="#section-2.4-1" class="pilcrow">¶</a></p>
<p id="section-2.4-2">ACPna nodes MUST support Radius and/or Diameter autoconfiguration if they
     support any of the autoconfigured services depending on such an authentication
     service.<a href="#section-2.4-2" class="pilcrow">¶</a></p>
<p id="section-2.4-3">The GRASP objective naem is SRV.radius.
     The UDP or TCP port of the locator-option in the GRASP header or the clocator
     option indicate the UDP or TCP port of the Radius servers authentication connection.
     The context of a clocator MUST be "" to indicate the ACP - because the Radius
     connections MUST pass across the ACP to be protected against eavesdropping - and
     the radius security methods described here are not sufficiently secure to allow
     passing them across the data-plane.<a href="#section-2.4-3" class="pilcrow">¶</a></p>
<p id="section-2.4-4">The kvpair "secret_key" string value indicates the secret key to use on the
     connection to the Radius server. The optional "acct_port" numeric value indicate
     the UDP/TCP port of any accounting connection supported by the radius server.
     The protocol (UDP vs. TCP) is the same as the one in the choosen locator-option/clocator.<a href="#section-2.4-4" class="pilcrow">¶</a></p>
<p id="section-2.4-5">There are no service specific selection rules. TCP is preferred for faster
     recognition of a failed server and reselection of an alternative server.<a href="#section-2.4-5" class="pilcrow">¶</a></p>
<p id="section-2.4-6">The specific data/authentication/authorization configuration required on the
     Radius server depends on the OAM service authenticated/authorized and is
     described in its section in this document.<a href="#section-2.4-6" class="pilcrow">¶</a></p>
<p id="section-2.4-7">TBD: Should we define AVpair or different objective names to distinguish
     what services canb e authenticated ? Would be easier if we found another service
     than SSH/Netconf.<a href="#section-2.4-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="diameter">
<section id="section-2.5">
        <h3 id="name-diameter">
<a href="#section-2.5" class="section-number selfRef">2.5. </a><a href="#name-diameter" class="section-name selfRef">Diameter</a>
        </h3>
<p id="section-2.5-1">TBD. Alternative to Radius. Author would welcome suggesting what parameters are
    relevant for a diameter authentication service.<a href="#section-2.5-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="SSH">
<section id="section-2.6">
        <h3 id="name-ssh-server">
<a href="#section-2.6" class="section-number selfRef">2.6. </a><a href="#name-ssh-server" class="section-name selfRef">SSH server</a>
        </h3>
<p id="section-2.6-1">ACPna nodes supporting SSH server functionality for remote management access
    via CLI, NETCONF or other methods SHOULD auto-enable SSH server functionality across
    the ACP whenever they are aware from ACP GRASP of RADIUS (<a href="#radius" class="xref">Section 2.4</a>)
    or DIAMETER (<a href="#diameter" class="xref">Section 2.5</a>) authentication servers. ACPna nodes that support
    ACPna SSH server functionality MUST support authentication via either RADIUS
    and/or Diameter.<a href="#section-2.6-1" class="pilcrow">¶</a></p>
<p id="section-2.6-2">If both protocols are supported by the ACPna node, the ACPna
    node SHOULD select the authentication server based on the service priority 
    parameters across both protocols. E.g., if a RADIUS server has a higher priority
    in GRASP than the DIAMETER server, the ACPna node should authenticate against the
    RADIUS server.<a href="#section-2.6-2" class="pilcrow">¶</a></p>
<p id="section-2.6-3">When valid authentication server(s) are discovered, the SSH server is
    autoconfigured. It SHOULD only listen to the standard SSH port with the ACP address
    of the node but not be reachable from the data-plane. It MUST NOT be modifyable
    by configuration (only by auto-configuration). If autoconfiguration of an
    SSH server on the standard SSH port conflicts with explicitly configured 
    SSH server for the data-plane due to software limitations or complexity, the
    autoconfigured SSH server MAY be started on a node-type specific and not
    dynamically selected port number. This port number must be well-known to
    OAM operations as there is no method provided to signal it to the SSH client side.<a href="#section-2.6-3" class="pilcrow">¶</a></p>
<p id="section-2.6-4">Note that this document does not define any standards for the exact message
    options for authentication or authorization. Especially authorization,
    such as privilege level that permits to change configuration is likely using 
    vendor specific methods, and Radius/Diameter servers must be capable to recognize
    the type of client as they had to without this autoconfiguration.<a href="#section-2.6-4" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="security">
<section id="section-3">
      <h2 id="name-security-considerations-2">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-security-considerations-2" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-3-1">There is no protection against "unauthorized" ACP nodes to generate service
    announcements, because there is no authorization scheme in GRASP. Discovery of
    unauthorized announcers is easy though because the service announcements are
    flooded across the ACP and are therefore easily visible on nodes that may specifically
    oberve announcements to discover unauthorized ones.<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">A possible framework to define authorization could rely on defining roles
    for ACP nodes either through additional parameters in thei ACP domain certificate
    or following initial provisioning, and then lock down the ability for 
    later configuration to enable services (and their GRASP announcements) to only
    those included in the role assigned to the node. This is outside the scope of
    this document.<a href="#section-3-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="acknowledgemenets">
<section id="section-4">
      <h2 id="name-acknowledgments">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-acknowledgments" class="section-name selfRef">Acknowledgments</a>
      </h2>
<p id="section-4-1">Thanks to Ignas Bagdonas for deployment / applicability / terminology input and
    to Balaji BL, Ravi Kumar Vadapalli for their original implementation of the concept.<a href="#section-4-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="changes">
<section id="section-5">
      <h2 id="name-change-log-rfc-editor-pleas">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-change-log-rfc-editor-pleas" class="section-name selfRef">Change log [RFC Editor: Please remove]</a>
      </h2>
<p id="section-5-1">draft-eckert-anima-services-dns-autoconfig<a href="#section-5-1" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-5-2.1">01: Refresh.<a href="#section-5-2.1" class="pilcrow">¶</a>
</li>
        <li class="normal ulEmpty" id="section-5-2.2">00: Renaming from 'noc-autoconfig' after a long discussion with Ignas Bagdonas:
         replaced all mention of NOC with "infrastructure / decentralized" services,
         because the term NOC seems to be a terminology that does not well match how
         it is called in many type of networks.<a href="#section-5-2.2" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-5-3">draft-eckert-anima-noc-autoconfig (2018)<a href="#section-5-3" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-5-4.1">00: Initial version.<a href="#section-5-4.1" class="pilcrow">¶</a>
</li>
      </ul>
</section>
</div>
<section id="section-6">
      <h2 id="name-references-2">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-references-2" class="section-name selfRef">References</a>
      </h2>
<section id="section-6.1">
        <h3 id="name-normative-references-2">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-normative-references-2" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="I-D.eckert-anima-grasp-dnssd">[I-D.eckert-anima-grasp-dnssd]</dt>
        <dd>
<span class="refAuthor">Eckert, T.</span>, <span class="refAuthor">Boucadair, M.</span>, <span class="refAuthor">Jacquenet, C.</span>, and <span class="refAuthor">M. H. Behringer</span>, <span class="refTitle">"DNS-SD Compatible Service Discovery in GeneRic Autonomic Signaling Protocol (GRASP)"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-eckert-anima-grasp-dnssd-02</span>, <time datetime="2021-07-12" class="refDate">12 July 2021</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-eckert-anima-grasp-dnssd-02.txt">https://www.ietf.org/archive/id/draft-eckert-anima-grasp-dnssd-02.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2865">[RFC2865]</dt>
        <dd>
<span class="refAuthor">Rigney, C.</span>, <span class="refAuthor">Willens, S.</span>, <span class="refAuthor">Rubens, A.</span>, and <span class="refAuthor">W. Simpson</span>, <span class="refTitle">"Remote Authentication Dial In User Service (RADIUS)"</span>, <span class="seriesInfo">RFC 2865</span>, <span class="seriesInfo">DOI 10.17487/RFC2865</span>, <time datetime="2000-06" class="refDate">June 2000</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2865">https://www.rfc-editor.org/info/rfc2865</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5246">[RFC5246]</dt>
        <dd>
<span class="refAuthor">Dierks, T.</span> and <span class="refAuthor">E. Rescorla</span>, <span class="refTitle">"The Transport Layer Security (TLS) Protocol Version 1.2"</span>, <span class="seriesInfo">RFC 5246</span>, <span class="seriesInfo">DOI 10.17487/RFC5246</span>, <time datetime="2008-08" class="refDate">August 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5246">https://www.rfc-editor.org/info/rfc5246</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5424">[RFC5424]</dt>
        <dd>
<span class="refAuthor">Gerhards, R.</span>, <span class="refTitle">"The Syslog Protocol"</span>, <span class="seriesInfo">RFC 5424</span>, <span class="seriesInfo">DOI 10.17487/RFC5424</span>, <time datetime="2009-03" class="refDate">March 2009</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5424">https://www.rfc-editor.org/info/rfc5424</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5905">[RFC5905]</dt>
        <dd>
<span class="refAuthor">Mills, D.</span>, <span class="refAuthor">Martin, J., Ed.</span>, <span class="refAuthor">Burbank, J.</span>, and <span class="refAuthor">W. Kasch</span>, <span class="refTitle">"Network Time Protocol Version 4: Protocol and Algorithms Specification"</span>, <span class="seriesInfo">RFC 5905</span>, <span class="seriesInfo">DOI 10.17487/RFC5905</span>, <time datetime="2010-06" class="refDate">June 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5905">https://www.rfc-editor.org/info/rfc5905</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6335">[RFC6335]</dt>
        <dd>
<span class="refAuthor">Cotton, M.</span>, <span class="refAuthor">Eggert, L.</span>, <span class="refAuthor">Touch, J.</span>, <span class="refAuthor">Westerlund, M.</span>, and <span class="refAuthor">S. Cheshire</span>, <span class="refTitle">"Internet Assigned Numbers Authority (IANA) Procedures for the Management of the Service Name and Transport Protocol Port Number Registry"</span>, <span class="seriesInfo">BCP 165</span>, <span class="seriesInfo">RFC 6335</span>, <span class="seriesInfo">DOI 10.17487/RFC6335</span>, <time datetime="2011-08" class="refDate">August 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6335">https://www.rfc-editor.org/info/rfc6335</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6763">[RFC6763]</dt>
        <dd>
<span class="refAuthor">Cheshire, S.</span> and <span class="refAuthor">M. Krochmal</span>, <span class="refTitle">"DNS-Based Service Discovery"</span>, <span class="seriesInfo">RFC 6763</span>, <span class="seriesInfo">DOI 10.17487/RFC6763</span>, <time datetime="2013-02" class="refDate">February 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6763">https://www.rfc-editor.org/info/rfc6763</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8368">[RFC8368]</dt>
        <dd>
<span class="refAuthor">Eckert, T., Ed.</span> and <span class="refAuthor">M. Behringer</span>, <span class="refTitle">"Using an Autonomic Control Plane for Stable Connectivity of Network Operations, Administration, and Maintenance (OAM)"</span>, <span class="seriesInfo">RFC 8368</span>, <span class="seriesInfo">DOI 10.17487/RFC8368</span>, <time datetime="2018-05" class="refDate">May 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8368">https://www.rfc-editor.org/info/rfc8368</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8990">[RFC8990]</dt>
        <dd>
<span class="refAuthor">Bormann, C.</span>, <span class="refAuthor">Carpenter, B., Ed.</span>, and <span class="refAuthor">B. Liu, Ed.</span>, <span class="refTitle">"GeneRic Autonomic Signaling Protocol (GRASP)"</span>, <span class="seriesInfo">RFC 8990</span>, <span class="seriesInfo">DOI 10.17487/RFC8990</span>, <time datetime="2021-05" class="refDate">May 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8990">https://www.rfc-editor.org/info/rfc8990</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8994">[RFC8994]</dt>
      <dd>
<span class="refAuthor">Eckert, T., Ed.</span>, <span class="refAuthor">Behringer, M., Ed.</span>, and <span class="refAuthor">S. Bjarnason</span>, <span class="refTitle">"An Autonomic Control Plane (ACP)"</span>, <span class="seriesInfo">RFC 8994</span>, <span class="seriesInfo">DOI 10.17487/RFC8994</span>, <time datetime="2021-05" class="refDate">May 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8994">https://www.rfc-editor.org/info/rfc8994</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-6.2">
        <h3 id="name-informative-references-2">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-informative-references-2" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="RFC8995">[RFC8995]</dt>
      <dd>
<span class="refAuthor">Pritikin, M.</span>, <span class="refAuthor">Richardson, M.</span>, <span class="refAuthor">Eckert, T.</span>, <span class="refAuthor">Behringer, M.</span>, and <span class="refAuthor">K. Watsen</span>, <span class="refTitle">"Bootstrapping Remote Secure Key Infrastructure (BRSKI)"</span>, <span class="seriesInfo">RFC 8995</span>, <span class="seriesInfo">DOI 10.17487/RFC8995</span>, <time datetime="2021-05" class="refDate">May 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8995">https://www.rfc-editor.org/info/rfc8995</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="authors-addresses">
<section id="appendix-A">
      <h2 id="name-authors-addresses-2">
<a href="#name-authors-addresses-2" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Toerless Eckert</span></div>
<div dir="auto" class="left"><span class="org">Futurewei Technologies USA Inc.</span></div>
<div dir="auto" class="left"><span class="street-address">2220 Central Expressway</span></div>
<div dir="auto" class="left">
<span class="locality">Santa Clara</span>,  <span class="postal-code">95050</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:tte+ietf@cs.fau.de" class="email">tte+ietf@cs.fau.de</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Mohamed Boucadair</span></div>
<div dir="auto" class="left"><span class="org">Orange</span></div>
<div dir="auto" class="left">
<span class="postal-code">35000</span> <span class="locality">Rennes</span>
</div>
<div dir="auto" class="left"><span class="country-name">France</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:mohamed.boucadair@orange.com" class="email">mohamed.boucadair@orange.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Christian Jacquenet</span></div>
<div dir="auto" class="left"><span class="org">Orange</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:christian.jacquenet@orange.com" class="email">christian.jacquenet@orange.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Michael H. Behringer</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:michael.h.behringer@gmail.com" class="email">michael.h.behringer@gmail.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
