



Network Working Group                                          J. Levine
Internet-Draft                                      Taughannock Networks
Intended status: Standards Track                               M. Delany
Expires: March 17, 2015                                       Apple Inc.
                                                      September 13, 2014


 A "Null MX" No Service Resource Record for Domains that Accept No Mail
                      draft-ietf-appsawg-nullmx-10

Abstract

   Internet mail determines the address of a receiving server through
   the DNS, first by looking for an MX record and then by looking for an
   A/AAAA record as a fallback.  Unfortunately this means that the A/
   AAAA record is taken to be mail server address even when that address
   does not accept mail.  The no service MX RR, informally called null
   MX, formalizes the existing mechanism by which a domain announces
   that it accepts no mail, without having to provide a mail server,
   which permits significant operational efficiencies.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on March 17, 2015.

Copyright Notice

   Copyright (c) 2014 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect



Levine & Delany          Expires March 17, 2015                 [Page 1]

Internet-Draft                   Null MX                  September 2014


   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Conventions Used in This Document . . . . . . . . . . . . . .   2
   2.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   3.  MX Resource Records Specifying Null MX  . . . . . . . . . . .   3
   4.  Effects of Null MX  . . . . . . . . . . . . . . . . . . . . .   3
     4.1.  SMTP Server Benefits  . . . . . . . . . . . . . . . . . .   3
     4.2.  Sending Mail from Domains that Publish Null MX  . . . . .   4
   5.  Security Considerations . . . . . . . . . . . . . . . . . . .   5
   6.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   5
   7.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   5
   8.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   5
     8.1.  Normative References  . . . . . . . . . . . . . . . . . .   5
     8.2.  Informative References  . . . . . . . . . . . . . . . . .   6
   Appendix A.  Change Log . . . . . . . . . . . . . . . . . . . . .   6
     A.1.  Change to appsawg-nullmx-10 . . . . . . . . . . . . . . .   6
     A.2.  Change to appsawg-nullmx-09 . . . . . . . . . . . . . . .   6
     A.3.  Change to appsawg-nullmx-08 . . . . . . . . . . . . . . .   6
     A.4.  Change to appsawg-nullmx-07 . . . . . . . . . . . . . . .   6
     A.5.  Change to appsawg-nullmx-06 . . . . . . . . . . . . . . .   7
     A.6.  Change to appsawg-nullmx-05 . . . . . . . . . . . . . . .   7
     A.7.  Change to appsawg-nullmx-04 . . . . . . . . . . . . . . .   7
     A.8.  Change to appsawg-nullmx-03 . . . . . . . . . . . . . . .   7
     A.9.  Change to appsawg-nullmx-02 . . . . . . . . . . . . . . .   7
     A.10. Change to appsawg-nullmx-1  . . . . . . . . . . . . . . .   7
     A.11. Change to appsawg-nullmx-0  . . . . . . . . . . . . . . .   7
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   7

1.  Conventions Used in This Document

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [RFC2119].

   The terms RFC5321.MailFrom and RFC5322.From are used as defined in
   [RFC5598].

2.  Introduction

   This document defines the No Service MX, informally called null MX,
   as a simple mechanism by which a domain can indicate that it does not
   accept email.




Levine & Delany          Expires March 17, 2015                 [Page 2]

Internet-Draft                   Null MX                  September 2014


   SMTP clients have a prescribed sequence for identifying a server that
   accepts email for a domain.  Section 5 of [RFC5321] covers this in
   detail, but in essence the SMTP client first looks up a DNS MX RR and
   if that is not found it falls back to looking up a DNS A or AAAA RR.
   Hence this overloads an email service semantic onto a DNS record with
   a different primary mission.

   If a domain has no MX records, senders will attempt to deliver mail
   to the hosts at the domain's A or AAAA record's addresses.  If there
   is no SMTP listener at the A/AAAA address, message delivery will be
   attempted repeatedly for a long period, typically a week, before the
   sending MTA gives up.  This will delay notification to the sender in
   the case of misdirected mail, and will consume resources at the
   sender.

   This document defines a null MX that will cause all mail delivery
   attempts to a domain to fail immediately, without requiring domains
   to create SMTP listeners dedicated to preventing delivery attempts.

3.  MX Resource Records Specifying Null MX

   To indicate that a domain does not accept email, it advertises a
   single MX RR (see [RFC1035], section 3.3.9) with an RDATA section
   consisting of preference number 0, and a zero length label, written
   in master files as ".", as the exchange domain, to denote that there
   exists no mail exchanger for a domain.  Since "." is not a valid host
   name, a null MX record can not be confused with an ordinary MX
   record.  The use of "." as a pseudo-host name meaning no service
   available is modeled on the SRV RR [RFC2782] where it has a similar
   meaning.

   A domain that advertises a null MX MUST NOT advertise any other MX
   RR.

4.  Effects of Null MX

   The null MX record has a variety of efficiency and usability
   benefits.

4.1.  SMTP Server Benefits

   Mail often has an incorrect address due to user error, where the
   address was mistranscribed or misunderstood, for example, to
   alice@www.example.com or alice@example.org or alice@examp1e.com
   rather than alice@example.com.  Null MX allows a mail system to
   report the delivery failure when the user sends the message, rather
   than hours or days later.




Levine & Delany          Expires March 17, 2015                 [Page 3]

Internet-Draft                   Null MX                  September 2014


   Senders of abusive mail often use forged undeliverable return
   addresses.  Null MX allows Delivery Status Notifications (DSNs) and
   other attempted responses to such mail to be disposed of efficiently.

   The ability to detect domains that do not accept email offers
   resource savings to an SMTP client.  It will discover on the first
   sending attempt that an address is not deliverable, avoiding queuing
   and retries.

   When a submission or SMTP relay server rejects an envelope recipient
   due to a domain's null MX record, it SHOULD use a 556 reply
   code[code521556] (Requested action not taken: domain does not accept
   mail) and a 5.1.TBD enhanced status code (Permanent failure:
   Recipient address has null MX).

   A receiving SMTP server that chooses to reject email during the SMTP
   conversation that presents an undeliverable RFC5321.MailFrom or
   RFC5322.From domain can be more confident that for other messages a
   subsequent attempt to send a DSN or other response will reach a
   recipient SMTP server.

   SMTP servers that reject mail because a RFC5321.MailFrom or
   RFC5322.From domain has a null MX record SHOULD use a 550 reply code
   (Requested action not taken: mailbox unavailable) and a 5.7.TBD
   enhanced status code (Permanent failure: Sender address has null MX).

4.2.  Sending Mail from Domains that Publish Null MX

   Null MX is primarily intended for domains that do not send or receive
   any mail, but have mail sent to them anyway due to mistakes or
   malice.  Many receiving systems reject mail that has an invalid
   return address.  Return addresses are needed to allow the sender to
   handle message delivery errors.  An invalid return address often
   signals that the message is spam.  Hence mail systems SHOULD NOT
   publish a null MX record for domains that they use in
   RFC5321.MailFrom or RFC5322.From addresses.  If a server nonetheless
   does so, it risks having its mail rejected.

   Operators of domains that do not send mail can publish SPF -all
   [RFC7208] policies to make an explicit declaration that the domains
   send no mail.

   Null MX is not intended to be a replacement for the null reverse path
   described in RFC 5321 section 4.5.5 and does not change the meaning
   or use of a null reverse path.






Levine & Delany          Expires March 17, 2015                 [Page 4]

Internet-Draft                   Null MX                  September 2014


5.  Security Considerations

   Within the DNS, a null MX RR is an ordinary MX record and presents no
   new security issues.  If desired, it can be secured in the same
   manner as any other DNS record using DNSSEC.

6.  IANA Considerations

   IANA is requested to add the following entries to the "Enumerated
   Status Codes" sub-registry of the Simple Mail Transfer Protocol
   (SMTP) Enhanced Status Codes Registry.

   Code:              X.1.TBD
   Sample Text:       Recipient address has null MX
   Associated basic status code:  556
   Description:       This status code is returned when the associated
                      address is marked as invalid using a null MX.
   Reference:         [this document]
   Submitter:         [authors of this document]
   Change controller: IESG

   Code:              X.7.TBD
   Sample Text:       Sender address has null MX
   Associated basic status code:  550
   Description:       This status code is returned when the associated
                      sender address has a null MX, and the SMTP
              receiver is configured to reject mail from such
              sender (e.g. because it could not return a DSN).
   Reference:         [this document]
   Submitter:         [authors of this document]
   Change controller: IESG

7.  Acknowledgements

   We thank Dave Crocker for his diligent and lengthy shepherding of
   this document, and members of the appsawg working group for their
   constructive suggestions.

8.  References

8.1.  Normative References

   [RFC1035]  Mockapetris, P., "Domain names - implementation and
              specification", STD 13, RFC 1035, November 1987.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.




Levine & Delany          Expires March 17, 2015                 [Page 5]

Internet-Draft                   Null MX                  September 2014


   [RFC5321]  Klensin, J., "Simple Mail Transfer Protocol", RFC 5321,
              October 2008.

   [code521556]
              Klensin, J., "SMTP 521 and 556 Reply Codes", internet-
              draft draft-klensin-smtp-521code, .

8.2.  Informative References

   [RFC2782]  Gulbrandsen, A., Vixie, P., and L. Esibov, "A DNS RR for
              specifying the location of services (DNS SRV)", RFC 2782,
              February 2000.

   [RFC5598]  Crocker, D., "Internet Mail Architecture", RFC 5598, July
              2009.

   [RFC7208]  Kitterman, S., "Sender Policy Framework (SPF) for
              Authorizing Use of Domains in Email, Version 1", RFC 7208,
              April 2014.

Appendix A.  Change Log

   *NOTE TO RFC EDITOR: This section may be removed upon publication of
   this document as an RFC.*

A.1.  Change to appsawg-nullmx-10

   Minor twiddle to clarify reference.

A.2.  Change to appsawg-nullmx-09

   Change 521 to 556, change reference.

A.3.  Change to appsawg-nullmx-08

   Fix name of IANA registry.

   Yea, even yet more editorial cleanup.

A.4.  Change to appsawg-nullmx-07

   Add new enhanced status codes and ref for 521 return code.

   Even yet more editorial cleanup.







Levine & Delany          Expires March 17, 2015                 [Page 6]

Internet-Draft                   Null MX                  September 2014


A.5.  Change to appsawg-nullmx-06

   Even more editorial cleanup.

   Mention SRV

   you SHOULD NOT put a null MX on domains that send mail

A.6.  Change to appsawg-nullmx-05

   Fix ID nits, add NULL IANA section.  More editorial cleanup.

A.7.  Change to appsawg-nullmx-04

   Reorganize.

A.8.  Change to appsawg-nullmx-03

   Editorial nits per Murray.

A.9.  Change to appsawg-nullmx-02

   Should not publish NULL MX with other MX.

   Never say never.

   Add 5.1.2 enhanced status code.

   Minor editorial changes.

A.10.  Change to appsawg-nullmx-1

   Editorial improvements per D.  Crocker's review.

A.11.  Change to appsawg-nullmx-0

   Fix typos.

Authors' Addresses

   John Levine
   Taughannock Networks
   PO Box 727
   Trumansburg, NY  14886

   Phone: +1 831 480 2300
   Email: standards@taugh.com
   URI:   http://jl.ly



Levine & Delany          Expires March 17, 2015                 [Page 7]

Internet-Draft                   Null MX                  September 2014


   Mark Delany
   Apple Inc.
   1 Infinite Loop
   Cupertino, CA  95014

   Email: mx0dot@yahoo.com













































Levine & Delany          Expires March 17, 2015                 [Page 8]
