<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Multiple-Recipient MESSAGE Requests in the Session Initiation Protocol (SIP)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Multiple-Recipient MESSAGE Requests in the Session Initiation Protocol (SIP)">
<meta name="keywords" content="SIP, multiple, MESSAGE">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">SIP Working Group</td><td class="header">M. Garcia-Martin</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Nokia Siemens Networks</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">G. Camarillo</td></tr>
<tr><td class="header">Expires: May 16, 2008</td><td class="header">Ericsson</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">November 13, 2007</td></tr>
</table></td></tr></table>
<h1><br />Multiple-Recipient MESSAGE Requests in the Session Initiation Protocol (SIP)<br />draft-ietf-sip-uri-list-message-02.txt</h1>

<h3>Status of this Memo</h3>
<p>
By submitting this Internet-Draft,
each author represents that any applicable patent or other IPR claims of which
he or she is aware have been or will be disclosed,
and any of which he or she becomes aware will be disclosed,
in accordance with Section&nbsp;6 of BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on May 16, 2008.</p>

<h3>Abstract</h3>

<p>
      This document specifies a mechanism that allows a SIP User Agent
      Client (UAC) to request a SIP URI-list (Uniform Resource
      Identifier list) service to send a SIP MESSAGE request
      to a set of destinations. The client sends a SIP MESSAGE request
      that includes the payload along with the URI-list to the MESSAGE
      URI-list service, which sends a similar MESSAGE request to each
      of the URIs included in the list.
    
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
<a href="#anchor2">2.</a>&nbsp;
Terminology<br />
<a href="#overview">3.</a>&nbsp;
Overview<br />
<a href="#sec-uri-list-document">4.</a>&nbsp;
URI-List document<br />
<a href="#sec-option">5.</a>&nbsp;
Option-tag<br />
<a href="#sec-uac-procedures">6.</a>&nbsp;
Procedures at the User Agent Client<br />
<a href="#sec-exploder">7.</a>&nbsp;
Procedures at the MESSAGE URI-List Service<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor3">7.1.</a>&nbsp;
Determining the intended recipient<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec-exploder-outgoing">7.2.</a>&nbsp;
Creating an outgoing MESSAGE request<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec-exploder-bodies">7.3.</a>&nbsp;
Composing bodies in the outgoing MESSAGE request<br />
<a href="#anchor4">8.</a>&nbsp;
Procedures at the UAS<br />
<a href="#sec-example">9.</a>&nbsp;
Examples<br />
<a href="#sec-security">10.</a>&nbsp;
Security Considerations<br />
<a href="#iana">11.</a>&nbsp;
IANA Considerations<br />
<a href="#sec-acks">12.</a>&nbsp;
Acknowledgements<br />
<a href="#rfc.references1">13.</a>&nbsp;
Normative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
<a href="#rfc.copyright">&#167;</a>&nbsp;
Intellectual Property and Copyright Statements<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>
<a class='info' href='#RFC3261'>RFC 3261 (SIP)<span> (</span><span class='info'>Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A., Peterson, J., Sparks, R., Handley, M., and E. Schooler, &ldquo;SIP: Session Initiation Protocol,&rdquo; June&nbsp;2002.</span><span>)</span></a> [RFC3261] is extended by <a class='info' href='#RFC3428'>RFC 3428<span> (</span><span class='info'>Campbell, B., Rosenberg, J., Schulzrinne, H., Huitema, C., and D. Gurle, &ldquo;Session Initiation Protocol (SIP) Extension for Instant Messaging,&rdquo; December&nbsp;2002.</span><span>)</span></a> [RFC3428] to carry instant messages in MESSAGE
requests. One of the aspects of MESSAGE requests according to <a class='info' href='#RFC3428'>RFC 3428<span> (</span><span class='info'>Campbell, B., Rosenberg, J., Schulzrinne, H., Huitema, C., and D. Gurle, &ldquo;Session Initiation Protocol (SIP) Extension for Instant Messaging,&rdquo; December&nbsp;2002.</span><span>)</span></a> [RFC3428] is the lack of support for sending
the same request to multiple recipients and replying to all recipients
of a SIP MESSAGE request. This memo addresses these functions.

</p>
<p>
A first requirement can be expressed as:

</p>
<p>
  </p>
<blockquote class="text"><dl>
<dt></dt>
<dd>REQ-1: It MUST be possible for a user to send an instant message
    request to an ad-hoc group, where the identities of the recipients
    are carried in the message itself.
</dd>
</dl></blockquote><p>

</p>
<p>One possibility to fulfill the above requirement is to establish a
session of instant messages with an instant messaging conference
server. While this option seems to be reasonable in many cases, in
other situations the sending user just wants to send a small page-mode
instant message to an ad-hoc group without the burden of
setting up a session. This document focuses on sending a page-mode
instant message to a number of intended recipients.

</p>
<p>
To meet the requirement with a page-mode instant message, we allow SIP
MESSAGE requests carry recipient-list bodies, i.e., URI-lists in body
parts whose <a class='info' href='#RFC2183'>Content-Disposition (RFC 2183)<span> (</span><span class='info'>Troost, R., Dorner, S., and K. Moore, &ldquo;Communicating Presentation Information in Internet Messages: The Content-Disposition Header Field,&rdquo; August&nbsp;1997.</span><span>)</span></a> [RFC2183] is 'recipient-list', as specified in the <a class='info' href='#I-D.ietf-sipping-uri-services'>Framework and Security
Considerations for SIP URI-List Services<span> (</span><span class='info'>Camarillo, G. and A. Roach, &ldquo;Framework and Security Considerations for Session Initiation Protocol (SIP)  Uniform Resource Identifier (URI)-List Services,&rdquo; November&nbsp;2007.</span><span>)</span></a> [I&#8209;D.ietf&#8209;sipping&#8209;uri&#8209;services]. A SIP MESSAGE
URI-list service, which is a specialized application service, receives
the request and sends a similar MESSAGE request to each of the URIs in
the list. Each of these MESSAGE requests contains a copy of the body
included in the original MESSAGE request.

</p>
<p>
A second requirement addresses the "Reply-to-All" functionality:

</p>
<p>
  </p>
<blockquote class="text"><dl>
<dt></dt>
<dd>REQ-2: It MUST be possible for the recipient of a group
    instant message to send a message to all other participants that
    received the same group instant message (i.e., Reply-To-All).
</dd>
</dl></blockquote><p>

</p>
<p>
To meet this requirement, we provide a mechanism whereby the MESSAGE
URI-list service also includes a URI-list in body parts whose <a class='info' href='#RFC2183'>Content-Disposition (RFC 2183)<span> (</span><span class='info'>Troost, R., Dorner, S., and K. Moore, &ldquo;Communicating Presentation Information in Internet Messages: The Content-Disposition Header Field,&rdquo; August&nbsp;1997.</span><span>)</span></a> [RFC2183] is
'recipient-list-history', as specified in the <a class='info' href='#I-D.ietf-sipping-capacity-attribute'>Extensible Markup
Language (XML) Format Extension for Representing Copy Control
Attributes in Resource Lists<span> (</span><span class='info'>Garcia, M. and G. Camarillo, &ldquo;Extensible Markup Language (XML) Format Extension for Representing Copy  Control Attributes in Resource Lists,&rdquo; August&nbsp;2008.</span><span>)</span></a> [I&#8209;D.ietf&#8209;sipping&#8209;capacity&#8209;attribute]. The 'recipient-list-history'
body is sent along with the instant message payload in each of the
instant messages sent to the recipients.

</p>
<p>
The User Agent Client (UAC) that sends a MESSAGE request to a MESSAGE
URI-list service needs to be configured with the SIP URI of the
service that provides the functionality. Discovering and provisioning
of this URI to the UAC is outside the scope of this document.

</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Terminology</h3>

<p>
The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
"SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
document are to be interpreted as described in BCP 14, <a class='info' href='#RFC2119'>RFC 2119<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a> [RFC2119] and indicate requirement levels for
compliant implementations.

</p>
<p>
</p>
<blockquote class="text"><dl>
<dt>MESSAGE URI-list service:</dt>
<dd> 
       SIP application service that receives a MESSAGE request with a
       URI-list and sends a similar MESSAGE request to each URI in the
       list. In this context, similar indicates that some SIP header
       fields can change, but the MESSAGE URI-list service will not
       change the instant message payload. MESSAGE URI-list services behave
       effectively as specialised B2BUAs (Back-To-Back-User-Agents). A
       server providing MESSAGE URI-list services can also offer
       URI-list services for other methods, although this
       functionality is outside the scope of this document. In this
       document we only discuss MESSAGE URI-list services.
       <br />

  
</dd>
<dt>Incoming MESSAGE request:</dt>
<dd> 
       A SIP MESSAGE request that a UAC creates and addresses to a
       MESSAGE URI-list service. Besides the regular instant message
       payload, an incoming MESSAGE request contains a URI-list.
       <br />

  
</dd>
<dt>Outgoing MESSAGE request:</dt>
<dd> 
       A SIP MESSAGE request that a MESSAGE URI-list service creates
       and addresses to a UAS (User Agent Server). It contains the
       regular instant message payload.
       <br />

  
</dd>
<dt>Intended recipient:</dt>
<dd> 
       The intended final recipient of the request to be generated by
       MESSAGE URI-list service.
       <br />

  
</dd>
</dl></blockquote><p>

</p>
<a name="overview"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Overview</h3>

<p>
A UAC creates a MESSAGE request that contains a multipart body
including a list of URIs (intended recipients) and an instant
message. The list of URIs is formatted according to the <a class='info' href='#RFC4826'>XML Formats for Representing
Resource List<span> (</span><span class='info'>Rosenberg, J., &ldquo;Extensible Markup Language (XML) Formats for Representing Resource Lists,&rdquo; May&nbsp;2007.</span><span>)</span></a> [RFC4826] and extended with the attributes defined in the
<a class='info' href='#I-D.ietf-sipping-capacity-attribute'>XML Format
Extension for Representing Copy Control Attributes in Resource
Lists<span> (</span><span class='info'>Garcia, M. and G. Camarillo, &ldquo;Extensible Markup Language (XML) Format Extension for Representing Copy  Control Attributes in Resource Lists,&rdquo; August&nbsp;2008.</span><span>)</span></a> [I&#8209;D.ietf&#8209;sipping&#8209;capacity&#8209;attribute]. The UAC sends this MESSAGE request to the MESSAGE
URI-list service. On reception of this incoming MESSAGE request, the
MESSAGE URI-list service creates a MESSAGE request per intended
recipient (listed in the URI-list) and copies the instant message
payload to each of those MESSAGES. The MESSAGE URI-list service also
manipulates the XML resource list according to the procedures
indicated in the <a class='info' href='#I-D.ietf-sipping-capacity-attribute'>XML Format Extension for Representing Copy Control Attributes in
Resource Lists<span> (</span><span class='info'>Garcia, M. and G. Camarillo, &ldquo;Extensible Markup Language (XML) Format Extension for Representing Copy  Control Attributes in Resource Lists,&rdquo; August&nbsp;2008.</span><span>)</span></a> [I&#8209;D.ietf&#8209;sipping&#8209;capacity&#8209;attribute], and attaches the result to each of the MESSAGE
requests, along with the instant message payload. Then the MESSAGE
URI-list service sends each of the created outgoing MESSAGE request to
the respective receiver.

</p>
<p>
The MESSAGE URI-list mechanism allows a sender to specify multiple
targets for a MESSAGE request by including an XML resource list
according to the <a class='info' href='#RFC4826'>XML
Format for Representing Resource Lists<span> (</span><span class='info'>Rosenberg, J., &ldquo;Extensible Markup Language (XML) Formats for Representing Resource Lists,&rdquo; May&nbsp;2007.</span><span>)</span></a> [RFC4826] in the body of the
MESSAGE request extended with the attributes defined in the <a class='info' href='#I-D.ietf-sipping-capacity-attribute'>XML Format Extension for
Representing Copy Control Attributes in Resource Lists<span> (</span><span class='info'>Garcia, M. and G. Camarillo, &ldquo;Extensible Markup Language (XML) Format Extension for Representing Copy  Control Attributes in Resource Lists,&rdquo; August&nbsp;2008.</span><span>)</span></a> [I&#8209;D.ietf&#8209;sipping&#8209;capacity&#8209;attribute]. This
resource list, whose <a class='info' href='#RFC2183'>Content-Disposition (RFC
2183)<span> (</span><span class='info'>Troost, R., Dorner, S., and K. Moore, &ldquo;Communicating Presentation Information in Internet Messages: The Content-Disposition Header Field,&rdquo; August&nbsp;1997.</span><span>)</span></a> [RFC2183] is 'recipient-list', as specified in the <a class='info' href='#I-D.ietf-sipping-uri-services'>Framework and Security
Considerations for SIP URI-List Services<span> (</span><span class='info'>Camarillo, G. and A. Roach, &ldquo;Framework and Security Considerations for Session Initiation Protocol (SIP)  Uniform Resource Identifier (URI)-List Services,&rdquo; November&nbsp;2007.</span><span>)</span></a> [I&#8209;D.ietf&#8209;sipping&#8209;uri&#8209;services], includes the URIs of
the targets. Each target URI may also be marked to indicate in what
role the URI-list service will place the target (e.g., "to", "cc", or
"bcc"), and whether the target URI is expected to be anonymized or
not, according to the procedures described in the <a class='info' href='#I-D.ietf-sipping-capacity-attribute'>XML Format Extension for
Representing Copy Control Attributes in Resource Lists<span> (</span><span class='info'>Garcia, M. and G. Camarillo, &ldquo;Extensible Markup Language (XML) Format Extension for Representing Copy  Control Attributes in Resource Lists,&rdquo; August&nbsp;2008.</span><span>)</span></a> [I&#8209;D.ietf&#8209;sipping&#8209;capacity&#8209;attribute]. When
the MESSAGE URI-list server expands the MESSAGE request to each
recipient, it includes (along with the instant message payload) a new
URI-list (based on the received one), whose <a class='info' href='#RFC2183'>Content-Disposition (RFC 2183)<span> (</span><span class='info'>Troost, R., Dorner, S., and K. Moore, &ldquo;Communicating Presentation Information in Internet Messages: The Content-Disposition Header Field,&rdquo; August&nbsp;1997.</span><span>)</span></a> [RFC2183] is
'recipient-list-history', as specified in the <a class='info' href='#I-D.ietf-sipping-capacity-attribute'>XML Format Extension for
Representing Copy Control Attributes in Resource Lists<span> (</span><span class='info'>Garcia, M. and G. Camarillo, &ldquo;Extensible Markup Language (XML) Format Extension for Representing Copy  Control Attributes in Resource Lists,&rdquo; August&nbsp;2008.</span><span>)</span></a> [I&#8209;D.ietf&#8209;sipping&#8209;capacity&#8209;attribute]. This
new URI-list includes the list of non-anonymous "to" and "cc" targets,
allowing recipients to both get knowledge of other recipients and
reply to them.

</p>
<a name="sec-uri-list-document"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
URI-List document</h3>

<p>
As described in the <a class='info' href='#I-D.ietf-sipping-uri-services'>Framework and Security Considerations for SIP URI-List Services<span> (</span><span class='info'>Camarillo, G. and A. Roach, &ldquo;Framework and Security Considerations for Session Initiation Protocol (SIP)  Uniform Resource Identifier (URI)-List Services,&rdquo; November&nbsp;2007.</span><span>)</span></a> [I&#8209;D.ietf&#8209;sipping&#8209;uri&#8209;services], specifications of individual URI-list services, like the
MESSAGE URI-list service described here, need to specify a default
format for 'recipient-list' bodies used within the particular service.

</p>
<p>
The default format for 'recipient-list' bodies for MESSAGE URI-list
services is the <a class='info' href='#RFC4826'>XML
Formats for Representing Resource Lists<span> (</span><span class='info'>Rosenberg, J., &ldquo;Extensible Markup Language (XML) Formats for Representing Resource Lists,&rdquo; May&nbsp;2007.</span><span>)</span></a> [RFC4826] extended with the
<a class='info' href='#I-D.ietf-sipping-capacity-attribute'>XML Format
Extension for Representing Copy Control Attributes in Resource Lists<span> (</span><span class='info'>Garcia, M. and G. Camarillo, &ldquo;Extensible Markup Language (XML) Format Extension for Representing Copy  Control Attributes in Resource Lists,&rdquo; August&nbsp;2008.</span><span>)</span></a> [I&#8209;D.ietf&#8209;sipping&#8209;capacity&#8209;attribute]. UACs and MESSAGE URI-list services handling 'recipient-list'
bodies MUST support both of these formats and MAY support other
formats.

</p>
<p>
As described in the <a class='info' href='#I-D.ietf-sipping-capacity-attribute'>XML Format Extension for
Representing Copy Control Attributes in Resource Lists<span> (</span><span class='info'>Garcia, M. and G. Camarillo, &ldquo;Extensible Markup Language (XML) Format Extension for Representing Copy  Control Attributes in Resource Lists,&rdquo; August&nbsp;2008.</span><span>)</span></a> [I&#8209;D.ietf&#8209;sipping&#8209;capacity&#8209;attribute], each
URI can be tagged with a 'copyControl' attribute set to either "to",
"cc", or "bcc", indicating the role in which the recipient will get
the MESSAGE request. Additionally, URIs can be tagged with the
'anonymize' attribute to prevent that the MESSAGE URI-list server
discloses the target URI in a URI-list.

</p>
<p>
Additionally, the <a class='info' href='#I-D.ietf-sipping-capacity-attribute'>XML Format Extension for
Representing Copy Control Attributes in Resource Lists<span> (</span><span class='info'>Garcia, M. and G. Camarillo, &ldquo;Extensible Markup Language (XML) Format Extension for Representing Copy  Control Attributes in Resource Lists,&rdquo; August&nbsp;2008.</span><span>)</span></a> [I&#8209;D.ietf&#8209;sipping&#8209;capacity&#8209;attribute] defines
a 'recipient-list-history' body that contains the list of intended
recipients. The default format for 'recipient-list-history' bodies for
MESSAGE URI-list services is also the <a class='info' href='#RFC4826'>XML Formats for Representing
Resource Lists<span> (</span><span class='info'>Rosenberg, J., &ldquo;Extensible Markup Language (XML) Formats for Representing Resource Lists,&rdquo; May&nbsp;2007.</span><span>)</span></a> [RFC4826] extended with the <a class='info' href='#I-D.ietf-sipping-capacity-attribute'>XML Format Extension for
Representing Copy Control Attributes in Resource Lists<span> (</span><span class='info'>Garcia, M. and G. Camarillo, &ldquo;Extensible Markup Language (XML) Format Extension for Representing Copy  Control Attributes in Resource Lists,&rdquo; August&nbsp;2008.</span><span>)</span></a> [I&#8209;D.ietf&#8209;sipping&#8209;capacity&#8209;attribute]. MESSAGE URI-list services MUST support both of these formats;
UASes MAY support these formats. MESSAGE URI-list servers and UASes
MAY support other formats.

</p>
<p>
Nevertheless, the <a class='info' href='#RFC4826'>XML
Formats for Representing Resource Lists<span> (</span><span class='info'>Rosenberg, J., &ldquo;Extensible Markup Language (XML) Formats for Representing Resource Lists,&rdquo; May&nbsp;2007.</span><span>)</span></a> [RFC4826] document provides
features, such as hierarchical lists and the ability to include
entries by reference relative to the XCAP root URI, that are not
needed by the MESSAGE URI-list service defined in this document, which
only needs to transfer a flat list of URIs between a UA (User Agent)
and the MESSAGE URI-list server. 

</p>
<a name="sec-option"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Option-tag</h3>

<p>
This document defines the 'recipient-list-message' option-tag for use
in the Require and Supported SIP header fields.

</p>
<p>
  </p>
<blockquote class="text"><dl>
<dt></dt>
<dd>
      This option-tag is used to ensure that a server can process the
      'recipient-list' body used in a MESSAGE request. It also
      provides a mechanism to discover the capability of the server in
      responses to OPTIONS requests.
    
</dd>
</dl></blockquote><p>

</p>
<p>
<a class='info' href='#sec-uac-procedures'>Section&nbsp;6<span> (</span><span class='info'>Procedures at the User Agent Client</span><span>)</span></a> provides normative procedures for the
usage of this option tag.

</p>
<a name="sec-uac-procedures"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Procedures at the User Agent Client</h3>

<p>
A UAC that wants to create a multiple-recipient MESSAGE request
creates a MESSAGE request that MUST be formatted according to <a class='info' href='#RFC3428'>RFC 3428<span> (</span><span class='info'>Campbell, B., Rosenberg, J., Schulzrinne, H., Huitema, C., and D. Gurle, &ldquo;Session Initiation Protocol (SIP) Extension for Instant Messaging,&rdquo; December&nbsp;2002.</span><span>)</span></a> [RFC3428] Section 4. The UAC populates the
Request-URI with the SIP or SIPS URI of the MESSAGE URI-list
service. In addition to the regular instant message body, the UAC adds
a recipient-list body whose Content-Disposition type is 'recipient-list',
specified in the <a class='info' href='#I-D.ietf-sipping-uri-services'>Framework and Security Considerations for SIP URI-list Services<span> (</span><span class='info'>Camarillo, G. and A. Roach, &ldquo;Framework and Security Considerations for Session Initiation Protocol (SIP)  Uniform Resource Identifier (URI)-List Services,&rdquo; November&nbsp;2007.</span><span>)</span></a> [I&#8209;D.ietf&#8209;sipping&#8209;uri&#8209;services]. This body contains a URI-list with the recipients of the
MESSAGE. Target URIs in this body MAY also be tagged with the
'copyControl' and 'anonymize' attributes specified in the <a class='info' href='#I-D.ietf-sipping-capacity-attribute'>XML Format Extension for
Representing Copy Control Attributes in Resource Lists<span> (</span><span class='info'>Garcia, M. and G. Camarillo, &ldquo;Extensible Markup Language (XML) Format Extension for Representing Copy  Control Attributes in Resource Lists,&rdquo; August&nbsp;2008.</span><span>)</span></a> [I&#8209;D.ietf&#8209;sipping&#8209;capacity&#8209;attribute]. The UAC
MUST also include the 'recipient-list-message' option-tag, defined in
<a class='info' href='#sec-option'>Section&nbsp;5<span> (</span><span class='info'>Option-tag</span><span>)</span></a>, in a Require header field.

</p>
<p>
UACs generating MESSAGE request that carry recipient-list bodies, as
described in previous sections, MUST include this option-tag in a
Require header field. UAs that are able to receive and process
MESSAGEs with a recipient-list body, as described in previous
sections, SHOULD include this option-tag in a Supported header field
when responding to OPTIONS requests.

</p>
<p>
Multiple-recipient MESSAGE requests contain a multipart body that
contains the body carrying the list and the actual instant message
payload. In some cases, the MESSAGE request can contain bodies other
than the text and the list bodies (e.g., when the request is protected
with <a class='info' href='#RFC3851'>S/MIME as per RFC 3851<span> (</span><span class='info'>Ramsdell, B., &ldquo;Secure/Multipurpose Internet Mail Extensions (S/MIME) Version 3.1 Message Specification,&rdquo; July&nbsp;2004.</span><span>)</span></a> [RFC3851]).

</p>
<p>
Typically, the MESSAGE URI-list service will copy all the significant
header fields in the outgoing MESSAGE request. However, there might be
cases where the SIP UA wants the MESSAGE URI-list service to add a
particular header field with a particular value, even if the header
field wasn't present in the MESSAGE request sent by the UAC. In this
case, the UAC MAY use the "?" mechanism described in Section 19.1.1 of
<a class='info' href='#RFC3261'>RFC 3261<span> (</span><span class='info'>Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A., Peterson, J., Sparks, R., Handley, M., and E. Schooler, &ldquo;SIP: Session Initiation Protocol,&rdquo; June&nbsp;2002.</span><span>)</span></a> [RFC3261] to encode extra information in
any URI in the list. However, the UAC MUST NOT use the special "body"
hname (see Section 19.1.1 of <a class='info' href='#RFC3261'>RFC 3261<span> (</span><span class='info'>Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A., Peterson, J., Sparks, R., Handley, M., and E. Schooler, &ldquo;SIP: Session Initiation Protocol,&rdquo; June&nbsp;2002.</span><span>)</span></a> [RFC3261])
to encode a body, since the body is present in the MESSAGE request
itself.

</p>
<p>
The following is an example of a URI that uses the "?" mechanism:

</p>
<p>
sip:bob@example.com?Accept-Contact=*%3bmobility%3d%22mobile%22

</p>
<p>
The previous URI requests the MESSAGE URI-list service to add the
following header field to a MESSAGE request to be sent to
bob@example.com:

</p>
<p>
Accept-Contact: *;mobility="mobile"

</p>
<p>

The <a class='info' href='#RFC4826'>XML Format for
Representing Resource Lists<span> (</span><span class='info'>Rosenberg, J., &ldquo;Extensible Markup Language (XML) Formats for Representing Resource Lists,&rdquo; May&nbsp;2007.</span><span>)</span></a> [RFC4826] document provides features, such
as hierarchical lists and the ability to include entries by reference
relative to the XCAP root URI. However, these features are not needed
by the multiple MESSAGE URI-List service defined in this
document.Therefore, when using the default resource list document, UAs
SHOULD use flat lists (i.e., no hierarchical lists) and SHOULD NOT use
&lt;entry-ref&gt; elements.

</p>
<a name="sec-exploder"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Procedures at the MESSAGE URI-List Service</h3>

<p>
On reception of a MESSAGE request with a URI-list, the MESSAGE
URI-list service answers to the UAC with a 202 (Accepted)
response. 

</p>
<p>
  </p>
<blockquote class="text"><dl>
<dt></dt>
<dd>Note that the status code in the response to the MESSAGE does
    not provide any information about whether or not the MESSAGEs
    generated by the URI-list service were successfully delivered to
    the URIs in the list. That is, a 202 (Accepted) response means
    that the MESSAGE URI-list service has received the MESSAGE and
    that it will try to send a similar MESSAGE to the URIs in the
    list. Designing a mechanism to inform a client about the delivery
    status of an instant message is outside the scope of this
    document.
    
</dd>
</dl></blockquote><p>

</p>
<p>
Since the MESSAGE URI-List service does not use hierarchical lists nor
lists that include entries by reference to the XCAP root URI, a
MESSAGE URI-list server receiving a URI-list with more information
than what has just been described MAY discard all the extra
information.

</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.1"></a><h3>7.1.&nbsp;
Determining the intended recipient</h3>

<p>
On reception of a MESSAGE request with a URI-list, a MESSAGE URI-list
service determines the list of intended recipients by inspecting the
URI-list contained in the body. 

</p>
<p>
Section 4.1 of the <a class='info' href='#I-D.ietf-sipping-uri-services'>Framework and Security Considerations for SIP URI-List Services<span> (</span><span class='info'>Camarillo, G. and A. Roach, &ldquo;Framework and Security Considerations for Session Initiation Protocol (SIP)  Uniform Resource Identifier (URI)-List Services,&rdquo; November&nbsp;2007.</span><span>)</span></a> [I&#8209;D.ietf&#8209;sipping&#8209;uri&#8209;services]
discusses cases when duplicated URIs are found in a URI-list.  In
order to avoid duplicated requests, MESSAGE URI-list services MUST
take those actions specified in <a class='info' href='#I-D.ietf-sipping-uri-services'>Framework and Security
Considerations for SIP URI-List Services<span> (</span><span class='info'>Camarillo, G. and A. Roach, &ldquo;Framework and Security Considerations for Session Initiation Protocol (SIP)  Uniform Resource Identifier (URI)-List Services,&rdquo; November&nbsp;2007.</span><span>)</span></a> [I&#8209;D.ietf&#8209;sipping&#8209;uri&#8209;services] into account to avoid
sending duplicated request to the same recipient.

</p>
<a name="sec-exploder-outgoing"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.2"></a><h3>7.2.&nbsp;
Creating an outgoing MESSAGE request</h3>

<p>
Since the MESSAGE URI-list behaves as a UAC for outgoing MESSAGE
requests, for each of the intended recipients, the MESSAGE URI-list
service creates a new MESSAGE request according to the procedures
described in Section 4 of <a class='info' href='#RFC3428'>RFC
3428<span> (</span><span class='info'>Campbell, B., Rosenberg, J., Schulzrinne, H., Huitema, C., and D. Gurle, &ldquo;Session Initiation Protocol (SIP) Extension for Instant Messaging,&rdquo; December&nbsp;2002.</span><span>)</span></a> [RFC3428]. Additionally, Section 5.3 of the <a class='info' href='#I-D.ietf-sipping-uri-services'>Framework and Security
Considerations for SIP URI-List Services<span> (</span><span class='info'>Camarillo, G. and A. Roach, &ldquo;Framework and Security Considerations for Session Initiation Protocol (SIP)  Uniform Resource Identifier (URI)-List Services,&rdquo; November&nbsp;2007.</span><span>)</span></a> [I&#8209;D.ietf&#8209;sipping&#8209;uri&#8209;services] provides additional
general guidance in creating outgoing requests. This document also
specifies the following procedures:

</p>
<p></p>
<ul class="text">
<li>
A MESSAGE URI-list service MUST include a From header field whose
value is the same as the From header field included in the incoming
MESSAGE request, subject to the privacy requirements (see <a class='info' href='#RFC3323'>RFC 3323<span> (</span><span class='info'>Peterson, J., &ldquo;A Privacy Mechanism for the Session Initiation Protocol (SIP),&rdquo; November&nbsp;2002.</span><span>)</span></a> [RFC3323] and <a class='info' href='#RFC3325'>RFC 3325<span> (</span><span class='info'>Jennings, C., Peterson, J., and M. Watson, &ldquo;Private Extensions to the Session Initiation Protocol (SIP) for Asserted Identity within Trusted Networks,&rdquo; November&nbsp;2002.</span><span>)</span></a> [RFC3325]) expressed in the incoming MESSAGE request.
<br />
<br />


<blockquote class="text"><dl>
<dt></dt>
<dd> 
  Note that this does not apply to the "tag" parameter.
  <br />

  
</dd>
<dt></dt>
<dd>Failing to copy the From header field of the sender would prevent
  the recipient to get a hint of the sender's identity. Note also that
  this requirement does not intend to contradict requirements for
  additional services running on the same physical node. 
  Specifically, a privacy service (see <a class='info' href='#RFC3323'>RFC 3323<span> (</span><span class='info'>Peterson, J., &ldquo;A Privacy Mechanism for the Session Initiation Protocol (SIP),&rdquo; November&nbsp;2002.</span><span>)</span></a> [RFC3323]) can be co-located with the MESSAGE URI-list service, in
  which case, the privacy service has precedence over the MESSAGE
  URI-list service.
  <br />

  
</dd>
</dl></blockquote>

</li>
<li>
A MESSAGE URI-list service SHOULD generate a new To header field value
set to the intended recipient's URI. According to the procedures of
<a class='info' href='#RFC3261'>RFC 3261<span> (</span><span class='info'>Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A., Peterson, J., Sparks, R., Handley, M., and E. Schooler, &ldquo;SIP: Session Initiation Protocol,&rdquo; June&nbsp;2002.</span><span>)</span></a> [RFC3261] Section 8.1.1.1, this value is
also expected to be equal to the Request-URI of the outgoing MESSAGE
request.
<br />
<br />


<blockquote class="text">
<p>
  The MESSAGE URI-list service behaves as a User Agent Client, thus,
  the To header field should be populated with the recipient's URI.
  <br />
<br />

  
</p>
</blockquote>

</li>
<li>
A MESSAGE URI-list service SHOULD create a new Call-ID header field
value.
<br />
<br />


<blockquote class="text">
<p>A Call-ID header field might contain addressing information that
  the sender wants to remain private. Since there is no need to keep
  the same Call-ID on both sides of the MESSAGE URI-list service, and
  since the MESSAGE URI-list service behaves as a User Agent Client, it
  is recommended to create a new Call-ID header field value according
  to the regular SIP procedures.
  <br />
<br />

  
</p>
</blockquote>

</li>
<li>
If a P-Asserted-Identity header field was present in the incoming
MESSAGE request and the request was received from a trusted source, as
specified in <a class='info' href='#RFC3325'>RFC 3325<span> (</span><span class='info'>Jennings, C., Peterson, J., and M. Watson, &ldquo;Private Extensions to the Session Initiation Protocol (SIP) for Asserted Identity within Trusted Networks,&rdquo; November&nbsp;2002.</span><span>)</span></a> [RFC3325], and the first
hop of the outgoing MESSAGE request is also trusted, a MESSAGE
URI-list service MUST include a P-Asserted-Identity header field in
the outgoing MESSAGE request with the same received value. However, if
the first hop of the outgoing MESSAGE request is not trusted and the
incoming MESSAGE request included a Privacy header field with a value
different than 'none', the MESSAGE URI-list service MUST NOT include a
P-Asserted-Identity header field in the outgoing MESSAGE request.

</li>
<li>
If a MESSAGE URI-list service is able to assert the identity of a user
(e.g., using <a class='info' href='#RFC2617'>HTTP Digest authentication scheme
as per RFC 2617<span> (</span><span class='info'>Franks, J., Hallam-Baker, P., Hostetler, J., Lawrence, S., Leach, P., Luotonen, A., and L. Stewart, &ldquo;HTTP Authentication: Basic and Digest Access Authentication,&rdquo; June&nbsp;1999.</span><span>)</span></a> [RFC2617], <a class='info' href='#RFC3851'>S/MIME as per RFC 3851<span> (</span><span class='info'>Ramsdell, B., &ldquo;Secure/Multipurpose Internet Mail Extensions (S/MIME) Version 3.1 Message Specification,&rdquo; July&nbsp;2004.</span><span>)</span></a> [RFC3851], etc.) and the service implements a mechanism where it can map
that authentication scheme to a user's SIP or SIPS URI, and subject to
the privacy requirements expressed in the incoming MESSAGE request
(see <a class='info' href='#RFC3323'>RFC 3323<span> (</span><span class='info'>Peterson, J., &ldquo;A Privacy Mechanism for the Session Initiation Protocol (SIP),&rdquo; November&nbsp;2002.</span><span>)</span></a> [RFC3323], the MESSAGE URI-list
MAY insert a P-Asserted-Identity header with the value of the user's
asserted URI.

</li>
<li>
If the incoming MESSAGE request contains an Authorization or
Proxy-Authorization header fields whose realm is set to the MESSAGE
URI-list server's realm, then the MESSAGE URI-list service SHOULD NOT
copy it to the outgoing MESSAGE request; otherwise (i.e., if the
Authorization or Proxy-Authorization header field of incoming MESSAGE
request contains a different realm), the MESSAGE URI-list service MUST
copy the value to the respective header field of the outgoing
MESSAGE request.

</li>
<li>
A MESSAGE URI-list service SHOULD create a separate count for the
CSeq header field of the outgoing MESSAGE request.

</li>
<li>
A MESSAGE URI-list service SHOULD initialize the value of the
Max-Forward header field of the outgoing MESSAGE request.

</li>
<li>
A MESSAGE URI-list service MUST include its own value in the Via
header field.

</li>
</ul>

<a name="sec-exploder-bodies"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.3"></a><h3>7.3.&nbsp;
Composing bodies in the outgoing MESSAGE request</h3>

<p>
When creating the body of each of the outgoing MESSAGE requests, the
MESSAGE URI-list service tries to keep the relevant bodies of the
incoming MESSAGE request and copies them to the outgoing MESSAGE
request. The following guidelines are provided:

</p>
<p></p>
<ul class="text">
<li>
A MESSAGE request received at a MESSAGE URI-list service can contain
one or more security bodies (e.g., <a class='info' href='#RFC3851'>S/MIME, RFC
3851<span> (</span><span class='info'>Ramsdell, B., &ldquo;Secure/Multipurpose Internet Mail Extensions (S/MIME) Version 3.1 Message Specification,&rdquo; July&nbsp;2004.</span><span>)</span></a> [RFC3851]) encrypted with the public key of the MESSAGE URI-list
service. These bodies are deemed to be read by the URI-list service
rather than the recipient of the outgoing MESSAGE request (which will
not be able to decrypt them). Therefore, a MESSAGE URI-list service
MUST NOT copy any security body (such as an <a class='info' href='#RFC3851'>S/MIME as per RFC 3851<span> (</span><span class='info'>Ramsdell, B., &ldquo;Secure/Multipurpose Internet Mail Extensions (S/MIME) Version 3.1 Message Specification,&rdquo; July&nbsp;2004.</span><span>)</span></a> [RFC3851] encrypted body) addressed to the
MESSAGE URI-list service to the outgoing MESSAGE request. This
includes bodies encrypted with the public key of the URI-list service.

</li>
<li>
The incoming MESSAGE request typically contains a recipient-list body
or reference, as indicated in the <a class='info' href='#I-D.ietf-sipping-uri-services'>Framework and Security
Considerations for SIP URI-List Services<span> (</span><span class='info'>Camarillo, G. and A. Roach, &ldquo;Framework and Security Considerations for Session Initiation Protocol (SIP)  Uniform Resource Identifier (URI)-List Services,&rdquo; November&nbsp;2007.</span><span>)</span></a> [I&#8209;D.ietf&#8209;sipping&#8209;uri&#8209;services] with the actual list
of recipients. If this URI-list includes resources tagged with the
'copyControl' attribute set to a value of "to" or "cc", the URI-list
service SHOULD include a URI-list in each of the outgoing MESSAGE
requests. This list SHOULD be formatted according to the <a class='info' href='#RFC4826'>XML Format for Representing
Resource Lists<span> (</span><span class='info'>Rosenberg, J., &ldquo;Extensible Markup Language (XML) Formats for Representing Resource Lists,&rdquo; May&nbsp;2007.</span><span>)</span></a> [RFC4826] and the copyControl extension specified in the
<a class='info' href='#I-D.ietf-sipping-capacity-attribute'>XML Format
Extension for Representing Copy Control Attributes in Resource Lists<span> (</span><span class='info'>Garcia, M. and G. Camarillo, &ldquo;Extensible Markup Language (XML) Format Extension for Representing Copy  Control Attributes in Resource Lists,&rdquo; August&nbsp;2008.</span><span>)</span></a> [I&#8209;D.ietf&#8209;sipping&#8209;capacity&#8209;attribute]. The URI-list service MUST follow the procedures specified in
<a class='info' href='#I-D.ietf-sipping-capacity-attribute'>XML Format for
Representing Resource Lists<span> (</span><span class='info'>Garcia, M. and G. Camarillo, &ldquo;Extensible Markup Language (XML) Format Extension for Representing Copy  Control Attributes in Resource Lists,&rdquo; August&nbsp;2008.</span><span>)</span></a> [I&#8209;D.ietf&#8209;sipping&#8209;capacity&#8209;attribute] with respect handling of the
'anonymize', 'count' and 'copyControl' attributes.

</li>
<li>
If the MESSAGE URI-list service includes a URI-list in an outgoing
MESSAGE request, it MUST include a <a class='info' href='#RFC2183'>Content-Disposition header field as per RFC 2183<span> (</span><span class='info'>Troost, R., Dorner, S., and K. Moore, &ldquo;Communicating Presentation Information in Internet Messages: The Content-Disposition Header Field,&rdquo; August&nbsp;1997.</span><span>)</span></a> [RFC2183] with the value set to 'recipient-list-history' and a <a class='info' href='#RFC3204'>'handling' parameter as per RFC 3204<span> (</span><span class='info'>Zimmerer, E., Peterson, J., Vemuri, A., Ong, L., Audet, F., Watson, M., and M. Zonoun, &ldquo;MIME media types for ISUP and QSIG Objects,&rdquo; December&nbsp;2001.</span><span>)</span></a> [RFC3204] set to
"optional".

</li>
<li>
If a MESSAGE URI-list service includes a URI-list in an outgoing
MESSAGE request, it SHOULD use <a class='info' href='#RFC3851'>S/MIME (RFC 3851)<span> (</span><span class='info'>Ramsdell, B., &ldquo;Secure/Multipurpose Internet Mail Extensions (S/MIME) Version 3.1 Message Specification,&rdquo; July&nbsp;2004.</span><span>)</span></a> [RFC3851] to encrypt the
URI-list with the public key of the receiver.

</li>
<li>
The MESSAGE URI-list service SHOULD copy all the remaining message
bodies (e.g., text messages, images, etc.) of the incoming MESSAGE
request to the outgoing MESSAGE request.

</li>
<li>
If there is only one body left, the MESSAGE URI-list service MUST
remove the multipart/mixed wrapper in the outgoing MESSAGE request.

</li>
</ul>

<p>
The rest of the MESSAGE request corresponding to a given URI in the
URI-list MUST be created following the rules in Section 19.1.5 "Forming
Requests from a URI" of <a class='info' href='#RFC3261'>RFC 3261<span> (</span><span class='info'>Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A., Peterson, J., Sparks, R., Handley, M., and E. Schooler, &ldquo;SIP: Session Initiation Protocol,&rdquo; June&nbsp;2002.</span><span>)</span></a> [RFC3261]. In
particular, Section 19.1.5 of <a class='info' href='#RFC3261'>RFC 3261<span> (</span><span class='info'>Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A., Peterson, J., Sparks, R., Handley, M., and E. Schooler, &ldquo;SIP: Session Initiation Protocol,&rdquo; June&nbsp;2002.</span><span>)</span></a> [RFC3261]
states:

</p>
<p>
  </p>
<blockquote class="text">
<p>
      "An implementation SHOULD treat the presence of any headers or
      body parts in the URI as a desire to include them in the
      message, and choose to honor the request on a per-component
      basis."  
    
</p>
</blockquote><p>

</p>
<p>
SIP allows to append a "method" parameter to a URI. Therefore, it is
legitimate that an the 'uri' attribute of the &lt;entry&gt; element in the
XML resource list contains a 'method' parameter. MESSAGE URI-list
services MUST generate only MESSAGE requests, regardless of the
'method' parameter that the URIs in the list indicate. Effectively,
MESSAGE URI-list services MUST ignore the 'method' parameter in each
of the URIs present in the URI-list.

</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
Procedures at the UAS</h3>

<p>
A UAS (in this specification, also known as intended recipient UAS)
that receives a MESSAGE request from the URI-list service behaves as
specified in <a class='info' href='#RFC3428'>RFC 3428<span> (</span><span class='info'>Campbell, B., Rosenberg, J., Schulzrinne, H., Huitema, C., and D. Gurle, &ldquo;Session Initiation Protocol (SIP) Extension for Instant Messaging,&rdquo; December&nbsp;2002.</span><span>)</span></a> [RFC3428] Section 7.

</p>
<p>
If the UAS supports this specification and the MESSAGE request
contains a body with a <a class='info' href='#RFC2183'>Content-Disposition
header field as per RFC 2183<span> (</span><span class='info'>Troost, R., Dorner, S., and K. Moore, &ldquo;Communicating Presentation Information in Internet Messages: The Content-Disposition Header Field,&rdquo; August&nbsp;1997.</span><span>)</span></a> [RFC2183] set to 'recipient-list-history',
then the UAS will be able to determine who are the other intended
recipients of the MESSAGE request. This allows the user to create a
reply request (e.g., MESSAGE, INVITE) to the sender and the rest of
the recipients included in the URI-list.

</p>
<a name="sec-example"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
Examples</h3>

<p>
<a class='info' href='#example-flow'>Figure&nbsp;1<span> (</span><span class='info'>Example of operation</span><span>)</span></a> shows an example of operation. A SIP
UAC issuer sends a MESSAGE request. The MESSAGE URI-list service
answers with a 202 (Accepted) response and sends a MESSAGE request to
each of the intended recipients.

</p><br /><hr class="insert" />
<a name="example-flow"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
+--------+        +---------+      +--------+ +--------+ +--------+
|SIP UAC |        | MESSAGE |      |intended| |intended| |intended|
| issuer |        | URI-list|      | recip. | | recip. | | recip. |
|        |        | service |      |   1    | |   2    | |   n    |
+--------+        +---------+      +--------+ +--------+ +--------+
    |                  |               |          |          |
    | F1. MESSAGE      |               |          |          |
    | ----------------&gt;|               |          |          |
    | F2. 202 Accepted |               |          |          |
    |&lt;---------------- |  F3. MESSAGE  |          |          |
    |                  | -------------&gt;|          |          |
    |                  |  F4. MESSAGE  |          |          |
    |                  | ------------------------&gt;|          |
    |                  |  F5. MESSAGE  |          |          |
    |                  | -----------------------------------&gt;|
    |                  |  F6. 200 OK   |          |          |
    |                  |&lt;------------- |          |          |
    |                  |  F7. 200 OK   |          |          |
    |                  |&lt;------------------------ |          |
    |                  |  F8. 200 OK   |          |          |
    |                  |&lt;----------------------------------- |
    |                  |               |          |          |
    |                  |               |          |          |
    |                  |               |          |          |
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;1: Example of operation&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>
The MESSAGE request F1 (shown in <a class='info' href='#fig-incoming-message-to-exploder'>Figure&nbsp;2<span> (</span><span class='info'>MESSAGE   request received at the MESSAGE URI-list server</span><span>)</span></a>) contains a
multipart/mixed body that is composed of two bodies: a text/plain body
containing the instant message payload and an
application/resource-lists+xml body containing the list of
recipients.

</p><br /><hr class="insert" />
<a name="fig-incoming-message-to-exploder"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
MESSAGE sip:list-service.example.com SIP/2.0
Via: SIP/2.0/TCP uac.example.com
    ;branch=z9hG4bKhjhs8ass83
Max-Forwards: 70
To: MESSAGE URI-list Service &lt;sip:list-service.example.com&gt;
From: Alice &lt;sip:alice@example.com&gt;;tag=32331
Call-ID: d432fa84b4c76e66710
CSeq: 1 MESSAGE
Require: recipient-list-message
Content-Type: multipart/mixed;boundary="boundary1"
Content-Length: 501

--boundary1
Content-Type: text/plain

Hello World!

--boundary1
Content-Type: application/resource-lists+xml
Content-Disposition: recipient-list

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;resource-lists xmlns="urn:ietf:params:xml:ns:resource-lists"
          xmlns:cp="urn:ietf:params:xml:ns:copycontrol"&gt;
  &lt;list&gt;
    &lt;entry uri="sip:bill@example.com" cp:copyControl="to" /&gt;
    &lt;entry uri="sip:randy@example.net" cp:copyControl="to"
                                       cp:anonymize="true"/&gt;
    &lt;entry uri="sip:eddy@example.com" cp:copyControl="to"
                                      cp:anonymize="true"/&gt;
    &lt;entry uri="sip:joe@example.org" cp:copyControl="cc" /&gt;
    &lt;entry uri="sip:carol@example.net" cp:copyControl="cc"
                                       cp:anonymize="true"/&gt;
    &lt;entry uri="sip:ted@example.net" cp:copyControl="bcc" /&gt;
    &lt;entry uri="sip:andy@example.com" cp:copyControl="bcc" /&gt;
  &lt;/list&gt;
&lt;/resource-lists&gt;
--boundary1--
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;2: MESSAGE
  request received at the MESSAGE URI-list server&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>
The MESSAGE requests F3, F4 and F5 are similar in nature. All those
MESSAGE requests contain a multipart/mixed body which is composed of
two other bodies: a text/plain body containing the instant message
payload and an application/resource-lists+xml containing the list of
recipients. Unlike the text/plain body the
application/resource-lists+xml body is not equal to the
application/resource-lists+xml included in the incoming MESSAGE
request F1, because the URI-list service has anonymized those URIs
tagged with the 'anonymize' attribute and has removed those URIs
tagged with a "bcc" 'copyControl' attribute. <a class='info' href='#fig-outgoing-message-from-exploder'>Figure&nbsp;3<span> (</span><span class='info'>MESSAGE  request sent by the MESSAGE URI-list server</span><span>)</span></a> shows an examples of
the message F3.

</p><br /><hr class="insert" />
<a name="fig-outgoing-message-from-exploder"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
MESSAGE sip:bill@example.com SIP/2.0
Via: SIP/2.0/TCP list-service.example.com
    ;branch=z9hG4bKhjhs8as34sc
Max-Forwards: 70
To: &lt;sip:bill@example.com&gt;
From: Alice &lt;sip:alice@example.com&gt;;tag=210342
Call-ID: 39s02sdsl20d9sj2l
CSeq: 1 MESSAGE
Content-Type: multipart/mixed;boundary="boundary1"
Content-Length: 501

--boundary1
Content-Type: text/plain

Hello World!

--boundary1
Content-Type: application/resource-lists+xml
Content-Disposition: recipient-list-history; handling=optional

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;resource-lists xmlns="urn:ietf:params:xml:ns:resource-lists"
          xmlns:cp="urn:ietf:params:xml:ns:copycontrol"&gt;
  &lt;list&gt;
    &lt;entry uri="sip:bill@example.com" cp:copyControl="to" /&gt;
    &lt;entry uri="sip:anonymous@anonymous.invalid" cp:copyControl="to"
                                                 cp:count="2"/&gt;
    &lt;entry uri="sip:joe@example.org" cp:copyControl="cc" /&gt;
    &lt;entry uri="sip:anonymous@anonymous.invalid" cp:copyControl="cc"
                                                 cp:count="1"/&gt;
  &lt;/list&gt;
&lt;/resource-lists&gt;
--boundary1--
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;3: MESSAGE
 request sent by the MESSAGE URI-list server&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="sec-security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10"></a><h3>10.&nbsp;
Security Considerations</h3>

<p>
The <a class='info' href='#I-D.ietf-sipping-uri-services'>Framework and
Security Considerations for SIP URI-List Services<span> (</span><span class='info'>Camarillo, G. and A. Roach, &ldquo;Framework and Security Considerations for Session Initiation Protocol (SIP)  Uniform Resource Identifier (URI)-List Services,&rdquo; November&nbsp;2007.</span><span>)</span></a> [I&#8209;D.ietf&#8209;sipping&#8209;uri&#8209;services] discusses
issues related to SIP URI-list services. Implementations of MESSAGE
URI-list services MUST follow the security-related rules in the <a class='info' href='#I-D.ietf-sipping-uri-services'>Framework and Security
Considerations for SIP URI-List Services<span> (</span><span class='info'>Camarillo, G. and A. Roach, &ldquo;Framework and Security Considerations for Session Initiation Protocol (SIP)  Uniform Resource Identifier (URI)-List Services,&rdquo; November&nbsp;2007.</span><span>)</span></a> [I&#8209;D.ietf&#8209;sipping&#8209;uri&#8209;services]. These rules include
mandatory authentication and authorization of clients, and opt-in
lists.

</p>
<p>
If the contents of the instant message needs to be kept private, the
user agent client SHOULD use <a class='info' href='#RFC3851'>S/MIME as per RFC
3851<span> (</span><span class='info'>Ramsdell, B., &ldquo;Secure/Multipurpose Internet Mail Extensions (S/MIME) Version 3.1 Message Specification,&rdquo; July&nbsp;2004.</span><span>)</span></a> [RFC3851] to prevent a third party from viewing this
information. In this case, the user agent client SHOULD encrypt the
instant message body with a content encryption key. Then, for each
receiver in the list, the UAC SHOULD encrypt the content encryption
key with the public key of the receiver, and attach it to the MESSAGE
request.

</p>
<a name="iana"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11"></a><h3>11.&nbsp;
IANA Considerations</h3>

<p>
This document defines the SIP option tag 'recipient-list-message'

</p>
<p>
The following row shall be added to the "Option Tags" section of the
SIP Parameter Registry:

</p><br /><hr class="insert" />
<a name="ianatable2"></a>
<table class="full" align="center" border="0" cellpadding="2" cellspacing="2">
<col align="left" width="37%"><col align="left"><col align="center" width="15%">
<tr><th align="left">Name</th><th align="left">Description</th><th align="center">Reference</th></tr>
<tr>
<td align="left">recipient-list-message</td>
<td align="left">The body contains a list of URIs that indicates the recipients of
the SIP MESSAGE request</td>
<td align="center">[RFCXXXX]</td>
</tr>
</table>
<br clear="all" />
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Table 1: Registration of the
	   'recipient-list-message' Option-Tag in SIP&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>Note to IANA and the RFC editor: replace RFCXXXX above with the RFC
number of this specification.
</p>
<a name="sec-acks"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.12"></a><h3>12.&nbsp;
Acknowledgements</h3>

<p>
Duncan Mills supported the idea of having 1 to n MESSAGEs. Ben
Campbell, Paul Kyzivat, Cullen Jennings, Jonathan Rosenberg, Dean
Willis, and Keith Drage provided helpful comments.

</p>
<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>13.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2183">[RFC2183]</a></td>
<td class="author-text"><a href="mailto:rens@century.com">Troost, R.</a>, <a href="mailto:sdorner@qualcomm.com">Dorner, S.</a>, and <a href="mailto:moore@cs.utk.edu">K. Moore</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2183">Communicating Presentation Information in Internet Messages: The Content-Disposition Header Field</a>,&rdquo; RFC&nbsp;2183, August&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2183.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2183.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2183.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2617">[RFC2617]</a></td>
<td class="author-text"><a href="mailto:john@math.nwu.edu">Franks, J.</a>, <a href="mailto:pbaker@verisign.com">Hallam-Baker, P.</a>, <a href="mailto:jeff@AbiSource.com">Hostetler, J.</a>, <a href="mailto:lawrence@agranat.com">Lawrence, S.</a>, <a href="mailto:paulle@microsoft.com">Leach, P.</a>, Luotonen, A., and <a href="mailto:stewart@OpenMarket.com">L. Stewart</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2617">HTTP Authentication: Basic and Digest Access Authentication</a>,&rdquo; RFC&nbsp;2617, June&nbsp;1999 (<a href="http://www.rfc-editor.org/rfc/rfc2617.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2617.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2617.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3204">[RFC3204]</a></td>
<td class="author-text">Zimmerer, E., Peterson, J., Vemuri, A., Ong, L., Audet, F., Watson, M., and M. Zonoun, &ldquo;<a href="http://tools.ietf.org/html/rfc3204">MIME media types for ISUP and QSIG Objects</a>,&rdquo; RFC&nbsp;3204, December&nbsp;2001 (<a href="http://www.rfc-editor.org/rfc/rfc3204.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3261">[RFC3261]</a></td>
<td class="author-text">Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A., Peterson, J., Sparks, R., Handley, M., and E. Schooler, &ldquo;<a href="http://tools.ietf.org/html/rfc3261">SIP: Session Initiation Protocol</a>,&rdquo; RFC&nbsp;3261, June&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3261.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3323">[RFC3323]</a></td>
<td class="author-text">Peterson, J., &ldquo;<a href="http://tools.ietf.org/html/rfc3323">A Privacy Mechanism for the Session Initiation Protocol (SIP)</a>,&rdquo; RFC&nbsp;3323, November&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3323.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3325">[RFC3325]</a></td>
<td class="author-text">Jennings, C., Peterson, J., and M. Watson, &ldquo;<a href="http://tools.ietf.org/html/rfc3325">Private Extensions to the Session Initiation Protocol (SIP) for Asserted Identity within Trusted Networks</a>,&rdquo; RFC&nbsp;3325, November&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3325.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3428">[RFC3428]</a></td>
<td class="author-text">Campbell, B., Rosenberg, J., Schulzrinne, H., Huitema, C., and D. Gurle, &ldquo;<a href="http://tools.ietf.org/html/rfc3428">Session Initiation Protocol (SIP) Extension for Instant Messaging</a>,&rdquo; RFC&nbsp;3428, December&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3428.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3851">[RFC3851]</a></td>
<td class="author-text">Ramsdell, B., &ldquo;<a href="http://tools.ietf.org/html/rfc3851">Secure/Multipurpose Internet Mail Extensions (S/MIME) Version 3.1 Message Specification</a>,&rdquo; RFC&nbsp;3851, July&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3851.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4826">[RFC4826]</a></td>
<td class="author-text">Rosenberg, J., &ldquo;<a href="http://tools.ietf.org/html/rfc4826">Extensible Markup Language (XML) Formats for Representing Resource Lists</a>,&rdquo; RFC&nbsp;4826, May&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc4826.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-sipping-uri-services">[I-D.ietf-sipping-uri-services]</a></td>
<td class="author-text">Camarillo, G. and A. Roach, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-sipping-uri-services-07.txt">Framework and Security Considerations for Session Initiation Protocol (SIP)  Uniform Resource Identifier (URI)-List Services</a>,&rdquo; draft-ietf-sipping-uri-services-07 (work in progress), November&nbsp;2007 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-sipping-uri-services-07.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-sipping-capacity-attribute">[I-D.ietf-sipping-capacity-attribute]</a></td>
<td class="author-text">Garcia, M. and G. Camarillo, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-sipping-capacity-attribute-07.txt">Extensible Markup Language (XML) Format Extension for Representing Copy  Control Attributes in Resource Lists</a>,&rdquo; draft-ietf-sipping-capacity-attribute-07 (work in progress), August&nbsp;2008 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-sipping-capacity-attribute-07.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Miguel A. Garcia-Martin</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Nokia Siemens Networks</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">P.O.Box 6</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Nokia Siemens Networks, FIN  02022</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Finland</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:miguel.garcia@nsn.com">miguel.garcia@nsn.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Gonzalo Camarillo</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Ericsson</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Hirsalantie 11</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Jorvas  02420</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Finland</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:Gonzalo.Camarillo@ericsson.com">Gonzalo.Camarillo@ericsson.com</a></td></tr>
</table>
<a name="rfc.copyright"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Full Copyright Statement</h3>
<p class='copyright'>
Copyright &copy; The IETF Trust (2007).</p>
<p class='copyright'>
This document is subject to the rights,
licenses and restrictions contained in BCP&nbsp;78,
and except as set forth therein,
the authors retain all their rights.</p>
<p class='copyright'>
This document and the information contained herein are provided
on an &ldquo;AS IS&rdquo; basis and THE CONTRIBUTOR,
THE ORGANIZATION HE/SHE REPRESENTS
OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST
AND THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT
THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY
IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR
PURPOSE.</p>
<h3>Intellectual Property</h3>
<p class='copyright'>
The IETF takes no position regarding the validity or scope of any
Intellectual Property Rights or other rights that might be claimed
to pertain to the implementation or use of the technology
described in this document or the extent to which any license
under such rights might or might not be available; nor does it
represent that it has made any independent effort to identify any
such rights.
Information on the procedures with respect to
rights in RFC documents can be found in BCP&nbsp;78 and BCP&nbsp;79.</p>
<p class='copyright'>
Copies of IPR disclosures made to the IETF Secretariat and any
assurances of licenses to be made available,
or the result of an attempt made to obtain a general license or
permission for the use of such proprietary rights by implementers or
users of this specification can be obtained from the IETF on-line IPR
repository at <a href='http://www.ietf.org/ipr'>http://www.ietf.org/ipr</a>.</p>
<p class='copyright'>
The IETF invites any interested party to bring to its attention
any copyrights,
patents or patent applications,
or other
proprietary rights that may cover technology that may be required
to implement this standard.
Please address the information to the IETF at <a href='mailto:ietf-ipr@ietf.org'>ietf-ipr@ietf.org</a>.</p>
</body></html>
