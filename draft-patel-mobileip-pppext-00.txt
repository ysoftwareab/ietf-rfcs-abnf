
Internet Engineering Task Force                                 B. Patel
INTERNET DRAFT                                                C. Perkins
                                                            IBM Research
                                                        09 February 1996


   The Mobility Agent Configuration Option to PPP IP Control Protocol
                                 (IPCP)
                   draft-patel-mobileip-pppext-00.txt


Status of This Memo

   This document is a submission to the Mobile-IP Working Group of the
   Internet Engineering Task Force (IETF). Comments should be submitted
   to the mobile-ip@smallworks.com mailing list.

   Distribution of this memo is unlimited.

   This document is an Internet-Draft.  Internet-Drafts are working
   documents of the Internet Engineering Task Force (IETF), its areas,
   and its working groups.  Note that other groups may also distribute
   working documents as Internet-Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at
   any time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as ``work in progress.''

   To learn the current status of any Internet-Draft, please check
   the ``1id-abstracts.txt'' listing contained in the Internet-Drafts
   Shadow Directories on ftp.is.co.za (Africa), nic.nordu.net (Europe),
   munnari.oz.au (Pacific Rim), ds.internic.net (US East Coast), or
   ftp.isi.edu (US West Coast).


Abstract

   This document specifies a new option to the IP Control Protocol
   (IPCP) which can be used by mobile nodes to allow more efficient use
   of PPP along with the mobile-IP protocol.  The new option allows the
   mobile IP peers to negotiate the use of mobile IP protocol over a
   PPP link.  This option allows a requesting peer to determine if the
   responding peer is capable of and willing to perform either home or
   foreign agent functions of mobile IP. As part of this transaction,
   the requesting peer provides its own IP address to the responding
   peer and requests a care-of address from the responding peer.







Patel, Perkins              Expires 09 August 1996              [Page i]

Internet Draft      Mobility Agent Option to IPCP       09 February 1996


1. Introduction

   Mobile-IP [1] allows mobile nodes to move from one point of
   attachment within the Internet to another, and defines mechanisms by
   which a home agent on the mobile node's home network can send packets
   to the mobile node.  PPP [3] offers a popular means by which mobile
   nodes may attach to the Internet, often by creation of links using
   telephone hookups.  Mobile-IP requires that the mobile node acquire a
   care-of address at every new point of attachment when it is away from
   its home network.

   In this document, a mobility agent is defined to be either a home
   agent or a foreign agent, as those terms are defined in [1].

   There are two ways in which a mobile IP host might communicate with
   the rest of the network as a dial-in client over a PPP link.

    1. The mobile node could be able to decapsulate datagrams sent to
       its care-of address, and

    2. The dial-in server could be capable of being the foreign or home
       agent for the mobile IP peer.

   If, as in (1), the mobile IP host is capable of assigning a new
   care-of address to one of its interfaces and decapsulating datagrams
   sent to that care-of address, it could obtain an address through
   the IP Address option of IPCP and use that as care-of address.  No
   changes are required in IPCP for this mode of operation.

   However, if as in (2) the mobile IP host cannot, or does not choose
   to, decapsulate datagrams sent to its care-of address, it must
   determine whether its peer (e.g., the dial-in server) is capable of
   serving as a home or foreign agent for the mobile node.  In order to
   do that, the mobile IP host will use the Mobility Agent Configuration
   option proposed in this document to notify the server of its home
   address.  The responding peer will indicate if it can act as a home
   agent or as a foreign agent for the mobile node.  In the latter case,
   it will also provide a care-of address to the mobile node.

   This document specifies an option to IPCP [2, 3], which is an
   integral part of the PPP protocol suite, to allow the mobile node
   determine if its peer is a mobility agent, and possibly to obtain
   a care-of address useful with the mobile-IP protocol, when it
   negotiates with a PPP peer.







Patel, Perkins              Expires 09 August 1996              [Page 1]

Internet Draft      Mobility Agent Option to IPCP       09 February 1996


2. The Mobility Agent Configuration Option to IPCP

   This configuration option enables a mobile node to negotiate with a
   peer which is capable of being mobility agent.  When a peer receives
   the Mobility Agent Configuration option with a valid IP address, it
   MUST respond in one of the following ways:

    a. Configure-Ack with its own IP address, meaning that the
       requesting peer is connected to its home subnet, and that the
       responding peer can act as a home agent.

       After the link is established, the responding peer MUST send
       a Mobile-IP Agent Advertisement, possibly in response to a
       Mobile-IP Agent Solicitation.

    b. Configure-Nak with a care-of address, meaning that the mobile
       node is not connected to its home subnet.  However, the
       responding peer is capable of and is willing to act as a foreign
       agent for the requesting peer.  The care-of address to be used by
       the requesting peer is included in the response.

       After the link is established, the responding peer MUST send
       a Mobile-IP Agent Advertisement, possibly in response to a
       Mobile-IP Agent Solicitation.

    c. Configure-Rej to indicate that the responding peer is not capable
       of being a mobile IP foreign/home agent or it does not implement
       this option.

   The requesting peer may send requests with IP Address and the
   Mobility Agent Configuration options at the same time.  However,
   if the Mobility Agent Configuration option is supported by the
   responding peer, the requesting peer may not need to use the IP
   address obtained using the IP Address option.  Therefore, it is
   recommended that a mobile IP peer first try the Mobility Agent
   Configuration option and then the IP Address option, if necessary.















Patel, Perkins              Expires 09 August 1996              [Page 2]

Internet Draft      Mobility Agent Option to IPCP       09 February 1996


3. Format of the Mobility Agent Configuration Option

   The format of the Mobility Agent Configuration Option is shown below.

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     Type      |    Length     |           IP Address ...
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     ...   IP Address (cont)       |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

      Type         4

      Length       6

      IP Address   The four octet IP Address is the home address of
                   the mobile node which sends the Mobility Agent
                   Configuration option.


4. Security Considerations

   Security considerations are not addressed in this document.


References

   [1] IETF Mobile-IP Working Group.  IPv4 Mobility Support.
       ietf-draft-mobileip-protocol-12.txt - work in progress, September
       1995.

   [2] G. McGregor.  The PPP Internet Procotol Control Protocol (IPCP).
       RFC 1332, May 1992.

   [3] G. McGregor and G. S. Pall.  draft-ietf-pppext-ipcp-network-00.txt.
       Internet Draft -- work in progress, October 1995.














Patel, Perkins              Expires 09 August 1996              [Page 3]

Internet Draft      Mobility Agent Option to IPCP       09 February 1996


Authors' Addresses

   Questions about this memo can also be directed to:

          Baiju Patel
          Room H3-D36
          T. J. Watson Research Center
          IBM Corporation
          30 Saw Mill River Rd.
          Hawthorne, NY  10532

          Work:   +1-914-784-6786
          Fax:    +1-914-784-6205
          E-mail: baiju@watson.ibm.com


          Charles Perkins
          Room H3-D34
          T. J. Watson Research Center
          IBM Corporation
          30 Saw Mill River Rd.
          Hawthorne, NY  10532

          Work:   +1-914-784-7350
          Fax:    +1-914-784-6205
          E-mail: perk@watson.ibm.com

























Patel, Perkins              Expires 09 August 1996              [Page 4]
