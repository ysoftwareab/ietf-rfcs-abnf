
Network Working Group                                           R. Droms
INTERNET DRAFT                                       Bucknell University
                                                                 K. Fong
                                                                  Novell
                                                               July 1997
                                                    Expires January 1998



                 Netware/IP Domain Name and Information
                <draft-ietf-dhc-netware-options-00.txt>

Status of this memo

   This document is an Internet-Draft. Internet-Drafts are working
   documents of the Internet Engineering Task Force (IETF), its areas,
   and its working groups. Note that other groups may also distribute
   working documents as Internet-Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time. It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as ``work in progress.''

   To learn the current status of any Internet-Draft, please check the
   ``1id-abstracts.txt'' listing contained in the Internet-Drafts Shadow
   Directories on ftp.is.co.za (Africa), nic.nordu.net (Europe),
   munnari.oz.au (Pacific Rim), ds.internic.net (US East Coast), or
   ftp.isi.edu (US West Coast).

1.0 Abstract

   The Dynamic Host Configuration Protocol (DHCP) [RFC 2131] provides a
   framework for passing configuration information to hosts on a TCP/IP
   network. DHCP includes options for specific configuration parameters
   [RFC 2132].  This document defines options that carry Netware/IP
   domain name and Netware/IP sub-options to DHCP clients.

1.1 Requirements

   Throughout this document, the words that are used to define the
   significance of particular requirements are capitalized.  These words
   are:

      o "MUST"

        This word or the adjective "REQUIRED" means that the
        item is an absolute requirement of this specification.



Droms, Fong                                                     [Page 1]

DRAFT            Netware/IP Domain Name and Information        July 1997


      o "MUST NOT"

        This phrase means that the item is an absolute prohibition
        of this specification.

      o "SHOULD"

        This word or the adjective "RECOMMENDED" means that there
        may exist valid reasons in particular circumstances to ignore
        this item, but the full implications should be understood and
        the case carefully weighed before choosing a different course.

      o "SHOULD NOT"

        This phrase means that there may exist valid reasons in
        particular circumstances when the listed behavior is acceptable
        or even useful, but the full implications should be understood
        and the case carefully weighed before implementing any behavior
        described with this label.

      o "MAY"

        This word or the adjective "OPTIONAL" means that this item is
        truly optional.  One vendor may choose to include the item
        because a particular marketplace requires it or because it
        enhances the product, for example; another vendor may omit the
        same item.

1.2 Terminology


   This document uses the following terms:

      o "DHCP client"

        A DHCP client is an Internet host using DHCP to obtain
        configuration parameters such as a network address.

      o "DHCP server"

        A DHCP server is an Internet host that returns configuration
        parameters to DHCP clients.


2. The NetWare/IP Domain Name option

   This option code is used to convey the NetWare/IP domain name used by
   the NetWare/IP product. The NetWare/IP Domain in the option is an NVT



Droms, Fong                                                     [Page 2]

DRAFT            Netware/IP Domain Name and Information        July 1997


   ASCII [RFC 854] string whose length is inferred from the option 'len'
   field.

   The code for this option is 62, and its maximum length is 255.

          Code  Len    NetWare/IP Domain Name
        +-----+-----+------+------+------+-----
        |  62 |  n  |  c1  |  c2  |  c3  |  ...
        +-----+-----+------+------+------+-----


3. The NetWare/IP Information option

   The NetWare/IP option code will be used to convey all the NetWare/IP
   related information except for the NetWare/IP domain name.

   The code for this option is 63, and its maximum length is 255. A
   number of NetWare/IP sub-options will be conveyed using this option
   code.

   Each sub-option contains in sequential order, a one byte sub-option
   code, a one byte length, and an optional multiple byte value field.

   One and only one of the following four sub-options must be the first
   sub-option to be present in option 63 encoding. Each of them is
   simply a type length pair with length set to zero.

   Sub-options:

   NWIP_DOES_NOTE_EXIST (code 1)

      The responding DHCP server does not have any NetWare/IP
      information configured.

   NWIP_EXIST_IN_OPTIONS_AREA (code 2)

      All NetWare/IP information is present in the 'options' area of the
      DHCP response packet.

   NWIP_EXIST_IN_SNAME_FILE (code 3)

      All NetWare/IP information is present in the 'sname' and, if
      necessary, 'file' fields of the DHCP response packet. If used, the
      following DHCP server behavior is required: within the 'options'
      area, option 63 is present with its length field set to 2. The
      first byte of the value field is set to NWIP_EXIST_IN_SNAME_FILE
      tag and the second byte is set to zero.  Both option 62 and option
      63 will be placed in the area covered by the sname and file



Droms, Fong                                                     [Page 3]

DRAFT            Netware/IP Domain Name and Information        July 1997


      fields. Option 62 is encoded normally. Option 63 is encoded with
      its tag, length and value. The value field does not contain any of
      the first four sub-options described herein.

   NWIP_EXIST_BUT_TOO_BIG (code 4)

      Neither 'options' area nor 'sname' field can accommodate the
      NetWare/IP information.

   If either NWIP_EXIST_IN_OPTIONS_AREA or NWIP_EXIST_IN_SNAME_FILE
   sub-options is set, one or more of the following sub-options may be
   present.

   NSQ_BROADCAST (code 5)

      Length is 1 and a value of 1 or 0.  If the value is 1, the client
      SHOULD perform a NetWare Nearest Server Query to find out its
      nearest NetWare/IP server.

   PREFERRED_DSS (code 6)

      Length is (n * 4) and the value is an array of n IP addresses,
      each four bytes in length. The maximum number of addresses is 5
      and therefore the maximum length value is 20. The list contains
      the addresses of n NetWare Domain SAP/RIP Server (DSS).

   NEAREST_NWIP_SERVER (code 7)

      Length is (n * 4) and the value is an array of n IP addresses,
      each four bytes in length. The maximum number of addresses is 5
      and therefore the maximum length value is 20. The list contains
      the addresses of n Nearest NetWare/IP servers.

   AUTORETRIES (code 8)

      Length is 1 and the value is a one byte integer value indicating
      the number of times a NetWare/IP client should attempt to
      communicate with a given DSS server at startup.

   AUTORETRY_SECS (code 9)

      Length is 1 and the value is a one byte integer value indicating
      the amount of delay in seconds in between each NetWare/IP client
      attempt to communicate with a given DSS server at startup.

   NWIP_1_1 (code 10)

      Length is 1 and the value is 1 or 0.  If the value is 1, the



Droms, Fong                                                     [Page 4]

DRAFT            Netware/IP Domain Name and Information        July 1997


      NetWare/IP client SHOULD support NetWare/IP Version 1.1
      compatibility. A NetWare/IP client only needs this compatibility
      if it will contact a NetWare/IP version 1.1 server.

   PRIMARY_DSS (code 11)

      Length of 4, and the value is a single IP address.  This field
      identifies the Primary Domain SAP/RIP Service server (DSS) for
      this NetWare/IP domain. NetWare/IP administration utility uses
      this value as Primary DSS server when configuring a secondary DSS
      server.

   An example of option 63 encoding is provided below.

    Code   Len  NetWare/IP General Info
   +-----+-----+----+----+
   | 63  | 11  | 2  |  0 |
   +-----+-----+----+----+
                NWIP_EXIST_IN_OPTIONS_AREA (length 0)

               +----+----+----+
               |  5 |  1 |  1 |
               +----+----+----+
                NSQ_BROADCAST_SERVER (length 1)
                value is YES

               +----+----+------------+
               |  7 |  4 | IP address |
               +----+----+------------+
                NEAREST_NWIP_SERVER (length 4)
                value is IP address of server

4. References

   [RFC 854] Postel, J. and J. Reynolds, "Telnet Protocol
   Specification", RFC 854, May 1983.

   [RFC 2131] Droms, R., "Dynamic Host Configuration Protocol", RFC
   2131, March 1997.

   [RFC 2132] Alexander, S. and R. Droms, "DHCP Options and BOOTP Vendor
   Extensions", RFC 2132.

5. Security considerations

   These options can be used by unauthorized DHCP servers to
   misconfigure Netware/IP clients with potentially disruptive
   information.



Droms, Fong                                                     [Page 5]

DRAFT            Netware/IP Domain Name and Information        July 1997


6. Authors' addresses

   Ralph Droms
   Computer Science Department
   323 Dana Engineering
   Bucknell University
   Lewisburg, PA 17837

   Phone: (717) 524-1145
   EMail: droms@bucknell.edu


   Kester Fong
   Information Access Division
   Novell Inc.
   SJF-8-265
   2010 Fortune Dr,
   San Jose, CA95131

   Phone:(408)-577-8959
   EMail: kfong@novell.com






























Droms, Fong                                                     [Page 6]

