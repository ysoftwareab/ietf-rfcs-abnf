Service Function Chaining                                       Qi Xu
Internet Draft                                            Huachun Zhou
Intended status: Informational                              Taixin Li
Expires: April 2018                                       Guanglei Li
                                                           Guanwen Li
                                           Beijing Jiaotong University
                                                       October 11, 2017


                A Method for Service Orchestration in hSFC
              draft-xu-sfc-hierarchical-orchestration-01.txt


Status of this Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six
   months and may be updated, replaced, or obsoleted by other documents
   at any time.  It is inappropriate to use Internet-Drafts as
   reference material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html

   This Internet-Draft will expire on April 11, 20178.

Copyright Notice

   Copyright (c) 2017 IETF Trust and the persons identified as the
   document authors. All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document. Please review these documents
   carefully, as they describe your rights and restrictions with
   respect to this document. Code Components extracted from this
   document must include Simplified BSD License text as described in



Xu                     Expires April 11, 2018                 [Page 1]
Internet-Draft    draft-xu-sfc-hierarchical-orchestration  October 2017


   Section 4.e of the Trust Legal Provisions and are provided without
   warranty as described in the Simplified BSD License.

Abstract

   Hierarchical SFC is a network architecture for implementing SFC the
   chain with an ordered set of service functions which could be
   deployed in multiple geographically dispersed networks. How to
   forward traffic between networks in Hierarchical SFC is what the
   draft wants to present.

   This document proposes a mapping-based forwarding method with
   coordinated orchestration by the translation of H-SFC and I-SFC to
   forward traffic between networks in Hierarchical SFC.

Table of Contents


   1. Introduction ................................................ 2
      1.1. Assumptions ............................................ 3
      1.2. Requirements Language .................................. 3
   2. Terminology ................................................. 3
   3. Hierarchical Service Orchestration .......................... 3
      3.1. East-west interface..................................... 4
         3.1.1. C5: Interface between SFC Control Planes........... 4
         3.1.2. Interface between SFC Control Planes and IBN....... 5
      3.2. Hierarchical service orchestration ..................... 5
   4. Metadata Consideration ...................................... 5
   5. Security Considerations ..................................... 5
   6. IANA Considerations ......................................... 5
   7. References .................................................. 5
      7.1. Normative References ................................... 5
      7.2. Informative References ................................. 6
   Authors' Addresses ............................................. 7

1. Introduction

   Hierarchical SFC is a network architecture for supporting service
   function chains across multiple geographically dispersed networks.
   Hierarchical SFC is described in detail in [I.D. dolson-sfc-
   hierarchical] and [I.D.ao-sfc-for-dc-interconnect], and is not
   repeated here.

   In hSFC, SFs in top-domain can be logical and composed of several
   more refined SFs in sub-domain. Therefore, it is necessary to check
   the availability of those logical SFs in the procedure of
   orchestration.


Xu                     Expires April 11, 2018                 [Page 2]
Internet-Draft    draft-xu-sfc-hierarchical-orchestration  October 2017


   This document proposes that adding an east-west interface for
   coordination among different control planes of separate SFC-enabled
   domains so to supporting hierarchical service orchestration.

  1.1. Assumptions

   The following assumptions are made:

   o A Hierarchical SFC-enabled network has multiple level network
      domains. Each domain has their own control plane and data plane.

   o Control planes of different domain can work coordinately, but
      they are independent or non-transparent to each other. For
      example, Top-domain network domain just uses logical SFs, but
      don't care how to construct a corresponding SFC for these logical
      SFs in Lower-Level network domains.

  1.2. Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].

2. Terminology

   The reader should be familiar with the terms contained in [RFC7665],
   [I-D.ietf-sfc-control-plane], [I-D.dolson-sfc-hierarchical] and [I-
   D.ao-sfc-for-dc-interconnect].

   H-SFC: The SFC in the Top-domain network domain.

   I-SFC: The SFC in the Lower-Level network domain.

3. Hierarchical Service Orchestration

   When receiving a service request, the control plane should decide a
   SFC for it, select appropriate SF instances and make a SFP for the
   SFC. Furthermore, a classification policy which binds the flow with
   the request to a given SFC should be told to classifiers so that the
   flow can pass through relevant SFs along the SFP.

   But in hierarchical SFC, SFs might be logical which means it can be
   decomposed to several less abstract, more refined SFs. Besides,
   logical SFs always represent SFCs in SFC-enabled sub-domains. So,
   how to guarantee the availability of logical SFs and forward SFC
   traffic among multiple SFC-enabled domains is an important problem.



Xu                     Expires April 11, 2018                 [Page 3]
Internet-Draft    draft-xu-sfc-hierarchical-orchestration  October 2017


  3.1. East-west interface

   +----------------------+    C5
   |    SFC Control Plane +---->
   |                      |
   +---+----+----+----+---+
       |    |    |    |
       |    |    |    v
       |    |    v    C4
       |    v    C3
       v    C2
       C1
               Figure 1: Interfaces of SFC Control Plane

   [I-D.ietf-sfc-control-plane] presents a reference architecture of
   the SFC control plane, including 4 kinds of interfaces between the
   SFC control plane and various SFC data plane elements.

   In hierarchical SFC that SFs are distributed over multiple SFC-
   enabled domains that the SFC needs to pass through, the control
   plane also should be hierarchical. As we know, each control plane is
   responsible for managing a single SFC-enabled domain. Then, each SFC
   control plane should gather and update information of local domain
   real-timely. Due to there is no formal control hierarchy scheme,
   this document attempts to propose a simple Hierarchical Control
   Plane Scheme for Hierarchical SFC architecture.

   Figure 1 shows the interface reference points of the SFC control
   plane architecture. C1 is the interface between SFC Control Plane
   and SFC Classifier; C2 is the interface between SFC Control Plane
   and SFF; C3 is the interface between SFC Control Plane and SFC-aware
   SFs; C4 is the interface between SFC Control Plane and SFC Proxy; C5
   this document proposes is the east-west interface between SFC
   Control Planes for supporting coordination among those control
   planes of separate domains.

   3.1.1. C5: Interface between SFC Control Planes

   As [I-D.ietf-sfc-hierarchical] said the IBN acts as a SFC-aware SF
   in the Top-Level domain and as a classifier in the Lower-Level
   domain.

   At the Top-domain, the SFs that compose an SFC might be logical
   which means they are actually SFCs composed by more refined SFs in
   the Lower-Levels. To setup these logical SFs, it needs coordinated
   orchestration between the control planes of Top-domain and Lower-
   domains.


Xu                     Expires April 11, 2018                 [Page 4]
Internet-Draft    draft-xu-sfc-hierarchical-orchestration  October 2017


   3.1.2. Interface between SFC Control Planes and IBN

   Due to IBN behaves as an SF to Top-domain, it is controlled by
   interface C3 or C4. Besides, IBN acts as a classifier and a SFF of
   end-of-chains to Lower-Level domain, it exchanges information with
   control plane of Lower-Level domain through interface C1 and C2.

  3.2. Hierarchical service orchestration

   During the orchestration for logical SFs of service chains in the
   Top-domain, the control plane of the Top-domain should send an
   instruction to control plane of the corresponding Lower-domain. When
   the latter receives this instruction, it is likely that the Top-
   domain receives service requests from users. Then Lower-Level would
   construct or assign an I-SFC for this "service request", and make a
   classification rule for the classifier of the IBN.

4. Metadata Consideration

   Because the IBN is regarded as a Service Function to the Top-domain
   domain, it should provide the ability to handle the metadata in the
   NSH header if necessary.

   For example, it is common that checking the liveness of the service
   function of a service function path before the traffic selected by a
   Classifier traverse the network along a SFC which has been describe
   in [I-D.penno-sfc-trace-03]. Therefore, the IBN must be able to add
   its identifying information at the end of the existing NSH headers
   as a Service Function.

5. Security Considerations

   TBD.

6. IANA Considerations

   TBD.

7. References

  7.1. Normative References

   [RFC7665] Halpern, J., Ed. and C. Pignataro, Ed., "Service Function
             Chaining (SFC) Architecture", RFC 7665, DOI
             10.17487/RFC7665, October 2015, <http://www.rfc-
             editor.org/info/rfc7665>.



Xu                     Expires April 11, 2018                 [Page 5]
Internet-Draft    draft-xu-sfc-hierarchical-orchestration  October 2017


  7.2. Informative References

   [I-D.dolson-sfc-hierarchical]
             Dolson, D., Homma, S., Lopez, D., Boucadair, M., D.Liu,
             and Ao, T., "Hierarchical Service Function Chaining",
             draft-dolson-sfc-hierarchical-05 (work in progress), March
             2016.

   [I-D.ao-sfc-for-dc-interconnect]
             Ao, T. and W. Bo, "Hierarchical SFC for DC
             Interconnection", draft-ao-sfc-for-dc-interconnect-01(work
             in progress), October 2015.

   [I-D.ietf-sfc-dc-use-cases]
             Komma, S., Tufail, M., Majee, S., Captari, C., and
             S.Homma, "Service Function Chaining Use Cases In Data
             Centers", draft-ietf-sfc-dc-use-cases-04 (work in
             progress), January 2016.

   [I-D.ietf-sfc-control-plane]
             Boucadair, M., Ed., "Service Function Chaining (SFC)
             Control Plane Components & Requirements", draft-ietf-sfc-
             control-plane-06 (work in progress), May 2016.

   [I-D.unify-sfc-control-plane-exp]
             Szabo, R., Sonkoly, B., "A Multi-Domain Multi-Technology
             SFC Control Plane Experiment: A UNIFYed", draft-unify-sfc-
             control-plane-exp-00 (work in progress), March 2016.

   [1]       Sahhaf, Sahel, et al. "Network service chaining with
             optimized network function embedding supporting service
             decompositions." Computer Networks (2015): 492-505.
















Xu                     Expires April 11, 2018                 [Page 6]
Internet-Draft    draft-xu-sfc-hierarchical-orchestration  October 2017


Authors' Addresses

   Qi Xu
   Beijing Jiaotong University
   Beijing 100044 P.R. China

   Email: 15111046@bjtu.edu.cn


   Huachun Zhou
   Beijing Jiaotong University
   Beijing 100044 P.R. China

   Email: hchzhou@bjtu.edu.cn


   Taixin Li
   Beijing Jiaotong University
   Beijing 100044 P.R. China

   Email: 14111040@bjtu.edu.cn


   Guanglei Li
   Beijing Jiaotong University
   Beijing 100044 P.R. China

   Email: 15111035@bjtu.edu.cn


   Guanwen Li
   Beijing Jiaotong University
   Beijing 100044 P.R. China

   Email: 14120079@bjtu.edu.cn














Xu                     Expires April 11, 2018                 [Page 7]

