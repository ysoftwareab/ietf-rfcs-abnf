INTERNET-DRAFT                                              Haitao Tang
draft-tang-spatial-descriptive-location-00.txt          Mari Korkea-aho
Expires: Nov 2001                                                 Nokia
                                                        Kenji Takahashi
                                                                    NTT
                                                               May 2001



           Common Syntax and Coding for Descriptive Location
           < draft-tang-spatial-descriptive-location-00.txt >


Status of This Memo

This document is an Internet-Draft and is in full conformance with all
provisions of Section 10 of RFC 2026. Internet-Drafts are working
documents of the Internet Engineering Task Force (IETF), its areas,
and its working groups.  Note that other groups may also distribute
working documents as Internet-Drafts.

Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any
time.  It is inappropriate to use Internet-Drafts as reference
material or to cite them other than as 'work in progress.'

The list of current Internet-Drafts can be accessed at
     http://www.ietf.org/ietf/1id-abstracts.txt

The list of Internet-Draft Shadow Directories can be accessed at
     http://www.ietf.org/shadow.html.


Abstract

   As a part of the spatial location effort, this document defines a
   common syntax and coding for expressing and encoding a family of
   human-friendly spatial location information called "descriptive
   location".


1. Introduction

   A common spatial location data set has been specified in [1]. It has
   been designed as a lowest common denominator data set for location
   applications in the Internet, enabling interoperability if used. The
   data set enables locations to be presented as spatial points with
   help of coordinates expressed in latitude, longitude, and altitude
   using WGS-84 datum.

   When considering some location-based applications interacting with
   various human users, however, we find the need of a common syntax to
   present a target's spatial location in a human-friendly way, i.e.
   what used in our everyday life, such as postal address, or spatial
   locations expressions in different human languages. We call a spatial
   location expressed in such a way Descriptive Location.

   A common syntax and coding for descriptive locations are therefore
   needed to ensure their interoperability whenever possible. It is
   especially needed for the scenario when those human-serving
   applications are running over the largely geo-unrelated Internet.

   The concept of this proposal is that we need to allow users to define
   their own descriptive locations and, at the same time, enable their
   possible "interoperability" such as cross-location-system
   translation. The mechanism proposed in this draft is, in a sense, a

IETF Draft A Common Syntax and Coding for Descriptive Location  May 2001


   meta-level notation -- users can define their own "localized"
   descriptive location systems, while enabling the possible
   "interoperability" among the "localized" systems.


2. Syntax of Descriptive Location

   The syntax is specified with ABNF grammar (RFC2234). Further
   explanation and examples are given in the next section.

   Descriptive-Location = Flat-Descriptive-Location |
                          Featured-Descriptive-Location

   Flat-Descriptive-Location = LText

   LText = *<any character-set character>

                         ; The character-set must be indicated while
                         ; the details are left for various coding
                         ; cases, e.g., the XML-based coding

   Featured-Descriptive-Location = 1*(Feature Delimiter) | ( Index
                                   Delimiter 1*Feature )

               ; The character-set for encoding Feature and Index must
               ; be indicated, while the detail is left for various
               ; cases, e.g., the XML-based. The delimiter
               ; must be omitted from the end of the location.


   Delimiter = "," | " " | CRLF

               ; character "," and " " can be of any character-set
               ; indicated;

   CRLF = < Carriage-Return-character and Line-Feed-character of certain
            character-set>

               ; e.g., for ASCII, CRLF = %d13 %d10

   Index = 1*(Mark ",")            ; encoded in any character-set
                                   ; indicated

   Mark = <the number of characters from the last character of this
           segment to the beginning of the whole 1*Feature>

                         ; Where, the first character of the string is
                         ; counted as number one; the character is of
                         ; any character-set indicated. Example Two in
                         ; Sec. 3 shows its use in more detail

   Feature = Civil-Object | Geo-Object | Opaque-Object

   Civil-Object = Country | National-District | Province | State |
                  Metropolitan-Area | City | County | City-Division |
                  County-Division | Town | Village | Resort | Camp |
                  Street | Neighborhood |Building | Block | Apartment |
                  Section | Room | Subsection | Postal-Code


H. Tang, M. Korkea-aho, and K. Takahashi                        [Page 2]

IETF Draft A Common Syntax and Coding for Descriptive Location  May 2001


   Country ... Postal-Code = LText

   Geo-Object = Reservation | River | Falls | Lake | Spring | Sea |
                Under-Water-Feature | Channel | Bay | Cape | Beach |
                Island | Cliff | Mountain | Valley |Plain | Cave |
                Crater | Glacier | Forest | Tunnel

   Reservation ... Tunnel = LText

   Opaque-Object = Ltext      ; any location object; usually used for
                              ; those which cannot be expressed directly
                              ; via an object from the Civil-Object and
                              ; Geo-Object sets

   DL-Type = "flat-descriptive-location" |
             "featured-descriptive-location"

                    ; must be encoded with UTF-8 character-set

   DL-System-Name = Name | "undefined"

                    ; must be encoded with UTF-8 character-set

   Name = <the name string of any descriptive location system, except
           "undefined">

                    ; must be encoded in UTF-8. This attribute is made
                    ; for possible translation among systems

   Character-Set = <the name string of any character set>

                    ; must be encoded in UTF-8

   Time-of-Fix = "unknown" | Time

                    ; Time defined in [1]



3. Descriptive Location Systems and Examples

   The syntax allows any defined descriptive location systems to be
   used. Here are some examples based on fictional cases:

   Example One:

   System "dls-finnish1"

   DL-Type  = featured-descriptive-location
   DL-System-Name = dls-finnish1
   Character-set = UTF-8
   Time-of-Fix = "unknown" | Time
   Featured-Descriptive-Location =  Street Delimiter ( Apartment |
                                    Building | Block | Subsection )
                                    Delimiter [Room Delimiter] Postal-
                                    code Delimiter (Metropolitan-Area
                                    City)[Delimiter Country]

   A case of "dls-finnish1"

H. Tang, M. Korkea-aho, and K. Takahashi                        [Page 3]

IETF Draft A Common Syntax and Coding for Descriptive Location  May 2001



   featured-descriptive-location
   dls-finish1
   UTF-8
   1999-08-15T11:16:31.0+2:00
   Samitie 8 D 35, 00900 Helsinki, Finland

   Example Two:

   System "dls-chinese1"

   DL-Type = featured-descriptive-location
   DL-System-Name = dls-chinese1
   Character-set = GB2324
   Time-of-Fix = "unknown" | Time
   Featured-Descriptive-Location =
                    Index Delimiter[Postal-code][Country][National
                    District][(Province | State | Metropolitan-Area)]
                    (City | County)[(City-Division | County-
                    Division)][(Town | Village)] (Street |
                    Neighborhood)(Apartment | Building | Block |
                    Subsection)

   A case of  "dls-chinese1"

    featured-descriptive-location
    dls-chinese1
    GB2312
    Unknown
    úµú¼ú ú¼ú˜ú™ú¼ú™ú—ú¼ú™ú³ú¼
    úµú´ú—ú—ú—ú˜ÕËýÎ×íÁÑÈ•×ÏØ²Ó…Ã¸ú´ú—ú™ú—¦Êú™ú—úþ×Ó

   (Note: The index and address can be presented CORRECTLY, e.g., 
    via a browser with the Chinese font)

   Example Three:

   System "dls-usx"

   DL-Type = featured-descriptive-location
   DL-System-Name = dls-usx
   Character-set = ASCII
   Time-of-Fix = "unknown" | Time
   Featured-Descriptive-Location = Opaque-Object Delimiter Geo-Object
                                   Delimiter State Delimiter Postal-code
                                   [Delimiter Country]

   A case of "dls-usx"

   featured-descriptive-location
   dls-us1
   ASCII
   unknown
   323 Locked Stone
   Sting Beach
   CA 92000-5555
   USA

   Example Five:

H. Tang, M. Korkea-aho, and K. Takahashi                        [Page 4]

IETF Draft A Common Syntax and Coding for Descriptive Location  May 2001



   "flat-descriptive-location"

   DL-Type = flat-descriptive-location
   DL-System-Name = undefined
   Character-set = <the name string of any character set>
   Time-of-Fix = "unknown" | Time
   Flat-Descriptive-Location = LText

   A case of "flat-descriptive-location"

   flat-descriptive-location
   undefined
   UTF-8
   unknown
   The lobby of Hotel ABC which is 800 m north of Eiffel Tower

4. Coding Descriptive Location with XML

   The location data elements can be encoded in many different ways,
   e.g., text based attribute-value pairs, binary, MIME, XML, etc. In
   order to enable interoperability, we need a common way of coding the
   parameters.

   We propose XML. The advantages of XML are that the encoding is easily
   understandable and human readable. Standard tools and parsers can be
   used. In addition, many of the other proposals make use of XML. A
   possible disadvantage of using XML is that it is quite verbose.

   In general, the XML-based coding of any defined descriptive location
   system needs both the DTD/XML-Schema of the defined system and the
   XML coding of its instance. For example, here is the case for the
   mentioned example system "dls-finnish1":

   Its DTD "dls-finnish1.dtd" for the correct parsing is:

   <!_- dls-finnish1 dls-finnish1.dtd -->
   <!ELEMENT dls-finnish1 (f1-level1, f1-level2, Country?)>
   <!ATTLIST dls-finnish1 DL-Type (featured | flat) #FIXED "featured">
   <!ATTLIST dls-finnish1 Charaset CDATA "UTF-8">
   <!ATTLIST dls-finnish1 Time CDATA #IMPLIED>
   <!ELEMENT f1-level1 ((Street | Road), (Apartment | Building |
   Subsection), Room?)>
   <!ELEMENT Street (#PCDATA)>
   <!ELEMENT Road (#PCDATA)>
   <!ELEMENT Apartment (#PCDATA)>
   <!ELEMENT Building (#PCDATA)>
   <!ELEMENT Subsection (#PCDATA)>
   <!ELEMENT Room (#PCDATA)>
   <!ELEMENT f1-level2 (Postal-code, (Metropolitan-Area | City))>
   <!ELEMENT Postal-code (#PCDATA)>
   <!ELEMENT Metropolitan-Area (#PCDATA)>
   <!ELEMENT City (#PCDATA)>
   <!ELEMENT Country (#PCDATA)>

   Its XML Schema for the correct parsing is:

   <schema
     xmlns='http://www.w3.org/2000/10/XMLSchema'

H. Tang, M. Korkea-aho, and K. Takahashi                        [Page 5]

IETF Draft A Common Syntax and Coding for Descriptive Location  May 2001


     targetNamespace='http://www-nrc.nokia.com/ietf-
     spatial/2001/05/08/dls-finnish1.xsd'
     xmlns:t='http://www-nrc.nokia.com/ietf-spatial/2001/05/08/dls-
     finnish1.xsd'>
    <element name='DLS-FIN1' type='t:dls-finnish1'/>
    <element name='dls-finnish1'>
     <complexType>
      <sequence>
       <element ref='t:f1-level1'/>
       <element ref='t:f1-level2'/>
       <element ref='t:Country' minOccurs='0' maxOccurs='1'/>
      </sequence>
      <attribute name='DL-Type' use='fixed' value='featured'>
       <simpleType base='string'>
        <enumeration value='featured'/>
        <enumeration value='flat'/>
       </simpleType>
      </attribute>
      <attribute name='Charaset' type='string' value='UTF-8'/>
      <attribute name='Time' type='string' use='optional'/>
     </complexType>
    </element>

    <element name='f1-level1'>
     <complexType>
      <sequence>
       <choice>
        <element ref='t:Street'/>
        <element ref='t:Road'/>
       </choice>
       <choice>
        <element ref='t:Apartment'/>
        <element ref='t:Building'/>
        <element ref='t:Subsection'/>
       </choice>
       <element ref='t:Room' minOccurs='0' maxOccurs='1'/>
      </sequence>
     </complexType>
    </element>

    <element name='Street'>
     <complexType mixed='true'>
     </complexType>
    </element>

    <element name='Road'>
     <complexType mixed='true'>
     </complexType>
    </element>

    <element name='Apartment'>
     <complexType mixed='true'>
     </complexType>
    </element>

    <element name='Building'>
     <complexType mixed='true'>
     </complexType>
    </element>

H. Tang, M. Korkea-aho, and K. Takahashi                        [Page 6]

IETF Draft A Common Syntax and Coding for Descriptive Location  May 2001



    <element name='Subsection'>
     <complexType mixed='true'>
     </complexType>
    </element>

    <element name='Room'>
     <complexType mixed='true'>
     </complexType>
    </element>

    <element name='f1-level2'>
     <complexType>
      <sequence>
       <element ref='t:Postal-code'/>
       <choice>
        <element ref='t:Metropolitan-Area'/>
        <element ref='t:City'/>
       </choice>
      </sequence>
     </complexType>
    </element>

    <element name='Postal-code'>
     <complexType mixed='true'>
     </complexType>
    </element>

    <element name='Metropolitan-Area'>
     <complexType mixed='true'>
     </complexType>
    </element>

    <element name='City'>
     <complexType mixed='true'>
     </complexType>
    </element>

    <element name='Country'>
     <complexType mixed='true'>
     </complexType>
    </element>
   </schema>


   An instance of a dls-finnish1 location can be, e.g.,

   <?xml version="1.0" encoding="UTF-8"?>
   <DLS-FIN1:dls-finnish1 xmlns:DLS-FIN1="http://www-nrc.nokia.com/ietf-
    spatial/2001/05/08/dls-finnish1.xsd"
    DL-Type="featured"
    Charaset="UTF-8" Time="1999-08-15T11:16:31.0+2:00">
     <f1-level1>
          <Street>Samitie 8</Street>
          <Apartment>D 35</Apartment>
     </f1-level1>
     <f1-level2>
          <Postal-code>00900</Postal-code>
          <Metropolitan-Area>Helsinki</Metropolitan-Area>

H. Tang, M. Korkea-aho, and K. Takahashi                        [Page 7]

IETF Draft A Common Syntax and Coding for Descriptive Location  May 2001


     </f1-level2>
     <Country>Finland</Country>
   </DLS-FIN1:dls-finnish1>




   An XML-coded descriptive location element can then be put into the
   XML-coded common spatial location payload [2], e.g., together with
   the SLO element [1].

5. Other Considerations

   Security. Location alone usually means nothing but a "point"
   somewhere. However, when associated with a meaningful target such as 
   a person, the location is potentially private or sensitive even
   though some parties may like to release their location information to 
   the public. The authors believe that there must be security 
   mechanisms available to protect the information whenever needed.

   Translation of Descriptive Location. There can be a need to translate
   descriptive location information under different descriptive location
   systems of potentially different human languages. This proposal has
   been made to support/enable the translation. However, the specific
   translation mechanisms are considered out of the scope.

6. Reference

   [1] M. Korkea-aho, et al., "A Common Spatial Location Dataset," IETF
   Draft (draft-korkea-aho-spatial-dataset-01.txt), Work in progress,
   May 2001.

   [2] M. Korkea-aho, et al., "Spatial Location Payload," IETF Draft
   (draft-korkea-aho-spatial-location-payload-00.txt), Work in progress,
   May 2001.


Author's Addresses

   Haitao Tang
   P.O. Box 407, FIN-00045 Nokia
   Finland                      
   Email: haitao.tang@nokia.com

   Mari Korkea-aho
   P.O. Box 407, FIN-00045 Nokia
   Finland                    
   Email: mari.korkea-aho@iki.fi

   Kenji Takahashi
   NTT
   3-9-11 Midoricho
   Musashino, Tokyo 180-8585 Japan
   Email: takahashi.kenji@lab.ntt.co.jp





H. Tang, M. Korkea-aho, and K. Takahashi                        [Page 8]

IETF Draft A Common Syntax and Coding for Descriptive Location  May 2001


Copyright Statement

Copyright (C) The Internet Society (2001).  All Rights Reserved.

   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works. However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English. The limited permissions granted above are perpetual and will
   not be revoked by the Internet Society or its successors or assigns.
   This document and the information contained herein is provided on an
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE."




































H. Tang, M. Korkea-aho, and K. Takahashi                        [Page 9]
