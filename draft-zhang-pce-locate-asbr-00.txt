Network Working Group                                    Renhai. Zhang 
                                                            Mach. Chen 
Internet Draft                             Huawei Technologies Co.,Ltd 
Expires: March 2007                                   October 12, 2006 
                                   
 
                                      
                            Locate ASBR in PCE 
                    draft-zhang-pce-locate-asbr-00.txt 


Status of this Memo 

   By submitting this Internet-Draft, each author represents that       
   any applicable patent or other IPR claims of which he or she is       
   aware have been or will be disclosed, and any of which he or she       
   becomes aware will be disclosed, in accordance with Section 6 of       
   BCP 79. 

   Internet-Drafts are working documents of the Internet Engineering 
   Task Force (IETF), its areas, and its working groups.  Note that 
   other groups may also distribute working documents as Internet-Drafts. 

   Internet-Drafts are draft documents valid for a maximum of six months 
   and may be updated, replaced, or obsoleted by other documents at any 
   time.  It is inappropriate to use Internet-Drafts as reference 
   material or to cite them other than as "work in progress." 

   The list of current Internet-Drafts can be accessed at 
        http://www.ietf.org/ietf/1id-abstracts.txt 

   The list of Internet-Draft Shadow Directories can be accessed at 
        http://www.ietf.org/shadow.html 

   This Internet-Draft will expire on April 12, 2007. 

Abstract 

   The ability to compute constrained shortest Traffic Engineering (TE) 
   Label Switched Paths (LSPs) in Multiprotocol Label Switching (MPLS) 
   and Generalized MPLS (GMPLS) networks across multiple domains has 
   been identified as a key requirement. This document specifies a 
   procedure for an inter-AS PCE to locate boundary node within its 
   domain dynamically, which is used for path computation. 

     


 
 
 
Zhang & Chen           Expires April 12, 2007                 [Page 1] 

Internet-Draft   draft-zhang-pce-locate-asbr-00.txt       October 2006 
    

Conventions used in this document 

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", 
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this 
   document are to be interpreted as described in RFC-2119 [1]. 

Table of Contents 

    
   1. Introduction................................................2 
   2. BGP extension...............................................3 
      2.1. EBGP Session Summary NLRI..............................3 
      2.2. ESSNP capability.......................................4 
   3. Procedure...................................................4 
   4. Example.....................................................5 
   5. Security Considerations.....................................6 
   6. IANA Considerations.........................................6 
   7. References..................................................6 
      7.1. Normative References...................................6 
      7.2. Informative References.................................6 
   Author's Addresses.............................................7 
   Intellectual Property Statement................................7 
   Disclaimer of Validity.........................................7 
   Copyright Statement............................................8 
   Acknowledgment.................................................8 
    
    

1. Introduction 

   The framework for inter-domain MPLS Traffic Engineering has been 
   provided in [I-D.ietf-ccamp-inter-domain-framework]. 

   An inter-AS PCE must have reachability information to the LSP tail-
   end and head-end. At minimum, this reachability information must 
   include the AS path to the LSP tail-end, and the AS in which the 
   tail-end and head-end of the LSP reside. Using this information, an 
   inter-AS PCE can determine whether it can fully handle the path 
   computation request by itself. PCE may obtain the reachability 
   information using PCECP protocol extension, which is running between 
   the ASBR and PCE. But this may increase the complexity of the ASBR. 
   At the same time, PCE need make a selection among many ASBRs. So an 
   IBGP session between an inter-AS PCE and each ASBR is a better choice. 

   [BRPC] defines a PCE-based TE LSP computation method to compute 
   optimal inter-domain constrained (G)MPLS TE LSPs. In this path 

 
 
Zhang & Chen           Expires April 12, 2007                 [Page 2] 


Internet-Draft   draft-zhang-pce-locate-asbr-00.txt       October 2006 
    

   computation method, an inter-AS PCE needs to locate ASBRs that 
   provide connectivity from a specified AS. 

   Network administrator could configure ASBRs information on the inter-
   AS PCE. But it may not be the best way. When the inter-AS link of an 
   ASBR is down, the PCE may proceed the path computation without being 
   aware of the situation.. Of course the result is that it can not get 
   a successful path through this ASBR. In order to solve the problem, 
   this document provides a method by which the PCE can dynamically 
   obtain information on the ASBR and its interconnected AS. 

   According to the above statement, MP-BGP is a good choice for an 
   inter-AS PCE to achieve necessary information used in BRPC method. 
   Thus, some extension to BGP is needed. 

2. BGP extension 

   EBGP speaker should report its connections to the inter-AS PCE. A new 
   NLRI named EBGP Session Summary NLRI is introduced with extension to 
   MP-BGP. 

2.1. EBGP Session Summary NLRI 

   The EBGP Session Summary NLRI is described below. A new AFI and SAFI 
   need to be defined. 

          +------------------------------------+ 
          |  Length     (2 octets)             | 
          +------------------------------------+ 
          |  Router ID  (4 octets)             | 
          +------------------------------------+ 
          |  AS Number  (2 octets)             | 
          +------------------------------------+ 
          /                                    / 
          /                                    / 
          /                                    / 
          +------------------------------------+ 
          |  Router ID  (4 octets)             | 
          +------------------------------------+ 
          |  AS Number  (2 octets)             | 
          +------------------------------------+ 
    

   The use and the meaning of these fields are as follows: 

       a) Length: 

 
 
Zhang & Chen           Expires April 12, 2007                 [Page 3] 

Internet-Draft   draft-zhang-pce-locate-asbr-00.txt       October 2006 
    

          The Length field indicates the length in bytes of the whole 
          NLRI. 

       b) Router ID: 

          This field indicates the Router ID of the peer BGP speaker in 
          the neighboring AS. 

       c) AS Number: 

          This field indicates the AS number of the BGP peer. 

   The tuple of <Router ID, AS Number> means an EBGP peer in a 
   neighboring AS. It could appear more than once in the NLRI. With this 
   information received from all EBGP speakers within its AS, an inter-
   AS PCE can have the knowledge of ASBRs in its AS and neighboring AS 
   needed in path computation. 

2.2. ESSNP capability 

   New AFI and SAFI need to be defined and negotiated during BGP session 
   establishment. It represents a capability to process EBGP Session 
   Summary NLRI. We named this capability ESSNP (EBGP Session Summary 
   NLRI Processing) here. 

   As inter-AS PCE establish IBGP connections with all BGP speakers 
   within its scope, with the ESSNP capability, it can have knowledge of 
   the ASBRs within its domain and their corresponding interconnection 
   of all neighboring ASes. Thus, when it computes using BRPC method, it 
   can find appropriate ASBR. 

3. Procedure 

   When an ASBR establishes a new IBGP session with an inter-AS PCE, 
   they SHOULD negotiate ESSNP capability firstly. Upon succeeding, the 
   ASBR SHUOLD encapsulate each EBGP connection information in EBGP 
   Session Summary NLRI, and send them to the PCE. 

   When an EBGP speaker establishes a new EBGP connection, it SHUOLD 
   encapsulate this connection information in EBGP Session Summary NLRI 
   and send an update message to all the inter-AS PCEs that support 
   ESSNP capability within the AS it resides in. 

   When an EBGP connection of a speaker is down, it SHUOLD encapsulate 
   this connection information in EBGP Session Summary NLRI and send a 
   withdraw message to all the inter-AS PCEs that support ESSNP 
   capability within the AS it resides in. 
 
 
Zhang & Chen           Expires April 12, 2007                 [Page 4] 

Internet-Draft   draft-zhang-pce-locate-asbr-00.txt       October 2006 
    

4. Example 

   An inter-AS PCE SHOULD build an EBGP Session Summary table to 
   efficiently maintenance those information received from ASBR within 
   its AS scope, using AS number or AS number combined with the Router 
   ID of a neighboring ASBR as index to look up the local ASBR needed in 
   computation. 

   Let's see an example as follows: 

               Inter-AS        Inter-AS              Inter-AS    
                 PCE1<---------->PCE2<-------------->  PCE3      
                  ::              ::                    ::   
            R1---ASBR1====ASBR3---R3---ASBR5====ASBR7---R5---R6  
            |      |        |            |      /            |   
            |      |        |            |     /             |   
            |      |        |            |    /              |   
            R2---ASBR2====ASBR4---R4---ASBR6 /               R7  
            <==AS1=>       <====AS2======>      <=====AS3===>    
                 Figure 1 Inter-AS PCE Reference Model 

   Assume that PCE1 received a computation request from R1 to R6. Then, 
   this request is relayed to PCE3 eventually. The EBGP Session Summary 
   table of PCE3 may be like this: 

               AS number    Router ID     Local ASBR 
           -------------------------------------------- 
              AS2          ASBR5         ASBR7 
              AS2          ASBR6         ASBR7 
           Table 1: The EBGP Session Summary table for PCE3 

   PCE3 knows the request arriving from AS2. So it looks up Table 1 and 
   finds the only ASBR connecting to AS2 is ASBR7. PCE3 computes and 
   passes the result ASBR7-R5-R6-R7 to PCE2. 

   The EBGP Session Summary table of PCE2 may be like this: 

              AS number    Router ID     Local ASBR 
           -------------------------------------------- 
              AS1          ASBR1         ASBR3 
              AS1          ASBR2         ASBR4 
              AS3          ASBR7         ASBR5, ASBR6 
           Table 2: The EBGP Session Summary table for PCE2 

   Using AS3 and ASBR7 as index to look up Table 2, PCE2 will locate the 
   ASBR in AS2 connecting to ASBR7 is ASBR5 and ASBR6. At the same time, 
   PCE2 should locate ASBR connecting to AS1 because it should compute 
 
 
Zhang & Chen           Expires April 12, 2007                 [Page 5] 

Internet-Draft   draft-zhang-pce-locate-asbr-00.txt       October 2006 
    

   the path from those ASBRes to R7 and pass the partial result to PCE1. 
   Using AS1 as index it will find ASBR3 and ASBR4. The computation 
   continues as described in [BRPC]. 

5. Security Considerations 

   No new security issues are raised in this document. 

6. IANA Considerations 

   IANA is asked to allocate an AFI and SAFI for EBGP Statistic NLRI. 

7. References 

7.1. Normative References 

   [BRPC] JP. Vasseur, Ed., R. Zhang, N. Bitar, JL. Le Roux, " A 
             Backward Recursive PCE-based Computation (BRPC) procedure 
             to compute shortest inter-domain Traffic Engineering Label 
             Switched Paths ", draft-ietf-pce-brpc-00.txt, Work in 
             Progress, August 2006. 

   [RFC4655] A. Farrel, J.-P. Vasseur, J. Ash, " A Path Computation 
             Element (PCE)-Based Architecture ", RFC 4655, August 2006. 

   [BGP-MP] T. Bates, Y. Rekhter, R. Chandra, D. Katz, " Multiprotocol 
             Extensions for BGP-4 ", RFC 2858, June 2000. 

7.2. Informative References 

   [2]  Nabil Bitar, Jean-Louis Le Roux, Raymond Zhang, " Framework for 
             PCE based inter-domain path computation ", draft-bitar-pce-
             inter-domain-frwk-00.txt, Work in Progress, June 2006. 

   [BGP-CAP] R. Chandra, J. Scudder, " Capabilities Advertisement with 
             BGP-4 ", RFC 3392, November 2002. 










 
 
Zhang & Chen           Expires April 12, 2007                 [Page 6] 

Internet-Draft   draft-zhang-pce-locate-asbr-00.txt       October 2006 
    

Author's Addresses 

   Renhai Zhang 
   Huawei Technologies Co.,Ltd 
    
   Email: zhangrenhai@huawei.com 
    
    
   Mach chen 
   Huawei Technologies Co.,Ltd 
    
   Email: mach@huawei.com 
    
    
Intellectual Property Statement 

   The IETF takes no position regarding the validity or scope of any 
   Intellectual Property Rights or other rights that might be claimed to 
   pertain to the implementation or use of the technology described in 
   this document or the extent to which any license under such rights 
   might or might not be available; nor does it represent that it has 
   made any independent effort to identify any such rights.  Information 
   on the procedures with respect to rights in RFC documents can be 
   found in BCP 78 and BCP 79. 

   Copies of IPR disclosures made to the IETF Secretariat and any 
   assurances of licenses to be made available, or the result of an 
   attempt made to obtain a general license or permission for the use of 
   such proprietary rights by implementers or users of this 
   specification can be obtained from the IETF on-line IPR repository at 
   http://www.ietf.org/ipr. 

   The IETF invites any interested party to bring to its attention any 
   copyrights, patents or patent applications, or other proprietary 
   rights that may cover technology that may be required to implement 
   this standard.  Please address the information to the IETF at 
   ietf-ipr@ietf.org. 

Disclaimer of Validity 

   This document and the information contained herein are provided on an 
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS 
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET 
   ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED, 
   INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE 
   INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED 
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. 
 
 
Zhang & Chen           Expires April 12, 2007                 [Page 7] 

Internet-Draft   draft-zhang-pce-locate-asbr-00.txt       October 2006 
    

Copyright Statement 

   Copyright (C) The Internet Society (2006). 

   This document is subject to the rights, licenses and restrictions 
   contained in BCP 78, and except as set forth therein, the authors 
   retain all their rights. 

Acknowledgment 

   Funding for the RFC Editor function is currently provided by the 
   Internet Society. 

    
































 
 
Zhang & Chen           Expires April 12, 2007                 [Page 8] 

