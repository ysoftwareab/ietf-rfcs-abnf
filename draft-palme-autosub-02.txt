Network Working Group                                     Jacob Palme
Internet Draft                               Stockholm University/KTH
<draft-palme-autosub-02.txt>                                   Sweden
Category-to-be: Proposed standard                            May 1997
Expires October 1997



          The auto-submitted e-mail header fields


Status of this Memo

This document is an Internet-Draft. Internet-Drafts are working
documents of the Internet Engineering Task Force (IETF), its areas,
and its working groups. Note that other groups may also distribute
working documents as Internet-Drafts.

Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any
time. It is inappropriate to use Internet- Drafts as reference
material or to cite them other than as ``work in progress.''

To learn the current status of any Internet-Draft, please check the
``1id-abstracts.txt'' listing contained in the Internet- Drafts
Shadow Directories on ftp.is.co.za (Africa), nic.nordu.net (Europe),
munnari.oz.au (Pacific Rim), ds.internic.net (US East Coast), or
ftp.isi.edu (US West Coast).

This memo provides information for the Internet community. This memo
does not specify an Internet standard of any kind, since this
document is mainly a compilation of information taken from other RFC-
s.. Distribution of this memo is unlimited.

Abstract

This memo introduces one new e-mail (RFC 822) header field with the
name Auto-Submitted.

Changes from the previous version of this IETF draft

The "auto-forwarded" value has been removed, the inter-application
value has been added, the loop count has been changed from decreasing
(where loop control is expected to be done by the sender) to
increasing (where loop control is expected to be done by the
recipient).

1. Introduction

This memo introduces a new header field for Internet e-mail (RFC 822)
with the name "Auto-Submitted".

2. Auto-Submitted

Syntax:

     auto-submitted-field = "Auto-Submitted ":" auto-submitted

     auto-submitted =       "auto-generated" / "auto-replied"
                            ("inter-application" 1*DIGIT )

This field indicates whether the message was sent with or without
explicit human control.

"inter-application" is used when generating automatic responses to
messages which already have an "Auto-Submitted" header or when both
sender and recipient are automatic processes.

An automatic application which responds to a message which already
has an auto-submitted header MUST give the response an "Auto-
Submitted: inter-application" header.

The number (1*DIGIT) is intended for loop control, but should not
replace other loop control mechanisms. It starts with 0 for messages
which are not automatic responses to automatically generated
messages, and MUST be increased by 1 for every automatic response to
an auto-submitted message. If no such number is given, it is assumed
to be 0 and an automatic response should thus then get the value 1.

Note 1: A similar header field is defined in X.420 [4].

3. Relation to NOTIFY ESTMP command

Any request in an ESTMP NOTIFY command overrides the auto-submitted
heading field in controlling the production of notifications. If,
however, no ESTMP NOTIFY command is given for a specific recipient,
then the auto-submitted heading can control whether notifications are
to be produced.

4. Examples

4.1 No Auto-Submitted header

In the following cases no Auto-Submitted header shall be generated,
but an existing Auto-submitted header on a forwarded message SHOULD
be kept as it is.

>  Ordinary e-mail messages written by a person.

>  A person interacts with a mail-generating client, e.g. instructs
   it to join a mailing list, and the client generates a message to a
   listserver with commands for subscribing to the list.

>  A person interacts with a World Wide Web form, such that the
   filled-in form is automatically sent to an e-mail address
   specified in the WWW form document.

>  A moderator accepts messages to a moderated group, and forwards
   the accepted messages to the group members, possibly merged into
   a digest by software for producing digests.

>  Automatic forwarding by mailing list expanders or to a new
   e-mail address for the recipient.

4.2 Auto-Submitted: auto-generated

>  An automatically generated weather-report is sent once every
   three hours to subscribing customers.

>  An automatic computer process sends failure reports.

>  An automatic vote counter counts incoming votes and reports on
   the outcome of the vote.

>  A subscription service sends copies of a file every time the file
   is updated to people subscribing to such updates. If the
   subscription server wants notifications when the recipient address
   is faulty, it can use the NOTIFY ESMTP command.

4.3 Auto-Submitted: auto-replied

>  A mail server responds to an incoming request message.

>  A special kind of notification, such as a a notification asking
   you to confirm your subscription to a mailing list, is sent to
   you automatically by the mailing-list-server every six month.

>  A vacation server sends a vacation message in response to an
   incoming message for the person who is on vacation.

>  A non-standard type of notification is produced automatically,
   e.g. a notification that a message has been purged from the
   recipient mailbox.

4.4 Auto-Submitted: inter-application

>  An automatic weather-station sends automatic messages with
   temperature, wind velocity, etc. to a weather data base server.

>  Any automatic response to a message with an Auto-Submitted
   header.

>  Messages where it is known that both sender and recipient are
   automatic applications where no human makes an individual decision
   for each message if it is to be sent or not.

5. Security considerations

"Auto-submitted:" raises no new security concerns, instead, it
reduces the risk to security of certain kinds of loops.

6. Acknowledgements

Keith Moore and Uzi Paz have influenced this document with valuable
suggestions.

6. References

[1]  D. Crocker: "Standard for the format of ARPA Internet text
     messages." STD 11, RFC 822, August 1982.

[2]  S. Hardcastle-Kille: "Mapping between X.400(1988) / ISO 10021
     and RFC 822",  RFC 1327 May 1992.

[3]  ISO/ITU: "Message Handling Systems", ISO international standard
     10021, ITU  recommendation X.400.

[4]  ISO/ITU: "Message Handling Systems, Part 7: Interpersonal
     Messaging System, ISO international standard 10021-7, ITU
     recommendation X.420.

[5]  N. Borenstein, N. Freed: "MIME (Multipurpose Internet Mail
     Extensions)", RFC 1521, September 1993.

7. Author's address

Jacob Palme                          Phone: +46-8-16 16 67
Stockholm University/KTH             Fax: +46-8-783 08 29
Electrum 230                         E-mail: jpalme@dsv.su.se
S-164 40 Kista, Sweden

