<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard%20http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>AFS-3 Rx RPC XDR Primitive Type Definitions</title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";3
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction">
<link href="#rfc.section.1.1" rel="Chapter" title="1.1 Abbreviations">
<link href="#rfc.section.2" rel="Chapter" title="2 Conventions">
<link href="#rfc.section.3" rel="Chapter" title="3 Primitive Integer Types">
<link href="#rfc.section.3.1" rel="Chapter" title="3.1 char">
<link href="#rfc.section.3.2" rel="Chapter" title="3.2 unsigned char">
<link href="#rfc.section.3.3" rel="Chapter" title="3.3 short">
<link href="#rfc.section.3.4" rel="Chapter" title="3.4 unsigned short">
<link href="#rfc.section.3.5" rel="Chapter" title="3.5 1- and 2-octet integer types">
<link href="#rfc.section.4" rel="Chapter" title="4 afsUUID">
<link href="#rfc.section.4.1" rel="Chapter" title="4.1 Encoding">
<link href="#rfc.section.4.2" rel="Chapter" title="4.2 Decoding">
<link href="#rfc.section.5" rel="Chapter" title="5 IANA Considerations">
<link href="#rfc.section.6" rel="Chapter" title="6 AFS Assign Numbers Registrar Considerations">
<link href="#rfc.section.7" rel="Chapter" title="7 Security Considerations">
<link href="#rfc.references" rel="Chapter" title="8 References">
<link href="#rfc.references.1" rel="Chapter" title="8.1 Normative References">
<link href="#rfc.references.2" rel="Chapter" title="8.2 Informative References">
<link href="#rfc.appendix.Appendix%20A" rel="Chapter" title="Appendix A Base Type Definitions">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content=
  "http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.539, 2011-01-02 17:13:00, XSLT vendor: SAXON 6.5.5 from Michael Kay http://saxon.sf.net/" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />
  <meta name="dct.creator" content="Doe, J." />
  <meta name="dct.identifier" content="urn:ietf:id:draft-sample-input-00" />
  <meta name="dct.issued" scheme="ISO8601" content="2010-12" />
  
  <meta name="dct.abstract" content="AFS-3 embeds a set of XDR primitive type definitions, which are referenced throughout the various AFS-3 protocol specifications.  This memo defines the mapping between these AFS-3 primitive types, and the underlying XDR primitives.  " />
  <meta name="description" content="AFS-3 embeds a set of XDR primitive type definitions, which are referenced throughout the various AFS-3 protocol specifications.  This memo defines the mapping between these AFS-3 primitive types, and the underlying XDR primitives.  " />
  <meta name="keywords" content="afs, afs3, afs-3" />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">Network Working Group</td>
<td class="right">T.E. Keiser</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right">Sine Nomine</td>
</tr>
<tr>
<td class="left">Intended status: Informational</td>
<td class="right">June 02, 2011</td>
</tr>
<tr>
<td class="left">Expires: December 04, 2011</td>
<td class="right"></td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">AFS-3 Rx RPC XDR Primitive Type Definitions<br />
  <span class="filename">draft-keiser-afs3-xdr-primitive-types-00</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>AFS-3 embeds a set of XDR primitive type definitions, which are referenced throughout the various AFS-3 protocol specifications.  This memo defines the mapping between these AFS-3 primitive types, and the underlying XDR primitives.  </p>
<h1><a>Internet Draft Comments</a></h1>
<p>Comments regarding this draft are solicited.  Please include the AFS-3 protocol standardization mailing list (afs3-standardization@openafs.org) as a recipient of any comments.  </p>
<h1 id="rfc.status"><a href="#rfc.status">Status of this Memo</a></h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet- Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on December 04, 2011.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2011 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a>
</li>
<li>1.1.   <a href="#rfc.section.1.1">Abbreviations</a>
</li>
<li>2.   <a href="#rfc.section.2">Conventions</a>
</li>
<li>3.   <a href="#rfc.section.3">Primitive Integer Types</a>
</li>
<li>3.1.   <a href="#rfc.section.3.1">char</a>
</li>
<li>3.2.   <a href="#rfc.section.3.2">unsigned char</a>
</li>
<li>3.3.   <a href="#rfc.section.3.3">short</a>
</li>
<li>3.4.   <a href="#rfc.section.3.4">unsigned short</a>
</li>
<li>3.5.   <a href="#rfc.section.3.5">1- and 2-octet integer types</a>
</li>
<li>4.   <a href="#rfc.section.4">afsUUID</a>
</li>
<li>4.1.   <a href="#rfc.section.4.1">Encoding</a>
</li>
<li>4.2.   <a href="#rfc.section.4.2">Decoding</a>
</li>
<li>5.   <a href="#rfc.section.5">IANA Considerations</a>
</li>
<li>6.   <a href="#rfc.section.6">AFS Assign Numbers Registrar Considerations</a>
</li>
<li>7.   <a href="#rfc.section.7">Security Considerations</a>
</li>
<li>8.   <a href="#rfc.references">References</a>
</li>
<li>8.1.   <a href="#rfc.references.1">Normative References</a>
</li>
<li>8.2.   <a href="#rfc.references.2">Informative References</a>
</li>
<li>Appendix A.   <a href="#rfc.appendix.Appendix%20A">Base Type Definitions</a>
</li>
<li><a href="#rfc.authors">Author's Address</a>
</li>


  </ul>

  <h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> Introduction</h1>
<p id="rfc.section.1.p.1">AFS-3 <a href="#AFS1">[AFS1]</a> <a href="#AFS2">[AFS2]</a> is a distributed file system that has its origins in the VICE project <a href="#CMU-ITC-84-020">[CMU-ITC-84-020]</a> <a href="#VICE1">[VICE1]</a> at the Carnegie Mellon University Information Technology Center <a href="#CMU-ITC-83-025">[CMU-ITC-83-025]</a>, a joint venture between CMU and IBM.  VICE later became AFS when CMU moved development to a new commercial venture called Transarc Corporation, which later became IBM Pittsburgh Labs.  AFS-3 is a suite of un-standardized network protocols based on a remote procedure call (RPC) suite known as Rx <a href="#AFS3-RX">[AFS3-RX]</a>.  While de jure standards for AFS-3 fail to exist, the various AFS-3 implementations have agreed upon certain de facto standards, largely helped by the existence of an open source fork called OpenAFS that has served the role of reference implementation.  In addition to using OpenAFS as a reference, IBM wrote and donated developer documentation that contains somewhat outdated specifications for the Rx protocol and all AFS-3 remote procedure calls, as well as a detailed description of the AFS-3 system architecture.  </p>
<p id="rfc.section.1.p.2">The Rx RPC protocol utilizes XDR <a href="#RFC4506">[RFC4506]</a> as its means of encoding RPC call and response payloads.  While XDR provides type definitions for each popular bit-length integer, it does so using relatively ambiguous names (e.g., hyper).  To improve readability, AFS-3 standards reference custom XDR types that embed the bit length within the type name.  This memo standardizes those primitive types, as well as the encoding for the AFS-3 UUID.  </p>
<h1 id="rfc.section.1.1">
<a href="#rfc.section.1.1">1.1.</a> Abbreviations</h1>
<p></p>

<dl>
<dt>AFS    -</dt>
<dd style="margin-left: 8">Historically, AFS stood for the Andrew File System; AFS no longer stands for anything</dd>
<dt>DCE    -</dt>
<dd style="margin-left: 8">The Distributed Computing Environment</dd>
<dt>LSB    -</dt>
<dd style="margin-left: 8">Least-Significant Bit</dd>
<dt>MSB    -</dt>
<dd style="margin-left: 8">Most-Significant Bit</dd>
<dt>RPC    -</dt>
<dd style="margin-left: 8">Remote Procedure Call</dd>
<dt>Rx     -</dt>
<dd style="margin-left: 8">The Remote Procedure Call mechanism utilized by AFS-3</dd>
<dt>UUID   -</dt>
<dd style="margin-left: 8">Universally Unique IDentifier</dd>
<dt>XDR    -</dt>
<dd style="margin-left: 8">eXternal Data Representation</dd>
</dl>

<p> </p>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> Conventions</h1>
<p id="rfc.section.2.p.1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a href="#RFC2119">RFC 2119</a> <cite title="NONE">[RFC2119]</cite>.</p>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> <a href="#sec-int_types" id="sec-int_types">Primitive Integer Types</a>
</h1>
<p id="rfc.section.3.p.1">AFS-3 defines a number of special types which are direct mappings onto existing XDR types.  Thus, these types are essentially XDR typedefs: </p>
<div id="#rfc.figure.1"></div>
<div id="#fig-afs3-typedefs"></div>
<pre>
AFS-3 type name   -&gt;    XDR primitive type   [Reference]
---------------         ------------------   -----------
char                    int                  RFC 4506 Section 4.1
unsigned char           unsigned int         RFC 4506 Section 4.2
afs_int8                int                  RFC 4506 Section 4.1
afs_uint8               unsigned int         RFC 4506 Section 4.2
short                   int                  RFC 4506 Section 4.1
unsigned short          unsigned int         RFC 4506 Section 4.2
afs_int16               int                  RFC 4506 Section 4.1
afs_uint16              unsigned int         RFC 4506 Section 4.2
afs_int32               int                  RFC 4506 Section 4.1
afs_uint32              unsigned int         RFC 4506 Section 4.2
afs_int64               hyper                RFC 4506 Section 4.5
afs_uint64              unsigned hyper       RFC 4506 Section 4.5
        </pre>
<p>AFS-3 common typedefs</p>
<h1 id="rfc.section.3.1">
<a href="#rfc.section.3.1">3.1.</a> <a href="#sec-int-char" id="sec-int-char">char</a>
</h1>
<p id="rfc.section.3.1.p.1">This type is considered deprecated; future protocol specifications should reference the "afs_int8" type instead.  </p>
<h1 id="rfc.section.3.2">
<a href="#rfc.section.3.2">3.2.</a> <a href="#sec-int-uchar" id="sec-int-uchar">unsigned char</a>
</h1>
<p id="rfc.section.3.2.p.1">This type is considered deprecated; future protocol specifications should reference the "afs_uint8" type instead.  </p>
<h1 id="rfc.section.3.3">
<a href="#rfc.section.3.3">3.3.</a> <a href="#sec-int-short" id="sec-int-short">short</a>
</h1>
<p id="rfc.section.3.3.p.1">This type is considered deprecated; future protocol specifications should reference the "afs_int16" type instead.  </p>
<h1 id="rfc.section.3.4">
<a href="#rfc.section.3.4">3.4.</a> <a href="#sec-int-ushort" id="sec-int-ushort">unsigned short</a>
</h1>
<p id="rfc.section.3.4.p.1">This type is considered deprecated; future protocol specifications should reference the "afs_uint16" type instead.  </p>
<h1 id="rfc.section.3.5">
<a href="#rfc.section.3.5">3.5.</a> 1- and 2-octet integer types</h1>
<p id="rfc.section.3.5.p.1">Please note that XDR uses a 4-octet alignment, and thus these 1- and 2-octet types will take 4 octets on the wire.  Consequently, this is merely a way of defining data structures that have an optimized in-memory footprint, without imbuing any wire-encoding advantage.  </p>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> <a href="#sec-afsuuid" id="sec-afsuuid">afsUUID</a>
</h1>
<p id="rfc.section.4.p.1">AFS-3, being closely related to DCE, relies heavily upon a UUID type.  The AFS-3 UUID type is identical to the DCE-variant, version 1 UUID type (see Appendix A of <a href="#dce_rpc">[dce_rpc]</a>).  The C data structure definition for such a UUID is as follows: </p>
<div id="#rfc.figure.2"></div>
<pre>
  struct afsUUID {
      afs_uint32 time_low;
      afs_uint16 time_mid;
      afs_uint16 time_hi_and_version;
      char clock_seq_hi_and_reserved;
      char clock_seq_low;
      char node[6];
  };
  typedef struct afsUUID afsUUID;
        </pre>
<p id="rfc.section.4.p.2">An afsUUID type is XDR encoded on the wire as follows: </p>
<div id="#rfc.figure.3"></div>
<pre>
(MSB)                                                       (LSB)
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                            time_low                           |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|               0               |           time_mid            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|               0               |      time_hi_and_version      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                      {3}                      |      {1}      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                      {3}                      |      {2}      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                      {3}                      |    node[0]    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                      {3}                      |    node[1]    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                      {3}                      |    node[2]    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                      {3}                      |    node[3]    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                      {3}                      |    node[4]    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                      {3}                      |    node[5]    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

    {1} clock_seq_hi_and_reserved
    {2} clock_seq_low
    {3} sign extended padding: 0, or 0xffffff depending on value
        of MSB in field to be sign-extended and padded
        </pre>
<p>afsUUID XDR encoding</p>
<h1 id="rfc.section.4.1">
<a href="#rfc.section.4.1">4.1.</a> Encoding</h1>
<p id="rfc.section.4.1.p.1">XDR encoding an "afsUUID" type SHALL involve the following sequence of operations: </p>
<p></p>

<ol>
<li>Encode "time_low" field as an XDR unsigned integer (afs_uint32) </li>
<li>Encode "time_mid" field as an XDR unsigned integer </li>
<li>Encode "time_hi_and_version" field as an XDR unsigned integer </li>
<li>Encode "clock_seq_hi_and_reserved" field as an XDR signed integer </li>
<li>Encode "clock_seq_low" field as an XDR signed integer </li>
<li>Encode "node[0]" field as an XDR signed integer </li>
<li>Encode "node[1]" field as an XDR signed integer </li>
<li>Encode "node[2]" field as an XDR signed integer </li>
<li>Encode "node[3]" field as an XDR signed integer </li>
<li>Encode "node[4]" field as an XDR signed integer </li>
<li>Encode "node[5]" field as an XDR signed integer </li>
</ol>

<p> </p>
<p id="rfc.section.4.1.p.3">Many of the fields which are encoded in this data structure are smaller than four octets.  In order to XDR encode these fields, they must first be resized.  Since many of these fields are signed, this involves sign extension.  This process depends upon the machine architecture.  Virtually all machines in existence today utilize 2s-complement integer arithmetic, where this process merely involves padding with zeros if the MSB is zero or ones if the MSB is one.  </p>
<h1 id="rfc.section.4.2">
<a href="#rfc.section.4.2">4.2.</a> Decoding</h1>
<p id="rfc.section.4.2.p.1">XDR decoding an "afsUUID" type SHALL involve the following sequence of operations: </p>
<p></p>

<ol>
<li>Decode an XDR unsigned integer into the "time_low" field </li>
<li>Decode an XDR unsigned integer.  If the integer is greater than 65535, the decoding SHALL fail.  Copy the least-significant 16 bits into the "time_mid" field.  </li>
<li>Decode an XDR unsigned integer.  If the integer is greater than 65535, the decoding SHALL fail.  Copy the least-significant 16 bits into the "time_hi_and_version" field.  </li>
<li>Decode an XDR signed integer.  If the integer is greater than 32767, or less than -32768, the decoding SHALL fail.  Copy the least-significant 16 bits into the "clock_seq_hi_and_reserved" field.  </li>
<li>Decode an XDR signed integer.  If the integer is greater than 32767, or less than -32768, the decoding SHALL fail.  Copy the least-significant 16 bits into the "clock_seq_low" field.  </li>
<li>Decode an XDR signed integer.  If the integer is greater than 127, or less than -128, the decoding SHALL fail.  Copy the least-significant 8 bits into the "node[0]" field.  </li>
<li>Decode an XDR signed integer.  If the integer is greater than 127, or less than -128, the decoding SHALL fail.  Copy the least-significant 8 bits into the "node[1]" field.  </li>
<li>Decode an XDR signed integer.  If the integer is greater than 127, or less than -128, the decoding SHALL fail.  Copy the least-significant 8 bits into the "node[2]" field.  </li>
<li>Decode an XDR signed integer.  If the integer is greater than 127, or less than -128, the decoding SHALL fail.  Copy the least-significant 8 bits into the "node[3]" field.  </li>
<li>Decode an XDR signed integer.  If the integer is greater than 127, or less than -128, the decoding SHALL fail.  Copy the least-significant 8 bits into the "node[4]" field.  </li>
<li>Decode an XDR signed integer.  If the integer is greater than 127, or less than -128, the decoding SHALL fail.  Copy the least-significant 8 bits into the "node[5]" field.  </li>
</ol>

<p> </p>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> IANA Considerations</h1>
<p id="rfc.section.5.p.1">This memo includes no request to IANA.</p>
<h1 id="rfc.section.6">
<a href="#rfc.section.6">6.</a> AFS Assign Numbers Registrar Considerations</h1>
<p id="rfc.section.6.p.1">This memo includes no request to the AFS Assigned Numbers Registrar.  </p>
<h1 id="rfc.section.7">
<a href="#rfc.section.7">7.</a> <a href="#Security" id="Security">Security Considerations</a>
</h1>
<p id="rfc.section.7.p.1">This document merely describes various AFS-3 XDR types.  Any protocol specification which uses these primitives types must ensure the security of the resulting XDR data streams, e.g., via prescription of a suitable Rx RPC security class.  </p>
<h1 id="rfc.references">
<a href="#rfc.references">8.</a> References</h1>
<h1 id="rfc.references.1">
<a href="#rfc.references.1">8.1.</a> Normative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC2119">[RFC2119]</b></td>
<td class="top">
<a href="mailto:sob@harvard.edu" title="Harvard University">Bradner, S.</a>, "<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>", BCP 14, RFC 2119, March 1997.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4506">[RFC4506]</b></td>
<td class="top">
<a>Eisler, M.</a>, "<a href="http://tools.ietf.org/html/rfc4506">XDR: External Data Representation Standard</a>", STD 67, RFC 4506, May 2006.</td>
</tr>
</tbody></table>
<h1 id="rfc.references.2">
<a href="#rfc.references.2">8.2.</a> Informative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="CMU-ITC-84-020">[CMU-ITC-84-020]</b></td>
<td class="top">
<a title="Carnegie Mellon University Information Technology Center">West, M.J.</a>, "<a>VICE File System Services</a>", CMU ITC Tech. Rep. CMU-ITC-84-020, August 1984.</td>
</tr>
<tr>
<td class="reference"><b id="CMU-ITC-83-025">[CMU-ITC-83-025]</b></td>
<td class="top">
<a title="Carnegie Mellon University">Morris, J.H.</a>, <a title="Carnegie Mellon University">Van Houweling, D.</a> and <a title="International Business Machines Corporation">K. Slack</a>, "<a>The Information Technology Center</a>", CMU ITC Tech. Rep. CMU-ITC-83-025, 1983.</td>
</tr>
<tr>
<td class="reference"><b id="AFS3-RX">[AFS3-RX]</b></td>
<td class="top">
<a title="Transarc Corporation">Zayas, E.R.</a>, "<a>AFS-3 Programmer's Reference: Specification for the Rx Remote Procedure Call Facility</a>", Transarc Corp. Tech. Rep. FS-00-D164, August 1991.</td>
</tr>
<tr>
<td class="reference"><b id="VICE1">[VICE1]</b></td>
<td class="top">
<a title="Carnegie Mellon University Information Technology Center">Satyanarayanan, M.</a>, <a title="Carnegie Mellon University Information Technology Center">Howard, J.H.</a>, <a title="Carnegie Mellon University Information Technology Center">Nichols, D.A.</a>, <a title="Carnegie Mellon University Information Technology Center">Sidebotham, R.N.</a>, <a title="Carnegie Mellon University Information Technology Center">Spector, A.Z.</a> and <a title="Carnegie Mellon University Information Technology Center">M.J. West</a>, "<a>The ITC Distributed File System: Principles and Design</a>", Proc. 10th ACM Symp. Operating Sys. Princ. Vol. 19, No. 5, December 1985.</td>
</tr>
<tr>
<td class="reference"><b id="AFS1">[AFS1]</b></td>
<td class="top">
<a title="Carnegie Mellon University Information Technology Center">Howard, J.H.</a>, "<a>An Overview of the Andrew File System"</a>", Proc. 1988 USENIX Winter Tech. Conf. pp. 23-26, February 1988.</td>
</tr>
<tr>
<td class="reference"><b id="AFS2">[AFS2]</b></td>
<td class="top">
<a title="Carnegie Mellon University">Howard, J.H.</a>, <a title="Carnegie Mellon University">Kazar, M.L.</a>, <a title="Carnegie Mellon University">Menees, S.G.</a>, <a title="Carnegie Mellon University">Nichols, D.A.</a>, <a title="Carnegie Mellon University">Satyanarayanan, M.</a>, <a title="Carnegie Mellon University">Sidebotham, R.N.</a> and <a title="Carnegie Mellon University">M.J. West</a>, "<a>Scale and Performance in a Distributed File System</a>", ACM Trans. Comp. Sys. Vol. 6, No. 1, pp. 51-81, February 1988.</td>
</tr>
<tr>
<td class="reference"><b id="dce_rpc">[dce_rpc]</b></td>
<td class="top">
<a>The Open Group</a>, "<a>CAE Specification, DCE 1.1: Remote Procedure Call</a>", CAE C706, August 1997.</td>
</tr>
</tbody></table>
<h1 id="rfc.appendix.Appendix A">
<a href="#rfc.appendix.Appendix%20A">Appendix A.</a> <a href="#app-base-types" id="app-base-types">Base Type Definitions</a>
</h1>
<div id="#rfc.figure.4"></div>
<pre>
typedef afs_int8  int;
typedef afs_uint8 unsigned int;
typedef afs_int16 int;
typedef afs_uint16 unsigned int;
typedef afs_int32 int;
typedef afs_uint32 unsigned int;
typedef afs_int64 hyper;
typedef afs_uint64 unsigned hyper;
</pre>
<h1 id="rfc.authors"><a href="#rfc.authors">Author's Address</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Thomas Keiser</span> 
	  <span class="n hidden">
		<span class="family-name">Keiser</span>
	  </span>
	</span>
	<span class="org vcardline">Sine Nomine Associates</span>
	<span class="adr">
	  <span>43596 Blacksmith Square</span>

	  <span class="vcardline">
		<span class="locality">Ashburn</span>,  
		<span class="region">VA</span> 
		<span class="code">20147</span>
	  </span>
	  <span class="country-name vcardline">USA</span>
	</span>
	<span class="vcardline">Phone: +1 703 723 6673</span>

<span class="vcardline">EMail: <a href="mailto:tkeiser@sinenomine.net">tkeiser@sinenomine.net</a></span>

  </address>
</div>

</body>
</html>