<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Reed-Solomon Forward Error Correction (FEC) Schemes for FECFRAME</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Reed-Solomon Forward Error Correction (FEC) Schemes for FECFRAME">
<meta name="keywords" content="I-D, Internet-Draft, Forward Error Correction, Reed-Solomon">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">FecFrame</td><td class="header">V. Roca</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">M. Cunche</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">INRIA</td></tr>
<tr><td class="header">Expires: September 5, 2009</td><td class="header">J. Lacan</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">A. Bouabdallah</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">ISAE/LAAS-CNRS</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">K. Matsuzono</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Keio University</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">March 04, 2009</td></tr>
</table></td></tr></table>
<h1><br />Reed-Solomon Forward Error Correction (FEC) Schemes for FECFRAME<br />draft-roca-fecframe-rs-00</h1>

<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted to IETF in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.
This document may contain material from IETF Documents or IETF
Contributions published or made publicly available before November
10, 2008. The person(s) controlling the copyright in some of this
material may not have granted the IETF Trust the right to allow
modifications of such material outside the IETF Standards Process.
Without obtaining an adequate license from the person(s) controlling
the copyright in such materials, this document may not be modified
outside the IETF Standards Process, and derivative works of it may
not be created outside the IETF Standards Process, except to format
it for publication as an RFC or to translate it into languages other
than English.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on September 5, 2009.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2009 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents in effect on the date of
publication of this document (http://trustee.ietf.org/license-info).
Please review these documents carefully, as they describe your
rights and restrictions with respect to this document.</p>

<h3>Abstract</h3>

<p>
This document describes four fully-specified FEC schemes for Reed-Solomon codes
that can be used to protect media streams along the lines defined by the FECFRAME framework.
Reed-Solomon codes belong to the class of Maximum Distance Separable (MDS) codes which
means they offer optimal protection against packet erasures.
They are also systematic codes, which means that the source symbols are part of the encoding
symbols.
The price to pay is a limit on the maximum source block size, on the maximum number of encoding
symbols, and a computational complexity higher than that of sparse parity check based FEC codes.
However, this complexity remains compatible with software codecs.


</p>
<p>
The first scheme is for Reed-Solomon codes over GF(2^^m), with m in {2..16}, a global FEC encoding and arbitrary packet flows.
The second scheme is for Reed-Solomon codes over GF(2^^m), with m in {2..16}, the general case FEC encoding, and arbitrary packet flows.
The third (resp. fourth) scheme is similar to the first (resp. second) scheme, with the
exception that it is for a single sequenced flow.

</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#Introduction">1.</a>&nbsp;
Introduction<br />
<a href="#Terminology">2.</a>&nbsp;
Terminology<br />
<a href="#DefinitionsNotationsandAbbreviations">3.</a>&nbsp;
Definitions Notations and Abbreviations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#Definitions">3.1.</a>&nbsp;
Definitions<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#Notations">3.2.</a>&nbsp;
Notations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#Abbreviations">3.3.</a>&nbsp;
Abbreviations<br />
<a href="#CommonProcedures">4.</a>&nbsp;
Common Procedures Related to the Source Block Creation<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#CommonProc_problem">4.1.</a>&nbsp;
Problem Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#CommonProc_src_block_creation_global_encoding">4.2.</a>&nbsp;
Source Block Creation with the Global Encoding Scheme<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#CommonProc_src_block_creation_general_case_encoding">4.3.</a>&nbsp;
Source Block Creation with the General Case Encoding Scheme<br />
<a href="#RSover2mArbitraryGE">5.</a>&nbsp;
Reed-Solomon FEC Global Encoding Scheme over GF(2^^m) for Arbitrary Packet Flows<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#RSover2mArbitraryGE_formatsAndCodes">5.1.</a>&nbsp;
Formats and Codes<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor1">5.1.1.</a>&nbsp;
FEC Framework Configuration Information<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#RSover2mArbitraryGE_src_fpi">5.1.2.</a>&nbsp;
Explicit Source FEC Payload ID<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#RSover2mArbitraryGE_repair_fpi">5.1.3.</a>&nbsp;
Repair FEC Payload ID<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#RSover2mArbitraryGE_Procedures">5.2.</a>&nbsp;
Procedures<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#RSover2mArbitraryGE_FECCodeSpecification">5.3.</a>&nbsp;
FEC Code Specification<br />
<a href="#RSover2mArbitraryGCE">6.</a>&nbsp;
Reed-Solomon FEC General Case Encoding Scheme over GF(2^^m) for Arbitrary Packet Flows<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#RSover2mArbitraryGCE_formatsAndCodes">6.1.</a>&nbsp;
Formats and Codes<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor3">6.1.1.</a>&nbsp;
FEC Framework Configuration Information<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#RSover2mArbitraryGCE_src_fpi">6.1.2.</a>&nbsp;
Explicit Source FEC Payload ID<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#RSover2mArbitraryGCE_repair_fpi">6.1.3.</a>&nbsp;
Repair FEC Payload ID<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#RSover2mArbitraryGCE_Procedures">6.2.</a>&nbsp;
Procedures<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#RSover2mArbitraryGCE_FECCodeSpecification">6.3.</a>&nbsp;
FEC Code Specification<br />
<a href="#RSover2mSSFlowGE">7.</a>&nbsp;
Reed-Solomon FEC Global Encoding Scheme over GF(2^^m) for a Single Sequenced Flow<br />
<a href="#RSover2mSSFlowGCE">8.</a>&nbsp;
Reed-Solomon FEC General Case Encoding Scheme over GF(2^^m) for a Single Sequenced Flow<br />
<a href="#SecurityConsiderations">9.</a>&nbsp;
Security Considerations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor5">9.1.</a>&nbsp;
Problem Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">9.2.</a>&nbsp;
Attacks Against the Data Flow<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">9.2.1.</a>&nbsp;
Access to Confidential Objects<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor8">9.2.2.</a>&nbsp;
Content Corruption<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor9">9.3.</a>&nbsp;
Attacks Against the FEC Parameters<br />
<a href="#iana-cons">10.</a>&nbsp;
IANA Considerations<br />
<a href="#Acknowledgments">11.</a>&nbsp;
Acknowledgments<br />
<a href="#rfc.references1">12.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">12.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">12.2.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="Introduction"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>The use of Forward Error Correction (FEC) codes is a classic solution to improve the reliability
of unicast, multicast and broadcast Content Delivery Protocols (CDP) and applications <a class='info' href='#RFC3453'>[RFC3453]<span> (</span><span class='info'>Luby, M., Vicisano, L., Gemmell, J., Rizzo, L., Handley, M., and J. Crowcroft, &ldquo;The Use of Forward Error Correction (FEC) in Reliable Multicast,&rdquo; December&nbsp;2002.</span><span>)</span></a>.
The <a class='info' href='#FECFRAME-FRAMEWORK'>[FECFRAME&#8209;FRAMEWORK]<span> (</span><span class='info'>Watson, M., &ldquo;Forward Error Correction (FEC) Framework,&rdquo; October&nbsp;2008.</span><span>)</span></a> document describes a generic framework to use FEC schemes
with media delivery applications and in particular with real-time or streaming media applications based
on the RTP real-time protocol.
Similarly the <a class='info' href='#RFC5052'>[RFC5052]<span> (</span><span class='info'>Watson, M., Luby, M., and L. Vicisano, &ldquo;Forward Error Correction (FEC) Building Block,&rdquo; August&nbsp;2007.</span><span>)</span></a> document describes a generic framework to use FEC schemes
with with objects (e.g., files) delivery applications based on the ALC  <a class='info' href='#RMT-PI-ALC'>[RMT&#8209;PI&#8209;ALC]<span> (</span><span class='info'>Luby, M., Watson, M., and L. Vicisano, &ldquo;Asynchronous Layered Coding (ALC) Protocol Instantiation,&rdquo; November&nbsp;2007.</span><span>)</span></a>
and NORM <a class='info' href='#RMT-PI-NORM'>[RMT&#8209;PI&#8209;NORM]<span> (</span><span class='info'>Adamson, B., Bormann, C., Handley, M., and J. Macker, &ldquo;Negative-acknowledgment (NACK)-Oriented Reliable Multicast 					(NORM) Protocol,&rdquo; May&nbsp;2008.</span><span>)</span></a> reliable multicast transport protocols.

</p>
<p>For instance, the <a class='info' href='#RFC5053'>[RFC5053]<span> (</span><span class='info'>Luby, M., Shokrollahi, A., Watson, M., and T. Stockhammer, &ldquo;Raptor Forward Error Correction Scheme,&rdquo; June&nbsp;2007.</span><span>)</span></a> and <a class='info' href='#RFC5170'>[RFC5170]<span> (</span><span class='info'>Roca, V., Neumann, C., and D. Furodet, &ldquo;Low Density Parity Check (LDPC) Forward Error Correction,&rdquo; June&nbsp;2008.</span><span>)</span></a> FEC schemes introduce
erasure codes based on sparse parity check matrices for object delivery protocols like ALC and NORM.
These codes are efficient in terms of processing but not optimal in terms of erasure recovery
capabilities when dealing with "small" objects.

</p>
<p>The Reed-Solomon FEC codes described in this document belong to the class of Maximum Distance
Separable (MDS) codes that are optimal in terms of erasure recovery capability.
It means that a receiver can recover the k source symbols from any set of exactly k encoding symbols.
However they are limited in terms of maximum source block size and number of encoding symbols.
Since the real-time constraints of media delivery applications usually limit the maximum
source block size, this is not considered to be a major issue in the context of the FEC Framework
for many (but not necessarily all) use-cases.
Additionally, if the encoding/decoding complexity is higher with Reed-Solomon codes than it is with
<a class='info' href='#RFC5053'>[RFC5053]<span> (</span><span class='info'>Luby, M., Shokrollahi, A., Watson, M., and T. Stockhammer, &ldquo;Raptor Forward Error Correction Scheme,&rdquo; June&nbsp;2007.</span><span>)</span></a> or <a class='info' href='#RFC5170'>[RFC5170]<span> (</span><span class='info'>Roca, V., Neumann, C., and D. Furodet, &ldquo;Low Density Parity Check (LDPC) Forward Error Correction,&rdquo; June&nbsp;2008.</span><span>)</span></a> codes, it remains reasonable for most use-cases,
even in case of a software codec.
</p>
<p>Many applications dealing with reliable content transmission or content storage already rely on
packet-based Reed-Solomon codes.
In particular, many of them use the Reed-Solomon codec of Luigi Rizzo  <a class='info' href='#RS-codec'>[RS&#8209;codec]<span> (</span><span class='info'>Rizzo, L., &ldquo;Reed-Solomon FEC codec (revised version of July 2nd, 1998), available at http://info.iet.unipi.it/~luigi/vdm98/vdm980702.tgz and mirrored at http://planete-bcast.inrialpes.fr/,&rdquo; July&nbsp;1998.</span><span>)</span></a>
<a class='info' href='#Rizzo97'>[Rizzo97]<span> (</span><span class='info'>Rizzo, L., &ldquo;Effective Erasure Codes for Reliable Computer Communication Protocols,&rdquo; April&nbsp;1997.</span><span>)</span></a>.
The goal of the present document is to specify Reed-Solomon schemes that are compatible with this codec.

</p>
<p>
The <a class='info' href='#RMT-BB-FEC-RS'>[RMT&#8209;BB&#8209;FEC&#8209;RS]<span> (</span><span class='info'>Lacan, J., Roca, V., Peltotalo, J., and S. Peltotalo, &ldquo;Reed-Solomon Forward Error Correction (FEC) Schemes,&rdquo; November&nbsp;2007.</span><span>)</span></a> document introduced such Reed-Solomon codes, and the FEC schemes
are compatible with the <a class='info' href='#RFC5052'>[RFC5052]<span> (</span><span class='info'>Watson, M., Luby, M., and L. Vicisano, &ldquo;Forward Error Correction (FEC) Building Block,&rdquo; August&nbsp;2007.</span><span>)</span></a> framework.
The present document inherits from <a class='info' href='#RMT-BB-FEC-RS'>[RMT&#8209;BB&#8209;FEC&#8209;RS]<span> (</span><span class='info'>Lacan, J., Roca, V., Peltotalo, J., and S. Peltotalo, &ldquo;Reed-Solomon Forward Error Correction (FEC) Schemes,&rdquo; November&nbsp;2007.</span><span>)</span></a> the specification of the core Reed-Solomon codes
based on Vandermonde matrices, and specifies FEC schemes that are compatible with the
<a class='info' href='#FECFRAME-FRAMEWORK'>[FECFRAME&#8209;FRAMEWORK]<span> (</span><span class='info'>Watson, M., &ldquo;Forward Error Correction (FEC) Framework,&rdquo; October&nbsp;2008.</span><span>)</span></a> framework.
Therefore this document specifies only the information specific to the FECFRAME context and
refers to <a class='info' href='#RMT-BB-FEC-RS'>[RMT&#8209;BB&#8209;FEC&#8209;RS]<span> (</span><span class='info'>Lacan, J., Roca, V., Peltotalo, J., and S. Peltotalo, &ldquo;Reed-Solomon Forward Error Correction (FEC) Schemes,&rdquo; November&nbsp;2007.</span><span>)</span></a> for the core specifications of the codes.

</p>
<p>The present document introduces:
</p>
<ul class="text">
<li> the Fully-Specified FEC Scheme with FEC Encoding ID XXX
	that specifies the use of Reed-Solomon codes over GF(2^^m), with m in {2..16},
	a global FEC encoding and for arbitrary packet flows;
</li>
<li> the Fully-Specified FEC Scheme with FEC Encoding ID XXX
	that specifies the use of Reed-Solomon codes over GF(2^^m), with m in {2..16},
	the general case FEC encoding and for a single sequenced flow;
</li>
<li> the Fully-Specified FEC Scheme with FEC Encoding ID XXX
	is similar to Scheme XXX except that it is for a single sequenced flow;
</li>
<li> the Fully-Specified FEC Scheme with FEC Encoding ID XXX
	is similar to Scheme XXX except that it is for a single sequenced flow;
</li>
</ul><p>
Distinguishing FEC schemes with a global FEC encoding and FEC schemes with
the general case FEC encoding derives from the small block nature of Reed-Solomon
codes over GF(2^^^8), the default value.
With the general case encoding, protecting a single source data payload block can
require to perform several independent FEC encodings, over different sub-blocks.
A dedicated interleaving solution is then used to assign the various symbols of a
given source packet to the sub-blocks in an optimal way, so as to guaranty the
highest possible erasure recovery capabilities.

</p>
<a name="Terminology"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Terminology</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in RFC 2119 <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; .</span><span>)</span></a>.
</p>
<a name="DefinitionsNotationsandAbbreviations"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Definitions Notations and Abbreviations</h3>

<a name="Definitions"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
Definitions</h3>

<p>This document uses the same terms and definitions as those specified in  <a class='info' href='#RFC5052'>[RFC5052]<span> (</span><span class='info'>Watson, M., Luby, M., and L. Vicisano, &ldquo;Forward Error Correction (FEC) Building Block,&rdquo; August&nbsp;2007.</span><span>)</span></a>.
Additionally, it uses the following definitions:

</p>
<blockquote class="text">
<p>Source symbol:		unit of data used during the encoding process.
</p>
<p>Encoding symbol:		unit of data generated by the encoding process.
				With systematic codes, source symbols are part
				of the encoding symbols.
</p>
<p>Repair symbol:		encoding symbol that is not a source symbol.
</p>
<p>Code rate:			the k/n ratio, i.e., the ratio between the number
				of source symbols and the number of encoding symbols. The code
				rate belongs to a ]0; 1] interval. A code rate close to 1 indicates
				that a small number of repair symbols have been produced during
				the encoding process.
</p>
<p>Systematic code:		FEC code in which the source symbols are part
				of the encoding symbols. The Reed-Solomon codes
				introduced in this document are systematic.
</p>
<p>Source block:		a block of k source symbols that are considered
				together for the encoding.
</p>
<p>Source Packet:		a data packet containing only source symbols.
</p>
<p>Repair Packet:		a data packet containing only repair symbols.
</p>
<p>Packet Erasure Channel:	a communication path where packets are either
				dropped (e.g., by a congested router, or because the
				number of transmission errors exceeds the correction
				capabilities of the physical layer codes) or
				received. When a packet is received, it is assumed
				that this packet is not corrupted.
</p>
<p>Source Data Flow:		a flow of data payloads coming from an application
				(e.g., using an RTP encapsulation), and to which FEC
				protection is applied.
</p>
<p>Source Data Payload:		a unit of data that belongs to a source data flow.
</p>
<p>Source Data Payload Block:	a set of source data payloads that are considered
				together by the FECFRAME instance. This is the set
				of symbols over which FEC encoding will be performed,
				either in a global way, or separately, over each
				sub-block.
</p>
<p>Sub-Block:			a block of k source symbols, in the general case FEC
				encoding scheme. FEC encoding is performed independently
				over each sub-block.
</p>
</blockquote><p>

</p>
<a name="Notations"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
Notations</h3>

<p>This document uses the following notations:
</p>
<blockquote class="text">
<p>k		denotes the number of source symbols in a source block.
</p>
<p>max_k	denotes the maximum number of source symbols for any source block.
</p>
<p>n_r		denotes the number of repair symbols generated for a source block.
</p>
<p>n		denotes the encoding block length, i.e., the number of
		encoding symbols generated for a source block.
		Therefore: n = k + n_r.
</p>
<p>B		denotes the number of source data payloads per source block.
</p>
<p>max_B	denotes the maximum number of source data payloads for any source block.
</p>
<p>E		denotes the encoding symbol length in bytes.
</p>
<p>S		denotes the symbol size in units of m-bit elements.
		When m = 8, then S and E are equal.
</p>
<p>m		defines the length of the elements in the finite field, in bits.
		In this document, m belongs to {2..16}.
</p>
<p>q		defines the number of elements in the finite field.
		We have: q = 2^^m in this specification.
</p>
<p>CR		denotes the "code rate", i.e., the k/n ratio.
</p>
<p>a^^b		denotes a raised to the power b.
</p>
</blockquote>

<a name="Abbreviations"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3"></a><h3>3.3.&nbsp;
Abbreviations</h3>

<p>This document uses the following abbreviations:
</p>
<blockquote class="text">
<p>ESI		stands for Encoding Symbol ID.
</p>
<p>FFCI		stands for FEC Framework Configuration Information.
</p>
<p>RS		stands for Reed-Solomon.
</p>
<p>MDS		stands for Maximum Distance Separable code.
</p>
<p>GF(q)	denotes a finite field (also known as Galois Field) with q elements.
		We assume that q = 2^^m in this document.
</p>
</blockquote><p>

</p>
<a name="CommonProcedures"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Common Procedures Related to the Source Block Creation</h3>

<p>
This section introduces the procedures that are used during the source block
creation, and that are common to all the FEC schemes introduced in this
document.

</p>
<a name="CommonProc_problem"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1"></a><h3>4.1.&nbsp;
Problem Statement</h3>

<p>
Several aspects must be considered, that impact the source block creation:
</p>
<ul class="text">
<li> the distribution of source data payload sizes;
</li>
<li> the maximum source block size (k parameter) and encoding block size
	(n parameter), that are constrained by the finite field size (m parameter);
</li>
<li> the potential real-time constraints, that impact the maximum encoding block size,
	since the larger the block size, the larger the decoding delay;
</li>
</ul><p>
We now detail each of these aspects.

</p>
<p>
In its most general form the FECFRAME framework and the RS FEC schemes
are meant to protect a set of independent flows.
Since the flows have no relationship to one another, the source data payloads of each
flow will potentially vary significantly.
Even in the special case of a single flow, the source data payload sizes may largely
vary (e.g., the various frames of a "Group of Pictures (GOP) of an H.264 flow can have
different sizes).
This diversity must be addressed by the source block creation procedure since
the RS FEC scheme requires a constant encoding symbol size (E parameter).

</p>
<p>
The finite field size parameter, m, defines the number of non zero elements in
this field which is equal to: q - 1 = 2^^m - 1.
This q - 1 value is also the theoretical maximum number of encoding symbols that can
be produced for a source block.
For instance, when m = 8 (default) there is a maximum of 2^^8 - 1 = 255 encoding symbols.
So: k < = n < = 255.
Given the target FEC code rate (e.g., provided by the developer when starting the
FECFRAME framework, and taking into account the (known or estimated) packet loss rate),
the sender calculates:
      </p>
<blockquote class="text">
<p>max_k = floor((2^^m - 1) * CR)
</p>
</blockquote><p>
This max_k value leaves enough room for the sender to produce the
desired number of repair symbols.

</p>
<p>
The source flows can have real-time constraints. 
It means that the maximum number of source transport payloads of a source block,
which directly impacts the decoding delay, must not exceed a certain threshold.
It is the role of the developer, who knows the flow real-time features, to define an
appropriate upper bound to the source data payload block size, max_B.

</p>
<p>
Another aspect is the appropriate way of performing FEC encoding over
the source data payload block.
Depending of the actual situation, two schemes are feasible:
</p>
<ul class="text">
<li>There can be situations where a sender needs to protect a small number 
	of source data payloads.
	In that case, all source data payloads, along with additional information
	(flow ID, length, and padding), are virtually split into symbols and a
	global FEC encoding is performed.
	
</li>
<li>There can be situations where a sender needs to protect a large number 
	of source data payloads.
	In that case the number of symbols is large and can easily exceed
	the max_k value.
	For this kind of situation, the present document introduces a general case encoding
	scheme, which defines sub-blocks over which independent FEC encoding is performed.
	
</li>
</ul><p>
These two encoding schemes are introduced in the following sections.

</p>
<a name="CommonProc_src_block_creation_global_encoding"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2"></a><h3>4.2.&nbsp;
Source Block Creation with the Global Encoding Scheme</h3>

<p>
With the global encoding scheme, the source data payload block is encoded as
a single source block.
There are a total of B < = max_B source data payloads.
For the source data payload i, with 0 < = i < = B-1, 3 bytes are prepended
(<a class='info' href='#fig_src_block_creation_global_enc'>Figure&nbsp;1<span> (</span><span class='info'>Source block creation with the global encoding scheme, for code rate 1/2 (equal number of source and repair symbols, 7 in this example).</span><span>)</span></a>):
</p>
<ul class="text">
<li>The first byte, FID[i] (Flow ID), contains the integer identifier
		associated to the source flow to which this source data payload
		belongs to.
		It is assumed that a single byte is sufficient, or said
		differently, that no more than 256 flows will be protected by
		a single instance of the FECFRAME framework.
	
</li>
<li>The following two bytes, L[i] (Length), contain the length of this
		source data payload, in network byte order (i.e., big endian).
		This length is for the data payload itself, without considering
		FID[i], L[i], or Pad[i].
	
</li>
</ul><p>
Zero padding is also added, in field Pad[i], if needed, for alignment purposes
on symbol boundaries. This can happen at most once per source data payload.
Thanks to this padding, a symbol will never straddle several source data payloads,
nor several source packets.

</p><br /><hr class="insert" />
<a name="fig_src_block_creation_global_enc"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  Enc Symbol Len (E)    Enc Symbol Len (E)    Enc Symbol Len (E)
&lt; ------------------ &gt;&lt; ------------------ &gt;&lt; ------------------ &gt;
+----+----+-----------------------+--------+
|F[0]|L[0]|          R[0]         | Pad[1] |
+----+----+----------+------------+--------+
|F[1]|L[1]|   R[1]   |
+----+----+----------+--------------------------------------+----+
|F[2]|L[2]|                      R[2]                       |P[2]|
+----+----+----------+--------------------------------------+----+
|F[3]|L[3]| R[3] | P3|
+----+----+------+---+
\_______________________________  _______________________________/
                                \/
                       global FEC encoding

+--------------------+
|      Repair 4      |
+--------------------+
|      Repair 5      |
+--------------------+
|      Repair 6      |
+--------------------+
|      Repair 7      |
+--------------------+
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;1: Source block creation with the
global encoding scheme, for code rate 1/2 (equal number of source and repair symbols,
7 in this example).&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>
Note that neither the initial 3 bytes nor the optional padding
is sent over the network.
However, they are considered when performing FEC encoding, which
means that a receiver who lost a certain UDP datagram (if UDP
is used) will be able to recover both the source data payload
and the initial 3 bytes, as long as FEC decoding succeeds.

</p>
<a name="CommonProc_src_block_creation_general_case_encoding"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.3"></a><h3>4.3.&nbsp;
Source Block Creation with the General Case Encoding Scheme</h3>

<p>
With the general case encoding scheme, the source data payload block is potentially
split into several sub-blocks.
Each sub-block leads to a different FEC encoding and the appropriate number
of repair symbols are generated, for each sub-block, as specified by the target code
rate.
This constraint comes from the fact that the number of source symbols in the
source data payload block exceeds the max_k value (<a class='info' href='#CommonProc_problem'>Section&nbsp;4.1<span> (</span><span class='info'>Problem Statement</span><span>)</span></a>).
In this section we define an interleaving approach to distribute the source symbols of
the various packets to sub-blocks in order to guaranty the best possible erasure protection.
Note that this solution is preferable to the alternative approach consisting in
considering smaller source data payload blocks, from an erasure recovery
capability point of view.
Note also that the source block creation with the global encoding scheme
(<a class='info' href='#CommonProc_src_block_creation_global_encoding'>Section&nbsp;4.2<span> (</span><span class='info'>Source Block Creation with the Global Encoding Scheme</span><span>)</span></a>) can also be
regarded as a special case, with a single sub-block.

</p>
<p>
For the source data payload i, with 0 < = i < = B-1, 3 bytes are prepended
and an optional zero padding appended, as in
<a class='info' href='#CommonProc_src_block_creation_global_encoding'>Section&nbsp;4.2<span> (</span><span class='info'>Source Block Creation with the Global Encoding Scheme</span><span>)</span></a>.

</p>
<p>
Let:
</p>
<blockquote class="text">
<p>s[i] be the number of size of the source data payload i, along with the
	F[i], L[i], and Pad[i] fields, in units of symbols.
</p>
<p>k_tot be the total number of symbols in this source data payload block.
	In other words, k_tot is the sum of all s[i], with 0 < = i < = B-1.
</p>
<p>NSB be the number of sub-blocks for this source data payload block.
	NSB = Ceil(k_tot / max_k).
</p>
</blockquote><p>
Here we assume that k_tot > = max_k (the case where it is equal corresponds to
<a class='info' href='#CommonProc_src_block_creation_global_encoding'>Section&nbsp;4.2<span> (</span><span class='info'>Source Block Creation with the Global Encoding Scheme</span><span>)</span></a>).
The key point here is that maximum erasure recover capabilities require that the
source symbols coming from a certain source packet be spread over the largest possible
number of sub-blocks.
Thereby, the loss of a single source packet will trigger a single symbol erasure on
the corresponding sub-blocks, instead of deeply impacting a single sub-block which
might compromise FEC decoding.
This requirement leads to the definition of an appropriate interleaving scheme.

</p>
<p>
Let us consider the example of <a class='info' href='#fig_src_block_creation_general_case_encoding'>Figure&nbsp;2<span> (</span><span class='info'>Source block creation with the general case encoding scheme example (the source data payloads are assumed to be already split in symbols and the F[], L[] and Pad[] fields are not represented).</span><span>)</span></a>.

</p><br /><hr class="insert" />
<a name="fig_src_block_creation_general_case_encoding"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
           +----------+
src pkt 0: | symb 0.0 |
           +----------+

           +----------+
src pkt 1: | symb 1.0 |
           +----------+

           +----------+----------+
src pkt 2: | symb 2.0 | symb 2.1 |
           +----------+----------+

           +----------+----------+
src pkt 3: | symb 3.0 | symb 3.1 |
           +----------+----------+

           +----------+----------+----------+
src pkt 4: | symb 4.0 | symb 4.1 | symb 4.2 |
           +----------+----------+----------+
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;2: Source block creation with the
general case encoding scheme example (the source data payloads are assumed to be already split in symbols and the F[], L[] and Pad[] fields are not represented).&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>
The source data payload block consists of five packets (B = 5), whose size (in unit of symbols)
is respectively 1, 1, 2, 2, and 3 symbols.
Therefore k_tot = 9 symbols.
If max_k = 3 symbols, then NSB = Ceil(9/3) = 3 sub-blocks.
A good interleaving consists in creating the following sub-blocks:
SB0 = {2.0; 3.0; 4.0},
SB1 = {2.1; 3.1; 4.1}, and
SB2 = {0.0; 1.0; 2.0}.
If the source packet 4 is lost during transmission, then it leads
to a single symbol loss in the three sub-blocks, which will easily be
recovered after FEC decoding.

</p>
<p>
</p>
<blockquote class="text">
<p>----- Editor's note: 
	The exact optimal interleaving algorithm is TBD.
        -----
</p>
</blockquote><p>

</p>
<p>
Here also, neither the initial 3 bytes nor the optional padding
is sent over the network.
However, they are considered when performing FEC encoding, which
means that a receiver who lost a certain UDP datagram (if UDP
is used) will be able to recover both the source data payload
and the initial 3 bytes, as long as FEC decoding succeeds.

</p>
<a name="RSover2mArbitraryGE"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Reed-Solomon FEC Global Encoding Scheme over GF(2^^m) for Arbitrary Packet Flows</h3>

<a name="RSover2mArbitraryGE_formatsAndCodes"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1"></a><h3>5.1.&nbsp;
Formats and Codes</h3>

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1.1"></a><h3>5.1.1.&nbsp;
FEC Framework Configuration Information</h3>

<p>
The FEC Framework Configuration Information (or FFCI) includes information
that MUST be communicated between the sender and receiver(s) for the FEC
scheme to operate. It includes both mandatory elements and scheme-specific elements,
as detailed below.

</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1.1.1"></a><h3>5.1.1.1.&nbsp;
Mandatory Information</h3>

<p>
</p>
<ul class="text">
<li> FEC Encoding ID: the value assigned to this fully-specified FEC scheme MUST be XXX,
	as assigned by IANA (<a class='info' href='#iana-cons'>Section&nbsp;10<span> (</span><span class='info'>IANA Considerations</span><span>)</span></a>).
</li>
</ul><p>
When SDP is used to communicate the FFCI, this FEC Encoding ID is carried in
the 'encoding-id' parameter.

</p>
<a name="RSover2mArbitraryGE_fssi"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1.1.2"></a><h3>5.1.1.2.&nbsp;
FEC Scheme-Specific Information</h3>

<p>
The FEC Scheme Specific Information (FSSI) includes elements that are specific
to the present FEC scheme. More precisely:
</p>
<ul class="text">
<li> Encoding symbol length (E): a non-negative integer indicating the length of each encoding
	symbol in bytes.
</li>
<li> m parameter: it defines the length of the elements in the finite field, in bits.
	In this scheme, m belongs to {2..16}.
</li>
</ul><p>
The encoding format is the following 3 octet field:

</p><br /><hr class="insert" />
<a name="fig_RSover2mArbitraryGE_fssi"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
 0                   1                   2
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   Encoding Symbol Length (E)  |       m       |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;3: FSSI encoding format.&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>
These elements are required both by the sender (RS encoder) and the receiver(s) (RS decoder).
When SDP is used to communicate the FFCI, this FEC Encoding ID is carried in
the 'fssi' parameter as an opaque octet string.

</p>
<a name="RSover2mArbitraryGE_src_fpi"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1.2"></a><h3>5.1.2.&nbsp;
Explicit Source FEC Payload ID</h3>

<p>
A source packet MUST contain an Explicit Source FEC Payload ID that is appended to the
end of the packet as illustrated in <a class='info' href='#fig_src_pkt_format'>Figure&nbsp;4<span> (</span><span class='info'>Structure of a source packet with the Explicit Source FEC Payload ID.</span><span>)</span></a>.
It contains the original source data payload, and therefore it can span several
source symbols.

</p><br /><hr class="insert" />
<a name="fig_src_pkt_format"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
+--------------------------------+
|           IP Header            |
+--------------------------------+
|        Transport Header        |
+--------------------------------+
|       Source Data Payload      |
+--------------------------------+
| Explicit Source FEC Payload ID |
+--------------------------------+
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;4: Structure of a source packet with the
Explicit Source FEC Payload ID.&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>
More precisely, the Explicit Source FEC Payload ID is composed of the
Source Block Number and the Encoding Symbol ID.
The length of these two fields depends on the m parameter (which is transmitted
separately in the FFCI, see below):
</p>
<ul class="text">
<li>The Source Block Number (SBN) (32-m bit field) identifies the
   source block to which the source packet belongs.
   There are a maximum of 2^^(32-m) blocks before a wrapping of this field occurs.
</li>
<li>The Encoding Symbol ID (ESI) (m bit field) identifies the first
   source symbol associated to this source packet in the source block.
   There are a maximum of 2^^m encoding symbols per block.
   The first k values (0 to k - 1) identify source symbols.
</li>
</ul><p>

</p><br /><hr class="insert" />
<a name="fig_src_fpi_for_8"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|      Source Block Number (32-8=24 bits)       | Enc. Symb. ID |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;5: Source FEC Payload ID encoding format for m = 8 (default).&nbsp;</b></font><br /></td></tr></table><hr class="insert" />
<br /><hr class="insert" />
<a name="fig_src_fpi_for_16"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   Source Block Nb (16 bits)   |   Enc. Symbol ID (16 bits)    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;6: Source FEC Payload ID encoding format for m = 16.&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>
The format of the FEC Payload ID for m = 8 and m = 16 is illustrated in 
<a class='info' href='#fig_src_fpi_for_8'>Figure&nbsp;5<span> (</span><span class='info'>Source FEC Payload ID encoding format for m = 8 (default).</span><span>)</span></a> and <a class='info' href='#fig_src_fpi_for_16'>Figure&nbsp;6<span> (</span><span class='info'>Source FEC Payload ID encoding format for m = 16.</span><span>)</span></a>
respectively.
</p>
<a name="RSover2mArbitraryGE_repair_fpi"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1.3"></a><h3>5.1.3.&nbsp;
Repair FEC Payload ID</h3>

<p>
A repair packet MUST contain a Repair FEC Payload ID that is prepended to the
repair symbol(s) as illustrated in <a class='info' href='#fig_repair_pkt_format'>Figure&nbsp;7<span> (</span><span class='info'>Structure of a repair packet with the Repair FEC Payload ID.</span><span>)</span></a>.
There can be several repair symbols per repair packet.

</p><br /><hr class="insert" />
<a name="fig_repair_pkt_format"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
+--------------------------------+
|           IP Header            |
+--------------------------------+
|        Transport Header        |
+--------------------------------+
|      Repair FEC Payload ID     |
+--------------------------------+
|         Repair Symbol          |
+--------------------------------+
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;7: Structure of a repair packet with the
Repair FEC Payload ID.&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>
More precisely, the Repair FEC Payload ID is composed of the
Source Block Number, the Encoding Symbol ID and the Source Block Length.
The length of these fields depends on the parameter m (which is transmitted
separately in the FFCI, see below):
</p>
<ul class="text">
<li>The Source Block Number (SBN) (32-m bit field) identifies the
   source block to which the repair packet belongs.
   There are a maximum of 2^^(32-m) blocks before a wrapping of this field occurs.
</li>
<li>The Encoding Symbol ID (ESI) (m bit field) identifies the first
   repair symbol contained in this repair packet.
   There are a maximum of 2^^m encoding symbols per block.
   The last n-k values (k to n - k - 1) identify repair symbols.
</li>
<li>The Source Block Length (SBL) (16 bit field) provides the actual size of the
   source block, in number of symbols. If 16 bits are too much when m < = 8, it is
   needed when 8 < m < = 16.
</li>
</ul><p>

</p><br /><hr class="insert" />
<a name="fig_repair_fpi_for_8"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|       Source Block Number (32-8=24 bits)      | Enc. Symb. ID |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   Source Block Length (SBL)   |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;8: Source FEC Payload ID encoding format for m = 8 (default).&nbsp;</b></font><br /></td></tr></table><hr class="insert" />
<br /><hr class="insert" />
<a name="fig_repair_fpi_for_16"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   Source Block Nb (16 bits)   |   Enc. Symbol ID (16 bits)    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   Source Block Length (SBL)   |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;9: Source FEC Payload ID encoding format for m = 16.&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>
The format of the FEC Payload ID for m = 8 and m = 16 is illustrated in 
<a class='info' href='#fig_repair_fpi_for_8'>Figure&nbsp;8<span> (</span><span class='info'>Source FEC Payload ID encoding format for m = 8 (default).</span><span>)</span></a> and <a class='info' href='#fig_repair_fpi_for_16'>Figure&nbsp;9<span> (</span><span class='info'>Source FEC Payload ID encoding format for m = 16.</span><span>)</span></a>
respectively.
</p>
<a name="RSover2mArbitraryGE_Procedures"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.2"></a><h3>5.2.&nbsp;
Procedures</h3>

<p>
The source block creation procedures are specified in
<a class='info' href='#CommonProc_src_block_creation_global_encoding'>Section&nbsp;4.2<span> (</span><span class='info'>Source Block Creation with the Global Encoding Scheme</span><span>)</span></a>.
More precisely:
</p>
<ul class="text">
<li>the length indication for the source data payload i,
	used to compute the L[i] field, is the actual length of the
	source data payload i.
	It MUST NOT include FID[i], L[i], Pad[i], nor the Explicit Source
	FEC Payload ID.
	
</li>
<li>
	The SBN value is incremented for each new source block, starting at
	0 for the first block. 
	Wrapping to zero will happen for long sessions, after value 2^^(32-m)-1.
	
</li>
<li>
	The ESI of source symbols are managed sequentially, starting at
	0 for the first symbol.
	
</li>
</ul><p>

</p>
<a name="RSover2mArbitraryGE_FECCodeSpecification"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.3"></a><h3>5.3.&nbsp;
FEC Code Specification</h3>

<p>
The present document inherits from <a class='info' href='#RMT-BB-FEC-RS'>[RMT&#8209;BB&#8209;FEC&#8209;RS]<span> (</span><span class='info'>Lacan, J., Roca, V., Peltotalo, J., and S. Peltotalo, &ldquo;Reed-Solomon Forward Error Correction (FEC) Schemes,&rdquo; November&nbsp;2007.</span><span>)</span></a> the specification of the
core Reed-Solomon codes based on Vandermonde matrices.

</p>
<a name="RSover2mArbitraryGCE"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Reed-Solomon FEC General Case Encoding Scheme over GF(2^^m) for Arbitrary Packet Flows</h3>

<a name="RSover2mArbitraryGCE_formatsAndCodes"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1"></a><h3>6.1.&nbsp;
Formats and Codes</h3>

<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1.1"></a><h3>6.1.1.&nbsp;
FEC Framework Configuration Information</h3>

<p>
The FEC Framework Configuration Information (or FFCI) includes information
that MUST be communicated between the sender and receiver(s) for the FEC
scheme to operate. It include both mandatory elements and scheme-specific elements,
as detailed below.

</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1.1.1"></a><h3>6.1.1.1.&nbsp;
Mandatory Information</h3>

<p>
</p>
<ul class="text">
<li> FEC Encoding ID: the value assigned to this fully-specified FEC scheme MUST be XXX,
	as assigned by IANA (<a class='info' href='#iana-cons'>Section&nbsp;10<span> (</span><span class='info'>IANA Considerations</span><span>)</span></a>).
</li>
</ul><p>
When SDP is used to communicate the FFCI, this FEC Encoding ID is carried in
the 'encoding-id' parameter.

</p>
<a name="RSover2mArbitraryGCE_fssi"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1.1.2"></a><h3>6.1.1.2.&nbsp;
FEC Scheme-Specific Information</h3>

<p>
TBD

</p>
<a name="RSover2mArbitraryGCE_src_fpi"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1.2"></a><h3>6.1.2.&nbsp;
Explicit Source FEC Payload ID</h3>

<p>
A source packet MUST contain an Explicit Source FEC Payload ID that is appended to the
end of the packet as illustrated in <a class='info' href='#fig_src_pkt_format'>Figure&nbsp;4<span> (</span><span class='info'>Structure of a source packet with the Explicit Source FEC Payload ID.</span><span>)</span></a>.

</p>
<p>
TBD

</p>
<a name="RSover2mArbitraryGCE_repair_fpi"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1.3"></a><h3>6.1.3.&nbsp;
Repair FEC Payload ID</h3>

<p>
A repair packet MUST contain a Repair FEC Payload ID that is prepended to the
repair symbol(s) as illustrated in <a class='info' href='#fig_repair_pkt_format'>Figure&nbsp;7<span> (</span><span class='info'>Structure of a repair packet with the Repair FEC Payload ID.</span><span>)</span></a>.

</p>
<p>
TBD

</p>
<a name="RSover2mArbitraryGCE_Procedures"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2"></a><h3>6.2.&nbsp;
Procedures</h3>

<p>
The source block creation procedures are specified in
<a class='info' href='#CommonProc_src_block_creation_general_case_encoding'>Section&nbsp;4.3<span> (</span><span class='info'>Source Block Creation with the General Case Encoding Scheme</span><span>)</span></a>.
More precisely:
</p>
<ul class="text">
<li>the length indication for the source data payload i,
	used to compute the L[i] field, is the actual length of the
	source data payload i.
	It MUST NOT include FID[i], L[i], Pad[i], nor the Explicit Source
	FEC Payload ID.
	
</li>
<li>
	The SBN value is incremented for each new source block, starting at
	0 for the first block. 
	Wrapping to zero will happen for long sessions, after value 2^^(32-m).
	
</li>
<li>
	The ESI of source symbols are managed sequentially, starting at
	0 for the first symbol.
	
</li>
</ul><p>

</p>
<a name="RSover2mArbitraryGCE_FECCodeSpecification"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.3"></a><h3>6.3.&nbsp;
FEC Code Specification</h3>

<p>
The present document inherits from <a class='info' href='#RMT-BB-FEC-RS'>[RMT&#8209;BB&#8209;FEC&#8209;RS]<span> (</span><span class='info'>Lacan, J., Roca, V., Peltotalo, J., and S. Peltotalo, &ldquo;Reed-Solomon Forward Error Correction (FEC) Schemes,&rdquo; November&nbsp;2007.</span><span>)</span></a> the specification of the
core Reed-Solomon codes based on Vandermonde matrices.

</p>
<a name="RSover2mSSFlowGE"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Reed-Solomon FEC Global Encoding Scheme over GF(2^^m) for a Single Sequenced Flow</h3>

<p>
TBD

</p>
<a name="RSover2mSSFlowGCE"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
Reed-Solomon FEC General Case Encoding Scheme over GF(2^^m) for a Single Sequenced Flow</h3>

<p>
TBD

</p>
<a name="SecurityConsiderations"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
Security Considerations</h3>

<p>
</p>
<blockquote class="text">
<p>----- Editor's note: 
	Section To Be Updated...
        -----
</p>
</blockquote><p>

</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.1"></a><h3>9.1.&nbsp;
Problem Statement</h3>

<p>
A content delivery system is potentially subject to many attacks:
some of them target the network (e.g., to compromise the routing infrastructure,
by compromising the congestion control component), others target
the Content Delivery Protocol (CDP) (e.g., to compromise its normal behavior),
and finally some attacks target the content itself.
Since this document focuses on a FEC building block independently of any
particular CDP (even if ALC and NORM are two natural candidates), this
section only discusses the additional threats that an arbitrary CDP may be exposed
to when using this building block.

</p>
<p>
More specifically, several kinds of attacks exist:
</p>
<ul class="text">
<li> those that are meant to give access to a confidential content (e.g., in
	  case of a non-free content),
</li>
<li> those that try to corrupt the object being transmitted (e.g., to
	  inject malicious code within an object, or to prevent a receiver
	  from using an object),
</li>
<li> and those that try to compromise the receiver's behavior (e.g., by
	  making the decoding of an object computationally expensive).
</li>
</ul><p>
These attacks can be launched either against the data flow itself (e.g.
by sending forged symbols) or against the FEC parameters that are
sent either in-band (e.g., in an EXT_FTI or FDT Instance) or out-of-band (e.g., in
a session description).

</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.2"></a><h3>9.2.&nbsp;
Attacks Against the Data Flow</h3>

<p>
First of all, let us consider the attacks against the data flow.

</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.2.1"></a><h3>9.2.1.&nbsp;
Access to Confidential Objects</h3>

<p>
Access control to the object being transmitted is typically provided by means
of encryption.
This encryption can be done over the whole object (e.g., by the content provider, before the
FEC encoding process), or be done on a packet per packet basis (e.g., when IPSec/ESP
is used <a class='info' href='#RFC4303'>[RFC4303]<span> (</span><span class='info'>Kent, S., &ldquo;IP Encapsulating Security Payload (ESP),&rdquo; December&nbsp;2005.</span><span>)</span></a>).
If access control is a concern, it is RECOMMENDED that one of these solutions be used.
Even if we mention these attacks here, they are not related nor facilitated by
the use of FEC.

</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.2.2"></a><h3>9.2.2.&nbsp;
Content Corruption</h3>

<p>
Protection against corruptions (e.g., after sending forged packets) is achieved
by means of a content integrity verification/sender authentication scheme.
This service can be provided at the object level, but in that case a receiver
has no way to identify which symbol(s) is(are) corrupted if the object is detected
as corrupted.
This service can also be provided at the packet level. In this case, after 
removing all forged packets, the object may be in some case recovered.
Several techniques can provide this source authentication/content integrity
service:
</p>
<ul class="text">
<li> at the object level, the object MAY be digitally signed (with public key
  cryptography), for instance by using RSASSA-PKCS1-v1_5 <a class='info' href='#RFC3447'>[RFC3447]<span> (</span><span class='info'>Jonsson, J. and B. Kaliski, &ldquo;Public-Key Cryptography Standards (PKCS) #1: RSA Cryptography Specifications Version 2.1,&rdquo; February&nbsp;2003.</span><span>)</span></a>.
  This signature enables a receiver to check the object integrity, once this latter has
  been fully decoded. Even if digital signatures are computationally expensive,
  this calculation occurs only once per object, which is usually acceptable;
</li>
<li> at the packet level, each packet can be digitally signed. A major limitation is
  the high computational and transmission overheads that this solution requires (unless
  Elliptic Curve Cryptography (ECC) is used, but ECC is the subject of proprietary
  patents).
  To avoid this problem, the signature may span a set of symbols (instead of a
  single one) in order to amortize the signature calculation.
  But if a single symbol is missing, the integrity of the whole set cannot be checked;
</li>
<li> at the packet level, a Group Message Authentication Code (MAC) <a class='info' href='#RFC2104'>[RFC2104]<span> (</span><span class='info'>, &ldquo;HMAC: Keyed-Hashing for Message Authentication,&rdquo; February&nbsp;1997.</span><span>)</span></a>
  scheme can be used, for instance by using HMAC-SHA-1 with a secret key shared by all
  the group members, senders and receivers.
  This technique creates a cryptographically secured (thanks to the secret key)
  digest of a packet that is sent along with the packet.
  The Group MAC scheme  does not create prohibitive processing load nor transmission
  overhead, but it has a major limitation: it only provides a group authentication/integrity
  service since all group members share the same secret group key, which means that each
  member can send a forged packet. It is therefore restricted to situations where
  group members are fully trusted (or in association with another technique as a
  pre-check);
</li>
<li> at the packet level, TESLA <a class='info' href='#RFC4082'>[RFC4082]<span> (</span><span class='info'>, &ldquo;Timed Efficient Stream Loss-Tolerant Authentication (TESLA): 						Multicast Source Authentication Transform Introduction,&rdquo; June&nbsp;2005.</span><span>)</span></a> is a very attractive
  and efficient solution that is robust to losses, provides a true authentication/integrity
  service, and does not create any prohibitive processing load or transmission overhead.
  Yet checking a packet requires a small delay (a second or more) after its reception;
</li>
</ul><p>

</p>
<p>
Techniques relying on public key cryptography (digital signatures and TESLA during
the bootstrap process, when used) require that public keys be securely associated
to the entities. This can be achieved by a Public Key Infrastructure (PKI), or by a
PGP Web of Trust, or by pre-distributing the public keys of each group member.

</p>
<p>
Techniques relying on symmetric key cryptography (group MAC) require that a
secret key be shared by all group members. This can be achieved by means of a
group key management protocol, or simply by pre-distributing the secret key
(but this manual solution has many limitations).

</p>
<p>
It is up to the developer and deployer, who know the security requirements and
features of the target application area, to define which solution is the most appropriate.
Nonetheless, in case there is any concern of the threat of object corruption, it is
RECOMMENDED that at least one of these techniques be used.

</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.3"></a><h3>9.3.&nbsp;
Attacks Against the FEC Parameters</h3>

<p>
Let us now consider attacks against the FEC parameters (or FEC OTI).
The FEC OTI can either be sent in-band (i.e., in an EXT_FTI or in an FDT Instance
containing FEC OTI for the object) or out-of-band (e.g., in a session description).
Attacks on these FEC parameters can prevent the decoding of the associated object:
for instance modifying the B parameter will lead to a different block partitioning
at a receiver thereby compromising decoding; or setting the m parameter to 16 instead
of 8 with FEC Encoding ID 2 will increase the processing load while compromising decoding.

</p>
<p>
It is therefore RECOMMENDED that security measures be taken to guarantee the
FEC OTI integrity.
To that purpose, the packets carrying the FEC parameters sent in-band
in an EXT_FTI header extension SHOULD be protected by one of the
per-packet techniques described above: digital signature, group MAC, or TESLA.
When FEC OTI is contained in an FDT Instance, this object SHOULD be protected,
for instance by digitally signing it with XML digital signatures <a class='info' href='#RFC3275'>[RFC3275]<span> (</span><span class='info'>Eastlake, D., Reagle, J., and D. Solo, &ldquo;(Extensible Markup Language) XML-Signature Syntax and Processing,&rdquo; March&nbsp;2002.</span><span>)</span></a>.
Finally, when FEC OTI is sent out-of-band (e.g., in a session description)
this latter SHOULD be protected, for instance by digitally signing it.

</p>
<p>
The same considerations concerning the key management aspects apply here also.

</p>
<a name="iana-cons"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10"></a><h3>10.&nbsp;
IANA Considerations</h3>

<p>
Values of FEC Encoding IDs and FEC Instance IDs are subject to IANA registration.

</p>
<p>
TBD

</p>
<a name="Acknowledgments"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11"></a><h3>11.&nbsp;
Acknowledgments</h3>

<p>
The authors want to thank Hitoshi Asaeda for his valuable comments.
            
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.12"></a><h3>12.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>12.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text">Bradner, S., &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; RFC&nbsp;2119.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5052">[RFC5052]</a></td>
<td class="author-text">Watson, M., Luby, M., and L. Vicisano, &ldquo;<a href="http://tools.ietf.org/html/rfc5052">Forward Error Correction (FEC) Building Block</a>,&rdquo; RFC&nbsp;5052, August&nbsp;2007.</td></tr>
<tr><td class="author-text" valign="top"><a name="RMT-BB-FEC-RS">[RMT-BB-FEC-RS]</a></td>
<td class="author-text">Lacan, J., Roca, V., Peltotalo, J., and S. Peltotalo, &ldquo;Reed-Solomon Forward Error Correction (FEC) Schemes,&rdquo; Work in&nbsp;Progress, November&nbsp;2007.</td></tr>
<tr><td class="author-text" valign="top"><a name="FECFRAME-FRAMEWORK">[FECFRAME-FRAMEWORK]</a></td>
<td class="author-text">Watson, M., &ldquo;Forward Error Correction (FEC) Framework,&rdquo; Work in&nbsp;Progress, October&nbsp;2008.</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>12.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC3453">[RFC3453]</a></td>
<td class="author-text">Luby, M., Vicisano, L., Gemmell, J., Rizzo, L., Handley, M., and J. Crowcroft, &ldquo;<a href="http://tools.ietf.org/html/rfc3453">The Use of Forward Error Correction (FEC) in Reliable Multicast</a>,&rdquo; RFC&nbsp;3453, December&nbsp;2002.</td></tr>
<tr><td class="author-text" valign="top"><a name="RS-codec">[RS-codec]</a></td>
<td class="author-text">Rizzo, L., &ldquo;Reed-Solomon FEC codec (revised version of July 2nd, 1998), available at
http://info.iet.unipi.it/~luigi/vdm98/vdm980702.tgz and mirrored at http://planete-bcast.inrialpes.fr/,&rdquo; July&nbsp;1998.</td></tr>
<tr><td class="author-text" valign="top"><a name="Rizzo97">[Rizzo97]</a></td>
<td class="author-text">Rizzo, L., &ldquo;Effective Erasure Codes for Reliable Computer Communication Protocols,&rdquo; ACM SIGCOMM Computer Communication Review&nbsp;Vol.27, No.2, pp.24-36, April&nbsp;1997.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5170">[RFC5170]</a></td>
<td class="author-text">Roca, V., Neumann, C., and D. Furodet, &ldquo;<a href="http://tools.ietf.org/html/rfc5170">Low Density Parity Check (LDPC) Forward Error Correction</a>,&rdquo; RFC&nbsp;5170, June&nbsp;2008.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5053">[RFC5053]</a></td>
<td class="author-text">Luby, M., Shokrollahi, A., Watson, M., and T. Stockhammer, &ldquo;<a href="http://tools.ietf.org/html/rfc5053">Raptor Forward Error Correction Scheme</a>,&rdquo; RFC&nbsp;5053, June&nbsp;2007.</td></tr>
<tr><td class="author-text" valign="top"><a name="RMT-PI-ALC">[RMT-PI-ALC]</a></td>
<td class="author-text">Luby, M., Watson, M., and L. Vicisano, &ldquo;Asynchronous Layered Coding (ALC) Protocol Instantiation,&rdquo; Work in&nbsp;Progress, November&nbsp;2007.</td></tr>
<tr><td class="author-text" valign="top"><a name="RMT-PI-NORM">[RMT-PI-NORM]</a></td>
<td class="author-text">Adamson, B., Bormann, C., Handley, M., and J. Macker, &ldquo;Negative-acknowledgment (NACK)-Oriented Reliable Multicast
					(NORM) Protocol,&rdquo; Work in&nbsp;Progress, May&nbsp;2008.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3447">[RFC3447]</a></td>
<td class="author-text">Jonsson, J. and B. Kaliski, &ldquo;<a href="http://tools.ietf.org/html/rfc3447">Public-Key Cryptography Standards (PKCS) #1: RSA Cryptography Specifications Version 2.1</a>,&rdquo; RFC&nbsp;3447, February&nbsp;2003 (<a href="ftp://ftp.isi.edu/in-notes/rfc3447.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4303">[RFC4303]</a></td>
<td class="author-text">Kent, S., &ldquo;<a href="http://tools.ietf.org/html/rfc4303">IP Encapsulating Security Payload (ESP)</a>,&rdquo; RFC&nbsp;4303, December&nbsp;2005 (<a href="ftp://ftp.isi.edu/in-notes/rfc4303.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2104">[RFC2104]</a></td>
<td class="author-text">&ldquo;<a href="http://tools.ietf.org/html/rfc2104">HMAC: Keyed-Hashing for Message Authentication</a>,&rdquo; RFC&nbsp;2104, February&nbsp;1997.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4082">[RFC4082]</a></td>
<td class="author-text">&ldquo;<a href="http://tools.ietf.org/html/rfc4082">Timed Efficient Stream Loss-Tolerant Authentication (TESLA):
						Multicast Source Authentication Transform Introduction</a>,&rdquo; RFC&nbsp;4082, June&nbsp;2005.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3275">[RFC3275]</a></td>
<td class="author-text">Eastlake, D., Reagle, J., and D. Solo, &ldquo;<a href="http://tools.ietf.org/html/rfc3275">(Extensible Markup Language) XML-Signature Syntax and Processing</a>,&rdquo; RFC&nbsp;3275, March&nbsp;2002 (<a href="ftp://ftp.isi.edu/in-notes/rfc3275.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Vincent Roca</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">INRIA</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">655, av. de l'Europe</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Inovallee; Montbonnot</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">ST ISMIER cedex  38334</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">France</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:vincent.roca@inria.fr">vincent.roca@inria.fr</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://planete.inrialpes.fr/people/roca/">http://planete.inrialpes.fr/people/roca/</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Mathieu Cunche</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">INRIA</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">655, av. de l'Europe</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Inovallee; Montbonnot</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">ST ISMIER cedex  38334</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">France</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:mathieu.cunche@inria.fr">mathieu.cunche@inria.fr</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://planete.inrialpes.fr/people/cunche/">http://planete.inrialpes.fr/people/cunche/</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Jerome Lacan</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">ISAE/LAAS-CNRS</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">1, place Emile Blouin</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Toulouse  31056</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">France</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:jerome.lacan@isae.fr">jerome.lacan@isae.fr</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://dmi.ensica.fr/auteur.php3?id_auteur=5">http://dmi.ensica.fr/auteur.php3?id_auteur=5</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Amine Bouabdallah</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">ISAE/LAAS-CNRS</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">1, place Emile Blouin</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Toulouse  31056</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">France</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:Amine.Bouabdallah@isae.fr">Amine.Bouabdallah@isae.fr</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://dmi.ensica.fr/">http://dmi.ensica.fr/</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Kazuhisa Matsuzono</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Keio University</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Graduate School of Media and Governance</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">5322 Endo</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Fujisawa, Kanagawa  252-8520</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Japan</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:kazuhisa@sfc.wide.ad.jp">kazuhisa@sfc.wide.ad.jp</a></td></tr>
</table>
</body></html>
