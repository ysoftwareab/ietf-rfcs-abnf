

 MMUSIC Working Group 
 Internet Draft                                           X. Mingqiang 
 Expires: 3 May 2006                                          H. Ishii 
                                                             D. Komiya  
                                                          S. Kawaguchi 
                                                         Brijesh Kumar 
                                                             Panasonic              
                                                      November 3, 2005 
  
  
          Requirements for Service Discovery in the Personal Area 
                                Network(PAN) 
           draft-mingqiang-mmusic-servicediscovery-pan-req-00.txt 
                                       
                                       
 Status of this Memo  
         
    By submitting this Internet-Draft, each author represents that any 
    applicable patent or other IPR claims of which he or she is aware 
    have been or will be disclosed, and any of which he or she becomes 
    aware will be disclosed, in accordance with Section 6 of BCP 79.  
          
    Internet-Drafts are working documents of the Internet Engineering 
    Task Force (IETF), its areas, and its working groups.  Note that      
    other groups may also distribute working documents as Internet-
    Drafts.  
          
    Internet-Drafts are draft documents valid for a maximum of six 
    months and may be updated, replaced, or obsoleted by other 
    documents at any time.  It is inappropriate to use Internet-Drafts 
    as reference material or to cite them other than as "work in 
    progress."  
          
    The list of current Internet-Drafts can be accessed at 
    http://www.ietf.org/ietf/1id-abstracts.txt  
    The list of Internet-Draft Shadow Directories can be accessed at  
    http://www.ietf.org/shadow.html.   
       
    This Internet-Draft will expire on May 3, 2006. 
       
    Copyright Notice  
       
    Copyright (C) The Internet Society (2005). 
     
         
 Abstract  
     
    Several protocols exist in the industry for device/service 
    discovery. Each of these protocols addresses the aspects of 
    device/service discovery in different network environments. A 
                       Service Discovery in a PAN 
  
 Mingqiang                Expires - May, 2006                 [Page 1] 
                       Service discovery in a PAN         November 2005 
  
  
    Personal Area Network (PAN) is dynamic in its nature where devices 
    may join and leave the network very frequently. A PAN, being an ad-
    hoc network, also differs from fixed networks in many other ways. 
    The current generation of service protocols such as SLP were not 
    designed for such an environment. This document specifies the 
    requirements of a service discovery protocol for PANs, which 
    specifically can be used for applications such as multimedia 
    session transfer between devices within a PAN. 
  
  
  
 Table of Contents 
     
    1. Introduction..................................................2 
       1.1 Background and Motivation.................................2 
       1.2 Terminology...............................................3 
       1.3 Scope of this document....................................4 
    2. PAN Characteristics...........................................4 
    3. Problems Statement............................................5 
    4. Requirements..................................................7 
    5. IANA Considerations...........................................7 
    6. Security Consideration........................................8 
    7. Acknowledgements..............................................8 
    8. References....................................................8 
    9. Author's Addresses............................................8 
        
 1. Introduction 
     
 1.1 Background and Motivation 
     
    A Personal Area Network (PAN) is a computer network where a small 
    number of devices in close proximity communicate with each other. 
    The reachability of a PAN is usually measured in just a few meters, 
    although longer ranges can be reached under certain circumstances. 
    A PAN can be used for communication among the personal devices 
    (intra-PAN communication), or for connecting to a higher-level 
    network, and the Internet through a particular PAN device. A PAN 
    was also proposed as a part of the vision of 3GPP All-IP Networks 
    in [4]. 
       
    As devices come in close proximity to one another, they need to 
    discover each other and services provided by other devices. SLP [2] 
    is a service discovery protocol developed in IETF that provides a 
    framework and protocol for service discovery and selection of 
    network services. It is reasonably scalable in an enterprise 
    network. SSDP (Simple Service Discovery Protocol)[5] is another  
    service/device discovery protocol, which is a part of the 
    UPnP(Universal Plug and Play) specification. It is primarily aimed 

  
  
 Mingqiang                 Expires   May 2006                  [Page 2] 
                       Service discovery in a PAN         November 2005 
  
  
    for service discovery within home networks, and small office 
    network environments.  
     
    Compared with the network environments where SLP and UPnP are 
    applied, a PAN has the following characteristics: 
     
    - Devices within a PAN are likely to be deployed dynamically. They 
    may join and leave the network frequently. 
    - Communication between devices within a PAN is likely to be 
    affected by unstable radio connectivity, status change caused by 
    user, battery capacity and so on. 
    - Devices forming a PAN may  not belong to the same owner. Hence,  
    it may not always be possible for a user to administratively manage 
    all devices forming a PAN.  
     
    Due to the dynamics of a PAN, prompt discovery of available 
    services, and adaptation to changes in the availability of any 
    services is necessary for building needed applications such as 
    media session transfer. The changes caused by leaving or joining of 
    devices in a PAN should be promptly visible to other devices. 
    Similarly, monitoring of the device and service status should be 
    also considered. But, neither SLP nor SSDP addresses all these need 
    satisfactorily. 
  
    This document describes the requirements for a framework to enable 
    the design of an efficient service discovery protocol for the PAN. 
    The availability of a service discovery protocol meeting these 
    requirements is a prerequisite for the fast session transfer as 
    discussed in [6] and in [7].  
     
 1.2 Terminology 
     
    Personal Area Network (PAN): A PAN is a collection of one or more 
    logically associated devices that share the same physical 
    communication medium within a close proximity of each other. 
     
    PAN formation: A mechanism that establishes the logical association 
    between devices within a PAN . It basically manages the process of  
    leaving and joining of devices in a PAN. 
      
    PAN monitoring: A mechanism that monitors dynamically changed 
    statuses of devices/ services/ sessions of devices in a PAN. 
  
    In this document, the key words "MUST", "MUST NOT", "REQUIRED", 
    "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT 
    RECOMMENDED", "MAY", and "OPTIONAL" are to be interpreted as 
    described in BCP 14, RFC 2119 [1] and indicate requirement levels 
    for compliant implementations. 
  
  
 Mingqiang                 Expires   May 2006                  [Page 3] 
                       Service discovery in a PAN         November 2005 
  
  
  
 1.3 Scope of this document 
     
    This document proposes requirements for the framework and protocol 
    of service discovery for PANs, which is aimed to help identifying 
    any need of new standardization activity in the IETF to address the 
    proposed requirements. 
     
 2. PAN Characteristics 
     
    A PAN has several unique characteristics such as:  
     
    Small Scale: A PAN consists of a relatively small number of 
    devices. For example, a piconet of Bluetooth can consist of 1-7 
    devices.  
     
    Dynamic Configuration: A PAN configuration can be dynamic since not 
    all devices can be available and active at all times. Some devices 
    may join a PAN only for a limited duration to accomplish a short-
    term task (e.g., a picture transfer from a digital camera to a 
    portable media player). 
     
    Device Capability Heterogeneity: Each PAN device may have different 
    memory, battery and computing capabilities. Exact capabilities of 
    devices may not be known a priori or advertised to other devices in 
    the PAN. The service discovery protocol should be designed to take 
    advantage of devices with more resources/capabilities over those 
    with less resources/capabilities. 
     
    Unconscious Communications: A PAN can be formed based on the user 
    profile that includes the needs of user and so on. Using such a 
    profile, a device may establish association with other devices in a 
    PAN without a user becoming aware of the association. For example, 
    a mobile handset may automatically download pictures from its local 
    memory to a server as soon as a user enters his or her home. 
     
    PAN Device Ownership: All devices in a PAN need not be necessarily 
    owned by the same user. The association is generally established 
    based on valid credentials of a device rather than the physical 
    ownership of devices. 
     
    Unreliable Communication Links: Wireless communication is highly 
    affected by interference from other communication sources. Presence 
    of interference may result in high packet losses, and hence 
    unreliable communication link between devices in a PAN. 
  

  
  
 Mingqiang                 Expires   May 2006                  [Page 4] 
                       Service discovery in a PAN         November 2005 
  
  
 3. Problems Statement 
  
    Two application scenarios are presented for analyzing the problems 
    in current service discovery protocols when applied to a PAN 
    environment. 
     
    Application scenario 1 
  
    Dynamic configuration of a PAN: 
     
    A user is attending a meeting in an office building which she is 
    not familiar to. She wants to discover a printer around to print a 
    document from her laptop PC. She strolls in the office with her 
    laptop PC installed with an UWB(Ultra Wide Band) interface to find 
    a suitable one in the office. 
  
    +--------+   +---------+      +---------+       +---------+ 
    |Printer1|   |Printer2 |      |Printer3 |       |Printer4 | 
    +--------+   +---------+      +---------+       +---------+ 
       |           |                       |           | 
    +---------- ----+                    +---------------+ 
    |    Laptop     |     ----->         |    Laptop     | 
    +----------- ---+      Moving        +---------------+  
     
         Figure 1    Printers accessed by laptop PC 
  
    In this scenario, the user's laptop computer forms a PAN with the 
    printers around her that can be accessed by a short-distance 
    wireless communication such as UWB. Because the user is moving, the 
    printers that belong to the PAN formed by her laptop computer are 
    changing dynamically, namely, some printers join the PAN while the 
    other printers may be leaving the PAN. As Figure 1 shows, the 
    printers available to a user while moving change from printer 1 and 
    2 to printer 3 and 4. Even when the laptop is not moving, printers 
    in the PAN may change too, because unstable radio link may 
    disconnect printers and the laptop. 
     
    In the current SLP framework and protocol, dynamic connectivity of 
    devices of a PAN is not taken into consideration. For example, if a 
    new device joins the network after a service discovery request is 
    sent, the sender of the request would not know about the device 
    that has the requested service capability. 
     
    In addition, fast response of service discovery query is expected 
    in this scenario because the user is moving, but existing service 
    discovery protocols may take too much time to get responses; for 
    example, SLP is primarily designed for discovering printers and 
    servers originally and the default times for various timers are in 
  
  
 Mingqiang                 Expires   May 2006                  [Page 5] 
                       Service discovery in a PAN         November 2005 
  
  
    the level of seconds and minutes. For example, SLP sets 2 seconds 
    for CONFIG_RETRY that is the wait interval before initial 
    retransmission of multicast or unicast requests. Thus it is 
    difficult for SLP to ensure fast responses without adjusting the 
    default and minimum allowed timer values for various protocol 
    timers. 
  
    In this scenario, we can also see no fixed and centralized 
    controller or lookup service exists, as devices join and leave 
    frequently. Relying on fixed and pre-configured DAs(Directory 
    Agents) for gathering service advertisements together, as is the 
    case in SLP, is not appropriate for a PAN environment. 
     
    Application scenario 2 
     
    Unexpected device/service status change in a PAN: 
     
    A user is using her mobile phone and enjoying a Video on Demand 
    (VOD) service. While she comes into her house, at the entrance, she 
    finds that two PCs (PC 1, PC 2) and a TV that are located in her 
    house, are shown as detected on her mobile phone. She decides to 
    transfer the VOD session to PC 1. But, her son begins to use PC 1 
    at that moment. When she selects PC 1 from her mobile phone for VOD 
    session transfer, a warning message appears that the PC 1 is being 
    used now and is not available for VOD session transfer. 
     
    In this application scenario, her mobile phone forms a PAN with the 
    devices in her house, finds that PC 1, PC 2 and a TV are available 
    for a VOD session, and lists them on its screen as devices 
    available. But the status of PC 1 changes abruptly,thereby making 
    it unavailable for the VOD session transfer. Such an abrupt status 
    change of service availability needs to be notified by PC 1 or 
    discovered by the user's mobile phone in time. 
     
    Poor and unstable radio link may disconnect devices and they may 
    not be able to send any messages to announce their departure from 
    the PAN. In addition, the connection between two devices in a PAN 
    may be in an intermittent state. As a result, a device can not 
    access the discovered device when it needs to access the discovered 
    device. Thus, availability of devices in a PAN should be checked. 
     
    General subscription/ notification mechanism can be used to catch 
    such changes, but it is not guaranteed that the status of device/ 
    service status has been subscribed before it changes. 
    Service discovery requests can be sent periodically to catch a 
    change of status, but it may not be efficient; thus a lightweight 
    monitoring mechanism, that is integrated within the service 
    discovery protocol, may be necessary. 
  
  
 Mingqiang                 Expires   May 2006                  [Page 6] 
                       Service discovery in a PAN         November 2005 
  
  
     
 4. Requirements 
     
    The requirements of a framework and protocol for service discovery 
    in PAN environments to support application scenarios as described 
    in the previous section are presented below. The framework of a 
    complete service discovery process for a PAN is composed of three 
    components: a generic service discovery, PAN formation, and PAN 
    monitoring. 
     
    Section 4.1 focuses on generic requirements whereas section 4.2 and 
    4.3 summarize requirements mainly based on application scenario 1 
    and application scenario 2,respectively. 
     
    4.1 Generic requirements 
     
    - The size of service discovery protocol for a PAN SHOULD be small 
    enough to be installed in devices with only limited resources. 
     
    - A service discovery protocol SHOULD provide fast response for 
    service lookup (e.g., desirable in the order of 100ms). 
     
    - A service discovery protocol for a PAN SHOULD be lightweight and 
    minimize the overall control traffic in PAN networks. 
     
    - A service discovery protocol MUST provide its own security 
    mechanisms. Link layer security mechanisms may not be available, 
    activated or unsuitable. 
     
    4.2 PAN Formation 
     
    - A PAN formation mechanism SHOULD be able to support notification 
    when a device leaves and joins the PAN network. 
     
    - A PAN formation mechanism SHOULD be able to support discovery of 
    multiple PANs present at any one location. 
     
    4.3 PAN Monitoring: 
     
    - A PAN monitoring mechanism SHOULD support monitoring of statuses 
    of various entities such as devices, as well as services and 
    sessions of a device. 
     
    - A PAN monitoring mechanism SHOULD be lightweight in traffic. 
     
 5. IANA Considerations 
     


  
  
 Mingqiang                 Expires   May 2006                  [Page 7] 
                       Service discovery in a PAN         November 2005 
  
  
    There is no need for IANA considerations in current version of this 
    document. 
     
 6. Security Consideration 
  
    Secure service discovery is strictly required in PANs. But the 
    service discovery protocol MUST NOT rely on physical link security 
    between devices. Service discovery framework and protocol SHOULD 
    include the security mechanism. This document currently 
    concentrates on the requirements for service discovery for PANs. 
    The security concerns will be addressed in the future revision. 
  
                
 7. Acknowledgements 
           
    We thankfully acknowledge the help of our colleague Mahfuz Rahman 
    of PDNL, who made many useful suggestions to improve the contents 
    of this draft.   
  
         
 8. References  
     
      [1] Bradner, S., "Key words for use in RFCs to Indicate  
          Requirement Levels", BCP 14, RFC 2119, March 1997. 
  
      [2] Guttman, E., Perkins, C., Veizades, J. and M. Day, "Service 
          Location Protocol", RFC 2608, July 1999. 
     
      [3] Guttman, E., Perkins, C. and J. Kempf, "Service Templates and 
          service: Schemes", RFC 2609, July 1999. 
     
      [4] Sachno, ed., "All-IP Network (AIPN) Feasibility Study, 
          Release 7", 3GPP TR22.978, 2005. 
     
      [5] UPnP Service Specification, UPnP Forum, http://www.upnp.org 
     
      [6] Sacham, et al., "Session Initiation Protocol (SIP) Session  
          Mobility" Internet Draft (work in progress), draft-shacham-
          sipping-session-mobility-01, July, 2005. 
     
      [7] Mingqiang, et al., " Extensions of Session Description 
          Protocol (SDP) for Seamless Session Mobility", Internet Draft 
          (work in progress), draft-mingqiang-mmusic-session-mobility-
          attribute-01.txt,October, 2005. 
        
 9. Author's Addresses  
         
       Xu Mingqiang 
  
  
 Mingqiang                 Expires   May 2006                  [Page 8] 
                       Service discovery in a PAN         November 2005 
  
  
       Matsushita Electric Industrial Co., Ltd.(Panasonic) 
       4-5-15 Higashi-shinagawa 
       Shinagawa-ku, Tokyo 
       Japan 
     
       Email: xu.mingqiang@jp.panasonic.com 
     
       Hidenori Ishii 
       Matsushita Electric Industrial Co., Ltd.(Panasonic) 
       4-5-15 Higashi-shinagawa 
       Shinagawa-ku, Tokyo 
       Japan 
     
       Email: hidenori ishii@jp.panasonic.com 
     
       Daisaku Komiya 
       Matsushita Electric Industrial Co., Ltd.(Panasonic) 
       4-5-15 Higashi-shinagawa 
       Shinagawa-ku, Tokyo 
       Japan 
     
       Email: komiya.daisaku@jp.panasonic.com 
     
       Sachiko Kawaguchi 
       Matsushita Electric Industrial Co., Ltd.(Panasonic) 
       4-5-15 Higashi-shinagawa 
       Shinagawa-ku, Tokyo 
       Japan 
     
       Email: kawaguchi.sachiko@jp.panasonic.com 
     
       Brijesh Kumar 
       Panasonic R&D Corporation of America 
       Two Research Way, 3rd Floor 
       Princeton, NJ 08540 
       USA 
       Phone: +1 609 734 7329 
     
       Email: kumarb@research.panasonic.com 
     
       
 IPR Disclosure Acknowledgement  
          
    The IETF takes no position regarding the validity or scope of any 
    Intellectual Property Rights or other rights that might be claimed  
    to pertain to the implementation or use of the technology described 
    in this document or the extent to which any license under such 
    rights might or might not be available; nor does it represent that 
    it has made any independent effort to identify any such rights.  
  
  
 Mingqiang                 Expires   May 2006                  [Page 9] 
                       Service discovery in a PAN         November 2005 
  
  
    Information on the procedures with respect to rights in RFC 
    documents can be found in BCP 78 and BCP 79.  
          
    Copies of IPR disclosures made to the IETF Secretariat and any 
    assurances of licenses to be made available, or the result of an 
    attempt made to obtain a general license or permission for the use 
    of such proprietary rights by implementers or users of this 
    specification can be obtained from the IETF on-line IPR repository 
    at http://www.ietf.org/ipr.  
          
    The IETF invites any interested party to bring to its attention any 
    copyrights, patents or patent applications, or other proprietary 
    rights that may cover technology that may be required to implement 
    this standard.  Please address the information to the IETF at ietf-
    ipr@ietf.org.  
               
 Disclaimer of Validity  
     
    This document and the information contained herein are provided on 
    an "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE 
    REPRESENTS OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND 
    THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES,  
    EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT 
    THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR 
    ANY IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A 
    PARTICULAR PURPOSE.  
               
 Copyright Notice  
          
    Copyright (C) The Internet Society (2005). This document is subject 
    to the rights, licenses and restrictions contained in BCP 78, and 
    except as set forth therein, the authors retain all their rights.  
          
 Acknowledgment  
        
    Funding for the RFC Editor function is currently provided by the 
    Internet Society.  
          
     
     
     








  
  
 Mingqiang                 Expires   May 2006                 [Page 10] 
