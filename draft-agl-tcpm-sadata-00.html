<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Faster application handshakes with SYN/ACK payloads</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Faster application handshakes with SYN/ACK payloads">
<meta name="keywords" content="TCP Options, Cryptography">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Network Working Group</td><td class="header">A. Langley</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Google Inc</td></tr>
<tr><td class="header">Expires: January 16, 2009</td><td class="header">July 15, 2008</td></tr>
</table></td></tr></table>
<h1><br />Faster application handshakes with SYN/ACK payloads<br />draft-agl-tcpm-sadata-00</h1>

<h3>Status of this Memo</h3>
<p>
By submitting this Internet-Draft,
each author represents that any applicable patent or other IPR claims of which
he or she is aware have been or will be disclosed,
and any of which he or she becomes aware will be disclosed,
in accordance with Section&nbsp;6 of BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on January 16, 2009.</p>

<h3>Abstract</h3>

<p>This document describes an extension to <a class='info' href='#RFC0793'>TCP<span> (</span><span class='info'>Postel, J., &ldquo;Transmission Control Protocol,&rdquo; September&nbsp;1981.</span><span>)</span></a> [RFC0793]
  which permits a small, mostly constant data payload to be carried in the
  SYN+ACK frame of the 3-way handshake. This new behaviour is enabled by an
  option in the SYN packet to ensure backwards compatibility. We should how
  this has latency benefits, specifically for cryptographic applications.
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Requirements Notation<br />
<a href="#intro">2.</a>&nbsp;
Introduction<br />
<a href="#lo">3.</a>&nbsp;
The SYNACK Payload Permitted Option<br />
<a href="#anchor2">4.</a>&nbsp;
Security Considerations<br />
<a href="#anchor3">5.</a>&nbsp;
Implementation details<br />
<a href="#anchor4">6.</a>&nbsp;
Comparison to T/TCP<br />
<a href="#anchor5">7.</a>&nbsp;
Middlebox Interactions<br />
<a href="#anchor6">8.</a>&nbsp;
IANA Considerations<br />
<a href="#anchor7">9.</a>&nbsp;
Acknowledgements<br />
<a href="#rfc.references1">10.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">10.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">10.2.</a>&nbsp;
Informative References<br />
<a href="#anchor10">Appendix&nbsp;A.</a>&nbsp;
Changes<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Author's Address<br />
<a href="#rfc.copyright">&#167;</a>&nbsp;
Intellectual Property and Copyright Statements<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Requirements Notation</h3>

<p>
   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL",
   "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY",
   and "OPTIONAL" in this document are to be interpreted as
   described in <a class='info' href='#RFC2119'>RFC 2119<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a> [RFC2119].

</p>
<a name="intro"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Introduction</h3>

<p>Consider the following, diagrammatic representation of the beginning of an <a class='info' href='#RFC4253'>SSH<span> (</span><span class='info'>Ylonen, T. and C. Lonvick, &ldquo;The Secure Shell (SSH) Transport Layer Protocol,&rdquo; January&nbsp;2006.</span><span>)</span></a> [RFC4253] connection:
</p><br /><hr class="insert" />
<a name="ssh-std"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
   0 SYN     ------------&gt;          0.5
   1         &lt;------------ SYNACK   0.5
   1 Ident   ------------&gt;          1.5
   1 NList   ------------&gt;          1.5
   2         &lt;------------ Ident    1.5
   2         &lt;------------ NList    1.5
   2         &lt;------------ KX       1.5
   2 KX      ------------&gt;          2.5

   Key:
     Ident: A string which contains the SSH implementation name
     NList: Name list: the list of supported algorithms
     KX: Key exchange data, usually Diffie-Hellman
</pre></div>
<p>Standard SSH protocol
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;1&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>Here, arrows from the left to the right are frames from client to server.
  Times on the left are the times that the client either transmits or receives
  a packet (and vice versa). Times are measured in round trip times (RTT), so
  that it takes 0.5 units for a frame to pass between the hosts.
</p>
<p>The above diagram is for a latency tuned implementation of SSH,
  specifically, the client doesn't wait for the server's identity string to be
  received. And yes, in this ideal scenario, the client can only start
  transmitting useful data after 2 RTT and the server can only start
  transmitting after 2.5 RTT. As a rule of thumb, the RTT from San Francisco to
  London is 150ms, so this means a 300ms latency, at least, when setting up
  this connection.
</p>
<p>(To keep the discussion simple, we assume there is no packet loss, that
  the path is symmetrical and that the client's ACK of the 3-way handshake
  carries a data payload.)
</p>
<p>Now, let us consider a hypothetical SSH protocol where the server could
  include a short, constant byte-string in the SYNACK packet of the TCP
  exchange. First we compact the name-list (part of the algorithm negotiation)
  and put it in the SYNACK.
</p><br /><hr class="insert" />
<a name="ssh-opt1"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
   0 SYN     ------------&gt;          0.5
   1         &lt;------------ SA+NList 0.5
   1 NList   ------------&gt;          1.5
   1 KX      ------------&gt;          1.5
   2         &lt;------------ KX       1.5
</pre></div>
<p>SSH protocol with a compact name list carried in the SYN+ACK frame
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;2&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>In this situation, the client knows the results of the algorithm
  negotiation as soon as the SYNACK comes back and can include the correct key
  exchange with the first ACK packet. This reduces the server's latency by a full
  RTT since it can transmit as soon as the 3-way handshake completes.
</p>
<p>As a final optimisation, we could assume either that the server takes a successful
  guess at the key exchange algorithm to use, or that the application level
  protocol specifies a single key exchange algorithm:
</p><br /><hr class="insert" />
<a name="ssh-opt2"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
   0 SYN     ------------&gt;          0.5
   1         &lt;------------ SA+KX    0.5
   1 KX      ------------&gt;          1.5
</pre></div>
<p>A protocol which includes key exchange information in the SYN+ACK frame.
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;3&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>Here the client's latency is 1 RTT and the server's is 1.5 RTT, which is
  equal to the minimum required by the 3-way handshake, saving a full RTT of
  latency from the initial diagram. In order for the SYNACK to be sent without
application involvement, some cryptographic tricks are needed, as detailed
below.
</p>
<p>None of the above discussion is specific to SSH. Many cryptographic
  protocols, such as <a class='info' href='#RFC4346'>TLS<span> (</span><span class='info'>Dierks, T. and E. Rescorla, &ldquo;The Transport Layer Security (TLS) Protocol Version 1.1,&rdquo; April&nbsp;2006.</span><span>)</span></a> [RFC4346], involve a similar
  scheme and could benefit from lower latency. Specifically designed protocols
  could style themselves on the third example and achieve, essentially, no
  latency overhead. This also allows existing protocols to be extended with
  encryption with no additional round trips and with transparent fallback.
</p>
<a name="lo"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
The SYNACK Payload Permitted Option</h3>

<p>Several commonly used TCP stacks don't support receiving data payloads in
  SYNACK packets. Thus, SYNACK payloads cannot be enabled unless it's known
  that the remote host can support them. To that end we define an option in the
  SYN frame:
</p><br /><hr class="insert" />
<a name="fig-flags"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
                     1                   2
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2   . . .
+---------------+---------------+--------------- . . .
|     Kind =    |  Length = 2+n | Flag bits
| TDB-IANA-KIND1|               |0 1 2 3 4 5 6 7 . . .
+---------------+---------------+--------------- . . .
</pre></div>
<p>TCP Flags Option
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;4&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>The flags option contains a conceptually infinite number of bits which are
  numbered from the MSB of the first byte, upwards. If not specified, bits are
  assumed to be false.  The flags option MUST be as short as possible and yet
  cover all the true bits that need to be specified. If no bits are true, the
  flags option MUST NOT be included. The meanings of flag bits are to be assigned
  by IANA. For this RFC, bit 0 is assumed to be "SYNACK Payload Permitted".
</p>
<p>For example, if no other flag bits are to be set, SYNACK payload support would be
  advertised by a 3-byte option whose first data byte is <tt>0x80</tt>.
</p>
<p>Hosts MUST NOT set the SYNACK Payload Permitted bit unless an application
  has requested it for the current socket. If SYNACK Payload Permitted is
  requested for a socket, the host SHOULD include the SYNACK Payload Permitted.
  For example, it may choose not to in the case of having to retransmit the SYN
  frame as middleware may be filtering the extra option.
</p>
<p>Upon receipt of a SYN frame with SYNACK Payload Permitted, a host SHOULD include
  a data payload in any resulting SYNACK frame, if so configured. For a given
  SYN, if any resulting SYNACK frame has a payload then all resulting frames
  MUST have a payload. If a host chooses to retransmit a SYN frame without a
  SYNACK Payload Permitted bit when previous transmissions included the bit, it
  MUST reject any SYNACK with a payload. If a SYN frame for a given handshake
  is ever transmitted without a SYNACK Payload Permitted bit, all
  retransmissions MUST NOT include the bit.
</p>
<p>The data payload affects the SEQ/ACK numbers like any other data. Any ACK
  frame resulting from such a SYNACK frame MUST acknowledge the whole SYNACK
  frame, including the SYN flag. If a frame is the final ACK in a 3-way
  handshake, a host MUST reject it unless it acknowledges the whole SYNACK
  frame.
</p>
<p>A host MUST NOT include a data payload in any SYNACK resulting from a SYN
  frame without SYNACK Payload Permitted.
</p>
<p>A host MUST provide a method for applications to set a SYNACK payload, to
  determine if a passive-open connection sent a SYNACK payload and to determine
  if an active open connection received a payload in the SYNACK frame. This is
  because the SYNACK data appears to the application like any other, but its
  presence may alter the application level protocol.
</p>
<p>It's expected that a host will make a best effort to include a SYNACK
  payload when the application has set one. It may choose not to for a number
  of reasons including: the SYN frame didn't request it, the host is under
  heavy SYN load, is using SYN cookies or that the host is having to retransmit
  the SYNACK.
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Security Considerations</h3>

<p>Any payload in a SYNACK packet must be as frugal as possible since a host
  will be transmitting it to an unconfirmed address. If a 40 byte frame could
  elicit a 1500 byte reply to an attacker controlled address, this would be
  readily used to hide and amplify distributed denial of service attacks.
</p>
<p>Thus we specify a maximum size of 64 bytes for the payload. This is
  sufficient to include a strong elliptic curve key (256 bits), a 64-bit nonce
  and a small amount of overhead (12 bytes).
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Implementation details</h3>

<p>Although the exact implementation details shouldn't be spelled out by this
  document, consideration must be given to it.
</p>
<p>Breaking the very common BSD sockets API by having applications get advance
  notice of connections so that they can specify the SYNACK payload (if any)
  would be painfully incongruent with current implementations. Thus it would
  be ideal if the SYNACK payload for a given, listening socket were constant;
  a constant value can be specified by a
  <tt>setsockopt</tt>.
</p>
<p>However, for the specific motivating case here (cryptography), it's very helpful
  to include an nonce. One could consider using the SEQ and ACK numbers as
  nonces but the overloading is distasteful and they are quite short for
  secure nonces. So, at the risk of over optimising for a specific case:
  implementations SHOULD allow applications to specify that the first 8 bytes
  of the SYNACK payload be replaced with a cryptographically strong nonce.
</p>
<p>For the case where the key exchange material is carried in the SYN+ACK
  frame, the public key thus has to be constant. This means that certain
  schemes which provide perfect forward secrecy are inapplicable and that
  implementors should be careful to use key exchange algorithms which are
  still secure under this model.
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Comparison to T/TCP</h3>

<p>The idea of including data in frames which also carry a SYN flag isn't new:
  it was included in the experimental T/TCP RFCs
  <a class='info' href='#RFC1379'>1379<span> (</span><span class='info'>Braden, B., &ldquo;Extending TCP for Transactions -- Concepts,&rdquo; November&nbsp;1992.</span><span>)</span></a> [RFC1379] and
  <a class='info' href='#RFC1644'>1644<span> (</span><span class='info'>Braden, B., &ldquo;T/TCP -- TCP Extensions for Transactions Functional Specification,&rdquo; July&nbsp;1994.</span><span>)</span></a> [RFC1644]. T/TCP suffered because it broke the
  assumption that the source address of a new connection from a passive-open
  socket had been verified by a 3-way handshake. This was a critical security
  issue for applications like RSH which often used source address
  whitelists.
</p>
<p>This draft doesn't break any such assumptions that applications may be
  depending on. Source addresses for new connections are still validated by a
  3-way handshake for passive-open sockets. Additionally, this draft is
  dramatically simpler than T/TCP: it doesn't introduce any additional TCP
  states nor does it deal with the complexity of including payloads in a SYN
  frame. Nor does this draft apply to any application which is unaware of it
  since applications are required to explicitly configure SYNACK payloads
  before they come into effect.
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Middlebox Interactions</h3>

<p>

The large number of middleboxes (firewalls, proxies, protocol scrubbers, etc)
currently present in the Internet pose some difficulty for deploying new TCP
options.  Some firewalls may block segments that carry unknown options.  For
instance, if the flags option is not understood by a firewall, incoming SYNs
advertising SYNACK payload support may be dropped, preventing connection
establishment.  This is similar to the ECN blackhole problem, where certain
faulty hosts and routers throw away packets with ECN bits set
<a class='info' href='#RFC3168'>[RFC3168]<span> (</span><span class='info'>Ramakrishnan, K., Floyd, S., and D. Black, &ldquo;The Addition of Explicit Congestion Notification (ECN) to IP,&rdquo; September&nbsp;2001.</span><span>)</span></a>.  Some recent results indicate that for new TCP
options, this may not be a significant threat, with only 0.2% of web requests
failing when carrying an unknown option <a class='info' href='#transport-middlebox'>[transport&#8209;middlebox]<span> (</span><span class='info'>Medina, A., Allman, M., and S. Floyd, &ldquo;Measuring Interactions Between Transport Protocols and Middleboxes,&rdquo; ACM SIGCOMM/USENIX Internet Measurement Conference, October&nbsp;2004.</span><span>)</span></a>.


</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
IANA Considerations</h3>

<p>This document requires IANA to create a new registry of flag option bits,
  currently containing a single entry: bit 0 is assigned by SYNACK Payload
  Permitted.
</p>
<p>This document requires IANA to update values in its registry of TCP options
numbers to assign a new entry, referred herein as
<tt>TBD-IANA-KIND1</tt>.
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
Acknowledgements</h3>

<p>Wesley Eddy kindly reviewed initial versions of this draft.
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10"></a><h3>10.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>10.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC0793">[RFC0793]</a></td>
<td class="author-text">Postel, J., &ldquo;<a href="http://tools.ietf.org/html/rfc793">Transmission Control Protocol</a>,&rdquo; STD&nbsp;7, RFC&nbsp;793, September&nbsp;1981 (<a href="http://www.rfc-editor.org/rfc/rfc793.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>10.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC3168">[RFC3168]</a></td>
<td class="author-text">Ramakrishnan, K., Floyd, S., and D. Black, &ldquo;<a href="http://tools.ietf.org/html/rfc3168">The Addition of Explicit Congestion Notification (ECN) to IP</a>,&rdquo; RFC&nbsp;3168, September&nbsp;2001 (<a href="http://www.rfc-editor.org/rfc/rfc3168.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4253">[RFC4253]</a></td>
<td class="author-text">Ylonen, T. and C. Lonvick, &ldquo;<a href="http://tools.ietf.org/html/rfc4253">The Secure Shell (SSH) Transport Layer Protocol</a>,&rdquo; RFC&nbsp;4253, January&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4253.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4346">[RFC4346]</a></td>
<td class="author-text">Dierks, T. and E. Rescorla, &ldquo;<a href="http://tools.ietf.org/html/rfc4346">The Transport Layer Security (TLS) Protocol Version 1.1</a>,&rdquo; RFC&nbsp;4346, April&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4346.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC1379">[RFC1379]</a></td>
<td class="author-text"><a href="mailto:Braden@ISI.EDU">Braden, B.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc1379">Extending TCP for Transactions -- Concepts</a>,&rdquo; RFC&nbsp;1379, November&nbsp;1992 (<a href="http://www.rfc-editor.org/rfc/rfc1379.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC1644">[RFC1644]</a></td>
<td class="author-text"><a href="mailto:Braden@ISI.EDU">Braden, B.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc1644">T/TCP -- TCP Extensions for Transactions Functional Specification</a>,&rdquo; RFC&nbsp;1644, July&nbsp;1994 (<a href="http://www.rfc-editor.org/rfc/rfc1644.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="transport-middlebox">[transport-middlebox]</a></td>
<td class="author-text">Medina, A., Allman, M., and S. Floyd, &ldquo;Measuring Interactions Between Transport Protocols and Middleboxes,&rdquo; ACM SIGCOMM/USENIX Internet Measurement Conference, October&nbsp;2004.</td></tr>
</table>

<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A"></a><h3>Appendix A.&nbsp;
Changes</h3>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Author's Address</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Adam Langley</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Google Inc</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:agl@imperialviolet.org">agl@imperialviolet.org</a></td></tr>
</table>
<a name="rfc.copyright"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Full Copyright Statement</h3>
<p class='copyright'>
Copyright &copy; The IETF Trust (2008).</p>
<p class='copyright'>
This document is subject to the rights,
licenses and restrictions contained in BCP&nbsp;78,
and except as set forth therein,
the authors retain all their rights.</p>
<p class='copyright'>
This document and the information contained herein are provided
on an &ldquo;AS IS&rdquo; basis and THE CONTRIBUTOR,
THE ORGANIZATION HE/SHE REPRESENTS
OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST
AND THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT
THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY
IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR
PURPOSE.</p>
<h3>Intellectual Property</h3>
<p class='copyright'>
The IETF takes no position regarding the validity or scope of any
Intellectual Property Rights or other rights that might be claimed
to pertain to the implementation or use of the technology
described in this document or the extent to which any license
under such rights might or might not be available; nor does it
represent that it has made any independent effort to identify any
such rights.
Information on the procedures with respect to
rights in RFC documents can be found in BCP&nbsp;78 and BCP&nbsp;79.</p>
<p class='copyright'>
Copies of IPR disclosures made to the IETF Secretariat and any
assurances of licenses to be made available,
or the result of an attempt made to obtain a general license or
permission for the use of such proprietary rights by implementers or
users of this specification can be obtained from the IETF on-line IPR
repository at <a href='http://www.ietf.org/ipr'>http://www.ietf.org/ipr</a>.</p>
<p class='copyright'>
The IETF invites any interested party to bring to its attention
any copyrights,
patents or patent applications,
or other
proprietary rights that may cover technology that may be required
to implement this standard.
Please address the information to the IETF at <a href='mailto:ietf-ipr@ietf.org'>ietf-ipr@ietf.org</a>.</p>
</body></html>
