<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Clarification of Proper Use of "@" (at sign) in URI-style Components</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Clarification of Proper Use of &quot;@&quot; (at sign) in URI-style Components">
<meta name="keywords" content="at-sign, at-replies">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 60em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 60em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Internet Engineering Task Force</td><td class="header">R. Simpson</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Accilent Corp.</td></tr>
<tr><td class="header">Intended status: Informational</td><td class="header">July 31, 2010</td></tr>
<tr><td class="header">Expires: February 1, 2011</td><td class="header">&nbsp;</td></tr>
</table></td></tr></table>
<h1><br />Clarification of Proper Use of "@" (at sign) in URI-style Components<br />draft-accilent-at-sign-00</h1>

<h3>Abstract</h3>

<p>Defacto standards have evolved that conflict with existing standards,
         specifically RFC 3986.
         This document clarifies the use of the "@" (at sign) in URIs and partial URI-like addresses.
      
</p>
<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted  in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF).  Note that other groups may also distribute
working documents as Internet-Drafts.  The list of current
Internet-Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
This Internet-Draft will expire on February 1, 2011.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2010 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents
(http://trustee.ietf.org/license-info) in effect on the date of
publication of this document.  Please review these documents
carefully, as they describe your rights and restrictions with respect
to this document. Code Components extracted from this document must
include Simplified BSD License text as described in Section 4.e of
the Trust Legal Provisions and are provided without warranty as
described in the Simplified BSD License.</p>
<a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor2">1.1.</a>&nbsp;
Requirements Language<br />
<a href="#anchor3">2.</a>&nbsp;
Issues<br />
<a href="#anchor4">3.</a>&nbsp;
Conclusions<br />
<a href="#anchor5">4.</a>&nbsp;
Valid Syntax<br />
<a href="#anchor6">5.</a>&nbsp;
Invalid Syntax<br />
<a href="#anchor7">6.</a>&nbsp;
Examples<br />
<a href="#IANA">7.</a>&nbsp;
IANA Considerations<br />
<a href="#Security">8.</a>&nbsp;
Security Considerations<br />
<a href="#rfc.references1">9.</a>&nbsp;
Normative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Author's Address<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>The original specification of the URI format is in
         <a class='info' href='#RFC3986'>RFC 3986<span> (</span><span class='info'>Berners-Lee, T., Fielding, R., and L. Masinter, &ldquo;Uniform Resource Identifier (URI): Generic Syntax,&rdquo; January&nbsp;2005.</span><span>)</span></a> [RFC3986].
      
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.1"></a><h3>1.1.&nbsp;
Requirements Language</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
           "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
           document are to be interpreted as described in <a class='info' href='#RFC2119'>RFC 2119<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a> [RFC2119].
        
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Issues</h3>

<p>
         </p>
<ul class="text">
<li>Microblogging systems on social networks have introduced a
               shortcut feature where short replies with tokens containing
               an "@" and userinfo are automatically converted to HTML links.
               On systems where the host component is assumed to be the same
               as the host that is currently loaded into the user's browser,
               the defacto standard syntax that has evolved for these auto-generated
               links is for the "@" (at sign) to precede the userinfo.
            
</li>
<li>Allowing the "@" to be placed in a non-standard location, especially
               in HTML links, results in confusion about which component follows the "@".
               For example, in "@its.me", is "its.me" the userinfo or the host component?
            
</li>
<li>How would the "@userinfo" syntax currently being
               used be extended to support multiple networks?
               For example, in a mobile application that allows posting updates to
               multiple social networks, should it conform to the defacto standard
               and use "ExampleOnly.com@userinfo" or go against the current common
               usage and try to conform to the standards for URIs instead?
               Either option introduces potentially harmful confusion for users and automated systems.
            
</li>
</ul><p>
      
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Conclusions</h3>

<p>
         </p>
<ul class="text">
<li>It should be allowable to omit the host component of the authority
               syntax when the host component is known, such as when referencing
               another user on the same host or relative to a base URI.
            
</li>
<li>Placing the "@" prior to the userinfo instead of following it should
               be explicitly prohibited due to the confusion it introduces and the
               security concerns due to possibly misinterpreting the userinfo and as a
               result of allowing users to become comfortable with misplacing the "@".
            
</li>
</ul><p>
      
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Valid Syntax</h3>

<p>In <a class='info' href='#RFC3986'>RFC 3986<span> (</span><span class='info'>Berners-Lee, T., Fielding, R., and L. Masinter, &ldquo;Uniform Resource Identifier (URI): Generic Syntax,&rdquo; January&nbsp;2005.</span><span>)</span></a> [RFC3986], the syntax of the
         authority component in a URI is defined as:
      
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
            authority   = [ userinfo "@" ] host [ ":" port ]
</pre></div>
<p>In addition, when the user is on a known host, on the same social network
         for example, the host and port components MAY be omitted:
      
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
            authority   = [ userinfo "@" ] [ host [ ":" port ] ]
</pre></div>
<p>When the host component is omitted, the userinfo component will be
         interpreted to be relative to the base URI of the current resource.
         For example:
      
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
+--------------------------------------------------+
| http://ExampleOnly.com/JaneSmith                 |
|--------------------------------------------------|
| JohnDoe@ I will meet you there in a short while. |
|__________________________________________________|
</pre></div>
<p>will be interpreted as:
      
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
+-----------------------------------------------------------------+
| http://ExampleOnly.com/JaneSmith                                |
|-----------------------------------------------------------------|
| JohnDoe@ExampleOnly.com I will meet you there in a short while. |
|_________________________________________________________________|
</pre></div>
<p>and (in HTML code):
      
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
+----------------------------------+
| http://ExampleOnly.com/JaneSmith |
|----------------------------------|
| &lt;a href="/JohnDoe"&gt;JohnDoe@&lt;/a&gt;  |
|__________________________________|
</pre></div>
<p>will be interpreted as:
      
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
+------------------------------------------------------------------+
| http://ExampleOnly.com/JaneSmith                                 |
|------------------------------------------------------------------|
| &lt;a href="http://ExampleOnly.com/JohnDoe"&gt;JohnDoe@ExampleOnly&lt;/a&gt; |
|__________________________________________________________________|
</pre></div>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Invalid Syntax</h3>

<p>In a component that may at some time be interpreted to be a URI by some
         system the "@" MUST NOT be placed prior to the userinfo component:
      
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
                      WRONG! [ "@" userinfo ]
</pre></div>
<p>The "@" SHOULD not be placed prior to the userinfo component even in
         areas of plain text due to the potential for altering users'
         perception of the correct placement of the "@" separator.
      
</p>
<p>The "@" SHOULD NOT appear in an improper location in an HTML link:
      
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
                                  WRONG!
           &lt;a href="http://ExampleOnly.com/JohnDoe"&gt;@JohnDoe&lt;/a&gt;
    &lt;a href="http://ExampleOnly.com/JohnDoe"&gt;ExampleOnly.com@JohnDoe&lt;/a&gt;
</pre></div>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Examples</h3>
<br /><hr class="insert" />
<a name="bad-example"></a>

<p style='text-align: center'>Improper usage when user being replied to is on the same social network
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
+--------------------------------------------------+
| @JohnDoe I will meet you there in a short while. |
|__________________________________________________|
</pre></div>
<p style='text-align: center'>WRONG! How would the host component be appended if the user was on a different network?
        
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;1&nbsp;</b></font><br /></td></tr></table><hr class="insert" />
<br /><hr class="insert" />
<a name="good-example-unqualified"></a>

<p style='text-align: center'>Standalone userinfo component when user being replied to is on the same social network
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
+--------------------------------------------------+
| JohnDoe@ I will meet you there in a short while. |
|__________________________________________________|
</pre></div>
<p style='text-align: center'>This follows the current standard use of "@" in the authority component.
        
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;2&nbsp;</b></font><br /></td></tr></table><hr class="insert" />
<br /><hr class="insert" />
<a name="good-example-qualified"></a>

<p style='text-align: center'>Fully-qualified authority component when the user being replied to can be on a different host
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
+-----------------------------------------------------------------+
| JohnDoe@ExampleOnly.com I will meet you there in a short while. |
|_________________________________________________________________|
</pre></div>
<p style='text-align: center'>Appending the host component after the "@" results in syntax that conforms to the RFC 3986.
        
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;3&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="IANA"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
IANA Considerations</h3>

<p>This memo includes no request to IANA.
      
</p>
<a name="Security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
Security Considerations</h3>

<p>A URI does not in itself pose a security threat.
         However, as URIs are often used to provide a compact set of instructions for
         access to network resources, care must be taken to properly interpret the
         data within a URI, to prevent that data from causing unintended access,
         and to avoid including data that should not be revealed in plain text.
      
</p>
<p>However, placing an "@" in the wrong position, such as prior to the userinfo
         rather than following it, can introduce security risks, since the
         userinfo may be incorrectly interpreted or supplied to unauthorized systems.
         A defacto standard that places the "@" in the wrong location
         introduces additional security risks due to the increased likelihood
         that users will misplace the "@" as a result of the confusion.
      
</p>
<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>9.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3986">[RFC3986]</a></td>
<td class="author-text"><a href="mailto:timbl@w3.org">Berners-Lee, T.</a>, <a href="mailto:fielding@gbiv.com">Fielding, R.</a>, and <a href="mailto:LMM@acm.org">L. Masinter</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc3986">Uniform Resource Identifier (URI): Generic Syntax</a>,&rdquo; STD&nbsp;66, RFC&nbsp;3986, January&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc3986.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc3986.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc3986.xml">XML</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Author's Address</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Robert Simpson</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Accilent Corp.</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">P.O. Box 601</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Lawrence, PA  15055</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">US</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+1-412 337-3113</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:RobS.rfc5@MailScreen.com">RobS.rfc5@MailScreen.com</a></td></tr>
</table>
</body></html>
