<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Considerations about
    Multicast for BGP/MPLS VPN Standardization</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Considerations about
    Multicast for BGP/MPLS VPN Standardization">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Network Working Group</td><td class="header">T. Morin, Ed.</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">France Telecom R&amp;D</td></tr>
<tr><td class="header">Intended status: Informational</td><td class="header">B. Niven-Jenkins, Ed.</td></tr>
<tr><td class="header">Expires: June 12, 2009</td><td class="header">BT</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Y. Kamite</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">NTT Communications</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">R. Zhang</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">BT</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">N. Leymann</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Deutsche Telekom</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">N. Bitar</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Verizon</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">December 09, 2008</td></tr>
</table></td></tr></table>
<h1><br />Considerations about
    Multicast for BGP/MPLS VPN Standardization<br />draft-ietf-l3vpn-mvpn-considerations-00</h1>

<h3>Status of this Memo</h3>
<p>
By submitting this Internet-Draft,
each author represents that any applicable patent or other IPR claims of which
he or she is aware have been or will be disclosed,
and any of which he or she becomes aware will be disclosed,
in accordance with Section&nbsp;6 of BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on June 12, 2009.</p>

<h3>Abstract</h3>

<p>The current proposal for multicast in BGP/MPLS includes multiple
      alternative mechanisms for some of the required building blocks of the
      solution. The aim of this document is to leverage previously documented
      requirements to identify the key elements and help move forward solution
      design, toward the definition of a standard having a well defined set of
      mandatory procedures. The different proposed alternative mechanisms are
      examined in the light of requirements identified for multicast in
      L3VPNs, and suggestions are made about which of these mechanisms
      standardization should favor. Issues related to existing deployments of
      early implementations are also addressed.
</p>
<h3>Requirements Language</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
      "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
      document are to be interpreted as described in <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate           Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
<a href="#anchor2">2.</a>&nbsp;
Terminology<br />
<a href="#anchor3">3.</a>&nbsp;
Examining alternatives mechanisms for MVPN functions<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#autodiscovery">3.1.</a>&nbsp;
MVPN auto-discovery<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">3.2.</a>&nbsp;
S-PMSI Signaling<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor5">3.3.</a>&nbsp;
PE-PE Transmission of C-Multicast Routing<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#pepe-scaling">3.3.1.</a>&nbsp;
PE-PE signaling scalability<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">3.3.2.</a>&nbsp;
P-routers scalability<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">3.3.3.</a>&nbsp;
Impact of C-multicast routing on Inter-AS deployments<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor8">3.3.4.</a>&nbsp;
Security and robustness<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor9">3.3.5.</a>&nbsp;
C-multicast VPN join latency<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor10">3.3.6.</a>&nbsp;
Extranet<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor11">3.3.7.</a>&nbsp;
Conclusion on C-multicast routing<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor12">3.4.</a>&nbsp;
Encapsulation techniques for P-multicast trees<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#interas">3.5.</a>&nbsp;
Inter-AS deployments options<br />
<a href="#anchor13">4.</a>&nbsp;
Co-located RPs<br />
<a href="#anchor14">5.</a>&nbsp;
Existing deployments<br />
<a href="#anchor15">6.</a>&nbsp;
Summary of recommendations<br />
<a href="#IANA">7.</a>&nbsp;
IANA Considerations<br />
<a href="#Security">8.</a>&nbsp;
Security Considerations<br />
<a href="#Acknowledgements">9.</a>&nbsp;
Acknowledgements<br />
<a href="#rfc.references1">10.</a>&nbsp;
Informative References<br />
<a href="#PEPE-mrouting-load">Appendix&nbsp;A.</a>&nbsp;
Scalability of C-multicast routing processing load<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor17">A.1.</a>&nbsp;
PIM LAN procedures, by default<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor18">A.2.</a>&nbsp;
PIM LAN procedures, with explicit tracking<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor19">A.3.</a>&nbsp;
BGP-based<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor20">A.4.</a>&nbsp;
Side by side orders of magnitude comparison<br />
<a href="#anchor21">Appendix&nbsp;B.</a>&nbsp;
Switching to S-PMSI<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
<a href="#rfc.copyright">&#167;</a>&nbsp;
Intellectual Property and Copyright Statements<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>The current proposal for <a class='info' href='#I-D.ietf-l3vpn-2547bis-mcast'>multicast in BGP/MPLS<span> (</span><span class='info'>Rosen, E. and R. Aggarwal, &ldquo;Multicast in MPLS/BGP IP VPNs,&rdquo; October&nbsp;2006.</span><span>)</span></a> [I&#8209;D.ietf&#8209;l3vpn&#8209;2547bis&#8209;mcast]
      includes multiple alternative mechanisms for some of the required
      building blocks of the solution. However, it does not identify the core
      set of mechanisms which must be implemented in order to ensure
      interoperability. This may lead to a situation where implementations may
      support different subsets of the available optional mechanisms leading
      to implementations that do not interoperate, which is a problem for the
      numerous operators ahaving multi-vendor backbones.
</p>
<p>The aim of this document is to leverage the already expressed <a class='info' href='#RFC4834'>requirements<span> (</span><span class='info'>Morin, T., &ldquo;Requirements for Multicast in L3 Provider-Provisioned Virtual           Private Networks (PPVPNs),&rdquo; April&nbsp;2007.</span><span>)</span></a> [RFC4834] and study the properties of each
      approach, to identify mechanisms that are good candidates for being part
      of a core set of mandatory mechanisms which can be used to provide a
      base for interoperable solutions.
</p>
<p>This document will go through the different building blocks of the
      solution and provide recommendations as to which mechanisms should be
      favored for each building block, while considering the requirements
      already defined and the goal of a fully-interoperable standard.
</p>
<p>Considering the history of the multicast VPN proposals and
      implementations, the authors also consider it useful to discuss how
      existing deployments of early implementations <a class='info' href='#I-D.rosen-vpn-mcast'>[I&#8209;D.rosen&#8209;vpn&#8209;mcast]<span> (</span><span class='info'>Rosen, E., &ldquo;Multicast in MPLS/BGP VPNs,&rdquo; December&nbsp;2004.</span><span>)</span></a><a class='info' href='#I-D.raggarwa-l3vpn-2547-mvpn'>[I&#8209;D.raggarwa&#8209;l3vpn&#8209;2547&#8209;mvpn]<span> (</span><span class='info'>Aggarwal, R., &ldquo;Base Specification for Multicast in BGP/MPLS VPNs,&rdquo; June&nbsp;2004.</span><span>)</span></a> can fit in the picture,
      and provide suggestions in this respect.
</p>
<p>[This document will evolve to follow key changes in <a class='info' href='#I-D.ietf-l3vpn-2547bis-mcast'>multicast in BGP/MPLS<span> (</span><span class='info'>Rosen, E. and R. Aggarwal, &ldquo;Multicast in MPLS/BGP IP VPNs,&rdquo; October&nbsp;2006.</span><span>)</span></a> [I&#8209;D.ietf&#8209;l3vpn&#8209;2547bis&#8209;mcast] and
      <a class='info' href='#I-D.ietf-l3vpn-2547bis-mcast-bgp'>[I&#8209;D.ietf&#8209;l3vpn&#8209;2547bis&#8209;mcast&#8209;bgp]<span> (</span><span class='info'>Aggarwal, R., Rosen, E., Morin, T., and Y. Rekhter, &ldquo;BGP Encodings and Procedures for Multicast in MPLS/BGP IP           VPNs,&rdquo; June&nbsp;2008.</span><span>)</span></a>. Such changes
      are for instance, clear statements about compatibility between the
      different approaches and other optional features, or completed
      description of procedures that are not currently detailed.]
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Terminology</h3>

<p>Please refer to <a class='info' href='#I-D.ietf-l3vpn-2547bis-mcast'>[I&#8209;D.ietf&#8209;l3vpn&#8209;2547bis&#8209;mcast]<span> (</span><span class='info'>Rosen, E. and R. Aggarwal, &ldquo;Multicast in MPLS/BGP IP VPNs,&rdquo; October&nbsp;2006.</span><span>)</span></a>
      and <a class='info' href='#RFC4834'>[RFC4834]<span> (</span><span class='info'>Morin, T., &ldquo;Requirements for Multicast in L3 Provider-Provisioned Virtual           Private Networks (PPVPNs),&rdquo; April&nbsp;2007.</span><span>)</span></a>.
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Examining alternatives mechanisms for MVPN functions</h3>

<a name="autodiscovery"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
MVPN auto-discovery</h3>

<p><a class='info' href='#I-D.ietf-l3vpn-2547bis-mcast'>The current solution
        document<span> (</span><span class='info'>Rosen, E. and R. Aggarwal, &ldquo;Multicast in MPLS/BGP IP VPNs,&rdquo; October&nbsp;2006.</span><span>)</span></a> [I&#8209;D.ietf&#8209;l3vpn&#8209;2547bis&#8209;mcast] proposes two different mechanisms for MVPN
        auto-discovery:</p>
<ol class="text">
<li>BGP-based auto-discovery
</li>
<li>"PIM/shared tree" : discovery done through the exchange of PIM
            Hellos by C-PIM instances, accross an MI-PMSI implemented with one
            shared tree per VPN (using multicast ASM, or MP2MP LDP)
</li>
</ol><p>Both solutions address <a class='info' href='#RFC4834'>Section 5.2.10
        of<span> (</span><span class='info'>Morin, T., &ldquo;Requirements for Multicast in L3 Provider-Provisioned Virtual           Private Networks (PPVPNs),&rdquo; April&nbsp;2007.</span><span>)</span></a> [RFC4834] which states that "the operation of a multicast VPN solution
        SHALL be as light as possible and providing automatic configuration
        and discovery SHOULD be a priority when designing a multicast VPN
        solution. Particularly the operational burden of setting up multicast
        on a PE or for a VR/VRF SHOULD be as low as possible".
</p>
<p>The key consideration is that PIM-based discovery is only
        applicable to deployments using a shared tree to instantiate an
        MI-PMSI (it cannot be applicable to if only P2P or SSM trees are used,
        because contrary to ASM and MP2MP, building these P2P or SSM trees
        cannot happen before the autodiscovery has been done), whereas the
        BGP-based auto-discovery does not place any constraint on the type of
        multicast trees that would have to be used. BGP-based auto-discovery
        is independent of the type of P-multicast tree used thus satisfying
        the requirement in <a class='info' href='#RFC4834'>section 5.2.4.1 of<span> (</span><span class='info'>Morin, T., &ldquo;Requirements for Multicast in L3 Provider-Provisioned Virtual           Private Networks (PPVPNs),&rdquo; April&nbsp;2007.</span><span>)</span></a> [RFC4834]
        that "a multicast VPN solution SHOULD be designed so that control and
        forwarding planes are not interdependent".
</p>
<p>Additionally, it is to be noted that a number of service providers
        have chosen to use SSM-based trees for the default MDTs within their
        current deployments, therefore relying already on some BGP-based
        auto-discovery.
</p>
<p>Moreover, when shared P-tunnels are used, the use of BGP
        auto-discovery would allow inconsistencies in the
        addresses/identifiers used for the shared trees to be detected (e.g.
        the same shared tree identifier being used for different VPNs with
        distinct BGP route targets). This is particularly attractive in the
        context of inter-AS VPNs where the impact of any misconfiguration
        could be magnified and where a single service provider may not operate
        all the ASs. Note that this technique to detect some misconfiguration
        cases may not be usable during a transition period from a shared-tree
        autodiscovery to a BGP-based autodiscovery.
</p>
<p>Thus, the recommendation is that implementation of the BGP-based
        auto-discovery is mandated and should be supported by all mVPN
        implementations (while PIM/shared-tree based auto-discovery should be
        optionally considered for migration purpose only).
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
S-PMSI Signaling</h3>

<p><a class='info' href='#I-D.ietf-l3vpn-2547bis-mcast'>The current solution
        document<span> (</span><span class='info'>Rosen, E. and R. Aggarwal, &ldquo;Multicast in MPLS/BGP IP VPNs,&rdquo; October&nbsp;2006.</span><span>)</span></a> [I&#8209;D.ietf&#8209;l3vpn&#8209;2547bis&#8209;mcast] proposes two mechanisms for signaling that multicast
        flows will be switched to an S-PMSI :
</p>
<p></p>
<ol class="text">
<li>a UDP-based TLV protocol specifically for S-PMSI signaling
            (described in section 7.2.1).
</li>
<li>a BGP-based mechanism for S-PMSI signaling (described in
            section 7.2.2).
</li>
</ol>

<p><a class='info' href='#RFC4834'>Section 5.2.10 of<span> (</span><span class='info'>Morin, T., &ldquo;Requirements for Multicast in L3 Provider-Provisioned Virtual           Private Networks (PPVPNs),&rdquo; April&nbsp;2007.</span><span>)</span></a> [RFC4834] states that "as far
        as possible, the design of a solution SHOULD carefully consider the
        number of protocols within the core network: if any additional
        protocols are introduced compared with the unicast VPN service, the
        balance between their advantage and operational burden SHOULD be
        examined thoroughly". The UDP-based mechanism would be an additional
        protocol in the mvpn stack, which isn't the case for the BGP-based
        S-PMSI switching signaling, since (a) BGP is identified as a
        requirement for autodiscovery, and (b) the BGP-based S-PMSI switching
        signaling procedures are very similar to the autodiscovery
        procedures.
</p>
<p>Furthermore, the BGP-based S-PMSI switching signaling mechanism can
        be used within MVPNs using either a UI-PMSI or a MI-PMSI while the
        UDP-based protocol is restricted to use within MVPNs using an MI-PMSI.
        In practice, this means that, except if shared trees are used, a PE
        will have to join to all trees of all PEs in a VPN, while in the
        alternative where BGP-based S-PMSI switching signaling is used, it
        could delay joining a tree from a PE until traffic from that PE is
        needed, thus reducing the amount of state maintained on P routers.
</p>
<p>S-PMSI switching signaling approaches can also be compared in an
        inter-AS context (see <a class='info' href='#interas'>Section&nbsp;3.5<span> (</span><span class='info'>Inter-AS deployments options</span><span>)</span></a>). The proposed
        BGP-based approach for S-PMSI switching signaling provides a good fit
        with both the segmented and non-segmented inter-AS approaches
        (see<a class='info' href='#interas'>Section&nbsp;3.5<span> (</span><span class='info'>Inter-AS deployments options</span><span>)</span></a>). By contrast the UDP-based
        approach for S-PMSI switching signaling appears to be usable with
        segmented inter-AS tunnels, but in that case key advantages of the
        segmented approach are lost :
</p>
<p></p>
<ul class="text">
<li>there is no more an independence of ASes to choose when S-PMSIs
            tunnels will be triggered in their AS (and thus control the amount
            of state created on their P routers), and with which tunneling
            technique they will be built
</li>
<li>in an inter-AS option B context, an isolation of ASes is
            obtained as PEs don't have visibility of, nor exchange with, PEs
            of other ASes. This property can be preserved if the segmented
            inter-AS approach and BGP-based S-PMSI switching signaling are
            used, but it is not preserved if UDP-based switching signaling is
            used.
</li>
</ul>

<p>Given all the above, it is the recommendation of the authors that
        BGP is the preferred solution for S-PMSI switching signaling and
        should be supported by all implementations.
</p>
<p>It is identified that, if nothing prevents a fast-paced creation of
        S-PMSI, then S-PMSI switching signaling with BGP would possibly impact
        the Route Reflectors used for mVPN routes. However is it also
        identified that such a fast-paced behavior would have an impact on P
        and PE routers resulting from S-PMSI tunnels signaling, which will be
        the same independently of the S-PMSI signaling approach that is used,
        and which it is certainly best to avoid by setting up proper
        mechanisms.
</p>
<p>The UDP-based S-PMSI switching signaling protocol can also be
        considered, as an option, given that this protocol has been in
        deployment for some time. Implementations supporting both protocols
        would be expected to provide a per-VRF configuration knob to allow an
        implementation to use the UDP-based TLV protocol for S-PMSI switching
        signaling for specific VRFs in order to support the coexistence of
        both protocols (for example during migration scenarios). Apart from
        such migration-facilitating mechanisms, the authors specifically do
        not recommend extending the already proposed UDP-based TLV protocol to
        new types of P-multicast trees.
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3"></a><h3>3.3.&nbsp;
PE-PE Transmission of C-Multicast Routing</h3>

<p><a class='info' href='#I-D.ietf-l3vpn-2547bis-mcast'>The current solution
        document<span> (</span><span class='info'>Rosen, E. and R. Aggarwal, &ldquo;Multicast in MPLS/BGP IP VPNs,&rdquo; October&nbsp;2006.</span><span>)</span></a> [I&#8209;D.ietf&#8209;l3vpn&#8209;2547bis&#8209;mcast] proposes multiple mechanisms for PE-PE transmission of
        customer multicast routing information:</p>
<ol class="text">
<li>Full per-MVPN PIM peering across an MI-PMSI (described in
            section 3.4.1.1).
</li>
<li>Lightweight PIM peering across an MI-PMSI (described in section
            3.4.1.2)
</li>
<li>The unicasting of PIM C-Join/Prune messages (described in
            section 3.4.1.3)
</li>
<li>The use of BGP for carrying C-Multicast routing (described in
            section 3.4.2).
</li>
</ol>

<a name="pepe-scaling"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3.1"></a><h3>3.3.1.&nbsp;
PE-PE signaling scalability</h3>

<p>Scalability being one of the core requirements for multicast VPN,
          it is useful to compare the proposed C-multicast routing mechanisms
          from this perspective : <a class='info' href='#RFC4834'>Section 4.2.4
          of<span> (</span><span class='info'>Morin, T., &ldquo;Requirements for Multicast in L3 Provider-Provisioned Virtual           Private Networks (PPVPNs),&rdquo; April&nbsp;2007.</span><span>)</span></a> [RFC4834] recommends that "a multicast VPN solution SHOULD support
          several hundreds of PEs per multicast VPN, and MAY usefully scale up
          to thousands" and section 4.2.5 states that "a solution SHOULD scale
          up to thousands of PEs having multicast service enabled".
</p>
<p>Scalability with an increased number of VPNs per PE, or with an
          increased number of multicast state per VPN, are also important, but
          are not focused on in this section since we didn't identify
          differences between the different approaches for these matters : all
          others things equal, the load on PE due to C-multicast routing
          increases roughly linearly with the number of VPNs per PE, and with
          the number of multicast state per VPN.
</p>
<p>This section thus presents conclusions related to PE-PE signaling
          scalability, while <a class='info' href='#PEPE-mrouting-load'>Appendix&nbsp;A<span> (</span><span class='info'>Scalability of C-multicast routing processing load</span><span>)</span></a>
          contains more detailed explanations on the differences in ways of
          handling the C-multicast routing load, between the PIM-based
          approaches and the BGP-based approach, along with quantified
          evaluations of the amount of state and messages with the different
          approaches.
</p>
<p>At high scales of multicast deployment, the first and third
          mechanisms require the PEs to maintain a large number of PIM
          adjacencies with other PEs of the same multicast VPN (which implies
          the regular exchange PIM Hellos with each other) and to refresh
          C-Join/Prune states, thus limiting the scalability of these
          approaches.
</p>
<p>The third mechanism would reduce the amount of C-Join/Prune
          processing for a given multicast flow for PEs that are not the
          upstream neighbor for this flow, but would require "explicit
          tracking" state to be maintained by the upstream PE. It also isn't
          compatible with the "Join suppression" mechanism. A possible way to
          reduce the amount of signaling with this approach would be the use
          of a PIM refresh-reduction mechanism. Such a mechanism, based on
          TCP, is being considered by the PIM WG (<a class='info' href='#I-D.farinacci-pim-port'>[I&#8209;D.farinacci&#8209;pim&#8209;port]<span> (</span><span class='info'>Farinacci, D., Wijnands, I., Karan, A., Boers, A., and M. Napierala, &ldquo;A Reliable Transport Mechanism for PIM,&rdquo; May&nbsp;2008.</span><span>)</span></a>) ; its use in a multicast
          VPN context hasn't yet been described in <a class='info' href='#I-D.ietf-l3vpn-2547bis-mcast'>[I&#8209;D.ietf&#8209;l3vpn&#8209;2547bis&#8209;mcast]<span> (</span><span class='info'>Rosen, E. and R. Aggarwal, &ldquo;Multicast in MPLS/BGP IP VPNs,&rdquo; October&nbsp;2006.</span><span>)</span></a>, but it is expected
          that this approach would provide a scalability similar with the
          BGP-based approach used without leveraging RR to process the PE-PE
          C-multicast routing. [TBC, when/if, this is further described in
          <a class='info' href='#I-D.ietf-l3vpn-2547bis-mcast'>[I&#8209;D.ietf&#8209;l3vpn&#8209;2547bis&#8209;mcast]<span> (</span><span class='info'>Rosen, E. and R. Aggarwal, &ldquo;Multicast in MPLS/BGP IP VPNs,&rdquo; October&nbsp;2006.</span><span>)</span></a>].
</p>
<p>The second mechanism would operate in a similar manner to full
          per-MVPN PIM peering except that PIM Hello messages are not
          transmitted and PIM C-Join/Prune refresh-reduction would be used,
          thereby improving scalability, but this approach has yet to be fully
          described. In any case, it seems that it only improves one thing
          among the things that will impact scalability with an increased
          number of PEs.
</p>
<p>The first and second mechanisms can leverage the "Join
          suppression" behavior and thus improve the processing burden of an
          upstream PE, sparing the processing of a Join refresh message for
          each remote PE joined to a multicast stream. This improvement
          requires all PEs of a multicast VPN to process all PIM Join and
          Prune messages sent by any other PE participating in the same
          multicast VPN whether they are the upstream PE or not.
</p>
<p>The fourth mechanism (the use of BGP for carrying C-Multicast
          routing) would have a comparable drawback of requiring all PEs to
          process a BGP C-multicast route only interesting a specific upstream
          PE. For this reason the C-multicast routing approach can leverage
          the Route-Target constraint mechanisms, which specifically allows
          only the interested upstream PE to receive a BGP C-multicast route.
          When RT-constraints are used the fourth mechanism reduces the total
          amount of message processing load put on the PEs for customer
          multicast routing to the minimum (by avoiding any processing by
          "unrelated" PEs, that are not the joining PE nor the upstream PE,
          and by avoiding the use of refreshes), and inherits BGP features
          that are expected to improve scalability (for instance, providing a
          means to offload some of the processing burden associated with
          client multicast routing onto one or many BGP route-reflectors).
          This advantage has a cost (the maintenance of a amount of state
          linear with the number of PEs joined to a stream), but when route
          reflectors are used, this cost is spread among the route
          reflectors.
</p>
<p>However, the fourth mechanism is specific in that it offers the
          possibility of offloading customer multicast routing processing onto
          one or more BGP Route Reflector(s). When this is used, there is a
          drawback of increasing the processing load placed on the route
          reflector infrastructure. In the higher scale scenarios, it may be
          required to adapt the route relector infrastructure to the mVPN
          routing load by using, for example:</p>
<ul class="text">
<li>a separation of resources for unicast and multicast VPN
              routing : using dedicated mVPN Route Reflector(s) (or using
              dedicated mVPN BGP sessions or dedicated mVPN BGP instances)
              ;
</li>
<li>the deployment of additional route reflector resources, for
              example increasing the processing resources on existing route
              reflectors or deployment of additional route reflectors.
</li>
</ul><p>Among the above, the most straightforward approach is to
          consider the introduction of route reflectors dedicated to the mVPN
          service and dimension them accordingly to the need of that service
          (but doing so is not required and is left as an operator engineering
          decision).
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3.2"></a><h3>3.3.2.&nbsp;
P-routers scalability</h3>

<p>Mechanisms (1) and (2) are restricted to use within multicast
          VPNs that use an MI-PMSI, thereby necessitating:</p>
<blockquote class="text"><dl>
<dt></dt>
<dd>the use of a P-multicast tree technique that
              allows shared trees (for example PIM-SM in ASM mode or MP2MP
              LDP)
</dd>
<dt>or </dt>
<dd>the use of one P-multicast tree per PE per
              VPN, even for PEs that do not have sources in their directly
              attached sites for that VPN.
</dd>
</dl></blockquote><p>By comparison, the fourth mechanism doesn't impose either
          of these restrictions, and when P2MP trees are used only
          necessitates the use of one tree per VPN per PE attached to a site
          with a multicast source or RP (or with a candidate BSR, if BSR is
          used).
</p>
<p>In cases where there are less PEs connected with sources than the
          total amount of PEs, it improves the amount of state maintained by
          P-routers compared to the amount required to build an MI-PMSI with
          P2MP trees. Such cases are expected to be typical for multicast VPN
          deployments (see <a class='info' href='#RFC4834'>sections 4.2.4.1
          of<span> (</span><span class='info'>Morin, T., &ldquo;Requirements for Multicast in L3 Provider-Provisioned Virtual           Private Networks (PPVPNs),&rdquo; April&nbsp;2007.</span><span>)</span></a> [RFC4834]).
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3.3"></a><h3>3.3.3.&nbsp;
Impact of C-multicast routing on Inter-AS deployments</h3>

<p>Furthermore, co-existence with unicast inter-AS VPN options, and
          an equal level of security for multicast and unicast including in an
          inter-AS context, are specifically mentioned in <a class='info' href='#RFC4834'>sections 5.2.6, 5.2.8 and 5.2.12 of<span> (</span><span class='info'>Morin, T., &ldquo;Requirements for Multicast in L3 Provider-Provisioned Virtual           Private Networks (PPVPNs),&rdquo; April&nbsp;2007.</span><span>)</span></a> [RFC4834].
</p>
<p>In an inter-AS option B context, an isolation of ASes is obtained
          as PEs don't have visibility of, nor exchange with, PEs of other
          ASes. This property can be preserved if the segmented inter-AS
          approach and BGP-based C-multicast routing is used, but it is not
          preserved if PIM-based signaling is used.
</p>
<p>By comparison, the fourth option (the use of BGP for carrying
          C-Multicast routing) does not have any of the above limitations
          related to inter-AS deployments.
</p>
<p>Additionally, the authors note that the proposed BGP-based
          approach for C-multicast routing provides a good fit with both the
          segmented and non-segmented inter-AS approaches. By contrast, though
          the PIM-based C-multicast routing is usable with segmented inter-AS
          trees, the inter-AS scalability advantage of the approach is lost,
          since PEs in an AS will see the C-multicast routing activity of all
          other PEs of all other ASes.
</p>
<p>
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3.4"></a><h3>3.3.4.&nbsp;
Security and robustness</h3>

<p>BGP supports MD5 authentication of its peers for additional
          security, thereby possibly benefit directly to multicast VPN
          customer multicast routing, whether for intra-AS or inter-AS
          communications. By contrast, with a PIM-based approach, no mechanism
          providing a comparable level of security to authenticate
          communications between remote PEs has been yet fully described yet
          <a class='info' href='#I-D.ietf-pim-sm-linklocal'>[I&#8209;D.ietf&#8209;pim&#8209;sm&#8209;linklocal]<span> (</span><span class='info'>Atwood, J., &ldquo;Authentication and Confidentiality in PIM-SM Link-local           Messages,&rdquo; November&nbsp;2007.</span><span>)</span></a>[], and in any case
          would require significant additional operations for the provider to
          be usable in a multicast VPN context.
</p>
<p>The robustness of the infrastructure, especially the existing
          infrastructure providing unicast VPN connectivity, is key. The
          C-multicast routing function, especially under load, will compete
          with the unicast routing infrastructure. With the PIM-based
          approaches, the unicast and multicast VPN routing functions are
          expected to only compete in the PE, for control plane processing
          resources. In the case of the BGP-based approach, they will compete
          on the PE for processing resources, and in the route reflectors
          (supposing they are used for mVPN routing). It is identified that in
          both cases, mechanisms will be required to arbitrate resources (e.g.
          processing priorities). In the case of PIM-based procedures, between
          the different control plane routing instances in the PE. And in the
          case of the BGP-based approach, this is likely to require using
          distinct BGP sessions for multicast and unicast (e.g. through the
          use of dedicated mVPN BGP route reflectors, or to the use of a
          distinct session with an existing route reflector).
</p>
<p>Multicast routing is dynamic by nature, and multicast VPN routing
          has to follow the VPN customers multicast routing events. The
          different approaches can be compared on how they are expected to
          behave in scenarios where multicast routing in the VPNs is subject
          to an intense activity. Scalability of each approach under such a
          load is detailed in <a class='info' href='#PEPE-mrouting-load'>Appendix&nbsp;A<span> (</span><span class='info'>Scalability of C-multicast routing processing load</span><span>)</span></a>, and
          the fourth approach (BGP-based) is the only one having a O(1) cost
          for join/leave operations, and with which state maintenance is not
          concentrated on the upstream PE.
</p>
<p>On the other hand, while the BGP-based approach is likely to
          suffer a slowdown under a load that is greater than the available
          processing resources (because of possibly congested TCP sockets),
          the PIM-based approaches would react to such a load by dropping
          messages, with failure-recovery obtained through message refreshes.
          Thus, the BGP-based approach could result in a degradation of
          join/leave latency performance typically spread evenly across all
          multicast streams being joined in that period, while the PIM-based
          approach could result in increased join/leave latency, for some
          random streams, by a multiple of the time between refreshes (e.g.
          tens of seconds), and possibly in some states the adjacency may
          time-out resulting in disruption of multicast streams.
<p>
</p>

<p>
</p>
<p>The behavior of the PIM-based approach under such a load is also
          harder to predict, given that the performance of the "Join
          suppression" mechanism (an important mechanism for this approach to
          scale) will itself be impeded by delays in Join processing. For
          these reasons, the BGP-based approach would be able to provide a
          smoother degradation and more predictable behavior under a highly
          dynamic load.
</p>
<p>In fact, both an "evenly spread degradation" and an "unevenly
          spread larger degradation" can be problematic, and what seems
          important is the ability for the VPN backbone operator to (a) limit
          the amount of multicast routing activity that can be triggered by a
          multicast VPN customer, and to (b) provide the best possible
          independence between distinct VPNs. It seems that both of these can
          be addressed through local implementation improvements, and that
          both the BGP-based and PIM-based approaches could be engineered to
          provide (a) and (b). It can be noted though that the BGP approach
          proposes ways to dampen C-multicast route withdrawals and/or
          advertisements, and thus already describes a way to provide (a),
          while nothing comparable has yet been described for the PIM-based
          approaches (even though it doesn't appear difficult). The PIM-based
          approaches rely on a per VPN dataplane to carry the mVPN control
          plane, and thus may benefit from this first level of separation to
          solve (b).
</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3.5"></a><h3>3.3.5.&nbsp;
C-multicast VPN join latency</h3>

<p><a class='info' href='#RFC4834'>Section 5.1.3 of<span> (</span><span class='info'>Morin, T., &ldquo;Requirements for Multicast in L3 Provider-Provisioned Virtual           Private Networks (PPVPNs),&rdquo; April&nbsp;2007.</span><span>)</span></a> [RFC4834] states that "the
          group join delay [...] is also considered one important QoS
          parameter. It is thus RECOMMENDED that a multicast VPN solution be
          designed appropriately in this regard". In a multicast VPN context,
          the "group join delay"of interest is the time between a CE sending a
          PIM Join to its PE and the first packet of the corresponding
          multicast stream being received by the CE.
</p>
<p>It is to be noted that the C-multicast routing procedures will
          only impact the group join latency of a said multicast stream for
          the first receiver that is located across the provider backbone from
          the multicast source-connected PE (or the first &lt;n&gt; receivers
          in the specific case where a specific UMH selection algorithm is
          used, that allows &lt;n&gt; distinct UMH to be selected by distinct
          downstream PEs).
</p>
<p>The different approaches proposed seem to have different
          characteristics in how they are expected to impact join
          latency:</p>
<ul class="text">
<li>the PIM-based approaches minimize the number of control plane
              processing hops between a new receiver-connected PE and the
              source-connected PE, and being datagram-based introduces minimal
              delay, thereby possibly having a join latency as good as
              possible depending on implementation efficiency
</li>
<li>under degraded conditions (packet loss, congestion, high
              control plane load) the PIM-based approach may impact the
              latency for a given multicast stream in an all or nothing manner
              : if a C-multicast routing PIM Join packet is lost, latency can
              reach a high time (a multiple of the periodicity of PIM Join
              refreshes)
</li>
<li>the BGP-based approach uses TCP exchanges, that may introduce
              an additional delay depending on BGP and TCP implementation, but
              which would typically result, under degraded conditions (such
              packet loss, congestion, high control plane load), in a
              comparably lower increase of latency spread more evenly across
              the streams
</li>
<li>as shown in <a class='info' href='#PEPE-mrouting-load'>Appendix&nbsp;A<span> (</span><span class='info'>Scalability of C-multicast routing processing load</span><span>)</span></a>, the
              BGP-based approach is particular in that it removes load from
              all the PEs (without putting this load on the upstream PE for a
              stream); this improvement of background load can bring improved
              performance when a PE acts as the upstream PE for a stream, and
              thus benefit join latency
</li>
</ul>

<p>This qualitative comparison of approaches shows that the
          BGP-based approach is designed for a smoother degradation of latency
          under degraded conditions such as packet loss, congestion, or high
          control plane load. On the other hand, the PIM-based approaches seem
          to structurally be able to reach the shorter "best-case" group join
          latency (especially compared to deployment of the BGP-based approach
          where route-reflectors are used).
</p>
<p>Doing a quantitative comparison of latencies is not possible
          without referring to specific implementations and benchmarking
          procedures, and would possibly expose different conclusions,
          especially for best-case group join latency for which performance is
          expected vary with PIM and BGP implementations. We can also note
          that improving a BGP implementation for reduced latency of route
          processing would not only benefit multicast VPN group join latency,
          but the whole BGP-based routing, which means that the need for good
          BGP/RR performance is not specific to multicast VPN routing.
</p>
<p>Last, C-multicast join latency will be impacted by the overall
          load put on the control plane, and the scalability of the
          C-multicast routing approach is thus to be taken into account. As
          explained in sections <a class='info' href='#pepe-scaling'>Section&nbsp;3.3.1<span> (</span><span class='info'>PE-PE signaling scalability</span><span>)</span></a> and <a class='info' href='#PEPE-mrouting-load'>Appendix&nbsp;A<span> (</span><span class='info'>Scalability of C-multicast routing processing load</span><span>)</span></a>, the BGP-based approach will
          provide the best scalability with an increased number of PEs per
          VPN, thereby benefiting group join latency in such higher scale
          scenarios.
</p>
<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3.6"></a><h3>3.3.6.&nbsp;
Extranet</h3>

<p>
</p>
<p>
</p>
<p>
</p>
<p>An illustrative example of the benefit brought by using a
          C-multicast routing approach close to the technique for unicast VPN
          routing is how the "extranet" feature can be implemented : when
          BGP-based mechanisms are used, the already defined and well
          understood BGP route target import/export semantics are just reused
          and applied to BGP mVPN routes. By contrast, it is not specified how
          implementing the same feature would be done in the context of other
          C-multicast routing mechanisms, and thus unclear how this would
          bring a comparable consistency benefit, or if it is possible without
          significant engineering trade-offs given that their control plane is
          tied to a specific MI-PMSI tunnel. [to be updated when Extranet is
          described for approaches other than the BGP-based approaches]
</p>
<p>Note that the support for the Extranet feature is stated as a
          MUST in <a class='info' href='#RFC4834'>sections 5.1.6 of<span> (</span><span class='info'>Morin, T., &ldquo;Requirements for Multicast in L3 Provider-Provisioned Virtual           Private Networks (PPVPNs),&rdquo; April&nbsp;2007.</span><span>)</span></a> [RFC4834].
</p>
<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3.7"></a><h3>3.3.7.&nbsp;
Conclusion on C-multicast routing</h3>

<p>The fourth approach (BGP-based) for customer multicast routing
          clearly presents some advantages over the PIM-based alternatives.
          However it has yet to be deployed within an operational mVPN, and
          only limited experience exists with its implementations. By
          contrast, PIM-based mechanisms lack many of these benefits and have
          identified limitations in how they can handle customer multicast
          routing load in higher-scale scenarios. Despite these, experience in
          multiple deployments shows that the "Full PIM peering" approach is
          operationally viable.
</p>
<p>Consequently, at the present time and until there is experience
          with all of the proposed mechanisms it is not clear which of the
          above mechanisms should be recommended as the preferred solution to
          implementers. It would appear prudent for implementations to
          consider supporting both the fourth (BGP-based) and first (full
          per-MPVN PIM peering) mechanisms. Further experience on both
          implementations is likely to be required before some best practice
          can be defined.
</p>
<p>The first mechanism (full per-MVPN PIM peering across an MI-PMSI)
          is the mechanism used by <a class='info' href='#I-D.rosen-vpn-mcast'>[I&#8209;D.rosen&#8209;vpn&#8209;mcast]<span> (</span><span class='info'>Rosen, E., &ldquo;Multicast in MPLS/BGP VPNs,&rdquo; December&nbsp;2004.</span><span>)</span></a>
          and therefore it is deployed and operating in MVPNs today. The
          authors recognize that because full per-MVPN PIM peering has been in
          deployment for some time, the support for this mechanism may be
          helpful for backwards compatibility and in order to facilitate
          migration towards the BGP-based approach.
</p>
<p>Moreover to improve the clarity of the proposed specifications,
          if the hello suppression and refresh-reduction procedures are not
          fully specified and the benefit they can bring well identified, the
          authors would recommend that the proposals for lightweight PIM
          peering across an MI-PMSI (the second mechanism) and for the
          unicasting of PIM C-Join/Prune messages (the third mechanism) be
          removed from the final revision of <a class='info' href='#I-D.ietf-l3vpn-2547bis-mcast'>[I&#8209;D.ietf&#8209;l3vpn&#8209;2547bis&#8209;mcast]<span> (</span><span class='info'>Rosen, E. and R. Aggarwal, &ldquo;Multicast in MPLS/BGP IP VPNs,&rdquo; October&nbsp;2006.</span><span>)</span></a>.
</p>
<a name="anchor12"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.4"></a><h3>3.4.&nbsp;
Encapsulation techniques for P-multicast trees</h3>

<p>In this section the authors will not make any restricting
        recommendations since the appropriateness of a specific provider core
        data plane technology will depend on a large number of factors, for
        example the service provider's currently deployed unicast data plane,
        many of which are service provider specific.
</p>
<p>However, implementations should not unreasonably restrict the data
        plane technology that can be used, and should not force the use of the
        same technology for different VPNs attached to a single PE. Initial
        implementations may only support a reduced set of encapsulation
        techniques and data plane technologies but this should not be a
        limiting factor that hinders future support for other encapsulation
        techniques, data plane technologies or interoperability.
</p>
<p><a class='info' href='#RFC4834'>Section 5.2.4.1 of<span> (</span><span class='info'>Morin, T., &ldquo;Requirements for Multicast in L3 Provider-Provisioned Virtual           Private Networks (PPVPNs),&rdquo; April&nbsp;2007.</span><span>)</span></a> [RFC4834] states "In a
        multicast VPN solution extending a unicast L3 PPVPN solution,
        consistency in the tunneling technology has to be favored: such a
        solution SHOULD allow the use of the same tunneling technology for
        multicast as for unicast. Deployment consistency, ease of operation
        and potential migrations are the main motivations behind this
        requirement."
</p>
<p>Current unicast VPN deployments use a variety of LDP, RSVP-TE and
        GRE/IP-Multicast for encapsulating customer packets for transport
        across the provider core of VPN services. In order to allow the same
        encapsulations to be used for unicast and multicast VPN traffic, it is
        recommended that multicat VPN standards should recommend
        implementations to support for multicast VPNs, all the P2MP variants
        of the encapsulations and signaling protocols that they support for
        unicast and for which some multipoint extension is defined, such as
        mLDP, P2MP RSVP-TE and GRE/IP-multicast.
</p>
<p>
</p>
<p>
</p>
<p>All three of the above encapsulation techniques support the
        building of P2MP multicast trees. In addition mLDP and
        GRE/IP-ASM-Multicast implementations may also support the building of
        MP2MP multicast trees. The use of MP2MP trees may provide some scaling
        benefits to the service provider as only a single MP2MP tree need be
        deployed per VPN, thus reducing by an order of magnitude the amount of
        multicast state that needs to be maintained by P routers. This gain in
        state is at the expense of bandwidth optimization, since sites that do
        not have multicast receivers for multicast streams sourced behind a
        said PE group will still receive packets of such streams, leading to
        non-optimal bandwidth utilization across the VPN core. One thing to
        consider is that the use of MP2MP multicast tree will require
        additional configuration to define the same tree identifier or
        multicast ASM group address in all PEs (it has been noted that some
        auto-configuration could be possible for MP2MP trees, but this it is
        not currently supported by the auto-discovery procedures). [ It has
        been noted that C-multicast routing schemes not covered in <a class='info' href='#I-D.ietf-l3vpn-2547bis-mcast'>[I&#8209;D.ietf&#8209;l3vpn&#8209;2547bis&#8209;mcast]<span> (</span><span class='info'>Rosen, E. and R. Aggarwal, &ldquo;Multicast in MPLS/BGP IP VPNs,&rdquo; October&nbsp;2006.</span><span>)</span></a> could expose different
        advantages of MP2MP multicast trees - this is out of scope of this
        document ]
</p>
<p>MVPN services can also be supported over a unicast VPN core through
        the use of ingress PE replication whereby the ingress PE replicates
        any multicast traffic over the P2P tunnels used to support unicast
        traffic. While this option does not require the service provider to
        modify their existing P routers (in terms of protocol support) and
        does not require maintaining multicast-specific state on the P routers
        in order for the service provider to be able deploy a multicast VPN
        service, the use of ingress PE replication obviously leads to
        non-optimal bandwidth utilization and it is therefore unlikely to be
        the long term solution chosen by service providers. However ingress PE
        replication may be useful during some migration scenarios or where a
        service provider considers the level of multicast traffic on their
        network to be too low to justify deploying multicast specific support
        within their VPN core.
</p>
<p>All proposed approaches for control plane and dataplane can be used
        to provide aggregation amongst multicast groups within a VPN and
        amongst different multicast VPNs, and potentially reduce the amount of
        state to be maintained by P routers. However the latter -- the
        aggregation amongst different multicast VPNs will require support for
        upstream-assigned labels on the PEs. Support for upstream-assigned
        labels may require changes to the data plane processing of the PEs and
        this should be taken into consideration by service providers
        considering the use of aggregate S-PMSI tunnels for the specific
        platforms that the service provider has deployed.
</p>
<a name="interas"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.5"></a><h3>3.5.&nbsp;
Inter-AS deployments options</h3>

<p>There are a number of scenarios that lead to the requirement for
        inter-AS multicast VPNs, including:</p>
<ol class="text">
<li>a service provider may have a large network that they have
            segmented into a number of ASs.
</li>
<li>a service provider's multicast VPN may consist of a number of
            ASs due to acquisitions and mergers with other service
            providers.
</li>
<li>a service provider may wish to interconnect their multicast VPN
            platform with that of another service provider.
</li>
</ol><p>The first scenario can be considered the "simplest" because
        the network is wholly managed by a single service provider under a
        single strategy and is therefore likely to use a consistent set of
        technologies across each AS.
</p>
<p>The second scenario may be more complex than the first because the
        strategy and technology choices made for each AS may have been
        different due to their differing history and the service provider may
        not have (or may be unwilling to) unified the strategy and technology
        choices for each AS.
</p>
<p>The third scenario is the most complex because in addition to the
        complexity of the second scenario, the ASs are managed by different
        service providers and therefore may be subject to a different trust
        model than the other scenarios.
</p>
<p><a class='info' href='#RFC4834'>Section 5.2.6 of<span> (</span><span class='info'>Morin, T., &ldquo;Requirements for Multicast in L3 Provider-Provisioned Virtual           Private Networks (PPVPNs),&rdquo; April&nbsp;2007.</span><span>)</span></a> [RFC4834] states that "a
        solution MUST support inter-AS multicast VPNs, and SHOULD support
        inter-provider multicast VPNs", "considerations about coexistence with
        unicast inter-AS VPN Options A, B and C (as described in section 10 of
        [RFC4364]) are strongly encouraged" and "a multicast VPN solution
        SHOULD provide inter-AS mechanisms requiring the least possible
        coordination between providers, and keep the need for detailed
        knowledge of providers' networks to a minimum - all this being in
        comparison with corresponding unicast VPN options".
</p>
<p><a class='info' href='#I-D.ietf-l3vpn-2547bis-mcast'>Section 8 of<span> (</span><span class='info'>Rosen, E. and R. Aggarwal, &ldquo;Multicast in MPLS/BGP IP VPNs,&rdquo; October&nbsp;2006.</span><span>)</span></a> [I&#8209;D.ietf&#8209;l3vpn&#8209;2547bis&#8209;mcast]
        addresses these requirements by proposing two approaches for mVPN
        inter-AS deployments:
</p>
<p></p>
<ol class="text">
<li>Non-segmented inter-AS tunnels where the multicast tunnels are
            end-to-end across ASes, so even though the PEs belonging to a
            given MVPN may be in different ASs the ASBRs play no special role
            and function merely as P routers (described in section 8.1).
</li>
<li>Segmented inter-AS tunnels where each AS constructs its own
            separate multicast tunnels which are then 'stitched' together by
            the ASBRs (described in section 8.2).
</li>
</ol>

<p><a class='info' href='#RFC4834'>Section 5.2.6 of<span> (</span><span class='info'>Morin, T., &ldquo;Requirements for Multicast in L3 Provider-Provisioned Virtual           Private Networks (PPVPNs),&rdquo; April&nbsp;2007.</span><span>)</span></a> [RFC4834] also states "Within
        each service provider the service provider SHOULD be able on its own
        to pick the most appropriate tunneling mechanism to carry (multicast)
        traffic among PEs (just like what is done today for unicast)". The
        segmented approach is the only one capable of meeting this
        requirement.
</p>
<p>The segmented inter-AS solution would appear to offer the largest
        degree of deployment flexibility to operators. However the
        non-segmented inter-AS solution can simplify deployment in a
        restricted number of scenarios and <a class='info' href='#I-D.rosen-vpn-mcast'>[I&#8209;D.rosen&#8209;vpn&#8209;mcast]<span> (</span><span class='info'>Rosen, E., &ldquo;Multicast in MPLS/BGP VPNs,&rdquo; December&nbsp;2004.</span><span>)</span></a> only supports the non-segmented
        inter-AS solution and therefore the non-segmented inter-AS solution is
        likely to be useful to some operators for backward compatibility and
        during migration from <a class='info' href='#I-D.rosen-vpn-mcast'>[I&#8209;D.rosen&#8209;vpn&#8209;mcast]<span> (</span><span class='info'>Rosen, E., &ldquo;Multicast in MPLS/BGP VPNs,&rdquo; December&nbsp;2004.</span><span>)</span></a> to
        <a class='info' href='#I-D.ietf-l3vpn-2547bis-mcast'>[I&#8209;D.ietf&#8209;l3vpn&#8209;2547bis&#8209;mcast]<span> (</span><span class='info'>Rosen, E. and R. Aggarwal, &ldquo;Multicast in MPLS/BGP IP VPNs,&rdquo; October&nbsp;2006.</span><span>)</span></a>.
</p>
<p>The applicability of segmented or non-segmented inter-AS tunnels to
        a given deployment or inter-provider interconnect will depend on a
        number of factors specific to each service provider. However, due to
        the additional deployment flexibility offered by segmented inter-AS
        tunnels, it is the recommendation of the authors that all
        implementations should support the segmented inter-AS model.
        Additionally, the authors recommend that implementations should
        consider supporting the non-segmented inter-AS model in order to
        facilitate co-existence with existing deployments, and as a feature to
        provide a lighter engineering in a restricted set of scenarios,
        although it is recognized that initial implementations may only
        support one or the other.
</p>
<a name="anchor13"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Co-located RPs</h3>

<p><a class='info' href='#RFC4834'>Section 5.1.10.1 of<span> (</span><span class='info'>Morin, T., &ldquo;Requirements for Multicast in L3 Provider-Provisioned Virtual           Private Networks (PPVPNs),&rdquo; April&nbsp;2007.</span><span>)</span></a> [RFC4834] states "In the case
      of PIM-SM in ASM mode, engineering of the RP function requires the
      deployment of specific protocols and associated configurations. A
      service provider may offer to manage customers' multicast protocol
      operation on their behalf. This implies that it is necessary to consider
      cases where a customer's RPs are outsourced (e.g., on PEs).
      Consequently, a VPN solution MAY support the hosting of the RP function
      in a VR or VRF."
</p>
<p>However, customers who have already deployed multicast within their
      networks and have therefore already deployed their own internal RPs are
      often reluctant to hand over the control of their RPs to their service
      provider and make use of a co-located RP model, and providing
      RP-collocation on a PE will require the activation of MSDP or the
      processing of PIM Registers on the PE. Securing the PE routers for such
      activity requires special care, additional work, and will likely rely on
      specific features to be provided by the routers themselves.
</p>
<p>The applicability of the co-located RP model to a given MVPN will
      thus depend on a number of factors specific to each customer and service
      provider.
</p>
<p>It is therefore the recommendation that implementations should
      support a co-located RP model, but that support for a co-located RP
      model within an implementation should not restrict deployments to using
      a co-located RP model : implementations MUST support deployments when
      activation of a PIM RP function (PIM Register processing and RP-specific
      PIM procedures) or VRF MSDP instance is not required on any PE router
      and where all the RPs are deployed within the customers' networks or
      CEs.
</p>
<a name="anchor14"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Existing deployments</h3>

<p>Some suggestions provided in this document can be used to
      incrementally modify currently deployed implementations without
      hindering these deployments, and without hindering the consistency of
      the standardized solution by providing optional per-VRF configuration
      knobs to support modes of operation compatible with currently deployed
      implementations, while at the same time using the recommended approach
      on implementations supporting the standard.
</p>
<p>In cases where this may not be easily achieved, a recommended
      approach would be to provide a per-VRF configuration knob that allows
      incremental per-VPN migration of the mechanisms used by a PE device,
      which would allow migration with some per-VPN interruption of service
      (e.g. during a maintenance window).
</p>
<p>Mechanisms allowing "live" migration by providing concurrent use of
      multiple alternatives for a given PE and a given VPN, is not seen as a
      priority considering the expected implementation complexity associated
      with such mechanisms. However, if there happen to be cases where they
      could be viably implemented relatively simply, such mechanisms may help
      improve migration management.
</p>
<a name="anchor15"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Summary of recommendations</h3>

<p>The following list summarizes the authors' recommendations. These
      recommendations are not intended to prevent the implementation of
      alternative solutions, rather they are the authors' recommendations for
      the mechanisms that should be made mandatory in <a class='info' href='#I-D.ietf-l3vpn-2547bis-mcast'>[I&#8209;D.ietf&#8209;l3vpn&#8209;2547bis&#8209;mcast]<span> (</span><span class='info'>Rosen, E. and R. Aggarwal, &ldquo;Multicast in MPLS/BGP IP VPNs,&rdquo; October&nbsp;2006.</span><span>)</span></a> and therefore be supported
      by all implementations.
</p>
<p>It is the authors' recommendation:</p>
<ul class="text">
<li>that BGP-based auto-discovery be the mandated solution for
          auto-discovery ;
</li>
<li>that BGP be the mandated solution for S-PMSI switching signaling
          ;
</li>
<li>that implementations support both the BGP-based and the full
          per-MPVN PIM peering solutions for PE-PE transmission of customer
          multicast routing until further operational experience is gained
          with both solutions ;
</li>
<li>that implementations implement the P2MP variants of the P2P
          protocols that they already implement, such as mLDP, P2MP RSVP-TE
          and GRE/IP-Multicast ;
</li>
<li>that implementations support segmented inter-AS tunnels and
          consider supporting non-segmented inter-AS tunnels (in order to
          maintain backwards compatibility and for migration) ;
</li>
<li>implementations MUST support deployments when activation of a PIM
          RP function (PIM Register processing and RP-specific PIM procedures)
          or VRF MSDP instance is not required on any PE router.
</li>
</ul>

<a name="IANA"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
IANA Considerations</h3>

<p>This document makes no request to IANA.
</p>
<p>[ Note to RFC Editor: this section may be removed on publication as
      an RFC. ]
</p>
<a name="Security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
Security Considerations</h3>

<p>This document does not by itself raise any particular security
      considerations.
</p>
<a name="Acknowledgements"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
Acknowledgements</h3>

<p>We would like to thank Adrian Farrel, Eric Rosen, Yakov Rekhter, and
      Maria Napierala for their feedback that helped shape this document.
</p>
<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>10.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC4834">[RFC4834]</a></td>
<td class="author-text">Morin, T., &ldquo;<a href="http://tools.ietf.org/html/rfc4834">Requirements for Multicast in L3 Provider-Provisioned Virtual
          Private Networks (PPVPNs)</a>,&rdquo; RFC&nbsp;4834, April&nbsp;2007 (<a href="http://www.ietf.org/rfc/rfc4834.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-l3vpn-2547bis-mcast">[I-D.ietf-l3vpn-2547bis-mcast]</a></td>
<td class="author-text">Rosen, E. and R. Aggarwal, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-l3vpn-2547bis-mcast-06.txt">Multicast in MPLS/BGP IP VPNs</a>,&rdquo; draft-ietf-l3vpn-2547bis-mcast-06 (work in progress), October&nbsp;2006 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-l3vpn-2547bis-mcast-03.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-l3vpn-2547bis-mcast-bgp">[I-D.ietf-l3vpn-2547bis-mcast-bgp]</a></td>
<td class="author-text">Aggarwal, R., Rosen, E., Morin, T., and Y. Rekhter, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-l3vpn-2547bis-mcast-bgp-05.txt">BGP Encodings and Procedures for Multicast in MPLS/BGP IP
          VPNs</a>,&rdquo; draft-ietf-l3vpn-2547bis-mcast-bgp-05 (work in progress), June&nbsp;2008 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-l3vpn-2547bis-mcast-bgp-05.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.rosen-vpn-mcast">[I-D.rosen-vpn-mcast]</a></td>
<td class="author-text">Rosen, E., &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-rosen-vpn-mcast-08.txt">Multicast in MPLS/BGP VPNs</a>,&rdquo; draft-rosen-vpn-mcast-08 (work in progress), December&nbsp;2004 (<a href="http://www.ietf.org/internet-drafts/draft-rosen-vpn-mcast-08.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.raggarwa-l3vpn-2547-mvpn">[I-D.raggarwa-l3vpn-2547-mvpn]</a></td>
<td class="author-text">Aggarwal, R., &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-raggarwa-l3vpn-2547-mvpn-00.txt">Base Specification for Multicast in BGP/MPLS VPNs</a>,&rdquo; draft-raggarwa-l3vpn-2547-mvpn-00 (work in progress), June&nbsp;2004 (<a href="http://www.ietf.org/internet-drafts/draft-raggarwa-l3vpn-2547-mvpn-00.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-pim-sm-linklocal">[I-D.ietf-pim-sm-linklocal]</a></td>
<td class="author-text">Atwood, J., &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-pim-sm-linklocal-02.txt">Authentication and Confidentiality in PIM-SM Link-local
          Messages</a>,&rdquo; draft-ietf-pim-sm-linklocal-02 (work in progress), November&nbsp;2007 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-pim-sm-linklocal-02.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.farinacci-pim-port">[I-D.farinacci-pim-port]</a></td>
<td class="author-text">Farinacci, D., Wijnands, I., Karan, A., Boers, A., and M. Napierala, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-farinacci-pim-port-01.txt">A Reliable Transport Mechanism for PIM</a>,&rdquo; draft-farinacci-pim-port-01 (work in progress), May&nbsp;2008 (<a href="http://www.ietf.org/internet-drafts/draft-farinacci-pim-port-01.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate
          Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="ftp://ftp.isi.edu/in-notes/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
</table>

<a name="PEPE-mrouting-load"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A"></a><h3>Appendix A.&nbsp;
Scalability of C-multicast routing processing load</h3>

<p>The main role of multicast routing is to let routers determine that
      they should start or stop forwarding a said multicast stream on a said
      link. In the multicast VPN context, this has to be made for each VPN,
      and the associated function is thus named "customer-multicast routing"
      or "C-multicast routing" and its role is to let PE routers determine
      that they should start of stop forwarding the traffic of a said
      multicast stream toward the remote PEs, on some S-PMSI tunnel.
</p>
<p>When some "join" message is received by a PE, this PE knows that it
      should be sending traffic for the corresponding multicast group of the
      corresponding VPN. But the reception of a "prune" message from a remote
      PE is not enough by itself for a PE to know that it should stop
      forwarding the corresponding multicast traffic : it has to make sure
      that they aren't any other PEs that still have receivers for this
      traffic.
</p>
<p>There are many ways that the "C-multicast routing" building block can
      be designed so that a PE can determine when it can stop forwarding a
      said multicast stream toward other PEs:</p>
<blockquote class="text"><dl>
<dt>PIM LAN Procedures, by default</dt>
<dd>By default when PIM LAN procedures are used, when a
          PE Prunes itself from a multicast tree, all other PEs check their
          own state to known if they are on the tree, in which case they send
          a PIM Join message to override the Prune. The "did the last receiver
          leave?" question is thus implicitly replied to by all PE routers,
          for each PIM Prune message.
</dd>
<dt>PIM LAN Procedures, with explicit tracking : </dt>
<dd>PIM LAN procedures can use an "explicit tracking"
          approach, where a PE which is the upstream router for a multicast
          stream maintains an updated list of all neighbors who are joined to
          the tree. Thus, when it receives a Leave message from a PIM
          neighbor, it instantly knows the answer to the "did the last
          receiver leave?" question.<br />
In this case, the
          question is replied to by the upstream router alone. The side effect
          of this "explicit tracking" is that "Join suppression" is not used :
          the downstream PEs will always send Joins toward the upstream PE,
          which will have to process them all.
</dd>
<dt>BGP-based C-multicast routing</dt>
<dd>When BGP-based procedures are used for C-multicast
          routing, if no BGP route reflector is used, the "did the last
          receiver leave?" question is answered like in the PIM "explicit
          tracking" approach.<br />
But, when a BGP route
          reflector is used (which is expected to be the recommended
          approach), the role of maintaining an updated list of the PE part of
          a said multicast tree is taken care of by the route reflector(s).
          Using plain BGP route selection procedures, the route reflector will
          withdraw a C-multicast Source Tree Join for a said (C-S,C-G) when
          there is no PE advertising one anymore. In this context, the "did
          the last receiver leave?" question can be said to be answered by the
          route-reflector alone.<br />
Furthermore, the BGP
          route distribution can leverage more than one route reflector : if a
          hierarchy of route reflectors is used, the "did the last receiver
          leave?" question is partly answered by each route reflector in the
          hierarchy.
</dd>
</dl></blockquote>

<p>We can see that answering the "last receiver leaves" question is a
      significant proportion of the work that the C-multicast routing building
      block has to make, and where approaches differ most. The different
      approaches for handling C-multicast routing can result in a different
      amount of processing and how this processing is spread among the
      different functions. These differences can be better estimated by
      quantifying the amount of message processing and state maintenance.
</p>
<p>Though the type of processing, messages and states, may vary with the
      different approaches, we propose here a rough estimation of the load of
      PEs, in terms of number of messages processed and number of control
      plane states maintained : a "message processed" being a message being
      parsed, a lookup being done, and some action being taken (such has
      updating a control plane or data plane state), and a "state maintained"
      being a multicast state kept in the control plane memory of a PE,
      related to a interface or a PE being subscribed to a multicast stream
      (we don't compare the data plane states on PE routers, which wouldn't
      vary between the different options chosen).
</p>
<p>The following subsections do such an estimation for each proposed
      approach for C-multicast routing, for different phases of the following
      scenario:
</p>
<p></p>
<ul class="text">
<li>one SSM multicast stream is considered - scalability
          extrapolation to more than one stream is linear
</li>
<li>only the intra-AS case is concerned (with the segmented inter-AS
          trees and BGP-based C-multicast routing, #mvpn_PES and #joined_PEs
          should refer to the PEs of the mVPN in the AS, not to all PEs of the
          mVPN)
</li>
<li>the scenario is as follows:
<ul class="text">
<li>one PE Joins the multicast stream (because of a new
              receiver-connected site has sent a Join on the PE-CE link),
              followed by additional PE that also join the multicast stream,
              one after the other ; we evaluate the processing required for
              the addition of each PE
</li>
<li>some period of time T passes, without any PE joining or
              leaving (baseline)
</li>
<li>all PE leaves, one after the other, until the last one leaves
              ; we evaluate the processing required for the leave of each
              PE
</li>
</ul>
</li>
<li>the parameters used are:
<ul class="text">
<li>#mVPN_PEs : the number of PEs in the mVPN
</li>
<li>#R_PEs : the number of PEs joining the multicast stream
</li>
<li>#RRs : the number of route reflectors
</li>
<li>T_PIM_r : the time between two refreshes of a PIM Join
              (default is 60s)
</li>
</ul>
</li>
</ul>

<p>The estimation unit used is the "message.equipment" or "m.e", one
      "message.equipment" being "one equipment processing one message" (10 m.e
      being "10 equipments processing each one message", or "5 messages each
      processed by 2 equipments", or "1 message processed by 10 equipment",
      etc.). Similarly for the amount of control plane state, we count in
      "state.equipment" or "s.e".
</p>
<p>We distinguish three different types of equipments : the upstream PE
      for the multicast stream, the RR (if any), and the other PEs (which are
      not the upstream PE). The estimation is a total number of
      "message.equipment", for each type of equipment.
</p>
<p>Additional precisions:
</p>
<p></p>
<ul class="text">
<li>for PIM, only Join and Prune messages are counted ; the PIM
          Hellos are not counted since these are not messages that trigger
          specific action in a typical scenario; message processing related to
          the PIM Assert mechanism is also not taken into account, because it
          is only active in transient state
</li>
<li>for BGP, only UPDATE message for mVPN route carrying C-multicast
          routing information are considered
</li>
</ul>

<a name="anchor17"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.1"></a><h3>A.1.&nbsp;
PIM LAN procedures, by default</h3>
<br /><hr class="insert" />
<table class="all" align="center" border="0" cellpadding="2" cellspacing="2">
<col align="left" width="12%"><col align="left" width="22%"><col align="left" width="22%"><col align="left" width="22%"><col align="left" width="22%">
<tr><th align="left"></th><th align="left">upstream PE (1)</th><th align="left">other PEs (#mvpn_PEs -1)</th><th align="left">RR (none)</th><th align="left">total</th></tr>
<tr>
<td align="left">first PE joins</td>
<td align="left">1 m.e</td>
<td align="left">#mVPN_PEs-1 m.e</td>
<td align="left">/</td>
<td align="left">#mVPN_PEs m.e</td>
</tr>
<tr>
<td align="left">for *each* additional PE joining</td>
<td align="left">1 m.e</td>
<td align="left">#mvpn_PEs-1 m.e</td>
<td align="left">/</td>
<td align="left">#mvpn_PEs m.e</td>
</tr>
<tr>
<td align="left">baseline processing over a period T</td>
<td align="left">T/T_PIMr m.e</td>
<td align="left">(T/T_PIMr) . (#mvpn_PEs -1) m.e</td>
<td align="left">/</td>
<td align="left">(T/T_PIMr) x #mvpn_PEs m.e</td>
</tr>
<tr>
<td align="left">for *each* PE leaving</td>
<td align="left">2 m.e</td>
<td align="left">2(#mvpn_PEs-1) m.e</td>
<td align="left">/</td>
<td align="left">2 x #mvpn_PEs m.e</td>
</tr>
<tr>
<td align="left">the last PE leaves</td>
<td align="left">1 m.e</td>
<td align="left">#mvpn_PEs-1 m.e</td>
<td align="left">/</td>
<td align="left">#mvpn_PEs m.e</td>
</tr>
<tr>
<td align="left">total for #R_PEs PEs</td>
<td align="left">#R_PEs x 2 + T/T_PIMr m.e</td>
<td align="left">(#mvpn_PEs-1) x (#R_PEs) x 2 + T/T_PIMr) . (#mvpn_PEs -1) m.e</td>
<td align="left">0</td>
<td align="left">#mvpn_PEs x ( 3 x #joined_PEs + T/T_PIMr ) m.e</td>
</tr>
<tr>
<td align="left">total state maintained</td>
<td align="left">1 s.e</td>
<td align="left">#joined_PE s.e</td>
<td align="left">0</td>
<td align="left">#R_PEs+1 s.e</td>
</tr>
</table>
<br clear="all" />
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Amount of messages processed for one multicast tree of one VPN - PIM LAN procedures, by default&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>We suppose here that the Join suppression and PIM Override
        mechanisms are fully effective, ie. that a Join sent by a PE is
        instantly seen by other PEs. Strictly speaking, this is not true, and
        depending on network delays and timing, there could be cases where
        more messages are exchanged.
</p>
<a name="anchor18"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.2"></a><h3>A.2.&nbsp;
PIM LAN procedures, with explicit tracking</h3>
<br /><hr class="insert" />
<table class="all" align="center" border="0" cellpadding="2" cellspacing="2">
<col align="left"><col align="left"><col align="left"><col align="left"><col align="left">
<tr><th align="left"></th><th align="left">upstream PE (1)</th><th align="left">other PEs (#mvpn_PEs -1)</th><th align="left">RRs (none)</th><th align="left">total</th></tr>
<tr>
<td align="left">first PE joins</td>
<td align="left">1 m.e</td>
<td align="left">1 m.e (see note below)</td>
<td align="left">/</td>
<td align="left">2 m.e</td>
</tr>
<tr>
<td align="left">for *each* additional PE joining</td>
<td align="left">1 m.e</td>
<td align="left">1 m.e (see note below)</td>
<td align="left">/</td>
<td align="left">2 m.e</td>
</tr>
<tr>
<td align="left">baseline processing over a period T</td>
<td align="left">(T/T_PIM) m.e x #R_PEs m.e</td>
<td align="left">(T/T_PIMr) m.e (see note below)</td>
<td align="left">/</td>
<td align="left">(T/T_PIMres) x #R_PEs m.e</td>
</tr>
<tr>
<td align="left">for *each* PE leaving</td>
<td align="left">1 m.e</td>
<td align="left">1 m.e (see note below)</td>
<td align="left">/</td>
<td align="left">2 m.e</td>
</tr>
<tr>
<td align="left">the last PE leaves</td>
<td align="left">1 m.e</td>
<td align="left">1 m.e (see note below)</td>
<td align="left">/</td>
<td align="left">2 m.e</td>
</tr>
<tr>
<td align="left">total for #R_PEs PEs</td>
<td align="left">#R_PEs (2 + T/T_PIMr) m.e</td>
<td align="left">#R_PEs x ( 2 + T/T_PIMr) m.e</td>
<td align="left">0</td>
<td align="left">#R_PEs x ( 4 + T/T_PIMr) m.e</td>
</tr>
<tr>
<td align="left">total state maintained</td>
<td align="left">#R_PEs s.e</td>
<td align="left">#R_PEs s.e</td>
<td align="left">0</td>
<td align="left">2 x #R_PEs s.e</td>
</tr>
</table>
<br clear="all" />
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Amount of messages processed for one multicast tree of one VPN - PIM LAN procedures, with explicit tracking&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>Note: in this explicit tracking mode, a said Join or Leave message
        requires processing only by the upstream PE and the PE sending the
        message ; indeed, other PEs don't have any action to take ; it is to
        be noted though that these other PEs will still have to parse the PIM
        message, which is not non-zero processing. We make here the assumption
        that this is not significant.
</p>
<a name="anchor19"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.3"></a><h3>A.3.&nbsp;
BGP-based</h3>

<p>About RR: we suppose that a message has to be processed by r BGP
        route reflectors to go from a receiver-connected PE to the
        source-connected PE. In practice, r depends on how RR are meshed, and
        would typically be small (max 1,2,3...), and r tends quickly toward 1
        (as soon as there is a receiver-connected PEs in each RR cluster).
</p>
<p>We make the assumption that RT constraint is used, if not the
        amount of state and message processing with this approach is similar
        to the PIM with explicit tracking approach, without the Joins
        refreshes.
</p><br /><hr class="insert" />
<table class="all" align="center" border="0" cellpadding="2" cellspacing="2">
<col align="left"><col align="left"><col align="left"><col align="left"><col align="left">
<tr><th align="left"></th><th align="left">upstream PE (1)</th><th align="left">other PEs (#mvpn_PEs -1)</th><th align="left">RRs (#RRs)</th><th align="left">total</th></tr>
<tr>
<td align="left">first PE joins</td>
<td align="left">1 m.e</td>
<td align="left">1 m.e</td>
<td align="left">r m.e</td>
<td align="left">(r+2) m.e</td>
</tr>
<tr>
<td align="left">for *each* additional PE joining</td>
<td align="left">0</td>
<td align="left">1 m.e</td>
<td align="left">between 1 and r m.e</td>
<td align="left">between 2 and (r+1) m.e</td>
</tr>
<tr>
<td align="left">baseline processing over a period T</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">0</td>
</tr>
<tr>
<td align="left">for *each* PE leaving</td>
<td align="left">0</td>
<td align="left">1 m.e</td>
<td align="left">between 1 and r m.e</td>
<td align="left">between 2 and (r+1) m.e</td>
</tr>
<tr>
<td align="left">the last PE leaves</td>
<td align="left">1 m.e</td>
<td align="left">1 m.e</td>
<td align="left">r m.e</td>
<td align="left">(r+2) m.e</td>
</tr>
<tr>
<td align="left">total for #R_PEs PEs</td>
<td align="left">2 m.e</td>
<td align="left">#R_PEs x 2 m.e</td>
<td align="left">2 (r+#R_PEs) m.e</td>
<td align="left">2 (2 x #R_PEs + r + 1) m.e</td>
</tr>
<tr>
<td align="left">total state maintained</td>
<td align="left">1 s.e</td>
<td align="left">#R_PEs s.e</td>
<td align="left">approx. #R_PEs x #RRs s.e</td>
<td align="left">approx. (#R_PEs x (#RRs+1)) m.e</td>
</tr>
</table>
<br clear="all" />
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Amount of messages processed for one multicast tree of one VPN - BGP-based procedures&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>
</p>
<a name="anchor20"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.4"></a><h3>A.4.&nbsp;
Side by side orders of magnitude comparison</h3>

<p>This section concludes on the previous section by considering the
        orders of magnitude when the number of PE in a VPN increases.
</p><br /><hr class="insert" />
<table class="all" align="center" border="0" cellpadding="2" cellspacing="2">
<col align="left"><col align="left"><col align="left"><col align="left">
<tr><th align="left"></th><th align="left">PIM LAN Procedures, default</th><th align="left">PIM LAN Procedures, explicit tracking</th><th align="left">BGP-based</th></tr>
<tr>
<td align="left">first PE joins</td>
<td align="left">O(#mVPN_PEs)</td>
<td align="left">O(1)</td>
<td align="left">O(1)</td>
</tr>
<tr>
<td align="left">for *each* additional PE joining</td>
<td align="left">O(#mVPN_PEs)</td>
<td align="left">O(1)</td>
<td align="left">O(1)</td>
</tr>
<tr>
<td align="left">baseline processing over a period T</td>
<td align="left">(T/T_PIMr) x O(#mvpn_PEs)</td>
<td align="left">(T/T_PIMr) x O(#R_PEs)</td>
<td align="left">0</td>
</tr>
<tr>
<td align="left">for *each* PE leaving</td>
<td align="left">O(#mVPN_PEs)</td>
<td align="left">O(1)</td>
<td align="left">O(1)</td>
</tr>
<tr>
<td align="left">the last PE leaves</td>
<td align="left">O(#mVPN_PEs)</td>
<td align="left">O(1)</td>
<td align="left">O(1)</td>
</tr>
<tr>
<td align="left">total for #R_PEs PEs</td>
<td align="left">O(#mVPN_PEs x #R_PEs) + O(#mVPN_PEs x T/T_PIMr)</td>
<td align="left">O(#R_PEs) x (T/T_PIMr)</td>
<td align="left">O(#R_PEs)</td>
</tr>
<tr>
<td align="left">states</td>
<td align="left">O(#R_PEs)</td>
<td align="left">O(#R_PEs)</td>
<td align="left">O(#R_PEs x #RRs)</td>
</tr>
<tr>
<td align="left">notes</td>
<td align="left">(processing and state maintenance are essentially done by, and
          spread amongst, the PEs of the mvpn ; non-upstream PEs have
          processing to do)</td>
<td align="left">(processing and state maintenance is essentially done on the
          upstream PE)</td>
<td align="left">(processing and state maintenance is essentially done by, and
          spread amongst, the RRs)</td>
</tr>
</table>
<br clear="all" />
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Amount of messages processed for one multicast tree of one VPN - PIM LAN procedures, with explicit tracking&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>The conclusions that can be drawn from the above are that:
</p>
<p></p>
<ul class="text">
<li>the PIM LAN Procedures default approach is particular in that
            all PEs, including those that are neither upstream nor downstream
            for a given message have processing to do, which results in a
            total amount of messages to process which is in O(#mVPN_PEs x
            #R_PEs), i.e. O(#mVPN_PEs ^ 2) if the proportion of R_PEs is
            considered constant when the number of PEs increases
</li>
<li>the two PIM-based approach do refreshes of Join messages, this
            is a linear factor not changing the order of magnitude, but which
            can be significant for long-lived streams
</li>
<li>the BGP-based approach requires an amount of message processing
            in O(#R_PEs), lower than the two other approaches, and which is
            independent of the duration of streams
</li>
<li>state maintenance is in the same order of magnitude for all
            approaches : O(#R_PEs), but the repartition is different:
<ul class="text">
<li>the PIM LAN Procedure default approach fully spreads, and
                minimizes, the amount of state (one state per PE)
</li>
<li>the PIM LAN procedure with explicit tracking, concentrate
                all state on the upstream PE
</li>
<li>the BGP-based procedures spread all the state on the set of
                route reflectors
</li>
</ul>
</li>
</ul>

<p>This quantification of message processing is based on a use case
        where each PE with a receiver joins and leave once. Drawing
        scalability-related conclusions for other patterns or frequency of
        changes of the set of receiver-connected PEs, requires considering the
        cost of each approach for "a new PE joining" and "a (non-last) PE
        leaving". From this perspective, the "PIM LAN Procedure default
        approach" is the most costly one (processing in O(#mVPN_PEs)), whereas
        the other approaches are in O(1) ; the "PIM LAN Procedures with
        explicit tracking" reduce the processing to the minimum in that case,
        the BGP-based approach having a cost increased by a linear factor
        depending on the number of RRs that will have to parse the
        message.
</p>
<a name="anchor21"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.B"></a><h3>Appendix B.&nbsp;
Switching to S-PMSI</h3>

<p>[ the following point was fixed in -07, and is here for reference
      only ]
</p>
<p><a class='info' href='#I-D.ietf-l3vpn-2547bis-mcast'>Section 7.2.2.3 of<span> (</span><span class='info'>Rosen, E. and R. Aggarwal, &ldquo;Multicast in MPLS/BGP IP VPNs,&rdquo; October&nbsp;2006.</span><span>)</span></a> [I&#8209;D.ietf&#8209;l3vpn&#8209;2547bis&#8209;mcast]
      proposes two approaches for how a source PE can decide when to start
      transmitting customer multicast traffic on a S-PMSI:
</p>
<p></p>
<ol class="text">
<li>The source PE sends multicast packets for the &lt;C-S, C-G&gt; on
          both the I-PMSI P-multicast tree and the S-PMSI P-multicast tree
          simultaneously for a pre-configured period of time, letting the
          receiver PEs select the new tree for reception, before switching to
          only the S-PMSI.
</li>
<li>The source PE waits for a pre-configured period of time after
          advertising the &lt;C-S, C-G&gt; entry bound to the S-PMSI before
          fully switching the traffic onto the S-PMSI-bound P-multicast
          tree.
</li>
</ol><p>The first alternative has essentially two drawbacks:</p>
<ul class="text">
<li>&lt;C-S,C-G&gt; traffic is sent twice for some period of time,
          which would appear to be at odds with the motivation for switching
          to an S-PMSI in order to optimize the bandwidth used by the
          multicast tree for that stream.
</li>
<li>It is unlikely that the switchover can occur without packet loss
          or duplication if the transit delays of the I-PMSI P-multicast tree
          and the S-PMSI P-multicast tree differ.
</li>
</ul>

<p>By contrast, the second alternative has none of these drawbacks, and
      satisfy the requirement in <a class='info' href='#RFC4834'>section 5.1.3
      of<span> (</span><span class='info'>Morin, T., &ldquo;Requirements for Multicast in L3 Provider-Provisioned Virtual           Private Networks (PPVPNs),&rdquo; April&nbsp;2007.</span><span>)</span></a> [RFC4834], which states that "[...] a multicast VPN solution SHOULD as
      much as possible ensure that client multicast traffic packets are
      neither lost nor duplicated, even when changes occur in the way a client
      multicast data stream is carried over the provider network". The second
      alternative also happen to be the one used in existing deployments.
</p>
<p>For these reasons, it is the authors' recommendation to mandate the
      implementation of the second alternative for switching to S-PMSI.
</p>
<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Thomas Morin (editor)</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">France Telecom R&amp;D</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">2 rue Pierre Marzin</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Lannion  22307</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">France</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:thomas.morin@orange-ftgroup.com">thomas.morin@orange-ftgroup.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Ben Niven-Jenkins (editor)</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">BT</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">208 Callisto House, Adastral Park</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Ipswich, Suffolk  IP5 3RE</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">UK</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:benjamin.niven-jenkins@bt.com">benjamin.niven-jenkins@bt.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Yuji Kamite</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">NTT Communications
      Corporation</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Tokyo Opera City Tower</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">3-20-2 Nishi Shinjuku, Shinjuku-ku</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Tokyo  163-1421</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Japan</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:y.kamite@ntt.com">y.kamite@ntt.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Raymond Zhang</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">BT</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">2160 E. Grand Ave.</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">El Segundo  CA 90025</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:raymond.zhang@bt.com">raymond.zhang@bt.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Nicolai Leymann</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Deutsche Telekom</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Goslarer Ufer 35</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">10589 Berlin</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Germany</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:nicolai.leymann@t-systems.com">nicolai.leymann@t-systems.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Nabil Bitar</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Verizon</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">40 Sylvan Road</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Waltham, MA  02451</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:nabil.n.bitar@verizon.com">nabil.n.bitar@verizon.com</a></td></tr>
</table>
<a name="rfc.copyright"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Full Copyright Statement</h3>
<p class='copyright'>
Copyright &copy; The IETF Trust (2008).</p>
<p class='copyright'>
This document is subject to the rights,
licenses and restrictions contained in BCP&nbsp;78,
and except as set forth therein,
the authors retain all their rights.</p>
<p class='copyright'>
This document and the information contained herein are provided
on an &ldquo;AS IS&rdquo; basis and THE CONTRIBUTOR,
THE ORGANIZATION HE/SHE REPRESENTS
OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST
AND THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT
THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY
IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR
PURPOSE.</p>
<h3>Intellectual Property</h3>
<p class='copyright'>
The IETF takes no position regarding the validity or scope of any
Intellectual Property Rights or other rights that might be claimed
to pertain to the implementation or use of the technology
described in this document or the extent to which any license
under such rights might or might not be available; nor does it
represent that it has made any independent effort to identify any
such rights.
Information on the procedures with respect to
rights in RFC documents can be found in BCP&nbsp;78 and BCP&nbsp;79.</p>
<p class='copyright'>
Copies of IPR disclosures made to the IETF Secretariat and any
assurances of licenses to be made available,
or the result of an attempt made to obtain a general license or
permission for the use of such proprietary rights by implementers or
users of this specification can be obtained from the IETF on-line IPR
repository at <a href='http://www.ietf.org/ipr'>http://www.ietf.org/ipr</a>.</p>
<p class='copyright'>
The IETF invites any interested party to bring to its attention
any copyrights,
patents or patent applications,
or other
proprietary rights that may cover technology that may be required
to implement this standard.
Please address the information to the IETF at <a href='mailto:ietf-ipr@ietf.org'>ietf-ipr@ietf.org</a>.</p>
</body></html>
