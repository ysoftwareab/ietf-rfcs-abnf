<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard%20http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>Happy Eyeballs: Success with Dual-Stack Hosts</title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";3
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction">
<link href="#rfc.section.2" rel="Chapter" title="2 Notational Conventions">
<link href="#rfc.section.3" rel="Chapter" title="3 Problem Statement">
<link href="#rfc.section.3.1" rel="Chapter" title="3.1 URIs and hostnames">
<link href="#rfc.section.3.2" rel="Chapter" title="3.2 IPv6 connectivity">
<link href="#rfc.section.4" rel="Chapter" title="4 Algorithm Requirements">
<link href="#rfc.section.4.1" rel="Chapter" title="4.1 Delay IPv4">
<link href="#rfc.section.4.2" rel="Chapter" title="4.2 Stateful Behavior when IPv6 Fails">
<link href="#rfc.section.4.3" rel="Chapter" title="4.3 Reset on Network (re-)Initialization">
<link href="#rfc.section.4.4" rel="Chapter" title="4.4 Abandon Non-Winning Connections">
<link href="#rfc.section.5" rel="Chapter" title="5 Additional Considerations">
<link href="#rfc.section.5.1" rel="Chapter" title="5.1 Additional Network and Host Traffic">
<link href="#rfc.section.5.2" rel="Chapter" title="5.2 Determining Address Type">
<link href="#rfc.section.5.3" rel="Chapter" title="5.3 Debugging and Troubleshooting">
<link href="#rfc.section.5.4" rel="Chapter" title="5.4 Three or More Interfaces">
<link href="#rfc.section.5.5" rel="Chapter" title="5.5 A and AAAA Resource Records">
<link href="#rfc.section.5.6" rel="Chapter" title="5.6 A6 Resource Records">
<link href="#rfc.section.5.7" rel="Chapter" title="5.7 Connection time out">
<link href="#rfc.section.5.8" rel="Chapter" title="5.8 Interaction with Same Origin Policy">
<link href="#rfc.section.5.9" rel="Chapter" title="5.9 Happy Eyeballs in an Operating System">
<link href="#rfc.section.6" rel="Chapter" title="6 Example Algorithm">
<link href="#rfc.section.7" rel="Chapter" title="7 Security Considerations">
<link href="#rfc.section.8" rel="Chapter" title="8 Acknowledgements">
<link href="#rfc.section.9" rel="Chapter" title="9 IANA Considerations">
<link href="#rfc.references" rel="Chapter" title="10 References">
<link href="#rfc.references.1" rel="Chapter" title="10.1 Normative References">
<link href="#rfc.references.2" rel="Chapter" title="10.2 Informational References">
<link href="#rfc.appendix.Appendix%20A" rel="Chapter" title="Appendix A Changes">
<link href="#rfc.appendix.Appendix%20A.1" rel="Chapter" title="Appendix A.1 changes from -03 to -04">
<link href="#rfc.appendix.Appendix%20A.2" rel="Chapter" title="Appendix A.2 changes from -02 to -03">
<link href="#rfc.appendix.Appendix%20A.3" rel="Chapter" title="Appendix A.3 changes from -01 to -02">
<link href="#rfc.appendix.Appendix%20A.4" rel="Chapter" title="Appendix A.4 changes from -00 to -01">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content=
  "http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.539, 2011-01-02 17:13:00, XSLT vendor: SAXON 6.5.5 from Michael Kay http://saxon.sf.net/" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />
  <meta name="dct.creator" content="Doe, J." />
  <meta name="dct.identifier" content="urn:ietf:id:draft-sample-input-00" />
  <meta name="dct.issued" scheme="ISO8601" content="2010-12" />
  
  <meta name="dct.abstract" content="When the IPv4 server and path is working but the IPv6 server or IPv6 path is down, a dual-stack client application experiences significant connection delay compared to an IPv4-only client. This is undesirable because it causes the dual-stack client to have a worse user experience.  This document specifies requirements for algorithms that reduce this delay, and provides an example algorithm." />
  <meta name="description" content="When the IPv4 server and path is working but the IPv6 server or IPv6 path is down, a dual-stack client application experiences significant connection delay compared to an IPv4-only client. This is undesirable because it causes the dual-stack client to have a worse user experience.  This document specifies requirements for algorithms that reduce this delay, and provides an example algorithm." />
  <meta name="keywords" content="" />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">v6ops</td>
<td class="right">D. Wing</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right">A. Yourtchenko</td>
</tr>
<tr>
<td class="left">Intended status: Standards Track</td>
<td class="right">Cisco</td>
</tr>
<tr>
<td class="left">Expires: March 17, 2012</td>
<td class="right">September 14, 2011</td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">Happy Eyeballs: Success with Dual-Stack Hosts<br />
  <span class="filename">draft-ietf-v6ops-happy-eyeballs-04</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>When the IPv4 server and path is working but the IPv6 server or IPv6 path is down, a dual-stack client application experiences significant connection delay compared to an IPv4-only client. This is undesirable because it causes the dual-stack client to have a worse user experience.  This document specifies requirements for algorithms that reduce this delay, and provides an example algorithm.</p>
<h1 id="rfc.status"><a href="#rfc.status">Status of this Memo</a></h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet- Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on March 17, 2012.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2011 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a>
</li>
<li>2.   <a href="#rfc.section.2">Notational Conventions</a>
</li>
<li>3.   <a href="#rfc.section.3">Problem Statement</a>
</li>
<li>3.1.   <a href="#rfc.section.3.1">URIs and hostnames</a>
</li>
<li>3.2.   <a href="#rfc.section.3.2">IPv6 connectivity</a>
</li>
<li>4.   <a href="#rfc.section.4">Algorithm Requirements</a>
</li>
<li>4.1.   <a href="#rfc.section.4.1">Delay IPv4</a>
</li>
<li>4.2.   <a href="#rfc.section.4.2">Stateful Behavior when IPv6 Fails</a>
</li>
<li>4.3.   <a href="#rfc.section.4.3">Reset on Network (re-)Initialization</a>
</li>
<li>4.4.   <a href="#rfc.section.4.4">Abandon Non-Winning Connections</a>
</li>
<li>5.   <a href="#rfc.section.5">Additional Considerations</a>
</li>
<li>5.1.   <a href="#rfc.section.5.1">Additional Network and Host Traffic</a>
</li>
<li>5.2.   <a href="#rfc.section.5.2">Determining Address Type</a>
</li>
<li>5.3.   <a href="#rfc.section.5.3">Debugging and Troubleshooting</a>
</li>
<li>5.4.   <a href="#rfc.section.5.4">Three or More Interfaces</a>
</li>
<li>5.5.   <a href="#rfc.section.5.5">A and AAAA Resource Records</a>
</li>
<li>5.6.   <a href="#rfc.section.5.6">A6 Resource Records</a>
</li>
<li>5.7.   <a href="#rfc.section.5.7">Connection time out</a>
</li>
<li>5.8.   <a href="#rfc.section.5.8">Interaction with Same Origin Policy</a>
</li>
<li>5.9.   <a href="#rfc.section.5.9">Happy Eyeballs in an Operating System</a>
</li>
<li>6.   <a href="#rfc.section.6">Example Algorithm</a>
</li>
<li>7.   <a href="#rfc.section.7">Security Considerations</a>
</li>
<li>8.   <a href="#rfc.section.8">Acknowledgements</a>
</li>
<li>9.   <a href="#rfc.section.9">IANA Considerations</a>
</li>
<li>10.   <a href="#rfc.references">References</a>
</li>
<li>10.1.   <a href="#rfc.references.1">Normative References</a>
</li>
<li>10.2.   <a href="#rfc.references.2">Informational References</a>
</li>
<li>Appendix A.   <a href="#rfc.appendix.Appendix%20A">Changes</a>
</li>
<li>Appendix A.1.   <a href="#rfc.appendix.Appendix%20A.1">changes from -03 to -04</a>
</li>
<li>Appendix A.2.   <a href="#rfc.appendix.Appendix%20A.2">changes from -02 to -03</a>
</li>
<li>Appendix A.3.   <a href="#rfc.appendix.Appendix%20A.3">changes from -01 to -02</a>
</li>
<li>Appendix A.4.   <a href="#rfc.appendix.Appendix%20A.4">changes from -00 to -01</a>
</li>
<li><a href="#rfc.authors">Authors' Addresses</a>
</li>


  </ul>

  <h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> Introduction</h1>
<p id="rfc.section.1.p.1">In order to use applications over IPv6, it is necessary that users enjoy nearly identical performance as compared to IPv4. A combination of today's applications, IPv6 tunneling, IPv6 service providers, and some of today's content providers all cause the user experience to suffer (<a href="#problem_statement">Section 3</a>). For IPv6, a content provider may ensure a positive user experience by using a DNS white list of IPv6 service providers who peer directly with them (e.g., <a href="#whitelist">[whitelist]</a>). However, this does not scale well (to the number of DNS servers worldwide or the number of content providers worldwide), and does not react to intermittent network path outages.</p>
<p id="rfc.section.1.p.2">Instead, applications can improve the user experience themselves, by more aggressively making connections on IPv6 and IPv4. There are a variety of algorithms that can be envisioned. This document specifies requirements for any such algorithm, with the goals that the network and servers are not inordinately harmed with a simple doubling of traffic on IPv6 and IPv4, and the host's address preference is honored (e.g., <a href="#RFC3484">[RFC3484]</a>).</p>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> Notational Conventions</h1>
<p id="rfc.section.2.p.1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a href="#RFC2119">[RFC2119]</a>.</p>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> <a href="#problem_statement" id="problem_statement">Problem Statement</a>
</h1>
<p id="rfc.section.3.p.1">The basis of the IPv6/IPv4 selection problem was first described in 1994 in <a href="#RFC1671">[RFC1671]</a>, </p>

<ul class="empty"><li>"The dual-stack code may get two addresses back from DNS; which does it use? During the many years of transition the Internet will contain black holes. For example, somewhere on the way from IPng host A to IPng host B there will sometimes (unpredictably) be IPv4-only routers which discard IPng packets. Also, the state of the DNS does not necessarily correspond to reality. A host for which DNS claims to know an IPng address may in fact not be running IPng at a particular moment; thus an IPng packet to that host will be discarded on delivery. Knowing that a host has both IPv4 and IPng addresses gives no information about black holes. A solution to this must be proposed and it must not depend on manually maintained information. (If this is not solved, the dual stack approach is no better than the packet translation approach.)"</li></ul>
<p id="rfc.section.3.p.2">As discussed in more detail in <a href="#problem_uris">Section 3.1</a>, it is important that the same URI and hostname be used for IPv4 and IPv6. Using separate namespaces (e.g., "ipv6.example.com") causes namespace fragmentation and reduces the ability for users to share URIs and hostnames, and complicates printed material that includes the URI or hostname.</p>
<p id="rfc.section.3.p.3">As discussed in more detail in <a href="#problem_ipv6">Section 3.2</a>, IPv6 connectivity is broken to specific prefixes or specific hosts, or slower than native IPv4 connectivity.</p>
<h1 id="rfc.section.3.1">
<a href="#rfc.section.3.1">3.1.</a> <a href="#problem_uris" id="problem_uris">URIs and hostnames</a>
</h1>
<p id="rfc.section.3.1.p.1">URIs are often used between users to exchange pointers to content -- such as on social networks, email, instant messaging, or other systems. Thus, production URIs and production hostnames containing references to IPv4 or IPv6 will only function if the other party is also using an application, OS, and a network that can access the URI or the hostname.</p>
<h1 id="rfc.section.3.2">
<a href="#rfc.section.3.2">3.2.</a> <a href="#problem_ipv6" id="problem_ipv6">IPv6 connectivity</a>
</h1>
<p id="rfc.section.3.2.p.1">When IPv6 connectivity is impaired, today's IPv6-capable web browsers incur many seconds of delay before falling back to IPv4. This harms the user's experience with IPv6, which will slow the acceptance of IPv6, because IPv6 is frequently disabled in its entirety on the end systems to improve the user experience.</p>
<p id="rfc.section.3.2.p.2">Reasons for such failure include no connection to the IPv6 Internet, broken 6to4 or Teredo tunnels, and broken IPv6 peering. The following diagram shows this behavior.</p>
<div id="#rfc.figure.1"></div>
<div id="#diagram_message_flow"></div>
<pre>
   DNS Server                  Client                  Server
       |                          |                       |
 1.    |&lt;--www.example.com A?-----|                       |
 2.    |&lt;--www.example.com AAAA?--|                       |
 3.    |---192.0.2.1-------------&gt;|                       |
 4.    |---2001:db8::1-----------&gt;|                       |
 5.    |                          |                       |
 6.    |                          |--TCP SYN, IPv6---&gt;X   |
 7.    |                          |--TCP SYN, IPv6---&gt;X   |
 8.    |                          |--TCP SYN, IPv6---&gt;X   |
 9.    |                          |                       |
 10.   |                          |--TCP SYN, IPv4-------&gt;|
 11.   |                          |&lt;-TCP SYN+ACK, IPv4----|
 12.   |                          |--TCP ACK, IPv4-------&gt;|
</pre>
<p id="rfc.section.3.2.p.3">The client obtains the IPv4 and IPv6 records for the server (1-4).  The client attempts to connect using IPv6 to the server, but the IPv6 path is broken (6-8), which consumes several seconds of time.  Eventually, the client attempts to connect using IPv4 (10) which succeeds.</p>
<p id="rfc.section.3.2.p.4">Delays experienced by users of various browser and operating system combinations have been studied <a href="#Experiences">[Experiences]</a>.</p>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> Algorithm Requirements</h1>
<p id="rfc.section.4.p.1">A Happy Eyeballs algorithm has two primary goals:</p>

<ol>
<li>Provides fast connection for users, by quickly attempting to connect using IPv6 and (if that connection attempt is not quickly successful) to connect using IPv4.</li>
<li>Avoids thrashing the network, by not (always) making simultaneous connection attempts on both IPv6 and IPv4.</li>
</ol>
<p id="rfc.section.4.p.2">The basic idea is depicted in the following diagram:</p>
<div id="#rfc.figure.2"></div>
<div id="#diagram_message_flow_happy_1"></div>
<pre>
   DNS Server                  Client                  Server
       |                          |                       |
 1.    |&lt;--www.example.com A?-----|                       |
 2.    |&lt;--www.example.com AAAA?--|                       |
 3.    |---192.0.2.1-------------&gt;|                       |
 4.    |---2001:db8::1-----------&gt;|                       |
 5.    |                          |                       |
 6.    |                          |==TCP SYN, IPv6===&gt;X   |
 7.    |                          |--TCP SYN, IPv4-------&gt;|
 8.    |                          |&lt;-TCP SYN+ACK, IPv4----|
 9.    |                          |--TCP ACK, IPv4-------&gt;|
10.    |                          |==TCP SYN, IPv6===&gt;X   |
</pre>
<p id="rfc.section.4.p.3">In the diagram above, the client sends two TCP SYNs at the same time over IPv6 (6) and IPv4 (7). In the diagram, the IPv6 path is broken but has little impact to the user because there is no long delay before using IPv4. The IPv6 path is retried until the application gives up (10).</p>
<p id="rfc.section.4.p.4">After performing the above procedure, the client learns if connections to the host's IPv6 or IPv4 address were successful. The client MUST cache that information to avoid thrashing the network with excessive subsequent connection attempts. For example, in the diagram above, the client has noticed that IPv6 to that address failed, and it should provide a greater preference to using IPv4 instead.</p>
<div id="#rfc.figure.3"></div>
<div id="#diagram_message_flow_happy_2"></div>
<pre>
   DNS Server                  Client                  Server
       |                          |                       |
 1.    |&lt;--www.example.com A?-----|                       |
 2.    |&lt;--www.example.com AAAA?--|                       |
 3.    |---192.0.2.1-------------&gt;|                       |
 4.    |---2001:db8::1-----------&gt;|                       |
 5.    |                          |                       |
 6.    |                          |==TCP SYN, IPv6=======&gt;|
 7.    |                          |--TCP SYN, IPv4-------&gt;|
 8.    |                          |&lt;=TCP SYN+ACK, IPv6====|
 9.    |                          |&lt;-TCP SYN+ACK, IPv4----|
10.    |                          |==TCP ACK, IPv6=======&gt;|
11.    |                          |--TCP ACK, IPv4-------&gt;|
12.    |                          |--TCP RST, IPv4-------&gt;|
</pre>
<p id="rfc.section.4.p.5">The diagram above shows a case where both IPv6 and IPv4 are working, and IPv4 is abandoned (12).</p>
<p id="rfc.section.4.p.6">Any Happy Eyeballs algorithm will persist in products for as long as the client host is dual-stacked, which will persist as long as there are IPv4-only servers on the Internet -- the so-called "long tail". Over time, as most content is available via IPv6, the amount of IPv4 traffic will decrease. This means that the IPv4 infrastructure will, over time, be sized to accommodate that decreased (and decreasing) amount of traffic. It is critical that a Happy Eyeballs algorithm not cause a surge of unnecessary traffic on that IPv4 infrastructure. To meet that goal, compliant Happy Eyeballs algorithms must adhere to the requirements in this section.</p>
<h1 id="rfc.section.4.1">
<a href="#rfc.section.4.1">4.1.</a> Delay IPv4</h1>
<p id="rfc.section.4.1.p.1">In the near future, there will be a mix of different hosts at individual subscribers homes -- hosts that are IPv4-only, hosts that are IPv6-only (e.g., sensors), and dual-stack. This mix of hosts will exist both within a single home and between subscribers. For example an IPv4-only television or video streaming device purchased last year and moved from the living room to a bedroom. As another example, another subscriber might have hosts that are all capable of dual-stack operation.</p>
<p id="rfc.section.4.1.p.2">Due to IPv4 exhaustion, it is likely that a subscriber's hosts (both IPv4-only hosts and dual-stack hosts) will be sharing an IPv4 address with other subscribers. The dual-stack hosts have an advantage: they can utilize IPv6 or IPv4. The IPv4-only hosts have a disadvantage: they can only utilize IPv4. If all hosts (dual-stack and IPv4-only) are using IPv4, there is additional contention for the shared IPv4 address. The IPv4-only hosts cannot avoid that contention (as they can only use IPv4) while the dual-stack hosts can avoid that contention by using IPv6.</p>
<p id="rfc.section.4.1.p.3">As dual-stack hosts proliferate and content becomes available over IPv6, there will be less and less IPv4 traffic. This is true especially for dual-stack hosts that do not implement Happy Eyeballs, because those dual-stack hosts have a very strong preference to use IPv6 (with timeouts in the tens of seconds before they will attempt to use IPv4).</p>
<p id="rfc.section.4.1.p.4">When deploying IPv6, both content providers and Internet Service Providers (who supply IPv4 address sharing mechanisms such as Carrier Grade NAT (CGN)) will want to reduce their investment in IPv4 equipment -- load balancers, peering links, and address sharing devices. If a Happy Eyeballs implementation treats IPv6 and IPv4 equally by connecting to whichever address family is fastest, it will contribute to load on IPv4. This load impacts IPv4-only devices (by increasing contention of IPv4 address sharing and increasing load on IPv4 load balancers). Because of this, ISPs and content providers will find it impossible to reduce their investment in IPv4 equipment. This means that costs to migrate to IPv6 are increased, because the investment in IPv4 cannot be reduced. Furthermore, using only a metric that measures connection speed ignores the value of IPv6 over IPv4 address sharing, such as shared penalty boxes and geo-location <a href="#RFC6269">[RFC6269]</a>.</p>
<p id="rfc.section.4.1.p.5">Thus, to avoid harming IPv4-only hosts which can only utilize IPv4, implementations MUST prefer the first IP address family returned by the host's address preference policy, unless implementing a stateful algorithm described in <a href="#stateful">Section 4.2</a>. This usually means giving preferring IPv6 over IPv4, although that preference can be over-ridden by user configuration or by network configuration <a href="#I-D.ietf-6man-addr-select-opt">[I-D.ietf-6man-addr-select-opt]</a>. If the host's policy is unknown or not attainable, implementations MUST prefer IPv6 over IPv4.</p>
<h1 id="rfc.section.4.2">
<a href="#rfc.section.4.2">4.2.</a> <a href="#stateful" id="stateful">Stateful Behavior when IPv6 Fails</a>
</h1>
<p id="rfc.section.4.2.p.1">Some Happy Eyeballs algorithms are stateful -- that is, the algorithm will remember that IPv6 always fails, or that IPv6 to certain prefixes always fails, and so on. This section describes such algorithms. Stateless algorithms, which do not remember the success/failure of previous connections, are not discussed in this section.</p>
<p id="rfc.section.4.2.p.2">After making a connection attempt on the preferred address family (e.g., IPv6), and failing to establish a connection within a certain time period (see <a href="#timeout">Section 5.7</a>), a Happy Eyeballs implementation will decide to initiate a second connection attempt using the same address family or the other address family.</p>
<p id="rfc.section.4.2.p.3">Such an implementation MAY make subsequent connection attempts (to the same host or to other hosts) on the successful address family (e.g., IPv4). Such an implementation MUST occasionally make connection attempts using the host's preferred address family, as it may have become functional again, and is RECOMMENDED to do so every 10 minutes.  Implementation note: this can be achieved by attempting to connect to both address families at the same time every 10 minutes, which does not significantly harm the application's connection setup time. If connections using the preferred address family are again successful, the preferred address family SHOULD be used for subsequent connections. Because this implementation is stateful, it MAY track connection success (or failure) based on IPv6 or IPv4 prefix (e.g., connections to the same prefix assigned to the interface are successful whereas connections to other prefixes are failing).</p>
<h1 id="rfc.section.4.3">
<a href="#rfc.section.4.3">4.3.</a> <a href="#initialization" id="initialization">Reset on Network (re-)Initialization</a>
</h1>
<p id="rfc.section.4.3.p.1">Because every network has different characteristics (e.g., working or broken IPv6 or IPv4 connectivity), a Happy Eyeballs algorithm SHOULD re-initialize when the host is connected to a new network.  Hosts can determine network (re-)initialization by a variety of mechanisms (e.g., <a href="#RFC4436">DNAv4</a> <cite title="NONE">[RFC4436]</cite>, <a href="#RFC6059">DNAv6</a> <cite title="NONE">[RFC6059]</cite>).</p>
<p id="rfc.section.4.3.p.2">If the client application is a web browser, see also <a href="#section_sop">Section 5.8</a>.</p>
<h1 id="rfc.section.4.4">
<a href="#rfc.section.4.4">4.4.</a> <a href="#abandon" id="abandon">Abandon Non-Winning Connections</a>
</h1>
<p id="rfc.section.4.4.p.1">It is RECOMMENDED that the non-winning connections be abandoned, even though they could -- in some cases -- be put to reasonable use.</p>
<p></p>

<ul class="empty">
<li>Justification: This reduces the load on the server (file descriptors, TCP control blocks), stateful middleboxes (NAT and firewalls) and, if the abandoned connection is IPv4, reduces IPv4 address sharing contention.</li>
<li>HTTP: The design of some sites can break because of HTTP cookies that incorporate the client's IP address and require all connections be from the same IP address. If some connections from the same client are arriving from different IP addresses (or worse, different IP address families), such applications will break. Additionally for HTTP, using the non-winning connection can interfere with the browser's Same Origin Policy (see <a href="#section_sop">Section 5.8</a>).</li>
</ul>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> Additional Considerations</h1>
<p id="rfc.section.5.p.1">This section discusses considerations related to Happy Eyeballs.</p>
<h1 id="rfc.section.5.1">
<a href="#rfc.section.5.1">5.1.</a> Additional Network and Host Traffic</h1>
<p id="rfc.section.5.1.p.1">Additional network traffic and additional server load is created due to the recommendations in this document, especially when connections to the preferred address family (usually IPv6) are not completing quickly.</p>
<p id="rfc.section.5.1.p.2">The procedures described in this document retain a quality user experience while transitioning from IPv4-only to dual stack, while still giving IPv6 a slight preference over IPv4 (in order to remove load from IPv4 networks, most importantly to reduce the load on IPv4 network address translators). The improvement in the user experience benefits the user to only a small detriment of the network, DNS server, and server that are serving the user.</p>
<h1 id="rfc.section.5.2">
<a href="#rfc.section.5.2">5.2.</a> Determining Address Type</h1>
<p id="rfc.section.5.2.p.1">For some transitional technologies such as a dual-stack host, it is easy for the application to recognize the native IPv6 address (learned via a AAAA query) and the native IPv4 address (learned via an A query). While IPv6/IPv4 translation makes that difficult, fortunately IPv6/IPv4 translators are not deployed on networks with dual stack clients.</p>
<h1 id="rfc.section.5.3">
<a href="#rfc.section.5.3">5.3.</a> Debugging and Troubleshooting</h1>
<p id="rfc.section.5.3.p.1">This mechanism is aimed at ensuring a reliable user experience regardless of connectivity problems affecting any single transport.  However, this naturally means that applications employing these techniques are by default less useful for diagnosing issues with a particular address family. To assist in that regard, the implementations MAY also provide a mechanism to disable their Happy Eyeballs behavior via a user setting.</p>
<h1 id="rfc.section.5.4">
<a href="#rfc.section.5.4">5.4.</a> Three or More Interfaces</h1>
<p id="rfc.section.5.4.p.1">A dual-stack host might have more than two interfaces because of a VPN (where a third interface is the tunnel address, often assigned by the remote corporate network), because of multiple physical interfaces such as wired and wireless Ethernet, because the host belongs to multiple VLANs, or other reasons.  The interaction of Happy Eyeballs with more than two interfaces is for further study.</p>
<h1 id="rfc.section.5.5">
<a href="#rfc.section.5.5">5.5.</a> A and AAAA Resource Records</h1>
<p id="rfc.section.5.5.p.1">It is possible that an DNS query for an A or AAAA resource record will return more than one A or AAAA address. When this occurs, it is RECOMMENDED that a Happy Eyeballs implementation order the responses following the host's address preference policy and then try the first address. If that fails after a certain time (see <a href="#timeout">Section 5.7</a>), the next address SHOULD be the IPv4 address.</p>
<p id="rfc.section.5.5.p.2">If that fails to connect after a certain time (see <a href="#timeout">Section 5.7</a>), a Happy Eyeballs implementation SHOULD try the other addresses returned; the order of these connection attempts is not important.</p>
<h1 id="rfc.section.5.6">
<a href="#rfc.section.5.6">5.6.</a> A6 Resource Records</h1>
<p id="rfc.section.5.6.p.1">The A6 resource record SHOULD NOT be queried <a href="#RFC3363">[RFC3363]</a>.</p>
<h1 id="rfc.section.5.7">
<a href="#rfc.section.5.7">5.7.</a> <a href="#timeout" id="timeout">Connection time out</a>
</h1>
<p id="rfc.section.5.7.p.1">The primary purpose of Happy Eyeballs is to reduce the wait time for a dual stack connection to complete, especially when the IPv6 path is broken and IPv6 is preferred. Aggressive time outs (on the order of tens of milliseconds) achieve this goal, but at the cost of network traffic. This network traffic may be billable on certain networks, will create state on some middleboxes (e.g., firewalls, IDS, NAT), and will consume ports if IPv4 addresses are shared. For these reasons, it is RECOMMENDED that connection attempts be paced to give connections a chance to complete. It is RECOMMENDED that connections attempts be paced 150-250ms apart. Stateful algorithms are expected to be more aggressive (that is, make connection attempts closer together), as stateful algorithms maintain an estimate of the expected connection completion time.</p>
<h1 id="rfc.section.5.8">
<a href="#rfc.section.5.8">5.8.</a> <a href="#section_sop" id="section_sop">Interaction with Same Origin Policy</a>
</h1>
<p id="rfc.section.5.8.p.1">Web browsers implement same origin policy <a href="#I-D.ietf-websec-origin">[I-D.ietf-websec-origin]</a> which causes subsequent connections to the same hostname to go to the same IPv4 (or IPv6) address as the previous successful connection. This is done to prevent certain types of attacks.</p>
<p id="rfc.section.5.8.p.2">The same-origin policy harms user-visible responsiveness if a new connection fails (e.g., due to a transient event such as router failure or load balancer failure). While it is tempting to use Happy Eyeballs to maintain responsiveness, web browsers MUST NOT change their same origin policy because of Happy Eyeballs, as that would create an additional security exposure. </p>
<h1 id="rfc.section.5.9">
<a href="#rfc.section.5.9">5.9.</a> Happy Eyeballs in an Operating System</h1>
<p id="rfc.section.5.9.p.1">Applications would have to change in order to use the mechanism described in this document, by either implementing the mechanism directly, or by calling APIs made available to them. To improve IPv6 connectivity experience for legacy applications (e.g., applications which simply rely on the operating system's address preference order), operating systems may consider more sophisticated approaches. These can include changing address sorting based on configuration received from the network, or observing connection failures to IPv6 and IPV4 destinations.</p>
<h1 id="rfc.section.6">
<a href="#rfc.section.6">6.</a> Example Algorithm</h1>
<p id="rfc.section.6.p.1">What follows is the algorithm implemented in Google Chrome and Mozilla Firefox.</p>
<p></p>

<ol>
<li>Call getaddinfo(), which returns a list of IP addresses sorted by the host's address preference policy.</li>
<li>Initiate a connection attempt with the first address in that list (e.g., IPv6).</li>
<li>If that connection does not complete within a short period of time (e.g., 200-300ms), initiate a connection attempt with the first address belonging to the other address family (e.g., IPv4)</li>
<li>The first connection that is established is used. The other connection is discarded.</li>
</ol>
<p id="rfc.section.6.p.3">Other example algorithms include <a href="#Perreault">[Perreault]</a> and <a href="#Andrews">[Andrews]</a>.</p>
<h1 id="rfc.section.7">
<a href="#rfc.section.7">7.</a> <a href="#security_considerations" id="security_considerations">Security Considerations</a>
</h1>
<p id="rfc.section.7.p.1">See <a href="#abandon">Section 4.4</a> and <a href="#section_sop">Section 5.8</a>.</p>
<h1 id="rfc.section.8">
<a href="#rfc.section.8">8.</a> Acknowledgements</h1>
<p id="rfc.section.8.p.1">The mechanism described in this paper was inspired by Stuart Cheshire's discussion at the IAB Plenary at IETF72, the author's understanding of Safari's operation with SRV records, Interactive Connectivity Establishment (<a href="#RFC5245">ICE</a> <cite title="NONE">[RFC5245]</cite>), the current IPv4/IPv6 behavior of SMTP mail transfer agents, and the implementation of Happy Eyeballs in Google Chrome and Mozilla Firefox.</p>
<p id="rfc.section.8.p.2">Thanks to Fred Baker, Jeff Kinzli, Christian Kuhtz, and Iljitsch van Beijnum for fostering the creation of this document.</p>
<p id="rfc.section.8.p.3">Thanks to Scott Brim, Rick Jones, Stig Venaas, Erik Kline, Bjoern Zeeb, Matt Miller, Dave Thaler, Dmitry Anipko, and Brian Carpenter for their feedback.</p>
<p id="rfc.section.8.p.4">Thanks to Javier Ubillos, Simon Perreault and Mark Andrews for the active feedback and the experimental work on the independent practical implementations that they created.</p>
<p id="rfc.section.8.p.5">Also the authors would like to thank the following individuals who participated in various email discussions on this topic: Mohacsi Janos, Pekka Savola, Ted Lemon, Carlos Martinez-Cagnazzo, Simon Perreault, Jack Bates, Jeroen Massar, Fred Baker, Javier Ubillos, Teemu Savolainen, Scott Brim, Erik Kline, Cameron Byrne, Daniel Roesen, Guillaume Leclanche, Mark Smith, Gert Doering, Martin Millnert, Tim Durack, Matthew Palmer.</p>
<h1 id="rfc.section.9">
<a href="#rfc.section.9">9.</a> IANA Considerations</h1>
<p id="rfc.section.9.p.1">This document has no IANA actions.</p>
<h1 id="rfc.references">
<a href="#rfc.references">10.</a> References</h1>
<h1 id="rfc.references.1">
<a href="#rfc.references.1">10.1.</a> Normative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC2119">[RFC2119]</b></td>
<td class="top">
<a href="mailto:sob@harvard.edu" title="Harvard University">Bradner, S.</a>, "<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>", BCP 14, RFC 2119, March 1997.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3484">[RFC3484]</b></td>
<td class="top">
<a>Draves, R.</a>, "<a href="http://tools.ietf.org/html/rfc3484">Default Address Selection for Internet Protocol version 6 (IPv6)</a>", RFC 3484, February 2003.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3363">[RFC3363]</b></td>
<td class="top">
<a>Bush, R.</a>, <a>Durand, A.</a>, <a>Fink, B.</a>, <a>Gudmundsson, O.</a> and <a>T. Hain</a>, "<a href="http://tools.ietf.org/html/rfc3363">Representing Internet Protocol version 6 (IPv6) Addresses in the Domain Name System (DNS)</a>", RFC 3363, August 2002.</td>
</tr>
</tbody></table>
<h1 id="rfc.references.2">
<a href="#rfc.references.2">10.2.</a> Informational References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC1671">[RFC1671]</b></td>
<td class="top">
<a href="mailto:brian@dxcoms.cern.ch" title="CERN, Communications Systems, Computing and Networks Division">Carpenter, B.</a>, "<a href="http://tools.ietf.org/html/rfc1671">IPng White Paper on Transition and Other Considerations</a>", RFC 1671, August 1994.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5245">[RFC5245]</b></td>
<td class="top">
<a>Rosenberg, J.</a>, "<a href="http://tools.ietf.org/html/rfc5245">Interactive Connectivity Establishment (ICE): A Protocol for Network Address Translator (NAT) Traversal for Offer/Answer Protocols</a>", RFC 5245, April 2010.</td>
</tr>
<tr>
<td class="reference"><b id="RFC6059">[RFC6059]</b></td>
<td class="top">
<a>Krishnan, S.</a> and <a>G. Daley</a>, "<a href="http://tools.ietf.org/html/rfc6059">Simple Procedures for Detecting Network Attachment in IPv6</a>", RFC 6059, November 2010.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4436">[RFC4436]</b></td>
<td class="top">
<a>Aboba, B.</a>, <a>Carlson, J.</a> and <a>S. Cheshire</a>, "<a href="http://tools.ietf.org/html/rfc4436">Detecting Network Attachment in IPv4 (DNAv4)</a>", RFC 4436, March 2006.</td>
</tr>
<tr>
<td class="reference"><b id="RFC6269">[RFC6269]</b></td>
<td class="top">
<a>Ford, M.</a>, <a>Boucadair, M.</a>, <a>Durand, A.</a>, <a>Levis, P.</a> and <a>P. Roberts</a>, "<a href="http://tools.ietf.org/html/rfc6269">Issues with IP Address Sharing</a>", RFC 6269, June 2011.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.ietf-6man-addr-select-opt">[I-D.ietf-6man-addr-select-opt]</b></td>
<td class="top">
<a>Matsumoto, A</a>, <a>Fujisaki, T</a>, <a>Kato, J</a> and <a>T Chown</a>, "<a href="http://tools.ietf.org/html/draft-ietf-6man-addr-select-opt-01">Distributing Address Selection Policy using DHCPv6</a>", Internet-Draft draft-ietf-6man-addr-select-opt-01, June 2011.</td>
</tr>
<tr>
<td class="reference"><b id="whitelist">[whitelist]</b></td>
<td class="top">
<a>Google, </a>, "<a>Google IPv6 DNS Whitelist</a>", January 2009.</td>
</tr>
<tr>
<td class="reference"><b id="Perreault">[Perreault]</b></td>
<td class="top">
<a title="Viagenie">Perreault, S</a>, "<a>Happy Eyeballs in Erlang</a>", February 2011.</td>
</tr>
<tr>
<td class="reference"><b id="Andrews">[Andrews]</b></td>
<td class="top">
<a title="ISC">Andrews, M</a>, "<a>How to connect to a multi-homed server over TCP</a>", January 2011.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.ietf-websec-origin">[I-D.ietf-websec-origin]</b></td>
<td class="top">
<a>Barth, A</a>, "<a href="http://tools.ietf.org/html/draft-ietf-websec-origin-06">The Web Origin Concept</a>", Internet-Draft draft-ietf-websec-origin-06, October 2011.</td>
</tr>
<tr>
<td class="reference"><b id="Experiences">[Experiences]</b></td>
<td class="top">
<a>Savolainen, T.</a>, <a>Miettinen, N.</a>, <a>Veikkolainen, S.</a>, <a>Chown, T.</a> and <a>J. Morse</a>, "<a>Experiences of host behavior in broken IPv6 networks</a>", March 2011.</td>
</tr>
</tbody></table>
<h1 id="rfc.appendix.Appendix A">
<a href="#rfc.appendix.Appendix%20A">Appendix A.</a> Changes</h1>
<h1 id="rfc.appendix.Appendix A.1">
<a href="#rfc.appendix.Appendix%20A.1">Appendix A.1.</a> changes from -03 to -04</h1>
<p></p>

<ul>
<li>Better explained why IPv6 needs to be preferred</li>
<li>Don't query A6.</li>
</ul>
<h1 id="rfc.appendix.Appendix A.2">
<a href="#rfc.appendix.Appendix%20A.2">Appendix A.2.</a> changes from -02 to -03</h1>
<p></p>

<ul><li>Re-casted this specification as a list of requirements for a compliant algorithm, rather than trying to dictate a One True algorithm.</li></ul>
<h1 id="rfc.appendix.Appendix A.3">
<a href="#rfc.appendix.Appendix%20A.3">Appendix A.3.</a> changes from -01 to -02</h1>
<p></p>

<ul>
<li>Now honors host's address preference (RFC3484 and friends)</li>
<li>No longer requires thread-safe DNS library. It uses getaddrinfo()</li>
<li>No longer describes threading.</li>
<li>IPv6 is given a 200ms head start (Initial Headstart variable).</li>
<li>If the IPv6 and IPv4 connection attempts were made at nearly the same time, wait Tolerance Interval milliseconds for both to complete before deciding which one wins.</li>
<li>Renamed "global P" to "Smoothed P", and better described how it is calculated.</li>
<li>introduced the exception cache. This contains the set of networks that only work with IPv4 (or only with IPv6), so that subsequent connection attempts use that address family without them causing serious affect to Smoothed P.</li>
<li>encourages that every 10 minutes the exception cache and Smoothed P be reset. This allows IPv6 to be attempted again, so we don't get 'stuck' on IPv4.</li>
<li>If we didn't get both A and AAAA, abandon all Happy Eyeballs processing (thanks to Simon Perreault).</li>
<li>added discussion of Same Origin Policy</li>
<li>Removed discussion of NAT-PT and address learning; those are only used with IPv6-only hosts whereas this document is about dual-stack hosts contacting dual-stack servers.</li>
</ul>
<h1 id="rfc.appendix.Appendix A.4">
<a href="#rfc.appendix.Appendix%20A.4">Appendix A.4.</a> changes from -00 to -01</h1>
<p></p>

<ul><li>added SRV section (thanks to Matt Miller)</li></ul>
<h1 id="rfc.authors"><a href="#rfc.authors">Authors' Addresses</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Dan Wing</span> 
	  <span class="n hidden">
		<span class="family-name">Wing</span>
	  </span>
	</span>
	<span class="org vcardline">Cisco Systems, Inc.</span>
	<span class="adr">
	  <span>170 West Tasman Drive</span>

	  <span class="vcardline">
		<span class="locality">San Jose</span>,  
		<span class="region">CA</span> 
		<span class="code">95134</span>
	  </span>
	  <span class="country-name vcardline">USA</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:dwing@cisco.com">dwing@cisco.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Andrew Yourtchenko</span> 
	  <span class="n hidden">
		<span class="family-name">Yourtchenko</span>
	  </span>
	</span>
	<span class="org vcardline">Cisco Systems, Inc.</span>
	<span class="adr">
	  <span>De Kleetlaan, 7</span>

	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region">Diegem</span> 
		<span class="code">B-1831</span>
	  </span>
	  <span class="country-name vcardline">Belgium</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:ayourtch@cisco.com">ayourtch@cisco.com</a></span>

  </address>
</div>

</body>
</html>