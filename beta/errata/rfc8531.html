<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    <head profile="http://dublincore.org/documents/2008/08/04/dc-html/">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="robots" content="index,follow" />

        <link rel="icon" href="./css/images/rfc.png" type="image/png" />
        <link rel="shortcut icon" href="./css/images/rfc.png" type="image/png" />
        <title>rfc8531</title>
    
        <link rel="stylesheet" type="text/css" href="./css/errata-base.css"/>
        <link rel="stylesheet" type="text/css" href="./css/errata-color.css" title="Default: Basic Colors"/>
        <link rel="alternative stylesheet" type="text/css" href="./css/errata-monochrome.css" title="Monochrome"/>
        <link rel="alternative stylesheet" type="text/css" href="./css/errata-printer.css" title="Printer"/>

        <script src="./css/errata.js"></script>
    </head>
    <body>
        <div class='Verified-headnote-styling'>
<span style="font-weight: bold;">This is a purely informative rendering of an RFC that includes verified errata.  This rendering may not be used as a reference.</span>
<br/>
<br/>
The following 'Verified' errata have been incorporated in this document:
 <a href='#btn_5719'>EID 5719</a>
</div>

        <pre>
Internet Engineering Task Force (IETF)                          D. Kumar
Request for Comments: 8531                                         Cisco
Category: Standards Track                                          Q. Wu
ISSN: 2070-1721                                                  M. Wang
                                                                  Huawei
                                                              April 2019


                      Generic YANG Data Model for
 Connection-Oriented Operations, Administration, and Maintenance (OAM)
                               Protocols

Abstract

   This document presents a base YANG data model for connection-oriented
   Operations, Administration, and Maintenance (OAM) protocols.  It
   provides a technology-independent abstraction of key OAM constructs
   for such protocols.  The model presented here can be extended to
   include technology-specific details.  This guarantees uniformity in
   the management of OAM protocols and provides support for nested OAM
   workflows (i.e., performing OAM functions at different levels through
   a unified interface).

   The YANG data model in this document conforms to the Network
   Management Datastore Architecture.

Status of This Memo

   This is an Internet Standards Track document.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Further information on
   Internet Standards is available in Section 2 of RFC 7841.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   https://www.rfc-editor.org/info/rfc8531.

Copyright Notice

   Copyright (c) 2019 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust&#x27;s Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   4
   2.  Conventions Used in This Document . . . . . . . . . . . . . .   5
     2.1.  Abbreviations . . . . . . . . . . . . . . . . . . . . . .   6
     2.2.  Terminology . . . . . . . . . . . . . . . . . . . . . . .   7
     2.3.  Tree Diagrams . . . . . . . . . . . . . . . . . . . . . .   7
   3.  Architecture of Generic YANG Data Model for Connection-
       Oriented OAM  . . . . . . . . . . . . . . . . . . . . . . . .   7
   4.  Overview of the Connection-Oriented OAM YANG Data Model . . .   8
     4.1.  Maintenance Domain (MD) Configuration . . . . . . . . . .   9
     4.2.  Maintenance Association (MA) Configuration  . . . . . . .  10
     4.3.  Maintenance End Point (MEP) Configuration . . . . . . . .  11
     4.4.  RPC Definitions . . . . . . . . . . . . . . . . . . . . .  11
     4.5.  Notifications . . . . . . . . . . . . . . . . . . . . . .  14
     4.6.  Monitor Statistics  . . . . . . . . . . . . . . . . . . .  14
     4.7.  OAM Data Hierarchy  . . . . . . . . . . . . . . . . . . .  14
   5.  OAM YANG Module . . . . . . . . . . . . . . . . . . . . . . .  19
   6.  Base Mode . . . . . . . . . . . . . . . . . . . . . . . . . .  42
     6.1.  MEP Address . . . . . . . . . . . . . . . . . . . . . . .  42
     6.2.  MEP ID for Base Mode  . . . . . . . . . . . . . . . . . .  42
     6.3.  Maintenance Association . . . . . . . . . . . . . . . . .  42
   7.  Connection-Oriented OAM YANG Data Model Applicability . . . .  43
     7.1.  Generic YANG Data Model Extension for TRILL OAM . . . . .  43
       7.1.1.  MD Configuration Extension  . . . . . . . . . . . . .  43
       7.1.2.  MA Configuration Extension  . . . . . . . . . . . . .  44
       7.1.3.  MEP Configuration Extension . . . . . . . . . . . . .  45
       7.1.4.  RPC Extension . . . . . . . . . . . . . . . . . . . .  46
     7.2.  Generic YANG Data Model Extension for MPLS-TP OAM . . . .  46
       7.2.1.  MD Configuration Extension  . . . . . . . . . . . . .  47
       7.2.2.  MA Configuration Extension  . . . . . . . . . . . . .  48
       7.2.3.  MEP Configuration Extension . . . . . . . . . . . . .  48
   8.  Security Considerations . . . . . . . . . . . . . . . . . . .  49
   9.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .  50
   10. References  . . . . . . . . . . . . . . . . . . . . . . . . .  50
     10.1.  Normative References . . . . . . . . . . . . . . . . . .  50
     10.2.  Informative References . . . . . . . . . . . . . . . . .  51
   Acknowledgments . . . . . . . . . . . . . . . . . . . . . . . . .  53
   Contributors  . . . . . . . . . . . . . . . . . . . . . . . . . .  53
   Authors&#x27; Addresses  . . . . . . . . . . . . . . . . . . . . . . .  54

1.  Introduction

   Operations, Administration, and Maintenance (OAM) are important
   networking functions that allow operators to:

   1.  monitor network communications (i.e., reachability verification
       and Continuity Check)

   2.  troubleshoot failures (i.e., fault verification and localization)

   3.  monitor service-level agreements and performance (i.e.,
       performance management)

   An overview of OAM tools is presented in [RFC7276].  Over the years,
   many technologies have developed similar tools for fault and
   performance management.

   The different sets of OAM tools may support both connection-oriented
   technologies or connectionless technologies.  In connection-oriented
   technologies, a connection is established prior to the transmission
   of data.  After the connection is established, no additional control
   information such as signaling or operations and maintenance
   information is required to transmit the actual user data.  In
   connectionless technologies, data is typically sent between
   communicating endpoints without prior arrangement, but control
   information is required to identify the destination (e.g., [G.800]).
   The YANG data model for OAM protocols using connectionless
   communications is specified in [RFC8532] and [IEEE802.1Q].

   Connectivity Fault Management as specified in [IEEE802.1Q] is a well-
   established OAM standard that is widely adopted for Ethernet
   networks.  ITU-T [G.8013], MEF Forum (MEF) Service OAM [MEF-17], MPLS
   Transport Profile (MPLS-TP) [RFC6371], and Transparent
   Interconnection of Lots of Links (TRILL) [RFC7455] all define OAM
   mechanisms based on the manageability framework of Connectivity Fault
   Management (CFM) [IEEE802.1Q].

   Given the wide adoption of the underlying OAM concepts defined in CFM
   [IEEE802.1Q], it is a reasonable choice to develop the unified
   management framework for connection-oriented OAM based on those
   concepts.  In this document, we take the CFM [IEEE802.1Q] model and
   extend it to a technology-independent framework and define the
   corresponding YANG data model accordingly.  The YANG data model
   presented in this document is the base model for connection-oriented
   OAM protocols and supports generic continuity check, connectivity
   verification, and path discovery (traceroute).  The generic YANG data
   model for connection-oriented OAM is designed to be extensible to
   other connection-oriented technologies.  Technology-dependent nodes

   and remote procedure call (RPC) commands are defined in technology-
   specific YANG data models, which use and extend the base model
   defined here.  As an example, Virtual eXtensible Local Area Network
   (VXLAN) uses the source UDP port number for flow entropy, while TRILL
   uses either (a) MAC addresses, (b) the VLAN tag or Fine-Grained
   Label, and/or (c) IP addresses for flow entropy in the hashing for
   multipath selection.  To capture this variation, corresponding YANG
   data models would define the applicable structures as augmentation to
   the generic base model presented here.  This accomplishes three
   goals: First, it keeps each YANG data model smaller and more
   manageable.  Second, it allows independent development of
   corresponding YANG data models.  Third, implementations can limit
   support to only the applicable set of YANG data models (e.g., TRILL
   RBridge may only need to implement the generic model and the TRILL
   YANG data model).

   The YANG data model presented in this document is generated at the
   management layer.  Encapsulations and state machines may differ
   according to each OAM protocol.  A user who wishes to issue a
   Continuity Check command or a Loopback or initiate a performance
   monitoring session can do so in the same manner, regardless of the
   underlying protocol or technology or specific vendor implementation.

   As an example, consider a scenario where connectivity from device A
   loopback to device B fails.  Between device A and B there are IEEE
   802.1 bridges a, b, and c.  Let&#x27;s assume a, b, and c are using CFM
   [IEEE802.1Q].  A user, upon detecting the loopback failure, may
   decide to drill down to the lower level at different segments of the
   path and issue the corresponding fault verification (Loopback
   Message) and fault isolation (Looktrace Message) tools, using the
   same API.  This ability to drill down to a lower layer of the
   protocol stack at a specific segment within a path for fault
   localization and troubleshooting is referred to as &quot;nested OAM
   workflow&quot;.  It is a useful concept that leads to efficient network
   troubleshooting and maintenance workflows.  The connection-oriented
   OAM YANG data model presented in this document facilitates that
   without needing changes to the underlying protocols.

   The YANG data model in this document conforms to the Network
   Management Datastore Architecture defined in [RFC8342].

2.  Conventions Used in This Document

   The key words &quot;MUST&quot;, &quot;MUST NOT&quot;, &quot;REQUIRED&quot;, &quot;SHALL&quot;, &quot;SHALL NOT&quot;,
   &quot;SHOULD&quot;, &quot;SHOULD NOT&quot;, &quot;RECOMMENDED&quot;, &quot;NOT RECOMMENDED&quot;, &quot;MAY&quot;, and
   &quot;OPTIONAL&quot; in this document are to be interpreted as described in
   BCP 14 [RFC2119] [RFC8174] when, and only when, they appear in all
   capitals, as shown here.

   Many of the terms used in this document (including those set out in
   Sections Section 2.1 and Section 2.2) are specific to the world of
   OAM.  This document does not attempt to explain the terms but does
   assume that the reader is familiar with the concepts.  For a good
   overview, read [IEEE802.1Q].  For an example of how these OAM terms
   appear in IETF work, see [RFC6371].

2.1.  Abbreviations

   CCM   - Continuity Check Message [IEEE802.1Q]

   ECMP  - Equal-Cost Multipath

   LBM   - Loopback Message [IEEE802.1Q]

   LTM   - Linktrace Message [IEEE802.1Q]

   MP    - Maintenance Point [IEEE802.1Q]

   MEP   - Maintenance End Point [RFC7174] (also known as Maintenance
         association End Point [IEEE802.1Q] and MEG End Point [RFC6371])

   MIP   - Maintenance Intermediate Point [RFC7174] (also known as
         Maintenance domain Intermediate Point [IEEE802.1Q] and MEG
         Intermediate Point [RFC6371])

   MA    - Maintenance Association [IEEE802.1Q] [RFC7174]

   MD    - Maintenance Domain [IEEE802.1Q]

   MEG   - Maintenance Entity Group [RFC6371]

   MTV   - Multi-destination Tree Verification Message

   OAM   - Operations, Administration, and Maintenance [RFC6291]

   TRILL - Transparent Interconnection of Lots of Links [RFC6325]

   CFM   - Connectivity Fault Management [RFC7174] [IEEE802.1Q]

   RPC   - Remote Procedure Call

   CC    - Continuity Check [RFC7276]

   CV    - Connectivity Verification [RFC7276]

2.2.  Terminology

   Continuity Checks  - Continuity Checks are used to verify that a
      destination is reachable and therefore also are referred to as
      &quot;reachability verification&quot;.

   Connectivity Verification  - Connectivity Verification is used to
      verify that a destination is connected.  It is also referred to as
      &quot;path verification&quot; and used to verify not only that the two MPs
      are connected, but also that they are connected through the
      expected path, allowing detection of unexpected topology changes.

   Proactive OAM  - Proactive OAM refers to OAM actions that are carried
      out continuously to permit proactive reporting of fault.  A
      proactive OAM method requires persistent configuration.

   On-demand OAM  - On-demand OAM refers to OAM actions that are
      initiated via manual intervention for a limited time to carry out
      diagnostics.  An on-demand OAM method requires only transient
      configuration.

2.3.  Tree Diagrams

   Tree diagrams used in this document follow the notation defined in
   [RFC8340].

3.  Architecture of Generic YANG Data Model for Connection-Oriented OAM

   In this document, we define a generic YANG data model for connection-
   oriented OAM protocols.  The YANG data model defined here is generic
   in a sense that other technologies can extend it for technology-
   specific needs.  The generic YANG data model for connection-oriented
   OAM acts as the root for other OAM YANG data models.  This allows
   users to traverse between different OAM protocols with ease through a
   uniform API set.  This also enables a nested OAM workflow.  Figure 1
   depicts the relationship of different OAM YANG data models to the
   Generic YANG Data Model for connection-oriented OAM.  The Generic
   YANG data model for connection-oriented OAM provides a framework
   where technology-specific YANG data models can inherit constructs
   from the base YANG data models without needing to redefine them
   within the sub-technology.

                            +-----------+
                            |Connection-|
                            | Oriented  |
                            |  generic  |
                            | OAM YANG  |
                            +-+-+-+-+-+-+
                                 |
                                 |
                                 |
         +------------------------------------------+
         |                       |                  |
     +-+-+-+-+-+          +-+-+-+-+-+          +-+-+-+-+-+
     | TRILL   |          | MPLS-TP |     . . .|  foo    |
     |OAM YANG |          |OAM YANG |          |OAM YANG |
     +-+-+-+-+-+          +-+-+-+-+-+          +-+-+-+-+-+
           |                    |                  |
           |                    |              +-+-+-+-+-+
           |                    |         . . .|  foo    |
           |                    |              |sub tech |
           |                    |              +-+-+-+-+-+
           |                    |                  |
           |                    |                  |
    +-------------------------------------------------------+
    |                      Uniform API                      |
    +-------------------------------------------------------+

   Figure 1: Relationship of OAM YANG Data Model to Generic (Base) YANG
                                Data Model

4.  Overview of the Connection-Oriented OAM YANG Data Model

   In this document, we adopt the concepts of the CFM [IEEE802.1Q] model
   and structure such that it can be adapted to different connection-
   oriented OAM protocols.

   At the top of the model is the Maintenance Domain.  Each Maintenance
   Domain is associated with a Maintenance Name and a Domain Level.

   Under each Maintenance Domain, there is one or more Maintenance
   Associations (MAs).  In TRILL, the MA can correspond to a Fine-
   Grained Label.

   Under each MA, there can be two or more MEPs (Maintenance End
   Points).  MEPs are addressed by their respective technology-specific
   address identifiers.  The YANG data model presented here provides
   flexibility to accommodate different addressing schemes.

   Commands are presented in the management protocol, which is
   orthogonal to the Maintenance Domain.  These are RPC commands, in
   YANG terms.  They provide uniform APIs for Continuity Check,
   connectivity verification, path discovery (traceroute), and their
   equivalents, as well as other OAM commands.

   The OAM entities in the generic YANG data model defined here will be
   either explicitly or implicitly configured using any of the OAM
   tools.  The OAM tools used here are limited to the OAM toolset
   specified in Section 5.1 of [RFC7276].  In order to facilitate a
   zero-touch experience, this document defines a default mode of OAM.
   The default mode of OAM is referred to as the &quot;Base Mode&quot; and
   specifies default values for each of the model&#x27;s parameters, such as
   Maintenance Domain Level, Name of the Maintenance Association,
   Addresses of MEPs, and so on.  The default values of these depend on
   the technology.  Base Mode for TRILL is defined in [RFC7455].  Base
   Mode for other technologies and future extensions developed in IETF
   will be defined in their corresponding documents.

   It is important to note that no specific enhancements are needed in
   the YANG data model to support Base Mode.  Implementations that
   comply with this document use, by default, the data nodes of the
   applicable technology.  Data nodes of the Base Mode are read-only
   nodes.

4.1.  Maintenance Domain (MD) Configuration

   The container &quot;domains&quot; is the top-level container within the
   &quot;gen-oam&quot; module.  Within the container &quot;domains&quot;, a separate list is
   maintained per MD.  The MD list uses the key &quot;md-name-string&quot; for
   indexing.  The &quot;md-name-string&quot; is a leaf and derived from type
   string.  Additional name formats as defined in [IEEE802.1Q], or other
   standards, can be included by association of the &quot;md-name-format&quot;
   with an identity-ref.  The &quot;md-name-format&quot; indicates the format of
   the augmented &quot;md-name&quot;.  The &quot;md-name&quot; is presented as choice/case
   construct.  Thus, it is easily augmentable by derivative work.

       module: ietf-connection-oriented-oam
       +--rw domains
          +--rw domain* [technology md-name-string]
             +--rw technology        identityref
             +--rw md-name-string    md-name-string
             +--rw md-name-format?   identityref
             +--rw (md-name)?
             |  +--:(md-name-null)
             |     +--rw md-name-null? empty
             +--rw md-level?           md-level

             Snippet of Data Hierarchy Related to OAM Domains

4.2.  Maintenance Association (MA) Configuration

   Within a given Maintenance Domain, there can be one or more
   Maintenance Associations (MAs).  MAs are represented as a list and
   indexed by the &quot;ma-name-string&quot;.  Similar to &quot;md-name&quot; defined
   previously, additional name formats can be added by augmenting the
   name-format &quot;identity-ref&quot; and adding applicable case statements to
   &quot;ma-name&quot;.

      module: ietf-connection-oriented-oam
       +--rw domains
          +--rw domain* [technology md-name-string]
             .
             .
             +--rw mas
                +--rw ma* [ma-name-string]
                   +--rw ma-name-string          ma-name-string
                   +--rw ma-name-format?         identityref
                   +--rw (ma-name)?
                   |  +--:(ma-name-null)
                   |     +--rw ma-name-null?     empty

    Snippet of Data Hierarchy Related to Maintenance Associations (MAs)

4.3.  Maintenance End Point (MEP) Configuration

   Within a given Maintenance Association (MA), there can be one or more
   Maintenance End Points (MEPs).  MEPs are represented as a list within
   the data hierarchy and indexed by the key &quot;mep-name&quot;.

      module: ietf-connection-oriented-oam
       +--rw domains
          +--rw domain* [technology md-name-string]
             +--rw technology                  identityref
             .
             .
             +--rw mas
                +--rw ma* [ma-name-string]
                   .
                   .
                   +--rw mep* [mep-name]
                   |  +--rw mep-name         mep-name
                   |  +--rw (mep-id)?
                   |  |  +--:(mep-id-int)
                   |  |     +--rw mep-id-int?      int32
                   |  +--rw mep-id-format?   identityref
                   |  +--rw (mep-address)?
                   |  |  +--:(mac-address)
                   |  |  |  +--rw mac-address?     yang:mac-address
                   |  |  +--:(ip-address)
                   |  |     +--rw ip-address?      inet:ip-address
                     .          .
                     .          .
                     .          .

     Snippet of Data Hierarchy Related to Maintenance End Point (MEP)

4.4.  RPC Definitions

   The RPC model facilitates issuing commands to a &quot;server&quot; (in this
   case, to the device that need to execute the OAM command) and
   obtaining a response.  The RPC model defined here abstracts OAM-
   specific commands in a technology-independent manner.

   <span class="Verified-inline-styling" id='inline-5719'>   There are several RPC commands defined for the purpose of OAM.  In <button id="btn_5719" target="expand_5719" onclick='hideFunction("expand_5719")'>Expand</button>
   this section, we present a snippet of the Continuity Check command
   for illustration purposes.  Please refer to Section 4.7 for the
   complete data hierarchy and Section 5 for the YANG module.
</span id__locate=5719>
<div class="nodeCloseClass" id='expand_5719'><div class='Verified-endnote-styling' id='eid5719'>
<pre>
<b><i><a href='https://www.rfc-editor.org/errata/eid5719'>EID 5719</a> (Verified) is as follows:</i></b>

<b>Section:</b> 4.4

<b>Original Text:</b>

   There are several RPC commands defined for the purpose of OAM.  In
   this section, we present a snippet of the Continuity Check command
   for illustration purposes.  Please refer to Section 4.5 for the
   complete data hierarchy and Section 5 for the YANG module.

<b>Corrected Text:</b>

   There are several RPC commands defined for the purpose of OAM.  In
   this section, we present a snippet of the Continuity Check command
   for illustration purposes.  Please refer to Section 4.7 for the
   complete data hierarchy and Section 5 for the YANG module.
</pre>
<b>Notes:</b><br/>
Incorrect Section No.
</div>
</div>
   module: ietf-connection-oriented-oam
       +--rw domains
             +--rw domain* [technology md-name-string]
             +--rw technology        identityref
       .
       .
   rpcs:
     +---x continuity-check {continuity-check}?
     |  +---w input
     |  |  +---w technology?             identityref
     |  |  +---w md-name-string -&gt; /domains/domain/md-name-string
     |  |  +---w md-level?      -&gt; /domains/domain/md-level
     |  |  +---w ma-name-string -&gt; /domains/domain/mas/ma/ma-name-string
     |  |  +---w cos-id?                 uint8
     |  |  +---w ttl?                    uint8
     |  |  +---w sub-type?               identityref
     |  |  +---w source-mep?    -&gt; /domains/domain/mas/ma/mep/mep-name
     |  |  +---w destination-mep
     |  |  |  +---w (mep-address)?
     |  |  |  |  +--:(mac-address)
     |  |  |  |  |  +---w mac-address?     yang:mac-address
     |  |  |  |  +--:(ip-address)
     |  |  |  |     +---w ip-address?      inet:ip-address
     |  |  |  +---w (mep-id)?
     |  |  |  |  +--:(mep-id-int)
     |  |  |  |     +---w mep-id-int?      int32
     |  |  |  +---w mep-id-format?   identityref
     |  |  +---w count?                  uint32
     |  |  +---w cc-transmit-interval?   time-interval
     |  |  +---w packet-size?            uint32
     |  +--ro output
     |     +--ro (monitor-stats)?
     |        +--:(monitor-null)
     |           +--ro monitor-null?   empty
     +---x continuity-verification {connectivity-verification}?
     |  +---w input
     |  |  +---w md-name-string -&gt; /domains/domain/md-name-string
     |  |  +---w md-level?      -&gt; /domains/domain/md-level
     |  |  +---w ma-name-string -&gt; /domains/domain/mas/ma/ma-name-string
     |  |  +---w cos-id?            uint8
     |  |  +---w ttl?               uint8
     |  |  +---w sub-type?          identityref
     |  |  +---w source-mep?    -&gt; /domains/domain/mas/ma/mep/mep-name
     |  |  +---w destination-mep
     |  |  |  +---w (mep-address)?
     |  |  |  |  +--:(mac-address)
     |  |  |  |  |  +---w mac-address?     yang:mac-address
     |  |  |  |  +--:(ip-address)

     |  |  |  |     +---w ip-address?      inet:ip-address
     |  |  |  +---w (mep-id)?
     |  |  |  |  +--:(mep-id-int)
     |  |  |  |     +---w mep-id-int?      int32
     |  |  |  +---w mep-id-format?   identityref
     |  |  +---w count?             uint32
     |  |  +---w interval?          time-interval
     |  |  +---w packet-size?       uint32
     |  +--ro output
     |     +--ro (monitor-stats)?
     |        +--:(monitor-null)
     |           +--ro monitor-null?   empty
     +---x traceroute {traceroute}?
        +---w input
        |  +---w md-name-string -&gt; /domains/domain/md-name-string
        |  +---w md-level?      -&gt; /domains/domain/md-level
        |  +---w ma-name-string -&gt; /domains/domain/mas/ma/ma-name-string
        |  +---w cos-id?             uint8
        |  +---w ttl?                uint8
        |  +---w command-sub-type?   identityref
        |  +---w source-mep?    -&gt; /domains/domain/mas/ma/mep/mep-name
        |  +---w destination-mep
        |  |  +---w (mep-address)?
        |  |  |  +--:(mac-address)
        |  |  |  |  +---w mac-address?     yang:mac-address
        |  |  |  +--:(ip-address)
        |  |  |     +---w ip-address?      inet:ip-address
        |  |  +---w (mep-id)?
        |  |  |  +--:(mep-id-int)
        |  |  |     +---w mep-id-int?      int32
        |  |  +---w mep-id-format?   identityref
        |  +---w count?              uint32
        |  +---w interval?           time-interval
        +--ro output
           +--ro response* [response-index]
              +--ro response-index     uint8
              +--ro ttl?               uint8
              +--ro destination-mep
              |  +--ro (mep-address)?
              |  |  +--:(mac-address)
              |  |  |  +--ro mac-address?     yang:mac-address
              |  |  +--:(ip-address)
              |  |     +--ro ip-address?      inet:ip-address
              |  +--ro (mep-id)?
              |  |  +--:(mep-id-int)
              |  |     +--ro mep-id-int?      int32
              |  +--ro mep-id-format?   identityref
              +--ro mip {mip}?

              |  +--ro interface?     if:interface-ref
              |  +--ro (mip-address)?
              |     +--:(mac-address)
              |     |  +--ro mac-address?   yang:mac-address
              |     +--:(ip-address)
              |        +--ro ip-address?    inet:ip-address
              +--ro (monitor-stats)?
                 +--:(monitor-null)
                    +--ro monitor-null?      empty

      Snippet of Data Hierarchy Related to RPC Call Continuity-Check

4.5.  Notifications

   Notification is sent upon detecting a defect condition and upon
   clearing a defect with a Maintenance Domain Name, MA Name, defect-
   type (the currently active defects), generating-mepid, and defect-
   message to indicate more details.

4.6.  Monitor Statistics

   Grouping for monitoring statistics is to be used by technology-
   specific YANG modules that augment the generic YANG data model to
   provide statistics due to proactive OAM-like Continuity Check
   Messages -- for example, CCM transmit, CCM receive, CCM error, etc.

4.7.  OAM Data Hierarchy

   The complete data hierarchy related to the connection-oriented OAM
   YANG data model is presented below.

 module: ietf-connection-oriented-oam
     +--rw domains
        +--rw domain* [technology md-name-string]
           +--rw technology        identityref
           +--rw md-name-string    md-name-string
           +--rw md-name-format?   identityref
           +--rw (md-name)?
           |  +--:(md-name-null)
           |     +--rw md-name-null?     empty
           +--rw md-level?         md-level
           +--rw mas
              +--rw ma* [ma-name-string]
                 +--rw ma-name-string    ma-name-string
                 +--rw ma-name-format?   identityref
                 +--rw (ma-name)?
                 |  +--:(ma-name-null)
                 |     +--rw ma-name-null?     empty

                 +--rw (connectivity-context)?
                 |  +--:(context-null)
                 |     +--rw context-null?     empty
                 +--rw cos-id?           uint8
                 +--rw cc-enable?        boolean
                 +--rw mep* [mep-name]
                 |  +--rw mep-name         mep-name
                 |  +--rw (mep-id)?
                 |  |  +--:(mep-id-int)
                 |  |     +--rw mep-id-int?      int32
                 |  +--rw mep-id-format?   identityref
                 |  +--rw (mep-address)?
                 |  |  +--:(mac-address)
                 |  |  |  +--rw mac-address?     yang:mac-address
                 |  |  +--:(ip-address)
                 |  |     +--rw ip-address?      inet:ip-address
                 |  +--rw cos-id?          uint8
                 |  +--rw cc-enable?       boolean
                 |  +--rw session* [session-cookie]
                 |     +--rw session-cookie             uint32
                 |     +--rw destination-mep
                 |     |  +--rw (mep-id)?
                 |     |  |  +--:(mep-id-int)
                 |     |  |     +--rw mep-id-int?      int32
                 |     |  +--rw mep-id-format?   identityref
                 |     +--rw destination-mep-address
                 |     |  +--rw (mep-address)?
                 |     |     +--:(mac-address)
                 |     |     |  +--rw mac-address?   yang:mac-address
                 |     |     +--:(ip-address)
                 |     |        +--rw ip-address?    inet:ip-address
                 |     +--rw cos-id?                    uint8
                 +--rw mip* [name] {mip}?
                    +--rw name           string
                    +--rw interface?     if:interface-ref
                    +--rw (mip-address)?
                       +--:(mac-address)
                       |  +--rw mac-address?   yang:mac-address
                       +--:(ip-address)
                          +--rw ip-address?    inet:ip-address

   rpcs:
     +---x continuity-check {continuity-check}?
     |  +---w input
     |  |  +---w technology?             identityref
     |  |  +---w md-name-string -&gt; /domains/domain/md-name-string
     |  |  +---w md-level?      -&gt; /domains/domain/md-level
     |  |  +---w ma-name-string -&gt; /domains/domain/mas/ma/ma-name-string

     |  |  +---w cos-id?                 uint8
     |  |  +---w ttl?                    uint8
     |  |  +---w sub-type?               identityref
     |  |  +---w source-mep?    -&gt; /domains/domain/mas/ma/mep/mep-name
     |  |  +---w destination-mep
     |  |  |  +---w (mep-address)?
     |  |  |  |  +--:(mac-address)
     |  |  |  |  |  +---w mac-address?     yang:mac-address
     |  |  |  |  +--:(ip-address)
     |  |  |  |     +---w ip-address?      inet:ip-address
     |  |  |  +---w (mep-id)?
     |  |  |  |  +--:(mep-id-int)
     |  |  |  |     +---w mep-id-int?      int32
     |  |  |  +---w mep-id-format?   identityref
     |  |  +---w count?                  uint32
     |  |  +---w cc-transmit-interval?   time-interval
     |  |  +---w packet-size?            uint32
     |  +--ro output
     |     +--ro (monitor-stats)?
     |        +--:(monitor-null)
     |           +--ro monitor-null?   empty
     +---x continuity-verification {connectivity-verification}?
     |  +---w input
     |  |  +---w md-name-string -&gt; /domains/domain/md-name-string
     |  |  +---w md-level?      -&gt; /domains/domain/md-level
     |  |  +---w ma-name-string -&gt; /domains/domain/mas/ma/ma-name-string
     |  |  +---w cos-id?            uint8
     |  |  +---w ttl?               uint8
     |  |  +---w sub-type?          identityref
     |  |  +---w source-mep?    -&gt; /domains/domain/mas/ma/mep/mep-name
     |  |  +---w destination-mep
     |  |  |  +---w (mep-address)?
     |  |  |  |  +--:(mac-address)
     |  |  |  |  |  +---w mac-address?     yang:mac-address
     |  |  |  |  +--:(ip-address)
     |  |  |  |     +---w ip-address?      inet:ip-address
     |  |  |  +---w (mep-id)?
     |  |  |  |  +--:(mep-id-int)
     |  |  |  |     +---w mep-id-int?      int32
     |  |  |  +---w mep-id-format?   identityref
     |  |  +---w count?             uint32
     |  |  +---w interval?          time-interval
     |  |  +---w packet-size?       uint32
     |  +--ro output
     |     +--ro (monitor-stats)?
     |        +--:(monitor-null)
     |           +--ro monitor-null?   empty
     +---x traceroute {traceroute}?

        +---w input
        |  +---w md-name-string -&gt; /domains/domain/md-name-string
        |  +---w md-level?      -&gt; /domains/domain/md-level
        |  +---w ma-name-string -&gt; /domains/domain/mas/ma/ma-name-string
        |  +---w cos-id?             uint8
        |  +---w ttl?                uint8
        |  +---w command-sub-type?   identityref
        |  +---w source-mep?    -&gt; /domains/domain/mas/ma/mep/mep-name
        |  +---w destination-mep
        |  |  +---w (mep-address)?
        |  |  |  +--:(mac-address)
        |  |  |  |  +---w mac-address?     yang:mac-address
        |  |  |  +--:(ip-address)
        |  |  |     +---w ip-address?      inet:ip-address
        |  |  +---w (mep-id)?
        |  |  |  +--:(mep-id-int)
        |  |  |     +---w mep-id-int?      int32
        |  |  +---w mep-id-format?   identityref
        |  +---w count?              uint32
        |  +---w interval?           time-interval
        +--ro output
           +--ro response* [response-index]
              +--ro response-index     uint8
              +--ro ttl?               uint8
              +--ro destination-mep
              |  +--ro (mep-address)?
              |  |  +--:(mac-address)
              |  |  |  +--ro mac-address?     yang:mac-address
              |  |  +--:(ip-address)
              |  |     +--ro ip-address?      inet:ip-address
              |  +--ro (mep-id)?
              |  |  +--:(mep-id-int)
              |  |     +--ro mep-id-int?      int32
              |  +--ro mep-id-format?   identityref
              +--ro mip {mip}?
              |  +--ro interface?     if:interface-ref
              |  +--ro (mip-address)?
              |     +--:(mac-address)
              |     |  +--ro mac-address?   yang:mac-address
              |     +--:(ip-address)
              |        +--ro ip-address?    inet:ip-address
              +--ro (monitor-stats)?
                 +--:(monitor-null)
                    +--ro monitor-null?      empty

   notifications:
     +---n defect-condition-notification
     |  +--ro technology?         identityref
     |  +--ro md-name-string -&gt; /domains/domain/md-name-string
     |  +--ro ma-name-string -&gt; /domains/domain/mas/ma/ma-name-string
     |  +--ro mep-name?      -&gt; /domains/domain/mas/ma/mep/mep-name
     |  +--ro defect-type?        identityref
     |  +--ro generating-mepid
     |  |  +--ro (mep-id)?
     |  |  |  +--:(mep-id-int)
     |  |  |     +--ro mep-id-int?      int32
     |  |  +--ro mep-id-format?   identityref
     |  +--ro (defect)?
     |     +--:(defect-null)
     |     |  +--ro defect-null?        empty
     |     +--:(defect-code)
     |        +--ro defect-code?        int32
     +---n defect-cleared-notification
        +--ro technology?         identityref
        +--ro md-name-string -&gt; /domains/domain/md-name-string
        +--ro ma-name-string -&gt; /domains/domain/mas/ma/ma-name-string
        +--ro mep-name?      -&gt; /domains/domain/mas/ma/mep/mep-name
        +--ro defect-type?        identityref
        +--ro generating-mepid
        |  +--ro (mep-id)?
        |  |  +--:(mep-id-int)
        |  |     +--ro mep-id-int?      int32
        |  +--ro mep-id-format?   identityref
        +--ro (defect)?
           +--:(defect-null)
           |  +--ro defect-null?        empty
           +--:(defect-code)
              +--ro defect-code?        int32

                           Data Hierarchy of OAM

5.  OAM YANG Module

   This module imports typedefs from [RFC6991] and [RFC8343], and it
   references [RFC6371], [RFC6905], and [RFC7276].

   &lt;CODE BEGINS&gt; file &quot;ietf-connection-oriented-oam@2019-04-16.yang&quot;

module ietf-connection-oriented-oam {
  yang-version 1.1;
  namespace &quot;urn:ietf:params:xml:ns:yang:ietf-connection-oriented-oam&quot;;
  prefix co-oam;

  import ietf-yang-types {
    prefix yang;
  }
  import ietf-inet-types {
    prefix inet;
  }
  import ietf-interfaces {
    prefix if;
  }

  organization
    &quot;IETF LIME Working Group&quot;;
  contact
    &quot;WG Web:    http://datatracker.ietf.org/wg/lime
     WG List:   &lt;mailto:lime@ietf.org&gt;
     Editor:    Deepak Kumar &lt;dekumar@cisco.com&gt;
     Editor:    Qin Wu &lt;bill.wu@huawei.com&gt;
     Editor:    Michael Wang &lt;wangzitao@huawei.com&gt;&quot;;
  description
    &quot;This YANG module defines the generic configuration,
     statistics and RPC for connection-oriented OAM
     to be used within IETF in a protocol-independent manner.
     Functional-level abstraction is independent
     with YANG modeling. It is assumed that each protocol
     maps corresponding abstracts to its native format.
     Each protocol may extend the YANG data model defined
     here to include protocol-specific extensions

     Copyright (c) 2019 IETF Trust and the persons identified as
     authors of the code.  All rights reserved.

     Redistribution and use in source and binary forms, with or
     without modification, is permitted pursuant to, and subject
     to the license terms contained in, the Simplified BSD License
     set forth in Section 4.c of the IETF Trust&#x27;s Legal Provisions
     Relating to IETF Documents

     (http://trustee.ietf.org/license-info).

     This version of this YANG module is part of RFC 8531; see
     the RFC itself for full legal notices.&quot;;

  revision 2019-04-16 {
    description
      &quot;Initial revision.&quot;;
    reference
      &quot;RFC 8531: Generic YANG Data Model for Connection-
       Oriented Operations, Administration, and Maintenance (OAM)
       Protocols&quot;;
  }

  feature connectivity-verification {
    description
      &quot;This feature indicates that the server supports
       executing a connectivity verification OAM command and
       returning a response.  Servers that do not advertise
       this feature will not support executing a
       connectivity verification command or RPC model for a
       connectivity verification command.&quot;;
  }

  feature continuity-check {
    description
      &quot;This feature indicates that the server supports
       executing a Continuity Check OAM command and
       returning a response.  Servers that do not advertise
       this feature will not support executing a
       Continuity Check command or RPC model for a
       Continuity Check command.&quot;;
  }

  feature traceroute {
    description
      &quot;This feature indicates that the server supports
       executing a traceroute OAM command and
       returning a response.  Servers that do not advertise
       this feature will not support executing a
       traceroute command or RPC model for a
       traceroute command.&quot;;
  }

  feature mip {
    description
      &quot;This feature indicates that the Maintenance
       Intermediate Point (MIP) needs to be explicitly configured&quot;;

  }

  identity technology-types {
    description
      &quot;This is the base identity of technology types that are
       TRILL, MPLS-TP, etc.&quot;;
  }

  identity command-sub-type {
    description
      &quot;Defines different RPC command subtypes,
       e.g., TRILL OAM as specified in RFC 6905; this is
       optional for most cases.&quot;;
    reference
      &quot;RFC 6905: Requirements for OAM in Transparent
       Interconnection of Lots of Links (TRILL)&quot;;
  }

  identity on-demand {
    base command-sub-type;
    description
      &quot;On-demand activation indicates that the tool is activated
       manually to detect a specific anomaly.
       An on-demand OAM method requires only transient configuration.&quot;;
    reference
      &quot;RFC 7276: An Overview of Operations, Administration, and
       Maintenance (OAM) Tools&quot;;
  }

  identity proactive {
    base command-sub-type;
    description
      &quot;Proactive activation indicates that the tool is activated on a
       continual basis, where messages are sent periodically, and errors
       are detected when a certain number of expected messages are not
       received.  A proactive OAM method requires persistent
       configuration.&quot;;
    reference
      &quot;RFC 7276: An Overview of Operations, Administration, and
       Maintenance (OAM) Tools&quot;;
  }

  identity name-format {
    description
      &quot;This defines the name format, CFM (IEEE 802.1Q) defines varying
       styles of names.  It is expected that name format is an identity
       reference to be extended with new types.&quot;;
  }

  identity name-format-null {
    base name-format;
    description
      &quot;Defines name format as null.&quot;;
  }

  identity identifier-format {
    description
      &quot;Identifier-format identity can be augmented to define other
       format identifiers used in MEP-ID, etc.&quot;;
  }

  identity identifier-format-integer {
    base identifier-format;
    description
      &quot;Defines identifier-format to be integer.&quot;;
  }

  identity defect-types {
    description
      &quot;Defines different defect types, e.g.,
       Remote Defect Indication (RDI), loss of continuity.&quot;;
  }

  identity rdi {
    base defect-types;
    description
      &quot;The RDI indicates the
       aggregate health of the remote Maintenance End Points (MEPs).&quot;;
  }

  identity remote-mep-defect {
    base defect-types;
    description
      &quot;Indicates that one or more of the remote MEPs are
       reporting a failure.&quot;;
  }

  identity loss-of-continuity {
    base defect-types;
    description
      &quot;Indicates that there are no proactive Continuity Check (CC)
       OAM packets from the source MEP (and in the case of
       Connectivity Verification, this includes the requirement to have
       the expected unique, technology-dependent source MEP identifier)
       received within the interval.&quot;;
    reference
      &quot;RFC 6371: Operations, Administration, and Maintenance

       Framework for MPLS-Based Transport Networks&quot;;
  }

  identity cv-defect {
    base defect-types;
    description
      &quot;This function should support monitoring between the MEPs
       and, in addition, between a MEP and MIP.  When performing
       Connectivity Verification, the Continuity Check and
       Connectivity Verification (CC-V) messages need to include
       unique identification of the MEG that is being monitored and
       the MEP that originated the message.&quot;;
    reference
      &quot;RFC 6371: Operations, Administration, and Maintenance
       Framework for MPLS-Based Transport Networks&quot;;
  }

  identity invalid-oam-defect {
    base defect-types;
    description
      &quot;Indicates that one or more invalid OAM messages have been
       received and that 3.5 times that OAM message transmission
       interval has not yet expired.&quot;;
  }

  identity cross-connect-defect {
    base defect-types;
    description
      &quot;Indicates that one or more cross-connect defect
       (for example, a service ID does not match the VLAN)
       messages have been received and that 3.5 times that OAM message
       transmission interval has not yet expired.&quot;;
  }

  typedef mep-name {
    type string;
    description
      &quot;Generic administrative name for a MEP.&quot;;
  }

  typedef time-interval {
    type decimal64 {
      fraction-digits 2;
    }
    units &quot;milliseconds&quot;;
    description
      &quot;Time interval between packets in milliseconds.
       Time interval should not be less than 0.

       0 means no packets are sent.&quot;;
  }

  typedef md-name-string {
    type string;
    description
      &quot;Generic administrative name for Maintenance Domain (MD).&quot;;
  }

  typedef ma-name-string {
    type string;
    description
      &quot;Generic administrative name for a
       Maintenance Association (MA).&quot;;
  }

  typedef oam-counter32 {
    type yang:zero-based-counter32;
    description
      &quot;Define 32-bit counter for OAM.&quot;;
  }

  typedef md-level {
    type uint32 {
      range &quot;0..255&quot;;
    }
    description
      &quot;Maintenance Domain Level.  The level may be restricted in
       certain protocols (e.g., protocol in layer 0 to layer 7).&quot;;
  }

  grouping maintenance-domain-reference {
    description
      &quot;This grouping uniquely identifies a Maintenance Domain.&quot;;
    leaf maintenance-domain {
      type leafref {
        path &quot;/co-oam:domains/co-oam:domain/co-oam:md-name-string&quot;;
      }
      description
        &quot;A reference to a specific Maintenance Domain.&quot;;
    }
  }

  grouping maintenance-association-reference {
    description
      &quot;This grouping uniquely identifies a
       Maintenance Association.  It consists
       of a maintenance-domain-reference and

       a maintenance-association leafref.&quot;;
    uses maintenance-domain-reference;
    leaf maintenance-association {
      type leafref {
        path &quot;/co-oam:domains/co-oam:domain[co-oam:md-name-string &quot;
           + &quot;= current()/../maintenance-domain]/co-oam:mas&quot;
           + &quot;/co-oam:ma/co-oam:ma-name-string&quot;;
      }
      description
        &quot;A reference to a specific Maintenance Association.&quot;;
    }
  }

  grouping maintenance-association-end-point-reference {
    description
      &quot;This grouping uniquely identifies
       a Maintenance Association.  It consists
       of a maintenance-association-reference and
       a maintenance-association-end-point leafref.&quot;;
    uses maintenance-association-reference;
    leaf maintenance-association-end-point {
      type leafref {
        path &quot;/co-oam:domains/co-oam:domain[co-oam:md-name-string &quot;
           + &quot;= current()/../maintenance-domain]/co-oam:mas&quot;
           + &quot;/co-oam:ma[co-oam:ma-name-string = &quot;
           + &quot;current()/../maintenance-association]&quot;
           + &quot;/co-oam:mep/co-oam:mep-name&quot;;
      }
      description
        &quot;A reference to a specific Maintenance
         association End Point.&quot;;
    }
  }

  grouping time-to-live {
    leaf ttl {
      type uint8;
      description
        &quot;Time to Live.&quot;;
    }
    description
      &quot;Time to Live grouping.&quot;;
  }

  grouping defect-message {
    choice defect {
      case defect-null {
        description

          &quot;This is a placeholder when no defect status is needed.&quot;;
        leaf defect-null {
          type empty;
          description
            &quot;There is no defect to be defined; it will be defined in
             a technology-specific model.&quot;;
        }
      }
      case defect-code {
        description
          &quot;This is a placeholder to display defect code.&quot;;
        leaf defect-code {
          type int32;
          description
            &quot;Defect code is integer value specific to a technology.&quot;;
        }
      }
      description
        &quot;Defect Message choices.&quot;;
    }
    description
      &quot;Defect Message.&quot;;
  }

  grouping mep-address {
    choice mep-address {
      default &quot;ip-address&quot;;
      case mac-address {
        leaf mac-address {
          type yang:mac-address;
          description
            &quot;MAC Address.&quot;;
        }
        description
          &quot;MAC Address based MEP Addressing.&quot;;
      }
      case ip-address {
        leaf ip-address {
          type inet:ip-address;
          description
            &quot;IP Address.&quot;;
        }
        description
          &quot;IP Address based MEP Addressing.&quot;;
      }
      description
        &quot;MEP Addressing.&quot;;
    }

    description
      &quot;Grouping for MEP Address&quot;;
  }

  grouping mip-address {
    choice mip-address {
      default &quot;ip-address&quot;;
      case mac-address {
        leaf mac-address {
          type yang:mac-address;
          description
            &quot;MAC Address of Maintenance Intermediate Point&quot;;
        }
        description
          &quot;MAC Address based MIP Addressing.&quot;;
      }
      case ip-address {
        leaf ip-address {
          type inet:ip-address;
          description
            &quot;IP Address.&quot;;
        }
        description
          &quot;IP Address based MIP Addressing.&quot;;
      }
      description
        &quot;MIP Addressing.&quot;;
    }
    description
      &quot;MIP Address.&quot;;
  }

  grouping maintenance-domain-id {
    description
      &quot;Grouping containing leaves sufficient to identify
       a Maintenance Domain.&quot;;
    leaf technology {
      type identityref {
        base technology-types;
      }
      mandatory true;
      description
        &quot;Defines the technology.&quot;;
    }
    leaf md-name-string {
      type md-name-string;
      mandatory true;
      description

        &quot;Defines the generic administrative Maintenance Domain name.&quot;;
    }
  }

  grouping md-name {
    leaf md-name-format {
      type identityref {
        base name-format;
      }
      description
        &quot;Maintenance Domain Name format.&quot;;
    }
    choice md-name {
      case md-name-null {
        leaf md-name-null {
          when &quot;derived-from-or-self(../md-name-format,&quot;
             + &quot;&#x27;name-format-null&#x27;)&quot; {
            description
              &quot;MD name format is equal to null format.&quot;;
          }
          type empty;
          description
            &quot;MD name null.&quot;;
        }
      }
      description
        &quot;MD name.&quot;;
    }
    description
      &quot;MD name.&quot;;
  }

  grouping ma-identifier {
    description
      &quot;Grouping containing leaves sufficient to identify an MA.&quot;;
    leaf ma-name-string {
      type ma-name-string;
      description
        &quot;MA name string.&quot;;
    }
  }

  grouping ma-name {
    description
      &quot;MA name.&quot;;
    leaf ma-name-format {
      type identityref {
        base name-format;

      }
      description
        &quot;MA name format.&quot;;
    }
    choice ma-name {
      case ma-name-null {
        leaf ma-name-null {
          when &quot;derived-from-or-self(../ma-name-format,&quot;
             + &quot;&#x27;name-format-null&#x27;)&quot; {
            description
              &quot;MA.&quot;;
          }
          type empty;
          description
            &quot;Empty&quot;;
        }
      }
      description
        &quot;MA name.&quot;;
    }
  }

  grouping mep-id {
    choice mep-id {
      default &quot;mep-id-int&quot;;
      case mep-id-int {
        leaf mep-id-int {
          type int32;
          description
            &quot;MEP ID
             in integer format.&quot;;
        }
      }
      description
        &quot;MEP ID.&quot;;
    }
    leaf mep-id-format {
      type identityref {
        base identifier-format;
      }
      description
        &quot;MEP ID format.&quot;;
    }
    description
      &quot;MEP ID.&quot;;
  }

  grouping mep {

    description
      &quot;Defines elements within the MEP.&quot;;
    leaf mep-name {
      type mep-name;
      mandatory true;
      description
        &quot;Generic administrative name of the
         MEP.&quot;;
    }
    uses mep-id;
    uses mep-address;
  }

  grouping monitor-stats {
    description
      &quot;Grouping for monitoring statistics; this will be augmented
       by others who use this component.&quot;;
    choice monitor-stats {
      default &quot;monitor-null&quot;;
      case monitor-null {
        description
          &quot;This is a placeholder when
           no monitoring statistics are needed.&quot;;
        leaf monitor-null {
          type empty;
          description
            &quot;There are no monitoring statistics to be defined.&quot;;
        }
      }
      description
        &quot;Define the monitor stats.&quot;;
    }
  }

  grouping connectivity-context {
    description
      &quot;Grouping defining the connectivity context for an MA,
       for example, an LSP for MPLS-TP.  This will be
       augmented by each protocol that uses this component.&quot;;
    choice connectivity-context {
      default &quot;context-null&quot;;
      case context-null {
        description
          &quot;This is a placeholder when no context is needed.&quot;;
        leaf context-null {
          type empty;
          description
            &quot;There is no context to be defined.&quot;;

        }
      }
      description
        &quot;Connectivity context.&quot;;
    }
  }

  grouping cos {
    description
      &quot;Grouping for Priority used in transmitted packets,
       for example, in the CoS field in MPLS-TP.&quot;;
    leaf cos-id {
      type uint8;
      description
        &quot;Class of Service (CoS) ID; this value is used to indicate
         Class of Service information .&quot;;
    }
  }

  grouping mip-grouping {
    uses mip-address;
    description
      &quot;Grouping for MIP
       configuration.&quot;;
  }

  container domains {
    description
      &quot;Contains configuration related data.  Within the
       container, there is a list of fault domains.  Each
       domain has a list of MAs.&quot;;
    list domain {
      key &quot;technology md-name-string&quot;;
      description
        &quot;Define a list of Domains within the
         ietf-connection-oriented-oam module.&quot;;
      uses maintenance-domain-id;
      uses md-name;
      leaf md-level {
        type md-level;
        description
          &quot;Define the MD level.&quot;;
      }
      container mas {
        description
          &quot;Contains configuration-related data.  Within the
           container, there is a list of MAs.  Each MA has a
           list of MEPs.&quot;;

        list ma {
          key &quot;ma-name-string&quot;;
          uses ma-identifier;
          uses ma-name;
          uses connectivity-context;
          uses cos {
            description
              &quot;Default class of service for this MA;
               it may be overridden for particular MEPs,
               sessions, or operations.&quot;;
          }
          leaf cc-enable {
            type boolean;
            description
              &quot;Indicate whether the CC is enabled.&quot;;
          }
          list mep {
            key &quot;mep-name&quot;;
            description
              &quot;Contain a list of MEPs.&quot;;
            uses mep;
            uses cos;
            leaf cc-enable {
              type boolean;
              description
                &quot;Indicate whether the CC is enabled.&quot;;
            }
            list session {
              key &quot;session-cookie&quot;;
              description
                &quot;Monitoring session to/from a particular remote MEP.
                 Depending on the protocol, this could represent
                 CC messages received from a single remote MEP (if the
                 protocol uses multicast CCs) or a target to which
                 unicast echo request CCs are sent and from which
                 responses are received (if the protocol uses a
                 unicast request/response mechanism).&quot;;
              leaf session-cookie {
                type uint32;
                description
                  &quot;Cookie to identify different sessions, when there
                   are multiple remote MEPs or multiple sessions to
                   the same remote MEP.&quot;;
              }
              container destination-mep {
                uses mep-id;
                description
                  &quot;Destination MEP.&quot;;

              }
              container destination-mep-address {
                uses mep-address;
                description
                  &quot;Destination MEP Address.&quot;;
              }
              uses cos;
            }
          }
          list mip {
            if-feature &quot;mip&quot;;
            key &quot;name&quot;;
            leaf name {
              type string;
              description
                &quot;Identifier of Maintenance Intermediate Point&quot;;
            }
            leaf interface {
              type if:interface-ref;
              description
                &quot;Interface.&quot;;
            }
            uses mip-grouping;
            description
              &quot;List for MIP.&quot;;
          }
          description
            &quot;Maintenance Association list.&quot;;
        }
      }
    }
  }

  notification defect-condition-notification {
    description
      &quot;When the defect condition is met, this notification is sent.&quot;;
    leaf technology {
      type identityref {
        base technology-types;
      }
      description
        &quot;The technology.&quot;;
    }
    leaf md-name-string {
      type leafref {
        path &quot;/domains/domain/md-name-string&quot;;
      }
      mandatory true;

      description
        &quot;Indicate which MD the defect belongs to.&quot;;
    }
    leaf ma-name-string {
      type leafref {
        path &quot;/domains/domain/mas/ma/ma-name-string&quot;;
      }
      mandatory true;
      description
        &quot;Indicate which MA the defect is associated with.&quot;;
    }
    leaf mep-name {
      type leafref {
        path &quot;/domains/domain/mas/ma/mep/mep-name&quot;;
      }
      description
        &quot;Indicate which MEP is seeing the defect.&quot;;
    }
    leaf defect-type {
      type identityref {
        base defect-types;
      }
      description
        &quot;The currently active defects on the specific MEP.&quot;;
    }
    container generating-mepid {
      uses mep-id;
      description
        &quot;Indicate who is generating the defect (if known). If
         unknown, set it to 0.&quot;;
    }
    uses defect-message {
      description
        &quot;Defect message to provide more details.&quot;;
    }
  }

  notification defect-cleared-notification {
    description
      &quot;When the defect is cleared, this notification is sent.&quot;;
    leaf technology {
      type identityref {
        base technology-types;
      }
      description
        &quot;The technology.&quot;;
    }
    leaf md-name-string {

      type leafref {
        path &quot;/domains/domain/md-name-string&quot;;
      }
      mandatory true;
      description
        &quot;Indicate which MD the defect belongs to&quot;;
    }
    leaf ma-name-string {
      type leafref {
        path &quot;/domains/domain/mas/ma/ma-name-string&quot;;
      }
      mandatory true;
      description
        &quot;Indicate which MA the defect is associated with.&quot;;
    }
    leaf mep-name {
      type leafref {
        path &quot;/domains/domain/mas/ma/mep/mep-name&quot;;
      }
      description
        &quot;Indicate which MEP is seeing the defect.&quot;;
    }
    leaf defect-type {
      type identityref {
        base defect-types;
      }
      description
        &quot;The currently active defects on the specific MEP.&quot;;
    }
    container generating-mepid {
      uses mep-id;
      description
        &quot;Indicate who is generating the defect (if known). If
         unknown, set it to 0.&quot;;
    }
    uses defect-message {
      description
        &quot;Defect message to provide more details.&quot;;
    }
  }

  rpc continuity-check {
    if-feature &quot;continuity-check&quot;;
    description
      &quot;Generates Continuity Check as per Table 4 of RFC 7276.&quot;;
    input {
      leaf technology {
        type identityref {

          base technology-types;
        }
        description
          &quot;The technology.&quot;;
      }
      leaf md-name-string {
        type leafref {
          path &quot;/domains/domain/md-name-string&quot;;
        }
        mandatory true;
        description
          &quot;Indicate which MD the defect belongs to.&quot;;
      }
      leaf md-level {
        type leafref {
          path &quot;/domains/domain/md-level&quot;;
        }
        description
          &quot;The Maintenance Domain Level.&quot;;
      }
      leaf ma-name-string {
        type leafref {
          path &quot;/domains/domain/mas/ma/ma-name-string&quot;;
        }
        mandatory true;
        description
          &quot;Indicate which MA the defect is associated with.&quot;;
      }
      uses cos;
      uses time-to-live;
      leaf sub-type {
        type identityref {
          base command-sub-type;
        }
        description
          &quot;Defines different command types.&quot;;
      }
      leaf source-mep {
        type leafref {
          path &quot;/domains/domain/mas/ma/mep/mep-name&quot;;
        }
        description
          &quot;Source MEP.&quot;;
      }
      container destination-mep {
        uses mep-address;
        uses mep-id {
          description

            &quot;Only applicable if the destination is a MEP.&quot;;
        }
        description
          &quot;Destination MEP.&quot;;
      }
      leaf count {
        type uint32;
        default &quot;3&quot;;
        description
          &quot;Number of continuity-check messages to be sent.&quot;;
      }
      leaf cc-transmit-interval {
        type time-interval;
        description
          &quot;Time interval between echo requests.&quot;;
      }
      leaf packet-size {
        type uint32 {
          range &quot;64..10000&quot;;
        }
        description
          &quot;Size of continuity-check packets, in octets.&quot;;
      }
    }
    output {
      uses monitor-stats {
        description
          &quot;Stats of Continuity Check.&quot;;
      }
    }
  }

  rpc continuity-verification {
    if-feature &quot;connectivity-verification&quot;;
    description
      &quot;Generates Connectivity Verification as per Table 4 in RFC 7276.&quot;;
    input {
      leaf md-name-string {
        type leafref {
          path &quot;/domains/domain/md-name-string&quot;;
        }
        mandatory true;
        description
          &quot;Indicate which MD the defect belongs to.&quot;;
      }
      leaf md-level {
        type leafref {
          path &quot;/domains/domain/md-level&quot;;

        }
        description
          &quot;The Maintenance Domain Level.&quot;;
      }
      leaf ma-name-string {
        type leafref {
          path &quot;/domains/domain/mas/ma/ma-name-string&quot;;
        }
        mandatory true;
        description
          &quot;Indicate which MA the defect is associated with.&quot;;
      }
      uses cos;
      uses time-to-live;
      leaf sub-type {
        type identityref {
          base command-sub-type;
        }
        description
          &quot;Defines different command types.&quot;;
      }
      leaf source-mep {
        type leafref {
          path &quot;/domains/domain/mas/ma/mep/mep-name&quot;;
        }
        description
          &quot;Source MEP.&quot;;
      }
      container destination-mep {
        uses mep-address;
        uses mep-id {
          description
            &quot;Only applicable if the destination is a MEP.&quot;;
        }
        description
          &quot;Destination MEP.&quot;;
      }
      leaf count {
        type uint32;
        default &quot;3&quot;;
        description
          &quot;Number of continuity-verification messages to be sent.&quot;;
      }
      leaf interval {
        type time-interval;
        description
          &quot;Time interval between echo requests.&quot;;
      }

      leaf packet-size {
        type uint32 {
          range &quot;64..10000&quot;;
        }
        description
          &quot;Size of continuity-verification packets, in octets.&quot;;
      }
    }
    output {
      uses monitor-stats {
        description
          &quot;Stats of Continuity Check.&quot;;
      }
    }
  }

  rpc traceroute {
    if-feature &quot;traceroute&quot;;
    description
      &quot;Generates Traceroute or Path Trace and returns response.
       References RFC 7276 for common Toolset name -- for
       MPLS-TP OAM, it&#x27;s Route Tracing, and for TRILL OAM, it&#x27;s
       Path Tracing tool.  Starts with TTL of one and increments
       by one at each hop until the destination is reached or TTL
       reaches max value.&quot;;
    input {
      leaf md-name-string {
        type leafref {
          path &quot;/domains/domain/md-name-string&quot;;
        }
        mandatory true;
        description
          &quot;Indicate which MD the defect belongs to.&quot;;
      }
      leaf md-level {
        type leafref {
          path &quot;/domains/domain/md-level&quot;;
        }
        description
          &quot;The Maintenance Domain Level.&quot;;
      }
      leaf ma-name-string {
        type leafref {
          path &quot;/domains/domain/mas/ma/ma-name-string&quot;;
        }
        mandatory true;
        description
          &quot;Indicate which MA the defect is associated with.&quot;;

      }
      uses cos;
      uses time-to-live;
      leaf command-sub-type {
        type identityref {
          base command-sub-type;
        }
        description
          &quot;Defines different command types.&quot;;
      }
      leaf source-mep {
        type leafref {
          path &quot;/domains/domain/mas/ma/mep/mep-name&quot;;
        }
        description
          &quot;Source MEP.&quot;;
      }
      container destination-mep {
        uses mep-address;
        uses mep-id {
          description
            &quot;Only applicable if the destination is a MEP.&quot;;
        }
        description
          &quot;Destination MEP.&quot;;
      }
      leaf count {
        type uint32;
        default &quot;1&quot;;
        description
          &quot;Number of traceroute probes to send.  In protocols where a
           separate message is sent at each TTL, this is the number
           of packets to be sent at each TTL.&quot;;
      }
      leaf interval {
        type time-interval;
        description
          &quot;Time interval between echo requests.&quot;;
      }
    }
    output {
      list response {
        key &quot;response-index&quot;;
        leaf response-index {
          type uint8;
          description
            &quot;Arbitrary index for the response.  In protocols that
             guarantee there is only a single response at each TTL,
             the TTL can be used as the response index.&quot;;
        }
        uses time-to-live;
        container destination-mep {
          description
            &quot;MEP from which the response has been received&quot;;
          uses mep-address;
          uses mep-id {
            description
              &quot;Only applicable if the destination is a MEP.&quot;;
          }
        }
        container mip {
          if-feature &quot;mip&quot;;
          leaf interface {
            type if:interface-ref;
            description
              &quot;MIP interface.&quot;;
          }
          uses mip-address;
          description
            &quot;MIP responding with traceroute&quot;;
        }
        uses monitor-stats {
          description
            &quot;Stats of traceroute.&quot;;
        }
        description
          &quot;List of responses.&quot;;
      }
    }
  }
}


   &lt;CODE ENDS&gt;

6.  Base Mode

   The Base Mode (&quot;default mode&quot; described in Section 4) defines the
   default configuration that MUST be present in the devices that comply
   with this document.  Base Mode allows users to have a &quot;zero-touch&quot;
   experience.  Several parameters require technology-specific
   definition.

6.1.  MEP Address

   In the Base Mode of operation, the MEP Address is by default the IP
   address of the interface on which the MEP is located.

6.2.  MEP ID for Base Mode

   In the Base Mode of operation, each device creates a single MEP
   associated with a virtual OAM port with no physical layer (NULL PHY).
   The MEP-ID associated with this MEP is zero (0).  The choice of
   MEP-ID of zero is explained below.

   MEP-ID is a 2-octet field by default.  It is never used on the wire
   except when using CCM.  It is important to have a method that can
   derive the MEP-ID of Base Mode in an automatic manner with no user
   intervention.  The IP address cannot be directly used for this
   purpose, as the MEP-ID is a much smaller field.  For the Base Mode of
   operation, MEP-ID is set to zero by default.

   The CCM packet uses the MEP-ID in the payload.  CCM MUST NOT be used
   in the Base Mode.  Hence, CCM MUST be disabled on the Maintenance
   Association of the Base Mode.

   If CCM is required, users MUST configure a separate Maintenance
   Association and assign unique values for the corresponding MEP IDs.

   CFM [IEEE802.1Q] defines MEP-ID as an unsigned integer in the range 1
   to 8191.  In this document, we propose extending the range to 0 to
   65535.  Value 0 is reserved for the MEP-ID in the Base Mode operation
   and MUST NOT be used for other purposes.

6.3.  Maintenance Association

   The ID of the Maintenance Association (MA-ID) [IEEE802.1Q] has a
   flexible format and includes two parts: Maintenance Domain Name and
   Short MA name.  In the Base Mode of operation, the value of the
   Maintenance Domain Name must be the character string
   &quot;GenericBaseMode&quot; (excluding the quotes).  In the Base Mode

   operation, the Short MA Name format is set to a 2-octet integer
   format (value 3 in Short MA Format field [IEEE802.1Q]) and the Short
   MA name is set to 65532 (0xFFFC).

7.  Connection-Oriented OAM YANG Data Model Applicability

   The &quot;ietf-connection-oriented-oam&quot; module defined in this document
   provides a technology-independent abstraction of key OAM constructs
   for connection-oriented protocols.  This module can be further
   extended to include technology-specific details, e.g., adding new
   data nodes with technology-specific functions and parameters into
   proper anchor points of the base model, so as to develop a
   technology-specific connection-oriented OAM model.

   This section demonstrates the usability of the connection-oriented
   YANG OAM data model to various connection-oriented OAM technologies,
   e.g., TRILL and MPLS-TP.  Note that, in this section, we only present
   several snippets of technology-specific model extensions for
   illustrative purposes.  The complete model extensions should be
   worked on in respective protocol working groups.

7.1.  Generic YANG Data Model Extension for TRILL OAM

   The TRILL OAM YANG module [TRILL-YANG-OAM] is augmenting the
   connection-oriented OAM module for both configuration and RPC
   commands.

   In addition,the TRILL OAM YANG module also requires the base TRILL
   module ([TRILL-YANG]) to be supported, as there is a strong
   relationship between those modules.

   The configuration extensions for connection-oriented OAM include the
   MD configuration extension, technology type extension, MA
   configuration extension, Connectivity-Context extension, MEP
   Configuration extension, and ECMP extension.  In the RPC extension,
   the continuity-check and path-discovery RPC are extended with TRILL-
   specific parameters.

7.1.1.  MD Configuration Extension

   MD level configuration parameters are management information that can
   be inherited in the TRILL OAM model and set by the connection-
   oriented base model as default values.  For example, domain name can
   be set to area-ID in the TRILL OAM case.  In addition, at the
   Maintenance Domain Level (i.e., at root level), the domain data node
   can be augmented with technology type.

   Note that MD level configuration parameters provide context
   information for the management system to correlate faults, defects,
   and network failures with location information; this helps quickly
   identify root causes of network failures.

7.1.1.1.  Technology Type Extension

   No TRILL technology type has been defined in the connection-oriented
   base model.  Therefore, a technology type extension is required in
   the TRILL OAM model.  The technology type &quot;trill&quot; is defined as an
   identity that augments the base &quot;technology-types&quot; defined in the
   connection-oriented base model:

      identity trill{
       base co-oam:technology-types;
       description
        &quot;trill type&quot;;
      }

7.1.2.  MA Configuration Extension

   MA level configuration parameters are management information that can
   be inherited in the TRILL OAM model and set by the connection-
   oriented base model as default values.  In addition, at the
   Maintenance Association (MA) level (i.e., at the second level), the
   MA data node can be augmented with a connectivity-context extension.

   Note that MA level configuration parameters provide context
   information for the management system to correlate faults, defects,
   and network failures with location information; this helps quickly
   identify root causes of network failures.

7.1.2.1.  Connectivity-Context Extension

   In TRILL OAM, one example of connectivity-context is either a 12-bit
   VLAN ID or a 24-bit Fine-Grained Label.  The connection-oriented base
   model defines a placeholder for context-id.  This allows other
   technologies to easily augment that to include technology-specific
   extensions.  The snippet below depicts an example of augmenting
   connectivity-context to include either a VLAN ID or Fine-Grained
   Label.

      augment /co-oam:domains/co-oam:domain
   /co-oam:mas/co-oam:ma/co-oam:connectivity-context:
            +--:(connectivity-context-vlan)
            |  +--rw connectivity-context-vlan?   vlan
            +--:(connectivity-context-fgl)
               +--rw connectivity-context-fgl?    fgl

7.1.3.  MEP Configuration Extension

   The MEP configuration definition in the connection-oriented base
   model already supports configuring the interface of MEP with either a
   MAC address or IP address.  In addition, the MEP address can be
   represented using a 2-octet RBridge Nickname in TRILL OAM.  Hence,
   the TRILL OAM model augments the MEP configuration in the base model
   to add a nickname case to the MEP address choice node as follows:

   augment /co-oam:domains/co-oam:domain
   /co-oam:mas/co-oam:ma/co-oam:mep/co-oam:mep-address:
            +--:( mep-address-trill)
            |  +--rw mep-address-trill?  tril-rb-nickname

   In addition, at the Maintenance association End Point (MEP) level
   (i.e., at the third level), the MEP data node can be augmented with
   an ECMP extension.

7.1.3.1.  ECMP Extension

   Since TRILL supports ECMP path selection, flow-entropy in TRILL is
   defined as a 96-octet field in the Layer-Independent OAM Management
   in the Multi-Layer Environment (LIME) model extension for TRILL OAM.
   The snippet below illustrates its extension.

      augment /co-oam:domains/co-oam:domain
   /co-oam:mas/co-oam:ma/co-oam:mep:
               +--rw flow-entropy-trill?   flow-entropy-trill
      augment /co-oam:domains/co-oam:domain
   /co-oam:mas/co-oam:ma/co-oam:mep/co-oam:session:
               +--rw flow-entropy-trill?   flow-entropy-trill

7.1.4.  RPC Extension

   In the TRILL OAM YANG data model, the continuity-check and path-
   discovery RPC commands are extended with TRILL-specific requirements.
   The snippet below depicts an example of the TRILL OAM RPC extension.

      augment /co-oam:continuity-check/co-oam:input:
            +--ro (out-of-band)?
            |  +--:(ipv4-address)
            |  |  +--ro ipv4-address?      inet:ipv4-address
            |  +--:(ipv6-address)
            |  |  +--ro ipv6-address?      inet:ipv6-address
            |  +--:(trill-nickname)
            |     +--ro trill-nickname?    tril-rb-nickname
            +--ro diagnostic-vlan?   boolean
      augment /co-oam:continuity-check/co-oam:input:
               +--ro flow-entropy-trill?   flow-entropy-trill
      augment /co-oam:continuity-check/co-oam:output:
            +--ro upstream-rbridge?   tril-rb-nickname
            +--ro next-hop-rbridge*   tril-rb-nickname
      augment /co-oam:path-discovery/co-oam:input:
            +--ro (out-of-band)?
            |  +--:(ipv4-address)
            |  |  +--ro ipv4-address?      inet:ipv4-address
            |  +--:(ipv6-address)
            |  |  +--ro ipv6-address?      inet:ipv6-address
            |  +--:(trill-nickname)
            |     +--ro trill-nickname?    tril-rb-nickname
            +--ro diagnostic-vlan?   boolean
      augment /co-oam:path-discovery/co-oam:input:
               +--ro flow-entropy-trill?   flow-entropy-trill
      augment /co-oam:path-discovery/co-oam:output/co-oam:response:
            +--ro upstream-rbridge?   tril-rb-nickname
            +--ro next-hop-rbridge*   tril-rb-nickname

7.2.  Generic YANG Data Model Extension for MPLS-TP OAM

   The MPLS-TP OAM YANG module can augment the connection-oriented OAM
   module with some technology-specific details.  [MPLS-TP-OAM-YANG]
   presents the YANG data model for MPLS-TP OAM.

   The configuration extensions for connection-oriented OAM include the
   MD configuration extension, Technology type extension, Technology
   Subtype extension, MA configuration extension, and MEP Configuration
   extension.

7.2.1.  MD Configuration Extension

   MD level configuration parameters are management information that can
   be inherited in the MPLS-TP OAM model and set by the connection-
   oriented OAM base model as default values.  For example, domain name
   can be set to area-ID or the provider&#x27;s Autonomous System Number
   (ASN) [RFC6370] in the MPLS-TP OAM case.  In addition, at the
   Maintenance Domain Level (i.e., at root level), the domain data node
   can be augmented with technology type and technology subtype.

   Note that MD level configuration parameters provide context
   information for the management system to correlate faults, defects,
   and network failures with location information; this helps quickly
   identify root causes of network failures

7.2.1.1.  Technology Type Extension

   No MPLS-TP technology type has been defined in the connection-
   oriented base model, hence it is required in the MPLS-TP OAM model.
   The technology type &quot;mpls-tp&quot; is defined as an identity that augments
   the base &quot;technology-types&quot; defined in the connection-oriented base
   model:

       identity mpls-tp{
             base co-oam:technology-types;
             description
              &quot;mpls-tp type&quot;;
            }

7.2.1.2.  Technology Subtype Extension

   In MPLS-TP, since different encapsulation types such as IP/UDP
   encapsulation and PW-ACH encapsulation can be employed, the
   &quot;technology-sub-type&quot; data node is defined and added into the MPLS-TP
   OAM model to further identify the encapsulation types within the
   MPLS-TP OAM model.  Based on it, we also define a technology subtype
   for IP/UDP encapsulation and PW-ACH encapsulation.  Other
   encapsulation types can be defined in the same way.  The snippet
   below depicts an example of several encapsulation types.

   identity technology-sub-type {
         description
         &quot;Certain implementations can have different
          encapsulation types such as IP/UDP, PW-ACH, and so on.
          Instead of defining separate models for each
          encapsulation, we define a technology subtype to
          further identify different encapsulations.
          Technology subtype is associated at the MA level.&quot;; }

              identity technology-sub-type-udp {
                base technology-sub-type;
                description
                  &quot;Technology subtype is IP/UDP encapsulation.&quot;;
              }

              identity technology-sub-type-ach {
                base technology-sub-type;
                description
                  &quot;Technology subtype is PW-ACH encapsulation.&quot;;
              }
              }

         augment &quot;/co-oam:domains/co-oam:domain&quot;
               + &quot;/co-oam:mas/co-oam:ma&quot; {
                leaf technology-sub-type {
                  type identityref {
                    base technology-sub-type;
                  }
                }
              }

7.2.2.  MA Configuration Extension

   MA level configuration parameters are management information that can
   be inherited in the MPLS-TP OAM model and set by the connection-
   oriented OAM base model as default values.  Examples of MA Name are
   MPLS-TP LSP MEG_ID, MEG Section ID, or MEG PW ID [RFC6370].

   Note that MA level configuration parameters provide context
   information for the management system to correlate faults, defects,
   and network failures with location information; this helps quickly
   identify root causes of network failures.

7.2.3.  MEP Configuration Extension

   In MPLS-TP, MEP-ID is either a variable-length label value in case of
   G-ACH encapsulation or a 2-octet unsigned integer value in case of
   IP/UDP encapsulation.  One example of MEP-ID is MPLS-TP LSP_MEP_ID

   [RFC6370].  In the connection-oriented base model, MEP-ID is defined
   as a choice/case node that can support an int32 value, and the same
   definition can be used for MPLS-TP with no further modification.  In
   addition, at the Maintenance association End Point (MEP) level (i.e.,
   at the third level), the MEP data node can be augmented with a
   session extension and interface extension.

8.  Security Considerations

   The YANG module specified in this document defines a schema for data
   that is designed to be accessed via network management protocols such
   as NETCONF [RFC6241] or RESTCONF [RFC8040].  The lowest NETCONF layer
   is the secure transport layer, and the mandatory-to-implement secure
   transport is Secure Shell (SSH) [RFC6242].  The lowest RESTCONF layer
   is HTTPS, and the mandatory-to-implement secure transport is TLS
   [RFC8446].

   The Network Configuration Access Control Model [RFC8341] provides the
   means to restrict access for particular NETCONF or RESTCONF users to
   a preconfigured subset of all available NETCONF or RESTCONF protocol
   operations and content.

   There are a number of data nodes defined in the YANG module that are
   writable/creatable/deletable (i.e., config true, which is the
   default).  These data nodes may be considered sensitive in some
   network environments.  Write operations (e.g., edit-config) to these
   data nodes without proper protection can have a negative effect on
   network operations.  These are the subtrees and data nodes and their
   sensitivity/vulnerability:

   /co-oam:domains/co-oam:domain/

   /co-oam:domains/co-oam:domain/co-oam:mas/co-oam:ma

   /co-oam:domains/co-oam:domain/co-oam:mas/co-oam:ma/co-oam:mep

   /co-oam:domains/co-oam:domain/co-oam:mas/co-oam:ma/co-oam:mep/
   co-oam:session

   Unauthorized access to any of these lists can adversely affect OAM
   management system handling of end-to-end OAM and coordination of OAM
   within underlying network layers.  This may lead to inconsistent
   configuration, reporting, and presentation for the OAM mechanisms
   used to manage the network.

9.  IANA Considerations

   This document registers a URI in the &quot;IETF XML Registry&quot; [RFC3688].
   The following registration has been made:

     URI: urn:ietf:params:xml:ns:yang:ietf-connection-oriented-oam
     Registrant Contact: The IESG.
     XML: N/A; the requested URI is an XML namespace.

   This document registers a YANG module in the &quot;YANG Module Names&quot;
   registry [RFC6020].

  name:         ietf-connection-oriented-oam
  namespace:    urn:ietf:params:xml:ns:yang:ietf-connection-oriented-oam
  prefix:       co-oam
  reference:    RFC 8531

10.  References

10.1.  Normative References

   [IEEE802.1Q]
              IEEE, &quot;IEEE Standard for Local and Metropolitan Area
              Networks-Bridges and Bridged Networks&quot;, IEEE Std 802.1Q.

   [RFC2119]  Bradner, S., &quot;Key words for use in RFCs to Indicate
              Requirement Levels&quot;, BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              &lt;https://www.rfc-editor.org/info/rfc2119&gt;.

   [RFC3688]  Mealling, M., &quot;The IETF XML Registry&quot;, BCP 81, RFC 3688,
              DOI 10.17487/RFC3688, January 2004,
              &lt;https://www.rfc-editor.org/info/rfc3688&gt;.

   [RFC6020]  Bjorklund, M., Ed., &quot;YANG - A Data Modeling Language for
              the Network Configuration Protocol (NETCONF)&quot;, RFC 6020,
              DOI 10.17487/RFC6020, October 2010,
              &lt;https://www.rfc-editor.org/info/rfc6020&gt;.

   [RFC6241]  Enns, R., Ed., Bjorklund, M., Ed., Schoenwaelder, J., Ed.,
              and A. Bierman, Ed., &quot;Network Configuration Protocol
              (NETCONF)&quot;, RFC 6241, DOI 10.17487/RFC6241, June 2011,
              &lt;https://www.rfc-editor.org/info/rfc6241&gt;.

   [RFC6242]  Wasserman, M., &quot;Using the NETCONF Protocol over Secure
              Shell (SSH)&quot;, RFC 6242, DOI 10.17487/RFC6242, June 2011,
              &lt;https://www.rfc-editor.org/info/rfc6242&gt;.

   [RFC6370]  Bocci, M., Swallow, G., and E. Gray, &quot;MPLS Transport
              Profile (MPLS-TP) Identifiers&quot;, RFC 6370,
              DOI 10.17487/RFC6370, September 2011,
              &lt;https://www.rfc-editor.org/info/rfc6370&gt;.

   [RFC6991]  Schoenwaelder, J., Ed., &quot;Common YANG Data Types&quot;,
              RFC 6991, DOI 10.17487/RFC6991, July 2013,
              &lt;https://www.rfc-editor.org/info/rfc6991&gt;.

   [RFC8040]  Bierman, A., Bjorklund, M., and K. Watsen, &quot;RESTCONF
              Protocol&quot;, RFC 8040, DOI 10.17487/RFC8040, January 2017,
              &lt;https://www.rfc-editor.org/info/rfc8040&gt;.

   [RFC8174]  Leiba, B., &quot;Ambiguity of Uppercase vs Lowercase in RFC
              2119 Key Words&quot;, BCP 14, RFC 8174, DOI 10.17487/RFC8174,
              May 2017, &lt;https://www.rfc-editor.org/info/rfc8174&gt;.

   [RFC8341]  Bierman, A. and M. Bjorklund, &quot;Network Configuration
              Access Control Model&quot;, STD 91, RFC 8341,
              DOI 10.17487/RFC8341, March 2018,
              &lt;https://www.rfc-editor.org/info/rfc8341&gt;.

   [RFC8343]  Bjorklund, M., &quot;A YANG Data Model for Interface
              Management&quot;, RFC 8343, DOI 10.17487/RFC8343, March 2018,
              &lt;https://www.rfc-editor.org/info/rfc8343&gt;.

   [RFC8446]  Rescorla, E., &quot;The Transport Layer Security (TLS) Protocol
              Version 1.3&quot;, RFC 8446, DOI 10.17487/RFC8446, August 2018,
              &lt;https://www.rfc-editor.org/info/rfc8446&gt;.

10.2.  Informative References

   [G.800]    &quot;Unified functional architecture of transport networks&quot;,
              ITU-T Recommendation G.800, 2016.

   [G.8013]   &quot;OAM functions and mechanisms for Ethernet based
              networks&quot;, ITU-T Recommendation G.8013/Y.1731, 2013.

   [MEF-17]   MEF Forum, &quot;Service OAM Requirements &amp; Framework - Phase
              1&quot;, MEF 17, April 2007.

   [MPLS-TP-OAM-YANG]
              Zhang, L., Zheng, L., Aldrin, S., and G. Mirsky, &quot;YANG
              Data Model for MPLS-TP Operations, Administration, and
              Maintenance (OAM)&quot;, Work in Progress, draft-zhang-mpls-tp-
              yang-oam-05, October 2017.

   [RFC6291]  Andersson, L., van Helvoort, H., Bonica, R., Romascanu,
              D., and S. Mansfield, &quot;Guidelines for the Use of the &quot;OAM&quot;
              Acronym in the IETF&quot;, BCP 161, RFC 6291,
              DOI 10.17487/RFC6291, June 2011,
              &lt;https://www.rfc-editor.org/info/rfc6291&gt;.

   [RFC6325]  Perlman, R., Eastlake 3rd, D., Dutt, D., Gai, S., and A.
              Ghanwani, &quot;Routing Bridges (RBridges): Base Protocol
              Specification&quot;, RFC 6325, DOI 10.17487/RFC6325, July 2011,
              &lt;https://www.rfc-editor.org/info/rfc6325&gt;.

   [RFC6371]  Busi, I., Ed. and D. Allan, Ed., &quot;Operations,
              Administration, and Maintenance Framework for MPLS-Based
              Transport Networks&quot;, RFC 6371, DOI 10.17487/RFC6371,
              September 2011, &lt;https://www.rfc-editor.org/info/rfc6371&gt;.

   [RFC6905]  Senevirathne, T., Bond, D., Aldrin, S., Li, Y., and R.
              Watve, &quot;Requirements for Operations, Administration, and
              Maintenance (OAM) in Transparent Interconnection of Lots
              of Links (TRILL)&quot;, RFC 6905, DOI 10.17487/RFC6905, March
              2013, &lt;https://www.rfc-editor.org/info/rfc6905&gt;.

   [RFC7174]  Salam, S., Senevirathne, T., Aldrin, S., and D. Eastlake
              3rd, &quot;Transparent Interconnection of Lots of Links (TRILL)
              Operations, Administration, and Maintenance (OAM)
              Framework&quot;, RFC 7174, DOI 10.17487/RFC7174, May 2014,
              &lt;https://www.rfc-editor.org/info/rfc7174&gt;.

   [RFC7276]  Mizrahi, T., Sprecher, N., Bellagamba, E., and Y.
              Weingarten, &quot;An Overview of Operations, Administration,
              and Maintenance (OAM) Tools&quot;, RFC 7276,
              DOI 10.17487/RFC7276, June 2014,
              &lt;https://www.rfc-editor.org/info/rfc7276&gt;.

   [RFC7455]  Senevirathne, T., Finn, N., Salam, S., Kumar, D., Eastlake
              3rd, D., Aldrin, S., and Y. Li, &quot;Transparent
              Interconnection of Lots of Links (TRILL): Fault
              Management&quot;, RFC 7455, DOI 10.17487/RFC7455, March 2015,
              &lt;https://www.rfc-editor.org/info/rfc7455&gt;.

   [RFC8340]  Bjorklund, M. and L. Berger, Ed., &quot;YANG Tree Diagrams&quot;,
              BCP 215, RFC 8340, DOI 10.17487/RFC8340, March 2018,
              &lt;https://www.rfc-editor.org/info/rfc8340&gt;.

   [RFC8342]  Bjorklund, M., Schoenwaelder, J., Shafer, P., Watsen, K.,
              and R. Wilton, &quot;Network Management Datastore Architecture
              (NMDA)&quot;, RFC 8342, DOI 10.17487/RFC8342, March 2018,
              &lt;https://www.rfc-editor.org/info/rfc8342&gt;.

   [RFC8532]  Kumar, D., Wang, M., Wu, Q., Ed., Rahman, R., and
              S. Raghavan, &quot;Generic YANG Data Model for the Management
              of Operations, Administration, and Maintenance (OAM)
              Protocols That Use Connectionless Communications&quot;,
              RFC 8532, DOI 10.17487/RFC8532, April 2019,
              &lt;https://www.rfc-editor.org/info/rfc8532&gt;.

   [TRILL-YANG]
              Weiguo, H., Yizhou, L., Kumar, D., Durrani, M., Zhai, H.,
              and L. Xia, &quot;TRILL YANG Data Model&quot;, Work in Progress,
              draft-ietf-trill-yang-04, December 2015.

   [TRILL-YANG-OAM]
              Kumar, D., Senevirathne, T., Finn, N., Salam, S., Xia, L.,
              and H. Weiguo, &quot;YANG Data Model for TRILL Operations,
              Administration, and Maintenance (OAM)&quot;, Work in Progress,
              draft-ietf-trill-yang-oam-05, March 2017.

Acknowledgments

   Giles Heron came up with the idea of developing a YANG data model as
   a way of creating a unified OAM API set (interface); this document
   was largely inspired by that.  Alexander Clemm provided many valuable
   tips, comments, and remarks that helped to refine the YANG data model
   presented in this document.

   Carlos Pignataro, David Ball, Mahesh Jethanandani, Benoit Claise,
   Ladislav Lhotka, Jens Guballa, Yuji Tochio, Gregory Mirsky, Huub van
   Helvoort, Tom Taylor, Dapeng Liu, Mishael Wexler, and Adi Molkho
   contributed to and participated in the development of this document.

Contributors

   Tissa Senevirathne
   Consultant

   Email: tsenevir@gmail.com


   Norman Finn
   CISCO Systems
   510 McCarthy Blvd
   Milpitas, CA  95035
   United States of America

   Email: nfinn@cisco.com

   Samer Salam
   CISCO Systems
   595 Burrard St. Suite 2123
   Vancouver, BC  V7X 1J1
   Canada

   Email: ssalam@cisco.com

Authors&#x27; Addresses

   Deepak Kumar
   CISCO Systems
   510 McCarthy Blvd
   Milpitas, CA  95035
   United States of America

   Email: dekumar@cisco.com


   Qin Wu
   Huawei
   101 Software Avenue, Yuhua District
   Nanjing, Jiangsu  210012
   China

   Email: bill.wu@huawei.com


   Michael Wang
   Huawei Technologies, Co., Ltd
   101 Software Avenue, Yuhua District
   Nanjing  210012
   China

   Email: wangzitao@huawei.com


        </re>
        
    </body>
</html>
