



NVO3                                                               Z. Gu
Internet-Draft                                                       ZTE
Intended status: Standards Track                        October 21, 2014
Expires: April 24, 2015


               Virtual Network Transport Protocol (VNTP)
                         draft-gu-nvo3-vntp-00

Abstract

   This document describes the overlay virtual network transport
   protocol, which is based on TCP, includes the interaction between NVE
   and NVA/NVE, and the related messages definition.  A new TCP port
   allocation is needed.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on April 24, 2015.

Copyright Notice

   Copyright (c) 2014 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.




Gu                       Expires April 24, 2015                 [Page 1]

Internet-Draft                    VNTP                      October 2014


Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Conventions Used in This Document . . . . . . . . . . . . . .   2
   3.  VNTP Overview . . . . . . . . . . . . . . . . . . . . . . . .   2
   4.  Message Format  . . . . . . . . . . . . . . . . . . . . . . .   3
     4.1.  VNTP Header format  . . . . . . . . . . . . . . . . . . .   3
     4.2.  Data Format . . . . . . . . . . . . . . . . . . . . . . .   4
     4.3.  Update Result Format  . . . . . . . . . . . . . . . . . .   4
   5.  Security Considerations . . . . . . . . . . . . . . . . . . .   4
   6.  IANA/IEEE Considerations  . . . . . . . . . . . . . . . . . .   4
   7.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   4
     7.1.  Normative references  . . . . . . . . . . . . . . . . . .   4
     7.2.  Informative References  . . . . . . . . . . . . . . . . .   4
   Author's Address  . . . . . . . . . . . . . . . . . . . . . . . .   5

1.  Introduction

   For NVO3 control plane,especially for NVE-NVA protocol, there are
   many mechanisms can be used to transport the information between NVE
   and NVA for NVO3, some choices include BGP, TCP,LDP, and other
   routing protocols such as IS-IS, OSPF etc or ever other methods/
   protocols.  From the viewpoint of simplicity, reliability, efficacy,
   extensiveness, and so on, this document chooses TCP as the base
   transfer mechanism for NVO3's NVE-NVA protocol, and further defines
   the messages used by this protocol.  A specific TCP port allocated
   for this usage is needed.

2.  Conventions Used in This Document

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].

3.  VNTP Overview

   Basically, NVA collects VN's NVE information by NVE's VN routing
   update messages, and then forwards the routing update information to
   all other NVEs in the same VN and not to any other NVEs.  If the VN
   routing update message is the first one in the VN to NVA, then NVA
   need forward nothing.

   Each NVE establishes a TCP connection to NVA and the connection used
   for all the VNs which reside in that NVE.

   The separation of different VN is realized by using VN-ID in each
   VNTP message.




Gu                       Expires April 24, 2015                 [Page 2]

Internet-Draft                    VNTP                      October 2014


   For simplicity of NVA, NVA generally need not store all the routing
   information about all VNs, only store the least information for the
   NVA-NVE interaction and VN routing updates; and nor forward all VN's
   routing information for single NVE in case of NVE's recovery.

   NVA directly forwards the VN's update information to all the related
   NVEs in VN, not other NVEs.

   NVA collects NV's NVE information by each NVE's VN's first update
   message or register message.

   For reliability reason, NVA may transfer the all other NVE address
   information to NVE in VN in case if NVA is down the NVE can update
   VRF to other NVE in VN directly.

   VNTP supports NVE's VRF/VN context recovery.

   Optionally, for HA, NVA can store all the NV's update information for
   late use.

   VNTP supports NVE-NVA mutual authentication.

   Optionally, VNTP supports automatic VN provisioning.

4.  Message Format

4.1.  VNTP Header format

   Using TCP's data field defines the VNTP's header.  It includes some
   fields, for example:

   Command: indicate the operations of the message is about, such as
   routing update, updating results, authentication, VN information
   transfer, automatic provisioning support.

   VN-ID: indicate different VN

   NVE address: used for overlay tunnel encapsulation

   Indication/Status: differentiate messages or for status information,
   for example the NVE's VN's first update message.

   Data length: length of address set, e.g. one or more IP or MAC
   address.

   Other Fields: for extension





Gu                       Expires April 24, 2015                 [Page 3]

Internet-Draft                    VNTP                      October 2014


4.2.  Data Format

   Mainly for routing information transportation, such as for L3 VN's
   prefix/masks or for L2 VN's MAC addresses which consist of one or
   more addressed.

   The address type is indicated by header field.

   Option Data may include: Automatic VN provisioning; NVE usage
   information; security information; VN's NVE list information.

4.3.  Update Result Format

   Mainly indicate the update result information for the purpose of
   troubleshooting.

   0000: update successfully

   0011: update failed

   0100: update successful/failed partially by detail info, such as one
   of NVE not acknowledging the update

   More information, TBD

5.  Security Considerations

   VNTP should support NVE and NVA mutual authentication.

6.  IANA/IEEE Considerations

   VNTP needs a specific TCP port allocation.

7.  References

7.1.  Normative references

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC2234]  Crocker, D., Ed. and P. Overell, "Augmented BNF for Syntax
              Specifications: ABNF", RFC 2234, November 1997.

7.2.  Informative References

   [RFC7365]  Lasserre, M., Balus, F., Morin, T., Bitar, N., and Y.
              Rekhter, "Framework for Data Center (DC) Network
              Virtualization", RFC 7365, October 2014.



Gu                       Expires April 24, 2015                 [Page 4]

Internet-Draft                    VNTP                      October 2014


Author's Address

   Zhongyu Gu
   ZTE
   50 Software Ave. Nanjing, Jiangsu, China

   Email: gu.zhongyu@zte.com.cn












































Gu                       Expires April 24, 2015                 [Page 5]
