



Routing Working Group                                          A. Mishra
Internet-Draft                                           M. Jethanandani
Intended status: Standards Track                               A. Saxena
Expires: October 25, 2015                              Ciena Corporation
                                                           S. Pallagatti
                                                        Juniper Networks
                                                                 M. Chen
                                                                  Huawei
                                                          April 23, 2015


                             BFD Stability
                   draft-ashesh-bfd-stability-02.txt

Abstract

   This document describes extensions to the Bidirectional Forwarding
   Detection (BFD) protocol to measure BFD stability.  Specifically, it
   describes a mechanism for detection of BFD frame loss.

Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in <xref
   target="RFC2119">RFC 2119</xref>.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on October 25, 2015.








Mishra, et al.          Expires October 25, 2015                [Page 1]

Internet-Draft                BFD Stability                   April 2015


Copyright Notice

   Copyright (c) 2015 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  BFD Null-Authentication TLV . . . . . . . . . . . . . . . . .   2
   3.  Theory of Operations  . . . . . . . . . . . . . . . . . . . .   3
   4.  IANA Requirements . . . . . . . . . . . . . . . . . . . . . .   4
   5.  Security Consideration  . . . . . . . . . . . . . . . . . . .   4
   6.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   4
   7.  Normative References  . . . . . . . . . . . . . . . . . . . .   4
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   4

1.  Introduction

   The Bidirectional Forwarding Detection (BFD) protocol operates by
   transmitting and receiving control frames, generally at high
   frequency, over the datapath being monitored.  In order to prevent
   significant data loss due to a datapath failure, the tolerance for
   lost or delayed frames (the Detection Time as described in RFC 5880)
   is set to the smallest feasible value.

   This document proposes a mechanism to detect lost frames in a BFD
   session in addition to the datapath fault detection mechanisms of
   BFD.  Such a mechanism presents significant value with the ability to
   measure the stability of BFD sessions and provides data to the
   operators.

2.  BFD Null-Authentication TLV

   The functionality proposed for BFD stability measurement is achieved
   by appending the Null-Authentication TLV to the BFD control frame.

   The Null-Authentication TLV (called 0-Auth in this document) extends
   the existing BFD Authentication TLV structure by adding a new Auth-



Mishra, et al.          Expires October 25, 2015                [Page 2]

Internet-Draft                BFD Stability                   April 2015


   Type of <IANA Assigned>.  This TLV carries the Sequence Number for
   frame loss measurement.

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |   Auth Type   |   Auth Len    |  Auth Key ID  |   Reserved    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                        Sequence Number                        |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                      Reserved for Future                      |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                      Reserved for Future                      |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   where:

   Auth Type: The Authentication Type, which in this case is <IANA
   assigned> (Null Authentication).

   Auth Len: The length of the Authentication Section, in bytes.  Set to
   12.

   Auth Key ID: The Authentication Key ID in use for this packet.  This
   MUST be set to zero on transmit, and ignored on receipt.

   Reserved: This byte MUST be set to zero on transmit, and ignored on
   receipt.

   Reserved for Future: For future extensions.  MUST be set to 0 if not
   used.

   Sequence Number: This indicates the sequence number for this packet
   and MUST be present in every 0-Auth TLV.  This value is incremented
   by 1 for every frame transmitted while the session state is UP.  A
   value of 0 indicates a request by sender to reset the sequence number
   correlation logic at the receiver.  The first frame transmitted by
   the sender MAY set this field to 0.

3.  Theory of Operations

   This mechanism allows operator to measure the loss of BFD CC frames.

   This measurement counts the number of BFD control frames missed at
   the receiver due to a transient change in the network such as
   congestion.  Frame-loss is detected by comparing the Sequence Number
   field in the 0-Auth TLV in successive BFD CC frames.  The Sequence




Mishra, et al.          Expires October 25, 2015                [Page 3]

Internet-Draft                BFD Stability                   April 2015


   Number in each successive control frame generated on a BFD session by
   the transmitter is incremented by one.

   The first BFD Loss-Delay TLV processed by the receiver that has a
   non-zero sequence number is used for bootstrapping the logic.  Each
   successive frame after this is expected to have a Sequence Number
   that is one greater than the Sequence Number in the previous frame.

4.  IANA Requirements

   IANA is requested to assign new Auth-Type for the Null-Authentication
   TLV for BFD Stability Measurement.  The following number is
   suggested.

   Value Meaning

   6 Null-Authentication TLV

5.  Security Consideration

   Since this method uses an authentication TLV to achive the
   functionality, usage of this TLV will prevent the use of other
   authentication TLVs.

6.  Acknowledgements

   Nobo Akiya, Jeffery Haas, Peng Fan, Dileep Singh, Basil Saji, Sagar
   Soni and Mallik Mudigonda also conributed to this document.

7.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC5880]  Katz, D. and D. Ward, "Bidirectional Forwarding Detection
              (BFD)", RFC 5880, June 2010.

Authors' Addresses

   Ashesh Mishra
   Ciena Corporation
   3939 North 1st Street
   San Jose, CA  95134
   USA

   Email: mishra.ashesh@gmail.com
   URI:   www.ciena.com




Mishra, et al.          Expires October 25, 2015                [Page 4]

Internet-Draft                BFD Stability                   April 2015


   Mahesh Jethanandani
   Ciena Corporation
   3939 North 1st Street
   San Jose, CA  95134
   USA

   Email: mjethanandani@gmail.com
   URI:   www.ciena.com


   Ankur Saxena
   Ciena Corporation
   3939 North 1st Street
   San Jose, CA  95134
   USA

   Email: ankurpsaxena@gmail.com


   Santosh Pallagatti
   Juniper Networks
   Juniper Networks, Exora Business Park
   Bangalore, Karnataka  560103
   India

   Phone: +
   Email: santoshpk@juniper.net


   Mach Chen
   Huawei

   Email: mach.chen@huawei.com


















Mishra, et al.          Expires October 25, 2015                [Page 5]
