Internet Engineering Task Force                                M. Hattig
INTERNET DRAFT                                                Intel Corp
                                                           June 24, 1999


                         Home Network Requirements
                     draft-hattig-homenet-reqts-00.txt

Status of This Memo

   This document is a submission by the author for consideration by the
   NITS BOF of the Internet Engineering Task Force (IETF).  Comments
   should be submitted to the nits@merit.edu mailing list.

   Distribution of this memo is unlimited.

   This document is an Internet-Draft and is in full conformance with
   all provisions of Section 10 of RFC2026.  Internet-Drafts are working
   documents of the Internet Engineering Task Force (IETF), its areas,
   and its working groups.  Note that other groups may also distribute
   working documents as Internet-Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at:
   http://www.ietf.org/ietf/1id-abstracts.txt

   The list of Internet-Draft Shadow Directories can be accessed at:
   http://www.ietf.org/shadow.html.

Abstract

   Current home networking protocols consist of home automation
   protocols, consumer electronics protocols for audio/video systems,
   and TCP/IP for data networking. This document focuses on TCP/IP
   protocols for home networking. Specifically in this document, home
   networking is TCP/IP data networking between devices in a single
   home, between devices in separate homes, between devices in the home
   and on the Internet, and between devices in the home and on a secure
   corporate network. This document provides requirements for this type
   of home networking.

   The goals of establishing requirements are to develop a common
   understanding of TCP/IP home networking within the IETF so that
   various IETF Work Groups can define protocols useable in home
   networks and to establish best common practices for manufactures of
   TCP/IP home network devices. Ultimately, the goal is to have multi-
   vendor TCP/IP home network devices that interoperate with minimal
   human configuration.

   This document includes many of the ideas discussed on Networks In The
   Small (NITS) nits@merit.edu list. Draft-guttman-nits-reqts-00.txt
   should be read before reading this draft to give the reader the
   proper perspective of the current discussion on the nits@merit.edu
   list. This home network draft hopes to add to the NITS effort in the
   following areas:
   1. Provide a strictly home network perspective of NITS to help
      evaluate the meaning of SMALL.
   2. Promote specific scenarios important to home networks.
   3. Provide specific requirements for home networks.
   4. Show the diversity of home networks to promote the acceptance of
      routers and multiple IP subnets in SMALL networks.

draft-hattig-homenet-reqts-00.txt    Expires Jan 24, 2000       Page [i]
Internet Draft      Home Network Requirements             June 24,  1999



                             Table of Contents
1   Introduction.....................................................1
2   Home Network Definition..........................................1
3   Scenarios........................................................1
3.1  Intra-Home Networking...........................................2
3.2  Internet Access Sharing.........................................2
3.3  Telecommuting...................................................2
3.4  Inter-Home Networking...........................................2
3.5  Services from Home..............................................2
3.6  Security........................................................3
4   Requirements.....................................................3
4.1  Scenarios requirements..........................................3
4.2  In-Home Internetworking.........................................4
4.2.1   Bridging.....................................................4
4.2.2   Routing......................................................5
4.2.3   Bridge or route..............................................5
4.2.4   Requirements.................................................6
5   Full Copyright Statement.........................................6
6   Author's Address.................................................6
7   References.......................................................6

1  Introduction

   This document defines home networks, states home network scenarios,
   and states home network requirements.

2  Home Network Definition

   This section provides an anecdotal definition of home networks. An
   anecdotal definition spans the gap between the varying definitions
   and ideas regarding home networks.

   Most people agree that home networks will service a limited number of
   humans such as the number of people in a single family. Less clear
   are the numbers of devices and services that will exist in the home
   network. Services may range from file sharing, to time of day, to a
   DNS server. Some project the number of devices may reach several
   hundred and the number of services may reach several thousand. Most
   agree that home networks will not scale up to tens of thousands of
   devices or services. The requirements in this document recognize
   these ranges but make no attempts support a specific number of
   devices or services.

   Another diversity in the home network will be the link-layer
   networks. In-the-home link-layer networks will range from low-
   bandwidth power-line networks to high-bandwidth IEEE 1394 networks.
   To-the-home link-layers range from 9600-baud modems to broadband
   cable or ADSL modems.

   Hosts such as thermostats, VCRs, and PCs will communicate to each
   other within the home. Hosts will communicate outside the home
   through a residential gateway. Network devices such as bridges and
   routers will connect in-the-home networks using link-layer or network
   layer protocols. Gateways will connect higher-layer protocols in the
   home.

   Note the terms from this section that are commonly used througout 
   this document are devices, services, in-the-home networks, to-the-
   home networks, hosts, residential gateways, and network devices.

3  Scenarios

draft-hattig-homenet-reqts-00.txt    Expires Jan 24, 2000       Page [1]
Internet Draft      Home Network Requirements             June 24,  1999

   The below scenarios start with a description of the actions or user
   benefit, then state the basic problems associated with the scenario.

3.1 Intra-Home Networking

   Intra-home networking allows user to game, share, and communicate
   within the home. In addition, devices can communicate without user
   interaction.

   Configuration of users profiles, device names, network interfaces,
   services, and applications are currently too complex.

3.2 Internet Access Sharing

   Internet sharing is multiple users simultaneously sharing Internet
   access. That is, individual users may independently access the
   Internet to game, share (e.g. file, printer), and communicate (e.g.
   email, web browse). Also, a single device may connect to the
   Internet, then several devices may be programmed to automatically
   perform batch-like activities through shared access to the Internet.

   If all devices in the home have globally addressable IPv4 or IPv6
   addresses this scenario generates few unique requirements. However,
   Internet Service Providers (ISP) generally do not use IPv6. Each
   additional globally unique IPv4 address from an ISP - if the ISP
   provides multiple IPv4 addresses - generally cost an additional
   monthly fee. A few users may pay extra for a second IPv4 address, but
   as the number of devices in the home increase, either the consumer
   will not purchase enough IPv4 addresses or the ISP will not have
   enough addresses for all devices in all the subscribers' homes. The
   reality is that many devices in the home will share a limited number
   of globally unique IPv4 addresses.

3.3 Telecommuting

   Single user telecommutes to a corporate net via a virtual private 
   network (VPN).

   This communication must be secure when traversing the Internet and
   possibly when traversing the in-the-home links. The host in the home
   must communicate through the residential gateway and through the
   firewall of the corporate LAN.

   In addition, the host (e.g. laptop PC) will likely be brought home
   from the office. When operating on the corporate LAN at the office,
   the host likely depends on DHCP, DNS, file servers, mail servers,
   etc. These services may be either different or non-existent in the
   home network; therefore, the host must adapt from the corporate
   environment to the home environment.

3.4 Inter-Home Networking

   Single user games, shares, and communicates to another home via VPN.

   This communication may need to be secure when traversing the
   Internet. The host in a home must communicate through the local
   residential gateway, then through the residential gateway of the
   other home.

3.5 Services from Home

   Allow in-home servers to be accessed from the Internet. An example is
   a WEB server that provides all the Web pages that all family members

draft-hattig-homenet-reqts-00.txt    Expires Jan 24, 2000       Page [2]
Internet Draft      Home Network Requirements             June 24,  1999

   wish to publish to the Internet. Another example is a VCR service
   where someone can program the VCR in the home from the office.

   The server needs to be accessible from the Internet. The server may
   have a globally unique IPv4 address or the residential gateway may
   act as some type of proxy to forward information to the server over
   the home network.

   In addition, a service may be discoverable from the Internet. If
   the residential gateway is acting as a proxy, the residential 
   gateway must first discover the server, then expose the service to
   the Internet.

3.6 Security

   Security in some form or another is necessary for all the above
   scenarios. The descriptions of telecommuting and VPN access to
   another home describe the security for those scenarios. That leaves
   three other scenarios to consider: intra-home networking, Internet
   access sharing, and services from the home.

   Users, devices, services, protocols, and applications need controlled
   access to and from various users, devices, services, protocols, and
   applications. This may affect the design of user profiles, devices,
   services, protocols, and applications.

4  Requirements

   The first sub-section below provides requirements necessary to
   satisfy the scenarios. Subsequent subsections provide specific
   requirements related to specific topics. The descriptions of the
   scenarios provide the motivation for those requirements. The 
   motivate for specific topics is provided with those sections. 
   Currently the only specific topic is in-home internetworking.

   The common thread to all home network requirements is that minimal
   human effort should be exerted to configure, maintain, and use the
   network.


4.1 Scenarios requirements

   Here are the requirements for the scenarios listed in section 3.0.
   Some requirements may apply to more than one scenario, but in most
   cases are not duplicated.

   Intra-home networking:
   1. Auto configuration of network interface
   2. Auto resolution of host name to IP address
   3. Auto configuration of services
   4. Auto configuration of applications
   5. Auto discovery of services
   6. Auto discovery of applications
   7. Easy configuration of user, device, service, protocol, and
      application access
   8. Users, devices, services, protocols, and applications have
      controlled access to and from any combination of users, devices,
      services, protocols, or applications
   9. Communication among hosts on different link-layer networks (see
      section 4.2)


draft-hattig-homenet-reqts-00.txt    Expires Jan 24, 2000       Page [3]
Internet Draft      Home Network Requirements             June 24,  1999


   Shared Access to the Internet:
   1. Allow hosts in the home to simultaneously access the Internet
      using a limited number globally unique IPv4 addresses
   2. Forward requests (e.g. DNS resolution, DHCP request) to outside
      the home when the request cannot be satisfied within the home-
      network (this is really just Internet access, not shared Internet
      access)

   Telecommuting:
   1. Host must coordinate with the residential gateway or rely on the
      residential gateway to communicate with firewall of the corporate
      LAN to access the corporate network
   2. Host must be easily adapt from operating on the corporate LAN to
      operating on the home network

   Inter-Home Networking:
   1. Host must with the residential gateway or solely rely on the
      residential gateway to communicate with residential gateway of the
      other home.

   Services from the Home:
   1. Allow access from the Internet to a home server

   Security
   1. Users, devices, services, protocols, and applications have
      controlled access to and from users profiles, devices, services,
      protocols, or applications
   2. Residential gateway is configurable to allow certain protocols in
      and out of home network
   3. Encrypt to protect data when necessary


4.2 In-Home Internetworking

   With the diversity of in-the-home link-layer protocols, it is obvious
   that internetworking in some form is required to allow hosts on
   different links to communicate. Internetworking requires solving the
   problems of link-layer specific address spaces, link-layer specific
   max packet sizes, and link-layer specific bandwidths. Internetworking
   can be accomplished through bridging or routing.

4.2.1   Bridging

   Bridging is internetworking based on link-layer (layer 2) protocols.

   With bridging, if the address spaces differ on each link-layer, then
   a mapping and a set of pseudo-link-addresses must be created for each
   address space. Then, on each in-the-home link, a proxy function must
   respond for the devices not on the local link and perform the
   appropriate address mapping.

   If the max packet size differs on each link-layer, either packet
   fragmentation or some mechanism to restrict the size of the packets
   to the least common size must exist. With either solution, the
   solution must be present in all bridge and host interfaces operating
   on a link-layer network. When new link-layer protocols are
   introduced, either one of the solutions may restrict the new link-
   layer protocols or obsolete legacy protocols.

   Depending on bandwidth dissimilarity, it may be sufficient to simply
   drop packets when one particular link is flooded. Alternately, some
   sort of bandwidth management may reduce the number of lost packets.

draft-hattig-homenet-reqts-00.txt    Expires Jan 24, 2000       Page [4]
Internet Draft      Home Network Requirements             June 24,  1999


4.2.2  Routing

   Routing is internetworking based on network-layer (layer 3)
   protocols. The Internet Protocol (IP) is the network layer protocol
   considered. IP has generic mechanisms for dealing with different
   link-layer address spaces and different link-layer packet sizes.
   Several TCP/IP solutions exist for managing bandwidth independent of
   link-layer protocols.

   With IP routing, address resolution protocols (arp) for specific
   link-layers translate from the link-layer addresses to IP addresses,
   then IP addressing is used as the common address space. This resolves
   any differences in any link-layer address spaces.

   Either IP fragmentation or a specific link-layer fragmentation
   (defined for IP over the specific link-layer) resolves any
   differences in link-layer max packet sizes.

4.2.3 Bridge or route

   In general bridging is more desirable than routing because routing
   requires support for multiple IP subnets and routers. Unfortunately,
   in some cases bridging may more difficult than routing.

   Consider 10 Mbps Ethernet, HomePNA (Phone Line), and IEEE 1394.
   Ethernet uses 48-bit Ethernet addresses, a 1500-byte max packet size,
   and 10 Mbps of bandwidth. HomePNA uses 48-bit IEEE allocated Ethernet
   addresses, a 1500-byte max packet size, and 1 Mbps bandwidth. IEEE
   1394 uses a 64-bit address. There are three 1394 interfaces called
   S100, S200, S400. The max packet sizes are 512, 1024, and 2048 bytes.
   The bandwidths are 100 Mbps, 200 Mbps, and 400 Mbps.

   The address space for 10 Mbps Ethernet and HomePNA is the same; it is
   the IEEE allocated 48 bit Ethernet addresses. Max packet sizes for
   the two links are identical. In addition, the bandwidths are
   reasonably similar. 10 Mbps Ethernet to HomePNA internetworking will
   most likely be done through a bridge.

   Internetworking between IEEE 1394 and HomePNA is more complex. The
   address spaces have a different number of bits and there is no direct
   (e.g. bit mask lower 48 bits) mapping between the address spaces. A
   proxy would be necessary to generate pseudo-Ethernet addresses,
   psuedo-1394 addresses, then translate the pseudo-addresses to actual
   addresses. The pseudo-addresses would have to be unique from actual
   addresses; this is particularly difficult with 1394 because part of
   the 64 bit 1394 address changes dynamically when devices are added
   and remove from the 1394 bus.

   The link-layer fragmentation scheme defined in xxxx.txt could be
   implemented in the bridge to resolve the difference in packet sizes.
   End 1394 devices supporting IP/1394 would already implement this link
   fragmentation.

   A device with a 400 Mbps 1394 interface could easily flood a 1 Mbps
   HomePNA link; thus bandwidth management is highly desirable.

   This illustrates that internetworking between disparate networks such
   as HomePNA and 1394 will most likely be done with a router.





draft-hattig-homenet-reqts-00.txt    Expires Jan 24, 2000       Page [5]
Internet Draft      Home Network Requirements             June 24,  1999

4.2.4 Requirements

   In most cases bridging will be the best internetworking solution. In
   some cases - most of which we cannot imagine today - routing will be
   the best internetworking solution. This means requirements for
   routers should be stated. In addition, multiple IP subnets require
   protocols (e.g. auto network configuration) be designed for unique
   network portions of IPv4 addresses for each IP subnet, and IPv4
   addresses that are routable within a home network.

5  Full Copyright Statement

   Copyright (C) The Internet Society (1999).  All Rights Reserved.

   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works.  However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.

   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assigns.

   This document and the information contained herein is provided on an
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE."

6  Author's Address

   Myron Hattig
   Intel Corp.
   2111 NE 25TH    JF3 206
   Hillsboro, OR 97124 USA

   voice: 503-264-4522
   email: myron.hattig@intel.com

7  References

   [1] S. Bradner.  Key words for use in RFCs to Indicate Requirement
          Levels.  RFC 2119, March 1997.

   [2] E. Guttman, draft-guttman-nits-reqts-00.txt, June 1999 A
          work in progress.

   [3] R. Troll  Automatically Choosing an IP Address in an Ad-Hoc IPv4
          Network  draft-ietf-dhc-ipv4-autoconfig-04.txt  April, 1999. A
          work in progress.

   [4] P. Johansson, draft-ietf-ip1394-ipv4-15.txt, May 1999 A
          work in progress.

   [5] IEEE Std 1394-1995, Standard for a High Performance Serial Bus
































































draft-hattig-homenet-reqts-00.txt    Expires Jan 24, 2000       Page [7]
