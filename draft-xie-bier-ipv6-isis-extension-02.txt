



Network Working Group                                             J. Xie
Internet-Draft                                       Huawei Technologies
Intended status: Standards Track                                 A. Wang
Expires: April 30, 2021                                    China Telecom
                                                                  G. Yan
                                                             S. Dhanaraj
                                                                 X. Geng
                                                     Huawei Technologies
                                                        October 27, 2020


           BIER IPv6 Encapsulation (BIERv6) Support via IS-IS
                 draft-xie-bier-ipv6-isis-extension-02

Abstract

   This document defines IS-IS extensions to support multicast
   forwarding using the Bit Index Explicit Replication (BIER) with IPv6
   encapsulation (BIERv6).

Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [RFC2119] and
   [RFC8174].

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on April 30, 2021.








Xie, et al.              Expires April 30, 2021                 [Page 1]

Internet-Draft              BIERv6 Via IS-IS                October 2020


Copyright Notice

   Copyright (c) 2020 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   3
   3.  Specification . . . . . . . . . . . . . . . . . . . . . . . .   3
     3.1.  Encapsulation sub-sub-TLV of End.BIER address . . . . . .   3
     3.2.  Encapsulation sub-sub-TLV of BIFT-id for each BSL . . . .   4
   4.  Security Considerations . . . . . . . . . . . . . . . . . . .   5
   5.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   5
     5.1.  Encapsulation sub-sub-TLV Type Code . . . . . . . . . . .   5
   6.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   5
   7.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   5
     7.1.  Normative References  . . . . . . . . . . . . . . . . . .   5
     7.2.  Informative References  . . . . . . . . . . . . . . . . .   6
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   6

1.  Introduction

   This document defines IS-IS extensions to support multicast
   forwarding using the Bit Index Explicit Replication (BIER) with IPv6
   encapsulation (BIERv6).

   The BIER IPv6 encapsulation [I-D.xie-bier-ipv6-encapsulation] uses a
   "BIER specific" IPv6 unicast address, the "End.BIER" address,
   configured locally on a BIER Forwarding Router (BFR) to indicate a
   "BIER specific handling" in Forwarding Information Base (FIB).  This
   BIER specific IPv6 address, used as part of BIER IPv6 encapsulation,
   is advertised as a type of Encapsulation sub-sub-TLV within the BIER
   Info sub-TLV defined [RFC8401].

   The BIFT-id field for each BSL of each Sub-domain is another part of
   BIER IPv6 encapsulation, and is advertised as a type of Encapsulation
   sub-sub-TLV within the BIER Info sub-TLV defined [RFC8401].



Xie, et al.              Expires April 30, 2021                 [Page 2]

Internet-Draft              BIERv6 Via IS-IS                October 2020


   The BIER Sub-TLV is advertised within the extended IP reachability
   TLV as specified by in [RFC8401].

   Note the extended IP reachability only includes the TLV 236 (IPv6 IP
   Reach TLV) [RFC5308] and TLV 237 (MT IPv6 IP Reach TLVs) [RFC5120] in
   this document.

   The following restrictions defined for BIER Sub-TLV in section 4.2 of
   [RFC8401] apply equally to this document:

   o  Prefix length MUST be 128 for an IPv6 prefix.

   o  When the Prefix Attributes Flags sub-TLV [RFC7794] is present, the
      N flag MUST be set and the R flag MUST NOT be set.

   o  BIER sub-TLVs and Function Sub-TLVs MUST be included when a prefix
      reachability advertisement is leaked between levels.

2.  Terminology

   Readers of this document are assumed to be familiar with the
   terminology and concepts of the documents listed as Normative
   References.

3.  Specification

3.1.  Encapsulation sub-sub-TLV of End.BIER address

   The Encapsulation sub-sub-TLV carries the information for the
   End.BIER address of a sub-domain for BIER IPv6 encapsulation.  It is
   advertised within the BIER Info sub-TLV defined in [RFC8401] which
   in-turn is carried within the TLVs 236 or 237.  This sub-sub-TLV MUST
   appear no more than one time within a single BIER Info sub-TLV.  If
   the sub-sub-TLV appears more than one time, the BIER Info sub-TLV
   MUST be ignored.

        0                   1                   2                   3
        0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |    Type       |     Length    |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                                                               |
       |                          End.BIER address                     |
       |                                                               |
       |                                                               |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+





Xie, et al.              Expires April 30, 2021                 [Page 3]

Internet-Draft              BIERv6 Via IS-IS                October 2020


   Type: 1 octet value indicating "Encapsulation of End.BIER" this IPv6
   prefix bound to.  TBD1 to be assigned by IANA.

   Length: 1 octet length in octets.  Value 16 is set to this field.

   End.BIER address: 16 octets IPv6 address.

3.2.  Encapsulation sub-sub-TLV of BIFT-id for each BSL

   The Encapsulation sub-sub-TLV carries the information for the BIER
   IPv6 encapsulation of a specific BitString length.  It is advertised
   within the BIER Info sub-TLV defined in [RFC8401] which in-turn is
   carried within the TLVs 236 or 237.  This sub-sub-TLV MAY appear
   multiple times within a single BIER Info sub-TLV.  If the same
   BitString length is repeated in multiple sub-sub-TLVs inside the same
   BIER Info sub- TLV, the BIER Info sub-TLV MUST be ignored.

   When a BIER IPv6 encapsulation sub-sub-TLV of BIFT-id for any BSL
   appears in a BIER Info sub-TLV, one End.BIER Encapsulation sub-sub-
   TLV MUST appears in the BIER info sub-TLV, otherwise the BIER Info
   sub-TLV MUST be ignored.

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |    Type       |   Length      |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |   Max SI      |BS Len |                  BIFT-id              |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   Type: 1 octet value indicating BIER IPv6 encapsulation.  TBD2 to be
   assigned by IANA.

   Length: 1 octet length in octets.  Value 4 is set to this field.

   Max SI: 1 octet value.  Maximum Set Identifier (Section 1 of
   [RFC8279]) used in the encapsulation for this BIER sub-domain for
   this BitString length.  Each SI maps to a single BIFT-id in the BIFT-
   id range.  The first BIFT-id is for SI=0, the second BIFT-id is for
   SI=1, etc.  If the BIFT-id associated with the Maximum Set Identifier
   exceeds the 20-bit range, the sub-sub-TLV MUST be ignored.

   BS Len: 4 bits value of Local BitString Length.  Encoded BitString
   length as per [RFC8296].

   BIFT-id: 20 bits value.  First BIFT-id of the range.  The BIFT-id(s)
   are as defined in [RFC8296], or refer to
   [I-D.ietf-bier-lsr-ethernet-extensions] for Non-MPLS encapsulation.



Xie, et al.              Expires April 30, 2021                 [Page 4]

Internet-Draft              BIERv6 Via IS-IS                October 2020


4.  Security Considerations

   The security considerations defined in [RFC8401] and
   [I-D.xie-bier-ipv6-encapsulation] apply equally to this document.

5.  IANA Considerations

5.1.  Encapsulation sub-sub-TLV Type Code

   Allocation is expected from IANA for two sub-sub-TLV codepoints from
   the "sub-sub-TLVs for BIER Info sub-TLV" sub-registry.

   Type: TBD1 to be assigned by IANA.

   Name: BIER IPv6 encapsulation of End.BIER address.

   Reference: This document.

   Type: TBD2 to be assigned by IANA.

   Name: BIER IPv6 Encapsulation of BIFT-id for each BSL.

   Reference: This document

6.  Acknowledgements

   TBD.

7.  References

7.1.  Normative References

   [I-D.ietf-bier-lsr-ethernet-extensions]
              Dhanaraj, S., Wijnands, I., Psenak, P., Zhang, Z., Yan,
              G., and J. Xie, "LSR Extensions for BIER over Ethernet",
              draft-ietf-bier-lsr-ethernet-extensions-01 (work in
              progress), July 2019.

   [I-D.xie-bier-ipv6-encapsulation]
              Xie, J., Geng, L., McBride, M., Asati, R., Dhanaraj, S.,
              Zhu, Y., Qin, Z., Shin, M., Mishra, G., and X. Geng,
              "Encapsulation for BIER in Non-MPLS IPv6 Networks", draft-
              xie-bier-ipv6-encapsulation-08 (work in progress), July
              2020.







Xie, et al.              Expires April 30, 2021                 [Page 5]

Internet-Draft              BIERv6 Via IS-IS                October 2020


   [RFC5120]  Przygienda, T., Shen, N., and N. Sheth, "M-ISIS: Multi
              Topology (MT) Routing in Intermediate System to
              Intermediate Systems (IS-ISs)", RFC 5120,
              DOI 10.17487/RFC5120, February 2008,
              <https://www.rfc-editor.org/info/rfc5120>.

   [RFC5308]  Hopps, C., "Routing IPv6 with IS-IS", RFC 5308,
              DOI 10.17487/RFC5308, October 2008,
              <https://www.rfc-editor.org/info/rfc5308>.

   [RFC7794]  Ginsberg, L., Ed., Decraene, B., Previdi, S., Xu, X., and
              U. Chunduri, "IS-IS Prefix Attributes for Extended IPv4
              and IPv6 Reachability", RFC 7794, DOI 10.17487/RFC7794,
              March 2016, <https://www.rfc-editor.org/info/rfc7794>.

   [RFC8279]  Wijnands, IJ., Ed., Rosen, E., Ed., Dolganow, A.,
              Przygienda, T., and S. Aldrin, "Multicast Using Bit Index
              Explicit Replication (BIER)", RFC 8279,
              DOI 10.17487/RFC8279, November 2017,
              <https://www.rfc-editor.org/info/rfc8279>.

   [RFC8296]  Wijnands, IJ., Ed., Rosen, E., Ed., Dolganow, A.,
              Tantsura, J., Aldrin, S., and I. Meilik, "Encapsulation
              for Bit Index Explicit Replication (BIER) in MPLS and Non-
              MPLS Networks", RFC 8296, DOI 10.17487/RFC8296, January
              2018, <https://www.rfc-editor.org/info/rfc8296>.

   [RFC8401]  Ginsberg, L., Ed., Przygienda, T., Aldrin, S., and Z.
              Zhang, "Bit Index Explicit Replication (BIER) Support via
              IS-IS", RFC 8401, DOI 10.17487/RFC8401, June 2018,
              <https://www.rfc-editor.org/info/rfc8401>.

7.2.  Informative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.

   [RFC8174]  Leiba, B., "Ambiguity of Uppercase vs Lowercase in RFC
              2119 Key Words", BCP 14, RFC 8174, DOI 10.17487/RFC8174,
              May 2017, <https://www.rfc-editor.org/info/rfc8174>.

Authors' Addresses







Xie, et al.              Expires April 30, 2021                 [Page 6]

Internet-Draft              BIERv6 Via IS-IS                October 2020


   Jingrong Xie
   Huawei Technologies

   Email: xiejingrong@huawei.com


   Aijun Wang
   China Telecom

   Email: wangaj3@chinatelecom.cn


   Gang Yan
   Huawei Technologies

   Email: yangang@huawei.com


   Senthil Dhanaraj
   Huawei Technologies

   Email: senthil.dhanaraj@huawei.com


   Xuesong Geng
   Huawei Technologies

   Email: gengxuesong@huawei.com























Xie, et al.              Expires April 30, 2021                 [Page 7]
