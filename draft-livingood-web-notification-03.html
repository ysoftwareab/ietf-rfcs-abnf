<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Example of an ISP Web Notification System</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Example of an ISP Web Notification System">
<meta name="keywords" content="RFC, Request for Comments, I-D, Internet-Draft, XML, Extensible Markup Language, notification, Comcast, ISP, Internet Service Provider, bot remediation, bot notification">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Internet Engineering Task Force</td><td class="header">C. Chung</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">A. Kasyanov</td></tr>
<tr><td class="header">Intended status: Informational</td><td class="header">J. Livingood</td></tr>
<tr><td class="header">Expires: September 23, 2010</td><td class="header">N. Mody</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Comcast</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">B. Van Lieu</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Unaffiliated</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">March 22, 2010</td></tr>
</table></td></tr></table>
<h1><br />Example of an ISP Web Notification System<br />draft-livingood-web-notification-03</h1>

<h3>Abstract</h3>

<p>The objective of this document is to describe one method of providing notifications to web browsers that has been deployed by Comcast, a large Internet Service Provider (ISP).  Such a notification system can be used by an ISP to provide near-immediate notifications to their users, such as to warn them that their traffic exhibits patterns that are indicative of malware or virus infection, for example.  There are other proprietary systems that can perform such notifications but these systems utilize Deep Packet Inspection (DPI) technology. This document describes one example of a system that does not rely upon DPI, and is instead based in open standards and open source applications. While the system described herein is in some ways specific to the Data-Over-Cable Service Interface Specifications (DOCSIS) networks used by most cable-based broadband ISPs, components and concepts described in this document can generally be applied to many different types of networks.
</p>
<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted to IETF in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on September 23, 2010.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2010 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents
(http://trustee.ietf.org/license-info) in effect on the date of
publication of this document.  Please review these documents
carefully, as they describe your rights and restrictions with respect
to this document. Code Components extracted from this document must
include Simplified BSD License text as described in Section 4.e of
the Trust Legal Provisions and are provided without warranty as
described in the BSD License.</p>
<p>
This document may contain material from IETF Documents or IETF
Contributions published or made publicly available before November
10, 2008.  The person(s) controlling the copyright in some of this
material may not have granted the IETF Trust the right to allow
modifications of such material outside the IETF Standards Process.
Without obtaining an adequate license from the person(s) controlling
the copyright in such materials, this document may not be modified
outside the IETF Standards Process, and derivative works of it may
not be created outside the IETF Standards Process, except to format
it for publication as an RFC or to translate it into languages other
than English.</p>
<a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#ReqLang">1.</a>&nbsp;
Requirements Language<br />
<a href="#intro">2.</a>&nbsp;
Introduction<br />
<a href="#anchor1">3.</a>&nbsp;
High-Level Design of the System<br />
<a href="#requirements">4.</a>&nbsp;
Design Requirements<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor2">4.1.</a>&nbsp;
General<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor3">4.2.</a>&nbsp;
Web Proxy<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">4.3.</a>&nbsp;
ICAP Server<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor5">4.4.</a>&nbsp;
Messaging Service<br />
<a href="#anchor6">5.</a>&nbsp;
Functional Overview<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#Functional-Components-Described">5.1.</a>&nbsp;
Functional Components Described<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">5.2.</a>&nbsp;
Functional Diagram<br />
<a href="#anchor8">6.</a>&nbsp;
High Level Communication Flow<br />
<a href="#anchor9">7.</a>&nbsp;
Communication Between Web Proxy and ICAP Server<br />
<a href="#anchor10">8.</a>&nbsp;
End-to-End Web Notification Flow<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor11">8.1.</a>&nbsp;
Step-by-Step Description of the End-to-End Web Notification Flow<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor12">8.2.</a>&nbsp;
Diagram of the End-to-End Web Notification Flow<br />
<a href="#anchor13">9.</a>&nbsp;
Example HTTP Headers for a Web Notification<br />
<a href="#anchor14">10.</a>&nbsp;
Deployment Considerations<br />
<a href="#anchor15">11.</a>&nbsp;
Security Considerations<br />
<a href="#anchor16">12.</a>&nbsp;
IANA Considerations<br />
<a href="#anchor17">13.</a>&nbsp;
Acknowledgements<br />
<a href="#rfc.references1">14.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">14.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">14.2.</a>&nbsp;
Informative References<br />
<a href="#anchor20">Appendix&nbsp;A.</a>&nbsp;
Document Change Log<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="ReqLang"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Requirements Language</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a class='info' href='#RFC2119'>RFC 2119<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a> [RFC2119].
</p>
<a name="intro"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Introduction</h3>

<p>Internet Service Providers (ISPs) have a need for a system that is capable of communicating with customers in a nearly immediate manner. Given the prevalence of the web browser as the predominant client software in use by Internet users, the web browser is an ideal vehicle for providing notifications. This document describes a system that has been deployed by Comcast, a large broadband ISP, to provide near-immediate notifications to web browsers.  This type of system is also designed to provide a non-intrusive, though obvious, notification to a user's web browser.
</p>
<p>In evaluating potential solutions, most commercially available systems were either proprietary and/or utilized inline-based Deep Packet Inspection (DPI) technology.  Similiar to Comcast's needs many other ISPs may also desire to use a system based on open standards, non-proprietary software, and which does not require the use of DPI.  While the system described herein is specific to the Data-Over-Cable Service Interface Specifications (DOCSIS, <a class='info' href='#CableLabs DOCSIS'>[CableLabs DOCSIS]<span> (</span><span class='info'>CableLabs, &ldquo;Data-Over-Cable Service Interface Specifications,&rdquo; .</span><span>)</span></a>) networks used by most cable-based broadband ISPs, components and concepts described in this document can generally be applied to many different types of networks.
</p>
<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
High-Level Design of the System</h3>

<p>The web notification system design is based on the use of the Internet Content Adaptation Protocol <a class='info' href='#RFC3507'>[RFC3507]<span> (</span><span class='info'>Elson, J. and A. Cerpa, &ldquo;Internet Content Adaptation Protocol (ICAP),&rdquo; April&nbsp;2003.</span><span>)</span></a>.  The design uses open source applications such as Squid Web Proxy, GreasySpoon ICAP server, and Apache Tomcat.  The ICAP protocol allows for message transformation or adaptation.  An ICAP client passes a HyperText Transport Protocol (HTTP, <a class='info' href='#RFC2616'>[RFC2616]<span> (</span><span class='info'>Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., and T. Berners-Lee, &ldquo;Hypertext Transfer Protocol -- HTTP/1.1,&rdquo; June&nbsp;1999.</span><span>)</span></a>) response to an ICAP server for content adaption.  The ICAP Server in turn responds back to the client with the HTTP response containing the notification message.
</p>
<p>Message modification itself may then be provided via either a HTTP request or HTTP response.  However, for the specific system described in this document, only the HTTP response is modified, by using the 'respmod' method defined in Section 3.2 of <a class='info' href='#RFC3507'>[RFC3507]<span> (</span><span class='info'>Elson, J. and A. Cerpa, &ldquo;Internet Content Adaptation Protocol (ICAP),&rdquo; April&nbsp;2003.</span><span>)</span></a>.
</p>
<a name="requirements"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Design Requirements</h3>

<p>This section describes all of the requirements taken into consideration for the design of this system.
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1"></a><h3>4.1.&nbsp;
General</h3>

<p>
					</p>
<blockquote class="text"><dl>
<dt>REQ1:</dt>
<dd>TCP Port 80: The system should provide notifications via TCP port 80, the well-known port for HTTP traffic.
</dd>
<dt>REQ2:</dt>
<dd>Whitelisting: It is possible that the HyperText Markup Language (HTML, <a class='info' href='#RFC1866'>[RFC1866]<span> (</span><span class='info'>Berners-Lee, T. and D. Connolly, &ldquo;Hypertext Markup Language - 2.0,&rdquo; November&nbsp;1995.</span><span>)</span></a>) or JavaScript <a class='info' href='#RFC4329'>[RFC4329]<span> (</span><span class='info'>Hoehrmann, B., &ldquo;Scripting Media Types,&rdquo; April&nbsp;2006.</span><span>)</span></a> used for notifications may cause problems while accessing a particular website.  Therefore, such a system should be capable of using a whitelist of website Uniform Resource Indicators (URIs, <a class='info' href='#RFC2396'>[RFC2396]<span> (</span><span class='info'>Berners-Lee, T., Fielding, R., and L. Masinter, &ldquo;Uniform Resource Identifiers (URI): Generic Syntax,&rdquo; August&nbsp;1998.</span><span>)</span></a>) or Fully Qualified Domain Named (FQDNs, Section 5.1 of <a class='info' href='#RFC1035'>[RFC1035]<span> (</span><span class='info'>Mockapetris, P., &ldquo;Domain names - implementation and specification,&rdquo; November&nbsp;1987.</span><span>)</span></a>) that conflict with the system, to instruct the system to not provide a notifications related to certain sites, in order to reduce any errors or unexpected results.
</dd>
<dt>REQ3:</dt>
<dd>Instant Messaging (IM): Some IM clients use TCP port 80 in their communications, often as an alternate port when standard, well-known ports do not work.  This system should not conflict with or cause unexpected results for IM clients. 
</dd>
<dt>REQ4:</dt>
<dd>Handling of Active Sessions: To the extent that a web notification system must temporarily route TCP port 80 traffic in order to provide a notification. Previously established TCP port 80 sessions should not be disrupted and should be routed to the proxy layer.
</dd>
<dt>REQ5:</dt>
<dd>No TCP Resets: The use of TCP resets has been widely criticized, both in the Internet community generally as well as in <a class='info' href='#RFC3360'>[RFC3360]<span> (</span><span class='info'>Floyd, S., &ldquo;Inappropriate TCP Resets Considered Harmful,&rdquo; August&nbsp;2002.</span><span>)</span></a>. As such, except for the case of unintentional errors, the use of TCP resets must be avoided.
</dd>
<dt>REQ6:</dt>
<dd>Non-Disruptive: The web notification system should not disrupt the end user experience, such as causing significant clients errors.
</dd>
<dt>REQ7:</dt>
<dd>Notification Acknowledgement: Once a user responds and acknowledges a notification, the notification should immediately stop.
</dd>
<dt>REQ8:</dt>
<dd>Non-Modification of Content: Such a system should not significantly alter the content of the HTTP response from any website the user is accessing.
</dd>
<dt>REQ9:</dt>
<dd>Unexpected Content: The system should transparently handle traffic for which it cannot provide a web notification.  Thus, widely varying content should be expected, and all such unexpected traffic should be able to be handled by the system without generating errors or unexpected results.
</dd>
<dt>REQ10:</dt>
<dd>No Caching: Web content must not be cached by the system.
</dd>
<dt>REQ11:</dt>
<dd>No Advertising Replacement or Insertion: The system must not be used to replace any advertising provided by a website, or insert advertising into websites where none was intended by the owner of a given website.
</dd>
</dl></blockquote><p>
					
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2"></a><h3>4.2.&nbsp;
Web Proxy</h3>

<p>
					</p>
<blockquote class="text"><dl>
<dt>REQ12:</dt>
<dd>Open-Source Software: The system should use an open source web proxy server, such as Squid. (While it is possible to use any web proxy, the use of open source, and openly documented software is recommended.)
</dd>
<dt>REQ13:</dt>
<dd>ICAP Client: The web proxy server should have an integrated ICAP client.
</dd>
<dt>REQ14:</dt>
<dd>Access Control: Access to the proxy should be limited exclusively to the IP addresses of users for which notifications are intended, and only for limited periods of time. Furthermore, if a Session Management Broker (SMB) is utilized, as described in <a class='info' href='#Functional-Components-Described'>Section&nbsp;5.1<span> (</span><span class='info'>Functional Components Described</span><span>)</span></a> below, then the proxy should restrict access only to the IP of the SMB.
</dd>
</dl></blockquote><p>
        			
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.3"></a><h3>4.3.&nbsp;
ICAP Server</h3>

<p> 
					</p>
<blockquote class="text"><dl>
<dt>REQ15:</dt>
<dd>Request and Response Support: The system should support both request and response adaptation.
</dd>
<dt>REQ16:</dt>
<dd>Consistency: The system must be able to consistently provide a specific notification.
</dd>
<dt>REQ17:</dt>
<dd>Multiple Notification Types: The system must be able to provide many different types of notifications.
</dd>
<dt>REQ18:</dt>
<dd>Simultaneous Differing Notifications: The system must be able to simultaneously serve multiple notifications, including notifications of varying types, to different users.  As a result, User A should be able to get the notification intended specifically for User A, at the same time that User B receives an entirely different notification, which was intended specifically for User B.
</dd>
</dl></blockquote><p>
        			
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.4"></a><h3>4.4.&nbsp;
Messaging Service</h3>

<p>
				</p>
<blockquote class="text"><dl>
<dt>REQ19:</dt>
<dd>Messaging Service: The Messaging Service, as described in <a class='info' href='#Functional-Components-Described'>Section&nbsp;5.1<span> (</span><span class='info'>Functional Components Described</span><span>)</span></a> below caches the notifications for each specific user.  Thus, by caching the notification messages, the system may provide notifications without significantly affecting the web browsing experience of the user.
</dd>
<dt>REQ20:</dt>
<dd>Process Acknowledgements: The Messaging Service should process acknowledgements to properly remove entries from the cache and forward acknowledgements to the Messaging Service.
</dd>
<dt>REQ21:</dt>
<dd>Ensure Notification Targeting Accuracy: The Messaging Service must ensure that notifications are presented to the intended users.
</dd>
<dt>REQ22:</dt>
<dd>Keep Records for Customer Care: The Messaging Service should maintain some type of record that a notification has been presented and/or acknowledged, in case a user inquires with customer care personnel.
</dd>
</dl></blockquote><p>
        			
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Functional Overview</h3>

<p>This section defines the various core functional components of the system.  These components are then shown in a diagram to describe how the various components are linked and relate to one another.
</p>
<a name="Functional-Components-Described"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1"></a><h3>5.1.&nbsp;
Functional Components Described</h3>

<p>It should be noted that when specific software cited is but one example of a possible selection for each component.  As the state of the art changes, so will the software choices described in this document.
				</p>
<blockquote class="text"><dl>
<dt>5.1.A.</dt>
<dd>Web Proxy: The system uses Squid Proxy, an open source web proxy application in wide use, and one which supports an integrated ICAP client.
</dd>
<dt>5.1.B.</dt>
<dd>ICAP Server: This should be an open source application capable of supporting content adaptation in both request and response modes. The ICAP Server retrieves the notifications from the Messaging service cache when content adaption is needed.  The initial version of this system uses GreasySpoon, an open source application.
</dd>
<dt>5.1.C.</dt>
<dd>Customer Database:  The Customer Database holds the user information including the notifications setup for each user. The database may also hold status of which users were notified and users pending notification.
</dd>
<dt>5.1.D.</dt>
<dd>The Messaging Service is a process engine that retrieves specific web notification messages from a catalog of possible notifications. When a notification for a specific user is not in cache, the process retrieves this information from the Customer Database and populates the cache for a specific period of time.  The initial version of this service uses Apache Tomcat, an open source application.
</dd>
<dt>5.1.E.</dt>
<dd>Session Management Broker: A Load Balancer (LB) with a customized layer 7 inspection policy is used to differentiate between HTTP and non-HTTP traffic on TCP port 80. The SMB functions as a full stateful TCP proxy with the ability to forward packets from existing TCP sessions that do not exist in the internal session table. New HTTP sessions are load balanced to the web proxy layer either transparently or using source Network Address Translation (NAT <a class='info' href='#RFC1631'>[RFC1631]<span> (</span><span class='info'>Egevang, K. and P. Francis, &ldquo;The IP Network Address Translator (NAT),&rdquo; May&nbsp;1994.</span><span>)</span></a>) from the SMB, with additional layer 7 inspection as needed. Non-HTTP traffic for established TCP sessions not in the SMB session table is simply forwarded to the destination transparently via the TCP proxy layer.  The initial version of this system uses a Session Management Broker which has been developed internally by Comcast.
</dd>
</dl></blockquote><p>
			
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.2"></a><h3>5.2.&nbsp;
Functional Diagram</h3>
<br /><hr class="insert" />
<a name="Web Notification System - Functional Components"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

+--------+        +------------+        +----------+
|  ICAP  | &lt;----&gt; | Messaging  | &lt;----&gt; | Customer |
| Server |        |  Service   |        | Database |
+--------+        +------------+        +----------+
  ^
  |                +----------+
  |                |          |
  |      +-------&gt; | Internet | &lt;-------+
  |      |         |          |         |
  |      |         +----------+         |
  |      |              ^               |
  v      v              |               |
+----------+            v               v
|+--------+|        +-------+       +--------+
||  ICAP  || &lt;----&gt; |  SMB  | &lt;---&gt; | Access |
|| Client ||        +-------+       | Router |
|+--------+|                        +--------+
|| SQUID  ||                            ^
|| Proxy  ||                            |
|+--------+|                            v
+----------+                       +----------+
                                   | Network  |
                                   | Element* |
                                   +----------+
                                       ^
                                       |
                                       v
                                    +------+
                                    |  PC  |
                                    +------+

 * An access network element, such as a Cable Modem Termination
  System (CMTS).


</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;1: Web Notification System - Functional Components&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
High Level Communication Flow</h3>

<p>
				</p>
<blockquote class="text"><dl>
<dt>6.A.</dt>
<dd>Setup Differentiated Services (DiffServ): Using DiffServe <a class='info' href='#RFC2474'>[RFC2474]<span> (</span><span class='info'>Nichols, K., Blake, S., Baker, F., and D. Black, &ldquo;Definition of the Differentiated Services Field (DS Field) in the IPv4 and IPv6 Headers,&rdquo; December&nbsp;1998.</span><span>)</span></a> <a class='info' href='#RFC2475'>[RFC2475]<span> (</span><span class='info'>Blake, S., Black, D., Carlson, M., Davies, E., Wang, Z., and W. Weiss, &ldquo;An Architecture for Differentiated Services,&rdquo; December&nbsp;1998.</span><span>)</span></a> <a class='info' href='#RFC2597'>[RFC2597]<span> (</span><span class='info'>Heinanen, J., Baker, F., Weiss, W., and J. Wroclawski, &ldquo;Assured Forwarding PHB Group,&rdquo; June&nbsp;1999.</span><span>)</span></a> <a class='info' href='#RFC3140'>[RFC3140]<span> (</span><span class='info'>Black, D., Brim, S., Carpenter, B., and F. Le Faucheur, &ldquo;Per Hop Behavior Identification Codes,&rdquo; June&nbsp;2001.</span><span>)</span></a> <a class='info' href='#RFC3246'>[RFC3246]<span> (</span><span class='info'>Davie, B., Charny, A., Bennet, J., Benson, K., Le Boudec, J., Courtney, W., Davari, S., Firoiu, V., and D. Stiliadis, &ldquo;An Expedited Forwarding PHB (Per-Hop Behavior),&rdquo; March&nbsp;2002.</span><span>)</span></a> <a class='info' href='#RFC3260'>[RFC3260]<span> (</span><span class='info'>Grossman, D., &ldquo;New Terminology and Clarifications for Diffserv,&rdquo; April&nbsp;2002.</span><span>)</span></a> <a class='info' href='#RFC4594'>[RFC4594]<span> (</span><span class='info'>Babiarz, J., Chan, K., and F. Baker, &ldquo;Configuration Guidelines for DiffServ Service Classes,&rdquo; August&nbsp;2006.</span><span>)</span></a>, set a policy to direct TCP port 80 traffic to the web notification system's web proxy.
</dd>
<dt>6.B.</dt>
<dd>Session Management:  TCP port 80 packets are routed to a Session Management Broker which distinguishes between HTTP or non-HTTP traffic and between new and existing sessions. HTTP packets are forwarded to the web proxy by the SMB. Non-HTTP packets such as instant messaging (IM) traffic are forwarded to a TCP proxy layer for routing to destination or the SMB operates as the full TCP proxy and forwards the non-HTTP packets to the destination. Pre-established TCP sessions on port 80 are identified by the SMB and forwarded with no impact.
</dd>
<dt>6.C.</dt>
<dd>Web Proxy Forwards Request: The web proxy forwards the HTTP request on to the destination site, a web server, as a web proxy normally would do.
</dd>
<dt>6.D.</dt>
<dd>On Response, Send Message to ICAP Server: When the HTTP response is received from the destination server, the web proxy sends a message to the ICAP server for the web notification.
</dd>
<dt>6.E.</dt>
<dd>Messaging Service: Messaging Service should respond with appropriate notification content or null response if notification is not cached.
</dd>
<dt>6.F.</dt>
<dd>ICAP Server Responds: The ICAP server responds and furnishes the appropriate content for the web notification to the web proxy.
</dd>
<dt>6.G.</dt>
<dd>Web Proxy Sends Response: The web proxy then forwards the HTTP response to the client web browser containing the web notification.
</dd>
<dt>6.H.</dt>
<dd>User Response: The user observes the web notification, and clicks an appropriate option, such as: OK/acknowledged, snooze/remind me later, etc.
</dd>
<dt>6.I.</dt>
<dd>More Information: Depending upon the notification, the user may be provided with more information.  Using the example of a web notification to a user explaining that it is highly likely that they have been infected with a virus or malware, the user may click an acknowledgement that indicates that clicking that will take them to a page with information about virus/malware scanning and remediation.
</dd>
<dt>6.J.</dt>
<dd>Turn Down DiffServ: Once the notification transaction has completed, remove any special DiffServ settings.
</dd>
</dl></blockquote><p>
        		
</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Communication Between Web Proxy and ICAP Server</h3>
<br /><hr class="insert" />
<a name="Communication Between Web Proxy and ICAP Server"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
+------------+
|  www URL   |
+------------+
   ^      |
(2)|      |(3)
   |      v
  +--------+     (4)     +--------+     (4)     +--------+
  |        |------------&gt;|        |------------&gt;|        |
  |        |     (5)     |        |     (5)     |        |
  | Proxy  |&lt;------------|  ICAP  |&lt;------------|  ICAP  |
  | Module |     (6)     | Client |     (6)     | Server |
  |        |------------&gt;|        |------------&gt;|        |
  |        |     (7)     |        |     (7)     |        |
  |        |&lt;------------|        |&lt;------------|        |
  +--------+             +--------+             +--------+
   ^      |
(1)|      |(8)
   |      v
+------------+              (9)             +------------+
|            |-----------------------------&gt;|            |
|  Browser   |              (10)            | Web Server |
|            |&lt;-----------------------------|            |
+------------+                              +------------+

(1) - HTTP GET (TCP 80)
(2) - Proxy HTTP GET (TCP 80)
(3) - HTTP 200 OK w/ Response
(4) - ICAP RESPMOD
(5) - ICAP 200 OK
(6) - TCP Stream - Encapsulate Header
(7) - ICAP 200 OK Insert Message
(8) - HTTP 200 OK w/ Response + Message Frame
(9) - HTTP GET for Message
(10) - HTTP 200 w/ Message Content
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;2: Communication Between Web Proxy and ICAP Server&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
End-to-End Web Notification Flow</h3>

<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.1"></a><h3>8.1.&nbsp;
Step-by-Step Description of the End-to-End Web Notification Flow</h3>

<p>Policy Based Routing
		</p>
<ol class="text">
<li>TCP port 80 packets from the users that need to be notified  may be routed to the web proxy via policy based routing.
</li>
<li>Packets are forwarded to the Load Balancer, which establishes a session with the web proxy and routes the packets to the proxy.
</li>
</ol><p>
	    
</p>
<p>Web Proxy 
				</p>
<ol class="text">
<li>User's HTTP request is directed to the web proxy.
</li>
<li>Web proxy received HTTP traffic and retrieves content from the requested web site.
</li>
<li>Web proxy receives response and forwards it to the ICAP server for response adaptation.
</li>
<li>The ICAP Server checks the HTTP content in order to determine whether notification message can be inserted.
</li>
<li>The ICAP Server initiates a request to the Messaging Service cache process with the IP address of the user.
</li>
<li>If a notification message for the user exists then the appropriate notification is cached on the Messaging Service.  The Messaging Service then returns the appropriate notification content to the ICAP Server.
</li>
<li>
        			
<blockquote class="text"><dl>
<dt>A.</dt>
<dd>Once the notification message is retrieved from Messaging Service cache the ICAP server may insert the notification message in the HTTP response body without altering or modifying the original content of the HTTP response.
</dd>
<dt>B.</dt>
<dd>The ICAP Server then sends the response back to the web proxy, which in turn forwards the HTTP response back to the browser.
</dd>
</dl></blockquote>
					
</li>
<li>If the user IP is not found or provisioned for a notification message, then the ICAP Server should return a '204 No modifications needed' response to the ICAP Client as defined in section 4.3.3 of [RFC3507]. As a result, the user will not receive any web notification message. 
</li>
<li>The user observes the web notification, and clicks an appropriate  option, such as: OK/acknowledged, snooze/ remind me later, etc.
</li>
</ol><p>
        	
</p>
<a name="anchor12"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.2"></a><h3>8.2.&nbsp;
Diagram of the End-to-End Web Notification Flow</h3>

<p>This flow shows the communications flow from the web client, through the entire system.
</p><br /><hr class="insert" />
<a name="End-to-End Web Notification Flow"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
                   ICAP     ICAP    Message          Customer
Browser   Proxy   Client   Server   Service  Internet   DB
  |  HTTP  |         |         |        |        |        |
  |  GET   |         | Proxy   |        |        |        |
  +-------&gt;|         | Request |        |        |        |
  |        +---------|---------|--------|-------&gt;|        |
  |        |         |         | 200 OK |        |        |
  |        |&lt;--------|---------|--------|--------+        |
  |        | ICAP    |         |        |        |        |
  |        | RESPMOD | ICAP    |        |        |        |
  |        +--------&gt;| RESPMOD |        |        |        |
  |        |         +--------&gt;|        |        |        |
  |        |         |         | Check  |        |        |
  |        |         |         | Cache  |        |        |
  |        |         |         | for IP |        | Cache  |
  |        |         |         | Match  |        | Miss   |
  |        |         |         +-------&gt;|        | Request|
  |        |         |         |        |        | Type   |
  |        |         |         |        +--------|-------&gt;|
  |        |         | Cache   |        |        |        |
  |        |         | Miss    |        |        |        |
  |        |         | No      |        |        |        |
  |        |         | Insert  |        |        |        |
  |        |&lt;--------|---------|--------+        |Type    |
  | 200 OK |         |         |        |        |Returned|
  | No     |         |         |        |&lt;-------|--------+
  | Insert |         |         |        |        |        |
  |&lt;-------+         |         |        |        |        |
  |        |         | Cache   |        |        |        |
  |        |         | Hit     |        |        |        |
  |        |         | Insert  |        |        |        |
  | 200 OK |&lt;--------|---------|--------+        |        |
  | Insert |         |         |        |        |        |
  |&lt;-------+         |         |        |        |        |
  |        |         | HTTP    |        |        |        |
  |        |         | GET to  |        |        |        |
  |        |         | Content |        |        |        |
  |        |         | Portal  |        |        |        |
  +--------|---------|---------|--------|-------&gt;|        |
  |        |         | 200 OK  |        |        |        |
  |        |         | w/      |        |        |        |
  |        |         | Notify  |        |        |        |
  |&lt;-------|---------|---------|--------|--------+        |
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;3: End-to-End Web Notification Flow&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="anchor13"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
Example HTTP Headers for a Web Notification</h3>
<br /><hr class="insert" />
<a name="Example HTTP Headers for a Web Notification"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

Web-Browser HTTP Headers

----------------------------------------------
1.  HTTP Get Request to www.example.com
----------------------------------------------
http://www.example.com/

GET / HTTP/1.1
Host: www.example.com
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.1.14)
        Gecko/20080404 Firefox/2.0.0.14
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
Accept-Language: en-us,en;q=0.5
Accept-Encoding: gzip,deflate
Accept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.7
Keep-Alive: 300
Connection: keep-alive
Pragma: no-cache

----------------------------------------------
2.  Response from www.example.com via PROXY
----------------------------------------------
HTTP/1.x 200 OK
Date: Thu, 08 May 2008 16:26:29 GMT
Server: Apache/2.2.3 (CentOS)
Last-Modified: Tue, 15 Nov 2005 13:24:10 GMT
Etag: "b80f4-1b6-80bfd280"
Accept-Ranges: bytes
Content-Length: 438
Connection: close
Content-Type: text/html; charset=UTF-8
Age: 18
X-Cache: HIT from localhost.localdomain
Via: 1.0 localhost.localdomain (squid/3.0.STABLE5)
Proxy-Connection: keep-alive

-----------------------------------------------------------
3.  Example of JavaScript containing Notification Insertion
-----------------------------------------------------------
&lt;!--all elements used in a notification should have css properties
defined to avoid unwanted inheritance from parent page--&gt;
&lt;style type="text/css"&gt;
#example {
  position: absolute; left: 100px; top: 50px;
  z-index: 9999999; height: auto; width: 550px;
  padding: 10px;
  border: solid 2px black;
  background-color:#FDD017;
  opacity: 0.8; filter: alpha(opacity = 80);
}
&lt;/style&gt;

&lt;script language="javascript" type="text/javascript"&gt;
// ensure that content is not part of an iframe
if (self.location == top.location) {
  // this is a floating div with 80% transparency
  document.write('&lt;div id="example" name="example"&gt;');
  document.write('&lt;h2&gt;IMPORTANT MESSAGE&lt;/h2&gt;');
  document.write('&lt;p&gt;Lorem ipsum dolor sit amet, consecteteur ');
  document.write('adipisicing elit, sed do eiusmod tempor ');
  document.write('incididunt ut labore et dolore magna aliqua. ');
  document.write('Ut enim ad minim veniam, quis nostrud ');
  document.write('exercitation ullamco laboris nisi ut aliquip ex ');
  document.write('ea commodo consequat.');
  document.write('&lt;/div&gt;');
}&lt;/script&gt;
----------------------------------------------
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;4&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="anchor14"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10"></a><h3>10.&nbsp;
Deployment Considerations</h3>

<p>The components of the web notification system should be distributed throughout the network and close to end users.  This ensures that the routing performance and the user's web surfing experience remains acceptable. It is also recommended that a HTTP-aware load balancer is used in each datacenter where servers are located, so that traffic can be spread across N+1 servers and the system can be easily scaled out.
</p>
<a name="anchor15"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11"></a><h3>11.&nbsp;
Security Considerations</h3>

<p>This web notification system was conceived in order to provide an additional method of notifying ISP customers that their computer was infected with malware.  Depending upon the nature of the alert contained in the web notification, such as the malware alert, users could fear that it is some kind of phishing attack.  As a result, care should be taken with the text and any links contained in the web notification itself.  For example, the ISP may find it best to provide a general URI or a telephone number.  In contrast to that, the ISP should not ask for login credentials or for someone to follow a link in the web notification in order to change their password since these are common phishing techniques.  Finally, care should be taken to provide confidence that the web notification is valid and from a trusted party, and/or that the user has an alternate method of checking the validity of the web notification.
</p>
<a name="anchor16"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.12"></a><h3>12.&nbsp;
IANA Considerations</h3>

<p>There are no IANA considerations in this document.
</p>
<p>NOTE TO RFC EDITOR: PLEASE REMOVE THIS NULL SECTION PRIOR TO PUBLICATION.
</p>
<a name="anchor17"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.13"></a><h3>13.&nbsp;
Acknowledgements</h3>

<p>The authors wish to thank Alissa Cooper for her review of and comments on the document, as well as others who reviewed the document.
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.14"></a><h3>14.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>14.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC1035">[RFC1035]</a></td>
<td class="author-text">Mockapetris, P., &ldquo;<a href="http://tools.ietf.org/html/rfc1035">Domain names - implementation and specification</a>,&rdquo; STD&nbsp;13, RFC&nbsp;1035, November&nbsp;1987 (<a href="http://www.rfc-editor.org/rfc/rfc1035.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC1631">[RFC1631]</a></td>
<td class="author-text"><a href="mailto:kbe@craycom.dk">Egevang, K.</a> and <a href="mailto:francis@cactus.ntt.jp">P. Francis</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc1631">The IP Network Address Translator (NAT)</a>,&rdquo; RFC&nbsp;1631, May&nbsp;1994 (<a href="http://www.rfc-editor.org/rfc/rfc1631.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC1866">[RFC1866]</a></td>
<td class="author-text"><a href="mailto:timbl@w3.org">Berners-Lee, T.</a> and <a href="mailto:connolly@w3.org">D. Connolly</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc1866">Hypertext Markup Language - 2.0</a>,&rdquo; RFC&nbsp;1866, November&nbsp;1995 (<a href="http://www.rfc-editor.org/rfc/rfc1866.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2396">[RFC2396]</a></td>
<td class="author-text"><a href="mailto:timbl@w3.org">Berners-Lee, T.</a>, <a href="mailto:fielding@ics.uci.edu">Fielding, R.</a>, and <a href="mailto:masinter@parc.xerox.com">L. Masinter</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2396">Uniform Resource Identifiers (URI): Generic Syntax</a>,&rdquo; RFC&nbsp;2396, August&nbsp;1998 (<a href="http://www.rfc-editor.org/rfc/rfc2396.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2396.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2396.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2434">[RFC2434]</a></td>
<td class="author-text"><a href="mailto:narten@raleigh.ibm.com">Narten, T.</a> and <a href="mailto:Harald@Alvestrand.no">H. Alvestrand</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2434">Guidelines for Writing an IANA Considerations Section in RFCs</a>,&rdquo; BCP&nbsp;26, RFC&nbsp;2434, October&nbsp;1998 (<a href="http://www.rfc-editor.org/rfc/rfc2434.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2434.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2434.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2474">[RFC2474]</a></td>
<td class="author-text"><a href="mailto:kmn@cisco.com">Nichols, K.</a>, <a href="mailto:slblake@torrentnet.com">Blake, S.</a>, <a href="mailto:fred@cisco.com">Baker, F.</a>, and <a href="mailto:black_david@emc.com">D. Black</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2474">Definition of the Differentiated Services Field (DS Field) in the IPv4 and IPv6 Headers</a>,&rdquo; RFC&nbsp;2474, December&nbsp;1998 (<a href="http://www.rfc-editor.org/rfc/rfc2474.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2474.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2474.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2475">[RFC2475]</a></td>
<td class="author-text"><a href="mailto:slblake@torrentnet.com">Blake, S.</a>, <a href="mailto:black_david@emc.com">Black, D.</a>, <a href="mailto:mark.carlson@sun.com">Carlson, M.</a>, <a href="mailto:elwynd@nortel.co.uk">Davies, E.</a>, <a href="mailto:zhwang@bell-labs.com">Wang, Z.</a>, and <a href="mailto:wweiss@lucent.com">W. Weiss</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2475">An Architecture for Differentiated Services</a>,&rdquo; RFC&nbsp;2475, December&nbsp;1998 (<a href="http://www.rfc-editor.org/rfc/rfc2475.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2475.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2475.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2597">[RFC2597]</a></td>
<td class="author-text"><a href="mailto:jh@telia.fi">Heinanen, J.</a>, <a href="mailto:fred@cisco.com">Baker, F.</a>, <a href="mailto:wweiss@lucent.com">Weiss, W.</a>, and <a href="mailto:jtw@lcs.mit.edu">J. Wroclawski</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2597">Assured Forwarding PHB Group</a>,&rdquo; RFC&nbsp;2597, June&nbsp;1999 (<a href="http://www.rfc-editor.org/rfc/rfc2597.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2616">[RFC2616]</a></td>
<td class="author-text"><a href="mailto:fielding@ics.uci.edu">Fielding, R.</a>, <a href="mailto:jg@w3.org">Gettys, J.</a>, <a href="mailto:mogul@wrl.dec.com">Mogul, J.</a>, <a href="mailto:frystyk@w3.org">Frystyk, H.</a>, <a href="mailto:masinter@parc.xerox.com">Masinter, L.</a>, <a href="mailto:paulle@microsoft.com">Leach, P.</a>, and <a href="mailto:timbl@w3.org">T. Berners-Lee</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2616">Hypertext Transfer Protocol -- HTTP/1.1</a>,&rdquo; RFC&nbsp;2616, June&nbsp;1999 (<a href="http://www.rfc-editor.org/rfc/rfc2616.txt">TXT</a>, <a href="http://www.rfc-editor.org/rfc/rfc2616.ps">PS</a>, <a href="http://www.rfc-editor.org/rfc/rfc2616.pdf">PDF</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2616.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2616.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2782">[RFC2782]</a></td>
<td class="author-text"><a href="mailto:arnt@troll.no">Gulbrandsen, A.</a>, Vixie, P., and <a href="mailto:levone@microsoft.com">L. Esibov</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2782">A DNS RR for specifying the location of services (DNS SRV)</a>,&rdquo; RFC&nbsp;2782, February&nbsp;2000 (<a href="http://www.rfc-editor.org/rfc/rfc2782.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2915">[RFC2915]</a></td>
<td class="author-text">Mealling, M. and R. Daniel, &ldquo;<a href="http://tools.ietf.org/html/rfc2915">The Naming Authority Pointer (NAPTR) DNS Resource Record</a>,&rdquo; RFC&nbsp;2915, September&nbsp;2000 (<a href="http://www.rfc-editor.org/rfc/rfc2915.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3140">[RFC3140]</a></td>
<td class="author-text">Black, D., Brim, S., Carpenter, B., and F. Le Faucheur, &ldquo;<a href="http://tools.ietf.org/html/rfc3140">Per Hop Behavior Identification Codes</a>,&rdquo; RFC&nbsp;3140, June&nbsp;2001 (<a href="http://www.rfc-editor.org/rfc/rfc3140.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3246">[RFC3246]</a></td>
<td class="author-text">Davie, B., Charny, A., Bennet, J., Benson, K., Le Boudec, J., Courtney, W., Davari, S., Firoiu, V., and D. Stiliadis, &ldquo;<a href="http://tools.ietf.org/html/rfc3246">An Expedited Forwarding PHB (Per-Hop Behavior)</a>,&rdquo; RFC&nbsp;3246, March&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3246.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3260">[RFC3260]</a></td>
<td class="author-text">Grossman, D., &ldquo;<a href="http://tools.ietf.org/html/rfc3260">New Terminology and Clarifications for Diffserv</a>,&rdquo; RFC&nbsp;3260, April&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3260.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3261">[RFC3261]</a></td>
<td class="author-text">Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A., Peterson, J., Sparks, R., Handley, M., and E. Schooler, &ldquo;<a href="http://tools.ietf.org/html/rfc3261">SIP: Session Initiation Protocol</a>,&rdquo; RFC&nbsp;3261, June&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3261.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3263">[RFC3263]</a></td>
<td class="author-text">Rosenberg, J. and H. Schulzrinne, &ldquo;<a href="http://tools.ietf.org/html/rfc3263">Session Initiation Protocol (SIP): Locating SIP Servers</a>,&rdquo; RFC&nbsp;3263, June&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3263.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3507">[RFC3507]</a></td>
<td class="author-text">Elson, J. and A. Cerpa, &ldquo;<a href="http://tools.ietf.org/html/rfc3507">Internet Content Adaptation Protocol (ICAP)</a>,&rdquo; RFC&nbsp;3507, April&nbsp;2003 (<a href="http://www.rfc-editor.org/rfc/rfc3507.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4329">[RFC4329]</a></td>
<td class="author-text">Hoehrmann, B., &ldquo;<a href="http://tools.ietf.org/html/rfc4329">Scripting Media Types</a>,&rdquo; RFC&nbsp;4329, April&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4329.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4594">[RFC4594]</a></td>
<td class="author-text">Babiarz, J., Chan, K., and F. Baker, &ldquo;<a href="http://tools.ietf.org/html/rfc4594">Configuration Guidelines for DiffServ Service Classes</a>,&rdquo; RFC&nbsp;4594, August&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4594.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>14.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="CableLabs DOCSIS">[CableLabs DOCSIS]</a></td>
<td class="author-text">CableLabs, &ldquo;<a href="http://www.cablelabs.com/specifications/archives/docsis.html">Data-Over-Cable Service Interface Specifications</a>,&rdquo; CableLabs Specifications&nbsp;Various DOCSIS Reference Documents.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3360">[RFC3360]</a></td>
<td class="author-text">Floyd, S., &ldquo;<a href="http://tools.ietf.org/html/rfc3360">Inappropriate TCP Resets Considered Harmful</a>,&rdquo; BCP&nbsp;60, RFC&nbsp;3360, August&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3360.txt">TXT</a>).</td></tr>
</table>

<a name="anchor20"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A"></a><h3>Appendix A.&nbsp;
Document Change Log</h3>

<p>[RFC Editor: This section is to be removed before publication]
</p>
<p>-00 version:
     			</p>
<ul class="text">
<li>-03 - corrections and clarifications from Nirmal and BVL
</li>
<li>-02 - updated BVL's contact info, clearing one open issue.  Also added content to Security Considerations.
</li>
<li>-01 - updated doc to reflect that this system is deployed and not in development, closing out two open issues.  Added reference for JavaScript, closing an open issue.
</li>
<li>-00 - first version published
</li>
</ul><p>
     			
</p>
<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Chae Chung</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Comcast Cable Communications</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">One Comcast Center</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">1701 John F. Kennedy Boulevard</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Philadelphia, PA  19103</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">US</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:chae_chung@cable.comcast.com">chae_chung@cable.comcast.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://www.comcast.com">http://www.comcast.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Alex Kasyanov</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Comcast Cable Communications</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">One Comcast Center</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">1701 John F. Kennedy Boulevard</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Philadelphia, PA  19103</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">US</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:alexander_kasyanov@cable.comcast.com">alexander_kasyanov@cable.comcast.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://www.comcast.com">http://www.comcast.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Jason Livingood</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Comcast Cable Communications</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">One Comcast Center</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">1701 John F. Kennedy Boulevard</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Philadelphia, PA  19103</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">US</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:jason_livingood@cable.comcast.com">jason_livingood@cable.comcast.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://www.comcast.com">http://www.comcast.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Nirmal Mody</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Comcast Cable Communications</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">One Comcast Center</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">1701 John F. Kennedy Boulevard</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Philadelphia, PA  19103</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">US</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:nirmal_mody@cable.comcast.com">nirmal_mody@cable.comcast.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://www.comcast.com">http://www.comcast.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Brian Van Lieu</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Unaffiliated</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Bethlehem, PA  18018</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">US</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:brian@vanlieu.net">brian@vanlieu.net</a></td></tr>
</table>
</body></html>
