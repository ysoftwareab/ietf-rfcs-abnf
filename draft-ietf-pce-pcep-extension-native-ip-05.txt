



PCE Working Group                                                A. Wang
Internet-Draft                                             China Telecom
Intended status: Standards Track                             B. Khasanov
Expires: August 21, 2020                                         S. Fang
                                                                  Huawei
                                                                  C. Zhu
                                                         ZTE Corporation
                                                       February 18, 2020


                  PCEP Extension for Native IP Network
               draft-ietf-pce-pcep-extension-native-ip-05

Abstract

   This document defines the Path Computation Element Communication
   Protocol (PCEP) extension for Central Control Dynamic Routing (CCDR)
   based application in Native IP network.  The scenario and framework
   of CCDR in native IP is described in
   [I-D.ietf-teas-native-ip-scenarios] and
   [I-D.ietf-teas-pce-native-ip].  This draft describes the key
   information that is transferred between Path Computation Element
   (PCE) and Path Computation Clients (PCC) to accomplish the End to End
   (E2E) traffic assurance in Native IP network under central control
   mode.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on August 21, 2020.

Copyright Notice

   Copyright (c) 2020 IETF Trust and the persons identified as the
   document authors.  All rights reserved.




Wang, et al.             Expires August 21, 2020                [Page 1]

Internet-Draft    PCEP Extension for Native IP Network     February 2020


   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Conventions used in this document . . . . . . . . . . . . . .   3
   3.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   3
   4.  CCI Objects . . . . . . . . . . . . . . . . . . . . . . . . .   3
   5.  CCI Object associated TLV . . . . . . . . . . . . . . . . . .   4
     5.1.  Peer Address List TLV . . . . . . . . . . . . . . . . . .   4
     5.2.  Peer Prefix Association TLV . . . . . . . . . . . . . . .   6
       5.2.1.  Prefix sub TLV  . . . . . . . . . . . . . . . . . . .   7
     5.3.  Explicit Peer Route TLV . . . . . . . . . . . . . . . . .   7
   6.  Management Consideration  . . . . . . . . . . . . . . . . . .   8
   7.  Security Considerations . . . . . . . . . . . . . . . . . . .   8
   8.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   8
     8.1.  CCI Object Type . . . . . . . . . . . . . . . . . . . . .   9
     8.2.  CCI Object Associated TLV . . . . . . . . . . . . . . . .   9
   9.  Acknowledgement . . . . . . . . . . . . . . . . . . . . . . .   9
   10. References  . . . . . . . . . . . . . . . . . . . . . . . . .   9
     10.1.  Normative References . . . . . . . . . . . . . . . . . .   9
     10.2.  Informative References . . . . . . . . . . . . . . . . .  10
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  10

1.  Introduction

   Traditionally, Multiprotocol Label Switching Traffic Engineering
   (MPLS-TE) traffic assurance requires the corresponding network
   devices support Multiprotocol Label Switching (MPLS) or the complex
   Resource ReSerVation Protocol (RSVP)/Label Distribution Protocol
   (LDP) /Segment Routing etc. technologies to assure the End-to-End
   (E2E) traffic performance.  But in native IP network, there will be
   no such signaling protocol to synchronize the action among different
   network devices.  It is necessary to use the central control mode
   that described in [RFC8283] to correlate the forwarding behavior
   among different network devices.  Draft [I-D.ietf-teas-pce-native-ip]
   describes the architecture and solution philosophy for the E2E
   traffic assurance in Native IP network via Dual/Multi Border Gateway
   Protocol (BGP) solution.  This draft describes the corresponding Path
   Computation Element Communication Protocol (PCEP) extensions to



Wang, et al.             Expires August 21, 2020                [Page 2]

Internet-Draft    PCEP Extension for Native IP Network     February 2020


   transfer the key information about peer address list, peer prefix
   association and the explicit peer route on on-path router.

2.  Conventions used in this document

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].

3.  Terminology

   .This document uses the following terms defined in [RFC5440]: PCE,
   PCEP

   The following terms are defined in this document:

   o  CCDR: Central Control Dynamic Routing

   o  CCI: Central Controller's Instructions

   o  E2E: End to End

   o  EPR: Explicit Peer Route

   o  PAL: Peer Address List

   o  PPA: Peer Prefix Association

   o  QoS: Quality of Service

4.  CCI Objects

   Draft [I-D.ietf-pce-pcep-extension-for-pce-controller] introduces the
   Central Controller's Instructions (CCI) object which is included in
   the PCInitiate and PCRpt message to transfer the centrally control
   instruction and status between Path Computation Element (PCE) and
   Path Computation Clients (PCC).  This object is extended to include
   the construction for native IP solution.  Additional Type-Length-
   Values (TLVs) are defined and included in this extended CCI object.

   CCI Object-Class is TBD, should be same as that defined in draft
   [I-D.ietf-pce-pcep-extension-for-pce-controller]

   CCI Object-Type is TBD for Native IP network







Wang, et al.             Expires August 21, 2020                [Page 3]

Internet-Draft    PCEP Extension for Native IP Network     February 2020


       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                            CC-ID                              |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |          Reserved             |               Flags           |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                                                               |
      //                        Optional TLV                         //
      |                                                               |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                    Figure 1: CCI Object Format

   The fields in the CCI object are as follows:

   CC-ID: A PCEP-specific identifier for the CCI information.  A PCE
   creates an CC-ID for each instruction, the value is unique within the
   scope of the PCE and is constant for the lifetime of a PCEP session.
   The values 0 and 0xFFFFFFFF are reserved and MUST NOT be used.

   Flags: Is used to carry any additional information pertaining to the
   CCI.

   Optional TLV: Additional TLVs that are associated with the Native IP
   construction.

5.  CCI Object associated TLV

   Three new TLVs are defined in this draft:

   o  PAL TLV: Peer Address List TLV, used to tell the network device
      which peer it should be peered with dynamically

   o  PPA TLV: Peer Prefix Association TLV,used to tell which prefixes
      should be advertised via the corresponding peer

   o  EPR TLV: Explicit Peer Route TLV,used to point out which route
      should be taken to arrive to the peer.

5.1.  Peer Address List TLV

   The Peer Address List TLV is defined to specify the IP address of
   peer that the received network device should establish the BGP
   relationship with.  This TLV should only be included and sent to the
   head and end router of the E2E path in case there is no Route
   Reflection (RR) involved.  If the RR is used between the head and end
   routers, then such information should be sent to head router, RR and
   end router respectively.



Wang, et al.             Expires August 21, 2020                [Page 4]

Internet-Draft    PCEP Extension for Native IP Network     February 2020


    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |          Type=TBD             |          Length               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |           Peer Num            |           Resv.               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |           Peer ID             |      AT       |     Resv.     |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                      Local AS Number                          |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                      Peer AS Number                           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   ETTL        |              Peer Cookie                      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                    Local IP Address(4/16 Bytes)               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                   Peer IP Address(4/16 Bytes)                 |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                  Additional Peer Info.                        |
   //           (From Peer ID to Peer IP Address)                 //
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                Figure 2: Peer Address List TLV Format

   Type: 2 Bytes, value is TBD.

   Length: 2 Bytes, the length of the following fields.

   Peer Num : 2 Bytes, Peer Address Number on the advertised router.

   Peer-ID: 2 Bytes, to distinguish the different peer pair, will be
   referenced in Peer Prefix Association, if the PCE use multi-BGP
   solution for different QoS assurance requirement.

   AT: 1 Bytes, Address Type.  To indicate the address type of Peer.
   Equal to 4, if the following IP address of peer is belong to IPv4;
   Equal to 6 if the following IP address of peer is belong to IPv6.

   Resv: 1 Bytes, Reserved for future use.

   Local AS Number: 4 Bytes, to indicate the AS number of the Local
   Peer.

   Peer AS Number: 4 Bytes, to indicate the AS number of Remote Peer.

   ETTL: 1 Bytes, to indicate the multi hop count for EBGP session.  It
   should be 0 and ignored when Local AS and Peer AS is same.




Wang, et al.             Expires August 21, 2020                [Page 5]

Internet-Draft    PCEP Extension for Native IP Network     February 2020


   Peer Cookie: Used for establishing the secure BGP session between two
   peers.  The PCEP client should use the MD5 algorithm to generate the
   encrypted message.

   Local IP Address(4/16 Bytes): IPv4 address of the local router, used
   to peer with other end router.  When AT equal to 4, length is 32bit;
   when AT equal to 16, length is 128bit.

   Peer IP Address(4/16 Bytes): IPv4 address of the peer router, used to
   peer with the local router.  When AT equal to 4, length is 32bit;
   IPv6 address of the peer when AT equal to 16, length is 128bit;

5.2.  Peer Prefix Association TLV

   The Peer Prefix Association TLV is defined to specify the IP prefixes
   that should be advertised by the corresponding Peer.  This TLV should
   only be included and sent to the head/end router of the end2end path
   in case there is no RR involved.  If the RR is used between the head
   and end routers, then such information should be sent to head
   router,RR and end router respectively.

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |          Type=TBD             |          Length               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |            Peer ID            |         Prefixes Num          |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Peer Associated IP Prefix sub TLV(Variable)            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
             Figure 3: Peer Prefix Association TLV Format

   Type: 2 Bytes, value is TBD

   Length: 2 Bytes, the length of the following fields.

   Peer-ID: 2 Bytes, to indicate which peer should be used to advertise
   the following IP Prefix TLV.  This value is assigned in the Peer
   Address List object and is referred in this object.

   Prefixes Num: 2 Bytes, number of prefixes that advertised by the
   corresponding Peer.  It should be equal to number of the following IP
   prefix sub TLV.

   Peer Associated IP Prefix sub TLV: Variable Length, indicate the
   advertised IP Prefix.





Wang, et al.             Expires August 21, 2020                [Page 6]

Internet-Draft    PCEP Extension for Native IP Network     February 2020


5.2.1.  Prefix sub TLV

   Prefix sub TLV is used to carry the prefix information, which has the
   following format:

   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |          Type=TBD             |            Length             |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |      AT       | Prefix Length |        Prefix Value           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                            Prefix Value                       |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                 Figure 4: Prefix sub TLV Format

   Type: 2 Bytes, value is TBD

   Length: 2 Bytes, the length of the following fields.

   AT: 1 Byte, Address Type.  To indicate the address type of Peer.
   Equal to 4, if the following "Prefix address" belong to IPv4; Equal
   to 6 if the following "Prefix address" belong to IPv6.

   Prefix Length: 1 Byte, the prefix length.  For example, for
   10.0.0.0/8, this field will be equal to 8; for 2001:DB8::/32, this
   field will be equal to 32.

   Prefix Value: Variable length, the value of the prefix.  For example,
   for 10.0.0.0/8, this field will be 10.0.0.0; for 2001:DB8::/32, this
   field will be equal to 2001:DB8::.

5.3.  Explicit Peer Route TLV

   The Explicit Peer Route TLV is defined to specify the explicit peer
   route to the corresponding peer address on each device that is on the
   E2E assurance path.  This TLV should be sent to all the devices that
   locates on the E2E assurance path that calculated by PCE.













Wang, et al.             Expires August 21, 2020                [Page 7]

Internet-Draft    PCEP Extension for Native IP Network     February 2020


    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |          Type=TBD             |          Length               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Route Priority|     AT         |    Peer Address(IPv4/IPv6)    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |          Next Hop Address to the Peer(IPv4/IPv6)              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
               Figure 5: Explicit Peer Route TLV

   Type: 2 Bytes, value is TBD

   Length: 2 Bytes, the length of following fields.

   Route Priority: 1 Byte, The priority of this explicit route.  The
   higher priority should be preferred by the device.

   AT: 1 Byte, Address Type.  To indicate the address type of explicit
   peer route.  Equal to 4, if the following peer and next hop address
   belongs to IPv4; Equal to 6 if the following peer and next hop
   address belongs to IPv6.

   Peer Address: Variable Length, to indicate the peer address.

   Next Hop Address to the Peer: Variable Length, to indicate the next
   hop address to the corresponding peer that indicated by the Peer-ID.

6.  Management Consideration

   The information transferred in this draft is mainly used for the
   light weight BGP session setup, the prefix distribution and the
   explicit route deployment.  The planning, allocation and distribution
   of the peer addresses within IGP should be accomplished in advanced
   and they are out of the scope of this draft.

7.  Security Considerations

   Service provider should consider the protection of PCE and their
   communication with the underlay devices, which is described in
   document [RFC5440] and [RFC8253]

8.  IANA Considerations








Wang, et al.             Expires August 21, 2020                [Page 8]

Internet-Draft    PCEP Extension for Native IP Network     February 2020


8.1.  CCI Object Type

   IANA is requested to allocate new registry for the CCI Object Type:

   Object-Type Value       CCI Object Name         Reference
   3                       Native IP               This document

8.2.  CCI Object Associated TLV

   IANA is requested to confirm the early allocation of the following
   TLV Type Indicator values within the "PCEP TLV Type Indicator" sub-
   registry of the PCEP Numbers registry, and to update the reference in
   the registry to point to this document, when it is an RFC:

   Value          Meaning                         Reference
   ---------------------------------------------------------
   TBD            Peer Address List TLV          This document
   TBD            Peer Prefix Association TLV    This document
   TBD            Explicit Peer Route TLV        This document
   TBD            Prefix sub TLV                 This document

9.  Acknowledgement

   Thanks Dhruv Dhody for his valuable suggestions and comments.

10.  References

10.1.  Normative References

   [I-D.ietf-pce-pcep-extension-for-pce-controller]
              Zhao, Q., Li, Z., Negi, M., and C. Zhou, "PCEP Procedures
              and Protocol Extensions for Using PCE as a Central
              Controller (PCECC) of LSPs", draft-ietf-pce-pcep-
              extension-for-pce-controller-03 (work in progress),
              November 2019.

   [I-D.ietf-teas-pce-native-ip]
              Wang, A., Zhao, Q., Khasanov, B., and H. Chen, "PCE in
              Native IP Network", draft-ietf-teas-pce-native-ip-05 (work
              in progress), January 2020.

   [RFC5440]  Vasseur, JP., Ed. and JL. Le Roux, Ed., "Path Computation
              Element (PCE) Communication Protocol (PCEP)", RFC 5440,
              DOI 10.17487/RFC5440, March 2009,
              <https://www.rfc-editor.org/info/rfc5440>.






Wang, et al.             Expires August 21, 2020                [Page 9]

Internet-Draft    PCEP Extension for Native IP Network     February 2020


   [RFC8253]  Lopez, D., Gonzalez de Dios, O., Wu, Q., and D. Dhody,
              "PCEPS: Usage of TLS to Provide a Secure Transport for the
              Path Computation Element Communication Protocol (PCEP)",
              RFC 8253, DOI 10.17487/RFC8253, October 2017,
              <https://www.rfc-editor.org/info/rfc8253>.

   [RFC8281]  Crabbe, E., Minei, I., Sivabalan, S., and R. Varga, "Path
              Computation Element Communication Protocol (PCEP)
              Extensions for PCE-Initiated LSP Setup in a Stateful PCE
              Model", RFC 8281, DOI 10.17487/RFC8281, December 2017,
              <https://www.rfc-editor.org/info/rfc8281>.

   [RFC8283]  Farrel, A., Ed., Zhao, Q., Ed., Li, Z., and C. Zhou, "An
              Architecture for Use of PCE and the PCE Communication
              Protocol (PCEP) in a Network with Central Control",
              RFC 8283, DOI 10.17487/RFC8283, December 2017,
              <https://www.rfc-editor.org/info/rfc8283>.

10.2.  Informative References

   [I-D.ietf-teas-native-ip-scenarios]
              Wang, A., Huang, X., Qou, C., Li, Z., and P. Mi,
              "Scenarios and Simulation Results of PCE in Native IP
              Network", draft-ietf-teas-native-ip-scenarios-12 (work in
              progress), October 2019.

Authors' Addresses

   Aijun Wang
   China Telecom
   Beiqijia Town, Changping District
   Beijing, Beijing  102209
   China

   Email: wangaj3@chinatelecom.cn


   Boris Khasanov
   Huawei Technologies,Co.,Ltd
   Moskovskiy Prospekt 97A
   St.Petersburg  196084
   Russia

   Email: khasanov.boris@huawei.com







Wang, et al.             Expires August 21, 2020               [Page 10]

Internet-Draft    PCEP Extension for Native IP Network     February 2020


   Sheng Fang
   Huawei Technologies, Co.,
         Ltd
   Huawei Bld., No.156 Beiqing Rd.
   Beijing
   China

   Email: fsheng@huawei.com


   Chun Zhu
   ZTE Corporation
   50 Software Avenue, Yuhua District
   Nanjing, Jiangsu  210012
   China

   Email: zhu.chun1@zte.com.cn


































Wang, et al.             Expires August 21, 2020               [Page 11]
