<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>RTP Payload format for
    GSM-HR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="RTP Payload format for
    GSM-HR">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Network Working Group</td><td class="header">X. Duan</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">S. Wang</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">China Mobile Communications</td></tr>
<tr><td class="header">Expires: July 25, 2010</td><td class="header">Corporation</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">M. Westerlund</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">K. Hellwig</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">I. Johansson</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Ericsson AB</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">January 21, 2010</td></tr>
</table></td></tr></table>
<h1><br />RTP Payload format for
    GSM-HR<br />draft-ietf-avt-rtp-gsm-hr-03</h1>

<h3>Abstract</h3>

<p>This document specifies the payload format for packetization of the
      GSM Half-Rate speech codec data into the Real-time Transport Protocol
      (RTP). The payload format supports transmission of multiple frames per
      payload and packet loss robustness methods using redundancy. 
</p>
<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted to IETF in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on July 25, 2010.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2010 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents
(http://trustee.ietf.org/license-info) in effect on the date of
publication of this document.  Please review these documents
carefully, as they describe your rights and restrictions with respect
to this document. Code Components extracted from this document must
include Simplified BSD License text as described in Section 4.e of
the Trust Legal Provisions and are provided without warranty as
described in the BSD License.</p>
<a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
<a href="#anchor2">2.</a>&nbsp;
Conventions<br />
<a href="#anchor3">3.</a>&nbsp;
GSM Half Rate<br />
<a href="#anchor4">4.</a>&nbsp;
Payload format Capabilities<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec-fec">4.1.</a>&nbsp;
Use of Forward Error Correction (FEC)<br />
<a href="#sec-payload">5.</a>&nbsp;
Payload format<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor5">5.1.</a>&nbsp;
RTP Header Usage<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">5.2.</a>&nbsp;
Payload Structure<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">5.2.1.</a>&nbsp;
Encoding of Speech Frames<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor8">5.2.2.</a>&nbsp;
Encoding of Silence Description Frames<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor9">5.3.</a>&nbsp;
Implementation Considerations<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor10">5.3.1.</a>&nbsp;
Transmission of SID frames<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor11">5.3.2.</a>&nbsp;
Receiving Redundant Frames<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor12">5.3.3.</a>&nbsp;
Decoding Validation<br />
<a href="#sec-examples">6.</a>&nbsp;
Examples<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor13">6.1.</a>&nbsp;
3 frames<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor14">6.2.</a>&nbsp;
3 Frames with lost frame in the middle<br />
<a href="#anchor15">7.</a>&nbsp;
Payload Format Parameters<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec-media-type">7.1.</a>&nbsp;
Media Type Definition<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor16">7.2.</a>&nbsp;
Mapping to SDP<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor17">7.2.1.</a>&nbsp;
Offer/Answer Considerations<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor18">7.2.2.</a>&nbsp;
Declarative SDP Considerations<br />
<a href="#anchor19">8.</a>&nbsp;
IANA Considerations<br />
<a href="#sec-congestion">9.</a>&nbsp;
Congestion Control<br />
<a href="#sec-sec">10.</a>&nbsp;
Security Considerations<br />
<a href="#Acknowledgements">11.</a>&nbsp;
Acknowledgements<br />
<a href="#rfc.references1">12.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">12.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">12.2.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>This document specifies the payload format for packetization of <a class='info' href='#TS46.002'>GSM Half Rate (GSM-HR) codec<span> (</span><span class='info'>3GPP, &ldquo;Specification : 3GPP TS 46.002           http://www.3gpp.org/ftp/Specs/archive/46_series/46.002/46002-700.zip,&rdquo; June&nbsp;2007.</span><span>)</span></a> [TS46.002] encoded speech
      signals into the Real-time Transport Protocol (RTP) <a class='info' href='#RFC3550'>[RFC3550]<span> (</span><span class='info'>Schulzrinne, H., Casner, S., Frederick, R., and V. Jacobson, &ldquo;RTP: A Transport Protocol for Real-Time Applications,&rdquo; July&nbsp;2003.</span><span>)</span></a>. The payload format supports transmission of
      multiple frames per payload and packet loss robustness methods using
      redundancy.
</p>
<p>This document starts with conventions, a brief description of the
      codec, and the payload formats capabilities. The payload format is
      specified in <a class='info' href='#sec-payload'>Section&nbsp;5<span> (</span><span class='info'>Payload format</span><span>)</span></a>. Examples can be found
      in <a class='info' href='#sec-examples'>Section&nbsp;6<span> (</span><span class='info'>Examples</span><span>)</span></a>. The media type and its mappings
      to SDP, usage in SDP offer/answer is then specified. The document ends
      with considerations around congestion control and security.
</p>
<p>This document registers a media type (audio/gsm-hr-08) for the
      Real-time Transport protocol (RTP) payload format for the GSM-HR codec.
      Note: This format is not compatible with the one that was drafted back
      in 1999 to 2000 in the Internet drafts: draft-ietf-avt-profile-new-05 to
      draft-ietf-avt-profile-new-09. A later version of the AVP profile draft
      was published as RFC 3551 without any specification of the GSM-HR
      payload format. To avoid a possible conflict with this older format, the
      media type of the payload format specified in this document has a media
      type name that is different from (audio/gsm-hr).
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Conventions</h3>

<p>This document uses the normal IETF bit-order representation. Bit
      fields in figures are read left to right and then down. The left most
      bit in each field is the most significant. The numbering starts from 0
      and ascends, where bit 0 will be the most significant.
</p>
<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
      "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
      document are to be interpreted as described in <a class='info' href='#RFC2119'>RFC 2119<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a> [RFC2119].
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
GSM Half Rate</h3>

<p>The Global System for Mobile Communication (GSM) network provides
      with mobile communication services for nearly 3 billion users (status
      2008). The GSM Half Rate Codec (GSM-HR) is one of the speech codecs that
      are used in GSM networks. GSM-HR denotes the Half-Rate speech codec as
      specified in <a class='info' href='#TS46.002'>[TS46.002]<span> (</span><span class='info'>3GPP, &ldquo;Specification : 3GPP TS 46.002           http://www.3gpp.org/ftp/Specs/archive/46_series/46.002/46002-700.zip,&rdquo; June&nbsp;2007.</span><span>)</span></a>.
</p>
<p>Note: for historical reasons these 46-series specifications are
      internally referenced as 06-series. A simple mapping applies, for
      example 46.020 is referenced as 06.20 and so on.
</p>
<p>The GSM-HR codec has a frame length of 20 ms, with narrowband speech
      sampled at 8 kHz, i.e. 160 samples per frame. Each speech frame is
      compressed into 112 bits of speech parameters, which is equivalent to a
      bit rate of 5.6 kbit/s. Speech pauses are detected by a standardized
      Voice Activity Detection (VAD). During speech pauses the transmission of
      speech frames is inhibited. Silence Descriptor (SID) frames are
      transmitted at the end of a talk spurt and about every 480ms during
      speech pauses to allow for a decent Comfort Noise (CN) quality at
      receiver side.
</p>
<p>The SID frame generation in the GSM radio network is determined by
      the GSM mobile station and the GSM radio subsystem. SID frames come
      during speech pauses in uplink from the mobile station about every
      480ms. In downlink to the mobile station, when they are generated by the
      encoder of the GSM radio subsystem, SID frames are sent every 20ms to
      the GSM base station, which then picks only one every 480ms for downlink
      radio transmission. For other applications, like transport over IP, it
      is more appropriate to send the SID frames less often than every 20ms,
      but 480 ms may be too sparse. We recommend as a compromise that a GSM-HR
      encoder outside of the GSM radio network (i.e. not in the GSM mobile
      station and not in the GSM radio subsystem, but for example in the media
      gateway of the core network) should generate and send SID frames every
      160ms.
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Payload format Capabilities</h3>

<p>This RTP payload format carries one or more GSM-HR encoded frames,
      either full voice or silence descriptor (SID), representing a mono
      speech signal. To maintain synchronization or express not sent or lost
      frames it has the capability to indicate No_Data frames.
</p>
<a name="sec-fec"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1"></a><h3>4.1.&nbsp;
Use of Forward Error Correction (FEC)</h3>

<p>Generic forward error correction within RTP is defined, for
        example, in RFC 5109 <a class='info' href='#RFC5109'>[RFC5109]<span> (</span><span class='info'>Li, A., &ldquo;RTP Payload Format for Generic Forward Error Correction,&rdquo; December&nbsp;2007.</span><span>)</span></a>. Audio redundancy
        coding is defined in RFC 2198 <a class='info' href='#RFC2198'>[RFC2198]<span> (</span><span class='info'>Perkins, C., Kouvelas, I., Hodson, O., Hardman, V., Handley, M., Bolot, J., Vega-Garcia, A., and S. Fosse-Parisis, &ldquo;RTP Payload for Redundant Audio Data,&rdquo; September&nbsp;1997.</span><span>)</span></a>. Either
        scheme can be used to add redundant information to the RTP packet
        stream and make it more resilient to packet losses, at the expense of
        a higher bit rate. Please see either RFCs for a discussion of the
        implications of the higher bit rate to network congestion.
</p>
<p>In addition to these media-unaware mechanisms, this memo specifies
        an optional to use GSM-HR specific form of audio redundancy coding,
        which may be beneficial in terms of packetization overhead.
        Conceptually, previously transmitted transport frames are aggregated
        together with new ones. A sliding window can be used to group the
        frames to be sent in each payload. <a class='info' href='#fig-red'>Figure&nbsp;1<span> (</span><span class='info'>An example of redundant transmission</span><span>)</span></a>
        below shows an example.
</p><br /><hr class="insert" />
<a name="fig-red"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>--+--------+--------+--------+--------+--------+--------+--------+--
  | f(n-2) | f(n-1) |  f(n)  | f(n+1) | f(n+2) | f(n+3) | f(n+4) |
--+--------+--------+--------+--------+--------+--------+--------+--

   &lt;---- p(n-1) ----&gt;
            &lt;----- p(n) -----&gt;
                     &lt;---- p(n+1) ----&gt;
                              &lt;---- p(n+2) ----&gt;
                                       &lt;---- p(n+3) ----&gt;
                                                &lt;---- p(n+4) ----&gt;
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;1: An example of redundant transmission&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>Here, each frame is retransmitted once in the following RTP payload
        packet. f(n-2)...f(n+4) denote a sequence of audio frames, and
        p(n-1)...p(n+4) a sequence of payload packets.
</p>
<p>The mechanism described does not really require signaling at the
        session setup. However, signalling has been defined to allow for the
        sender to voluntarily bounding the buffering and delay requirements.
        If nothing is signalled the use of this mechanism is allowed and
        unbounded. For a certain timestamp, the receiver may receive multiple
        copies of a frame containing encoded audio data. The cost of this
        scheme is bandwidth and the receiver delay necessary to allow the
        redundant copy to arrive.
</p>
<p>This redundancy scheme provides a functionality similar to the one
        described in RFC 2198, but it works only if both original frames and
        redundant representations are GSM-HR frames. When the use of other
        media coding schemes is desirable, one has to resort to RFC 2198.
</p>
<p>The sender is responsible for selecting an appropriate amount of
        redundancy based on feedback about the channel conditions, e.g., in
        the RTP Control Protocol (RTCP) <a class='info' href='#RFC3550'>[RFC3550]<span> (</span><span class='info'>Schulzrinne, H., Casner, S., Frederick, R., and V. Jacobson, &ldquo;RTP: A Transport Protocol for Real-Time Applications,&rdquo; July&nbsp;2003.</span><span>)</span></a>
        receiver reports. The sender is also responsible for avoiding
        congestion, which may be exacerbated by redundancy (see <a class='info' href='#sec-congestion'>Section&nbsp;9<span> (</span><span class='info'>Congestion Control</span><span>)</span></a> for more details).
</p>
<p>
</p>
<a name="sec-payload"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Payload format</h3>

<p>The format of the RTP header is specified in <a class='info' href='#RFC3550'>[RFC3550]<span> (</span><span class='info'>Schulzrinne, H., Casner, S., Frederick, R., and V. Jacobson, &ldquo;RTP: A Transport Protocol for Real-Time Applications,&rdquo; July&nbsp;2003.</span><span>)</span></a>. This payload format uses the fields of the
      header in a manner consistent with that specification.
</p>
<p>The duration of one speech frame is 20 ms. The sampling frequency is
      8kHz, corresponding to 160 speech samples per frame. An RTP packet may
      contain multiple frames of encoded speech or SID parameters. Each packet
      covers a period of one or more contiguous 20 ms frame intervals. During
      silence periods no speech packets are sent, however SID packets are
      transmitted every now and then.
</p>
<p>To allow for error resiliency through redundant transmission, the
      periods covered by multiple packets MAY overlap in time. A receiver MUST
      be prepared to receive any speech frame multiple times. A given frame
      MUST NOT be encoded as speech frame in one packet and as SID frame or as
      No_Data frame in another packet. Furthermore, a given frame MUST NOT be
      encoded with different voicing modes in different packets.
</p>
<p>The rules regarding maximum payload size given in Section 3.2 of
      <a class='info' href='#RFC5405'>[RFC5405]<span> (</span><span class='info'>Eggert, L. and G. Fairhurst, &ldquo;Unicast UDP Usage Guidelines for Application Designers,&rdquo; November&nbsp;2008.</span><span>)</span></a> SHOULD be followed.
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1"></a><h3>5.1.&nbsp;
RTP Header Usage</h3>

<p>The RTP timestamp corresponds to the sampling instant of the first
        sample encoded for the first frame in the packet. The timestamp clock
        frequency SHALL be 8000 Hz. The timestamp is also used to recover the
        correct decoding order of the frames.
</p>
<p>The RTP header marker bit (M) SHALL be set to 1 whenever the first
        frame carried in the packet is the first frame in a talkspurt (see
        definition of the talkspurt in section 4.1 of <a class='info' href='#RFC3551'>[RFC3551]<span> (</span><span class='info'>Schulzrinne, H. and S. Casner, &ldquo;RTP Profile for Audio and Video Conferences with Minimal Control,&rdquo; July&nbsp;2003.</span><span>)</span></a>). For all other packets the marker bit SHALL
        be set to zero (M=0).
</p>
<p>The assignment of an RTP payload type for the format defined in
        this memo is outside the scope of this document. The RTP profiles in
        use currently mandates binding the payload type dynamically for this
        payload format.
</p>
<p>The remaining RTP header fields are used as specified in RFC 3550
        <a class='info' href='#RFC3550'>[RFC3550]<span> (</span><span class='info'>Schulzrinne, H., Casner, S., Frederick, R., and V. Jacobson, &ldquo;RTP: A Transport Protocol for Real-Time Applications,&rdquo; July&nbsp;2003.</span><span>)</span></a>.
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.2"></a><h3>5.2.&nbsp;
Payload Structure</h3>

<p>The complete payload consists of a payload table of contents (ToC)
        section, followed by speech data representing one or more speech
        frames, SID frames or No_Data frames. The following diagram shows the
        general payload format layout:<br /><hr class="insert" />
<a name="fig-layout"></a>
</p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>   +-------------+-------------------------
   | ToC section | speech data section ...
   +-------------+-----------------------</pre></div><p>
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;2: General payload format layout&nbsp;</b></font><br /></td></tr></table><hr class="insert" />
Each ToC element is one octet and corresponds to one speech
        frame, the number of ToC elements is thus equal to the number of
        speech frames (including SID frames and No_Data frames). Each ToC
        entry represents a consecutive speech or SID or No_Data frame. The
        timestamp value for ToC element (and corresponding speech frame data)
        N within the payload is (RTP timestamp field + (N-1)*160) mod 2^32 .
        The format of the ToC element is as follows. <br /><hr class="insert" />
<a name="fig-toc"></a>
</p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    0 1 2 3 4 5 6 7
   +-+-+-+-+-+-+-+-+
   |F| FT  |R R R R|
   +-+-+-+-+-+-+-+-+
</pre></div><p>
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;3: The TOC element&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

</p>
<p></p>
<blockquote class="text"><dl>
<dt>F:</dt>
<dd>Follow flag, 1 denotes that more ToC elements
            follow, 0 denotes the last ToC element.
</dd>
<dt>R:</dt>
<dd>Reserved bits, MUST be set to zero and MUST be
            ignored by receiver.
</dd>
<dt>FT:</dt>
<dd>Frame type <div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>   000 = Good Speech frame
   001 = Reserved
   010 = Good SID frame
   011 = Reserved
   100 = Reserved
   101 = Reserved
   110 = Reserved
   111 = No_Data frame</pre></div>
</dd>
</dl></blockquote><p>The length of the payload data depends on the frame
        type:</p>
<blockquote class="text"><dl>
<dt>Good Speech frame: </dt>
<dd>The 112 speech data bits are put
            in 14 octets.
</dd>
<dt>Good SID frame: </dt>
<dd>The 33 SID data bits are put in 14
            octets, as in case of Speech frames, with the unused 79 bits set
            all to &ldquo;1&rdquo;.
</dd>
<dt>No data frame: </dt>
<dd>Length of payload data is zero
            octets.
</dd>
</dl></blockquote><p>Frames marked in the GSM radio subsystem as &ldquo;Bad Speech
        frame&rdquo;, &ldquo;Bad SID frame&rdquo; or &ldquo;No_Data
        frame&rdquo; are not sent in RTP packets in order to save bandwidth.
        They are marked as &ldquo;No_Data frame&rdquo;, if they occur within
        an RTP packet that carries more than one speech frame, SID frame or
        No_Data frame.
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.2.1"></a><h3>5.2.1.&nbsp;
Encoding of Speech Frames</h3>

<p>The 112 bits of GSM-HR-coded speech (b1&hellip;b112) are defined
          in TS 46.020, Annex B <a class='info' href='#TS46.020'>[TS46.020]<span> (</span><span class='info'>3GPP, &ldquo;Specification : 3GPP TS 46.020           http://www.3gpp.org/ftp/Specs/archive/46_series/46.002/46020-700.zip,&rdquo; June&nbsp;2007.</span><span>)</span></a>, in the order
          of occurrence. The first bit (b1) of the first parameter is placed
          in bit 0 (the MSB) of the first octet (octet 1) of the payload
          field; the second bit is placed in bit 1 of the first octet and so
          on. The last bit (b112) is placed in the LSB (bit 7) of octet
          14.
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.2.2"></a><h3>5.2.2.&nbsp;
Encoding of Silence Description Frames</h3>

<p>The GSM-HR Codec applies a specific coding for silence periods in
          so called SID frames. The coding of SID frames is based on the
          coding of speech frames by using only the first 33 bits for SID
          parameters and by setting the remaining 79 bits all to
          &ldquo;1&rdquo;.
</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.3"></a><h3>5.3.&nbsp;
Implementation Considerations</h3>

<p>An application implementing this payload format MUST understand all
        the payload parameters that is defined in this specification. Any
        mapping of the parameters to a signaling protocol MUST support all
        parameters. So an implementation of this payload format in an
        application using SDP is required to understand all the payload
        parameters in their SDP-mapped form. This requirement ensures that an
        implementation always can decide whether it is capable of
        communicating when the communicating entities support this version of
        the specification.
</p>
<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.3.1"></a><h3>5.3.1.&nbsp;
Transmission of SID frames</h3>

<p>When using this RTP payload format the sender SHOULD 
          generate and send SID frames every 160ms, i.e. every 8th 
          frame, during silent periods. Other SID transmission intervals 
          may occur due to gateways to other systems
          that uses other transmission intervals.
</p>
<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.3.2"></a><h3>5.3.2.&nbsp;
Receiving Redundant Frames</h3>

<p>The reception of redundant audio frames, i.e. more than one audio
          frame from the same source for the same time slot, MUST be supported
          by the implementation.
</p>
<a name="anchor12"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.3.3"></a><h3>5.3.3.&nbsp;
Decoding Validation</h3>

<p>If the receiver finds a mismatch between the size of a received
          payload and the size indicated by the ToC of the payload, the
          receiver SHOULD discard the packet. This is recommended because
          decoding a frame parsed from a payload based on erroneous ToC data
          could severely degrade the audio quality.
</p>
<a name="sec-examples"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Examples</h3>

<p>A few examples to highlight the payload format.
</p>
<a name="anchor13"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1"></a><h3>6.1.&nbsp;
3 frames</h3>

<p>A basic example of the aggregation of 3 consecutive speech frames
        into a single frame.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
   The first 24 bits are ToC elements.
   Bit 0 is '1' as another ToC element follow.
   Bits 1..3 is 000 = Good speech frame
   Bits 4..7 is 0000 = Reserved
   Bits 8 is '1' as another ToC element follow.
   Bits 9..11 is 000 = Good speech frame
   Bits 12..15 is 0000 = Reserved
   Bit 16 is '0', no more ToC element follows
   Bits 17..19 is 000 = Good speech frame
   Bits 20..23 is 0000 = Reserved
</pre></div><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |1|0 0 0|0 0 0 0|1|0 0 0|0 0 0 0|0|0 0 0|0 0 0 0|b1           b8|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+               +
   |b9   Frame 1                                                b40|
   +                                                               +
   |b41                                                         b72|
   +                                                               +
   |b73                                                        b104|
   +               +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |b105       b112|b1                                          b24|
   +-+-+-+-+-+-+-+-+                                               +
   |b25  Frame 2                                                b56|
   +                                                               +
   |b57                                                         b88|
   +                                               +-+-+-+-+-+-+-+-+
   |b89                                        b112|b1           b8|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+               +
   |b9   Frame 3                                                b40|
   +                                                               +
   |b41                                                         b72|
   +                                                               +
   |b73                                                        b104|
   +               +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |b105       b112|
   +-+-+-+-+-+-+-+-+</pre></div>
<a name="anchor14"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2"></a><h3>6.2.&nbsp;
3 Frames with lost frame in the middle</h3>

<p>An example of payload carrying 3 frames where the middle one is
        No_Data, for example due to loss prior to transmission by the RTP
        source.</p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
   The first 24 bits are ToC elements.
   Bit 0 is '1' as another ToC element follow.
   Bits 1..3 is 000 = Good speech frame
   Bits 4..7 is 0000 = Reserved
   Bits 8 is '1' as another ToC element follow.
   Bits 9..11 is 111 = No_Data frame
   Bits 12..15 is 0000 = Reserved
   Bit 16 is '0', no more ToC element follows
   Bits 17..19 is 000 = Good speech frame
   Bits 20..23 is 0000 = Reserved
</pre></div><p>
</p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |1|0 0 0|0 0 0 0|1|1 1 1|0 0 0 0|0|0 0 0|0 0 0 0|b1           b8|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+               +
   |b9   Frame 1                                                b40|
   +                                                               +
   |b41                                                         b72|
   +                                                               +
   |b73                                                        b104|
   +               +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |b105       b112|b1                                          b24|
   +-+-+-+-+-+-+-+-+                                               +
   |b25  Frame 3                                                b56|
   +                                                               +
   |b57                                                         b88|
   +                                               +-+-+-+-+-+-+-+-+
   |b89                                        b112|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</pre></div><p>

</p>
<a name="anchor15"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Payload Format Parameters</h3>

<p>This RTP payload format is identified using the media type
      "audio/gsm-hr-08", which is registered in accordance with <a class='info' href='#RFC4855'>[RFC4855]<span> (</span><span class='info'>Casner, S., &ldquo;Media Type Registration of RTP Payload Formats,&rdquo; February&nbsp;2007.</span><span>)</span></a> and using the template of <a class='info' href='#RFC4288'>[RFC4288]<span> (</span><span class='info'>Freed, N. and J. Klensin, &ldquo;Media Type Specifications and Registration Procedures,&rdquo; December&nbsp;2005.</span><span>)</span></a>. Note: Media subtype names are
      case-insensitive.
</p>
<a name="sec-media-type"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.1"></a><h3>7.1.&nbsp;
Media Type Definition</h3>

<p>The media type for the GSM-HR codec is allocated from the IETF tree
        since GSM-HR is a well know speech codec. This media type registration
        covers real-time transfer via RTP. The media subtype name contains
        "-08" to avoid potential conflict with any earlier drafts of GSM-HR
        RTP payload types that aren't bit compatible.
</p>
<p>Note, reception of any unspecified parameter MUST be ignored by the
        receiver to ensure that additional parameters can be added in the
        future.
</p>
<p>Type name: audio
</p>
<p>Subtype name: GSM-HR-08
</p>
<p>Required parameters: none
</p>
<p>Optional parameters: </p>
<blockquote class="text"><dl>
<dt>max-red:</dt>
<dd>The maximum duration in milliseconds that
            elapses between the primary (first) transmission of a frame and
            any redundant transmission that the sender will use. This
            parameter allows a receiver to have a bounded delay when
            redundancy is used. Allowed values are integers between 0 (no
            redundancy will be used) and 65535. If the parameter is omitted,
            no limitation on the use of redundancy is present.
</dd>
<dt>ptime:</dt>
<dd>see <a class='info' href='#RFC4566'>[RFC4566]<span> (</span><span class='info'>Handley, M., Jacobson, V., and C. Perkins, &ldquo;SDP: Session Description Protocol,&rdquo; July&nbsp;2006.</span><span>)</span></a>.
</dd>
<dt>maxptime:</dt>
<dd>see <a class='info' href='#RFC4566'>[RFC4566]<span> (</span><span class='info'>Handley, M., Jacobson, V., and C. Perkins, &ldquo;SDP: Session Description Protocol,&rdquo; July&nbsp;2006.</span><span>)</span></a>.
</dd>
</dl></blockquote>

<p>Encoding considerations:</p>
<blockquote class="text">
<p>This media type is framed and binary, see section 4.8 in <a class='info' href='#RFC4288'>RFC4288<span> (</span><span class='info'>Freed, N. and J. Klensin, &ldquo;Media Type Specifications and Registration Procedures,&rdquo; December&nbsp;2005.</span><span>)</span></a> [RFC4288].
</p>
</blockquote>

<p>Security considerations: </p>
<blockquote class="text">
<p>See <a class='info' href='#sec-sec'>Section&nbsp;10<span> (</span><span class='info'>Security Considerations</span><span>)</span></a> of RFCXXXX.
</p>
</blockquote>

<p>Interoperability considerations:
</p>
<p>Published specification:</p>
<blockquote class="text">
<p>RFC XXXX, 3GPP TS 46.002
</p>
</blockquote>

<p>Applications that use this media type:</p>
<blockquote class="text">
<p>Real-time audio applications like voice over IP and
            teleconference.
</p>
</blockquote>

<p>Additional information: none
</p>
<p>Person &amp; email address to contact for further information:</p>
<blockquote class="text">
<p>Ingemar Johansson &lt;ingemar.s.johansson@ericsson.com&gt;
</p>
</blockquote>

<p>Intended usage: COMMON
</p>
<p>Restrictions on usage:</p>
<blockquote class="text">
<p>This media type depends on RTP framing, and hence is only
            defined for transfer via RTP <a class='info' href='#RFC3550'>[RFC3550]<span> (</span><span class='info'>Schulzrinne, H., Casner, S., Frederick, R., and V. Jacobson, &ldquo;RTP: A Transport Protocol for Real-Time Applications,&rdquo; July&nbsp;2003.</span><span>)</span></a>.
            Transport within other framing protocols is not defined at this
            time.
</p>
</blockquote>

<p>Author: </p>
<blockquote class="text">
<p>Xiaodong Duan &lt;duanxiaodong@chinamobile.com&gt;
</p>
<p>Shuaiyu Wang &lt;wangshuaiyu@chinamobile.com&gt;
</p>
<p>Magnus Westerlund &lt;magnus.westerlund@ericsson.com&gt;
</p>
<p>Ingemar Johansson &lt;ingemar.s.johansson@ericsson.com&gt;
</p>
<p>Karl Hellwig &lt;karl.hellwig@ericsson.com&gt;
</p>
</blockquote>

<p>Change controller:</p>
<blockquote class="text">
<p>IETF Audio/Video Transport working group delegated from the
            IESG.
</p>
</blockquote>

<a name="anchor16"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.2"></a><h3>7.2.&nbsp;
Mapping to SDP</h3>

<p>The information carried in the media type specification has a
        specific mapping to fields in the Session Description Protocol (SDP)
        <a class='info' href='#RFC4566'>[RFC4566]<span> (</span><span class='info'>Handley, M., Jacobson, V., and C. Perkins, &ldquo;SDP: Session Description Protocol,&rdquo; July&nbsp;2006.</span><span>)</span></a>, which is commonly used to describe RTP
        sessions. When SDP is used to specify sessions employing the GSM-HR
        codec, the mapping is as follows: </p>
<ul class="text">
<li>The media type ("audio") goes in SDP "m=" as the media
            name.
</li>
<li>The media subtype (payload format name) goes in SDP "a=rtpmap"
            as the encoding name. The RTP clock rate in "a=rtpmap" MUST be
            8000, and the encoding parameters (number of channels) MUST either
            be explicitly set to 1 or omitted, implying a default value of
            1.
</li>
<li>The parameters "ptime" and "maxptime" go in the SDP "a=ptime"
            and "a=maxptime" attributes, respectively.
</li>
<li>Any remaining parameters go in the SDP "a=fmtp" attribute by
            copying them directly from the media type parameter string as a
            semicolon-separated list of parameter=value pairs.
</li>
</ul>

<a name="anchor17"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.2.1"></a><h3>7.2.1.&nbsp;
Offer/Answer Considerations</h3>

<p>The following considerations apply when using SDP Offer-Answer
          procedures to negotiate the use of GSM-HR payload in RTP: </p>
<ul class="text">
<li>The SDP offerer and answerer MUST generate GSM-HR packets as
              described by the offered parameters.
</li>
<li>In most cases, the parameters "maxptime" and "ptime" will not
              affect interoperability; however, the setting of the parameters
              can affect the performance of the application. The SDP offer-
              answer handling of the "ptime" parameter is described in <a class='info' href='#RFC3264'>[RFC3264]<span> (</span><span class='info'>Rosenberg, J. and H. Schulzrinne, &ldquo;An Offer/Answer Model with Session Description Protocol (SDP),&rdquo; June&nbsp;2002.</span><span>)</span></a>. The "maxptime" parameter MUST be
              handled in the same way.
</li>
<li>The parameter "max-red" is a stream property parameter. For
              sendonly or sendrecv unicast media streams, the parameter
              declares the limitation on redundancy that the stream sender
              will use. For recvonly streams, it indicates the desired value
              for the stream sent to the receiver. The answerer MAY change the
              value, but is RECOMMENDED to use the same limitation as the
              offer declares. In the case of multicast, the offerer MAY
              declare a limitation; this SHALL be answered using the same
              value. A media sender using this payload format is RECOMMENDED
              to always include the "max-red" parameter. This information is
              likely to simplify the media stream handling in the receiver.
              This is especially true if no redundancy will be used, in which
              case "max-red" is set to 0.
</li>
<li>Any unknown media type parameter in an offer SHALL be removed
              in the answer.
</li>
</ul>

<a name="anchor18"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.2.2"></a><h3>7.2.2.&nbsp;
Declarative SDP Considerations</h3>

<p>In declarative usage, like SDP in RTSP <a class='info' href='#RFC2326'>[RFC2326]<span> (</span><span class='info'>Schulzrinne, H., Rao, A., and R. Lanphier, &ldquo;Real Time Streaming Protocol (RTSP),&rdquo; April&nbsp;1998.</span><span>)</span></a> or SAP <a class='info' href='#RFC2974'>[RFC2974]<span> (</span><span class='info'>Handley, M., Perkins, C., and E. Whelan, &ldquo;Session Announcement Protocol,&rdquo; October&nbsp;2000.</span><span>)</span></a>, the
          parameters SHALL be interpreted as follows: </p>
<ul class="text">
<li>The stream property parameter ("max-red") is declarative, and
              a participant MUST follow what is declared for the session. In
              this case it means that the receiver MUST be prepared to
              allocate buffer memory for the given redundancy. Any
              transmissions MUST NOT use more redundancy then what has been
              declared. More than one configuration may be provided if
              necessary by declaring multiple RTP payload types; however, the
              number of types should be kept small.
</li>
<li>Any "maxptime" and "ptime" values should be selected with
              care to ensure that the session's participants can achieve
              reasonable performance.
</li>
</ul>

<a name="anchor19"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
IANA Considerations</h3>

<p>One media type (audio/gsm-hr-08) has been defined and needs
      registration in the media types registry; see <a class='info' href='#sec-media-type'>Section&nbsp;7.1<span> (</span><span class='info'>Media Type Definition</span><span>)</span></a>.
</p>
<a name="sec-congestion"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
Congestion Control</h3>

<p>The general congestion control considerations for transporting RTP
      data apply; see RTP <a class='info' href='#RFC3550'>[RFC3550]<span> (</span><span class='info'>Schulzrinne, H., Casner, S., Frederick, R., and V. Jacobson, &ldquo;RTP: A Transport Protocol for Real-Time Applications,&rdquo; July&nbsp;2003.</span><span>)</span></a> and any applicable
      RTP profile like AVP <a class='info' href='#RFC3551'>[RFC3551]<span> (</span><span class='info'>Schulzrinne, H. and S. Casner, &ldquo;RTP Profile for Audio and Video Conferences with Minimal Control,&rdquo; July&nbsp;2003.</span><span>)</span></a>.
</p>
<p>The number of frames encapsulated in each RTP payload highly
      influences the overall bandwidth of the RTP stream due to header
      overhead constraints. Packetizing more frames in each RTP payload can
      reduce the number of packets sent and hence the header overhead, at the
      expense of increased delay and reduced error robustness. If forward
      error correction (FEC) is used, the amount of FEC-induced redundancy
      needs to be regulated such that the use of FEC itself does not cause a
      congestion problem.
</p>
<a name="sec-sec"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10"></a><h3>10.&nbsp;
Security Considerations</h3>

<p>RTP packets using the payload format defined in this specification
      are subject to the security considerations discussed in the <a class='info' href='#RFC3550'>RTP specification<span> (</span><span class='info'>Schulzrinne, H., Casner, S., Frederick, R., and V. Jacobson, &ldquo;RTP: A Transport Protocol for Real-Time Applications,&rdquo; July&nbsp;2003.</span><span>)</span></a> [RFC3550] , and in any applicable RTP
      profile. The main security considerations for the RTP packet carrying
      the RTP payload format defined within this memo are confidentiality,
      integrity and source authenticity. Confidentiality is achieved by
      encryption of the RTP payload. Integrity of the RTP packets through
      suitable cryptographic integrity protection mechanism. Cryptographic
      system may also allow the authentication of the source of the payload. A
      suitable security mechanism for this RTP payload format should provide
      confidentiality, integrity protection and at least source authentication
      capable of determining if an RTP packet is from a member of the RTP
      session or not.
</p>
<p>Note that the appropriate mechanism to provide security to RTP and
      payloads following this memo may vary. It is dependent on the
      application, the transport, and the signalling protocol employed.
      Therefore a single mechanism is not sufficient, although if suitable the
      usage of <a class='info' href='#RFC3711'>SRTP<span> (</span><span class='info'>Baugher, M., McGrew, D., Naslund, M., Carrara, E., and K. Norrman, &ldquo;The Secure Real-time Transport Protocol (SRTP),&rdquo; March&nbsp;2004.</span><span>)</span></a> [RFC3711] is recommended. Other
      mechanism that may be used are <a class='info' href='#RFC4301'>IPsec<span> (</span><span class='info'>Kent, S. and K. Seo, &ldquo;Security Architecture for the Internet Protocol,&rdquo; December&nbsp;2005.</span><span>)</span></a> [RFC4301] and
      <a class='info' href='#RFC5246'>TLS<span> (</span><span class='info'>Dierks, T. and E. Rescorla, &ldquo;The Transport Layer Security (TLS) Protocol Version 1.2,&rdquo; August&nbsp;2008.</span><span>)</span></a> [RFC5246] (RTP over TCP), but also other
      alternatives may exist.
</p>
<p>This RTP payload format and its media decoder do not exhibit any
      significant non-uniformity in the receiver-side computational complexity
      for packet processing, and thus are unlikely to pose a denial-of-service
      threat due to the receipt of pathological data. Nor does the RTP payload
      format contain any active content.
</p>
<a name="Acknowledgements"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11"></a><h3>11.&nbsp;
Acknowledgements</h3>

<p>The author would like to thank Xiaodong Duan, Shuaiyu Wang, Rocky
      Wang and Ying Zhang for their initial work in this area. Many thanks
      also go to Tomas Frankkila for useful input and comments.
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.12"></a><h3>12.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>12.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3264">[RFC3264]</a></td>
<td class="author-text">Rosenberg, J. and H. Schulzrinne, &ldquo;<a href="http://tools.ietf.org/html/rfc3264">An Offer/Answer Model with Session Description Protocol (SDP)</a>,&rdquo; RFC&nbsp;3264, June&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3264.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3550">[RFC3550]</a></td>
<td class="author-text">Schulzrinne, H., Casner, S., Frederick, R., and V. Jacobson, &ldquo;<a href="http://tools.ietf.org/html/rfc3550">RTP: A Transport Protocol for Real-Time Applications</a>,&rdquo; STD&nbsp;64, RFC&nbsp;3550, July&nbsp;2003 (<a href="http://www.rfc-editor.org/rfc/rfc3550.txt">TXT</a>, <a href="http://www.rfc-editor.org/rfc/rfc3550.ps">PS</a>, <a href="http://www.rfc-editor.org/rfc/rfc3550.pdf">PDF</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3551">[RFC3551]</a></td>
<td class="author-text">Schulzrinne, H. and S. Casner, &ldquo;<a href="http://tools.ietf.org/html/rfc3551">RTP Profile for Audio and Video Conferences with Minimal Control</a>,&rdquo; STD&nbsp;65, RFC&nbsp;3551, July&nbsp;2003 (<a href="http://www.rfc-editor.org/rfc/rfc3551.txt">TXT</a>, <a href="http://www.rfc-editor.org/rfc/rfc3551.ps">PS</a>, <a href="http://www.rfc-editor.org/rfc/rfc3551.pdf">PDF</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4566">[RFC4566]</a></td>
<td class="author-text">Handley, M., Jacobson, V., and C. Perkins, &ldquo;<a href="http://tools.ietf.org/html/rfc4566">SDP: Session Description Protocol</a>,&rdquo; RFC&nbsp;4566, July&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4566.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5405">[RFC5405]</a></td>
<td class="author-text">Eggert, L. and G. Fairhurst, &ldquo;<a href="http://tools.ietf.org/html/rfc5405">Unicast UDP Usage Guidelines for Application Designers</a>,&rdquo; BCP&nbsp;145, RFC&nbsp;5405, November&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5405.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="TS46.002">[TS46.002]</a></td>
<td class="author-text">3GPP, &ldquo;Specification : 3GPP TS 46.002
          http://www.3gpp.org/ftp/Specs/archive/46_series/46.002/46002-700.zip,&rdquo; June&nbsp;2007.</td></tr>
<tr><td class="author-text" valign="top"><a name="TS46.020">[TS46.020]</a></td>
<td class="author-text">3GPP, &ldquo;Specification : 3GPP TS 46.020
          http://www.3gpp.org/ftp/Specs/archive/46_series/46.002/46020-700.zip,&rdquo; June&nbsp;2007.</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>12.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2198">[RFC2198]</a></td>
<td class="author-text"><a href="mailto:c.perkins@cs.ucl.ac.uk">Perkins, C.</a>, <a href="mailto:i.kouvelas@cs.ucl.ac.uk">Kouvelas, I.</a>, <a href="mailto:o.hodson@cs.ucl.ac.uk">Hodson, O.</a>, <a href="mailto:v.hardman@cs.ucl.ac.uk">Hardman, V.</a>, <a href="mailto:mjh@isi.edu">Handley, M.</a>, <a href="mailto:bolot@sophia.inria.fr">Bolot, J.</a>, <a href="mailto:avega@sophia.inria.fr">Vega-Garcia, A.</a>, and <a href="mailto:sfosse@sophia.inria.fr">S. Fosse-Parisis</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2198">RTP Payload for Redundant Audio Data</a>,&rdquo; RFC&nbsp;2198, September&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2198.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2198.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2198.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2326">[RFC2326]</a></td>
<td class="author-text"><a href="mailto:schulzrinne@cs.columbia.edu">Schulzrinne, H.</a>, <a href="mailto:anup@netscape.com">Rao, A.</a>, and <a href="mailto:robla@real.com">R. Lanphier</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2326">Real Time Streaming Protocol (RTSP)</a>,&rdquo; RFC&nbsp;2326, April&nbsp;1998 (<a href="http://www.rfc-editor.org/rfc/rfc2326.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2974">[RFC2974]</a></td>
<td class="author-text">Handley, M., Perkins, C., and E. Whelan, &ldquo;<a href="http://tools.ietf.org/html/rfc2974">Session Announcement Protocol</a>,&rdquo; RFC&nbsp;2974, October&nbsp;2000 (<a href="http://www.rfc-editor.org/rfc/rfc2974.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3711">[RFC3711]</a></td>
<td class="author-text">Baugher, M., McGrew, D., Naslund, M., Carrara, E., and K. Norrman, &ldquo;<a href="http://tools.ietf.org/html/rfc3711">The Secure Real-time Transport Protocol (SRTP)</a>,&rdquo; RFC&nbsp;3711, March&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3711.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4288">[RFC4288]</a></td>
<td class="author-text">Freed, N. and J. Klensin, &ldquo;<a href="http://tools.ietf.org/html/rfc4288">Media Type Specifications and Registration Procedures</a>,&rdquo; BCP&nbsp;13, RFC&nbsp;4288, December&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc4288.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4301">[RFC4301]</a></td>
<td class="author-text">Kent, S. and K. Seo, &ldquo;<a href="http://tools.ietf.org/html/rfc4301">Security Architecture for the Internet Protocol</a>,&rdquo; RFC&nbsp;4301, December&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc4301.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4855">[RFC4855]</a></td>
<td class="author-text">Casner, S., &ldquo;<a href="http://tools.ietf.org/html/rfc4855">Media Type Registration of RTP Payload Formats</a>,&rdquo; RFC&nbsp;4855, February&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc4855.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5109">[RFC5109]</a></td>
<td class="author-text">Li, A., &ldquo;<a href="http://tools.ietf.org/html/rfc5109">RTP Payload Format for Generic Forward Error Correction</a>,&rdquo; RFC&nbsp;5109, December&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc5109.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5246">[RFC5246]</a></td>
<td class="author-text">Dierks, T. and E. Rescorla, &ldquo;<a href="http://tools.ietf.org/html/rfc5246">The Transport Layer Security (TLS) Protocol Version 1.2</a>,&rdquo; RFC&nbsp;5246, August&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5246.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Xiaodong Duan</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">China Mobile Communications Corporation</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">53A, Xibianmennei Ave., Xuanwu District</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Beijing,   100053</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">P.R. China</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text"></td></tr>
<tr><td class="author" align="right">Fax:&nbsp;</td>
<td class="author-text"></td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:duanxiaodong@chinamobile.com">duanxiaodong@chinamobile.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href=""></a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Shuaiyu Wang</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">China Mobile Communications Corporation</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">53A, Xibianmennei Ave., Xuanwu District</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Beijing,   100053</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">P.R. China</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text"></td></tr>
<tr><td class="author" align="right">Fax:&nbsp;</td>
<td class="author-text"></td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:wangshuaiyu@chinamobile.com">wangshuaiyu@chinamobile.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href=""></a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Magnus Westerlund</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Ericsson AB</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Farogatan 6</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Stockholm,   SE-164 80</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Sweden</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+46 8 719 0000</td></tr>
<tr><td class="author" align="right">Fax:&nbsp;</td>
<td class="author-text"></td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:magnus.westerlund@ericsson.com">magnus.westerlund@ericsson.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href=""></a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Karl Hellwig</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Ericsson AB</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Kackertstrasse 7-9</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">52072 Aachen</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Germany</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+49 2407 575-2054</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:karl.hellwig@ericsson.com">karl.hellwig@ericsson.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Ingemar Johansson</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Ericsson AB</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Laboratoriegrand 11</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">SE-971 28 Lulea</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">SWEDEN</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+46 73 0783289</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:ingemar.s.johansson@ericsson.com">ingemar.s.johansson@ericsson.com</a></td></tr>
</table>
</body></html>
