<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Binary Syntax for SIP Common Log Format</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Binary Syntax for SIP Common Log Format">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Network Working Group</td><td class="header">A. Roach</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Tekelec</td></tr>
<tr><td class="header">Expires: November 8, 2009</td><td class="header">May 07, 2009</td></tr>
</table></td></tr></table>
<h1><br />Binary Syntax for SIP Common Log Format<br />draft-roach-sipping-clf-syntax-01</h1>

<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted to IETF in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on November 8, 2009.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2009 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents in effect on the date of
publication of this document (http://trustee.ietf.org/license-info).
Please review these documents carefully, as they describe your
rights and restrictions with respect to this document.</p>

<h3>Abstract</h3>

<p>
        This document proposes a binary syntax for the SIP
        common log format (CLF). It does not cover semantic issues,
        and is meant to be evaluated in the context of the
        other efforts discussing SIP CLF.
      
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
<a href="#anchor2">2.</a>&nbsp;
Format<br />
<a href="#anchor3">3.</a>&nbsp;
Example Record<br />
<a href="#anchor4">4.</a>&nbsp;
Text Tool Considerations<br />
<a href="#rfc.references1">5.</a>&nbsp;
Normative References<br />
<a href="#anchor6">Appendix&nbsp;A.</a>&nbsp;
Acknowledgements<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Author's Address<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>
        The Common Log File (CLF) format for the Session Initiation
        Protocol (SIP) <a class='info' href='#I-D.gurbani-sipping-clf'>[I&#8209;D.gurbani&#8209;sipping&#8209;clf]<span> (</span><span class='info'>Gurbani, V., Burger, E., Anjali, T., Abdelnur, H., and O. Festor, &ldquo;The Common Log File (CLF) format for the Session Initiation Protocol (SIP),&rdquo; March&nbsp;2009.</span><span>)</span></a>
        proposes a syntax for logging SIP messages received and
        sent by SIP clients, servers, and proxies. The syntax
        proposed by that document has been inspired by the common
        HTTP log format. However, experience with that format has
        shown that dealing with large quantities of log data can
        be very processor intensive, as doing so necessary requires
        reading and parsing every byte in the log file(s) of interest.
      
</p>
<p>
        This document counter-proposes a format that is no more
        difficult to generate by logging entities, while being
        radically faster to process. In particular, the format
        is optimized for both rapidly scanning through log
        records, as well as quickly locating commonly-accessed
        data fields. Both operations can be performed in constant time
        (as compared with O(n) time associated with the current format,
        where n is the length of the log record).
      
</p>
<p>
        Further, the format proposed by this document retains the
        ability to be read by humans and processed using traditional
        Unix text processing tools, such as sed, awk, perl, cut, and grep.
      
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Format</h3>

<p>
        Each data record is encoded according to the following
        format. Note that indications of "hexadecimal encoded"
        indicate that the value is to be written out in human-readable
        base-16 numbers using the ASCII characters 0x30 through 0x39
        and 0x41 through 0x46 ('0' through '9' and 'A' through 'F').
        Similarly, indications of "decimal encoded" indicate that the 
        value is to be written out in
        human readable base-10 number using the ASCII characters
        0x30 through 0x39 ('0' through '9'). In both encodings, numbers
        always take up the number of bytes indicated, and are padded on
        the left with ASCII '0' characters to fill the entire space.
      
</p>
<p>
        </p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
 0      7 8     15 16    23 24    31
 +--------+--------+--------+--------+
 |Version |       Flags Field        | 0 - 3
 +--------+--------+--------+--------+
 |  0x2C  |      Record Length       | 4 - 7
 +--------+--------+--------+--------+
 |   Record Length (cont)   |  0x2C  | 8 - 11
 +--------+--------+--------+--------+
 |     Server Txn Pointer (Hex)      | 12 - 15
 +--------+--------+--------+--------+
 |      Server Txn Length (Hex)      | 16 - 19
 +--------+--------+--------+--------+
 |     Client Txn Pointer (Hex)      | 20 - 23
 +--------+--------+--------+--------+
 |      Client Txn Length (Hex)      | 24 - 27
 +--------+--------+--------+--------+
 |       Method Pointer (Hex)        | 28 - 31
 +--------+--------+--------+--------+
 |        Method Length (Hex)        | 32 - 35
 +--------+--------+--------+--------+
 |      To Value Pointer (Hex)       | 36 - 39
 +--------+--------+--------+--------+
 |       To Value Length (Hex)       | 40 - 43
 +--------+--------+--------+--------+
 |       To Tag Pointer (Hex)        | 44 - 47
 +--------+--------+--------+--------+
 |        To Tag Length (Hex)        | 48 - 51
 +--------+--------+--------+--------+
 |     From Value Pointer (Hex)      | 52 - 55
 +--------+--------+--------+--------+
 |      From Value Length (Hex)      | 56 - 59
 +--------+--------+--------+--------+
 |      From Tag Pointer (Hex)       | 60 - 63
 +--------+--------+--------+--------+
 |       From Tag Length (Hex)       | 64 - 67
 +--------+--------+--------+--------+
 |       Call-Id Pointer (Hex)       | 68 - 71
 +--------+--------+--------+--------+
 |       Call-Id Length (Hex)        | 72 - 75
 +--------+--------+--------+--------+
 |      TLV Start Pointer (Hex)      | 76 - 79
 +--------+--------+--------+--------+
 |  0x0A  |                          | 80 - 83
 +--------+                          +
 |            Date/Time              | 84 - 87
 +                          +--------+
 |                          |  0x2E  | 88 - 91
 +--------+--------+--------+--------+
 |        Fractional Seconds         | 92 - 95
 +                 +--------+--------+
 |                 |  0x09  |        | 96 - 99
 +--------+--------+--------+        +
 |                                   | 100 - 103
 +               CSeq                +
 |                                   | 104 - 107
 +        +--------+--------+--------+
 |        |  0x09  |    Response     | 108 - 111
 +--------+--------+--------+--------+
 |Response|  0x09  |                 | 112 - 115
 +--------+--------+                 +
 |                                   |
 |                                   |
 |         Mandatory Fields          |
 |                                   |
 |                                   |
 +--------+--------+--------+--------+ \
 |  0x09  |        Tag (Hex)         |  \
 +--------+--------+--------+--------+   \
 |Tag,cont|  0x2C  |  Length (Hex)   |    \   Repeated as
 +--------+--------+--------+--------+     &gt;  many times
 |  Length (cont)  |  0x2C  |        |    /   as necessary
 +--------+--------+--------+        +   /
 |              Value                |  /
 +--------+--------+--------+--------+ /
 |  0x0A  |
 +--------+
</pre></div><p>

      
</p>
<p>
        First, an 80-byte header indicates meta-data about
        the record. Note that the field lengths encoded in the
        header do not include the ASCII tab characters used to
        separate fields from each other.
      
</p>
<p>
        </p>
<blockquote class="text"><dl>
<dt>Version (1 byte):</dt>
<dd> 0x41 for this document
          <br />

</dd>
<dt>Flags Field (3 bytes):</dt>
<dd>
            
<blockquote class="text"><dl>
<dt>byte 1 - </dt>
<dd> Request/Response flag
                  (R = request, r = response)
</dd>
<dt>byte 2 - </dt>
<dd> Retransmission flag
                  (o = original transmission; d = duplicate transmission;
                   s = server is stateless [i.e., retransmissions are
                   not detected])
</dd>
<dt>byte 3 - </dt>
<dd> Sent/Received flag
                  (r = message received, s = message sent)
</dd>
</dl></blockquote>
          <br />
<br />

</dd>
<dt>Record Length (6 bytes):</dt>
<dd> Hexadecimal-Encoded Total
          length of this log record, including "Flags" and "Record Length" fields,
          and terminating line-feed<br />

</dd>
</dl></blockquote><p>

            Bytes 12 through 72 contain hexadecimal-encoded
            pointer/length pairs that point
            to the values of variable-length mandatory fields. The
            "Pointer" fields indicate absolute byte values within the
            record, and must be >= 103. They point to the start
            of the corresponding value within the "Mandatory Fields"
            area. The "Length" fields indicate the length of the
            corresponding value. 
            The final
            pointer, "TLV Start Pointer," points to the ASCII Tab
            (0x09) character for the first entry in the Tag/Length/Value
            area; if no such entries are present, this value is set to
            zero.
        
</p>
<p>
            Note that the "Length" fields do
            not include the tab delimiters between fields. 
            Further note that there are no delimiters between
            these pointer/length values -- they are packed together
            as a single, 68-character hexadecimal encoded string.
        
</p>
<p>
          Following the pointer/length pairs, several fixed-length
          fields are encoded. As before, all fields are completely
          filled, pre-pending values with '0' characters as necessary.
          <br />
<br />


        </p>
<blockquote class="text"><dl>
<dt>Date/Time (10 bytes):</dt>
<dd> Seconds since midnight, January 1st,
          1970, GMT; decimal encoded<br />

</dd>
<dt>Fraction Seconds (6 bytes):</dt>
<dd> Microseconds since
          the time in Date/Time field; decimal encoded<br />

</dd>
<dt>CSeq Number (10 bytes):</dt>
<dd> CSeq number from the SIP message; 
          decimal encoded<br />

</dd>
<dt>Response Code (3 bytes):</dt>
<dd> Set to the value of the response
          code for responses. Set to 0 for requests. Decimal encoded.
          <br />

</dd>
<dt>Mandatory Field Data:</dt>
<dd> Contains actual values for the
          mandatory fields. This data must appear in the order listed, 
          and each field must be present. Fields are separated by a
          single ASCII Tab character (0x09). Any tab characters present
          in the data to be written will be replaced by an ASCII space
          character (0x20) prior to being logged.
          <br />

</dd>
<dt></dt>
<dd>
<blockquote class="text"><dl>
<dt>Server Txn:</dt>
<dd>  The transaction identifier
             associated with the server transaction.  Implementations MAY reuse
             the server transaction identifier (the topmost branch-id of the
             incoming request, with or without the magic cookie), or they MAY
             generate a unique identification string for a server transaction
             (this identifier needs to be locally unique to the server only.)
             This identifier is used to correlate ACKs and CANCELs to an INVITE
             transaction; it is also used to aid in forking.
             <br />

</dd>
<dt>Client Txn:</dt>
<dd> This field is used to
             associate client transactions with a server transaction for
             forking proxies or B2BUAs.<br />

</dd>
<dt>Method:</dt>
<dd> In requests, the method from the start line. 
          In responses, the method found in the CSeq header field.
          <br />

</dd>
<dt>To Value:</dt>
<dd> Value of the To header field, possibly 
          with the tag parameter removed. (Whether to remove the tag parameter is
          left up to the logging entity).<br />

</dd>
<dt>To Tag:</dt>
<dd> Value of the To header field tag parameter. If 
          no To header field tag parameter is present, the pointer field
          is ignored; the length field is set to 0; and the field in the
          mandatory section is encoded as a single ASCII dash (0x2D).
          <br />

</dd>
<dt>From Value:</dt>
<dd> Value of the From header field, possibly 
          with the tag parameter removed. (Whether to remove the tag parameter is
          left up to the logging entity)<br />

</dd>
<dt>From Tag:</dt>
<dd> Value of the From header field tag parameter.
          <br />

</dd>
<dt>Call-Id:</dt>
<dd> The value of the Call-ID header field
          <br />

</dd>
</dl></blockquote>
</dd>
</dl></blockquote>

<p>
            After the "Mandatory Fields" section, 
            Tag/Length/Value groups appear zero or more times. The location
            within the log record is indicated by the "TLV Start Ptr" field. 
            They are used to log information that is not mandatory for all 
            messages (although specific TLVs are mandatory in request logs).
          <br />
<br />

         
</p>
<p></p>
<blockquote class="text"><dl>
<dt>Tag Field (4 bytes):</dt>
<dd> indicates the type of value coded
         by this TLV; hexadecimal encoded.
         Currently defined tags are: <br />

            
<blockquote class="text"><dl>
<dt>0x0000 -</dt>
<dd> Contact value (can be repeated)
                  Contains entire value of Contact header field<br />
<br />

</dd>
<dt>0x0001 -</dt>
<dd> Request URI (mandatory in request)
                  Contains Request URI in start line<br />
<br />

</dd>
<dt>0x0002 -</dt>
<dd> Remote Host (mandatory in request)
                  The DNS name of IP address from which the
                  message was received (if "sent/received flag" is 0)
                  of the IP address to which the message is being
                  send (if "sent/received flag" is 1)<br />
<br />

</dd>
<dt>0x0003 -</dt>
<dd> Authenticated User
                  Contains the user name by which the user has
                  been authenticated<br />
<br />

</dd>
<dt>0x0004 -</dt>
<dd> Complete SIP Message (optional, should be omitted by default)
                  Contains complete SIP message. Can be repeated
                  multiple times to accommodate SIP messages that
                  exceed 65535 bytes in length.<br />
<br />

</dd>
</dl></blockquote>
          <br />
<br />

</dd>
<dt>Length Field (2 bytes):</dt>
<dd> indicates the length of the value
         coded in this TLV, hexadecimal encoded. This length does NOT include the TLV
         header.<br />

</dd>
<dt>Value Field (0 to 65535 bytes):</dt>
<dd> contains the actual
          value of this TLV. As with the mandatory fields, ASCII Tab characters
          (0x09) are replaced with ASCII space characters (0x20).
          <br />

</dd>
</dl></blockquote><p>
      <br />
<br />

        
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Example Record</h3>

<p>
        The following demonstrates approximately how a single log record
        appears in a logging file.
        Due to internet-draft conventions, this log entry 
        has been split into ten lines, instead of the two lines
        that actually appear in a log file; and the tab characters
        have been padded out using spaces to simulate their appearance
        in a text terminal.
        </p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
ARor,000181,
0072000D00800000008100060088002000A9000600B0002500D6000A00E100270108

1241708241.308241	0000000187	000	7yuz67jhyi9-9	-
INVITE	Bob &lt;sip:bob@biloxi.example.com&gt;	314159
Alice &lt;sip:alice@atlanta.example.com&gt;	9fxced76sl
3848276298220188511@atlanta.example.com
0000,0034,&lt;sip:alice@client.atlanta.example.com;transport=tcp&gt;
0001,001A,sip:bob@biloxi.example.com
0002,000C,192.168.9.12
</pre></div><p>

        A uuencoded version of this log entry (without the
        changes required to format it for an internet-draft)
        follows.
        </p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
begin 644 sip-clf.txt
M05)O&lt;BPP,#`Q.#$L,#`W,C`P,$0P,#@P,#`P,#`P.#$P,#`V,#`X.#`P,C`P
M,$$Y,#`P-C`P0C`P,#(U,#!$-C`P,$$P,$4Q,#`R-S`Q,#@*,3(T,3&lt;P.#(T
M,2XS,#@R-#$),#`P,#`P,#$X-PDP,#`)-WEU&gt;C8W:FAY:3DM.0DM"4E.5DE4
M10E";V(@/'-I&lt;#IB;V)`8FEL;WAI+F5X86UP;&amp;4N8V]M/@DS,30Q-3D)06QI
M8V4@/'-I&lt;#IA;&amp;EC94!A=&amp;QA;G1A+F5X86UP;&amp;4N8V]M/@DY9GAC960W-G-L
M"3,X-#@R-S8R.3@R,C`Q.#@U,3%`871L86YT82YE&gt;&amp;%M&lt;&amp;QE+F-O;0DP,#`P
M+#`P,S0L/'-I&lt;#IA;&amp;EC94!C;&amp;EE;G0N871L86YT82YE&gt;&amp;%M&lt;&amp;QE+F-O;3MT
M&lt;F%N&lt;W!O&lt;G0]=&amp;-P/@DP,#`Q+#`P,4$L&lt;VEP.F)O8D!B:6QO&gt;&amp;DN97AA;7!L
=92YC;VT),#`P,BPP,#!#+#$Y,BXQ-C@N.2XQ,@H`
`
end
</pre></div><p>

        
      
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Text Tool Considerations</h3>

<p>
        This format has been designed to allow text tools to easily
        process logs without needing to understand the indexing
        format. Index lines may be rapidly discarded by checking
        the first character of the line: index lines will always
        start with an alphabetical character, while field lines
        will start with a numerical character.
      
</p>
<p>
        Within a field line, script tools can quickly split fields
        at the tab characters. The first 11 fields are positional,
        and the meaning of any subsequent fields can be determined
        by checking the first four characters of the field.
        Alternately, these non-positional fields can be located
        using a regular expression. For example, the "Request URI"
        in a request can be found by searching for the perl regex
        /\t0001,....,([^\t]*)/.
      
</p>
<p>
        Note also that requests can be distinguished from responses
        by checking the third positional field -- for requests, 
        it will always be set to "000"; any other value indicates 
        a response.
      
</p>
<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>5.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="I-D.gurbani-sipping-clf">[I-D.gurbani-sipping-clf]</a></td>
<td class="author-text">Gurbani, V., Burger, E., Anjali, T., Abdelnur, H., and O. Festor, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-gurbani-sipping-clf-01.txt">The Common Log File (CLF) format for the Session Initiation Protocol (SIP)</a>,&rdquo; draft-gurbani-sipping-clf-01 (work in progress), March&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-gurbani-sipping-clf-01.txt">TXT</a>).</td></tr>
</table>

<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A"></a><h3>Appendix A.&nbsp;
Acknowledgements</h3>

<p>
        Cullen put me up to this.
      
</p>
<p>
        Tom Taylor suggested the technique
        of combining the length field structure from the binary
        format with the human-readable ASCII format to allow both
        rapid processing by advanced tools, and easy processing by
        simpler, text-centric tools. Dean Willis suggested the use
        of tab delimiters as a means to avoid the need to escape values
        within a field. Vijay Gurbani provided significant feedback,
        and wrote the original proof-of-concept program which was 
        adapted to produce the examples in this document.
      
</p>
<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Author's Address</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Adam Roach</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Tekelec</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">17210 Campbell Rd.</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Suite 250</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Dallas, TX  75252</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">US</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:adam@nostrum.com">adam@nostrum.com</a></td></tr>
</table>
</body></html>
