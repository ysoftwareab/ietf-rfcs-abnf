



Datagram Congestion Control Protocol                        Y. Dong, Ed.
Internet-Draft                                               C. Liu, Ed.
Intended status: Informational       Nanjing Univ. of Posts and Telecom.
Expires: August 19, 2016                               February 16, 2016


 A Dynamic Service Class Mapping Scheme for Different QoS Domains Using
                            Flow Aggregation
                         draft-dong-qms-fag-00

Abstract

   This document addresses the issue of provisioning end-to-end Quality
   of Service (QoS) for multimedia services over heterogeneous networks
   and introduces a parametric model by using network calculus theory
   for QoS class mapping between different QoS domains.  Then a QoS
   Mapping Scheme based on Flow Aggregation (QMS-FAG) is proposed in
   this document to mitigate the information loss problem due to mapping
   between QoS domains with different granularity of QoS class and to
   provide efficient network resources utilization by considering user's
   Quality of Experience (QoE).  In QMS-FAG, the QoS requirements of
   service flows are indicated by a unique FAG identifier which is
   described in a service flow map of QoS parameters.  With FAG
   identifier and mapping executors sitting at the border of different
   QoS domains, QMS-FAG allows smooth QoS class mapping between networks
   with different granularity of QoS class.  Both numerical analysis and
   simulation studies are given to demonstrate the efficiency of the
   proposed method.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on August 19, 2016.






Dong & Liu               Expires August 19, 2016                [Page 1]

Internet-Draft        QMS based on Flow Aggregation        February 2016


Copyright Notice

   Copyright (c) 2016 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
     1.1.  Requirements Language . . . . . . . . . . . . . . . . . .   3
   2.  QMS-FAG Development . . . . . . . . . . . . . . . . . . . . .   3
     2.1.  QoS and QoS Class Models  . . . . . . . . . . . . . . . .   4
     2.2.  Flow Aggregation Concept  . . . . . . . . . . . . . . . .   5
     2.3.  An Overlay Network Paradigm . . . . . . . . . . . . . . .   5
     2.4.  A Typical Scenario of QoS Class Mapping over
           Heterogeneous Networks  . . . . . . . . . . . . . . . . .   6
     2.5.  MOS Value for Video Service . . . . . . . . . . . . . . .   7
   3.  QMS-FAG Description . . . . . . . . . . . . . . . . . . . . .   7
     3.1.  Parametric Model  . . . . . . . . . . . . . . . . . . . .   7
     3.2.  Procedure of QMS-FAG  . . . . . . . . . . . . . . . . . .   8
   4.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   9
   5.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   9
   6.  Security Considerations . . . . . . . . . . . . . . . . . . .   9
   7.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   9
     7.1.  Normative References  . . . . . . . . . . . . . . . . . .   9
     7.2.  Informative References  . . . . . . . . . . . . . . . . .   9
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  10

1.  Introduction

   This document proposes a unified QoS Mapping Scheme based on Flow
   AGgregation (QMS-FAG) to provide better end-to-end QoS over
   heterogeneous networks.  Different from previous efforts, the aim of
   the proposed method is to provide better flow services over
   heterogeneous networks.  We aim to contribute to the ongoing research
   by proposing a QoS mapping scheme, based on network QoS requirements
   and users' QoE.  The proposed method has several advantages: (1) it
   considers the asymmetrical problem between fine and coarse grained
   QoS domains (Normally the fine grained QoS domain has more/finer QoS



Dong & Liu               Expires August 19, 2016                [Page 2]

Internet-Draft        QMS based on Flow Aggregation        February 2016


   classes than the coarse grained QoS domain); (2) it considers QoE and
   can improve users' experience by maximizing the utilization of
   network resources with flexible QoS class mapping; (3) it does not
   need a mapping table.

1.1.  Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [1].

2.  QMS-FAG Development

   Previous studies on QoS class mapping between different networking
   technologies can be roughly classified into two categories: the
   function based methods [2][3] and mapping-table based ones [4][5].
   The first category that translates between the QoS parameters of
   heterogeneous networks is complex, in which the effective design of
   functions can highly affect the end-to-end QoS.  The second category
   that established mapping tables consisting of many QoS class pairs
   can cause the i nformation loss due to mapping between QoS domains
   with different granularity of QoS class.  One shortcoming of current
   approaches is incapable of utilizing network resources efficiently
   because of not considering users' QoE in the QoS mapping process.

   For ease of analysis, let us define the following variables:

   o  RN = N-dimensional real number Euclidian space;

   o  Pvi = overall N QoS requirements of i-th service;

   o  pvin = value of N QoS requirement for i-th service;

   o  PWhl = lower boundary of QoS class h in network W;

   o  PWhu = upper boundary of QoS class h in network W;

   o  HW = number of QoS classes in network W;

   o  P = a conjunction of a set of F QoS parameters;

   o  pf = the f-th element of P;

   o  Sk = the k-th Mapping Evaluator(ME);

   o  X = set of FAG;

   o  FWm = QoS description of xm in network W.



Dong & Liu               Expires August 19, 2016                [Page 3]

Internet-Draft        QMS based on Flow Aggregation        February 2016


2.1.  QoS and QoS Class Models

   Based on [6] and our finding, each of QoS parameters can be
   parameterized by a real number (Please see Appendix A for details).
   Assuming that the QoS value is ranked in order of importance in this
   paper, the most important one has the minimal value and the least
   important has the maximal value.  Each of QoS requirements can then
   be represented by a real number and the overall QoS requirements can
   be represented by a vector consisting of corresponding QoS
   parameters.  Formally, we specify the overall N QoS requirements of
   i-th service by vector Pvi, as follows:

   o  Pvi = [pvi1, pvi2, pvi3,..., pviN], i=1,2,3,... (1)

   where i is an integer that represents index of service,pvi is in RN
   represents the value of n-th QoS requirement located in RN space for
   i-th service.  RN denotes an N-dimensional real number Euclidian
   space which is consisted of QoS parameters.

   Because each QoS class has a sub-space in N-dimensional space, we use
   a pair value (PWhu,PWhl) specification in our paper, which will allow
   us to define range representation with acceptable QoS regions
   (PWhl<=Pvi<=PWhu) and unacceptable QoS regions (Pvi<PWhl) of QoS
   class h in network W with proper normalization of QoS parameters (see
   Appendix A for details).Pvi<PWhl indicates the level of QoS is below
   the acceptable lower boundary, with which the traffic should be
   arranged for the lower class level or refused to transmit.  For the
   case of Pvi>PWhu, it indicates that the traffic with Pvi should be
   arranged for a higher class level.PWhl and PWhu are the lower and
   upper boundaries of QoS class sub-space in N-dimensional space,
   respectively, whose definitions are similar to Pvi, where
   h=1,...,HW;HW is the number of QoS classes in network W.

   QoS influences user's QoE, which is vital for the success of
   multimedia services.  Furthermore, QoE is also influenced by the
   human factors that often are independent of the service type [7].  As
   a result, different users of the multimedia service have different
   tolerance for adjusting QoS level.  For some users, when enjoying a
   live TV program via web (such as a football match), they probably
   prefer to degrade their QoS level rather than to be denied access
   directly.  Therefore, users' QoE should be considered in QoS class
   mapping schemes to increase the number of satisfied users in heavy
   traffic load.

   Depending on the individual human perception, it is somewhat
   difficult to give a precise objective metric and objective estimation
   method for QoE [8].  This paper will not concentrate on how to




Dong & Liu               Expires August 19, 2016                [Page 4]

Internet-Draft        QMS based on Flow Aggregation        February 2016


   estimate QoE or map between QoE and QoS, which has been a hot
   research topic of many other works [8][9].

   We use the QoE model proposed in [9] to obtain a mean opinion score
   (MOS) to rate QoE level and modify the model by substituting sender
   bitrate (SBR) with bandwidth and block error rate (BLER) with packet
   loss rate caused by delay and link errors.  In the modified model
   mean burst length (MBL) and content type (CT) have constant values of
   2.5 and 0.1, respectively, which are typical values in [9] (For
   details see Appendix B).  The values of the coefficients of the
   modified model are the same as the values of the model proposed in
   [9].  In this paper, by dynamically adjusting the QoS parameter
   values within threshold, we present an empirical QoS class mapping
   method with QoE to demonstrate the feasibility of the proposed
   method.

2.2.  Flow Aggregation Concept

   A flow aggregation (FAG) is defined in this work as a set of flows
   with similar QoS requirements represented by a conjunction of a set
   of F QoS parameters P=[p1,p2,...,pF], each associated with a QoS
   constraint, that can be specified by a range representation with
   acceptable and unacceptable QoS regions.  We assume that the QoS
   requirements of a service flow can be expressed by a vector in a
   multi-dimensional space of relevant QoS parameters, and then define
   this multidimensional space as a service flow map.  Each FAG has a
   unique identifier that can be described by the QoS information on a
   service flow map.

   The FAG is different from QoS class defined by global standardization
   organizations in the following aspects: 1) its granularity can be
   established on the fly according to QoS requirements of services and
   reflects natural muster in QoS characteristic space, and is not
   connected with any of the predefined QoS classes; 2) it provides a
   bridge with a flexible granularity for consistent mapping between
   fine and coarse grained QoS classes in order to mitigate the
   information loss problem, whose efficacy will be demonstrated by
   numerical analysis in Section V.

2.3.  An Overlay Network Paradigm

   In this section, we describe an overlay network paradigm based on the
   scenario illustrated in Fig. 1.  From the viewpoint of providing end-
   to-end QoS guarantees, the process of QoS mapping can be imagined as
   a virtual plane of QoS mapping above the traditional layers.  This
   plane of QoS mapping is a collection of virtual nodes connected
   together by a set of virtual links to form a large virtual domain,
   which is essentially a subset of the underlying network topology.



Dong & Liu               Expires August 19, 2016                [Page 5]

Internet-Draft        QMS based on Flow Aggregation        February 2016


   Each virtual node is a logical abstraction of a particular physical
   node that processes QoS mapping.  A virtual link spans over a path in
   the physical network and includes a portion of the networking
   resources.  By allowing multiple networks to have different QoS
   domains to map QoS in the plane of QoS mapping, users in two ends
   construct a virtual end-to-end path and are provided end-to-end QoS
   guarantees across different QoS domains, as illustrated in Fig. 1.

   In Fig. 1, the proposed Mapping Evaluator (ME) entity sits on a
   gateway/router at the edge of two different QoS domains, aiming to
   classify each service according to QoS requirements.  Whenever ME
   receives a service, it generates a corresponding FAG with P according
   to QoS requirements of the service by a clustering algorithm, such as
   evolutionary algorithm, and labels the FAG with a unique FAG
   identifier.  Then ME puts the FAG into the corresponding queue with
   the same priority value.  According to available network resources,
   ME determines appropriate QoS class mapping between current and new
   networks for the FAG by the proposed QMS-FAG.

2.4.  A Typical Scenario of QoS Class Mapping over Heterogeneous
      Networks

   In this section, we depict a typical scenario of QoS class mapping
   over heterogeneous networks.

   A typical scenario of QoS class mapping over heterogeneous networks
   is shown below.

             Nwk A -----R1----- Nwk B -----R2----- Nwk C

                                 Figure 1

   As illustrated in figure above, we consider a scenario of three
   interconnected networks (Nwk A, Nwk B and Nwk C) connected by two
   gateways/routers (R1 and R2).  Assume Nwk A and Nwk C are 3G UMTS
   networks and Nwk B is a wireline IP-based Diffserv network.  Since
   audio conferencing is a typical multimedia service requiring strict
   QoS requirements to set priorities at flow\packet level, here we
   assume that the audio conferencing service is implemented between
   user X and user Y.  In source network (Nwk A), an appropriate QoS
   class queue is assigned to audio according to QoS requirements.  For
   traditional QoS mapping, the QoS class mapping table is preset in the
   gateway/router that sits at the boundary of two different QoS domains
   and the audio conferencing service belongs to a certain QoS class of
   current QoS domain.  Whenever the gateway/router receives an audio
   conferencing service, it determines an appropriate QoS class mapping
   between current and new network according to the mapping table for
   this audio conferencing service.



Dong & Liu               Expires August 19, 2016                [Page 6]

Internet-Draft        QMS based on Flow Aggregation        February 2016


2.5.  MOS Value for Video Service

   The MOS value for video service is computed as follows [10]:

   o  MOS =
      (a1+a2*ln(SBR)+CT*(a3+a4*ln(SBR)))/(1+(a5*BLER+a6**BLER*BLER)*MBL)
      (2)

   where, SBR is sender bitrate, BLER is block error rate in 3G/UMTS
   networks, MBL is mean burst length, CT is content type of the video
   service.

                         Coefficients in (2) are:

   +--------+--------+---------+--------+--------+--------+-----+------+
   |   a1   |   a2   |    a3   |   a4   |   a5   |   a6   |  CT | MBL  |
   +--------+--------+---------+--------+--------+--------+-----+------+
   | 3.9560 | 0.0919 | -5.8497 | 0.9844 | 0.1028 | -0.236 | 0.1 | 0.25 |
   +--------+--------+---------+--------+--------+--------+-----+------+

                                  Table 1

3.  QMS-FAG Description

3.1.  Parametric Model

   The proposed scheme can automatically map the FAG to the appropriate
   class that has QoS resource by adjusting QoS requirements.  An
   attractive feature of the dynamic QoS class mapping is that the
   method considers the QoE of end users by which the ME adjusts the QoS
   requirements of FAG under the condition of available QoS resources.

   Consider a network session being set up over the heterogeneous
   networks consists of MEs S1,S2,...,Sk, the set of FAGs that will be
   transmitted into the next network can be described as

   o  X = {x1,...,xm,...,xM}, m=1,2,...,M (3)

   where xm represents the m-th FAGs, M is the number of FAG in an ME.

   By a similar description to QoS class, xm can be described as

   o  FWm = [Pm1,...PmN], m=1,2,...,M (4)

   where FWm denotes QoS description of xm in network W,
   Pmn(n=1,2,...,N) represents the n-th QoS requirement of xm.





Dong & Liu               Expires August 19, 2016                [Page 7]

Internet-Draft        QMS based on Flow Aggregation        February 2016


   In mapping process, the ME will map xm to class y described as below
   by the function Phi(for RN->F, then x->Phi(x)).  This function can be
   derived as [2]

   o  ch=W*(||FWm-PWh||), for all h=1,2,...,HW (5)

   where ch is the order of QoS class mapped according to PWm,
   W=[w1,w2,...,wHW] is a weighting array which is used to describe the
   characteristics of multimedia service, satisfied with w1+w2+...+wHW=1
   and often gained based on the experience.  But the computation is
   different in the two following cases: lower and higher traffic load
   cases.

3.2.  Procedure of QMS-FAG

   Computation is different in the two following cases: lower and higher
   traffic load cases.At lower traffic load, QoS class y can be derived
   as

   o  y = {k|ck=minh{ch}}, for all h=1,2,...,HW (6)

   where k is the order of QoS class and ck is the minimum value among
   all QoS classes ch, y is the order of QoS class adjusted according to
   available network resources.  Here, if one QoS class has a smaller
   order value, the class's FAG has a better chance to transmit earlier.

   At higher traffic load, the process is as follows:

   The QMS-FAG scheme at higher traffic load is described in Algorithm
   1.

/*Algorithm 1: The QMS-FAG scheme */
-------------------------------------------------------------------
1. The QoS class level is decreased by one
2. y is recomputed according to equations (6) based on the QoS requirements adjusted
3. If network resources for the decreased QoS class are still not enough to transmit
        this FAG, go back to step 1)
4. If the MOS value is still OK (above a preset threshold MOSth) for end users,
        based on Equ. (2), then, this FAG is transmitted; otherwise,
        the FAG is rejected.
6. The process is stopped.
-------------------------------------------------------------------

   On the whole, the algorithmic steps of QoS class mapping are as
   follows:

   1)If the network resource allows, ck is mapped to QoS class y based
   on equations (2)



Dong & Liu               Expires August 19, 2016                [Page 8]

Internet-Draft        QMS based on Flow Aggregation        February 2016


   2)If the network resource is not allowed, with the process in the
   case of higher traffic load, the ME gradually reduces the order of
   QoS class for xm until xm is transmitted with a lower order of QoS
   class, or is rejected if no appropriate mapping is available
   (assuming the lower the order of QoS class, the lower its priority).

4.  Acknowledgements

   The authors would like to acknowledge feedback and discussions on
   service class mapping scheme for QoS with a wide range of people,
   including members of the Wireless Communication Research Group and
   the End-to-End Research Group.  Thanks are given to the National
   Natural Science Foundation of China (No.61271233, No.60972038), the
   Ministry of Education (China) Ph.D.  Programs Foundation
   (No.20103223110001), the Research Culture Funds of Anhui Normal
   University (No.2013xmpy10) and Jiangsu Province Postgraduate
   Innovative Research Plan (No.CXZZ11_0396) for their financial
   support.

5.  IANA Considerations

   There are no IANA actions required for this document.

6.  Security Considerations

   All drafts are required to have a security considerations section.

7.  References

7.1.  Normative References

   [1]        Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <http://www.rfc-editor.org/info/rfc2119>.

7.2.  Informative References

   [2]        Misun Ryu, Youngmin Kim, Hongshik Park, , "Systematic QoS
              Class Mapping Framework over Multiple Heterogeneous
              Networks", September 2008, <Proc. NEW2AN>.

   [3]        Wang Zhenhua, Sun Qiong, Huang Xiaohong, Ma Yan, , "IPv6
              end-to-end QoS provision for heterogeneous networks using
              flow label", 2010, <Proc. IEEE IC-BNMT>.






Dong & Liu               Expires August 19, 2016                [Page 9]

Internet-Draft        QMS based on Flow Aggregation        February 2016


   [4]        Lin Fu, Fei Pei, Zhang Dengyi, Li Wenhai, , "Quality of
              service support for event detection in wireless sensor
              networks", 2011, <Proc. WiCOM>.

   [5]        Ben Hamza Nejd, Rekhis Slim, Boudriga Noureddine, ,
              "Cooperative architecture for QoS management in wireless
              4G networks", 2011, <Proc. IEEE Symposium on Computers and
              Informatics>.

   [6]        Klara Nahrstedt, Jonathan Smith, , "The QoS Broker", 1995,
              <IEEE Multimedia>.

   [7]        Wanmin Wu, Md Arefin, Raoul Rivas, Klara Nahrstedt, ,
              "Quality of Experience in Distributed Multimedia
              Environments: Towards a Theoretical Framework", October
              2009, <Proc. ACM Multimedia>.

   [8]        Kye-Hwan Lee, Son Tran Trong, Bong-Gyun Lee, , "QoS-
              guaranteed IPTV service provisioning in IEEE 802.11e WLAN-
              based home network", 2008, <Network Operations and
              Management Symposium Workshops>.

   [9]        Asiya Khan, Lingfen Sun, Emmanuel Ifeachor, , "QoE
              Prediction Model and its Application in Video Quality
              Adaptation Over UMTS Networks", 2012, <IEEE Trans.
              Multimedia>.

   [10]       Cibin R, Sudheer K P, Chaubey I, , "Sensitivity and
              identifiability of stream flow generation parameters of
              the SWAT model", 2010, <Hydrological Processes>.

Authors' Addresses

   Yu-ning Dong (editor)
   Nanjing Univ. of Posts and Telecom.
   66 New Mo-fan-ma-lu Road
   Nanjing, Gulou  210003
   China

   Phone: +86 15077858011
   Email: dongyn@njupt.edu.cn










Dong & Liu               Expires August 19, 2016               [Page 10]

Internet-Draft        QMS based on Flow Aggregation        February 2016


   Chun Liu (editor)
   Nanjing Univ. of Posts and Telecom.
   66 New Mo-fan-ma-lu Road
   Nanjing, Gulou  210003
   China

   Phone: +86 18362930657
   Email: 132189@163.com











































Dong & Liu               Expires August 19, 2016               [Page 11]
