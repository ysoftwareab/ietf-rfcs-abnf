



Network Working Group                                            J. Tong
Internet-Draft                                                C. Bi, Ed.
Intended status: Standards Track                           China Telecom
Expires: January 22, 2015                                        R. Even
                                                        Gesher Erove Ltd
                                                              Q. Wu, Ed.
                                                                R. Huang
                                                                  Huawei
                                                           July 21, 2014


    RTP Control Protocol (RTCP) Extended Report (XR) Block for MPEG2
 Transport Stream (TS) Program Specific Information (PSI) Decodability
                      Statistics Metrics reporting
             draft-ietf-xrblock-rtcp-xr-psi-decodability-05

Abstract

   An MPEG2 Transport Stream (TS) is a standard container format used in
   the transmission and storage of multimedia data.  Unicast/Multicast
   MPEG2 TS over RTP is widely deployed in IPTV systems.  This document
   defines an RTP Control Protocol (RTCP) Extended Report (XR) Block
   that allows the reporting of MPEG2 TS decodability statistics metrics
   related to transmissions of MPEG2 TS over RTP.  The metrics specified
   in the RTCP XR Block are related to Program Specific Information
   carried in MPEG TS.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on January 22, 2015.








Tong, et al.            Expires January 22, 2015                [Page 1]

Internet-Draft           RTCP XR TS Decodability               July 2014


Copyright Notice

   Copyright (c) 2014 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
     1.1.  MPEG2 Transport Stream Decodability Metrics . . . . . . .   2
     1.2.  RTCP and RTCP XR Reports  . . . . . . . . . . . . . . . .   3
     1.3.  Performance Metrics Framework . . . . . . . . . . . . . .   3
     1.4.  Applicability . . . . . . . . . . . . . . . . . . . . . .   3
   2.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   3
     2.1.  Standards Language  . . . . . . . . . . . . . . . . . . .   4
   3.  MPEG2 TS PSI Decodability Statistics Metrics Block  . . . . .   4
   4.  SDP Signaling . . . . . . . . . . . . . . . . . . . . . . . .   8
     4.1.  SDP rtcp-xr-attrib Attribute Extension  . . . . . . . . .   8
     4.2.  Offer/Answer Usage  . . . . . . . . . . . . . . . . . . .   8
     4.3.  Usage Outside of Offer/Answer . . . . . . . . . . . . . .   8
   5.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   8
     5.1.  New RTCP XR Block Type value  . . . . . . . . . . . . . .   9
     5.2.  New RTCP XR SDP Parameter . . . . . . . . . . . . . . . .   9
     5.3.  Contact information for registrations . . . . . . . . . .   9
   6.  Security Considerations . . . . . . . . . . . . . . . . . . .   9
   7.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   9
     7.1.  Normative References  . . . . . . . . . . . . . . . . . .   9
     7.2.  Informative References  . . . . . . . . . . . . . . . . .  10
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  10

1.  Introduction

1.1.  MPEG2 Transport Stream Decodability Metrics

   The European Telecommunications Standards Institute (ETSI) has
   defined a set of syntax and information consistency tests and
   corresponding indicators [ETSI] that are recommended for the
   monitoring of MPEG2 Transport Streams [ISO-IEC.13818-1.2007].  The
   tests and corresponding indicators are grouped according to priority:



Tong, et al.            Expires January 22, 2015                [Page 2]

Internet-Draft           RTCP XR TS Decodability               July 2014


   o  First priority - Necessary for decodability (basic monitoring)
   o  Second priority - Recommended for continuous or periodic
      monitoring
   o  Third priority - Recommended for application-dependent monitoring

   This memo defines a new block type for use with MPEG2 Transport
   Stream (TS) [ISO-IEC.13818-1.2007], to augment those defined in
   [RFC3611].  The new block type supports reporting of the number of
   occurrences of each Program Specific Information (PSI) indicator in
   the first and second priorities listed by [ETSI] sections 5.2.1 and
   5.2.2 respectively.  Third priority indicators are not supported.
   The metrics defined here supplement information from the PSI-
   independent Decodability Statistics Metrics Block [RFC6990].

1.2.  RTCP and RTCP XR Reports

   The use of RTCP for reporting is defined in [RFC3550].  [RFC3611]
   defines an extensible structure for reporting using an RTCP Extended
   Report (XR).  This document defines a new Extended Report block for
   use with [RFC3550] and [RFC3611].

1.3.  Performance Metrics Framework

   The Performance Metrics Framework [RFC6390] provides guidance on the
   definition and specification of performance metrics.  The RTP
   Monitoring Architectures [RFC6792] provides guidelines for RTCP XR
   reporting block formats.  The new report block described in this memo
   is in compliance with the monitoring architecture specified in
   [RFC6792] and the Performance Metrics Framework [RFC6390].

1.4.  Applicability

   These metrics are applicable to any type of RTP application that uses
   the MPEG2 TS standard format for multimedia data, for example, MPEG4
   over MPEG2 TS over RTP.  This new block type can be useful for
   measuring content stream or TS quality by checking TS header
   information [ETSI] and identifying the existence, and characterizing
   the severity, of bitstream packetization problems which may affect
   users' perception of a service delivered over RTP.  It may also be
   useful for verifying the continued correct operation of an existing
   system management tool.

2.  Terminology








Tong, et al.            Expires January 22, 2015                [Page 3]

Internet-Draft           RTCP XR TS Decodability               July 2014


2.1.  Standards Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].

3.  MPEG2 TS PSI Decodability Statistics Metrics Block

   ETSI TR 101290 [ETSI] generally defines indicators related to error
   events, while the XR block defined in this document contains counts
   of occurrences of the [ETSI] indicators.  The block defined in this
   document reports MPEG2 TS PSI decodability statistics metrics beyond
   the information carried in the standard RTCP packet format and PSI-
   independent Decodability Metrics Block [RFC6990], which are measured
   at the receiving end of the RTP stream.  It contains counts of seven
   metrics defined in ETSI TR 101290 [ETSI].  Information is reported
   about basic monitoring parameters necessary to ensure that the TS can
   be decoded including:


   o  Program Association Table (PAT) errors
   o  PAT 2 errors
   o  Program Map Table (PMT) errors
   o  PMT 2 errors
   o  Packet Identifier (PID) errors


   and continuous monitoring parameters necessary to ensure the
   continuous decoding including:


   o  Cyclic Redundancy Check (CRC) errors
   o  Conditional Access Table (CAT) errors


   In these parameters, PAT 2 errors and PMT 2 errors are actually
   replacements for and improvements on PAT errors and PMT errors
   respectively and are therefore preferred in future implementations.
   In addition, measurement results for some of these parameters (e.g.,
   PAT errors or PMT errors) may be different based on whether
   scrambling is employed.  The other parameters defined in [ETSI]
   Section 5 are ignored since they do not apply to all MPEG2
   implementations.  For further detailed information on these
   parameters, see [ETSI].

   The MPEG2 TS PSI Decodability Metrics Block has the following format:





Tong, et al.            Expires January 22, 2015                [Page 4]

Internet-Draft           RTCP XR TS Decodability               July 2014


       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |    BT=MTPD    |    Reserved   |         block length          |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                     SSRC of source                            |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |          begin_seq            |             end_seq           |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |        PAT_error_count        |      PAT_error_2_count        |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |        PMT_error_count        |      PMT_error_2_count        |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |       PID_error_count         |      CRC_error_count          |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |        CAT_error_count        |        Reserved               |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   block type (BT): 8 bits

      The MPEG2 TS PSI Decodability Metrics Block is identified by the
      constant <MTPD>.

   Reserved: 8 bits

      These bits are reserved.  They MUST be set to zero by senders
      ignored by receivers (See [RFC6709] section 4.2).

   block length: 16 bits

      The constant 6, in accordance with the definition of this field in
      Section 3 of RFC 3611.  The block MUST be discarded if the block
      length is set to a different value.

   SSRC of source: 32 bits

      As defined in Section 4.1 of RFC 3611.

   begin_seq: 16 bits

      As defined in Section 4.1 of RFC 3611.

   end_seq: 16 bits

      As defined in Section 4.1 of RFC 3611.

   PAT_error_count: 16 bits




Tong, et al.            Expires January 22, 2015                [Page 5]

Internet-Draft           RTCP XR TS Decodability               July 2014


      A count of the number of PAT errors that occurred in the above
      sequence number interval.  The program association table (PAT) is
      the only packet with packet ID (PID) 0x 0000.  A PAT error occurs
      when: (1) a packet with PID 0x0000 does not occur at least every
      0.5 seconds, or (2) a packet with PID 0x0000 does not contain a
      table_id 0x00 (i.e., a PAT), or (3)Scrambling_control_field in the
      TS packet header is not 00 for a packet with PID 0x0000.  See
      section 5.2.1 of [ETSI].  Every program within the MPEG TS stream
      is listed in the PAT; if it is missing, then no programs can be
      decoded.

      The measured value is unsigned value.  If the measurement is
      unavailable, the value 0xFFFF MUST be reported.  Note that
      PAT_error_count and PAT_error_2_count MUST NOT be reported at the
      same time in the same metric block.  If PAT_error_count is
      reported, PAT_error_2_count MUST be set to 0xFFFF.

   PAT_error_2_count: 16 bits

      A count of the number of PAT2 errors that occurred in the above
      sequence number interval.  A PAT2 error occurs when: (1) a packet
      with PID 0x0000 containing table_id 0x00 does not occur at least
      every 0.5 seconds,or (2) a packet with PID 0x0000 contains a table
      with table_id other than 0x00, or (3) Scrambling_control_field in
      the TS packet header is not 00 for a packet with PID 0x0000.  See
      section 5.2.1 of [ETSI].

      The measured value is unsigned value.  If the measurement is
      unavailable, the value 0xFFFF MUST be reported.  Note that
      PAT_error_count and PAT_error_2_count MUST NOT be reported at the
      same time in the same metric block.  If PAT_error_2_count is
      reported, PAT_error_count MUST be set to 0xFFFF.

   PMT_error_count: 16 bits

      A count of the number of PMT_errors that occurred in the above
      sequence number interval.  A PMT_error occurs when: (1) a packet
      containing a table with table_id 0x02(i.e.,a PMT) does not occur
      at least every 0.5s on the PID that is referred to in the PAT,
      or(2) Scrambling_control_field in the TS packet header is not 00
      for all packets with PID containing a table with table_id 0x02
      (i.e. a PMT).  See the section 5.2.1 of [ETSI].

      The measured value is unsigned value.  If the measurement is
      unavailable, the value 0xFFFF MUST be reported.  Note that
      PMT_error_count and PMT_error_2_count MUST NOT be reported at the
      same time in the same metric block.  If PMT_error_count is
      reported, PMT_error_2_count MUST be set to 0xFFFF.



Tong, et al.            Expires January 22, 2015                [Page 6]

Internet-Draft           RTCP XR TS Decodability               July 2014


   PMT_error_2_count: 16 bits

      A count of the number of PMT2 errors that occurred in the above
      sequence number interval.  A PMT2_error occurs when: (1) a packet
      containing table_id 0x02(i.e.,a PMT) does not occur at least every
      0.5s on each program_map_PID which is referred to in the PAT, or
      (2) Scrambling_control_field in the TS packet header is not 00 for
      all packets containing a table with table_id 0x02 (i.e. a PMT) on
      each program_map_PID which is referred to in the PAT.  See section
      5.2.1 of [ETSI].

      The measured value is unsigned value.  If the measurement is
      unavailable, the value 0xFFFF MUST be reported.  Note that
      PMT_error_count and PMT_error_2_count MUST NOT be reported at the
      same time in the same metric block.  If PMT_error_2_count is
      reported, PMT_error_count MUST be set to 0xFFFF.

   PID_error_count: 16 bits

      A count of the number of PID_errors that occurred in the above
      sequence number interval.  A PID error occurs when no data stream
      is present corresponding to a given PID.  This may be caused by
      multiplexing or demultiplexing, then remultiplexing.  See section
      5.2.1 of [ETSI].

      The measured value is unsigned value.  If the measurement is
      unavailable, the value 0xFFFF MUST be reported.

   CRC_error_count: 16 bits

      A count of the number of CRC_errors that occurred in the above
      sequence number interval.  A CRC_error occurs if data corruption
      occurred in any of the following tables -- CAT, PAT, PMT, Network
      Information Table (NIT), Event Information Table (EIT), Bouquet
      Association Table (BAT), Service Description Table (SDT) or Time
      Offset Table (TOT), as defined in the section 5.2.2 of [ETSI].

      The measured value is unsigned value.  If the measurement is
      unavailable, the value 0xFFFF MUST be reported.

   CAT_error_count: 16 bits

      A count of the number of CAT_errors that occurred in the above
      sequence number interval.  A CAT_error occurs when: (1) a packet
      with PID 0x0001 contains a table with table_id other than
      0x01(i.e.,not a CAT), or (2) A packet does not contain a table
      with table_id = 0x01 (i.e. a CAT) when scrambling is employed




Tong, et al.            Expires January 22, 2015                [Page 7]

Internet-Draft           RTCP XR TS Decodability               July 2014


      ((i.e., scrambling_control field is set as a value other than
      00)).  See the section 5.2.2 of [ETSI].

      The measured value is unsigned value.  If the measurement is
      unavailable, the value 0xFFFF MUST be reported.

   Reserved: 16 bits

      These bits are reserved.  They MUST be set to zero by senders
      ignored by receivers (See [RFC6709] section 4.2).


4.  SDP Signaling

   RFC 3611 defines the use of SDP (Session Description Protocol)
   [RFC4566] for signaling the use of RTCP XR blocks.  However XR blocks
   MAY be used without prior signaling (See section 5 of RFC3611).

4.1.  SDP rtcp-xr-attrib Attribute Extension

   This session augments the SDP attribute "rtcp-xr" defined in
   Section 5.1 of RFC 3611 by providing an additional value of "xr-
   format" to signal the use of the report block defined in this
   document.

   xr-format =/  xr-tpd-block

   xr-tpd-block = "ts-psi-decodability"

4.2.  Offer/Answer Usage

   When SDP is used in offer-answer context, the SDP Offer/Answer usage
   defined in [RFC3611] for unilateral "rtcp-xr" attribute parameters
   applies.  For detailed usage of Offer/Answer for unilateral
   parameter, refer to section 5.2 of [RFC3611].

4.3.  Usage Outside of Offer/Answer

   For usage outside of Offer/Answer,refer to section 5.3 of [RFC3611].

5.  IANA Considerations

   New report block types for RTCP XR are subject to IANA registration.
   For general guidelines on IANA allocations for RTCP XR, refer to
   Section 6.2 of RFC 3611.






Tong, et al.            Expires January 22, 2015                [Page 8]

Internet-Draft           RTCP XR TS Decodability               July 2014


5.1.  New RTCP XR Block Type value

   This document assigns the block type value MTPD in the IANA " RTP
   Control Protocol Extended Reports (RTCP XR) Block Type Registry " to
   the "MPEG2 Transport Stream PSI Decodability Statistics Metrics
   Block".

   [Note to RFC Editor: please replace MTPD with the IANA provided RTCP
   XR block type for this block.]

5.2.  New RTCP XR SDP Parameter

   This document also registers a new parameter "ts-psi-decodability" in
   the "RTP Control Protocol Extended Reports (RTCP XR) Session
   Description Protocol (SDP) Parameters Registry".

5.3.  Contact information for registrations

   The contact information for the registrations is:

   RAI Area Directors <rai-ads@tools.ietf.org>

6.  Security Considerations

   This proposed RTCP XR report block introduces no new security
   considerations beyond those described in RFC 3611.

7.  References

7.1.  Normative References

   [ETSI]     ETSI, "Digital Video Broadcasting (DVB); Measurement
              guidelines for DVB systems", Technical Report TR 101 290,
              2001.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC3550]  Schulzrinne, H., "RTP: A Transport Protocol for Real-Time
              Applications", RFC 3550, July 2003.

   [RFC3611]  Friedman, T., Caceres, R., and A. Clark, "RTP Control
              Protocol Extended Reports (RTCP XR)", RFC 3611, November
              2003.

   [RFC4566]  Handley, M., Jacobson, V., and C. Perkins, "SDP: Session
              Description Protocol", RFC 4566, July 2006.




Tong, et al.            Expires January 22, 2015                [Page 9]

Internet-Draft           RTCP XR TS Decodability               July 2014


7.2.  Informative References

   [ISO-IEC.13818-1.2007]
              International Organization for Standardization,
              "Information technology - Generic coding of moving
              pictures and associated audio information: Systems", ISO
              International Standard 13818-1, October 2007.

   [RFC6390]  Clark, A. and B. Claise, "Guidelines for Considering New
              Performance Metric Development", BCP 170, RFC 6390,
              October 2011.

   [RFC6709]  Carpenter, B., Aboba, B., and S. Cheshire, "Design
              Considerations for Protocol Extensions", RFC 6709,
              September 2012.

   [RFC6792]  Wu, Q., Hunt, G., and P. Arden, "Guidelines for Use of the
              RTP Monitoring Framework", RFC 6792, November 2012.

   [RFC6990]  Wu, Q., "RTP Control Protocol (RTCP) Extended Report (XR)
              Block for MPEG2 Transport Stream (TS) Program Specific
              Information (PSI) Independent Decodability Statistics
              Metrics reporting", RFC 6990, May 2013.

Authors' Addresses

   Jiangang Tong
   Shanghai Research Institure of China Telecom Corporation Limited
   No.1835,South Pudong Road
   Shanghai  200122
   China

   Email: tongjg@sttri.com.cn


   Claire Bi (editor)
   Shanghai Research Institure of China Telecom Corporation Limited
   No.1835,South Pudong Road
   Shanghai  200122
   China

   Email: bijy@sttri.com.cn









Tong, et al.            Expires January 22, 2015               [Page 10]

Internet-Draft           RTCP XR TS Decodability               July 2014


   Roni Even
   Gesher Erove Ltd
   14 David Hamelech
   Tel Aviv  64953
   Israel

   Email: ron.even.tlv@gmail.com


   Qin Wu (editor)
   Huawei
   101 Software Avenue, Yuhua District
   Nanjing, Jiangsu  210012
   China

   Email: bill.wu@huawei.com


   Rachel Huang
   Huawei
   101 Software Avenue, Yuhua District
   Nanjing, Jiangsu  210012
   China

   Email: rachel.huang@huawei.com


























Tong, et al.            Expires January 22, 2015               [Page 11]
