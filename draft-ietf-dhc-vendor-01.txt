

DHC Working Group                                         J. Littlefield
Internet-Draft                                       Cisco Systems, Inc.
Expires: August 5, 2004                                 February 5, 2004


              Vendor-Identifying Vendor Options for DHCPv4
                      draft-ietf-dhc-vendor-01.txt

Status of this Memo

   This document is an Internet-Draft and is in full conformance with
   all provisions of Section 10 of RFC2026.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups. Note that other
   groups may also distribute working documents as Internet-Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time. It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at http://
   www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on August 5, 2004.

Copyright Notice

   Copyright (C) The Internet Society (2004).  All Rights Reserved.

Abstract

   The DHCP options for Vendor Class and Vendor-Specific Information can
   be ambiguous when a DHCP client represents multiple vendors.  This
   document defines two new options, modeled on the IPv6 options for
   vendor class and vendor-specific information, which contain
   Enterprise Numbers to remove ambiguity.

Conventions used in this document

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED",  "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [1].





Littlefield              Expires August 5, 2004                 [Page 1]

Internet-Draft     Vendor-Identifying Vendor Options       February 2004


Table of Contents

   1. Introduction . . . . . . . . . . . . . . . . . . . . . . . . . . 3
   2. Multiple Instances of Options  . . . . . . . . . . . . . . . . . 3
   3. Vendor-Identifying Vendor Class Option . . . . . . . . . . . . . 3
   4. Vendor-Identifying Vendor-Specific Information Option  . . . . . 5
   5. IANA Considerations  . . . . . . . . . . . . . . . . . . . . . . 6
   6. Security Considerations  . . . . . . . . . . . . . . . . . . . . 6
      References . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
      Author's Address . . . . . . . . . . . . . . . . . . . . . . . . 7
      Intellectual Property and Copyright Statements . . . . . . . . . 8








































Littlefield              Expires August 5, 2004                 [Page 2]

Internet-Draft     Vendor-Identifying Vendor Options       February 2004


1. Introduction

   The DHCP protocol for IPv4 defines options to allow a client to
   indicate its vendor type (option 60), and to allow the DHCP client
   and server to exchange vendor-specific information (option 43) [3].
   While there is no prohibition against passing multiple copies of
   these options in a single packet, doing so would introduce ambiguity
   of interpretation, particularly if conveying vendor-specific
   information for multiple vendors.  The vendor identified by option 60
   defines the interpretation of option 43, which itself carries no
   vendor identifier.

   There are circumstances where an implementation may need to support
   multiple, independently defined forms of vendor-specific information.
   For example, implementations that must conform to an industry-
   standard use of DHCPv4, to allow interoperability in a particular
   technology space, may be required to support the vendor-specific
   options of that industry group.  But the same implementation may also
   require support for vendor-specific options defined by the
   manufacturer.  In particular, this is an issue for vendors of devices
   supporting CableLabs standards, such as DOCSIS, CableHome, and
   PacketCable, since those standards define an industry-specific use
   for options 60 and 43.

   This document defines two new options, modeled on the IPv6 options
   for vendor class and vendor-specific information defined in RFC 3315
   [4], which contain Enterprise Numbers to remove ambiguity.  If
   desired, these new options can be used in addition to the current
   vendor class and vendor information options, whose definition is
   unaffected by this document.

2. Multiple Instances of Options

   The options defined in this document are intended to occur multiple
   times in a DHCP packet, as may be required.  To provide support for
   long option values, RFC 3396 [2] requires that all multiply instanced
   options be contatenated into one long instance.  Because of this, the
   format of these new vendor options includes extra length fields to
   allow concatenation of multiple instances, while preserving the
   integrity of each.  Support for RFC 3396 is not widespread at the
   time of this writing, so implementations SHOULD attempt to format
   instances of these new vendor options such that they can be
   interpreted without concatenation, if support for RFC 3396 is in
   doubt.

3. Vendor-Identifying Vendor Class Option

   A DHCP client may use this option to unambiguously identify the



Littlefield              Expires August 5, 2004                 [Page 3]

Internet-Draft     Vendor-Identifying Vendor Options       February 2004


   vendor that manufactured the hardware on which the client is running,
   or an industry consortium to which the vendor belongs.  The
   information contained in the data area of this option is contained in
   one or more opaque fields that may identify details of the hardware
   configuration.

   The format of the V-I Vendor Class option is:

                        1 1 1 1 1 1
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  option-code  |  option-len   |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |       enterprise-number       |
   |                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   data-len    |               |
   +-+-+-+-+-+-+-+-+               |
   /       vendor-class-data       /
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

    option-code        OPTION_V-I VENDOR_CLASS (to be assigned by IANA)

    option-len         5 + length of vendor class data field

    enterprise-number  The vendor's 32-bit Enterprise Number as
                       registered with IANA [5].

    data-len           Length of vendor-class-data field

    vendor-class-data  Details of the hardware configuration of the host
                       on which the client is running, or of industry
                       consortium compliance

   Each instance of this option contains information corresponding to
   one or more Enterprise Numbers.  Multiple instances of this option
   may be present, and may be concatenated in accordance with RFC 3396.
   An Enterprise Number SHOULD only occur once among all instances of
   this option.  Behavior is undefined if an Enterprise Number occurs
   multiple times.  The information for each Enterprise Number is
   treated independently, regardless or whether it occurs in an option
   with other Enterprise Numbers, or in a separate option.

   The vendor-class-data is composed of a series of separate items, each
   of which describes some characteristic of the client's hardware
   configuration or capabilities.  Examples of vendor-class-data
   instances might include the version of the operating system the
   client is running or the amount of memory installed on the client.



Littlefield              Expires August 5, 2004                 [Page 4]

Internet-Draft     Vendor-Identifying Vendor Options       February 2004


   Each instance of the vendor-class-data is formatted as follows:

                        1 1 1 1 1 1
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   data-len    |               |
   +-+-+-+-+-+-+-+-+  opaque-data  |
   /                               /
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   The data-len is one octet long and specifies the length of the opaque
   vendor class data in network byte order.

4. Vendor-Identifying Vendor-Specific Information Option

   DHCP clients and servers may use this option to exchange vendor-
   specific information.

   The format of the V-I Vendor-specific Information option is:

                        1 1 1 1 1 1
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  option-code  |  option-len   |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |       enterprise-number       |
   |                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   data-len    |               |
   +-+-+-+-+-+-+-+-+  option-data  |
   /                               /
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

    option-code        OPTION_V-I VENDOR_OPTS (to be assigned by IANA)

    option-len         5 + length of option-data field

    enterprise-number  The vendor's registered 32-bit Enterprise Number
                       as registered with IANA [5].

    data-len           Length of option-data field

    option-data        Vendor-specific options, described below.

   The definition of the information carried in this option is vendor
   specific.  The vendor is indicated in the enterprise-number field.
   Each instance of this option contains information corresponding to
   one or more Enterprise Numbers.  Multiple instances of this option



Littlefield              Expires August 5, 2004                 [Page 5]

Internet-Draft     Vendor-Identifying Vendor Options       February 2004


   may be present, and may be concatenated in accordance with RFC 3396.
   An Enterprise Numbers SHOULD only occur once among all instances of
   this option.  Behavior is undefined if an Enterprise Number occurs
   multiple times.  The information for each Enterprise Number is
   treated independently, regardless or whether it occurs in an option
   with other Enterprise Numbers, or in a separate option.

   Use of vendor-specific information allows enhanced operation,
   utilizing additional features in a vendor's DHCP implementation.
   Servers not equipped to interpret the vendor-specific information
   sent by a client MUST ignore it.  Clients that do not receive desired
   vendor-specific information SHOULD make an attempt to operate without
   it.

   The encapsulated vendor-specific options field MUST be encoded as a
   sequence of code/length/value fields of identical format to the DHCP
   options field.  The option codes are defined by the vendor identified
   in the enterprise-number field and are not managed by IANA.  Option
   codes 0 and 255 have no pre-defined interpretation or format.  Each
   of the encapsulated options is formatted as follows:

                        1 1 1 1 1 1
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  subopt-code  |  subopt-len   |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   /        sub-option-data        /
   /                               /
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

    subopt-code        The code for the encapsulated option

    subopt-len         An unsigned integer giving the length of the
                       option-data field in this encapsulated option in
                       octets.

    sub-option-data    Data area for the encapsulated option


5. IANA Considerations

   The values for the V-I VENDOR CLASS and V-I VENDOR OPTS option codes
   must be assigned from the numbering space defined for public DHCP
   Options in RFC 2939 [6].

6. Security Considerations

   This document in and by itself provides no security, nor does it



Littlefield              Expires August 5, 2004                 [Page 6]

Internet-Draft     Vendor-Identifying Vendor Options       February 2004


   impact existing security.  DHCP provides an authentication and
   message integrity mechanism, as described in RFC 3118 [7], which may
   be used if authenticity is required for data carried by the options
   defined in this document.

References

   [1]  Bradner, S., "Key words for use in RFCs to Indicate Requirement
        Levels", BCP 14, RFC 2119, March 1997.

   [2]  Lemon, T. and S. Chesire, "Encoding Long Options in the Dynamic
        Host Configuration Protocol (DHCPv4)", RFC 3396, November 2002.

   [3]  Alexander, S. and R. Droms, "DHCP Options and BOOTP Vendor
        Extensions", RFC 2132, March 1997.

   [4]  Droms, R., Bound, J., Volz, B., Lemon, T., Perkins, C. and M.
        Carney, "Dynamic Host Configuration Protocol for IPv6 (DHCPv6)",
        RFC 3315, July 2003.

   [5]  IANA, "Private Enterprise Numbers", <http://www.iana.org/
        assignments/enterprise-numbers.html>.

   [6]  Droms, R., "Procedures and IANA Guidelines for Definition of New
        DHCP Options and Message Types", BCP 43, RFC 2939, September
        2000.

   [7]  Droms, R. and W. Arbaugh, "Authentication for DHCP Message", RFC
        3118, June 2001.


Author's Address

   Josh Littlefield
   Cisco Systems, Inc.
   1414 Massachusetts Avenue
   Boxborough, MA  01719
   USA

   Phone: +1 978-936-1379
   EMail: joshl@cisco.com










Littlefield              Expires August 5, 2004                 [Page 7]

Internet-Draft     Vendor-Identifying Vendor Options       February 2004


Intellectual Property Statement

   The IETF takes no position regarding the validity or scope of any
   intellectual property or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; neither does it represent that it
   has made any effort to identify any such rights.  Information on the
   IETF's procedures with respect to rights in standards-track and
   standards-related documentation can be found in BCP-11.  Copies of
   claims of rights made available for publication and any assurances of
   licenses to be made available, or the result of an attempt made to
   obtain a general license or permission for the use of such
   proprietary rights by implementors or users of this specification can
   be obtained from the IETF Secretariat.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights which may cover technology that may be required to practice
   this standard.  Please address the information to the IETF Executive
   Director.


Full Copyright Statement

   Copyright (C) The Internet Society (2004).  All Rights Reserved.

   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works.  However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.

   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assignees.

   This document and the information contained herein is provided on an
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION



Littlefield              Expires August 5, 2004                 [Page 8]

Internet-Draft     Vendor-Identifying Vendor Options       February 2004


   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.


Acknowledgement

   Funding for the RFC Editor function is currently provided by the
   Internet Society.











































Littlefield              Expires August 5, 2004                 [Page 9]


