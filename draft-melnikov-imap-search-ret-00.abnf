capability         =/ "X-DRAFT-I00-ESEARCH"

mailbox-data       =/ "ESEARCH" [SP "UID"]
                           *(SP search-return-data)

search             = "SEARCH" [search-return-opts]
                          [SP "CHARSET" SP astring] 1*(SP search-key)
                          ; CHARSET argument to MUST be registered
                          ; with IANA
     
search-return-data = "MIN" SP nz-number /
                          "MAX" SP nz-number /
                          "ALL" SP sequence-set /
                          "COUNT" SP number
     
search-return-opts = "RETURN" SP "(" [search-return-opt
                          *(SP search-return-opt)] ")"
                             ; SEARCH return options, e.g. MIN
     
search-return-opt  = "MIN" / "MAX" / "ALL" / "COUNT"
     

