<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>DRINKS Use cases and Protocol Requirements</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="DRINKS Use cases and Protocol Requirements">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">DRINKS</td><td class="header">S. Channabasappa, Ed.</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">CableLabs</td></tr>
<tr><td class="header">Intended status: Informational</td><td class="header">February 03, 2009</td></tr>
<tr><td class="header">Expires: August 7, 2009</td><td class="header">&nbsp;</td></tr>
</table></td></tr></table>
<h1><br />DRINKS Use cases and Protocol Requirements<br />draft-channabasappa-drinks-usecases-requirements-02</h1>

<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted to IETF in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on August 7, 2009.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2009 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents in effect on the date of
publication of this document (http://trustee.ietf.org/license-info).
Please review these documents carefully, as they describe your
rights and restrictions with respect to this document.</p>

<h3>Abstract</h3>

<p>
			This document captures the use cases and associated requirements for interfaces to provision session establishment data into SIP Service Provider components that aid with session routing. Specifically, the current version of this document focuses on the provisioning of one such element, termed the registry.
			
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#Terminology">1.</a>&nbsp;
Terminology<br />
<a href="#Overview">2.</a>&nbsp;
Overview<br />
<a href="#UseCasesAndRequirements">3.</a>&nbsp;
Use Cases and Requirements<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#RegistryProvisioning">3.1.</a>&nbsp;
Registry Provisioning<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#RegistryProvisioningUseCases">3.1.1.</a>&nbsp;
Use Cases<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#RegistryProvisioningRequirements">3.1.2.</a>&nbsp;
Requirements<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#DistributionOfDataIntoLocalDataRepositories">3.2.</a>&nbsp;
Distribution of data into local data repositories<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#MiscUseCases">3.3.</a>&nbsp;
Miscellaneous Use Cases<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#IndirectPeeringtoSelectedDestinations">3.3.1.</a>&nbsp;
Indirect Peering to Selected Destinations<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#RN Destinations">3.3.2.</a>&nbsp;
TBD: RN Destinations<br />
<a href="#security">4.</a>&nbsp;
Security Considerations<br />
<a href="#IANA">5.</a>&nbsp;
IANA Considerations<br />
<a href="#anchor1">6.</a>&nbsp;
Acknowledgments<br />
<a href="#rfc.references1">7.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">7.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">7.2.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Author's Address<br />
</p>
<br clear="all" />

<a name="Terminology"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Terminology</h3>

<p>
		The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in  <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.  
		
</p>
<p>
			This document reuses terms from <a class='info' href='#RFC3261'>[RFC3261]<span> (</span><span class='info'>Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A., Peterson, J., Sparks, R., Handley, M., and E. Schooler, &ldquo;SIP: Session Initiation Protocol,&rdquo; June&nbsp;2002.</span><span>)</span></a> (e.g., SIP) and  <a class='info' href='#I-D.ietf-speermint-terminology'>[I&#8209;D.ietf&#8209;speermint&#8209;terminology]<span> (</span><span class='info'>Malas, D. and D. Meyer, &ldquo;SPEERMINT Terminology,&rdquo; November&nbsp;2008.</span><span>)</span></a> (e.g., LUF, LRF). In addition, this document specifies the following additional terms.


                <br />
<br />

		
		</p>
<blockquote class="text"><dl>
<dt>Registry: </dt>
<dd>
                                The authoritative source for provisioned session establishment data (SED) and related information.
                        	<br />
<br />

			
</dd>
<dt>Local Data Repository: </dt>
<dd>
                                The data store component of an addressing server that provides resolution responses.
                        	<br />
<br />

			
</dd>
<dt>Destination Group: </dt>
<dd>
				A set of public identities that are grouped together to facilitate session setup and routing. 
                        	<br />
<br />

			
</dd>
<dt>Public Identity: </dt>
<dd>
				A generic term that refers to a telephone number (TN), an email address, or other identity as deemed appropriate, such as a globally routable URI of a user address (e.g., mailto:john.doe@example.net).
                        	<br />
<br />

			
</dd>
<dt>Routing Group: </dt>
<dd>
				a grouping of SED records. 
                        	<br />
<br />

			
</dd>
<dt>SED Record: </dt>
<dd>
				A SED Record contains much of the session establishment data or a 'redirect' to another registry where the session establishment data can be discovered.  SED Records types supported are NAPTRs, CNAME, DNAME, and NS Records.  
				<br />

				<br />
<br />
<br />

			
</dd>
<dt>Data Recipient: </dt>
<dd>
				SP or SSP that receives or consumes SED and related information.
                        	<br />
<br />

			
</dd>
<dt>Data Recipient Group: </dt>
<dd>
				A group of Data Recipients that receive the same set (or subset) of SED and related information.
                        	<br />
<br />

			
</dd>
</dl></blockquote><p>

         	
</p>
<a name="Overview"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Overview</h3>

<p>

			The SPEERMINT WG specifies Session Establishment Data, or SED, as the data used to route a call to the next hop associated with the called domain's ingress point. More specifically, the SED is the set of parameters that the outgoing signalling path border elements (SBEs) need to complete the call. See <a class='info' href='#I-D.ietf-speermint-terminology'>[I&#8209;D.ietf&#8209;speermint&#8209;terminology]<span> (</span><span class='info'>Malas, D. and D. Meyer, &ldquo;SPEERMINT Terminology,&rdquo; November&nbsp;2008.</span><span>)</span></a> for more details. 


			<br />
<br />


			The specification of the format and protocols to configure SED is a task taken up by the DRINKS WG. The use cases and requirements that have been proposed in this regard are compiled in this document. 

			<br />
<br />


			SED is typically created by the terminating SSP and consumed by the originating SSP. For scalability reasons SED is rarely exchanged directly between the intended parties. Instead, it is exchanged via intermediate systems - termed Registries within this document. Such registries receive SED via provisioning transactions from other SSPs, and then distribute the received data into Local Data Repositories. These local data repositories are used for call routing by outgoing SBEs.  This is depicted in <a class='info' href='#GeneralOverview'>Figure&nbsp;1<span> (</span><span class='info'>General Diagram</span><span>)</span></a>.

			<br />
<br />



                        <br /><hr class="insert" />
<a name="GeneralOverview"></a>
</p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>


                                    *-------------*
             1. Provision SED       |             |
           -----------------------&gt; |  Registry   |
                                    |             |
                                    *-------------*
                                         /  \
                                        /    \
                                       /      \
                                      /        \
                                     /          \
                                    /            \
                                   / 2.Distribute \
                                  /      SED       \
                                 V                  V
                           +----------+       +----------+
                           |Local Data|       |Local Data|
                           |Repository|       |Repository|
                           +----------+       +----------+




</pre></div><p>
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;1: General Diagram&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

                              

			<br />
<br />



			In this version of the document, we primarily address the use cases and requirements for provisioning registries. Future revisions may include data distribution. The resulting provisioning protocol can be used to provision data into a registry, or between registries. This is depicted in <a class='info' href='#FunctionalOverview'>Figure&nbsp;2<span> (</span><span class='info'>Functional Overview</span><span>)</span></a>.

			<br />
<br />



                        <br /><hr class="insert" />
<a name="FunctionalOverview"></a>
</p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>



                               . . . . . . .
               . . . .  . . .   registry    . . . . . . .
             .                 . . . . . . .              .
           .                        .                      .
         .                          . provision             .
    +-----------+                   .                 +-----------+
    |           |  provision  +----------+  provision |           |
    |   SSP 1   |------------&gt;| Registry |&lt;-----------|   SSP 2   |
    |           |             +----------+            |           |
    |  +-----+  |                   /\                |  +-----+  |
    |  | LDR | &lt;--------------------  ------------------&gt;| LDR |  |
    |  +-----+  |   distribute           distribute   |  +-----+  |
    |           |                                     |           |
    +-----------+                                     +-----------+
           .                                                .
            . . . . . . . . . . . . . . . . . . . . . . . .
                           (provision / distribute)


          Where, LDR = Local Data Repository


</pre></div><p>
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;2: Functional Overview&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

			<br />
<br />


			The following is a summary of the proposed responsibilities for Registries and Local Data Repositories:

			</p>
<ul class="text">
<li>
				Registries are the authoritative source for provisioned session establishment data (SED) and related information. 
				<br />
<br />

			
</li>
<li>
				Local Data Repositories are the data store component of an addressing server that provides resolution responses.
				<br />
<br />

			
</li>
<li>
				Registries are responsible for distributing SED and related information to the local data repositories.
				<br />
<br />

			
</li>
</ul><p>

			<br />
<br />


			In addition, this document proposes the following aggregation groups with regards to SED (certain use cases also illustrate these groups): 

			</p>
<ul class="text">
<li>
			Aggregation of public Identifiers: The initial input "key" to a SED lookup is a public identifier. Since many public identifiers will share similar (or identical) destinations, and hence return similar (or identical) SED, provisioning the same set of SED for millions of public identifiers is inefficient, especially in cases where the SED needs to be modified. Therefore, an aggregation mechanism to "group" public identifiers is proposed. This aggregation is called a "destination group". 
			<br />
<br />

			
</li>
<li>
			Aggregation of SSPs: It is expected that SSPs may want to expose different sets of SED, depending on the receiving SSP. This exposure may not always be unique, in which case an aggregation makes it efficient. Such an aggregation is proposed, and termed "Data Receipient Group". 
			<br />
<br />

			
</li>
<li>
			Aggregation of SED records: Finally, it is anticipated that a complete set of routing data will consist of more than just one SED record. To be able to create and use the same set of SED records multiple times (without creating duplicates) an aggregation mechanism at this level is proposed, and called "routing group".
			<br />
<br />

			
</li>
</ul><p>

			The above aggregations are illustrated in <a class='info' href='#DataModelDiagram'>Figure&nbsp;3<span> (</span><span class='info'>Data Model Diagram</span><span>)</span></a>.
			<br />
<br />




                        <br /><hr class="insert" />
<a name="DataModelDiagram"></a>
</p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>


    +---------+            +--------------+
    |  Data   |            |DATA RECIPIENT|
    |Recipient|-----------&gt;|     GROUP    |
    +---------+            +------.-------+
                                  ^
                                  |
                                  |
                           +--------------+               +---------+
                           |    ROUTING   | -------------&gt;|   SED   |
                           |     GROUP    |               |  Record |
                           +--------------+               +---------+
                                  ^                            ^
                                  |                            |
                                  |                            |
                           +--------------+                    |
                     -----&gt;| DESTINATION  |&lt;-----              |
                    |      |    GROUP     |      |             |
                    |      +--------------+      |             |
                    |             ^              |             |
                    |             |              |             |
                    |             |              |             |
                    |             |              |             |
               +---------+   +---------+     +---------+       |
               |   RN    |   |   TN    |     | Public  |-------
               |         |   |  Range  |     |Identity |
               +---------+   +---------+     +---------+




</pre></div><p>
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;3: Data Model Diagram&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

			<br />
<br />

			
A description of the relationships follows:
			<br />
<br />


				</p>
<blockquote class="text"><dl>
<dt>-</dt>
<dd>
					An RN is associated with one or more Destination Groups
					
</dd>
<dt>-</dt>
<dd>
					A TN Range object is associated with one or more Destination Group
					
</dd>
<dt>-</dt>
<dd>
					A Public Identity is associated with zero or more Destination Group
					
</dd>
<dt>-</dt>
<dd>
					A Public Identity is associated with zero or more SED Records
					<br />

					
</dd>
<dt>-</dt>
<dd>
					A Destination Group is associated with zero or more Routing Groups.
					<br />

					
</dd>
<dt>-</dt>
<dd>
					A Routing Group is associated with zero or more SED Records; NAPTRs and other SED Record Types associated with Routes are not User or TN specific.  For example the user portion of a NAPTR regex will be "\1".
					<br />

					
</dd>
<dt>-</dt>
<dd>
					An Routing Group is associated with zero or more peering organizations to control visibility/access privs to that Routing Group and the Destination Groups they expose.
					<br />

					
</dd>
<dt>-</dt>
<dd>
					A Data Recipient Group is associated with (contains) zero or more Data Recipients to facilitate the allocation of access privileges to Routing Groups.
					
</dd>
</dl></blockquote><p>

		
</p>
<a name="UseCasesAndRequirements"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Use Cases and Requirements</h3>

<p>
		This section presents the use cases and associated requirements. 
		
</p>
<a name="RegistryProvisioning"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
Registry Provisioning</h3>

<p>
				Registry is the authoritative source for session establishment data (SED). The registry needs to be provisioned with this data to perform its function. This data includes: destination groups, routing groups and data recipient groups. It can also include RNs and TN Ranges. The following sub-sections illustrate the use cases and the requirements, respectively.
			
</p>
<a name="RegistryProvisioningUseCases"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1.1"></a><h3>3.1.1.&nbsp;
Use Cases</h3>

<p>
				</p>
<blockquote class="text"><dl>
<dt>USE CASE #1</dt>
<dd>
					Near-real-time provisioning: The registry is provisioned with data that is not accompanied by an effective date or time. In such cases, the registry will validate the data and make it effective in near real-time. 
					<br />
<br />

					
</dd>
<dt>USE CASE #2</dt>
<dd>
					Non-real-time provisioning: The registry is provisioned via an asynchronous provisioning process. For instance, an SSP has commissioned a new registry and wishes to download a very large number of telephone numbers. Rather than stream individual entities, one at a time, the SSP's back-office system prefers to perform the operation as a set of one or more batches (e.g., via an external data file), instead of the near-real-time provisioning interface.
					<br />
<br />

					
</dd>
<dt>USE CASE #3</dt>
<dd>
					Deferred provisioning: The registry is provisioned with data that is accompanied by an effective date and time. In scenarios such as this, the registry will validate the data and wait until the effective date and time to make it effective. TBD: What happens if near-real time data overrides data parked for later incorporation?
					<br />
<br />

					
</dd>
<dt>USE CASE #4</dt>
<dd>
					Intra-network SED: SSP wishes to provision their intra-network Session Establishment Data (SED) such that it enables current and future network services to identify and route real-time sessions. For example, in the case of VoIP calls it allows one SoftSwitch (calling) to discover another (called).  The SSP provisions IP addressing information pertaining to each SoftSwitch, which is provisioned to the registry but only distributed to a specific local data repository. This SED may differ from the SED that is distributed to other local data repositories.
					<br />
<br />

					
</dd>
<dt>USE CASE #5</dt>
<dd>
					Destination Groups: An SSP may wish to control the flow of traffic into their network (ingress) based on groupings of Public Identities.  Associating each group of Public Identities with a specific set of ingress SBEs or points-of-interconnect.  The SSP, for example, sub-divides the country into four regions: North-East, South-East, Mid-West, and West-Coast.  For each region they establish points-of-interconnect with peers and provision the associated SED hostnames or IP addresses of the SBEs used for ingress traffic.  Against each region they provision the served Public Identities into groups- termed Destination Groups - and associate those destination groups with the appropriate points of ingres. 
					
</dd>
<dt>USE CASE #6</dt>
<dd>
					Public Identity is taken out of service: A public identity (or a TN range) is taken out of service because it is no longer valid.  The Registry receives a delete operation and removes the public identity from its database.  This can also trigger delete operations to keep the local data repositories up-to-date. 
					<br />
<br />

					
</dd>
<dt>USE CASE #7</dt>
<dd>
					Assigning a set of public identities to a different Destination Group: A set of public identities are assigned a different Destination Group which effectively changes their routing information. This may be due to a network re-arrangement, a Signaling path Border Element being split into two, or a need to do maintenance, two carriers merging, or other considerations. This scenario can also include an effective date and time.
					<br />
<br />

					
</dd>
<dt>USE CASE #8</dt>
<dd>
					Moving an SSP from one Data Recipient Group to another: An SSP would like to re-assign the Destination Groups it shares with a peer and move the peer SSP from one Data Recipient Group to another. This results in the moved peer seeing a new and different set of routing data.
					<br />
<br />

					
</dd>
<dt>USE CASE #9</dt>
<dd>
					Inter-network SED (Direct and Selective Peering): In this case the SSP is the actual carrier-of-record; the entity serving the end-user. The SSP wishes to communicate different SED data to some of its peers that wish to route to its destinations. So the SSP has implemented direct points-of-interconnect with each peer and therefore would like address-resolution to result in different answers depending on which peer is asking.
					<br />
<br />

					
</dd>
<dt>USE CASE #10</dt>
<dd>
					Separation of Responsibility: An SSP's operational practices can seperate the responsibility of provisioning the routing information, and the associated identities, to different entities. For example, a network engineer can establish a physical interconnect with a peering SSP's network and provision the associated domain name, host, and IP addressing information. Separately, for each new service subscription, the SSP's back office system provisions the associated public identities.
					<br />
<br />

					
</dd>
<dt>USE CASE #11</dt>
<dd>
					Global TN Destinations: The SSP wishes to add or remove one or multiple fully qualified TN destinations in a single provisioning request.
					<br />
<br />

					
</dd>
<dt>USE CASE #12</dt>
<dd>
						TN Range Destinations: The SSP wishes to add or remove one or multiple TN Range destinations in a single provisioning request.  TN Ranges support number ranges that need not be 'blocks'.  In other words the TN range start can be any number and the TN range end can be any number that is greater than the TN range start.
					<br />
<br />

					
</dd>
<dt>USE CASE #13</dt>
<dd>
					Non-TN Destinations: An SSP chooses to peer their messaging service with another SSPs picture/video mail service.  Allowing a user to send and receive pictures and/or video messages to a mobile user's handset, for example.  The important aspect of this use case is that it goes beyond simply mapping TNs to IP addresses/hostnames that describe points-of-interconnect between peering network SSP's.  Rather, for each user the SSP provisions the subscriber's email address (i.e.  jane.doe@example.com).  This mapping allows the mobile multimedia messaging service center (MMSC) to use the subscriber email address as the lookup key and route messages accordingly.
						
					<br />
<br />

					
</dd>
<dt>USE CASE #14</dt>
<dd>
					Tier 2 Name Server: An SSP maintains a Tier 2 name server that contains the NAPTR records that constitute the terminal step in the LUF.  The SSP needs to provision an registry to direct queries for the SSPs numbers to the Tier 2.  Usually queries to the registry should return NS records, but, in cases where the Tier 2 uses a different domain suffix from that used in the registry, CNAME and NS records may be employed instead.  
					<br />
<br />

					
</dd>
<dt>USE CASE #15</dt>
<dd>
					Peering Offer/Acceptance: An SSP offers to allow terminations from another SSP by adding that SSP to a Data Recipient Group it controls. This causes notification of the offered SSP.  An SSP receiving a peering offer should be able to accept or decline the offer. If the offer is rejected the Registry should not provision corresponding SED to the rejecting SSP. It is expected that this capability will apply mainly in the transit case where non-authoritative parties (in the sense of not being the terminating SSP for an identity) wish to offer the ability to reach the identity and originating SSPs may wish to restrict the routes that are provisioned to their local data repositories. 
					<br />
<br />

					
</dd>
<dt>USE CASE #16</dt>
<dd>
					Points of Egress: An SSP has a peering relationship with a peer, and when sending messages to that peer's point of interconnection, the originating SSP wishes to use one or more points of egress.  These points of egress may vary for an given peer. This capability is supported by allowing an originating SSP to provision SED for identities terminating to other SSPs  where the originating SSP is itself the data recipient.  The provisioning SSP may make use of multiple data recipient identities if it requires different sets of egress points be used for calls originating from different parts of its network.  Routing from egress points to ingress points of the terminating SSP may be accomplished by static routing from the egress points or by the egress points using data provisioned to the Registry by the terminating SSP.
					<br />
<br />

					
</dd>
</dl></blockquote><p>
				
</p>
<a name="RegistryProvisioningRequirements"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1.2"></a><h3>3.1.2.&nbsp;
Requirements</h3>

<p>
				<br />
<br />

				The following data requirements apply:
				</p>
<blockquote class="text"><dl>
<dt>DREQ1:</dt>
<dd>
					The registry provisioning data model MUST support the following entities: public identities, destination groups, routing groups and data recipient groups. 
					<br />

					
</dd>
<dt>DREQ2:</dt>
<dd>
					The registry provisioning data model MUST support the grouping and aggregation of public identities within destination groups.
					<br />

					
</dd>
<dt>DREQ3:</dt>
<dd>
					The registry provisioning data model SHOULD support the grouping and aggregation of TN Ranges within destination groups.
					<br />

					
</dd>
<dt>DREQ4:</dt>
<dd>
					The registry provisioning data model SHOULD support the grouping and aggregation of RNs within destination groups.
					<br />

					
</dd>
</dl></blockquote><p>
				<br />
<br />


				The following functional requirements apply:
				</p>
<blockquote class="text"><dl>
<dt>FREQ1:</dt>
<dd>
					The registry provisioning interface MUST support the creation and deletion of: public identities, destination groups, routing groups and data recipient groups. 
					<br />

					
</dd>
<dt>FREQ2:</dt>
<dd>
					The registry provisioning interface MUST support near-real-time, non-real-time and deferred provisioning operations.
					<br />

					
</dd>
<dt>FREQ3:</dt>
<dd>
					The registry provisioning interface MUST support the following types of modifications:
					<br />

					-  reassignment of one or more public identities from one destination group to another;
					<br />
<br />

					-  reassignment of one data recipient from one destination group to another;
					<br />
<br />

					-  association and disassociation of a "Default Routing Group" with a Data Recipient; and,
					<br />
<br />

					-  identification of a destination group as a "Carrier of Record" (COR) destination group or a "Transit" destination group.
					<br />
<br />

						
					
</dd>
<dt>FREQ4:</dt>
<dd>

					When an entity with a different client identifier than that of the carrier of record for a public identity in a destination group adds a new SSP to a destination recipient group associated with that destination group, the registry provisioning interface MUST: a) notify the new SSP of the updated routing information (which constitutes a peering offer) b) not provision the SED to the new SSP's LDR unless the new SSP signals acceptance.
					
</dd>
<dt>FREQ5:</dt>
<dd>
					The registry provisioning interface MUST separate the provisioning of the routing information from the associated identities.
					<br />

					
</dd>
<dt>FREQ6:</dt>
<dd>
					The registry provisioning protocol MUST define a discrete set of response codes for each supported protocol operation.  Each response code MUST definitively indicate whether the operation succeeded or failed.  If the operation failed, the response code MUST indicate the reason for the failure.
					<br />

					
</dd>
<dt>FREQ7:</dt>
<dd>
					The registry provisioning interface MUST allow an SSP to define multiple sub-identities that can be used in data recipient groups
					
</dd>
<dt>FREQ8:</dt>
<dd>
					The registry provisioning interface MUST define the concurrency rules, locking rules, and race conditions that underlie the implementation of that protocol operation and that result from the coexistence of protocol operations that can operate on multiple objects in a single operation and bulk file operations that may process for an extended period of time.
					<br />

					
</dd>
<dt>FREQ9:</dt>
<dd>
					The registry provisioning interface MUST support the ability for a Data Recipient to optionally define a Routing Group as their Default Routing Group, such that if the Data Recipient performs a resolution request and the lookup key being resolved is not found in the Destination Groups visible to that Data Recipient then the SED Records associated with the Default Routing Group shall be returned in the resolution response.
						
					
</dd>
<dt>FREQ10:</dt>
<dd>
					The registry provisioning interface MUST support the ability for the owner of a Routing Group to optionally define Source Based Routing Criteria to be associated with their Routing Group(s).  The Source Based Routing Criteria will include the ability to specify zero or more of the following in association with a given Routing Group:  Resolution Client IP Address(es) or Domain Names, Calling Party URI(s).  The result will be that the resolution server would evaluate the characteristics of the Source, compare them against Source Based Routing Criteria associated with the Routing Groups visible to that Data Recipient, and return any SED Records associated with the matching Routing Groups.
					
</dd>
<dt>FREQ11:</dt>
<dd>
					The registry provisioning interface MUST track, via a client identifier, the entity provisioning each data object (e.g. Destination Group or Routing Group ). This client identifier will identify the entity that is responsible for that data object from a protocol interface perspective. This client identifier SHOULD be tied to the session authentication credentials that the client uses to connect into to the registry.
					<br />

					The registry provisioning interface MUST incorporate a data recipient identifier that identifies the organization responsible for each data object from a business perspective. This organization identifier may or may not ultimately refer to the same organization that the client Identifier refers to. The separation of the data recipient identifier from the client identifier will allow for the separation of the two entities, when the need arises. 
					<br />
<br />

Exactly one client identifier MUST be allowed to provision objects under a given data recipient identifier.  But a client identifier MUST be allowed to provision objects under multiple data recipient identifiers.
					<br />
<br />

Objects provisioned under one "Protocol Client Identifier" MUST NOT be alterable by a provisioning session established by another "Protocol Client Identifier".
					<br />
<br />

					
</dd>
</dl></blockquote><p>
				
</p>
<a name="DistributionOfDataIntoLocalDataRepositories"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
Distribution of data into local data repositories</h3>

<p>
				This section targets use cases concerned with the distribution of SED to local data repositories. This is considered out-of-scope for this version of the document.

			
</p>
<a name="MiscUseCases"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3"></a><h3>3.3.&nbsp;
Miscellaneous Use Cases</h3>

<p>
			This section contains additional use cases for consideration. 
			
</p>
<a name="IndirectPeeringtoSelectedDestinations"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3.1"></a><h3>3.3.1.&nbsp;
Indirect Peering to Selected Destinations</h3>

<p>
					The SSP transit provider wishes to provide transit peering points for a set of destinations.  But that set of destinations does not align with the destination groups that already exist.  The SSP wishes to establish its own destination groups for the destinations that it provides transit to.
				
</p>
<a name="RN Destinations"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3.2"></a><h3>3.3.2.&nbsp;
TBD: RN Destinations</h3>

<p>
					The SSP does not wish to provision individual TNs, but instead, for ease of management, wishes to provision Routing Numbers ((e.g., as in some number portability implementations). Each RN effectively represents a set of individual TNs, and that set of TNs is assumed to change 'automatically' as TNs are ported in and ported out. Note that this approach requires a query to resolve a TN to an RN prior to using the provisioned data to route.
				
</p>
<a name="security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Security Considerations</h3>

<p>
		Session establishment data allows for the routing of SIP sesions within, and between, SIP Service Providers. Access to this data can compromise the routing of sessions and expose a SIP Service Provider to attacks such as service hijacking and denial of service. The data can be compromised by vulnerable functional components and interfaces identified within the use cases.
		
</p>
<a name="IANA"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
IANA Considerations</h3>

<p> 
			This document does not register any values in IANA registries.
		
</p>
<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Acknowledgments</h3>

<p>
		This document is a result of various discussions held by the DRINKS requirements design team, which is comprised of the following individuals, in alphabetical order: Deborah A Guyton (Telcordia), Gregory Schumacher (Sprint), Jean-Francois Mule (CableLabs), Kenneth Cartwright (Verisign), Manjul Maharishi (Verisign), Penn Pfautz (AT&amp;T Corp), Ray Bellis (Nominet), the co-chairs (Richard Shockey, Nuestar; and Alexander Mayrhofer, enum.at GmbH), and the editors of this document.
		
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>7.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>7.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="I-D.ietf-speermint-terminology">[I-D.ietf-speermint-terminology]</a></td>
<td class="author-text">Malas, D. and D. Meyer, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-speermint-terminology-17.txt">SPEERMINT Terminology</a>,&rdquo; draft-ietf-speermint-terminology-17 (work in progress), November&nbsp;2008 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-speermint-terminology-17.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3261">[RFC3261]</a></td>
<td class="author-text">Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A., Peterson, J., Sparks, R., Handley, M., and E. Schooler, &ldquo;<a href="http://tools.ietf.org/html/rfc3261">SIP: Session Initiation Protocol</a>,&rdquo; RFC&nbsp;3261, June&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3261.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Author's Address</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Sumanth Channabasappa</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">CableLabs</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">858 Coal Creek Circle</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Louisville, CO  80027</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:sumanth@cablelabs.com">sumanth@cablelabs.com</a></td></tr>
</table>
</body></html>
