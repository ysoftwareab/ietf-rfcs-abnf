

Network Working Group                                Magnus Westerlund
INTERNET-DRAFT                                              Per Frojdh
Expires: August 2005                                          Ericsson
                                                     February 14, 2005

    SDP and RTSP extensions defined for 3GPP Packet-switched Streaming
                                  Service
              <draft-westerlund-mmusic-3gpp-sdp-rtsp-00.txt>


Status of this memo

   By submitting this Internet-Draft, each author represents that
   any applicable patent or other IPR claims of which he or she is
   aware have been or will be disclosed, and any of which he or she
   becomes aware will be disclosed, in accordance with Section 6 of
   RFC 3668.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six
   months and may be updated, replaced, or obsoleted by other documents
   at any time.  It is inappropriate to use Internet-Drafts as
   reference material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/1id-abstracts.txt

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html

   This document is a individual submission to the IETF MMUSIC WG.
   Comments should be directed to the MMUSIC WG mailing list,
   mmusic@ietf.org.


Abstract

   3GPP has defined a packet-switched streaming service that uses SDP
   and RTSP with some extensions. This document provides information
   about these extensions and registers the SDP extensions with IANA.








Sjoberg, et. al.                                              [Page 1]

INTERNET-DRAFT       RTP payload format for AMR-WB+      Feb 14, 2005



TABLE OF CONTENTS

1. Definitions.....................................................3
   1.1. Glossary...................................................3
2. Introduction....................................................3
3. SDP Extensions..................................................3
   3.1. Video Buffering attributes.................................3
   3.2. Video Frame Size attribute.................................4
   3.3. Integrity Protection Configuration Attributes..............4
   3.4. The alternative attributes.................................4
   3.5. Adaptation Attribute.......................................5
   3.6. Quality of Experience Attribute............................5
   3.7. Asset Information Attribute................................5
4. RTSP Extensions.................................................5
   4.1. 3GPP-Link-Char Header......................................5
   4.2. 3GPP-Adaptation Header.....................................6
   4.3. 3GPP-QoE-Metrics Header....................................6
   4.4. 3GPP-QoE-Feedback Header...................................6
   4.5. Video buffer Headers.......................................6
   4.6. Integrity Protection.......................................7
   4.7. RTSP URI extension.........................................7
5. IANA Considerations.............................................7
6. Informative References.........................................11
7. Authors' Addresses.............................................11
8. IPR Notice.....................................................12
9. Copyright Notice...............................................12



























Sjoberg, et. al.            Standards Track                  [Page 2]

INTERNET-DRAFT       RTP payload format for AMR-WB+      Feb 14, 2005


1. Definitions

1.1. Glossary

   3GPP    - Third Generation Partnership Project
   PSS     - Packet-switched Streaming Service
   QoE     - Quality of Experience
   QoS     - Quality of Service

2. Introduction

   3GPP has specified a packet-switched streaming service (PSS) that
   uses both RTSP and SDP. The service is specified in technical
   specifications 26.233 [2] and 26.234 [1] in Release 4 and later
   releases. The basic service defined in Release 4 is enhanced in
   Release 5 with capability exchange and in Release 6 with a number of
   features, such as adaptation, digital rights management, progressive
   download and a streaming server file-format.

   In the process of defining this service, there has occasionally been
   the need to extend both RTSP [3] and SDP [5] functionality. These
   extensions have mostly been in the form of SDP attributes and RTSP
   headers. The purpose of this informational document is to register
   the SDP extensions, in order to avoid future conflict, and also to
   raise the awareness of their existence within IETF.

   The document begins with two chapters presenting the different
   extensions of SDP and RTSP, respectively. The subsequent chapter
   contains the IANA registration of SDP attributes. The registration
   of the RTSP extensions will occur when the rules are established by
   the updated RTSP specification [3]. The normative description of all
   SDP and RTSP extensions is given by TS 26.234 [1].


3. SDP Extensions

   The PSS specification [1] defines a number of different SDP
   attributes for different purposes. They are informatively listed
   below grouped together by purpose.

3.1. Video Buffring attributs

   The following attributes are used to provide parameters for the
   video buffer model provided in Annex G and Section 5.3.3.2 of [1].
   The attributes were defined in Release 5 as "X-" attributes and were
   at the time not considered for registration. In hindsight, however,
   they should not have been "X-" attributes, and they should have been
   registered, as SDP's [5] registration rules points out. Changing
   their names today is impossible due to the deployed base of millions
   of mobile handsets supporting PSS, and therefore they are registered
   in their current form.



Sjoberg, et. al.            Standards Track                  [Page 3]

INTERNET-DRAFT       RTP payload format for AMR-WB+      Feb 14, 2005



   The attributes are all media level.

   - The "a=X-predecbufsize" attribute provides the size of the pre-
      decoder buffer.
   - The "a=X-initpredecbufperiod" attribute provides the time during
      which a receiver should initially buffer before starting to
      consume the data in the buffer in order to ensure that underflow
      does not occur, assuming correct data delivery.
   - The "a=X-initpostdecbufperiod" attribute provides the initial
      buffering period for the post-decoder buffer present in H.263 and
      MPEG-4 Visual.
   - The "a=X-decbyterate" attribute indicates the maximum peak byte-
      decoding rate used in the verification of the Annex G buffer
      model.
   - The "a=3gpp-videopostdecbufsize" attribute is used to indicate
      the size of the H.264 video post-decoder buffer.

3.2. Video Frame Size attribute

   This media-level attribute provides the receiver with the largest
   picture size a specific H.263 payload type will carry within the
   session. The attribute has the following form (see 5.3.3.2 of [1]):

   "a=framesize:<payload type number> <width>-<height>"

3.3. Integrity Protection Configuration Attributes

   These attributes are all used to configure the integrity-protection
   mechanism defined in Annex K.2 of [1].

   - The session-level attribute "a=3GPP-Integrity-Key" carries the
      integrity key used to derive SRTP master keys for integrity
      protection. They key is protected in different ways depending on
      a method identifier.
   - The media-level attribute "a=3GPP-SRTP-Config" is used to
      configure SRTP for integrity protection and contains an integrity
      nonce, a key salt used in deriving the SRTP master key from the
      integrity key, and any SRTP configuration parameters, such as the
      integrity tag length.
   - The session-level attribute "a=3GPP-SDP-Auth" is used to carry an
      authentication tag calculated over certain parts of the SDP to
      prevent manipulation of the security attributes.

3.4. The alternative attributes

   Two media and one session-level attributes are used in a mechanism
   for providing alternative SDP lines. One or more SDP lines at media
   level can be replaced, if desired, by alternatives. The mechanism is
   backwards compatible in the way that a receiver that does not
   support the attributes will get the default configuration. The



Sjoberg, et. al.            Standards Track                  [Page 4]

INTERNET-DRAFT       RTP payload format for AMR-WB+      Feb 14, 2005


   different alternatives can be grouped using different attributes
   that can be specified hierarchical with a top and a lower level.
   3GPP Release 6 supports grouping based on bit-rate, according to the
   SDP bandwidth modifiers AS and TIAS, and language.

   The SDP attributes (see 5.3.3.3 and 5.3.3.4 of [1]) are:
   - The media-level attribute "a=alt:<id>:<SDP-Line>" carries any SDP
      line and an alternative identifier.
   - The media-level attribute "a=alt-default-id:<id>" identifies the
      default configuration to be used in groupings.
   - The session-level attribute "a=alt-group" is used to group
      different recommended media alternatives together.

3.5. Adaptation Attribute

   The media-level SDP attribute "a=3GPP-Adaptation-Support" (see
   5.3.3.5 of [1]) is defined as part of the negotiation procedure for
   the use of the PSS adaptation mechanism. The adaptation mechanism
   provides the server with information to determine available
   transmission bit-rate and receiver buffer status.

3.6. Quality of Experience Attribute

   The session and media-level attribute "a=3GPP-QoE-Metrics:" (see
   5.3.3.6 of [1]) is used to negotiate the usage of the quality of
   experience metrics. The included parameters indicate which metrics
   and parameters that are desirable to use.

3.7. Asset Information Attribute

   The session and media-level attribute "a=3GPP-Asset-Information"
   (see 5.3.3.7 of [1]) can exist in multiple instances in a
   description and describes different types of asset information. The
   different asset classes that is defined in Release 6 are; Title,
   Description, Copyright, Performer, Author, Genre, Rating,
   Classification, Keywords, and Location. The different assets are
   described with a BASE64-encoded asset box from the 3GP file format
   [4].

4. RTSP Extensions

   The RTSP extensions for PSS consist of a number of new RTSP headers
   and a narrowing of URI usage in regards to 3GP files. The new
   headers are registered by the new RTSP specification [3] that also
   specifies the IANA rules for registering headers. The headers are
   informatively described here, see [1] for the normative declaration.

4.1. 3GPP-Link-Char Header

   The 3GPP-Link-Char header (see 5.3.2.1 of [1]) is used by clients to
   provide the server with QoS information about the wireless link it



Sjoberg, et. al.            Standards Track                  [Page 5]

INTERNET-DRAFT       RTP payload format for AMR-WB+      Feb 14, 2005


   is currently using. The header can be used to provide the server
   with three different QoS parameters:
   - Guaranteed Bandwidth
   - Maximum Bandwidth
   - Maximum Transfer Delay

   The header may be included in RTSP request using either of the
   methods SETUP, PLAY, OPTIONS and SET_PARAMETER.


4.2. 3GPP-Adaptation Header

   The 3GPP-Adaptation header (see 5.3.2.2 of [1]) is used by the
   client to provide the server with adaptation-related parameters and
   to indicate support of the adaptation function. The header carries
   the resource identification as a URI, the client's buffer size, and
   the desired target time.

   The header may be included in requests using the methods SETUP,
   PLAY, OPTIONS and SET_PARAMETER. The response to a request using
   this method shall include this header.


4.3. 3GPP-QoE-Metrics Header

   The 3GPP-QoE-Metrics header (see 5.3.2.3.1 of [1]) is used to
   negotiate the usage of the quality of experience (QoE) metrics (see
   Section 11 of [1]).

   The header may be included in requests and responses using the
   SETUP, SET_PARAMTER, OPTIONS or PLAY method.

4.4. 3GPP-QoE-Feedback Header

   The 3GPP-QoE-Feedback header (see 5.3.2.3.2 of [1]) is used to carry
   QoE metrics from the client to the server when it performs reports,
   which happens either during or at the end of the media delivery.

   The header may be included in requests using the SET_PARAMETER,
   PAUSE, or TEARDOWN method.

4.5. Video buffer Headers

   PSS uses several headers to provide the client with the different
   buffer parameters. They provide the buffer status at the point of a
   stream that a PLAY request plays from. These headers may only be
   used in PLAY responses. See Section 5.3.2.4 and Annex G of [1] for
   normative definitions.






Sjoberg, et. al.            Standards Track                  [Page 6]

INTERNET-DRAFT       RTP payload format for AMR-WB+      Feb 14, 2005


   The three "x-" headers were defined in 3GPP Release 5. When it was
   realized that they should not have been given "x-" names it was too
   late rename them due to deployment.

   The RTSP headers are:
   - x-predecbufsize
   - x-initpredecbufperiod
   - x-initpostdecbufperiod
   - 3gpp-videopostdecbufsize


4.6. Integrity Protection

   The integrity-protection mechanism defined in PSS Annex K uses the
   "3GPP-Freshness-Token" (See Annex K.2.2.4 of [1]) RTSP header to
   carry a freshness token in DESCRIBE requests.

4.7. RTSP URI extension

   The PSS specification also defines syntax for referencing tracks
   within the "3GP" file format [4]. The 3GP format is based on the ISO
   base media file format and defined in several different profiles,
   including a streaming-server profile, in Release 6.

   To identify a track within a 3GP file the last URI segment shall
   contain a structure that is <alpha string>=<track nr>.

5. IANA Considerations

   IANA is requested to register the SDP attributes listed below. The
   contact person for this registration is Magnus Westerlund
   (magnus.westerlund@ericsson.com) Phone number +46 8 719 0000.

   SDP Attribute ("att-field"):

   Attribute name:     X-predecbufsize
   Long form:          Pre-decoder buffer size
   Type of name:       att-field
   Type of attribute:  Media level only
   Subject to charset: No
   Purpose:            See Section 3.1
   Reference:          3GPP TS 26.234, Section 5.3.3.2
   Values:             See Reference

   Attribute name:     X-initpredecbufperiod
   Long form:          Pre-decoder initial buffering period
   Type of name:       att-field
   Type of attribute:  Media level only
   Subject to charset: No
   Purpose:            See Section 3.1
   Reference:          3GPP TS 26.234, Section 5.3.3.2



Sjoberg, et. al.            Standards Track                  [Page 7]

INTERNET-DRAFT       RTP payload format for AMR-WB+      Feb 14, 2005


   Values:             See Reference

   Attribute name:     X-initpostdecbufperiod
   Long form:          Post-decoder initial buffering period
   Type of name:       att-field
   Type of attribute:  Media level only
   Subject to charset: No
   Purpose:            See Section 3.1
   Reference:          3GPP TS 26.234, Section 5.3.3.2
   Values:             See Reference

   Attribute name:     X-decbyterate
   Long form:          Peak decoding rate in bytes per second
   Type of name:       att-field
   Type of attribute:  Media level only
   Subject to charset: No
   Purpose:            See Section 3.1
   Reference:          3GPP TS 26.234, Section 5.3.3.2
   Values:             See Reference

   Attribute name:     3gpp-videopostdecbufsize
   Long form:          Post decoder buffer size
   Type of name:       att-field
   Type of attribute:  Media level only
   Subject to charset: No
   Purpose:            See Section 3.1
   Reference:          3GPP TS 26.234, Section 5.3.3.2
   Values:             See Reference

   Attribute name:     framesize
   Long form:          Maximum Video Frame Size
   Type of name:       att-field
   Type of attribute:  Media level only
   Subject to charset: No
   Purpose:            See Section 3.2
   Reference:          3GPP TS 26.234, Section 5.3.3.2
   Values:             See Reference

   Attribute name:     3GPP-Integrity-Key
   Long form:          3GPP DRM Integrity Key
   Type of name:       att-field
   Type of attribute:  Session level only
   Subject to charset: No
   Purpose:            See Section 3.3
   Reference:          3GPP TS 26.234, Section 5.3.3.2
   Values:             See Reference

   Attribute name:     3GPP-SRTP-Config
   Long form:          3GPP DRM SRTP Configuration
   Type of name:       att-field
   Type of attribute:  Media level only



Sjoberg, et. al.            Standards Track                  [Page 8]

INTERNET-DRAFT       RTP payload format for AMR-WB+      Feb 14, 2005


   Subject to charset: No
   Purpose:            See Section 3.3
   Reference:          3GPP TS 26.234, Section 5.3.3.2
   Values:             See Reference

   Attribute name:     3GPP-SDP-Auth
   Long form:          3GPP DRM Integrity SDP Authentication
   Type of name:       att-field
   Type of attribute:  Session level only
   Subject to charset: No
   Purpose:            See Section 3.3
   Reference:          3GPP TS 26.234, Section 5.3.3.2
   Values:             See Reference

   Attribute name:     alt
   Long form:          Alternative SDP line
   Type of name:       att-field
   Type of attribute:  Media level only
   Subject to charset: No
   Purpose:            See Section 3.4
   Reference:          3GPP TS 26.234, Section 5.3.3.3
   Values:             See Reference

   Attribute name:     alt-default-id
   Long form:          Default alternative ID
   Type of name:       att-field
   Type of attribute:  Media level only
   Subject to charset: No
   Purpose:            See Section 3.4
   Reference:          3GPP TS 26.234, Section 5.3.3.3
   Values:             See Reference

   Attribute name:     alt-group
   Long form:          Grouping of SDP Line alternatives
   Type of name:       att-field
   Type of attribute:  Session level only
   Subject to charset: No
   Purpose:            See Section 3.4
   Reference:          3GPP TS 26.234, Section 5.3.3.4
   Values:             See Reference

   Attribute name:     3GPP-Adaptation-Support
   Long form:          3GPP Adaptation Support
   Type of name:       att-field
   Type of attribute:  Media level only
   Subject to charset: No
   Purpose:            See Section 3.5
   Reference:          3GPP TS 26.234, Section 5.3.3.5
   Values:             See Reference

   Attribute name:     3GPP-QoE-Metrics



Sjoberg, et. al.            Standards Track                  [Page 9]

INTERNET-DRAFT       RTP payload format for AMR-WB+      Feb 14, 2005


   Long form:          3GPP Quality of Experience Metrics
   Type of name:       att-field
   Type of attribute:  Session and Media level
   Subject to charset: No
   Purpose:            See Section 3.6
   Reference:          3GPP TS 26.234, Section 5.3.3.6
   Values:             See Reference

   Attribute name:     3GPP-Asset-Information
   Long form:          3GPP Asset Information
   Type of name:       att-field
   Type of attribute:  Session and Media level
   Subject to charset: No
   Purpose:            See Section 3.7
   Reference:          3GPP TS 26.234, Section 5.3.3.7
   Values:             See Reference






































Sjoberg, et. al.            Standards Track                 [Page 10]

INTERNET-DRAFT       RTP payload format for AMR-WB+      Feb 14, 2005


6. Informative References


   [1]  3GPP TS 26.234, "Transparent end-to-end Packet-switched
        Streaming Service (PSS); Protocols and codecs", version 6.2.0
        (2004-12), 3rd Generation Partnership Project (3GPP).
   [2]  3GPP TS 26.233, "Packet Switched Streaming service", version
        6.0.0 (2004-09), 3rd Generation Partnership Project (3GPP).
   [3]  H. Schulzrinne, A. Rao, R. Lanphier, M. Westerlund, A.
        Narasimhan , "Real Time Streaming Protocol (RTSP)", draft-ietf-
        mmusic-rfc2326bis-09.txt, work in progress
   [4]  3GPP TS 26.244, "Transparent end-to-end packet switched
        streaming service (PSS); 3GPP file format (3GP)", version 6.2.0
        (2004-12), 3rd Generation Partnership Project (3GPP).
   [5]  M. Handley, V. Jacobson, C Perkins, "SDP: Session Description
        Protocol," draft-ietf-mmusic-sdp-new-23.txt, Dec 10 2004, work
        in progress.

   Any 3GPP document can be downloaded from the 3GPP webserver,
   "http://www.3gpp.org/", see specifications.


7. Authors' Addresses

   Magnus Westerlund
   Ericsson Research
   Ericsson AB
   SE-164 80 Stockholm
   SWEDEN

   Phone:   +46 8 7190000
   EMail: Magnus.Westerlund@ericsson.com


   Per Frojdh
   Ericsson Research
   Ericsson AB
   SE-164 80 Stockholm
   SWEDEN

   Phone:   +46 8 7190000
   EMail: Per.Frojdh@ericsson.com












Sjoberg, et. al.            Standards Track                 [Page 11]

INTERNET-DRAFT       RTP payload format for AMR-WB+      Feb 14, 2005


8. IPR Notice

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed
   to pertain to the implementation or use of the technology described
   in this document or the extent to which any license under such
   rights might or might not be available; nor does it represent that
   it has made any independent effort to identify any such rights.
   Information on the procedures with respect to rights in RFC
   documents can be found in BCP 78 and BCP 79.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use
   of such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository
   at http://www.ietf.org/ipr.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at ietf-
   ipr@ietf.org.


9. Copyright Notice

   Copyright (C) The Internet Society (2005).  This document is subject
   to the rights, licenses and restrictions contained in BCP 78, and
   except as set forth therein, the authors retain all their rights.

   This document and the information contained herein are provided on
   an "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE
   REPRESENTS OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE
   INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR
   IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF
   THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

   This Internet-Draft expires in August 2005.


RFC Editor Considerations

   None









Sjoberg, et. al.            Standards Track                 [Page 12]


