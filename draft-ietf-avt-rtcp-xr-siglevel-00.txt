AVT Working Group                                       Alan Clark   
Internet Draft                                            Telchemy   
                                                        Geoff Hunt
                                                                BT


Intended status: Standards Track                  October 26, 2008 
Expires: April 28, 2008
                                      
      RTCP XR Report Block for Signal Level Metrics Reporting
                    draft-ietf-avt-rtcp-xr-siglevel-00 


Status of this Memo 

   By submitting this Internet-Draft, each author represents that
   any applicable patent or other IPR claims of which he or she is
   aware have been or will be disclosed, and any of which he or she
   becomes aware will be disclosed, in accordance with Section 6 of
   BCP 79. 

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts. 

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html

   This Internet-Draft will expire on April 28, 2009.

Copyright Notice 

   Copyright (C) The IETF Trust (2008). 

Abstract 

   This document defines an RTCP XR Report Block that allows the
   reporting of metrics related to signal levels for use in voice,
   audio and video services.


Terminology 
   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL       
   NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED",  "MAY", and      
   "OPTIONAL" in this document are to be interpreted as described in
   RFC 2119 [1]. 

Clark & Hunt                                                   [Page  1]

RTCP XR Signal Level Metrics                                October 2008


1. Introduction 

1.1. Signal Level Report Block

   This draft defines a new block types to augment those defined
   in RFC3611 for use in reporting the level of signal/ decoded
   payload related metrics.  Signal level metrics include, for
   example, signal level, background noise level and echo level.

   These metrics are useful when determing, for example:

   (a) if there is a problem with the input to an encoder being
   set to an excessively high or low level
   
   (b) if the input to the encoder is faulty (e.g. disconnected)

   (c) if the source signal is excessively noisy

   (d) if there is a significant level of echo that would be
   disruptive during an IP telephone call or audio conference


1.2. RTCP and RTCP XR Reports

   The use of RTCP for reporting is defined in RFC3550 [2]. 
   RFC3611 [3] defined an extensible structure for reporting using
   an RTCP Extended Report (XR).  This draft defines
   a new Extended Report block that MUST be used as defined in
   RFC3550 and RFC3611.

1.3 Performance Metrics Framework

   The Performance Metrics Framework [n] provides guidance on the
   definition and specification of performance metrics.  Metrics
   described in this draft either reference external definitions
   or define metrics generally in accordance with the guidelines
   in [4].

1.4 Applicability
 
   This memo applies to any application of RTP in which there is
   an audio or speech component.

2. Definitions

2.1 Signal Level

   The "signal" is defined as the active "talkspurts" within
   an interactive voice stream or the whole of a unidirectional
   audio or video stream. "Noise" is the additive background
   noise level, which can be measured either during silence
   periods between periods of audio/ voice activity or

Clark & Hunt                                                   [Page  2]

RTCP XR Signal Level Metrics                                October 2008

   otherwise extracted from the signal.

2.1 Mean Signal Level

   Mean Signal Level is defined as the mean power level of the
   signal, expressed in dBm.  In telephony applications the 
   power level is typically expressed with reference to a zero
   reference point in dBm0.

2.2 Peak Signal Level

   Peak signal Level is defined as the peak power level of the
   signal, expressed in dBm.

2.3 Noise Level

   Noise Level is defined as the power level of the additive or
   silent period noise expressed in dBm. In telephony applications
   the noise level is typically expressed with reference to a zero
   reference point in dBm0.

2.4 Echo Level

2.5 Channel

   Certain types of encoder (for example stereo audio codecs) 
   incorporate multiple audio or video channels into a single encoded
   stream which is then packetized and carried in RTP or MPEG
   Transport. Within the scope of this memo, the term "channel" 
   applies to this definition only - if multiple audio or video
   streams are carried either in separate RTP sessions (identified
   by an SSRC) or MPEG Transport program streams (identified by a
   PID) then the Measurement Identifier block MUST be used to 
   identify the stream to which metrics apply.


3. Signal Level Metrics Block

3.1 Report Block Structure
   
    0               1               2               3
    0 1 2 3 4 5 6 7 0 1 2 3 4 5 6 7 0 1 2 3 4 5 6 7 0 1 2 3 4 5 6 7 
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     BT=N      |C|T|T|T|       |         block length          |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |s s s s|c c c c c c|m m|d d|b b|             Level             |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   ............
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |s s s s|c c c c c c|m m|d d|b b|             Level             |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   ssss = Reported signal level metric type

Clark & Hunt                                                   [Page  3]

RTCP XR Signal Level Metrics                                October 2008

          0000 - active signal level
          0001 - overall signal level
          0010 - noise level
          0011 - echo return loss
          0100 - residual echo return loss (ACOM)
          0101 - Y signal level
          0110 - Cb signal level
          0111 - Cr signal level
               - other values reserved

   cccccc = channel number
          000000 - 011111 Channel number range
          100000 - 111111 reserved

   mm = measured or default value
        00 - sampled value
        01 - average value
        10 - default or configured value
        11 - reserved

   dd = direction
        00 - Received signal (this RTP session)
        01 - Received signal (external)
        10 - Transmitted signal (this RTP session)
        11 - Transmitted signal (external)

   bb = metric scaling
        00 - dBm0
        01 - dBm
        10 - dBov
        11 - reserved



3.2 Definition of Fields in Signal Level Metric Report Block

   block type (BT): 8 bits

      A Signal Level Report Block is identified by the constant
      SLMT.

   [Note to RFC Editor: please replace SLMT with the IANA provided RTCP
   XR block type for this block.]

   Interval Metric flag (I): 1 bit

      This field is used to indicate whether the Basic Loss/Discard
      metrics are Interval or Cumulative metrics, that is, whether the
      reported values applies to the most recent measurement interval
      duration between successive metrics reports (I=1) (the Interval
      Duration) or to the accumulation period characteristic of
      cumulative measurements (I=0) (the Cumulative Duration).
      Numerical values for both these intervals are provided in the

Clark & Hunt                                                   [Page  4]

RTCP XR Signal Level Metrics                                October 2008

      Measurement Identifier block referenced by the tag field below.

   Measurement Identifier association (tag): 3 bits

      This field is used to identify the Measurement Identifier block
      which describes this measurement.  The relevant Measurement
      Identifier block has the same tag value as the Basic Loss/Discard
      block.  Note that there may be more than one Measurement
      Identifier block per RTCP packet.

   Block length: 16 bits

      The length if this report block in 32-bit words minus one.

   Signal level metrics words

      A Signal Level Metrics report block may contain one or more 
      sets of signal level metrics, each contained in a single
      32 bit word.

   Reported signal level metric type

      The signal level metric type may have the following values:

          0000 - active signal level
          This indicates that the reported metric is the signal
          level during active periods, for example talkspurts
          during speech

          0001 - overall signal level
          This indicates that the reported metric is the signal
          level measured for the reporting interval, with no
          distinction made between active signal and silent
          periods.  This would be more appropriate for an
          audio or video signal.
          
          0010 - noise level
          This indicates that the reported metric is the noise
          level, which could for example be measured during
          periods of low signal activity.

          0011 - echo return loss
          This indicates that the reported metric is the 
          uncanceled echo return loss.

          0100 - residual echo return loss (ACOM)
          This indicates that the reported metric is the 
          echo return loss measured after echo cancellation.

          0101 - Y signal level
          This indicates that the reported metric is the level
          of the Y or Luminance component of a video signal.
 

Clark & Hunt                                                   [Page  5]

RTCP XR Signal Level Metrics                                October 2008

          0110 - Cb signal level
          This indicates that the reported metric is the level
          of the Cb chrominance component of a video signal.
 
          0111 - Cr signal level
          This indicates that the reported metric is the level
          of the Cr chrominance component of a video signal.
 

   Channel number

          The number associated with a channel within the audio,
          speech or video signal.  For example, this could be
          used to indicate one of the two channels of a stereo
          audio signal.

   Measured or default value

      This field indicates that the reported value is either an
      sampled value, an average over the measurement interval or
      a default or configured value.

   Direction

      The Direction field indicates whether the metric refers to
      the received or transmitted signal, and whether the value
      has been measured for "this" RTP session (i.e. the session
      to which the RTCP reports relate) or are "external" to the
      RTP session.

   Metric scaling

      The Metric Scaling field indicates the scaling or reference
      used for the metric.

        00 - dBm0 - dB with reference to a milliwatt at
                    the zero reference point.
        01 - dBm -  dB with reference to a milliwatt.
        10 - dBov - dB with reference to the overflow or maximum
                    level that can be represented within a 
                    digital system.
        11 - reserved

   Level
      
     The value of the metric in signed 8:8 scaled signed integer 
     representation.  This permits a range of +/- 127.996 dB to
     be reported. Measurement methodologies are defined in
     references [5][6][7][8].

4. SDP Signaling

   RFC3611 [3] defines the use of SDP (Session Description Protocol) 

Clark & Hunt                                                   [Page  6]

RTCP XR Signal Level Metrics                                October 2008

   [4] for signaling the use of XR blocks.  XR blocks MAY be used
   without prior signaling.
 
   This section augments the SDP [4] attribute "rtcp-xr" defined in 
   RFC3611[3] by providing a "xr-format" to signal the use of the
   report block defined in this document. 

     rtcp-xr-attrib = "a=" "rtcp-xr" ":" [xr-format *(SP xr-format)]
        CRLF (defined in RFC3611)

     xr-format = xr-format / 
                siglev-metrics

     siglev-metrics   = "siglev-metrics" [EQUAL word]
     DIGIT          = %x30-39
     format-ext     = non-ws-string
     non-ws-string  = 1*(%x21-FF)
     CRLF           = %d13.10


5. IANA Considerations  

   This document creates a new block type within the IANA "RTCP XR Block
   Type Registry" called the QoE Metrics, and a new [new-xrblock] 
   parameter within the "RTCP XR SDP Parameters Registry".
 

6. Security Considerations 

   RTCP reports can contain sensitive information since they can provide
   information about the nature and duration of a session established   
   between two or more endpoints. 

7. Contributors 


8. References
  
   Normative

   [1] Bradner, S., "Key words for use in RFCs to Indicate
   Requirement Levels", BCP 14, RFC 2119, March 1997.

   [2]  Schulzrinne, H., Casner, S., Frederick, R. and V. Jacobson,
   "RTP: A Transport Protocol for Real-Time Applications", STD 64,
   RFC 3550, July 2003.

   [3] Friedman, T., Caceres, R., and A. Clark, "RTP Control Protocol
   Extended Reports (RTCP XR)", RFC 3611, November 2003. 

   [4] Handley, M. and V. Jacobson, "SDP: Session Description
   Protocol", RFC 4566, July 2006.


Clark & Hunt                                                   [Page  7]

RTCP XR Signal Level Metrics                                October 2008

   [5] ITU-T Recommendation G.168 "Digital Network Echo Cancellers"

   [6] ITU-T Recommendation P.56 "Objective Measurement of Active
   Speech Level"

   [7] ITU-T Recommendation P.561 "In-Service, Non-Intrusive Measurement
   Device - Voice Service Measurements"

   [8] ITU-R BS.2054 "Audio levels and loudness"

    Informative

   [9] Clark, A. "Framework for Performance Metric Development 
   draft-ietf-pmol-perf-metrics-framework-00.txt

Author's Addresses 

   Alan Clark
   Telchemy Incorporated
   2905 Premiere Parkway, Suite 280
   Duluth, GA  30097
   USA

   Email: alan.d.clark@telchemy.com

   Geoff Hunt
   BT
   Orion 1 PP9
   Adastral Park
   Martlesham Heath
   Ipswich, Suffolk  IP4 2TH
   United Kingdom

   Email: geoff.hunt@bt.com









Intellectual Property Statement

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in BCP 78 and BCP 79.

Clark & Hunt                                                   [Page  8]

RTCP XR Signal Level Metrics                                October 2008


   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   http://www.ietf.org/ipr.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary 
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.

Disclaimer of Validity

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST AND
   THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS
   OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF
   THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

Copyright Statement 

   Copyright (C) The IETF Trust (2008). 

   This document is subject to the rights, licenses and restrictions
   contained in BCP 78, and except as set forth therein, the authors
   retain all their rights. 

Acknowledgment 

   Funding for the RFC Editor function is currently provided by the
   Internet Society. 

















Clark & Hunt                                                 [Page  9]
