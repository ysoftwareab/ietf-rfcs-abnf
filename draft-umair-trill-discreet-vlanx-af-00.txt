 



INTERNET-DRAFT                                            Mohammed Umair
Intended Status: Proposed Standard                      IP Infusion Inc.
Expires: March 24, 2015                               September 20, 2014


                          discreet VLAN-X AF  
                 draft-umair-trill-discreet-vlanx-af-00


Abstract

   According to RFC 7176, DRB on a link uses the Appointed Forwarders
   sub-TLV to inform other ISs on the link that they are the designated
   VLAN-x forwarder for one or more ranges of VLAN IDs. Appointed
   Forwarders sub-tlv has Appointed Information field which carries
   information about Appointee Nickname, Start.VLAN and End.VLAN. Both
   Start.VLAN and VLAN.end to the same value indicates a range of one
   VLAN ID, if they are different then the Appointed RBridge is AF for
   that range of VLAN ID's. If end-station's VLAN's are configured in
   discontiguous/discreet [1,3,5,7 etc] way then DRB has to send
   Appointed Information equal to number of Discreet VLAN's Appointed
   for a particular RBridge. The problem will worsen if huge number of
   endstation VLAN's are discreet. This paper is an attempt to handle
   such scenarios.


Status of this Memo

   This Internet-Draft is submitted to IETF in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as
   Internet-Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/1id-abstracts.html

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html


 


Mohammed Umair           Expires March 24, 2015                 [Page 1]

INTERNET DRAFT             discreet VLAN-X AF         September 20, 2014


Copyright and License Notice

   Copyright (c) 2014 IETF Trust and the persons identified as the
   document authors. All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document. Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document. Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.



Table of Contents

   1  Introduction  . . . . . . . . . . . . . . . . . . . . . . . . .  3
     1.1  Terminology . . . . . . . . . . . . . . . . . . . . . . . .  3
   2.  Appointed Forwarders Sub-TLV . . . . . . . . . . . . . . . . .  3
   3.  Backward compatibility . . . . . . . . . . . . . . . . . . . .  5
   4.  Security Considerations  . . . . . . . . . . . . . . . . . . .  6
   5.  IANA Considerations  . . . . . . . . . . . . . . . . . . . . .  6
   6.  References . . . . . . . . . . . . . . . . . . . . . . . . . .  6
     6.1.  Normative References . . . . . . . . . . . . . . . . . . .  6
     6.2.  Informative References . . . . . . . . . . . . . . . . . .  6
   Authors' Addresses . . . . . . . . . . . . . . . . . . . . . . . .  6



















 


Mohammed Umair           Expires March 24, 2015                 [Page 2]

INTERNET DRAFT             discreet VLAN-X AF         September 20, 2014


1  Introduction

   TRILL supports multi-access LAN (Local Area Network) links that can
   have multiple end stations and RBridges attached.  Where multiple
   RBridges are attached to a link, native traffic to and from end
   stations on that link is handled by a subset of those RBridges called
   "Appointed Forwarders", with the intent that native traffic in each
   VLAN be handled by at most one RBridge.  An RBridge can be Appointed
   Forwarder for many VLANs.

   The purpose of this document is to improve the operation of Appointed
   Forwarder mechanism, when the end-station VALN's are discreet.

1.1  Terminology

   IIH - IS-IS Hello

   IS - Intermediate System (for this document, all relevant
   intermediate systems are RBridges)


   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].


2.  Appointed Forwarders Sub-TLV

   The DRB on a link uses the Appointed Forwarders sub-TLV to inform
   other ISs on the link that they are the designated VLAN-x forwarder
   for one or more ranges of VLAN IDs as specified in Section 4.2.4 of
   [RFC6325].  It has the following format:


         +-+-+-+-+-+-+-+-+
         |     Type      |                          (1 byte)
         +-+-+-+-+-+-+-+-+
         |   Length      |                          (1 byte)
         +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
         |   Appointment Information (1)         |  (6 bytes)
         +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
         |   .................                   |
         +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
         |   Appointment Information (N)         |  (6 bytes)
         +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+



 


Mohammed Umair           Expires March 24, 2015                 [Page 3]

INTERNET DRAFT             discreet VLAN-X AF         September 20, 2014


           where each appointment is of the form:

         +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
         |       Appointee Nickname              |  (2 bytes)
         +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
         |DAF|    DAI    |        Start.VLAN     |  (2 bytes)
         +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
         | RESV          |        End.VLAN       |  (2 bytes)
         +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+



   o  Type: sub-TLV type, set to MT-PORT-CAP AppointedFwrdrs sub-TLV 3.

   o  Length: 6*n bytes, where there are n appointments.

   o  Appointee Nickname: The nickname of the IS being appointed a
   forwarder.


   o  Start.VLAN, End.VLAN: These fields are the VLAN IDs of the  
   appointment range, inclusive.  To specify a single VLAN, the   VLAN's
   ID appears as both the start and end VLAN.  As specified in   Section
   4.4 of [RFC6325], appointing an IS forwarder on a port for   a VLAN
   not enabled on that port has no effect.

   o  DAF: This flag bits have the following meanings when set to one


              Bit       Meaning if bit is one
            ----------------------------------------------------------

              DAF       Is one bit feild, if its set to one means 
                        Discreet VLAN-X AF distribution is supported. 


   DAI: Discreet Appointed Information is a 3 bit field.Value Zero
   indicates VLAN's in range are continuous. Value other the Zero
   indicates, VLAN's in range are discreet. The Difference between the
   VLAN's in range is equal to the value of the field.

   Example:  If endstation VLAN's are 1,3,5,7,9,11,13,15,17,19. and two
   edge RBridges have to share AF's between them. DRB can take VLAN
   share of 1,3,5,7 and 9. and can assign VLAN's 11,13,15,17 and 19 as
   AF to the other edge RBridge by setting DAI to 1, start VLAN to 11
   and end VLAN to 19. 

   similarly if endstation VLAN's are 1,4,7,10,13,16,19,22,25,28. DRB
 


Mohammed Umair           Expires March 24, 2015                 [Page 4]

INTERNET DRAFT             discreet VLAN-X AF         September 20, 2014


   can take VLAN share of 1,4,7,10 and 13. and can assign VLAN's
   16,19,22,25 and 28 as AF to the other edge RBridge by setting DAI to
   2, start VLAN to 16 and end VLAN to 28.  




   o  RESV: 4 bits that MUST be sent as zero and ignored on receipt.

      An IS's nickname may occur as appointed forwarder for multiple
   VLAN   ranges by occurrences of this sub-TLV within the same or
   different MT   Port Capability TLVs within an IIH PDU.


3.  Backward compatibility

   The above changes should be backward compatible.































 


Mohammed Umair           Expires March 24, 2015                 [Page 5]

INTERNET DRAFT             discreet VLAN-X AF         September 20, 2014


4.  Security Considerations

   This Memo does not change the security considerations of TRILL base
   protocol.


5.  IANA Considerations

   No such consideration.


6.  References

   Normative and Informative References are given below.


6.1.  Normative References


      [RFC6325]  Perlman, R., Eastlake 3rd, D., Dutt, D., Gai, S., and
      A. Ghanwani, "Routing Bridges (RBridges): Base Protocol
      Specification", RFC 6325, July 2011.

      [RFC 7176] -  D. Eastlake 3rd, T.Senevirathne, A. Ghanwani, D.
      Dutt and A. Banerjee "Transparent Interconnection of Lots of Links
      (TRILL) Use of IS-IS", RFC 7176, May 2014



6.2.  Informative References


      No references



Authors' Addresses


    Mohammed Umair
    IP Infusion Software India Pvt. Ltd.
    Bangalore - 560 048, Karnataka, India

    EMail: mohammed.umair2@gmail.com







Mohammed Umair           Expires March 24, 2015                 [Page 6]
