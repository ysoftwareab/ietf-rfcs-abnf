


Network Working Group                                             Y. Luo
Internet-Draft                                                     L. Ou
Intended status: Informational                    China Telcom Co., Ltd.
Expires: September 6, 2018                                      X. Huang
                                                                 Tencent
                                                               S. Zhuang
                                                                   Z. Li
                                                                  Huawei
                                                           March 5, 2018


                Traffic Steering Based on BGP Controller
               draft-luo-grow-bgp-controller-based-ts-00

Abstract

   Due to the dramatically increased network traffic and the desire of
   differentiated services, it is essential for operators to provide the
   traffic steering service under limited network resources and maximize
   their benefits at the same time.  The traditional method for traffic
   steering depends on static configuration which is time consuming and
   error-prone.  As development of SDN, the controller is introduced for
   traffic steering with the global view of network topology and route
   information.  This document describes typical use cases for traffic
   steering services and proposes the traffic steering solution based on
   BGP controller.

Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."




Luo, et al.             Expires September 6, 2018               [Page 1]

Internet-Draft  Traffic Steering Based on BGP Controller      March 2018


   This Internet-Draft will expire on September 6, 2018.

Copyright Notice

   Copyright (c) 2018 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   3
   3.  Architecture  . . . . . . . . . . . . . . . . . . . . . . . .   3
     3.1.  Network Topology Collection . . . . . . . . . . . . . . .   4
     3.2.  Route Information Collection  . . . . . . . . . . . . . .   4
     3.3.  Route Control . . . . . . . . . . . . . . . . . . . . . .   4
   4.  Use Cases . . . . . . . . . . . . . . . . . . . . . . . . . .   5
     4.1.  Business-oriented Steering  . . . . . . . . . . . . . . .   5
       4.1.1.  An Example of Preferential Users  . . . . . . . . . .   5
       4.1.2.  An Example of Preferential Services . . . . . . . . .   6
     4.2.  Traffic Congestion Mitigation . . . . . . . . . . . . . .   6
       4.2.1.  An Example of Congestion Mitigation in Core . . . . .   7
       4.2.2.  An Example of Congestion Mitigation among ISPs  . . .   7
       4.2.3.  An Example of Congestion Mitigation at International
               Edge  . . . . . . . . . . . . . . . . . . . . . . . .   8
   5.  Contributors  . . . . . . . . . . . . . . . . . . . . . . . .   9
   6.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   9
   7.  Security Considerations . . . . . . . . . . . . . . . . . . .   9
   8.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   9
   9.  References  . . . . . . . . . . . . . . . . . . . . . . . . .  10
     9.1.  Normative References  . . . . . . . . . . . . . . . . . .  10
     9.2.  Informative References  . . . . . . . . . . . . . . . . .  10
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  10

1.  Introduction

   Transporting data to their users through the network is a fundamental
   service that can benefit both providers and consumers.  Since data/
   information transport is playing a key role nowadays, operators have



Luo, et al.             Expires September 6, 2018               [Page 2]

Internet-Draft  Traffic Steering Based on BGP Controller      March 2018


   to face this increasing challenge through satisfying services with
   differentiated criterias, such as latency, throughput, reliability
   and even user-defined constraints.  Moreover, the internet traffic
   changes rapidly and is hard to be predicted, so there is chance that
   the network will be congested.  However, the network capacity
   expansion takes time and could not meet the differentiated service
   requirement or solve the congestion problem in time.  As a result it
   is nessesary to introduce traffic steering techniques into the
   network.  The traditional method for traffic steering depends on
   static configuration which is time consuming and error-prone.  As
   development of SDN, the controller is introduced for traffic steering
   with the global view of network topology and route information.  This
   document describes typical use cases for traffic steering services
   and proposes the traffic steering solution based on BGP controller.

2.  Terminology

   o  QoS: Quality of Service

   o  ISP: Internet Service Provider

   o  MAN: Metropolitan Area Network

   o  OTT: Over the Top

   o  OTTSP: Over the Top Service Provider, or Content Operator

   o  AR: Access Router

3.  Architecture

   The following figure shows the solution of traffic steering through
   BGP controller.


















Luo, et al.             Expires September 6, 2018               [Page 3]

Internet-Draft  Traffic Steering Based on BGP Controller      March 2018


                  +-------------------+
                  |                   |
                  |       BGP         |
       |----------|     Controller    |--------|
       |          |                   |        |
       |          +-------------------+        |
       |            ^      |       ^           |
   Route Control   /       |        \     Route Control
       |          /        |         \         |
       |    Topo/Route     |     Topo/Route    |
       | Info Collection   |   Info Collection |
       |       /           |            \      |
      \|/     /            |             \    \|/
    +--------+         +--------+         +--------+
    | CLIENT |         | CLIENT |         | CLIENT |
    |        | ......  |        | ......  |        |
    |  (PE)  |         |  (P)   |         |  (PE)  |
    |        |         |        |         |        |
    +--------+         +--------+         +--------+

    Figure 6 Traffic Steering through BGP Controller

3.1.  Network Topology Collection

   In order for traffic steering the BGP Controller must get the
   topology of the whole network.  [RFC7752] can be used to collect the
   topology information of the network domain and
   [I-D.ietf-idr-bgpls-segment-routing-epe] can be used to collect the
   inter-domain topology information.

3.2.  Route Information Collection

   In order to steering traffic in and/or out the network, the BGP
   controller must learn the existing BGP route information in the
   network.  There are several ways to learn the BGP route information
   from the network:

   1.  The BGP controller can work as the route reflector so that it can
   directly learn the BGP route from the client.

   2.  The BGP controller can also learn the BGP route through BGP
   Mornitoring Protocol [RFC7854].

3.3.  Route Control

   Based on the servie requirement BGP controller can calculate the
   traffice steering policy for the specific BGP route.  The traffice
   steering policy should be advertised from the BGP controller along



Luo, et al.             Expires September 6, 2018               [Page 4]

Internet-Draft  Traffic Steering Based on BGP Controller      March 2018


   with the route information to the clients in the network to take
   effect.  BGP, PCE and Netconf can be used for the advertisement.

4.  Use Cases

4.1.  Business-oriented Steering

   It is a reasonable commercial way to provide multiple paths to the
   same destination with differentiated experiences to preferential
   users/services.  This is an efficient approach to maximize providers'
   network resources as well as their profit and offer more choices to
   network users.

4.1.1.  An Example of Preferential Users

                 +----------+
                 | HongKong |
               --+----------+--
            ---       |        ---
         ---          |           ---
       --             |              --
   +----------+       |         +----------+
   |Singapore |       |         |    LA    |
   +----------+       |         +----------+
       --             |Path1         --
         ---          |           ---
    Path2   ---       |        ---  Path3
               --+----------+--
                 |  Sydney  |
                 +----------+
                      |
                      |
          +-----------+-----------+
          |           |           |
      +-------+   +-------+   +-------+
      |Silver |   |Gold   |   |Bronze |
      |Users  |   |Users  |   |Users  |
      +-------+   +-------+   +-------+
   Figure 1 Differentiated Path Selection for Different User

   In the above ISP network, there are three kinds of users in Sydney,
   saying Gold, Silver and Bronze, and they wish to visit website
   located in HongKong.  The ISP provides three different paths with
   different experiences according to users' priority.  The Gold Users
   may use Path1 with less latency and loss.  The Silver Users may use
   the Path2 through Singapore with less latency but maybe some
   congestion there.  The Bronze Users may use Path3 through LA with
   some latency and loss.



Luo, et al.             Expires September 6, 2018               [Page 5]

Internet-Draft  Traffic Steering Based on BGP Controller      March 2018


4.1.2.  An Example of Preferential Services

               *           *
        City A *  City B   * City C
               *           *
               *  +-----+  *
               *  |Users|  *
               *  +-----+  *
               *     |     *
         +-----------+-----------+
         |     *     |     *     |
      +-----+  *  +-----+  *  +-----+
      | R11 |-----| R12 |-----| R13 |
      +-----+  *  +-----+  *  +-----+  ISP
         |     *     |     *     |
    *****|***********|***********|*********
         |     *     |     *     |
         |     *     |     *     |     OTT
      +-----+  *  +-----+  *  +-----+
      | R21 |-----| R22 |-----| R23 |
      +-----+  *  +-----+  *  +-----+
         |     *     |     *     |
         +-----------+-----------+
               *     |     *
               *  +-----+  *     +-------+
               *  | AR  |--------|Content|
               *  +-----+  *     |Server |
                                 +-------+
   Figure 2 Differentiated Path Selection for Different Services

   As depicted above, the OTTSP has 3 exits with one ISP, which are
   located in City A, City B and City C.  The content is obtained from
   Content Server and send to the exits through AR. an OTTSP may make
   its steering strategy based on different services.  For example, the
   OTTSP in the graph above may choose exit R21 for video service and
   exit R22 for web service, which REQUIREs a mechanism/system exists to
   identify different services from traffic flow.

4.2.  Traffic Congestion Mitigation

   It is a persistent goal for providers to increase the utilization
   ratio of their current network resources, and to mitigate the traffic
   congestion.  Traffic congestion is possible to happen anywhere in the
   ISP network(MAN, IDC, core and the links between them), because
   internet traffic is hard to predict.  For example, there might be
   some local online events that the network operators didn't know
   beforehead, or some sudden attack just happened.  Even for the big
   events that can be predicted, such as annual online discount of



Luo, et al.             Expires September 6, 2018               [Page 6]

Internet-Draft  Traffic Steering Based on BGP Controller      March 2018


   e-commerce company, or IOS update of Apple Inc, we could not
   guarantee there is no congestion.  Since the network capacity
   expansion is usually an annual operation, there could be delay on any
   links of the engineering.  As a result, the temporary traffic
   steering is always needed.  The same thing happens to the OTT
   networks as well.

   It should be noted that, the traffic steering is absolutely not a
   global behavior.  It just acts on part of the network, and it's
   temporary.

4.2.1.  An Example of Congestion Mitigation in Core

                               Core

                            +----------+
                            | Core A   |
   +------+               --+----------+--                +------+
   |MAN C1|-+          ---                ---           +-|MAN D1|
   +------+ |       ---                      ---        | +------+
            |     --                            --      |
            | +----------+                 +----------+ |
            +-| Core C   |                 |  Core D  |-+
            | +----------+                 +----------+ |
            |     --                            --      |
   +------+ |       ---                      ---        | +------+
   |MAN C2|-+          ---                ---           +-|MAN D2|
   +------+               --+----------+--                +------+
                            | Core B   |
                            +----------+

   Figure 3 An Example of Congestion Mitigation in Core

   As depicted above, traffic from MAN C1 to MAN D2 follows the path
   Core C->Core B->Core D as the primary path, but somehow the load
   ratio becomes too much.  It is reasonable to transfer some traffic
   load to less utilized path Core C->Core A->Core D when the primary
   path has congestion.

4.2.2.  An Example of Congestion Mitigation among ISPs











Luo, et al.             Expires September 6, 2018               [Page 7]

Internet-Draft  Traffic Steering Based on BGP Controller      March 2018


                 *            *
         City A  *   City B   *  City C
                 *            *
       +-------+ *  +-------+ * +-------+
       |IXP A1 |----|IXP  B1|---|IXP C1 |
       +-------+ *  +-------+ * +-------+  ISP 1
          |      *      |     *   |  |
   *******|*************|*********|**|**********
          |  +----------|---------+  |
          |  |   *      |     *      |     ISP 2
          |  |   *      |     *      |
        +------+ *  +------+  * +------+
        |IXP A2|----|IXP B2|----|IXP C2|
        +------+ *  +------+  * +------+
          |      *      |     *      |
          |      *      |     *      |
       +-------+ *  +-------+ * +-------+
       |Core A |----|Core B |---|Core C |
       +-------+ *  +-------+ * +-------+

   Figure 4 An Example of Congestion Mitigation among ISPs

   As depicted above, ISP1 and ISP2 are interconnect by 3 exits which
   are located in 3 cities respectively.  The links between ISP1 and
   ISP2 in the same city are called local links, and the rest are long
   distance links.  Traffic from IXP C1 to Core A in ISP 2 usually
   passes through link IXP C1->IXP A2->Core A.  This is a long distant
   route, directly connecting city C and city A.  Part of traffic could
   be transferred to link IXP C1->IXP B1->IXP A1->IXP A2->Core A when
   the primary route congest.

4.2.3.  An Example of Congestion Mitigation at International Edge

   An ISP usually interconnects with more than 2 transit networks at the
   international edge, so it is quite common that multiple paths may
   exist for the same foreign destination.  Usually those paths with
   better QoS properties such as latency, loss, jitter and etc are often
   preferred.  Since these properties keep changing from time to time,
   the decision of path selection has to be made dynamically.












Luo, et al.             Expires September 6, 2018               [Page 8]

Internet-Draft  Traffic Steering Based on BGP Controller      March 2018


   ********************************
   *                              *
   *         AS C1                *
   *                              *    AS Y1
   *                              *
   *         +---+         +---+  *  +-----------+
   *        /| B |---------| C |-----| Transit A |         AS Z1
   *       / +---+\        +---+  *  +-----------+--
   *      /    |   \\    //  |    *                 --  +-------------+
   *+---+/     |     \\//    |    *                   --|             |
   *| A |      |     //\     |    *                     |Destination H|
   *+---+\     |   //   \\   |    *                   --|             |
   *      \    |  /       \  |    *                 --  +-------------+
   *       \ +---+         +---+  *  +-----------+--
   *        \| D |---------| E |-----| Transit B |
   *         +---+         +---+  *  +-----------+
   *                              *
   *      IP Core                 *    AS X1
   *                              *
   ********************************
   Figure 5 An Example of Congestion Mitigation at International Edge

   As depicted above, the traffic to the foreign destination H from IP
   core network (AS C1) has two choices on transit network, saying
   Transit A and Transit B.  Under normal conditions, Transit B is the
   primary choice, but Transit A will be preferred when the QoS of
   Transit B gets worse.  As a result, the same traffic will go through
   Transit A instead.

5.  Contributors

   Nan Wu
   Huawei
   Email: eric.wu@huawei.com

6.  IANA Considerations

   This document has no request to IANA.

7.  Security Considerations

   This document has no security issue introduced.

8.  Acknowledgements

   TBD.





Luo, et al.             Expires September 6, 2018               [Page 9]

Internet-Draft  Traffic Steering Based on BGP Controller      March 2018


9.  References

9.1.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.

9.2.  Informative References

   [I-D.ietf-idr-bgpls-segment-routing-epe]
              Previdi, S., Filsfils, C., Patel, K., Ray, S., and J.
              Dong, "BGP-LS extensions for Segment Routing BGP Egress
              Peer Engineering", draft-ietf-idr-bgpls-segment-routing-
              epe-14 (work in progress), December 2017.

   [I-D.li-idr-flowspec-rpd]
              Li, Z., Ou, L., Luo, Y., Lu, S., Zhuang, S., and N. Wu,
              "BGP FlowSpec Extensions for Routing Policy Distribution
              (RPD)", draft-li-idr-flowspec-rpd-02 (work in progress),
              June 2016.

   [RFC7752]  Gredler, H., Ed., Medved, J., Previdi, S., Farrel, A., and
              S. Ray, "North-Bound Distribution of Link-State and
              Traffic Engineering (TE) Information Using BGP", RFC 7752,
              DOI 10.17487/RFC7752, March 2016,
              <https://www.rfc-editor.org/info/rfc7752>.

   [RFC7854]  Scudder, J., Ed., Fernando, R., and S. Stuart, "BGP
              Monitoring Protocol (BMP)", RFC 7854,
              DOI 10.17487/RFC7854, June 2016,
              <https://www.rfc-editor.org/info/rfc7854>.

Authors' Addresses

   Yujia Luo
   China Telcom Co., Ltd.
   109 West Zhongshan Ave,Tianhe District
   Guangzhou  510630
   China

   Email: luoyuj@gsta.com








Luo, et al.             Expires September 6, 2018              [Page 10]

Internet-Draft  Traffic Steering Based on BGP Controller      March 2018


   Liang Ou
   China Telcom Co., Ltd.
   109 West Zhongshan Ave,Tianhe District
   Guangzhou  510630
   China

   Email: oul@gsta.com


   Xiang Huang
   Tencent

   Email: terranhuang@tencent.com


   Shunwan Zhuang
   Huawei
   Huawei Bld., No.156 Beiqing Rd.
   Beijing  100095
   China

   Email: zhuangshunwan@huawei.com


   Zhenbin Li
   Huawei
   Huawei Bld., No.156 Beiqing Rd.
   Beijing  100095
   China

   Email: lizhenbin@huawei.com




















Luo, et al.             Expires September 6, 2018              [Page 11]

