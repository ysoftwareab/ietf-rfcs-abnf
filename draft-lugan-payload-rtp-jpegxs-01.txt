



Payload Working Group                                           S. Lugan
Internet-Draft                                                G. Rouvroy
Intended status: Standards Track                             A. Descampe
Expires: May 12, 2019                                            intoPIX
                                                              T. Richter
                                                                     IIS
                                                              A. Willeme
                                                              UCL/ICTEAM
                                                        November 8, 2018


             RTP Payload Format for ISO/IEC 21122 (JPEG XS)
                   draft-lugan-payload-rtp-jpegxs-01

Abstract

   This document specifies a Real-Time Transport Protocol (RTP) payload
   format to be used for transporting JPEG XS (ISO/IEC 21122) encoded
   video.  JPEG XS is a low-latency, lightweight image coding system
   allowing for an increased resolution and frame rate, while offering
   visually lossless quality with reduced amount of resources such as
   power and bandwidth.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on May 12, 2019.

Copyright Notice

   Copyright (c) 2018 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of



Lugan, et al.             Expires May 12, 2019                  [Page 1]

Internet-Draft       RTP Payload Format for JPEG XS        November 2018


   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Conventions, Definitions, and Abbreviations . . . . . . . . .   3
   3.  Media Format Description  . . . . . . . . . . . . . . . . . .   4
     3.1.  Image Data Structures . . . . . . . . . . . . . . . . . .   4
     3.2.  Codestream  . . . . . . . . . . . . . . . . . . . . . . .   5
     3.3.  Video Support Box . . . . . . . . . . . . . . . . . . . .   6
   4.  Payload Format  . . . . . . . . . . . . . . . . . . . . . . .   6
     4.1.  Payload Header  . . . . . . . . . . . . . . . . . . . . .   7
     4.2.  Payload Data  . . . . . . . . . . . . . . . . . . . . . .   9
     4.3.  Traffic Shaping and Delivery Timing . . . . . . . . . . .  10
   5.  Congestion Control Considerations . . . . . . . . . . . . . .  10
   6.  Payload Format Parameters . . . . . . . . . . . . . . . . . .  11
     6.1.  Media Type Definition . . . . . . . . . . . . . . . . . .  11
     6.2.  Mapping to SDP  . . . . . . . . . . . . . . . . . . . . .  14
       6.2.1.  General . . . . . . . . . . . . . . . . . . . . . . .  14
       6.2.2.  Media type and subtype  . . . . . . . . . . . . . . .  14
       6.2.3.  Traffic shaping . . . . . . . . . . . . . . . . . . .  15
       6.2.4.  Offer/Answer Considerations . . . . . . . . . . . . .  15
   7.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .  15
   8.  Security Considerations . . . . . . . . . . . . . . . . . . .  15
   9.  RFC Editor Considerations . . . . . . . . . . . . . . . . . .  16
   10. References  . . . . . . . . . . . . . . . . . . . . . . . . .  16
     10.1.  Normative References . . . . . . . . . . . . . . . . . .  16
     10.2.  Informative References . . . . . . . . . . . . . . . . .  18
     10.3.  URIs . . . . . . . . . . . . . . . . . . . . . . . . . .  19
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  19

1.  Introduction

   This document specifies a payload format for packetization of JPEG XS
   encoded video signals into the Real-time Transport Protocol (RTP)
   [RFC3550].

   JPEG XS is a low-latency, lightweight image coding system allowing
   for an increased resolution and frame rate, while offering visually
   lossless quality with reduced amount of resources such as power and
   bandwidth.





Lugan, et al.             Expires May 12, 2019                  [Page 2]

Internet-Draft       RTP Payload Format for JPEG XS        November 2018


2.  Conventions, Definitions, and Abbreviations

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].

   Application Data Unit:
      The unit of source data provided as payload to the transport
      layer, and corresponding, in this RTP payload definition, to a
      JPEG XS frame.

   EOC Marker
      A marker that consists of the two bytex 0xff 0x10 indicating the
      start of a JPEG XS codestream.

   JPEG XS codestream:
      A sequence of bytes representing a compressed image formatted
      according to JPEG XS Part 1 [ISO21122-1].

   JPEG XS frame:
      The concatenation of a Video Support Box, as defined in JPEG XS
      Part 3 [ISO21122-3], and a JPEG XS codestream.

   JPEG XS stream:
      A JPEG XS stream is a sequence of frames, where each frame is
      coded independently of each other.  For the purpose of RTP
      transport, each frame forms an Application Data Unit (ADU).

   Marker:
      A two-byte functional sequence that is part of a JPEG XS
      codestream starting with a 0xff byte and a subsequent byte
      defining its function.

   Marker Segment:
      A marker along with a 16-bit marker size and payload data
      following the size.

   JPEG XS Header:
      A sequence of bytes at the beginning of each JPEG XS codestream
      encoded in multiple markers and marker segments that does not
      carry entropy coded data, but metadata such as the frame dimension
      and component precision.

   SOC Marker
      A marker that consists of the two bytex 0xff 0x11 indicating the
      end of a JPEG XS codestream.

   Video Support Box:



Lugan, et al.             Expires May 12, 2019                  [Page 3]

Internet-Draft       RTP Payload Format for JPEG XS        November 2018


      A ISO video support box in the sense of ISO/IEC 15444-1
      [ISO15444-1] defined in ISO/IEC 21122-3 [ISO21122-3] that includes
      metadata required to play back a JPEG XS video stream, such as its
      color space, its maximum bitrate, its subsampling structure, its
      buffer model and its frame rate.

   JPEG XS Header Segment:
      The concatenation of a Video Support Box and JPEG XS header.

   Slice:
      The smallest independently decodable unit of a JPEG XS codestream,
      bearing in mind that it decodes to wavelet coefficients which
      still require inverse wavelet filtering to give an image.

   Slice group:
      A contiguous sequence of slices.

   Fragment:
      A fragment consists of one slice group, possibly preceded by a
      JPEG XS header segment (if the slice group is the first one of a
      JPEG XS frame), and possibly followed by the EOC marker (if the
      slice group is the last one of a JPEG XS frame).

3.  Media Format Description

3.1.  Image Data Structures

   JPEG XS is a low-latency lightweight image coding system for coding
   continuous-tone grayscale or continuous-tone color digital images.

   This coding system provides an efficient representation of image
   signals through the mathematical tool of wavelet analysis.  The
   wavelet filter process separates each component into multiple bands,
   where each band consists of multiple coefficients describing the
   image signal of a given component within a frequency domain specific
   to the wavelet filter type, i.e. the particular filter corresponding
   to the band.

   Wavelet coefficients are grouped into precincts, where each precinct
   includes all coefficients over all bands that contribute to a spatial
   region of the image.

   One or multiple precincts are furthermore combined into slices
   consisting of an integral number of precincts.  Precincts do not
   cross slice boundaries, and wavelet coefficients in precincts that
   are part of different slices can be decoded independently from each
   other.  Note, however, that the wavelet transformation runs across




Lugan, et al.             Expires May 12, 2019                  [Page 4]

Internet-Draft       RTP Payload Format for JPEG XS        November 2018


   slice boundaries.  A slice always extends over the full width of the
   image, but may only cover parts of its height.

   Multiple contiguous slices are combined into slice groups.  Slice
   groups along with preceding and/or following metadata form fragments.
   A fragment, and by that the corresponding slice group, is sized such
   that it is spread over at least two distinct RTP packets, except for
   the last fragment of an Application Data Unit.

   Slice groups within a frame are enumerated from top to bottom by the
   slice group counter.  That is, the first slice group of a frame is
   slice group #0, and the slice group counter increments by 1 from top
   to bottom for each slice group, and by that for each fragment.

   Figure 1 shows an example of packets, slices, slice groups and
   fragments.  In this Figure, MDT indicates metadata preceding or
   following slice groups, SlcGrp the slice groups and Slc the slices.
   As seen there, a fragment may contain more than one slice if the
   slices are too short to fill up an entire packet, and fragment and
   packet boundaries need only to align at the start and the end of the
   ADU.  Fragments may extend over more than two packets, depending on
   their size, but a packet never contains two entire fragments or more.
   Slice group and fragment boundaries coincide, except for the first
   and the last fragment, which include additional metadata.  Unlike
   regularly sized packets, the fragment and the slice group size may
   vary.

   <------------------- Application Data Unit (ADU) ------------------->

   +-----------+-----------+-----------+-----------+-/ /-+-------------+
   | Packet #0 | Packet #1 | Packet #2 | Packet #3 |     | Packet #n-1 |
   +-----------+---+-------+-----------+---+-------+-/ /-+-------------+
   |  Fragment #0  |      Fragment #1      |             Fragment #m-1 |
   +---+-----------+-----------------------+---------/ /-----------+---+
   |MDT| SlcGrp #0 |       SlcGrp #1       |           SlcGrp #m-1 | M |
   +---+-----------+-----------------------+---------/ /-----------+---+
   |MDT|Slc#0 Slc#1|         Slc #2        |             Slc #k-1  | M |
   +---+-----------+-----------------------+---------/ /-----------+---+

                   Figure 1: Slice Groups and Fragments

3.2.  Codestream

   The overall codestream format, including the definition of all
   markers, is further defined in ISO/IEC 21122-1 [ISO21122-1].  It
   represents sample values of a single frame, bare any interpretation
   relative to a colorspace.




Lugan, et al.             Expires May 12, 2019                  [Page 5]

Internet-Draft       RTP Payload Format for JPEG XS        November 2018


3.3.  Video Support Box

   While the information defined in the codestream is sufficient to
   reconstruct the sample values of one video frame, the interpretation
   of the samples remains undefined by the codestream itself.  This
   interpretation, including the color space, frame rate and other
   information significant to play a JPEG XS stream are contained in the
   Video Support Box, which precedes each JPEG XS codestream.  The
   syntax of the Video Support Box follows ISO/IEC 15444-1 [ISO15444-1];
   it consists of multiple subboxes, each with a particular meaning.
   Its contents, in particular its subboxes are defined in ISO/IEC
   21122-3 [ISO21122-3].

4.  Payload Format

   This section specifies the payload format for JPEG XS video streams
   over the Real-time Transport Protocol (RTP) [RFC3550].

   In order to be transported over RTP, each JPEG XS stream is
   transported in a distinct RTP stream, identified by a distinct SSRC.

   Each of those RTP streams is divided into Application Data Units
   (ADUs).

   Each ADU is split into packets, depending e.g. on the Maximum
   Transmission unit (MTU) of the network.  Every packet shall have the
   same size, except the last packet of every ADU which could be
   shorter.  Packet boundaries shall coincide with ADU boundaries, i.e.
   the first (resp. last) byte of an ADU shall be the first (resp. last)
   byte of an RTP packet payload data.

   The following figure illustrates the RTP payload header used in order
   to transport a JPEG XS stream.


















Lugan, et al.             Expires May 12, 2019                  [Page 6]

Internet-Draft       RTP Payload Format for JPEG XS        November 2018


     0                   1                   2                   3
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +---+-+-+-------+-+-------------+-------------------------------+
     | V |P|X|  CC   |M|     PT      |       Sequence number         |
     +---+-+-+-------+-+-------------+-------------------------------+
     |                           Timestamp                           |
     +---------------------------------------------------------------+
     |           Synchronization source (SSRC) identifier            |
     +===============================================================+
     |            Contributing source (CSRC) identifiers             |
     |                             ....                              |
     +-----+-+-+---------+---------------------+---------------------+
     | Ver |f|c| SlcGrp  |     SlcGrpOffset    |    Frame counter    |
     +-----+-+-+---------+---------------------+---------------------+
     |                             Data                              |
     +---------------------------------------------------------------+

                     Figure 2: RTP and payload headers

4.1.  Payload Header

   The version (V), padding (P), extension (X), CSRC count (CC),
   sequence number, synchronization source (SSRC) and contributing
   source (CSRC) fields follow their respective definitions in RFC 3550
   [RFC3550].

   The timestamp should be based on a globally synchronized 90 kHz clock
   reference, and should correspond to the number of cycles since the
   SMPTE Epoch (as per defined in SMPTE ST 2059-1:2015 [SMPTE-ST2059])
   modulo 2^32:

       timestamp = floor(time_since_epoch*90000) % 2^32

   where time_since_epoch is the time elapsed since the SMPTE Epoch,
   expressed in seconds as a real number, and floor indicates rounding
   to the next lower integer.

   As per specified in RFC 3550 [RFC3550] and RFC 4175 [RFC4175], the
   RTP timestamp designates the sampling instant of the first octet of
   the frame to which the RTP packet belongs.  Packets shall not include
   data from multiple frames, and all packets belonging to the same
   frame shall have the same timestamp.  Several successive RTP packets
   will consequently have equal timestamps if they belong to the same
   frame (that is until the marker bit is set to 1, marking the last
   packet of the frame), and the timestamp is only increased when a new
   frame begins.





Lugan, et al.             Expires May 12, 2019                  [Page 7]

Internet-Draft       RTP Payload Format for JPEG XS        November 2018


   If the sampling instant does not correspond to an integer value of
   the clock, the value shall be truncated to the next lowest integer,
   with no ambiguity.

   The remaining fields are defined as follows:

   Marker (M) [1 bit]:
      The marker bit is used to indicate the last packet of a frame.
      This enables a decoder to finish decoding the frame, where it
      otherwise may need to wait for the next packet to explicitly know
      that the frame is finished.

   Payload Type (PT) [7 bits]:
      A dynamically allocated payload type field that designates the
      payload as JPEG XS video.

   Ver [3 bits]:
      This field indicates the version number of the payload header.
      The value of this field shall be 0 for the purpose of this edition
      of the RFC.

   f [1 bit]:
      The f field shall be set if a new fragment is started within this
      packet, i.e. if this packet contains the first byte of a fragment.

      NOTE: The JPEG XS header segment and the first slice group form a
      fragment.  For that reason, the f-bit remains unset in the packet
      that contains the first byte of slice group 0 but does not also
      contains the first byte of the Video Support box.  All other slice
      groups form fragments of their own.  The f bit allows a quick
      identification of packets that start a fragment.  The SlcGrpOffset
      field (see below) can be used to identify the start of a slice
      group.

   c [1 bit]:
      The c field is a one-bit field that is set if the fragment to
      which the first byte of the packet belongs extends througout a
      subsequent packet.

   SlcGrp [5 bits]:
      The SlcGrp (Slice Group) field contains the slice group index
      modulo 32 that is contained in the fragment that is started in
      this packet.  If no fragment starts in this packet, it contains
      the slice group index modulo 64 of the slice group that is
      contained in the fragment to which the first byte of the payload
      data of this packet belongs.

   SlcGrpOffset [11 bits]:



Lugan, et al.             Expires May 12, 2019                  [Page 8]

Internet-Draft       RTP Payload Format for JPEG XS        November 2018


      This field indicates the byte offset of the slice header marker
      (SLH, hex 0xff20, see ISO/IEC 21122-1 [ISO21122-1]) of the slice
      group that starts in this packet, relative to the Ver field.  If
      no slice group starts in this packet, this field shall be 0.

      NOTE: Since the payload data has a non-zero offset within a
      packet, this field can also be used to identify whether a slice
      group starts in a packet.  If 0, no slice group starts in this
      packet.  Consequently, for all slice groups in a frame except the
      first one, this field will be non-zero if and only if the f-field
      is set.

   Frame counter [11 bits]:
      Counter indicating the current frame number modulo 2^11.  The
      frame number is incremented by one at the beginning of each frame,
      and stays constant throughout all packets that contribute to to
      the same frame.

4.2.  Payload Data

   The payload data of a JPEG XS transport stream consists of a
   concatenation of multiple JPEG XS Frames.

   Each JPEG XS frame is the concatenation of multiple fragments where
   each fragment contains one and only one slice group.  The first
   fragment of a frame also contains the Video Support box and the JPEG
   XS header, the last fragment also contains the EOC marker.  Figure 3
   depicts this layout.

    ^     +-------------------------------------------+    ^
    |     |            Video Support Box              |    |
    |     |  +-------------------------------------+  |    |
    |     |  |  Sub boxes of the Video Support Box |  |    |
   Frag-  |  +-------------------------------------+  |  JPEG
   ment   |  : additional sub-boxes of the VE-Box  :  |   XS
    #0    |  +-------------------------------------+  |  Header
    |     |                                           |   Seg-
    |     +-------------------------------------------+   ment
    |     |             JPEG XS Header                |    |
    |     |  +-------------------------------------+  |    |
    |     |  |             SOC Marker              |  |    |
    |     |  +-------------------------------------+  |    |
    |     |  :      Additional Marker Segments     :  |    |
    |     |  +-------------------------------------+  |    |
    |     |                                           |    |
    |     +-------------------------------------------+    v
    |     |            Slice Group #0                 |
    |     |  +-------------------------------------+  |



Lugan, et al.             Expires May 12, 2019                  [Page 9]

Internet-Draft       RTP Payload Format for JPEG XS        November 2018


    |     |  |    Slice #0 of Slice Group #0       |  |
    |     |  |  +-------------------------------+  |  |
    |     |  |  |          SLH Marker           |  |  |
    |     |  |  +-------------------------------+  |  |
    |     |  |  :     Entropy Coded Data        :  |  |
    |     |  |  +-------------------------------+  |  |
    |     |  +-------------------------------------+  |
    |     |  |    Slice #1 of Slice Group #0       |  |
    |     |  :                                     :  |
    |     |  +-------------------------------------+  |
    |     |  |    Slice #n-1 of Slice Group #0     |  |
    |     |  :                                     :  |
    v     |  +-------------------------------------+  |
    ^     +-------------------------------------------+
    |     |            Slice Group #1                 |
   Frag-  :                                           :
   ment   :                                           :
    #1    :                                           :
    |     :                                           :
    v     +-------------------------------------------+
          :                                           :
    ^     +-------------------------------------------+
    |     |            Slice Group #n-1               |
   Frag-  :                                           :
   ment   :                                           :
   #n-1   +-------------------------------------------+
    |     |             EOC Marker                    |
    v     +-------------------------------------------+

                      Figure 3: JPEG XS Payload Data

4.3.  Traffic Shaping and Delivery Timing

   The traffic shaping and delivery timing shall be in accordance with
   the Network Compatibility Model compliance definitions specified in
   SMPTE ST 2110-21 [SMPTE-ST2110-21] for either Narrow Linear Senders
   (Type NL) or Wide Senders (Type W).

   NOTE: The Virtual Receiver Buffer Model compliance definitions of ST
   2110-21 do not apply.

5.  Congestion Control Considerations

   Congestion control for RTP SHALL be used in accordance with RFC 3550
   [RFC3550], and with any applicable RTP profile: e.g., RFC 3551
   [RFC3551].  An additional requirement if best-effort service is being
   used is users of this payload format MUST monitor packet loss to
   ensure that the packet loss rate is within acceptable parameters.



Lugan, et al.             Expires May 12, 2019                 [Page 10]

Internet-Draft       RTP Payload Format for JPEG XS        November 2018


   Circuit Breakers [RFC8083] is an update to RTP [RFC3550] that defines
   criteria for when one is required to stop sending RTP Packet Streams
   and applications implementing this standard MUST comply with it.  RFC
   8085 [RFC8083] provides additional information on the best practices
   for applying congestion control to UDP streams.

6.  Payload Format Parameters

6.1.  Media Type Definition

   Type name:  video

   Subtype name:  jpeg-xs

   Required parameters:

     rate: The RTP timestamp clock rate.  Applications using this
     payload format SHOULD use a value of 90000.

   Optional parameters:

     profile: The JPEG XS profile in use, as defined in JPEG XS Part 2
     [ISO21122-2].

     level: The JPEG XS level in use, as defined in JPEG XS Part 2
     [ISO21122-2].

     sublevel: The JPEG XS sublevel in use, as defined in JPEG XS Part 2
     [ISO21122-2].

     sampling: Signals the color difference signal sub-sampling
     structure.

     Signals utilizing the non-constant luminance Y'C'B C'R signal
     format of Recommendation ITU-R BT.601-7, Recommendation ITU-R
     BT.709-6, Recommendation ITU-R BT.2020-2, or Recommendation ITU-R
     BT.2100 shall use the appropriate one of the following values for
     the Media Type Parameter "sampling":

          YCbCr-4:4:4 (4:4:4 sampling)
          YCbCr-4:2:2 (4:2:2 sampling)
          YCbCr-4:2:0 (4:2:0 sampling)

     Signals utilizing the Constant Luminance Y'C C'BC C'RC signal
     format of Recommendation ITU-R BT.2020-2 shall use the appropriate
     one of the following values for the Media Type Parameter
     "sampling":




Lugan, et al.             Expires May 12, 2019                 [Page 11]

Internet-Draft       RTP Payload Format for JPEG XS        November 2018


          CLYCbCr-4:4:4 (4:4:4 sampling)
          CLYCbCr-4:2:2 (4:2:2 sampling)
          CLYCbCr-4:2:0 (4:2:0 sampling)

     Signals utilizing the constant intensity I CT CP signal format of
     Recommendation ITU-R BT.2100 shall use the appropriate one of the
     following values for the Media Type Parameter "sampling":

          ICtCp-4:4:4 (4:4:4 sampling)
          ICtCp-4:2:2 (4:2:2 sampling)
          ICtCp-4:2:0 (4:2:0 sampling)

     Signals utilizing the 4:4:4 R' G' B' or RGB signal format (such as
     that of Recommendation ITU-R BT.601, Recommendation ITU-R BT.709,
     Recommendation ITU-R BT.2020, Recommendation ITU-R BT.2100, SMPTE
     ST 2065-1 or ST 2065-3) shall use the following value for the Media
     Type Parameter sampling.

          RGB    RGB or R' G' B' samples

     Signals utilizing the 4:4:4 X' Y' Z' signal format (such as defined
     in SMPTE ST 428-1) shall use the following value for the Media Type
     Parameter sampling.

          XYZ    X' Y' Z' samples

     Key signals as defined in SMPTE RP 157 shall use the value key for
     the Media Type Parameter sampling.  The Key signal is represented
     as a single component.

          KEY    samples of the key signal

     depth: Determines the number of bits per sample.  This is an
     integer with typical values including 8, 10, 12, and 16.

     width: Determines the number of pixels per line.  This is an
     integer between 1 and 32767.

     height: Determines the number of lines per frame.  This is an
     integer between 1 and 32767.

     exactframerate: Signals the frame rate in frames per second.
     Integer frame rates shall be signaled as a single decimal number
     (e.g. "25") whilst non-integer frame rates shall be signaled as a
     ratio of two integer decimal numbers separated by a "forward-slash"
     character (e.g. "30000/1001"), utilizing the numerically smallest
     numerator value possible.




Lugan, et al.             Expires May 12, 2019                 [Page 12]

Internet-Draft       RTP Payload Format for JPEG XS        November 2018


     colorimetry: Specifies the system colorimetry used by the image
     samples.  Valid values and their specification are:

          BT601-5      ITU Recommendation BT.601-5
          BT709-2      ITU Recommendation BT.709-2
          SMPTE240M    SMPTE standard 240M
          BT601        as specified in Recommendation ITU-R BT.601-7
          BT709        as specified in Recommendation ITU-R BT.709-6
          BT2020       as specified in Recommendation ITU-R BT.2020-2
          BT2100       as specified in Recommendation ITU-R BT.2100
                       Table 2 titled "System colorimetry"
          ST2065-1     as specified in SMPTE ST 2065-1 Academy Color
                       Encoding Specification (ACES)
          ST2065-3     as specified for Academy Density Exchange
                       Encoding (ADX) in SMPTE ST 2065-3
          XYZ          as specified in ISO 11664-1 section titled
                       "1931 Observer"

     Signals utilizing the Recommendation ITU-R BT.2100 colorimetry
     should also signal the representational range using the optional
     parameter RANGE defined below.

     interlace: If this OPTIONAL parameter name is present, it indicates
     that the video is interlaced.  If this parameter name is not
     present, the progressive video format shall be assumed.

     TCS: Transfer Characteristic System.  This parameter specifies the
     transfer characteristic system of the image samples.  Valid values
     and their specification are:

          SDR    (Standard Dynamic Range) Video streams of standard
                 dynamic range, that utilize the OETF of Recommendation
                 ITU-R BT.709 or Recommendation ITU-R BT.2020. Such
                 streams shall be assumed to target the EOTF specified
                 in ITU-R BT.1886.
          PQ     Video streams of high dynamic range video that utilize
                 the Perceptual Quantization system of Recommendation
                 ITU-R BT.2100
          HLG    Video streams of high dynamic range video that utilize
                 the Hybrid Log-Gamma system of Recommendation ITU-R
                 BT.2100

     RANGE: This parameter should be used to signal the encoding range
     of the sample values within the stream.  When paired with ITU Rec
     BT.2100 colorimetry, this parameter has two allowed values NARROW
     and FULL, corresponding to the ranges specified in table 9 of ITU
     Rec BT.2100.  In any other context, this parameter has three
     allowed values: NARROW, FULLPROTECT, and FULL, which correspond to



Lugan, et al.             Expires May 12, 2019                 [Page 13]

Internet-Draft       RTP Payload Format for JPEG XS        November 2018


     the ranges specified in SMPTE RP 2077.  In the absence of this
     parameter, NARROW shall be the assumed value in either case.

   Encoding considerations:
    This media type is framed and binary; see Section 4.8 in RFC 6838
    [RFC6838].

   Security considerations:
    Please see the Security Considerations section in RFC XXXX

6.2.  Mapping to SDP

6.2.1.  General

   A Session Description Protocol (SDP) object shall be created for each
   RTP stream and it shall be in accordance with the provisions of SMPTE
   ST 2110-10 [SMPTE-ST2110-10].

   The information carried in the media type specification has a
   specific mapping to fields in the Session Description Protocol (SDP),
   which is commonly used to describe RTP sessions.

6.2.2.  Media type and subtype

   The media type ("video") goes in SDP "m=" as the media name.

   The media subtype ("jpeg-xs") goes in SDP "a=rtpmap" as the encoding
   name.  The RTP clock rate in "a=rtpmap" MUST be 90000, which for the
   payload format defined in this document is a 90 kHz clock.  The
   remaining parameters go in the SDP "a=fmtp" attribute by copying them
   directly from the MIME media type string as a semicolon-separated
   list of parameter=value pairs.

   A sample SDP mapping for JPEG XS video is as follows:

        m=video 30000 RTP/AVP 112
        a=rtpmap:112 jpeg-xs/90000
        a=fmtp:112 sampling=YCbCr-4:2:2; width=1920; height=1080;
                   depth=10; colorimetry=BT709; TCS=SDR; RANGE=FULL

   In this example, a dynamic payload type 112 is used for JPEG XS
   video.  The RTP sampling clock is 90 kHz.  Note that the "a=fmtp:"
   line has been wrapped to fit this page, and will be a single long
   line in the SDP file.







Lugan, et al.             Expires May 12, 2019                 [Page 14]

Internet-Draft       RTP Payload Format for JPEG XS        November 2018


6.2.3.  Traffic shaping

   The SDP object shall include the TP parameter and may include the
   CMAX parameter as specified in SMPTE ST 2110-21 [SMPTE-ST2110-21].

6.2.4.  Offer/Answer Considerations

   The following considerations apply when using SDP offer/answer
   procedures [RFC3264] to negotiate the use of the JPEG XS payload in
   RTP:

   o  The "encode" parameter can be used for sendrecv, sendonly, and
      recvonly streams.  Each encode type MUST use a separate payload
      type number.

   o  Any unknown parameter in an offer MUST be ignored by the receiver
      and MUST NOT be included in the answer.

7.  IANA Considerations

   This memo requests that IANA registers video/jpeg-xs as specified in
   Section 6.1.  The media type is also requested to be added to the
   IANA registry for "RTP Payload Format MIME types" [1].

8.  Security Considerations

   RTP packets using the payload format defined in this specification
   are subject to the security considerations discussed in the RTP
   specification [RFC3550] and in any applicable RTP profile such as
   RTP/AVP [RFC3551], RTP/AVPF [RFC4585], RTP/SAVP [RFC3711], or RTP/
   SAVPF [RFC5124].  This implies that confidentiality of the media
   streams is achieved by encryption.

   However, as "Securing the RTP Framework: Why RTP Does Not Mandate a
   Single Media Security Solution" [RFC7202] discusses, it is not an RTP
   payload format's responsibility to discuss or mandate what solutions
   are used to meet the basic security goals like confidentiality,
   integrity, and source authenticity for RTP in general.  This
   responsibility lies on anyone using RTP in an application.  They can
   find guidance on available security mechanisms and important
   considerations in "Options for Securing RTP Sessions" [RFC7201].
   Applications SHOULD use one or more appropriate strong security
   mechanisms.

   This payload format and the JPEG XS encoding do not exhibit any
   substantial non-uniformity, either in output or in complexity to
   perform the decoding operation and thus are unlikely to pose a




Lugan, et al.             Expires May 12, 2019                 [Page 15]

Internet-Draft       RTP Payload Format for JPEG XS        November 2018


   denial-of-service threat due to the receipt of pathological
   datagrams.

   It is important to note that HD or UHDTV JPEG XS-encoded video can
   have significant bandwidth requirements (typically more than 1 Gbps
   for ultra high-definition video, especially if using high framerate).
   This is sufficient to cause potential for denial-of-service if
   transmitted onto most currently available Internet paths.

   Accordingly, if best-effort service is being used, users of this
   payload format MUST monitor packet loss to ensure that the packet
   loss rate is within acceptable parameters.  Packet loss is considered
   acceptable if a TCP flow across the same network path, and
   experiencing the same network conditions, would achieve an average
   throughput, measured on a reasonable timescale, that is not less than
   the RTP flow is achieving.  This condition can be satisfied by
   implementing congestion control mechanisms to adapt the transmission
   rate (or the number of layers subscribed for a layered multicast
   session), or by arranging for a receiver to leave the session if the
   loss rate is unacceptably high.

   This payload format may also be used in networks that provide
   quality-of-service guarantees.  If enhanced service is being used,
   receivers SHOULD monitor packet loss to ensure that the service that
   was requested is actually being delivered.  If it is not, then they
   SHOULD assume that they are receiving best-effort service and behave
   accordingly.

9.  RFC Editor Considerations

   Note to RFC Editor: This section may be removed after carrying out
   all the instructions of this section.

   RFC XXXX is to be replaced by the RFC number this specification
   receives when published.

10.  References

10.1.  Normative References

   [ISO15444-1]
              International Organization for Standardization (ISO) -
              International Electrotechnical Commission (IEC),
              "Information technology - JPEG 2000 image coding system:
              Core coding system", ISO/IEC IS 15444-1, 2016,
              <https://www.iso.org/standard/70018.html>.





Lugan, et al.             Expires May 12, 2019                 [Page 16]

Internet-Draft       RTP Payload Format for JPEG XS        November 2018


   [ISO21122-1]
              International Organization for Standardization (ISO) -
              International Electrotechnical Commission (IEC),
              "Information technology - Low-latency lightweight image
              coding system - Part 1: Core coding system", ISO/IEC DIS
              21122-1, under development,
              <https://www.iso.org/standard/74535.html>.

   [ISO21122-2]
              International Organization for Standardization (ISO) -
              International Electrotechnical Commission (IEC),
              "Information technology - Low-latency lightweight image
              coding system - Part 2: Profiles and buffer models", ISO/
              IEC DIS 21122-2, under development,
              <https://www.iso.org/standard/74535.html>.

   [ISO21122-3]
              International Organization for Standardization (ISO) -
              International Electrotechnical Commission (IEC),
              "Information technology - Low-latency lightweight image
              coding system - Part 3: Transport and container formats",
              ISO/IEC NP 21122-3, under development,
              <https://www.iso.org/standard/74537.html>.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.

   [RFC3264]  Rosenberg, J. and H. Schulzrinne, "An Offer/Answer Model
              with Session Description Protocol (SDP)", RFC 3264,
              DOI 10.17487/RFC3264, June 2002,
              <https://www.rfc-editor.org/info/rfc3264>.

   [RFC3550]  Schulzrinne, H., Casner, S., Frederick, R., and V.
              Jacobson, "RTP: A Transport Protocol for Real-Time
              Applications", STD 64, RFC 3550, DOI 10.17487/RFC3550,
              July 2003, <https://www.rfc-editor.org/info/rfc3550>.

   [RFC3551]  Schulzrinne, H. and S. Casner, "RTP Profile for Audio and
              Video Conferences with Minimal Control", STD 65, RFC 3551,
              DOI 10.17487/RFC3551, July 2003,
              <https://www.rfc-editor.org/info/rfc3551>.

   [RFC3711]  Baugher, M., McGrew, D., Naslund, M., Carrara, E., and K.
              Norrman, "The Secure Real-time Transport Protocol (SRTP)",
              RFC 3711, DOI 10.17487/RFC3711, March 2004,
              <https://www.rfc-editor.org/info/rfc3711>.



Lugan, et al.             Expires May 12, 2019                 [Page 17]

Internet-Draft       RTP Payload Format for JPEG XS        November 2018


   [RFC6838]  Freed, N., Klensin, J., and T. Hansen, "Media Type
              Specifications and Registration Procedures", BCP 13,
              RFC 6838, DOI 10.17487/RFC6838, January 2013,
              <https://www.rfc-editor.org/info/rfc6838>.

   [RFC8083]  Perkins, C. and V. Singh, "Multimedia Congestion Control:
              Circuit Breakers for Unicast RTP Sessions", RFC 8083,
              DOI 10.17487/RFC8083, March 2017,
              <https://www.rfc-editor.org/info/rfc8083>.

   [RFC8085]  Eggert, L., Fairhurst, G., and G. Shepherd, "UDP Usage
              Guidelines", BCP 145, RFC 8085, DOI 10.17487/RFC8085,
              March 2017, <https://www.rfc-editor.org/info/rfc8085>.

   [SMPTE-ST2110-10]
              Society of Motion Picture and Television Engineers, "SMPTE
              Standard - Professional Media Over Managed IP Networks:
              System Timing and Definitions", SMPTE ST 2110-10:2017,
              2017, <https://doi.org/10.5594/SMPTE.ST2110-10.2017>.

   [SMPTE-ST2110-21]
              Society of Motion Picture and Television Engineers, "SMPTE
              Standard - Professional Media Over Managed IP Networks:
              Traffic Shaping and Delivery Timing for Video", SMPTE ST
              2110-21:2017, 2017,
              <https://doi.org/10.5594/SMPTE.ST2110-21.2017>.

10.2.  Informative References

   [RFC4175]  Gharai, L. and C. Perkins, "RTP Payload Format for
              Uncompressed Video", RFC 4175, DOI 10.17487/RFC4175,
              September 2005, <https://www.rfc-editor.org/info/rfc4175>.

   [RFC4585]  Ott, J., Wenger, S., Sato, N., Burmeister, C., and J. Rey,
              "Extended RTP Profile for Real-time Transport Control
              Protocol (RTCP)-Based Feedback (RTP/AVPF)", RFC 4585,
              DOI 10.17487/RFC4585, July 2006,
              <https://www.rfc-editor.org/info/rfc4585>.

   [RFC5124]  Ott, J. and E. Carrara, "Extended Secure RTP Profile for
              Real-time Transport Control Protocol (RTCP)-Based Feedback
              (RTP/SAVPF)", RFC 5124, DOI 10.17487/RFC5124, February
              2008, <https://www.rfc-editor.org/info/rfc5124>.

   [RFC7201]  Westerlund, M. and C. Perkins, "Options for Securing RTP
              Sessions", RFC 7201, DOI 10.17487/RFC7201, April 2014,
              <https://www.rfc-editor.org/info/rfc7201>.




Lugan, et al.             Expires May 12, 2019                 [Page 18]

Internet-Draft       RTP Payload Format for JPEG XS        November 2018


   [RFC7202]  Perkins, C. and M. Westerlund, "Securing the RTP
              Framework: Why RTP Does Not Mandate a Single Media
              Security Solution", RFC 7202, DOI 10.17487/RFC7202, April
              2014, <https://www.rfc-editor.org/info/rfc7202>.

   [SMPTE-ST2059]
              Society of Motion Picture and Television Engineers, "SMPTE
              Standard - Generation and Alignment of Interface Signals
              to the SMPTE Epoch", SMPTE ST 2059-1:2015, 2015,
              <https://doi.org/10.5594/SMPTE.ST2059-1.2015>.

10.3.  URIs

   [1] http://www.iana.org/assignments/rtp-parameters

Authors' Addresses

   Sebastien Lugan
   intoPIX S.A.
   Rue Emile Francqui, 9
   1435 Mont-Saint-Guibert
   Belgium

   Phone: +32 10 23 84 70
   Email: s.lugan@sine.sd2.net
   URI:   http://www.intopix.com


   Gael Rouvroy
   intoPIX S.A.
   Rue Emile Francqui, 9
   1435 Mont-Saint-Guibert
   Belgium

   Phone: +32 10 23 84 70
   Email: g.rouvroy@intopix.com
   URI:   http://www.intopix.com


   Antonin Descampe
   intoPIX S.A.
   Rue Emile Francqui, 9
   1435 Mont-Saint-Guibert
   Belgium

   Phone: +32 10 23 84 70
   Email: a.descampe@intopix.com
   URI:   http://www.intopix.com



Lugan, et al.             Expires May 12, 2019                 [Page 19]

Internet-Draft       RTP Payload Format for JPEG XS        November 2018


   Thomas Richter
   Fraunhofer IIS
   Am Wolfsmantel 33
   91048 Erlangen
   Germany

   Phone: +49 9131 776 5126
   Email: thomas.richter@iis.fraunhofer.de
   URI:   https://www.iis.fraunhofer.de/


   Alexandre Willeme
   Universite catholique de Louvain
   Place du Levant, 2 - bte L5.04.04
   1348 Louvain-la-Neuve
   Belgium

   Phone: +32 10 47 80 82
   Email: alexandre.willeme@uclouvain.be
   URI:   https://uclouvain.be/en/icteam































Lugan, et al.             Expires May 12, 2019                 [Page 20]
