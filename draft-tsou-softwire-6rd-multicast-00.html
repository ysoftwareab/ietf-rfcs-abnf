<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>IPv6 Multicast Using Native IPv4 Capabilities in a 6rd Deployment</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="IPv6 Multicast Using Native IPv4 Capabilities in a 6rd Deployment">
<meta name="keywords" content="multicast, 6rd">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 60em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 60em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Internet Engineering Task Force</td><td class="header">T. Tsou</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Huawei Technologies (USA)</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">T. Taylor</td></tr>
<tr><td class="header">Expires: July 9, 2011</td><td class="header">C. Zhou</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Huawei Technologies</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">H. Ji</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">China Telecom</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">January 5, 2011</td></tr>
</table></td></tr></table>
<h1><br />IPv6 Multicast Using Native IPv4 Capabilities in a 6rd Deployment<br />draft-tsou-softwire-6rd-multicast-00</h1>

<h3>Abstract</h3>

<p>This document describes how IPv6 multicast can be extended across 
	an IPv4 network to an IPv6 host, using the native multicast capabilities
	of the IPv4 network.
</p>
<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted  in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF).  Note that other groups may also distribute
working documents as Internet-Drafts.  The list of current
Internet-Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
This Internet-Draft will expire on July 9, 2011.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2011 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents
(http://trustee.ietf.org/license-info) in effect on the date of
publication of this document.  Please review these documents
carefully, as they describe your rights and restrictions with respect
to this document. Code Components extracted from this document must
include Simplified BSD License text as described in Section 4.e of
the Trust Legal Provisions and are provided without warranty as
described in the Simplified BSD License.</p>
<a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#intro">1.</a>&nbsp;
Introduction<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor1">1.1.</a>&nbsp;
Requirements Language<br />
<a href="#sol">2.</a>&nbsp;
Description of the Solution<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#arch">2.1.</a>&nbsp;
Assumed Architecture<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#solSteps">2.2.</a>&nbsp;
Steps In the Proposed Solution<br />
<a href="#Acknowledgements">3.</a>&nbsp;
Acknowledgements<br />
<a href="#IANA">4.</a>&nbsp;
IANA Considerations<br />
<a href="#Security">5.</a>&nbsp;
Security Considerations<br />
<a href="#rfc.references1">6.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">6.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">6.2.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="intro"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>6rd (<a class='info' href='#RFC5569'>[RFC5569]<span> (</span><span class='info'>Despres, R., &ldquo;IPv6 Rapid Deployment on IPv4 Infrastructures (6rd),&rdquo; January&nbsp;2010.</span><span>)</span></a>, <a class='info' href='#RFC5969'>[RFC5969]<span> (</span><span class='info'>Townsley, W. and O. Troan, &ldquo;IPv6 Rapid Deployment on IPv4 Infrastructures (6rd) -- Protocol Specification,&rdquo; August&nbsp;2010.</span><span>)</span></a>) provides 
	a means to connect IPv6 hosts to the IPv6 Internet across an IPv4 provider
	network. Unicast traffic is carried through IPv6-in-IPv4 tunnels. It
	is possible to carry multicast traffic from the IPv6 network through
	the IPv4 network in the same way, but if multiple customers wish access
	to the same multicast channels, the failure to use the native multicast
	capabilities of the IPv4 network wastes resources in that network.  
</p>
<p>This document describes a solution use the native multicast capabilities
	of the IPv4 network to acquire and forward multicast traffic from IPv6
	Internet to an IPv6 host attached to the IPv4 network. Typically this
	solution will operate in combination with 6rd for unicast traffic. However,
	no IPv6-in-IPv4 tunneling is required for signalling, only the ability to 
	interwork between IPv4 and IPv6 at the 6rd Customer Equipment (6rd CE) and 
	the 6rd Border Relay (BR). 
</p>
<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.1"></a><h3>1.1.&nbsp;
Requirements Language</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
		"SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document
		are to be interpreted as described in
		<a class='info' href='#RFC2119'>RFC 2119<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a> [RFC2119].
</p>
<a name="sol"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Description of the Solution</h3>

<p>A number of problems have to be solved to allow an IPv6 host attached
	to an IPv4 network to request and receive a multicast stream originating
	in a neighbouring IPv6 network and passing through the IPv4 network using
	the native multicast facilities of that network. These problems are 
	described in detail in the course of presenting proposed solutions to
	them.
</p>
<a name="arch"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.1"></a><h3>2.1.&nbsp;
Assumed Architecture</h3>

<p>This document assumes an architecture similar to that of 6rd 
		<a class='info' href='#RFC5569'>[RFC5569]<span> (</span><span class='info'>Despres, R., &ldquo;IPv6 Rapid Deployment on IPv4 Infrastructures (6rd),&rdquo; January&nbsp;2010.</span><span>)</span></a>, <a class='info' href='#RFC5969'>[RFC5969]<span> (</span><span class='info'>Townsley, W. and O. Troan, &ldquo;IPv6 Rapid Deployment on IPv4 Infrastructures (6rd) -- Protocol Specification,&rdquo; August&nbsp;2010.</span><span>)</span></a>, with additional
		capabilities for the 6rd CE and the 6rd Border Relay. In addition,
		it postulates a multicast source discovery and translation function,
		which MAY be collocated with the BR. See <a class='info' href='#fig_mularch'>Figure&nbsp;1<span> (</span><span class='info'>IPv6 Multicast Across an IPv4 Domain Using a Translator Function</span><span>)</span></a>.
</p><br /><hr class="insert" />
<a name="fig_mularch"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
                                                +------------+
                                                | Translator |
                                               -|  function  |-
                                              / +------------+ \
+----+        +----+ Access +--------+       /                  \
|IPv6|  LAN   | 6rd|  Link  |Provider|    IPv4     +------+     IPv6
|Host|--------| CE |--------|IP Edge |- network ---|Border|--- network
+----+        +----+        +--------+             |Relay |
                                                   +------+
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;1: IPv6 Multicast Across an IPv4 Domain Using a Translator Function&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>In addition to its 6rd responsibilities, the 6rd CE is responsible for:
		</p>
<ul class="text">
<li>requesting a mapping between IPv6 &lt;Source, Group> pairs presented
			by the IPv6 Host and IPv4 &lt;Source, Group> pairs valid for the 
			provider's IPv4 network;
</li>
<li>interworking between MLD <a class='info' href='#RFC3810'>[RFC3810]<span> (</span><span class='info'>Vida, R. and L. Costa, &ldquo;Multicast Listener Discovery Version 2 (MLDv2) for IPv6,&rdquo; June&nbsp;2004.</span><span>)</span></a> presented by the 
			IPv6 Host and IGMP <a class='info' href='#RFC3376'>[RFC3376]<span> (</span><span class='info'>Cain, B., Deering, S., Kouvelas, I., Fenner, B., and A. Thyagarajan, &ldquo;Internet Group Management Protocol, Version 3,&rdquo; October&nbsp;2002.</span><span>)</span></a> forwarded toward the
			provider's IPv4 network; 
</li>
<li>translating incoming IPv4 multicast streams to IPv6 before 
			forwarding them to the IPv6 Host.
</li>
</ul><p>
		
</p>
<p>The Provider IP Edge has the normal function of interworking 
		between IGMP <a class='info' href='#RFC3376'>[RFC3376]<span> (</span><span class='info'>Cain, B., Deering, S., Kouvelas, I., Fenner, B., and A. Thyagarajan, &ldquo;Internet Group Management Protocol, Version 3,&rdquo; October&nbsp;2002.</span><span>)</span></a> and PIM <a class='info' href='#RFC4601'>[RFC4601]<span> (</span><span class='info'>Fenner, B., Handley, M., Holbrook, H., and I. Kouvelas, &ldquo;Protocol Independent Multicast - Sparse Mode (PIM-SM): Protocol Specification (Revised),&rdquo; August&nbsp;2006.</span><span>)</span></a>
		multicast signalling.
</p>
<p>The Border Relay has the usual 6rd responsibilities. In addition, 
		it is responsible for:
		</p>
<ul class="text">
<li>requesting a mapping between IPv4 &lt;Source, Group> pairs received
			in PIM messages from the IPv4 network and IPv6 &lt;Source, Group> 
			pairs valid for the neighbouring IPv6 network;
</li>
<li>translating PIM messaging between the IPv4 and IPv6 networks;
</li>
<li>using the reverse mapping from IPv6 to IPv4 &lt;Source, Group>
			pairs to translate and forward multicast media streams coming from
			the IPv6 network.
</li>
</ul><p>	
		
</p>
<p>The Translator function has the following responsibilities:
		</p>
<ul class="text">
<li>creating a mapping between IPv6 and IPv4 &lt;Source, Group> 
			address pairs for multicast streams, beginning with IPv6 address 
			pairs provided in requests from the 6rd CE and assigning the 
			corresponding IPv4 unicast and multicast addresses from pool of 
			addresses with which it is configured.
</li>
<li>responding to requests for mappings in either direction.
</li>
</ul><p>
		
</p>
<a name="solSteps"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.2"></a><h3>2.2.&nbsp;
Steps In the Proposed Solution</h3>

<p>1. Initial discovery and Join request
</p>
<p>The IPv6 Host discovers the &lt;Source, Group> address pair of a multicast
		stream the user wants to receive. The discovery is by means outside 
		the scope of this specification (e.g., via the web). The IPv6 Host 
		sends an MLDv2 <a class='info' href='#RFC3810'>[RFC3810]<span> (</span><span class='info'>Vida, R. and L. Costa, &ldquo;Multicast Listener Discovery Version 2 (MLDv2) for IPv6,&rdquo; June&nbsp;2004.</span><span>)</span></a> request to the 6rd CE to 
		acquire the stream.
</p><br /><hr class="insert" />
<a name="fig_step1"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
+----+        +----+
|IPv6|  LAN   | 6rd|
|Host|--------| CE |
+----+        +----+
      -------&gt;
      MLD/IPv6
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;2&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>2. &lt;Source, Group> Address Mapping At 6rd CE
</p>
<p>The 6rd CE checks its cache of mappings to see if it already has a
		mapping between the IPv6 &lt;Source, Group> address pair received in 
		the MLD request and a corresponding pair of IPv4 addresses. Failing
		to find a mapping, it sends a request for the required mapping to the
		Translator. The Translator in turn checks whether it has already
		created the mapping. If not, it assigns unicast and multicast IPv4 
		addresses from its pool and records the mapping for further use. In
		either case it returns the requested mapping to the 6rd CE, which caches
		it. [Editor's Note: The transaction is carried out over a protocol to be 
		specified in a later version of this document.]
</p><br /><hr class="insert" />
<a name="fig_step2"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
              +----+ Access +--------+           +------------+
              | 6rd|  Link  |Provider|    IPv4   | Translator |
              | CE |--------|IP Edge |- network -|  function  |
              +----+        +--------+           +------------+
                   -----------------------------&gt;
                      TBD protocol / IPv4
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;3&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>3. Propagation Of the Join Request Into the IPv4 Network
</p>
<p>The 6rd CE interworks between the MLDv2 request it received and an 
		IGMPv3 <a class='info' href='#RFC3376'>[RFC3376]<span> (</span><span class='info'>Cain, B., Deering, S., Kouvelas, I., Fenner, B., and A. Thyagarajan, &ldquo;Internet Group Management Protocol, Version 3,&rdquo; October&nbsp;2002.</span><span>)</span></a> request which it forwards to the 
		Provider IP Edge. It uses the address pair mapping it received from
		the Translator as part of this interworking.
</p>
<p>The Provider IP Edge acts on the IGMP request by forwarding a PIM 
		<a class='info' href='#RFC3973'>[RFC3973]<span> (</span><span class='info'>Adams, A., Nicholas, J., and W. Siadak, &ldquo;Protocol Independent Multicast - Dense Mode (PIM-DM): Protocol Specification (Revised),&rdquo; January&nbsp;2005.</span><span>)</span></a> or <a class='info' href='#RFC4601'>[RFC4601]<span> (</span><span class='info'>Fenner, B., Handley, M., Holbrook, H., and I. Kouvelas, &ldquo;Protocol Independent Multicast - Sparse Mode (PIM-SM): Protocol Specification (Revised),&rdquo; August&nbsp;2006.</span><span>)</span></a> request into the
		IPv4 network, indicating the IPv4 &lt;Source, Group> address pair it 
		was given and ensuring that it is on the multicast tree for the stream
		concerned. [Editor's note: details later.]
</p>
<p>Eventually the PIM request finds its way to the 6rd Border Relay.
		[Editor's note: details needed here to make sure this happens. 
		Alternatively, we could recast this as using any Border Router and not
		a 6rd Relay in particular, but we would end up with possibly different
		paths for the multicast packets and the returning unicast RTCP feedback. Maybe
		that doesn't matter.]
</p><br /><hr class="insert" />
<a name="fig_step3"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
              +----+ Access +--------+           +------+
              | 6rd|  Link  |Provider|    IPv4   |Border|    IPv6
              | CE |--------|IP Edge |- network -|Relay |-  network
              +----+        +--------+           +------+
                    --------&gt;        ------------&gt;
	                  IGMP/IPv4          PIM/IPv4
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;4&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>4. Remapping the &lt;Source, Group> Address Pair At the 6rd BR
</p>
<p>The 6rd BR needs to map from the IPv4 &lt;Source, Group> address
		pair it received back to the corresponding IPv6 address pair before
		propagating the PIM request into the IPv6 network. It sends a request
		to the Translator to provide that mapping. The Translator already 
		has this mapping, as a result of the original 6rd CE request, and 
		returns it to the 6rd BR. [Editor's note: protocol again to be specified
		later. It can probably be the same as the one used by the 6rd CE, since
		both nodes are operator-managed even if the 6rd CE is more likely to 
		have been hacked. Have to work out the security considerations.] 
</p><br /><hr class="insert" />
<a name="fig_step4"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
                                                 +------+
                                                 |Border|
                                                 |Relay |
                                                 +------+
                                                    | TBD protocol
                                                    |    /IPv4
                                               +----V-------+
                                               | Translator |
                                               |  function  |
                                               +------------+
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;5&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>5. Propagation Of the PIM Request Into the IPv6 Network
</p>
<p>The 6rd BR propagates translates the PIM request from IPv4 to IPv6 
		using the mapping it received. It propagates the request into the IPv6
		network to complete the construction of the path for the requested 
		multicast stream. [Editor's note: probably don't have to go this far
		if there are already other listeners attached to the IPv4 network.
		Have to insert corresponding text in previous steps. Also, if PIM 
		can return errors, the 6rd BR should notify the Translator so it can
		mark the IPv6 address pair as bad (so it doesn't get remapped) while 
		releasing the assigned IPv4 addresses.]
</p><br /><hr class="insert" />
<a name="fig_step5"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
                                                 +------+
                                                 |Border|    IPv6
                                                 |Relay |-  network
                                                 +------+
                                                         -----------&gt;
                                                           PIM/IPv6
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;6&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>6. Transport of Multicast Media and Unicast RTCP Feedback
</p>
<p>If the 6rd BR receives a multicast packet from the IPv6 network, it
 		translates the source and group addresses to IPv4 using the mapping it
 		has retained from Step 4. It then forwards it to the next hop in the
 		multicast tree for that stream.
</p><br /><hr class="insert" />
<a name="fig_step6"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
                                                 +------+
                                        IPv4     |Border|    IPv6
                                       network  -|Relay |-  network
                                                 +------+
                                   &lt;----------        &lt;----------
                                     Media packet         Media packet
                                    &lt;S',G'&gt;/IPv4      &lt;S,G&gt;/IPv6
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;7&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>When the 6rd CE receives a multicast packet from the IPv4 network,
 		it translates the packet to IPv4 using the mapping which it has 
 		retained from Step 2.
</p>
<p>When the IPv6 Host sends unicast RTCP <a class='info' href='#RFC3550'>[RFC3550]<span> (</span><span class='info'>Schulzrinne, H., Casner, S., Frederick, R., and V. Jacobson, &ldquo;RTP: A Transport Protocol for Real-Time Applications,&rdquo; July&nbsp;2003.</span><span>)</span></a> 
 		feedback toward the source, the packets are treated by the 6rd CE and
 		6rd BR like any other unicast packets. That is, they are encapsulated
 		at the 6rd CE, transported across the IPv4 network as IPv6-in-IPv4, and
 		decapsulated at the 6rd BR before forwarding into the IPv6 network.
</p>
<p>Finally, if the IPv6 Host emits multicast packets destined for an
 		any-source multicast group, the 6rd CE and 6rd BR translate the packets
 		from IPv6 to IPv4 and back again using the mappings they have retained.
</p>
<a name="Acknowledgements"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Acknowledgements</h3>

<p>Awaiting comments.
</p>
<a name="IANA"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
IANA Considerations</h3>

<p>This memo currently includes no request to IANA.
</p>
<a name="Security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Security Considerations</h3>

<p>To come.
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>6.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3376">[RFC3376]</a></td>
<td class="author-text">Cain, B., Deering, S., Kouvelas, I., Fenner, B., and A. Thyagarajan, &ldquo;<a href="http://tools.ietf.org/html/rfc3376">Internet Group Management Protocol, Version 3</a>,&rdquo; RFC&nbsp;3376, October&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3376.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3810">[RFC3810]</a></td>
<td class="author-text">Vida, R. and L. Costa, &ldquo;<a href="http://tools.ietf.org/html/rfc3810">Multicast Listener Discovery Version 2 (MLDv2) for IPv6</a>,&rdquo; RFC&nbsp;3810, June&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3810.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3973">[RFC3973]</a></td>
<td class="author-text">Adams, A., Nicholas, J., and W. Siadak, &ldquo;<a href="http://tools.ietf.org/html/rfc3973">Protocol Independent Multicast - Dense Mode (PIM-DM): Protocol Specification (Revised)</a>,&rdquo; RFC&nbsp;3973, January&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc3973.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4601">[RFC4601]</a></td>
<td class="author-text">Fenner, B., Handley, M., Holbrook, H., and I. Kouvelas, &ldquo;<a href="http://tools.ietf.org/html/rfc4601">Protocol Independent Multicast - Sparse Mode (PIM-SM): Protocol Specification (Revised)</a>,&rdquo; RFC&nbsp;4601, August&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4601.txt">TXT</a>, <a href="http://www.rfc-editor.org/rfc/rfc4601.pdf">PDF</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5969">[RFC5969]</a></td>
<td class="author-text">Townsley, W. and O. Troan, &ldquo;<a href="http://tools.ietf.org/html/rfc5969">IPv6 Rapid Deployment on IPv4 Infrastructures (6rd) -- Protocol Specification</a>,&rdquo; RFC&nbsp;5969, August&nbsp;2010 (<a href="http://www.rfc-editor.org/rfc/rfc5969.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>6.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC3550">[RFC3550]</a></td>
<td class="author-text">Schulzrinne, H., Casner, S., Frederick, R., and V. Jacobson, &ldquo;<a href="http://tools.ietf.org/html/rfc3550">RTP: A Transport Protocol for Real-Time Applications</a>,&rdquo; STD&nbsp;64, RFC&nbsp;3550, July&nbsp;2003 (<a href="http://www.rfc-editor.org/rfc/rfc3550.txt">TXT</a>, <a href="http://www.rfc-editor.org/rfc/rfc3550.ps">PS</a>, <a href="http://www.rfc-editor.org/rfc/rfc3550.pdf">PDF</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5569">[RFC5569]</a></td>
<td class="author-text">Despres, R., &ldquo;<a href="http://tools.ietf.org/html/rfc5569">IPv6 Rapid Deployment on IPv4 Infrastructures (6rd)</a>,&rdquo; RFC&nbsp;5569, January&nbsp;2010 (<a href="http://www.rfc-editor.org/rfc/rfc5569.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Tina Tsou</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Huawei Technologies (USA)</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">2330 Central Expressway</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Santa Clara, CA  95050</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+1 408 330 4424</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:tena@huawei.com">tena@huawei.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://tinatsou.weebly.com/contact.html">http://tinatsou.weebly.com/contact.html</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Tom Taylor</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Huawei Technologies</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">1852 Lorraine Ave</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Ottawa, Ontario  K1H 6Z8</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Canada</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+1 613 680 2675</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:tom111.taylor@bell.net">tom111.taylor@bell.net</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Cathy Zhou</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Huawei Technologies</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Bantian, Longgang District</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Shenzhen  518129</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">P.R. China</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text"></td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:cathyzhou@huawei.com">cathyzhou@huawei.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Hui Ji</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">China Telecom</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">NO19.North Street</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Beijing, Chaoyangmen,Dongcheng District</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">P.R. China</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text"></td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:jihui@chinatelecom.com.cn">jihui@chinatelecom.com.cn</a></td></tr>
</table>
</body></html>
