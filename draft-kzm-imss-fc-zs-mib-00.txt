

Internet Draft                                              C. DeSanti
                                                            H.K. Vivek
                                                         K. McCloghrie
                                                                S. Gai
                                                         Cisco Systems
                                                        31 August 2005

                     Fibre-Channel Zone Server MIB
          draft-kzm-imss-fc-zs-mib-00.txt and T11/05-505v1

Status of this Memo

   "By submitting this Internet-Draft, each author represents that any
   applicable patent or other IPR claims of which he or she is aware
   have been or will be disclosed, and any of which he or she becomes
   aware will be disclosed, in accordance with Section 6 of BCP 79."

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet- Drafts as reference
   material or to cite them other than as "work in progress".

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.  Internet-Draft Shadow
   Directories are listed at http://www.ietf.org/shadow.html.

Copyright Notice

   Copyright (C) The Internet Society (2005).  All Rights Reserved.

Abstract

   This memo defines a portion of the Management Information Base (MIB)
   for use with network management protocols in the Internet community.
   In particular, it describes managed objects for information related
   to a Fibre Channel Zone Server.  At present, this memo is being
   proposed to T11.5 (http://www.t11.org).  The plan is that it will
   later become a work item of IETF's IMSS working group.








Expires February 2006                                           [Page 1]





Internet Draft             FC Zone Server MIB                August 2005


Table of Contents


   1 Introduction .................................................    3
   2 The Internet-Standard Management Framework ...................    3
   3 Short Overview of Fibre Channel ..............................    3
   4 Relationship to Other MIBs ...................................    6
   5 MIB Overview .................................................    6
   5.1 Fibre Channel management instance ..........................    6
   5.2 Switch Index ...............................................    7
   5.3 Fabric Index ...............................................    7
   5.4 The t11ZsBasicGroup Group ..................................    7
   5.5 The t11ZsEnhancedModeGroup .................................    7
   5.6 The t11ZsActivateGroup .....................................    8
   5.7 The t11ZsStatisticsGroup ...................................    8
   5.8 The t11ZsNotificationGroup .................................    8
   5.9 The t11ZsNotificationControlGroup ..........................    8
   6 The T11-GS-SERVER-SESSION-MIB Module .........................    9
   7 The T11-ZONE-SERVER-MIB Module ...............................   15
   8 Intellectual Property ........................................   67
   9 Acknowledgements .............................................   67
   10 Normative References ........................................   67
   11 Informative References ......................................   68
   12 IANA Considerations .........................................   69
   13 Security Considerations .....................................   69
   14 Authors' Addresses ..........................................   70






















Expires February 2006                                           [Page 2]





Internet Draft             FC Zone Server MIB                August 2005


1.  Introduction

   This memo defines a portion of the Management Information Base (MIB)
   for use with network management protocols in the Internet community.
   In particular, it describes managed objects for information related
   to a Fibre Channel network's Zone Server.

2.  The Internet-Standard Management Framework

   For a detailed overview of the documents that describe the current
   Internet-Standard Management Framework, please refer to section 7 of
   RFC 3410 [RFC3410].

   Managed objects are accessed via a virtual information store, termed
   the Management Information Base or MIB.  MIB objects are generally
   accessed through the Simple Network Management Protocol (SNMP).
   Objects in the MIB are defined using the mechanisms defined in the
   Structure of Management Information (SMI).  This memo specifies a MIB
   module that is compliant to the SMIv2, which is described in STD 58,
   RFC 2578 [RFC2578], STD 58, RFC 2579 [RFC2579] and STD 58, RFC 2580
   [RFC2580].


3.  Short Overview of Fibre Channel

   The Fibre Channel (FC) is logically a bidirectional point-to-point
   serial data channel, structured for high performance.  Fibre Channel
   provides a general transport vehicle for higher level protocols such
   as Small Computer System Interface (SCSI) command sets, the High-
   Performance Parallel Interface (HIPPI) data framing, IP (Internet
   Protocol), IEEE 802.2, and others.

   Physically, Fibre Channel is an interconnection of multiple
   communication points, called N_Ports, interconnected either by a
   switching network, called a Fabric, or by a point-to-point link.  A
   Fibre Channel "node" consists of one or more N_Ports.  A Fabric may
   consist of multiple Interconnect Elements, some of which are
   switches.  An N_Port connects to the Fabric via a port on a switch
   called an F_Port.  When multiple FC nodes are connected to a single
   port on a switch via an "Arbitrated Loop" topology, the switch port
   is called an FL_Port, and the nodes' ports are called NL_Ports.  The
   term Nx_Port is used to refer to either an N_Port or an NL_Port.  The
   term Fx_Port is used to refer to either an F_Port or an FL_Port.  A
   switch port, which is interconnected to another switch port via an
   Inter-Switch Link (ISL), is called an E_Port.  A B_Port connects a





Expires February 2006                                           [Page 3]





Internet Draft             FC Zone Server MIB                August 2005


   bridge device with an E_Port on a switch; a B_Port provides a subset
   of E_Port functionality.

   Many Fibre Channel components, including the fabric, each node, and
   most ports, have globally-unique names.  These globally-unique names
   are typically formatted as World Wide Names (WWNs).  More information
   on WWNs can be found in [FC-FS].  WWNs are expected to be persistent
   across agent and unit resets.

   Fibre Channel frames contain 24-bit address identifiers which
   identify the frame's source and destination ports.  Each FC port has
   both an address identifier and a WWN.  When a fabric is in use, the
   FC address identifiers are dynamic and are assigned by a switch.
   Each octet of a 24-bit address represents a level in an address
   hierarchy, with a Domain_ID being the highest level of the hierarchy.

   Fabric Zones provide a mechanism to control frame delivery between
   Nx_Ports ("Hard Zoning") or to expose selected views of Name Server
   information ("Soft Zoning").  This technique is similar to virtual
   private networks in that the fabric has the ability to group devices
   into Zones.

   Administrators create Zones to increase network security, and prevent
   data loss or corruption, by controlling access between devices or
   user groups. Zones may be specifically used to create:

      a) Barriers between devices that use different operating systems.
         It is often critical to separate servers and storage devices
         with different operating systems because accidental transfer of
         information from one to another may delete or corrupt data;

      b) Logical subsets of closed user groups. Administrators may
         authorize access rights to specific Zones for specific user
         groups, thereby protecting confidential data from unauthorized
         access;

      c) Groups of devices that are separate from devices in the rest of
         a fabric. Zones allow certain processes to be performed on
         devices in a group without interrupting devices in other
         groups; or

      d) Temporary access between devices for specific purposes.
         Administrators may remove Zone restrictions temporarily, then
         restore Zone restrictions to perform normal processes.






Expires February 2006                                           [Page 4]





Internet Draft             FC Zone Server MIB                August 2005


   Zones are configured via a Fabric Zone Server, using requests defined
   in FC-GS-5 [FC-GS-5]), or via the T11-ZONE-SERVER-MIB module defined
   in this memo, or via some other mechanism.

   An Nx_Port may be a member of one or more Zones. Zone membership may
   be specified by:

      a) The N_Port_Name of the Nx_Port connected to the switch;
      b) The N_Port_ID assigned during Fabric Login;
      c) The Node_Name associated with the Nx_Port; note that the
         Node_Name may include more than one Nx_Port;
      d) The F_Port_Name of the Fx_Port to which the Nx_Port is
         connected; or
      e) The domain identification (Domain_ID) and physical port number
         of the Switch Port to which the Nx_Port is attached.

   A Fabric's Zone Server may be used to create a Zone by specifying the
   Zone Members. One or more Zones may be collected into a Zone Set, and
   a Zone may be a member of more than one Zone Set. A Zone Set creates
   a collection of Zones that may be activated or deactivated as a
   single entity across all Switches in a Fabric (e.g., having two Zone
   Sets, one for normal operation, and a second for backup during off-
   hours). Only one Zone Set may be activated at one time.

   Other terminology defined in GS-5 is:  an Active Zone Set is the Zone
   Set currently enforced by a Fabric; a Zone Set Database is a database
   of the Zone Sets available to be activated within a Fabric; and a
   Zoning Database is a generic term used to indicate a combination of
   an Active Zone Set and a Zone Set Database.

   Two distinct sets of management requests, Enhanced and Basic, are
   defined in [FC-GS-5] to interact with a Fabric Zone Server.  If all
   the Switches in a Fabric support the Enhanced request set, then it
   may be used by a management application; otherwise only the Basic
   request set may be used, in order to support backward compatibility.

   In Enhanced Zoning, write access to a Zone Server's Zoning Database
   is rejected unless it occurs inside a Zoning session.  A Zoning
   session is a Server session with a sub-type specifying the Zone
   Server.  A Server session is delimited by a switch's receipt of
   Server Session Begin (SSB) and Server Session End (SSE) requests,
   sent via FC-GS-5's Common Transport (CT) protocol.

   A Zoning session in Enhanced Zoning is associated with a lock on the
   Fabric.  An SSB request locks the Fabric, and an SSE request releases





Expires February 2006                                           [Page 5]





Internet Draft             FC Zone Server MIB                August 2005


   the lock.  Changes requested in a Zoning Database by Enhanced Zoning
   commands persist after the end of the Zoning session only if the
   commands are followed by a Commit Zone Changes (CMIT) request within
   the same Server session.  Query requests to a Fabric Zone Server (in
   Enhanced mode) should be issued inside a Zoning session in order to
   ensure that the Zoning Database information obtained is consistent.


4.  Relationship to Other MIBs

   The Fibre Channel Management MIB [FC-MGMT] defines basic information
   for Fibre Channel hosts and switches, including extensions to the
   standard IF-MIB for Fibre Channel interfaces.

   This MIB extends beyond [FC-MGMT] to cover the  management of Fibre
   Channel Zoning Servers, both for Basic Zoning Management and for
   Enhanced Zoning Management, as defined in the FC-GS-5 specification.

   This MIB imports some common Textual Conventions from T11-TC-MIB,
   defined in [FC-FAM-MIB].  It also imports a TC from T11-FC-NAME-
   SERVER-MIB, defined in [FC-NSM-MIB].


5.  MIB Overview

   This document defines two MIB modules: T11-GS-SERVER-SESSION-MIB and
   T11-ZONE-SERVER-MIB.

   T11-GS-SERVER-SESSION-MIB supports FC-GS-5's (potentially) generic
   capability of having Server sessions, a capability which is used by
   Enhanced Zoning.

   T11-ZONE-SERVER-MIB is specific to the operation of Zone Servers,
   which can operate in Basic mode or in Enhanced mode.

5.1.  Fibre Channel management instance

   A Fibre Channel management instance is defined in [FC-MGMT] as a
   separable managed instance of Fibre Channel functionality.  Fibre
   Channel functionality may be grouped into Fibre Channel management
   instances in whatever way is most convenient for the
   implementation(s).  For example, one such grouping accommodates a
   single SNMP agent having multiple AgentX [RFC2741] sub-agents, with
   each sub-agent implementing a different Fibre Channel management
   instance.





Expires February 2006                                           [Page 6]





Internet Draft             FC Zone Server MIB                August 2005


   The object, fcmInstanceIndex, is IMPORTed from the FC-MGMT-MIB
   [FC-MGMT] as the index value to uniquely identify each Fibre Channel
   management instance within the same SNMP context ([RFC3411] section
   3.3.1).

5.2.  Switch Index

   The FC-MGMT-MIB [FC-MGMT] defines the fcmSwitchTable as a table of
   information about Fibre Channel switches which are managed by Fibre
   Channel management instances.  Each Fibre Channel management instance
   can manage one or more Fibre Channel switches.  The Switch Index,
   fcmSwitchIndex, is IMPORTed from the FC-MGMT-MIB as the index value
   to uniquely identify a Fibre Channel switch amongst those (one or
   more) managed by the same Fibre Channel management instance.

5.3.  Fabric Index

   The latest standard for an interconnecting Fabric containing multiple
   Fabric Switch elements is [FC-SW-4]; it specifies the operation of
   both a single Fabric in a physical infrastructure, as well as the
   support of multiple Virtual Fabrics operating within one (or more)
   physical infrastructures.  Whether operating on a physical Fabric
   (i.e., without Virtual Fabrics) or within a Virtual Fabric, the
   operation of a Zone Server within a Fabric is identical.  Therefore,
   this MIB defines all Fabric-related information in tables which are
   INDEX-ed by an arbitrary integer, named a "Fabric Index", the syntax
   of which is IMPORTed from the T11-TC-MIB [FC-FAM-MIB].  When a device
   is connected to a single physical Fabric, without use of any virtual
   Fabrics, the value of this Fabric Index will always be 1.  In an
   environment of multiple virtual and/or physical Fabrics, this index
   provides a means to distinguish one Fabric from another.

5.4.  The t11ZsBasicGroup Group

   This group contains objects to retrieve and to modify the Zoning
   configuration of a Zone Server capable of operating in Basic mode.

5.5.  The t11ZsEnhancedModeGroup

   This group contains objects to retrieve and to modify the Zoning
   configuration of a Zone Server capable of operating in Enhanced mode.









Expires February 2006                                           [Page 7]





Internet Draft             FC Zone Server MIB                August 2005


5.6.  The t11ZsActivateGroup

   This group contains objects which allow a Zone Set to be activated
   via SNMP SetRequests and provide the status and result of such an
   activation.

5.7.  The t11ZsStatisticsGroup

   This group contains objects for collecting Zone Server statistics.

5.8.  The t11ZsNotificationGroup

   This group contains notifications for monitoring: Zone merge
   successes and failures, Zone Server request rejections, changes in
   the Default Zoning behaviour, and the success or failure of an
   attempt to activate or deactivate a Zone Set.

5.9.  The t11ZsNotificationControlGroup

   This group contains objects which allow each type of notification (in
   the t11ZsNotificationGroup group) to be indepenently enabled or
   disabled.  It also contains objects which are used to include useful
   information in those notifications; these objects are defined as
   read-only to allow the values contained in the most recent
   notification to be queried.

























Expires February 2006                                           [Page 8]





Internet Draft             FC Zone Server MIB                August 2005


6.  The T11-GS-SERVER-SESSION-MIB Module


T11-GS-SERVER-SESSION-MIB  DEFINITIONS ::= BEGIN

IMPORTS
    MODULE-IDENTITY, OBJECT-TYPE,
    mib-2                              FROM SNMPv2-SMI       -- [RFC2578]
    MODULE-COMPLIANCE, OBJECT-GROUP    FROM SNMPv2-CONF      -- [RFC2580]
    fcmInstanceIndex, fcmSwitchIndex   FROM FC-MGMT-MIB      -- [FC-MGMT]
    T11FabricIndex                     FROM T11-TC-MIB;   -- [FC-FAM-MIB]

t11GsServerSessionMIB  MODULE-IDENTITY
    LAST-UPDATED  "200508170000Z"
    ORGANIZATION  "T11"
    CONTACT-INFO
             "     Claudio DeSanti
                   Cisco Systems, Inc.
                   170 West Tasman Drive
                   San Jose, CA 95134 USA
                   EMail: cds@cisco.com

                   Keith McCloghrie
                   Cisco Systems, Inc.
                   170 West Tasman Drive
                   San Jose, CA 95134 USA
                   Email: kzm@cisco.com"
    DESCRIPTION
            "The MIB module for the management of Fibre Channel
             Server Sessions as defined generically in FC-GS-5
             to represent a collection of one or more requests
             for the session's server.  Such a session is
             started by a Server Session Begin (SSB) request and
             terminated by a Server Session End (SSE) request.
             In particular, GS-5 Server Sessions are used by
             Enhanced Zoning Management."
    REVISION  "200508170000Z"
    DESCRIPTION
            "Initial version of this MIB."
    ::= { mib-2 nnn } -- to be determined later

t11GssMIBObjects        OBJECT IDENTIFIER ::= { t11GsServerSessionMIB 1 }
t11GssMIBConformance    OBJECT IDENTIFIER ::= { t11GsServerSessionMIB 2 }
t11GssMIBNotifications  OBJECT IDENTIFIER ::= { t11GsServerSessionMIB 0 }
t11GssConfiguration     OBJECT IDENTIFIER ::= { t11GssMIBObjects 1 }





Expires February 2006                                           [Page 9]





Internet Draft             FC Zone Server MIB                August 2005


--
-- t11GssSessionTable
--

t11GssSessionTable OBJECT-TYPE
    SYNTAX       SEQUENCE OF T11GssSessionEntry
    MAX-ACCESS   not-accessible
    STATUS       current
    DESCRIPTION
            "A table containing information about the active
             GS-5 Server sessions on one or more switches on
             all fabrics known to those switches."
    REFERENCE
             "ANSI INCITS xxx/200x, T11/Project 1677-D/Rev 8.00,
              Fibre Channel - Generic Services-5 (FC-GS-5),
              17 September 2004, sections 4.9.5 and 6.4.10.2."
    ::= { t11GssConfiguration 1 }

t11GssSessionEntry OBJECT-TYPE
    SYNTAX       T11GssSessionEntry
    MAX-ACCESS   not-accessible
    STATUS       current
    DESCRIPTION
            "Each entry contains information specific to a
             GS-5 Server session for a particular fabric on
             a particular switch (identified by values of
             fcmInstanceIndex and fcmSwitchIndex).  Note that
             each switch can have at most one Server session
             per Fabric.

             If GS-5 requires that a session be established
             before changes can be made, then in order to make
             such changes via SNMP SetRequests, an entry in
             this table must be created.  Such an entry is
             created implicitly (with t11GssSessionOwnerType
             having a value of 'snmp') by the first SetRequest
             which makes such a change."
    INDEX   { fcmInstanceIndex, fcmSwitchIndex,
              t11GssSessionFabricIndex }
    ::= { t11GssSessionTable 1 }

T11GssSessionEntry ::= SEQUENCE {
    t11GssSessionFabricIndex     T11FabricIndex,
    t11GssSessionOwnerType       INTEGER,
    t11GssSessionOwner           OCTET STRING,





Expires February 2006                                          [Page 10]





Internet Draft             FC Zone Server MIB                August 2005


    t11GssSessionControl         INTEGER,
    t11GssSessionCommitResult    INTEGER
}

t11GssSessionFabricIndex OBJECT-TYPE
    SYNTAX       T11FabricIndex
    MAX-ACCESS   not-accessible
    STATUS       current
    DESCRIPTION
           "A unique index value which uniquely identifies a
           particular Fabric.

           In a fabric conformant to FC-SW-4, multiple Virtual Fabrics
           can operate within one (or more) physical infrastructures,
           and this index value is used to uniquely identify a
           particular (physical or virtual) fabric within a physical
           infrastructure.

           In a fabric conformant to versions earlier than FC-SW-4,
           only a single fabric could operate within a physical
           infrastructure, and thus, the value of this fabric index
           was defined to always be 1."
    ::= { t11GssSessionEntry 1 }

t11GssSessionOwnerType OBJECT-TYPE
    SYNTAX        INTEGER {
                      other(1),
                      gs5client(2),
                      cli(3),
                      snmp(4)
                  }
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
            "This object specifies the owner type for this
             session:

               other     - none of the following.
               gs5client - Fibre Channel GS-5 services client.
               cli       - Command Line Interface (CLI).
               snmp      - this session was established due to
                           an SNMP SetRequest.
            "
    ::= { t11GssSessionEntry 2 }






Expires February 2006                                          [Page 11]





Internet Draft             FC Zone Server MIB                August 2005


t11GssSessionOwner OBJECT-TYPE
    SYNTAX          OCTET STRING (SIZE(0..64))
    MAX-ACCESS      read-only
    STATUS          current
    DESCRIPTION
            "This object specifies the owner for this session.

             If the value of the corresponding instance
             of t11GssSessionOwnerType is 'gs5client', this
             object will contain the FC_ID of the GS-5 client
             which issued the Server Session Begin (SSB)
             which initiated this session.

             If the value of the corresponding instance
             of t11GssSessionOwnerType object is 'cli', this
             object will contain the user name of the CLI
             (Command Line Interface) user on whose behalf
             the session was setup.

             If the value of the corresponding instance
             of t11GssSessionOwnerType is 'snmp', this object
             will contain the source IP address of the SNMP
             SetRequests which initiated the setup of this
             session."
    REFERENCE
             "ANSI INCITS xxx/200x, T11/Project 1677-D/Rev 8.00,
              Fibre Channel - Generic Services-5 (FC-GS-5),
              17 September 2004, section 4.9.5.2."
    ::= { t11GssSessionEntry 3 }

t11GssSessionControl OBJECT-TYPE
    SYNTAX        INTEGER {
                      commitZoneChanges(1),
                      terminateSession(2),
                      noop(3)
                  }
    MAX-ACCESS    read-write
    STATUS        current
    DESCRIPTION
            "This object can only be set when the corresponding
             instance of t11GssSessionOwnerType has the value
             'snmp' and by the owner of the session.
             A particular Server may impose additional
             constraints, e.g., a Zone Server will reject a
             commit when it is operating in Basic mode.





Expires February 2006                                          [Page 12]





Internet Draft             FC Zone Server MIB                August 2005


             Setting the object requests an action:

              commitZoneChanges - requests that the changes made
                                  within this session to the Zone
                                  Set Database be committed.
              terminateSession  - requests that the session be
                                  terminated, with any outstanding
                                  changes made within this session
                                  being discarded.
              noop              - requests nothing.

             When read, the value is always 'noop'."
    REFERENCE
             "ANSI INCITS xxx/200x, T11/Project 1677-D/Rev 8.00,
              Fibre Channel - Generic Services-5 (FC-GS-5),
              17 September 2004, section 6.4.10.2."
    ::= { t11GssSessionEntry 4 }

t11GssSessionCommitResult OBJECT-TYPE
    SYNTAX        INTEGER {
                      commitSuccessful(1),
                      commitInProgress(2),
                      commitFailed(3),
                      none(4)
                  }
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
            "This object indicates the outcome of the most recent
             'commitChanges' request which was invoked via the
             corresponding instance of t11GssSessionControl.

             The value 'none' indicates that no such request has
             been invoked via the corresponding instance of
             t11GssSessionControl."
    REFERENCE
             "ANSI INCITS xxx/200x, T11/Project 1677-D/Rev 8.00,
              Fibre Channel - Generic Services-5 (FC-GS-5),
              17 September 2004, section 6.4.10.2.3."
    ::= { t11GssSessionEntry 5 }

-- Conformance

t11GssMIBCompliances OBJECT IDENTIFIER ::= { t11GssMIBConformance 1 }
t11GssMIBGroups      OBJECT IDENTIFIER ::= { t11GssMIBConformance 2 }





Expires February 2006                                          [Page 13]





Internet Draft             FC Zone Server MIB                August 2005


t11GssMIBCompliance MODULE-COMPLIANCE
    STATUS       current
    DESCRIPTION
            "The compliance statement for entities which support
             GS-5 Server sessions."
    MODULE MANDATORY-GROUPS { t11GssActiveGroup }

    OBJECT       t11GssSessionControl
    MIN-ACCESS   read-only
    DESCRIPTION
            "Write access is not required."

    ::= { t11GssMIBCompliances 1 }

-- Units of Conformance

t11GssActiveGroup OBJECT-GROUP
    OBJECTS  { t11GssSessionOwnerType,
               t11GssSessionOwner,
               t11GssSessionControl,
               t11GssSessionCommitResult
             }
    STATUS   current
    DESCRIPTION
            "A collection of objects containing information
             about active GS-5 Server sessions."
    ::= { t11GssMIBGroups 1 }

END





















Expires February 2006                                          [Page 14]





Internet Draft             FC Zone Server MIB                August 2005


7.  The T11-ZONE-SERVER-MIB Module


T11-ZONE-SERVER-MIB  DEFINITIONS ::= BEGIN

IMPORTS
    MODULE-IDENTITY, OBJECT-TYPE,
    NOTIFICATION-TYPE, mib-2,
    Counter32, Unsigned32            FROM SNMPv2-SMI         -- [RFC2578]
    MODULE-COMPLIANCE, OBJECT-GROUP,
    NOTIFICATION-GROUP               FROM SNMPv2-CONF        -- [RFC2580]
    TEXTUAL-CONVENTION, RowStatus,
    StorageType,
    TruthValue, TimeStamp            FROM SNMPv2-TC          -- [RFC2579]
    SnmpAdminString                  FROM SNMP-FRAMEWORK-MIB -- [RFC3411]
    ifIndex                          FROM IF-MIB             -- [RFC2863]
    fcmInstanceIndex, fcmSwitchIndex,
    FcNameIdOrZero,
    FcDomainIdOrZero                 FROM FC-MGMT-MIB        -- [FC-MGMT]
    T11NsGs4RejectReasonCode   FROM T11-FC-NAME-SERVER-MIB -- [FC-NS-MIB]
    T11FabricIndex             FROM T11-TC-MIB            -- [FC-FAM-MIB]
    t11FamLocalSwitchWwn FROM T11-FC-FABRIC-ADDR-MGR-MIB; -- [FC-FAM-MIB]

t11ZoneServerMIB  MODULE-IDENTITY
    LAST-UPDATED  "200508170000Z"
    ORGANIZATION  "T11"
    CONTACT-INFO
             "     Claudio DeSanti
                   Cisco Systems, Inc.
                   170 West Tasman Drive
                   San Jose, CA 95134 USA
                   EMail: cds@cisco.com

                   Keith McCloghrie
                   Cisco Systems, Inc.
                   170 West Tasman Drive
                   San Jose, CA 95134 USA
                   Email: kzm@cisco.com"
    DESCRIPTION
            "The MIB module for the management of Fibre Channel
             Zoning Servers, both for Basic Zoning Management
             and for Enhanced Zoning Management, as defined in
             the FC-GS-5 specification.

             When this MIB is used for Enhanced Zoning Management,





Expires February 2006                                          [Page 15]





Internet Draft             FC Zone Server MIB                August 2005


             operations which request the modification of zoning
             definitions will be rejected if they are not issued
             within the context of a GS-5 Server session -- see the
             related MIB module: T11-GS-SERVER-SESSION-MIB.  For
             changes to a Zone Set Database made by SNMP SetRequests
             within the context of a GS-5 Server session, a Zone Server
             (in Enhanced mode) keeps track of such changes but does not
             update its Zone Set Database unless and until a 'commit'
             operation.  To model this behaviour, this MIB assumes that
             a Zone Server (in Enhanced mode) takes a snapshot of its
             Zone Set Database when a session is established so as to
             create what is herein called the 'copy' database.  It is
             this 'copy' database which is then updated by SNMP
             SetRequests within that session.  If and when a 'commit'
             operation is requested in the session, the 'copy' database
             is then used to overwrite the committed contents of the Zone
             Set database, and the new Zone Set database is distributed
             to all other switches in the fabric.  If the session
             is ended without a successful commit, the updates made
             during the session (or, since any last previous commit
             in the same session) are discarded.

             When this MIB is used for Basic Zoning Management,
             operations which request the modification of Zoning
             definitions are made at the Zone Server on a particular
             switch, and a separate set of MIB objects are defined to
             request they be distributed across the fabric."
    REVISION  "200508170000Z"
    DESCRIPTION
            "Initial version of this MIB."
    ::= { mib-2 nnn }                     -- to be determined later

t11ZsMIBObjects        OBJECT IDENTIFIER ::= { t11ZoneServerMIB 1 }
t11ZsMIBConformance    OBJECT IDENTIFIER ::= { t11ZoneServerMIB 2 }
t11ZsMIBNotifications  OBJECT IDENTIFIER ::= { t11ZoneServerMIB 0 }
t11ZsConfiguration     OBJECT IDENTIFIER ::= { t11ZsMIBObjects 1 }
t11ZsStatistics        OBJECT IDENTIFIER ::= { t11ZsMIBObjects 2 }

-- Textual Conventions

T11ZsZoneMemberType ::= TEXTUAL-CONVENTION
    STATUS        current
    DESCRIPTION
            "Represents the addressing mechanism by
             which a member is identified:





Expires February 2006                                          [Page 16]





Internet Draft             FC Zone Server MIB                August 2005


                01 - N_Port_Name
                02 - Domain_ID and physical port
                03 - N_Port_ID
                04 - Node_Name
                05 - Alias Name
                06 - F_Port_Name
                E0-FF (hex) - Vendor Specific.
             "
    REFERENCE
             "ANSI INCITS xxx/200x, T11/Project 1677-D/Rev 8.00,
              Fibre Channel - Generic Services-5 (FC-GS-5),
              17 September 2004, section 6.4.8.3.6."
    SYNTAX        Unsigned32 (0..255)

T11ZsRejectReasonExplanation ::= TEXTUAL-CONVENTION
    STATUS        current
    DESCRIPTION
            "The reason code explanation when rejecting a
             Zone Server request:

              'other'
                  - e.g., a reason code assigned too recently
                    to be included in this version of this MIB
               'noAdditionalExplanation'
                  - there is no additional explanation
               'zonesNotSupported'
                  - Zones are not supported
               'zoneSetNameUnknown'
                  - Zone Set name is not known
               'noZoneSetActive'
                  - no Zone Set is currently active
               'zoneNameUnknown'
                  - Zone name is unknown
               'zoneStateUnknown'
                  - state of the Zone is not known
               'incorrectPayloadLen'
                  - payload length is not correct
               'tooLargeZoneSet'
                  - Zone Set is larger than permitted size
               'deactivateZoneSetFailed'
                  - deactivation of Zone Set failed
               'reqNotSupported'
                  - request is not supported
               'capabilityNotSupported'
                  - capability is not supported





Expires February 2006                                          [Page 17]





Internet Draft             FC Zone Server MIB                August 2005


               'zoneMemberIDTypeNotSupp'
                  - Zone Member Identifier Type is not supported
               'invalidZoneSetDefinition'
                  - Zone Set definition is invalid
               'enhancedZoningCmdsNotSupported'
                  - Enhanced Zoning commands are not supported
               'zoneSetExists'
                  - Zone Set already exists
               'zoneExists'
                  - Zone already exists
               'aliasExists'
                  - Zone Alias already exists
               'zoneSetUnknown'
                  - Zone Set unknown
               'zoneUnknown'
                  - Zone unknown
               'aliasUnknown'
                  - Zone Alias unknown
               'zoneAliasTypeUnknown'
                  - unknown Zone attribute type
               'unableEnhancedMode'
                  - fabric unable to work in Enhanced Mode
               'basicZoningCmdsNotSupported'
                  - Basic Zoning commands are not supported
               'zoneAttribObjectExists'
                  - Zone attribute object already exists
               'zoneAttribObjectUnknown'
                  - Zone attribute object unknown
               'requestInProcess'
                  - request in process
               'cmitInProcess'
                  - CMIT in process
               'hardEnforcementFailed'
                  - hard enforcement failed
               'unresolvedReferences'
                  - unresolved referecnes in the Zone Set Database
               'consistencyChecksFailed'
                  - consistency checks failed."
    REFERENCE
             "ANSI INCITS xxx/200x, T11/Project 1677-D/Rev 8.00,
              Fibre Channel - Generic Services-5 (FC-GS-5),
              17 September 2004, section 6.4.9."
    SYNTAX        INTEGER {
                      other(1),
                      noAdditionalExplanation(2),





Expires February 2006                                          [Page 18]





Internet Draft             FC Zone Server MIB                August 2005


                      zonesNotSupported(3),
                      zoneSetNameUnknown(4),
                      noZoneSetActive(5),
                      zoneNameUnknown(6),
                      zoneStateUnknown(7),
                      incorrectPayloadLen(8),
                      tooLargeZoneSet(9),
                      deactivateZoneSetFailed(10),
                      reqNotSupported(11),
                      capabilityNotSupported(12),
                      zoneMemberIDTypeNotSupp(13),
                      invalidZoneSetDefinition(14),
                      enhancedZoningCmdsNotSupported(15),
                      zoneSetExists(16),
                      zoneExists(17),
                      aliasExists(18),
                      zoneSetUnknown(19),
                      zoneUnknown(20),
                      aliasUnknown(21),
                      zoneAliasTypeUnknown(22),
                      unableEnhancedMode(23),
                      basicZoningCmdsNotSupported(24),
                      zoneAttribObjectExists(25),
                      zoneAttribObjectUnknown(26),
                      requestInProcess(27),
                      cmitInProcess(28),
                      hardEnforcementFailed(29),
                      unresolvedReferences(30),
                      consistencyChecksFailed(31)
                  }

T11ZoningName ::= TEXTUAL-CONVENTION
    STATUS        current
    DESCRIPTION
            "This datatype is a refinement of an SnmpAdminString,
             and is used to represent a name stored in a Fibre
             Channel Zoning Data Structure.

             The value begins with a letter (upper or lower case)
             followed by zero or more characters from the set:
             lower case letters, upper case letters, numbers, and
             the symbols ($-^_).

             The value does not include fill bytes."
    REFERENCE





Expires February 2006                                          [Page 19]





Internet Draft             FC Zone Server MIB                August 2005


            "ANSI INCITS xxx/200x, T11/Project 1677-D/Rev 8.00,
             Fibre Channel - Generic Services-5 (FC-GS-5),
             17 September 2004, section 6.4.8.1."
    SYNTAX       OCTET STRING (SIZE (1..64))

--
-- t11ZsServerTable
--

t11ZsServerTable OBJECT-TYPE
    SYNTAX       SEQUENCE OF T11ZsServerEntry
    MAX-ACCESS   not-accessible
    STATUS       current
    DESCRIPTION
            "A table containing information about the Zone Servers
             on each fabric in one or more switches, and providing
             the capability to perform operations on their Zone
             Server databases."
    ::= { t11ZsConfiguration 1 }

t11ZsServerEntry OBJECT-TYPE
    SYNTAX       T11ZsServerEntry
    MAX-ACCESS   not-accessible
    STATUS       current
    DESCRIPTION
            "Each entry contains information specific to a
             Zone Server for a particular fabric (identified by
             the value of t11ZsServerFabricIndex) on a particular
             switch (identified by values of fcmInstanceIndex
             and fcmSwitchIndex)."
    INDEX   { fcmInstanceIndex, fcmSwitchIndex,
              t11ZsServerFabricIndex }
    ::= { t11ZsServerTable 1 }

T11ZsServerEntry ::= SEQUENCE {
    t11ZsServerFabricIndex           T11FabricIndex,
    t11ZsServerCapabilityObject      BITS,
    t11ZsServerDatabaseStorageType   StorageType,
    t11ZsServerDistribute            INTEGER,
    t11ZsServerDistributeResult      INTEGER,
    t11ZsServerDistributeFailReason  SnmpAdminString,
    t11ZsServerLastChange            TimeStamp,
    t11ZsServerHardZoning            TruthValue,
    t11ZsServerReadFromDatabase      INTEGER,
    t11ZsServerOperationMode         INTEGER,





Expires February 2006                                          [Page 20]





Internet Draft             FC Zone Server MIB                August 2005


    t11ZsServerChangeModeResult      INTEGER,
    t11ZsServerDefaultZoneSetting    INTEGER,
    t11ZsServerMergeControlSetting   INTEGER,
    t11ZsServerDefZoneBroadcast      TruthValue
}

t11ZsServerFabricIndex OBJECT-TYPE
    SYNTAX       T11FabricIndex
    MAX-ACCESS   not-accessible
    STATUS       current
    DESCRIPTION
           "A unique index value which uniquely identifies a
           particular fabric.

           In a fabric conformant to FC-SW-4, multiple Virtual Fabrics
           can operate within one (or more) physical infrastructures,
           and this index value is used to uniquely identify a
           particular (physical or virtual) fabric within a physical
           infrastructure.

           In a fabric conformant to versions earlier than FC-SW-4,
           only a single fabric could operate within a physical
           infrastructure, and thus, the value of this fabric index
           was defined to always be 1."
    ::= { t11ZsServerEntry 1 }

t11ZsServerCapabilityObject OBJECT-TYPE
    SYNTAX        BITS {
                      enhancedMode(0),
                      zonesetDb(1),
                      activateDirect(2),
                      hardZoning(3)
                  }
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
            "This bitmap represents the capability of the switch
             on this fabric:

               'enhancedMode' - able to support enhanced Zoning
                                mode of operation.

               'zonesetDb'    - able to support maintaining of
                                a Zone Set Database.






Expires February 2006                                          [Page 21]





Internet Draft             FC Zone Server MIB                August 2005


               'activateDirect' - able to support the Activate
                                  Direct command.

               'hardZoning'   - able to support Hard Zoning."
    REFERENCE
            "Fibre Channel - Switch Fabric - 4 (FC-SW-4),
             T11/Project 1674-D/Rev 7.5, June 2005,
             section 6.1.23.4.4"
    ::= { t11ZsServerEntry 2 }

t11ZsServerDatabaseStorageType OBJECT-TYPE
    SYNTAX       StorageType
    MAX-ACCESS   read-write
    STATUS       current
    DESCRIPTION
            "This object specifies the memory realization, on a
             particular switch, of the Zone Set database for a
             particular fabric.  Specifically, each row in the
             following tables:

                      t11ZsSetTable
                      t11ZsZoneTable
                      t11ZsSetZoneTable
                      t11ZsAliasTable
                      t11ZsZoneMemberTable
                      t11ZsAttribBlockTable
                      t11ZsAttribTable

             has a StorageType as specified by the instance of
             this object which is INDEX-ed by the same values of
             fcmInstanceIndex, fcmSwitchIndex and
             t11ZsServerFabricIndex."
    DEFVAL { nonVolatile }
    ::= { t11ZsServerEntry 3 }

t11ZsServerDistribute OBJECT-TYPE
    SYNTAX       INTEGER {
                     noop(1),
                     zonesetDb(2)
                 }
    MAX-ACCESS   read-write
    STATUS       current
    DESCRIPTION
            "This object can be set only in Basic mode.  When set
             to the value 'zonesetDb', it requests that the Zone Set





Expires February 2006                                          [Page 22]





Internet Draft             FC Zone Server MIB                August 2005


             database of a particular switch for a particular fabric
             be distributed to every other switch in that fabric.

             Setting this object to 'noop' has no effect.
             When read, the value of this object is always 'noop'.

             Setting this object will fail if the corresponding
             instance of t11ZsServerOperationMode has the value
             'enhanced', or if the corresponding instance of
             t11ZsZoneSetDistributeResult has the value 'inProgress'."
    REFERENCE
            "Fibre Channel - Switch Fabric - 4 (FC-SW-4),
             T11/Project 1674-D/Rev 7.5, June 2005, section 6.1.19.1."
    ::= { t11ZsServerEntry 4 }

t11ZsServerDistributeResult OBJECT-TYPE
    SYNTAX       INTEGER {
                     success(1),
                     failure(2),
                     inProgress(3),
                     none(4)
                 }
    MAX-ACCESS   read-only
    STATUS       current
    DESCRIPTION
            "The status/result of a last distribution of the Zone
             Set database which was invoked via the corresponding
             instance of t11ZsZoneSetDistribute.

             The value 'none' indicates that no distribution has
             been invoked via the corresponding instance of
             t11ZsZoneSetDistribute."
    ::= { t11ZsServerEntry 5 }

t11ZsServerDistributeFailReason OBJECT-TYPE
    SYNTAX       SnmpAdminString (SIZE(0..64))
    MAX-ACCESS   read-only
    STATUS       current
    DESCRIPTION
            "When the corresponding instance of
             t11ZsZoneSetDistributeResult has the value 'failure',
             this object contains a textual message indicating the
             reason for that failure.  When the corresponding
             instance of t11ZsZoneSetDistributeResult has some
             other value, this object should contain the zero-length





Expires February 2006                                          [Page 23]





Internet Draft             FC Zone Server MIB                August 2005


             string."
    ::= { t11ZsServerEntry 6 }

t11ZsServerLastChange OBJECT-TYPE
    SYNTAX       TimeStamp
    MAX-ACCESS   read-only
    STATUS       current
    DESCRIPTION
            "The value of sysUpTime at the time of the last change
             (creation, modification or deletion) to the Zone Set
             database for the Zone Server for a particular fabric.
             If said Zone Set database has not changed since the
             last re-initialization of the local network management
             system, then this object will contain a zero value."
    ::= { t11ZsServerEntry 7 }

t11ZsServerHardZoning OBJECT-TYPE
    SYNTAX       TruthValue
    MAX-ACCESS   read-only
    STATUS       current
    DESCRIPTION
            "This object indicates whether this switch, if and when it
             is in Basic mode, enforces Hard Zoning on this fabric."
    REFERENCE
            "ANSI INCITS xxx/200x, T11/Project 1677-D/Rev 8.00,
             Fibre Channel - Generic Services-5 (FC-GS-5),
             17 September 2004, section 6.4.10.3.2."
    ::= { t11ZsServerEntry 8 }

t11ZsServerReadFromDatabase OBJECT-TYPE
        SYNTAX        INTEGER {
                          committedDB(1),
                          copyDB(2)
                      }
        MAX-ACCESS    read-write
        STATUS        current
        DESCRIPTION
                "In Enhanced mode, this object specifies whether
                 subsequent SNMP Responses (generated by the local SNMP
                 agent) to operations which read the configuration of
                 Zone Sets, Zones, Members, Aliases and Attributes will
                 reflect the values stored in the current (committed)
                 Zone Set database, or those stored in the 'copy'
                 database.






Expires February 2006                                          [Page 24]





Internet Draft             FC Zone Server MIB                August 2005


                 In Basic mode, the value of this object is always
                 'committedDB' (since there is no 'copy' database in
                 Basic mode)."
        DEFVAL { committedDB }
        ::= { t11ZsServerEntry 9 }

t11ZsServerOperationMode OBJECT-TYPE
    SYNTAX        INTEGER {
                      basic(1),
                      enhanced(2)
                  }
    MAX-ACCESS    read-write
    STATUS        current
    DESCRIPTION
            "The operational mode of the Zone Server.

             Setting this object to 'enhanced' requests the mode of
             operation of the Zone Server be Enhanced mode.
             Such a set can succeed only if all devices in the Fibre
             Channel fabric are capable of working in Enhanced mode.
             If not, the request will fail and the corresponding value
             of t11ZsServerChangeModeResult will so indicate.

             Setting this object to 'basic' requests the mode of
             operation of the Zone Server be Basic mode.  However,
             such a set may fail while operating in Enhanced mode,
             since FC-GS-5 makes no provision for changing (back)
             to Basic mode.

             Note that setting this object does not cause or require
             the setup of a 'session'."
    REFERENCE
            "ANSI INCITS xxx/200x, T11/Project 1677-D/Rev 8.00,
             Fibre Channel - Generic Services-5 (FC-GS-5),
             17 September 2004, sections 6.4.10.1.1 and 6.4.10.1.2."
    DEFVAL { basic }
    ::= { t11ZsServerEntry 10 }

t11ZsServerChangeModeResult OBJECT-TYPE
    SYNTAX        INTEGER {
                      success(1),
                      failure(2),
                      inProgress(3),
                      none(4)
                  }





Expires February 2006                                          [Page 25]





Internet Draft             FC Zone Server MIB                August 2005


    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
            "When this this object has the value of 'success' or
             'failure', the value indicates the outcome of the most
             recent request, invoked via t11ZsServerOperationMode,
             to change the mode of operation of the Zone Server.
             When such a request is in progress, this object has the
             value 'inProgress'.  Prior to the first such request,
             the value of this object is 'none'."
    ::= { t11ZsServerEntry 11 }

t11ZsServerDefaultZoneSetting OBJECT-TYPE
    SYNTAX       INTEGER {
                     permit(1),
                     deny(2)
                 }
    MAX-ACCESS   read-write
    STATUS       current
    DESCRIPTION
            "This object controls the Enhanced Zoning flag which
             governs the behaviour of the Default Zone on this fabric.

             If this object is set to 'permit', then the members of
             the Default Zone on this fabric can communicate with
             each other.

             If this object is set to 'deny', then the members of the
             Default Zone on this fabric cannot communicate with each
             other."
    REFERENCE
            "ANSI INCITS xxx/200x, T11/Project 1677-D/Rev 8.00,
             Fibre Channel - Generic Services-5 (FC-GS-5),
             17 September 2004, section 6.4.10.1.1."
    DEFVAL  { deny }
    ::= { t11ZsServerEntry 12 }

t11ZsServerMergeControlSetting OBJECT-TYPE
    SYNTAX        INTEGER {
                      allow(1),
                      restrict(2)
                  }
    MAX-ACCESS    read-write
    STATUS        current
    DESCRIPTION





Expires February 2006                                          [Page 26]





Internet Draft             FC Zone Server MIB                August 2005


            "This object controls the Enhanced Zoning flag which
             indicates the Merge Control Setting for this fabric:

               'allow'    - a switch may join the fabric only if
                            its Zoning Database is able to merge
                            with the fabric's Zoning Database.
               'restrict' - a switch may join the fabric only if
                            its Zoning Database is equal to the
                            fabric's Zoning Database."
    REFERENCE
            "ANSI INCITS xxx/200x, T11/Project 1677-D/Rev 8.00,
             Fibre Channel - Generic Services-5 (FC-GS-5),
             17 September 2004, section 6.4.10.1.1."
    DEFVAL { allow }
    ::= { t11ZsServerEntry 13 }

t11ZsServerDefZoneBroadcast OBJECT-TYPE
    SYNTAX       TruthValue
    MAX-ACCESS   read-write
    STATUS       current
    DESCRIPTION
            "This object controls an Enhanced Zoning capability:
             it indicates whether Broadcast Zoning is enabled on
             the Default Zone on this fabric. If this object is
             set to 'true', then it is enabled. If this object is
             set to 'false', then it is disabled.

             If broadcast Zoning is enabled on a Default Zone,
             then broadcast frames generated by a member in that
             Default Zone will be restricted to members in that
             Default Zone."
    REFERENCE
            "ANSI INCITS xxx/200x, T11/Project 1677-D/Rev 8.00,
             Fibre Channel - Generic Services-5 (FC-GS-5),
             17 September 2004, section 6.4.7.2.2."
    ::= { t11ZsServerEntry 14 }

--
-- t11ZsSetTable
--

t11ZsSetTable  OBJECT-TYPE
    SYNTAX       SEQUENCE OF T11ZsSetEntry
    MAX-ACCESS   not-accessible
    STATUS       current





Expires February 2006                                          [Page 27]





Internet Draft             FC Zone Server MIB                August 2005


    DESCRIPTION
            "A table containing information on every Zone
             Set in the Zone Set database of the Zone Servers
             on each fabric in one or more switches.

             In Enhanced mode, changes to a database made via this
             table are always made to the 'copy' database, but
             values read from this table reflect the contents of
             either the 'copy' database or the current (committed)
             database as indicated by the corresponding value of
             t11ZsServerReadFromDatabase."
    ::= { t11ZsConfiguration 2 }

t11ZsSetEntry  OBJECT-TYPE
    SYNTAX       T11ZsSetEntry
    MAX-ACCESS   not-accessible
    STATUS       current
    DESCRIPTION
            "Each entry contains information about a Zone Set
             in the Zone Set database of a particular fabric
             (identified by the value of t11ZsServerFabricIndex)
             on a particular switch (identified by values of
             fcmInstanceIndex and fcmSwitchIndex).

             A Zone Set is created containing zero or more
             existing Zones.  As and when new Zones are created
             (as rows in the t11ZsZoneTable), they can be added
             to a Zone Set by creating an entry for each in the
             t11ZsSetZoneTable.

             The StorageType of a row in this table is specified by
             the instance of t11ZsServerDatabaseStorageType which is
             INDEX-ed by the same values of fcmInstanceIndex,
             fcmSwitchIndex and t11ZsServerFabricIndex."
    INDEX   { fcmInstanceIndex, fcmSwitchIndex,
              t11ZsServerFabricIndex, t11ZsSetIndex }
    ::= { t11ZsSetTable 1 }

T11ZsSetEntry ::= SEQUENCE {
    t11ZsSetIndex          Unsigned32,
    t11ZsSetName           T11ZoningName,
    t11ZsSetRowStatus      RowStatus
}

t11ZsSetIndex  OBJECT-TYPE





Expires February 2006                                          [Page 28]





Internet Draft             FC Zone Server MIB                August 2005


    SYNTAX       Unsigned32 (1..4294967295)
    MAX-ACCESS   not-accessible
    STATUS       current
    DESCRIPTION
            "The index of a Zone Set. This object uniquely
             identifies a Zone Set in the Zone Set database
             for a particular fabric on a particular switch."
    ::= { t11ZsSetEntry 1 }

t11ZsSetName OBJECT-TYPE
    SYNTAX       T11ZoningName
    MAX-ACCESS   read-create
    STATUS       current
    DESCRIPTION
            "The name of this Zone Set. The t11ZsSetName should
             be unique within a fabric.

             The Zone Set can be renamed by setting this object
             to a new value."
    ::= { t11ZsSetEntry 2 }

t11ZsSetRowStatus OBJECT-TYPE
    SYNTAX       RowStatus
    MAX-ACCESS   read-create
    STATUS       current
    DESCRIPTION
            "The status of this conceptual row.

             This object can not be set to 'active' unless the
             corresponding value of t11ZsSetName is unique within
             the fabric's Zone Server database on this switch."
    ::= { t11ZsSetEntry 3 }

--
-- t11ZsZoneTable
--

t11ZsZoneTable OBJECT-TYPE
    SYNTAX       SEQUENCE OF T11ZsZoneEntry
    MAX-ACCESS   not-accessible
    STATUS       current
    DESCRIPTION
            "This table gives information on all the Zones in the
             Zone Set database of the Zone Servers on each fabric
             in one or more switches.





Expires February 2006                                          [Page 29]





Internet Draft             FC Zone Server MIB                August 2005


             In Enhanced mode, changes to a database made via this
             table are always made to the 'copy' database, but
             values read from this table reflect the contents of
             either the 'copy' database or the current (committed)
             database as indicated by the corresponding value of
             t11ZsServerReadFromDatabase."
    ::= { t11ZsConfiguration 3 }

t11ZsZoneEntry OBJECT-TYPE
    SYNTAX       T11ZsZoneEntry
    MAX-ACCESS   not-accessible
    STATUS       current
    DESCRIPTION
            "Each entry contains information about a Zone
             in the Zone Set database of a particular fabric
             (identified by the value of t11ZsServerFabricIndex)
             on a particular switch (identified by values of
             fcmInstanceIndex and fcmSwitchIndex).

             To create a Zone, first create an entry in this table,
             and then add members to it by creating entries in the
             t11ZsZoneMemberTable.

             The StorageType of a row in this table is specified by
             the instance of t11ZsServerDatabaseStorageType which is
             INDEX-ed by the same values of fcmInstanceIndex,
             fcmSwitchIndex and t11ZsServerFabricIndex."
    INDEX   { fcmInstanceIndex, fcmSwitchIndex,
              t11ZsServerFabricIndex, t11ZsZoneIndex }
    ::= { t11ZsZoneTable 1 }

T11ZsZoneEntry ::= SEQUENCE {
    t11ZsZoneIndex             Unsigned32,
    t11ZsZoneName              T11ZoningName,
    t11ZsZoneAttribBlock       Unsigned32,
    t11ZsZoneRowStatus         RowStatus
}

t11ZsZoneIndex  OBJECT-TYPE
    SYNTAX       Unsigned32 (1..4294967295)
    MAX-ACCESS   not-accessible
    STATUS       current
    DESCRIPTION
            "An index value which uniquely identifies this
             Zone within a particular fabric's Zone Set database





Expires February 2006                                          [Page 30]





Internet Draft             FC Zone Server MIB                August 2005


             on a particular switch."
    ::= { t11ZsZoneEntry 1 }

t11ZsZoneName OBJECT-TYPE
    SYNTAX       T11ZoningName
    MAX-ACCESS   read-create
    STATUS       current
    DESCRIPTION
            "The name of this Zone. The t11ZsZoneName should be
             unique within a fabric.

             The Zone can be renamed by setting this object
             to a new value."
    ::= { t11ZsZoneEntry 2 }

t11ZsZoneAttribBlock OBJECT-TYPE
    SYNTAX       Unsigned32 (0..4294967295)
    MAX-ACCESS   read-create
    STATUS       current
    DESCRIPTION
            "This object specifies the index value of the
             Zone Attribute Block which contains the Attributes
             of this Zone.

             In Enhanced mode, a value of zero indicates this
             Zone has no Zone Attributes.  In Basic mode, this
             object always has the value of zero."
    ::= { t11ZsZoneEntry 3 }

t11ZsZoneRowStatus OBJECT-TYPE
    SYNTAX       RowStatus
    MAX-ACCESS   read-create
    STATUS       current
    DESCRIPTION
            "The status of this conceptual row.

             This object can not be set to 'active' unless the
             corresponding value of t11ZsZoneName is unique within
             the fabric's Zone Server database on this switch."
    ::= { t11ZsZoneEntry 4 }

--
-- Which Zones belong to each Zone Set
--






Expires February 2006                                          [Page 31]





Internet Draft             FC Zone Server MIB                August 2005


t11ZsSetZoneTable  OBJECT-TYPE
    SYNTAX       SEQUENCE OF T11ZsSetZoneEntry
    MAX-ACCESS   not-accessible
    STATUS       current
    DESCRIPTION
            "This table specifies which Zones belong to which Zone
             Sets in the Zone Set database of the Zone Servers
             on each fabric in one or more switches."
    ::= { t11ZsConfiguration 4 }

t11ZsSetZoneEntry  OBJECT-TYPE
    SYNTAX       T11ZsSetZoneEntry
    MAX-ACCESS   not-accessible
    STATUS       current
    DESCRIPTION
            "Each entry specifies that a particular Zone (identified
             by the value of t11ZsZoneIndex) is one of the Zones
             which form a particular Zone Set (identified by the
             value of t11ZsSetIndex) in the Zone Set database of a
             particular fabric (identified by the value of
             t11ZsServerFabricIndex) on a particular switch
             (identified by values of fcmInstanceIndex and
             fcmSwitchIndex).

             The StorageType of a row in this table is specified by
             the instance of t11ZsServerDatabaseStorageType which is
             INDEX-ed by the same values of fcmInstanceIndex,
             fcmSwitchIndex and t11ZsServerFabricIndex."
    INDEX   { fcmInstanceIndex, fcmSwitchIndex,
              t11ZsServerFabricIndex,
              t11ZsSetIndex, t11ZsZoneIndex }
    ::= { t11ZsSetZoneTable 1 }

T11ZsSetZoneEntry ::= SEQUENCE {
    t11ZsSetZoneRowStatus      RowStatus
}

t11ZsSetZoneRowStatus OBJECT-TYPE
    SYNTAX       RowStatus
    MAX-ACCESS   read-create
    STATUS       current
    DESCRIPTION
            "The status of this conceptual row."
    ::= { t11ZsSetZoneEntry 1 }






Expires February 2006                                          [Page 32]





Internet Draft             FC Zone Server MIB                August 2005


--
-- t11ZsAliasTable
--

t11ZsAliasTable OBJECT-TYPE
    SYNTAX       SEQUENCE OF T11ZsAliasEntry
    MAX-ACCESS   not-accessible
    STATUS       current
    DESCRIPTION
            "This table contains information about the Zone Aliases
             in the Zone Set database of the Zone Servers on each
             fabric in one or more switches.

             In Enhanced mode, changes to a database made via this
             table are always made to the 'copy' database, but
             values read from this table reflect the contents of
             either the 'copy' database or the current (committed)
             database as indicated by the corresponding value of
             t11ZsServerReadFromDatabase."
    ::= { t11ZsConfiguration 5 }

t11ZsAliasEntry OBJECT-TYPE
    SYNTAX       T11ZsAliasEntry
    MAX-ACCESS   not-accessible
    STATUS       current
    DESCRIPTION
            "Each entry contains information about a Zone Alias in
             the Zone Set database of a particular fabric
             (identified by the value of t11ZsServerFabricIndex) on
             a particular switch (identified by values of
             fcmInstanceIndex and fcmSwitchIndex).

             A Zone Member is added to a Zone Alias by creating
             an entry in the t11ZsZoneMemberTable pointing to a
             row of this table via t11ZsAliasIndex, i.e.,:

             - t11ZsZoneMemberParentType = 'alias',
             - t11ZsZoneMemberParentIndex = Alias's t11ZsAliasIndex,
             - t11ZsZoneMemberFormat != '05 - Alias Name', and
             - t11ZsZoneMemberID = Member's identifier.

             A Zone Alias is added to a Zone by creating
             an entry in the t11ZsZoneMemberTable pointing to a
             row of this table via t11ZsAliasName, i.e.,:






Expires February 2006                                          [Page 33]





Internet Draft             FC Zone Server MIB                August 2005


             - t11ZsZoneMemberParentType = 'zone',  and
             - t11ZsZoneMemberParentIndex = Zone's t11ZsZoneIndex,
             - t11ZsZoneMemberFormat = '05 - Alias Name',
             - t11ZsZoneMemberID = Alias's t11ZsAliasName.

             The StorageType of a row in this table is specified by
             the instance of t11ZsServerDatabaseStorageType which is
             INDEX-ed by the same values of fcmInstanceIndex,
             fcmSwitchIndex and t11ZsServerFabricIndex."
    INDEX   { fcmInstanceIndex, fcmSwitchIndex,
              t11ZsServerFabricIndex, t11ZsAliasIndex }
    ::= { t11ZsAliasTable 1 }

T11ZsAliasEntry ::= SEQUENCE {
    t11ZsAliasIndex            Unsigned32,
    t11ZsAliasName             T11ZoningName,
    t11ZsAliasRowStatus        RowStatus
}

t11ZsAliasIndex OBJECT-TYPE
    SYNTAX       Unsigned32 (1..4294967295)
    MAX-ACCESS   not-accessible
    STATUS       current
    DESCRIPTION
            "An index value which uniquely identifies this Zone
             Alias within the Zone Set database of a particular
             fabric on a particular switch."
    ::= { t11ZsAliasEntry 1 }

t11ZsAliasName OBJECT-TYPE
    SYNTAX       T11ZoningName
    MAX-ACCESS   read-create
    STATUS       current
    DESCRIPTION
            "The name of this Zone Alias.  The name of the Zone
             Alias should be unique within a fabric.

             The Zone Alias can be renamed by setting this object
             to a new value if and when it is not in a Zone, i.e.,
             if and only if the current name is not the value of
             any t11ZsZoneMemberID in the same Zone Set database."
    ::= { t11ZsAliasEntry 2 }

t11ZsAliasRowStatus OBJECT-TYPE
    SYNTAX       RowStatus





Expires February 2006                                          [Page 34]





Internet Draft             FC Zone Server MIB                August 2005


    MAX-ACCESS   read-create
    STATUS       current
    DESCRIPTION
            "The status of this conceptual row.

             This object can not be set to 'active' unless the
             corresponding value of t11ZsAliasName is unique within
             the fabric's Zone Server database on this switch."
    ::= { t11ZsAliasEntry 3 }

--
-- t11ZsZoneMemberTable
--

t11ZsZoneMemberTable  OBJECT-TYPE
    SYNTAX       SEQUENCE OF T11ZsZoneMemberEntry
    MAX-ACCESS   not-accessible
    STATUS       current
    DESCRIPTION
            "This table contains all members of a Zone/Zone Alias
             and information about those members in the Zone Set
             database of the Zone Servers on each fabric in one or
             more switches.

             In Enhanced mode, changes to a database made via this
             table are always made to the 'copy' database, but
             values read from this table reflect the contents of
             either the 'copy' database or the current (committed)
             database as indicated by the corresponding value of
             t11ZsServerReadFromDatabase."
    ::= { t11ZsConfiguration 6 }

t11ZsZoneMemberEntry OBJECT-TYPE
    SYNTAX       T11ZsZoneMemberEntry
    MAX-ACCESS   not-accessible
    STATUS       current
    DESCRIPTION
            "Each entry represents the relationship between a
             member and (one of) its 'parent(s)', i.e., a Zone
             or Zone Alias to which the member belongs, within
             a particular fabric (identified by the value of
             t11ZsServerFabricIndex) on a particular switch
             (identified by values of fcmInstanceIndex and
             fcmSwitchIndex).






Expires February 2006                                          [Page 35]





Internet Draft             FC Zone Server MIB                August 2005


             A Zone member (other than an alias) is added to a
             Zone by creating an entry in this table having:

             - t11ZsZoneMemberParentType = 'zone',  and
             - t11ZsZoneMemberParentIndex = Zone's t11ZsZoneIndex,
             - t11ZsZoneMemberFormat != '05 - Alias Name',
             - t11ZsZoneMemberID = Member's identifier.

             The StorageType of a row in this table is specified by
             the instance of t11ZsServerDatabaseStorageType which is
             INDEX-ed by the same values of fcmInstanceIndex,
             fcmSwitchIndex and t11ZsServerFabricIndex."
    INDEX   { fcmInstanceIndex, fcmSwitchIndex,
              t11ZsServerFabricIndex, t11ZsZoneMemberParentType,
              t11ZsZoneMemberParentIndex, t11ZsZoneMemberIndex }
    ::= { t11ZsZoneMemberTable 1 }

T11ZsZoneMemberEntry ::= SEQUENCE {
    t11ZsZoneMemberParentType        INTEGER,
    t11ZsZoneMemberParentIndex       Unsigned32,
    t11ZsZoneMemberIndex             Unsigned32,
    t11ZsZoneMemberFormat            T11ZsZoneMemberType,
    t11ZsZoneMemberID                OCTET STRING,
    t11ZsZoneMemberRowStatus         RowStatus
}

t11ZsZoneMemberParentType  OBJECT-TYPE
    SYNTAX       INTEGER {
                     zone(1), -- member belongs to a Zone
                     alias(2) -- member belongs to a Zone Alias
                 }
    MAX-ACCESS   not-accessible
    STATUS       current
    DESCRIPTION
            "This object determines whether this member belongs
             to a Zone or an Zone Alias."
    ::= { t11ZsZoneMemberEntry 1 }

t11ZsZoneMemberParentIndex  OBJECT-TYPE
    SYNTAX       Unsigned32 (1..4294967295)
    MAX-ACCESS   not-accessible
    STATUS       current
    DESCRIPTION
            "This object contains the index value of the Zone or
             Zone Alias to which this member belongs.





Expires February 2006                                          [Page 36]





Internet Draft             FC Zone Server MIB                August 2005


             If the value of the corresponding instance of
             t11ZsZoneMemberParentType is 'zone', then this object
             will contain the value of the t11ZsZoneIndex object of
             the Zone to which this member belongs.

             If the value of the corresponding instance of
             t11ZsZoneMemberParentType is 'alias', then this object
             will contain the value of the t11ZsAliasIndex object
             of the Zone Alias to which this member belongs."
    ::= { t11ZsZoneMemberEntry 2 }

t11ZsZoneMemberIndex  OBJECT-TYPE
    SYNTAX       Unsigned32 (1..4294967295)
    MAX-ACCESS   not-accessible
    STATUS       current
    DESCRIPTION
            "An index value which uniquely identifies this Zone
             Member amongst all Zone Members in the Zone Set
             database of a particular fabric on a particular switch."
    ::= { t11ZsZoneMemberEntry 3 }

t11ZsZoneMemberFormat OBJECT-TYPE
    SYNTAX       T11ZsZoneMemberType
    MAX-ACCESS   read-create
    STATUS       current
    DESCRIPTION
            "This object identifies the format of the
             Zone/Zone Alias member's identifier contained in
             t11ZsZoneMemberID.

             This object can not be modified while the corresponding
             value of t11ZsZoneMemberRowStatus object is 'active'."
    ::= { t11ZsZoneMemberEntry 4 }

t11ZsZoneMemberID OBJECT-TYPE
    SYNTAX       OCTET STRING (SIZE (1..255))
    MAX-ACCESS   read-create
    STATUS       current
    DESCRIPTION
            "This object contains the Member Identifier of the
             Zone or Alias. The interpretation of this object
             depends on the value of the corresponding instance
             of t11ZsZoneMemberFormat:

             - if t11ZsZoneMemberFormat is 'N_Port_Name', then





Expires February 2006                                          [Page 37]





Internet Draft             FC Zone Server MIB                August 2005


               this object contains a N_Port_Name.

             - if t11ZsZoneMemberFormat is 'Domain_ID and physical
               port', then this object contains a 4-octet value in
               network-byte order.  The first octet is zero,
               the second octet contains the Domain_ID, and the
               last two octets contain the physical port number.

             - if t11ZsZoneMemberFormat is 'N_Port_ID', then this
               object contains the 3-octet Nx_Port FC_ID.

             - if t11ZsZoneMemberFormat is 'Alias Name', then
               this object contains the value of t11ZsAliasName
               for some Alias in the same Zone Set database.

             - if t11ZsZoneMemberFormat is 'Node_Name', then
               this object contains an 8-octet Node_Name.

             - if t11ZsZoneMemberFormat is 'F_Port_Name', then
               this object contains an 8-octet F_Port_Name.

             - if t11ZsZoneMemberFormat is one of the 'Vendor
               Specific' values, then this object contains a 1 to
               255 octet value in a format defined by the relevant
               vendor.

             This object cannot be modified while the corresponding
             value of t11ZsZoneMemberRowStatus object is 'active'."
    ::= { t11ZsZoneMemberEntry 5 }

t11ZsZoneMemberRowStatus OBJECT-TYPE
    SYNTAX       RowStatus
    MAX-ACCESS   read-create
    STATUS       current
    DESCRIPTION
            "The status of this conceptual row.

             The corresponding instances of t11ZsZoneMemberID and
             t11ZsZoneMemberFormat objects MUST be set before or
             concurrently with setting this object to 'active'."
    ::= { t11ZsZoneMemberEntry 6 }

--
-- t11ZsAttribBlockTable
--





Expires February 2006                                          [Page 38]





Internet Draft             FC Zone Server MIB                August 2005


t11ZsAttribBlockTable OBJECT-TYPE
    SYNTAX       SEQUENCE OF T11ZsAttribBlockEntry
    MAX-ACCESS   not-accessible
    STATUS       current
    DESCRIPTION
            "This table gives information on all the Zone
             Attributes in the Zone Set database of the Zone
             Servers on each fabric in one or more switches.

             In Enhanced mode, changes to a database made via this
             table are always made to the 'copy' database, but
             values read from this table reflect the contents of
             either the 'copy' database or the current (committed)
             database as indicated by the corresponding value of
             t11ZsServerReadFromDatabase."
    ::= { t11ZsConfiguration 7 }

t11ZsAttribBlockEntry OBJECT-TYPE
    SYNTAX       T11ZsAttribBlockEntry
    MAX-ACCESS   not-accessible
    STATUS       current
    DESCRIPTION
            "Each entry contains information about a Zone Attribute
             Block (of Zone Attributes) in the Zone Set database
             of a particular fabric (identified by the value of
             t11ZsServerFabricIndex) on a particular switch
             (identified by values of fcmInstanceIndex and
             fcmSwitchIndex).

             Deleting an entry in this table deletes all
             associated entries in the t11ZsAttribTable.

             The StorageType of a row in this table is specified by
             the instance of t11ZsServerDatabaseStorageType which is
             INDEX-ed by the same values of fcmInstanceIndex,
             fcmSwitchIndex and t11ZsServerFabricIndex."
    INDEX   { fcmInstanceIndex, fcmSwitchIndex,
              t11ZsServerFabricIndex, t11ZsAttribBlockIndex }
    ::= { t11ZsAttribBlockTable 1 }

T11ZsAttribBlockEntry ::= SEQUENCE {
    t11ZsAttribBlockIndex         Unsigned32,
    t11ZsAttribBlockName          T11ZoningName,
    t11ZsAttribBlockRowStatus     RowStatus
}





Expires February 2006                                          [Page 39]





Internet Draft             FC Zone Server MIB                August 2005


t11ZsAttribBlockIndex OBJECT-TYPE
    SYNTAX       Unsigned32 (1..4294967295)
    MAX-ACCESS   not-accessible
    STATUS       current
    DESCRIPTION
            "An index value which uniquely identifies this Zone
             Attribute within the Zone Set database of a particular
             fabric on a particular switch."
    ::= { t11ZsAttribBlockEntry 1 }

t11ZsAttribBlockName OBJECT-TYPE
    SYNTAX       T11ZoningName
    MAX-ACCESS   read-create
    STATUS       current
    DESCRIPTION
            "The name of this Zone Attribute Block, which should
             be unique within the fabric."
    ::= { t11ZsAttribBlockEntry 2 }

t11ZsAttribBlockRowStatus OBJECT-TYPE
    SYNTAX       RowStatus
    MAX-ACCESS   read-create
    STATUS       current
    DESCRIPTION
            "The status of this conceptual row."
    ::= { t11ZsAttribBlockEntry 3 }

--
-- t11ZsAttribTable
--

t11ZsAttribTable OBJECT-TYPE
    SYNTAX       SEQUENCE OF T11ZsAttribEntry
    MAX-ACCESS   not-accessible
    STATUS       current
    DESCRIPTION
            "This table gives information on the Zone Attributes
             within the Zone Attribute Blocks in the Zone Set
             database of the Zone Servers on each fabric in one
             or more switches.

             In Enhanced mode, changes to a database made via this
             table are always made to the 'copy' database, but
             values read from this table reflect the contents of
             either the 'copy' database or the current (committed)





Expires February 2006                                          [Page 40]





Internet Draft             FC Zone Server MIB                August 2005


             database as indicated by the corresponding value of
             t11ZsServerReadFromDatabase."
    ::= { t11ZsConfiguration 8 }

t11ZsAttribEntry OBJECT-TYPE
    SYNTAX       T11ZsAttribEntry
    MAX-ACCESS   not-accessible
    STATUS       current
    DESCRIPTION
            "Each entry contains information about a Zone
             Attribute in a Zone Attribute Block (identified by
             t11ZsAttribBlockIndex) in the Zone Set database of
             a particular fabric (identified by the value of
             t11ZsServerFabricIndex) on a particular switch
             (identified by values of fcmInstanceIndex and
             fcmSwitchIndex).

             An entry in this table cannot be created prior to
             its associated entry in the t11ZsAttribBlockTable.

             The StorageType of a row in this table is specified by
             the instance of t11ZsServerDatabaseStorageType which is
             INDEX-ed by the same values of fcmInstanceIndex,
             fcmSwitchIndex and t11ZsServerFabricIndex."
    INDEX   { fcmInstanceIndex, fcmSwitchIndex,
              t11ZsServerFabricIndex,
              t11ZsAttribBlockIndex, t11ZsAttribIndex }
    ::= { t11ZsAttribTable 1 }

T11ZsAttribEntry ::= SEQUENCE {
    t11ZsAttribIndex            Unsigned32,
    t11ZsAttribType             Unsigned32,
    t11ZsAttribValue            OCTET STRING,
    t11ZsAttribRowStatus        RowStatus
}

t11ZsAttribIndex OBJECT-TYPE
    SYNTAX       Unsigned32 (1..4294967295)
    MAX-ACCESS   not-accessible
    STATUS       current
    DESCRIPTION
            "An index value which uniquely identifies this
             Zone Attribute within its Zone Attribute Block in
             the Zone Set database of a particular fabric on a
             particular switch."





Expires February 2006                                          [Page 41]





Internet Draft             FC Zone Server MIB                August 2005


    ::= { t11ZsAttribEntry 1 }

t11ZsAttribType  OBJECT-TYPE
    SYNTAX       Unsigned32 (0..65535)
    MAX-ACCESS   read-create
    STATUS       current
    DESCRIPTION
            "The type of attribute:

                0001       - Protocol
                0002       - Broadcast Zone
                0003       - Hard Zone
                00E0 (hex) - Vendor Specific."
    REFERENCE
            "ANSI INCITS xxx/200x, T11/Project 1677-D/Rev 8.00,
             Fibre Channel - Generic Services-5 (FC-GS-5),
             17 September 2004, section 6.4.8.3.8."
    ::= { t11ZsAttribEntry 2 }

t11ZsAttribValue  OBJECT-TYPE
    SYNTAX       OCTET STRING (SIZE (0..255))
    MAX-ACCESS   read-create
    STATUS       current
    DESCRIPTION
            "The value of the attribute, formatted as specified
             in FC-GS-5 for the type given by the corresponding
             instance of t11ZsAttribType."
    REFERENCE
            "ANSI INCITS xxx/200x, T11/Project 1677-D/Rev 8.00,
             Fibre Channel - Generic Services-5 (FC-GS-5),
             17 September 2004, section 6.4.8.3.8."
    ::= { t11ZsAttribEntry 3 }

t11ZsAttribRowStatus OBJECT-TYPE
    SYNTAX       RowStatus
    MAX-ACCESS   read-create
    STATUS       current
    DESCRIPTION
            "The status of this conceptual row."
    ::= { t11ZsAttribEntry 4 }

--
-- Activating a Zone Set
--






Expires February 2006                                          [Page 42]





Internet Draft             FC Zone Server MIB                August 2005


t11ZsActivateTable  OBJECT-TYPE
    SYNTAX       SEQUENCE OF T11ZsActivateEntry
    MAX-ACCESS   not-accessible
    STATUS       current
    DESCRIPTION
            "This table provides a mechanism to allow a Zone Set
             to be activated on a fabric."
    ::= { t11ZsConfiguration 9 }

t11ZsActivateEntry OBJECT-TYPE
    SYNTAX       T11ZsActivateEntry
    MAX-ACCESS   not-accessible
    STATUS       current
    DESCRIPTION
            "Each entry reflects the state of the activation of a
             Zone Set by a particular switch (identified by values
             of fcmInstanceIndex and fcmSwitchIndex) on a particular
             fabric (identified by the value of
             t11ZsServerFabricIndex)."
    INDEX   { fcmInstanceIndex, fcmSwitchIndex,
              t11ZsServerFabricIndex }
    ::= { t11ZsActivateTable 1 }

T11ZsActivateEntry ::= SEQUENCE {
    t11ZsActivate              Unsigned32,
    t11ZsActivateDeactivate    INTEGER,
    t11ZsActivateResult        INTEGER,
    t11ZsActivateFailCause     SnmpAdminString,
    t11ZsActivateFailDomainId  FcDomainIdOrZero
}

t11ZsActivate OBJECT-TYPE
    SYNTAX       Unsigned32 (0..4294967295)
    MAX-ACCESS   read-write
    STATUS       current
    DESCRIPTION
            "Setting this object to a value is a request for a
             Zone Set to be activated on the fabric which is
             represented by this row.  The Zone Set to be
             activated is the one for which t11ZsSetIndex has
             the same value.

             If a Zone Set is already active on a fabric when a
             request is made to activate a different one on that
             fabric, then the existing Zone Set is automatically





Expires February 2006                                          [Page 43]





Internet Draft             FC Zone Server MIB                August 2005


             deactivated and the specified Zone Set is activated
             in instead.

             The value of this object when read is always 0."
    ::= { t11ZsActivateEntry 1 }

t11ZsActivateDeactivate OBJECT-TYPE
    SYNTAX       INTEGER {
                     deactivate(1),
                     noop(2)
                 }
    MAX-ACCESS   read-write
    STATUS       current
    DESCRIPTION
            "Setting this object to 'deactivate' is a request
             to deactivate the currently active Zone Set on
             a fabric.

             No action is taken if this object is set to 'noop'.
             When read, the value of this object is always 'noop'."
    ::= { t11ZsActivateEntry 2 }

t11ZsActivateResult OBJECT-TYPE
    SYNTAX       INTEGER {
                     activateSuccess(1),
                     activateFailure(2),
                     deactivateSuccess(3),
                     deactivateFailure(4),
                     inProgress(5),
                     none(6)
                 }
    MAX-ACCESS   read-only
    STATUS       current
    DESCRIPTION
            "This object indicates the outcome of the most recent
             activation/deactivation using this entry.

             When the value of this object is 'inProgress', the
             values of the corresponding instances of t11ZsActivate
             and t11ZsSetDeActivate cannot be modified.

             The value 'none' indicates activation/de-activation
             has not been attempted."
    ::= { t11ZsActivateEntry 3 }






Expires February 2006                                          [Page 44]





Internet Draft             FC Zone Server MIB                August 2005


t11ZsActivateFailCause OBJECT-TYPE
    SYNTAX       SnmpAdminString (SIZE (0..64))
    MAX-ACCESS   read-only
    STATUS       current
    DESCRIPTION
            "A textual message indicating the reason for the
             most recent failure of a Zone Set activation or
             de-activation, or the zero-length string if no
             information is available.

             When the corresponding instance of
             t11ZsActivateResult is either 'activateFailure'
             or 'deactivateFailure', the value of this object
             indicates the reason for that failure."
    ::= { t11ZsActivateEntry 4 }

t11ZsActivateFailDomainId OBJECT-TYPE
    SYNTAX       FcDomainIdOrZero
    MAX-ACCESS   read-only
    STATUS       current
    DESCRIPTION
            "If the failure cause (as indicated by
             t11ZsSetFailCause) was specific to a particular
             device, this object contains the Domain_ID of that
             device.  Otherwise, this object contains zero."
    ::= { t11ZsActivateEntry 5 }

--
-- The Active/Enforced Zone Sets
--

t11ZsActiveTable OBJECT-TYPE
    SYNTAX       SEQUENCE OF T11ZsActiveEntry
    MAX-ACCESS   not-accessible
    STATUS       current
    DESCRIPTION
            "A table containing information on the currently
             enforced/active Zone Set on each fabric.
             An active Zone Set cannot be modified.
             This table will be empty when no Zone Set is
             activated."
    ::= { t11ZsConfiguration 10 }

t11ZsActiveEntry OBJECT-TYPE
    SYNTAX       T11ZsActiveEntry





Expires February 2006                                          [Page 45]





Internet Draft             FC Zone Server MIB                August 2005


    MAX-ACCESS   not-accessible
    STATUS       current
    DESCRIPTION
            "Each entry represents an active Zone Set of a
             particular fabric (identified by the value of
             t11ZsServerFabricIndex), according to a particular
             switch (identified by values of fcmInstanceIndex and
             fcmSwitchIndex)."
    INDEX   { fcmInstanceIndex, fcmSwitchIndex,
              t11ZsServerFabricIndex }
    ::= { t11ZsActiveTable 1 }

T11ZsActiveEntry ::= SEQUENCE {
    t11ZsActiveZoneSetName    T11ZoningName,
    t11ZsActiveActivateTime   TimeStamp
}

t11ZsActiveZoneSetName OBJECT-TYPE
    SYNTAX       T11ZoningName
    MAX-ACCESS   read-only
    STATUS       current
    DESCRIPTION
            "The name of this Zone Set on this fabric."
    ::= { t11ZsActiveEntry 1 }

t11ZsActiveActivateTime OBJECT-TYPE
    SYNTAX       TimeStamp
    MAX-ACCESS   read-only
    STATUS       current
    DESCRIPTION
            "The value of sysUpTime at which this entry was most
             recently activated.  If this row was activated prior to
             the last re-initialization of the local network management
             system, then this object will contain a zero value."
    ::= { t11ZsActiveEntry 2 }

--
-- Zones in the Active/Enforced Zone Set
--

t11ZsActiveZoneTable OBJECT-TYPE
    SYNTAX       SEQUENCE OF T11ZsActiveZoneEntry
    MAX-ACCESS   not-accessible
    STATUS       current
    DESCRIPTION





Expires February 2006                                          [Page 46]





Internet Draft             FC Zone Server MIB                August 2005


            "This table contains all the Zones that are present in
             the active Zone Sets on all fabrics."
    ::= { t11ZsConfiguration 11 }

t11ZsActiveZoneEntry OBJECT-TYPE
    SYNTAX       T11ZsActiveZoneEntry
    MAX-ACCESS   not-accessible
    STATUS       current
    DESCRIPTION
            "Each entry represents a Zone in the active Zone Set
             of a particular fabric (identified by the value of
             t11ZsServerFabricIndex), according to a particular
             switch (identified by values of fcmInstanceIndex and
             fcmSwitchIndex)."
    INDEX   { fcmInstanceIndex, fcmSwitchIndex,
              t11ZsServerFabricIndex, t11ZsActiveZoneIndex }
    ::= { t11ZsActiveZoneTable 1 }

T11ZsActiveZoneEntry ::= SEQUENCE {
    t11ZsActiveZoneIndex      Unsigned32,
    t11ZsActiveZoneName       T11ZoningName,
    t11ZsActiveBroadcast      TruthValue,
    t11ZsActiveHardZoning     TruthValue
}

t11ZsActiveZoneIndex  OBJECT-TYPE
    SYNTAX       Unsigned32 (1..4294967295)
    MAX-ACCESS   not-accessible
    STATUS       current
    DESCRIPTION
            "An index value which uniquely identifies this
             this Zone within the active Zone Set on a
             particular fabric."
    ::= { t11ZsActiveZoneEntry 1 }

t11ZsActiveZoneName OBJECT-TYPE
    SYNTAX       T11ZoningName
    MAX-ACCESS   read-only
    STATUS       current
    DESCRIPTION
            "The name of this Zone."
    ::= { t11ZsActiveZoneEntry 2 }

t11ZsActiveBroadcast OBJECT-TYPE
    SYNTAX       TruthValue





Expires February 2006                                          [Page 47]





Internet Draft             FC Zone Server MIB                August 2005


    MAX-ACCESS   read-only
    STATUS       current
    DESCRIPTION
            "This object indicates whether broadcast Zoning is
             enabled on this Zone.  If broadcast Zoning is enabled,
             then broadcast frames generated by a member in this
             Zone will be restricted to members in this Zone.

             This object is only instantiated in Enhanced mode."
    ::= { t11ZsActiveZoneEntry 3 }

t11ZsActiveHardZoning OBJECT-TYPE
    SYNTAX       TruthValue
    MAX-ACCESS   read-only
    STATUS       current
    DESCRIPTION
            "This object indicates whether hard Zoning is
             enabled on this Zone.

             This object is only instantiated in Enhanced mode."
    ::= { t11ZsActiveZoneEntry 4 }

--
-- Zone Members in the Active/Enforced Zone Set
--

t11ZsActiveZoneMemberTable OBJECT-TYPE
    SYNTAX       SEQUENCE OF T11ZsActiveZoneMemberEntry
    MAX-ACCESS   not-accessible
    STATUS       current
    DESCRIPTION
            "This table contains all members of all Zones
             within the active Zone Set on any fabric."
    ::= { t11ZsConfiguration 12 }

t11ZsActiveZoneMemberEntry OBJECT-TYPE
    SYNTAX       T11ZsActiveZoneMemberEntry
    MAX-ACCESS   not-accessible
    STATUS       current
    DESCRIPTION
            "Each entry represents a member of a Zone in the active
             Zone Set of a particular fabric (identified by the value
             t11ZsServerFabricIndex), according to a particular
             switch (identified by values of fcmInstanceIndex and
             fcmSwitchIndex)."





Expires February 2006                                          [Page 48]





Internet Draft             FC Zone Server MIB                August 2005


    INDEX   { fcmInstanceIndex, fcmSwitchIndex,
              t11ZsServerFabricIndex,
              t11ZsActiveZoneIndex, t11ZsActiveZoneMemberIndex }
    ::= { t11ZsActiveZoneMemberTable 1 }

T11ZsActiveZoneMemberEntry ::= SEQUENCE {
    t11ZsActiveZoneMemberIndex      Unsigned32,
    t11ZsActiveZoneMemberFormat     T11ZsZoneMemberType,
    t11ZsActiveZoneMemberID         OCTET STRING
}

t11ZsActiveZoneMemberIndex  OBJECT-TYPE
    SYNTAX       Unsigned32 (1..4294967295)
    MAX-ACCESS   not-accessible
    STATUS       current
    DESCRIPTION
            "An index value which uniquely identifies this
             member amongst the members of a particular Zone
             in the active Zone Set on a particular fabric."
    ::= { t11ZsActiveZoneMemberEntry 1 }

t11ZsActiveZoneMemberFormat OBJECT-TYPE
    SYNTAX       T11ZsZoneMemberType
    MAX-ACCESS   read-only
    STATUS       current
    DESCRIPTION
            "This object identifies the identifier format of the
             corresponding instance of t11ZsActiveZoneMemberID."
    ::= { t11ZsActiveZoneMemberEntry 2 }

t11ZsActiveZoneMemberID OBJECT-TYPE
    SYNTAX       OCTET STRING (SIZE (1..255))
    MAX-ACCESS   read-only
    STATUS       current
    DESCRIPTION
            "This value of this object identifies the member
             using the format specified in the corresponding
             instance of t11ZsActiveZoneMemberFormat."
    ::= { t11ZsActiveZoneMemberEntry 3 }

--
-- Zone Attibutes in the Active/Enforced Zone Set
--

t11ZsActiveAttribTable OBJECT-TYPE





Expires February 2006                                          [Page 49]





Internet Draft             FC Zone Server MIB                August 2005


    SYNTAX       SEQUENCE OF T11ZsActiveAttribEntry
    MAX-ACCESS   not-accessible
    STATUS       current
    DESCRIPTION
            "This table contains information about some of the
             Attributes of the Zones within the active Zone Set
             on each fabric.

             This table contains all the types of attributes
             which might apply zero, one, or more times to a Zone.
             Attributes which apply once and only to a Zone are
             specified in the t11ZsActiveZoneTable.

             This table will always empty in Basic mode.
             It will also be empty if there are no Zones in
             any active Zone Set having any of the applicable
             types of attributes."
    ::= { t11ZsConfiguration 13 }

t11ZsActiveAttribEntry OBJECT-TYPE
    SYNTAX       T11ZsActiveAttribEntry
    MAX-ACCESS   not-accessible
    STATUS       current
    DESCRIPTION
            "Each entry contains an Attribute of a particular
             Zone in the active Zone Set of a particular fabric
             (identified by the value of t11ZsServerFabricIndex),
             according to a particular switch (identified by
             values of fcmInstanceIndex and fcmSwitchIndex)."
    INDEX   { fcmInstanceIndex, fcmSwitchIndex,
              t11ZsServerFabricIndex,
              t11ZsActiveZoneIndex, t11ZsActiveAttribIndex }
    ::= { t11ZsActiveAttribTable 1 }

T11ZsActiveAttribEntry ::= SEQUENCE {
    t11ZsActiveAttribIndex        Unsigned32,
    t11ZsActiveAttribType         Unsigned32,
    t11ZsActiveAttribValue        OCTET STRING
}

t11ZsActiveAttribIndex  OBJECT-TYPE
    SYNTAX       Unsigned32 (1..4294967295)
    MAX-ACCESS   not-accessible
    STATUS       current
    DESCRIPTION





Expires February 2006                                          [Page 50]





Internet Draft             FC Zone Server MIB                August 2005


            "An index value which uniquely identifies this
             attribute amongst the other attributes for a
             particular Zone in the active Zone Set on a
             particular fabric."
    ::= { t11ZsActiveAttribEntry 1 }

t11ZsActiveAttribType  OBJECT-TYPE
    SYNTAX       Unsigned32 (0..65535)
    MAX-ACCESS   read-only
    STATUS       current
    DESCRIPTION
            "The type of attribute:

                0001       - Protocol
                00E0 (hex) - Vendor Specific

             Note that type 2 (Hard) and type 3 (Broadcast)
             are represented by t11ZsActiveBroadcast and
             t11ZsActiveHardZoning."
    REFERENCE
            "ANSI INCITS xxx/200x, T11/Project 1677-D/Rev 8.00,
             Fibre Channel - Generic Services-5 (FC-GS-5),
             17 September 2004, section 6.4.8.3.8."
    ::= { t11ZsActiveAttribEntry 2 }

t11ZsActiveAttribValue  OBJECT-TYPE
    SYNTAX       OCTET STRING (SIZE (0..255))
    MAX-ACCESS   read-only
    STATUS       current
    DESCRIPTION
            "The value of the attribute, formatted according to
             its type as indicated by the corresponding instance
             of t11ZsActiveAttribType."
    REFERENCE
            "ANSI INCITS xxx/200x, T11/Project 1677-D/Rev 8.00,
             Fibre Channel - Generic Services-5 (FC-GS-5),
             17 September 2004, section 6.4.8.3.8."
    ::= { t11ZsActiveAttribEntry 3 }

--
-- Zone Server Statistics
--
t11ZsStatsTable OBJECT-TYPE
    SYNTAX       SEQUENCE OF T11ZsStatsEntry
    MAX-ACCESS   not-accessible





Expires February 2006                                          [Page 51]





Internet Draft             FC Zone Server MIB                August 2005


    STATUS       current
    DESCRIPTION
            "A table of statistics maintained by Zone Servers."
    ::= { t11ZsStatistics 1 }

t11ZsStatsEntry OBJECT-TYPE
    SYNTAX       T11ZsStatsEntry
    MAX-ACCESS   not-accessible
    STATUS       current
    DESCRIPTION
            "A set of statistics for a Zone Server on a
             particular fabric (identified by the value of
             t11ZsServerFabricIndex) on a particular switch
             (identified by values of fcmInstanceIndex and
             fcmSwitchIndex)."
    INDEX   { fcmInstanceIndex, fcmSwitchIndex,
              t11ZsServerFabricIndex }
    ::= { t11ZsStatsTable 1 }

T11ZsStatsEntry ::= SEQUENCE {
    t11ZsTxMergeRequests      Counter32,
    t11ZsRxMergeAccepts       Counter32,
    t11ZsRxMergeRequests      Counter32,
    t11ZsTxMergeAccepts       Counter32,
    t11ZsTxChangeRequests     Counter32,
    t11ZsRxChangeAccepts      Counter32,
    t11ZsRxChangeRequests     Counter32,
    t11ZsTxChangeAccepts      Counter32,
    t11ZsRxGS5Requests        Counter32,
    t11ZsTxGS5Rejects         Counter32
}

t11ZsTxMergeRequests OBJECT-TYPE
    SYNTAX       Counter32
    MAX-ACCESS   read-only
    STATUS       current
    DESCRIPTION
            "The number of Merge Request Frames sent by this Zone
             Server to other Zone Servers in the same fabric."
    ::= { t11ZsStatsEntry 1 }

t11ZsRxMergeAccepts OBJECT-TYPE
    SYNTAX       Counter32
    MAX-ACCESS   read-only
    STATUS       current





Expires February 2006                                          [Page 52]





Internet Draft             FC Zone Server MIB                August 2005


    DESCRIPTION
            "The number of Merge Accept Frames received by this Zone
             Server from other Zone Servers in the same fabric."
    ::= { t11ZsStatsEntry 2 }

t11ZsRxMergeRequests OBJECT-TYPE
    SYNTAX       Counter32
    MAX-ACCESS   read-only
    STATUS       current
    DESCRIPTION
            "The number of Merge Request Frames received by this Zone
             Server from other Zone Servers in the same fabric."
    ::= { t11ZsStatsEntry 3 }

t11ZsTxMergeAccepts OBJECT-TYPE
    SYNTAX       Counter32
    MAX-ACCESS   read-only
    STATUS       current
    DESCRIPTION
            "The number of Merge Accept Frames sent by this Zone
             Server to other Zone Servers in the same fabric."
    ::= { t11ZsStatsEntry 4 }

t11ZsTxChangeRequests OBJECT-TYPE
    SYNTAX       Counter32
    MAX-ACCESS   read-only
    STATUS       current
    DESCRIPTION
            "The number of Change Requests sent by this Zone
             Server to other Zone Servers in the same fabric.

             This includes Acquire Change Authorization
             requests, Stage Fabric Config Update requests,
             Update Fabric Config requests and Release Change
             Authorization requests."
    ::= { t11ZsStatsEntry 5 }

t11ZsRxChangeAccepts OBJECT-TYPE
    SYNTAX       Counter32
    MAX-ACCESS   read-only
    STATUS       current
    DESCRIPTION
            "The number of Change Responses received by this Zone
             Server from other Zone Servers in the same fabric.






Expires February 2006                                          [Page 53]





Internet Draft             FC Zone Server MIB                August 2005


             This includes Acquire Change Authorization Accept,
             Stage Fabric Config Update Accept, Update Fabric
             Config Accept and Release Change Authorization
             Accept frames."
    ::= { t11ZsStatsEntry 6 }

t11ZsRxChangeRequests OBJECT-TYPE
    SYNTAX       Counter32
    MAX-ACCESS   read-only
    STATUS       current
    DESCRIPTION
            "The number of Change Requests received by this Zone
             Server from other Zone Servers in the same fabric.

             This includes Acquire Change Authorization requests,
             Stage Fabric Config Update requests, Update Fabric
             Config requests and Release Change Authorization
             requests."
    ::= { t11ZsStatsEntry 7 }

t11ZsTxChangeAccepts OBJECT-TYPE
    SYNTAX       Counter32
    MAX-ACCESS   read-only
    STATUS       current
    DESCRIPTION
            "The number of Change Responses sent by this Zone
             Server to other Zone Servers in the same fabric.

             This includes Acquire Change Authorization Accept,
             Stage Fabric Config Update Accept, Update Fabric
             Config Accept and Release Change Authorization
             Accept frames."
    ::= { t11ZsStatsEntry 8 }

t11ZsRxGS5Requests OBJECT-TYPE
    SYNTAX       Counter32
    MAX-ACCESS   read-only
    STATUS       current
    DESCRIPTION
            "The number of GS-5 requests received by this Zone
             Server on this fabric."
    ::= { t11ZsStatsEntry 9 }


t11ZsTxGS5Rejects OBJECT-TYPE





Expires February 2006                                          [Page 54]





Internet Draft             FC Zone Server MIB                August 2005


    SYNTAX       Counter32
    MAX-ACCESS   read-only
    STATUS       current
    DESCRIPTION
            "The number of GS-5 requests rejected by this Zone
             Server on this fabric."
    ::= { t11ZsStatsEntry 10 }

--
-- Notification Control Table
--
t11ZsNotifyControlTable OBJECT-TYPE
    SYNTAX       SEQUENCE OF T11ZsNotifyControlEntry
    MAX-ACCESS   not-accessible
    STATUS       current
    DESCRIPTION
            "A table of control information for notifications
             generated due to Zone Server events."
    ::= { t11ZsConfiguration 14 }

t11ZsNotifyControlEntry OBJECT-TYPE
    SYNTAX       T11ZsNotifyControlEntry
    MAX-ACCESS   not-accessible
    STATUS       current
    DESCRIPTION
            "Each entry contains notification control information
             specific to a Zone Server for a particular fabric
             (identified by the value of t11ZsServerFabricIndex)
             on a particular switch (identified by values of
             fcmInstanceIndex and fcmSwitchIndex)."
    INDEX   { fcmInstanceIndex, fcmSwitchIndex,
              t11ZsServerFabricIndex }
    ::= { t11ZsNotifyControlTable 1 }

T11ZsNotifyControlEntry ::= SEQUENCE {
     t11ZsNotifyRequestRejectEnable    TruthValue,
     t11ZsNotifyMergeFailureEnable     TruthValue,
     t11ZsNotifyMergeSuccessEnable     TruthValue,
     t11ZsNotifyDefZoneChangeEnable    TruthValue,
     t11ZsNotifyActivateEnable         TruthValue,
     t11ZsRejectCtCommandString        OCTET STRING,
     t11ZsRejectRequestSource          FcNameIdOrZero,
     t11ZsRejectReasonCode             T11NsGs4RejectReasonCode,
     t11ZsRejectReasonCodeExp          T11ZsRejectReasonExplanation
}





Expires February 2006                                          [Page 55]





Internet Draft             FC Zone Server MIB                August 2005


t11ZsNotifyRequestRejectEnable OBJECT-TYPE
    SYNTAX       TruthValue
    MAX-ACCESS   read-write
    STATUS       current
    DESCRIPTION
            "This object specifies whether
             t11ZsRequestRejectNotify notifications should be
             generated by the Zone Server for this fabric."
    ::= { t11ZsNotifyControlEntry 1 }

t11ZsNotifyMergeFailureEnable OBJECT-TYPE
    SYNTAX       TruthValue
    MAX-ACCESS   read-write
    STATUS       current
    DESCRIPTION
            "This object specifies whether
             t11ZsMergeFailureNotify notifications should be
             generated by the Zone Server for this fabric."
    ::= { t11ZsNotifyControlEntry 2 }

t11ZsNotifyMergeSuccessEnable OBJECT-TYPE
    SYNTAX       TruthValue
    MAX-ACCESS   read-write
    STATUS       current
    DESCRIPTION
            "This object specifies whether
             t11ZsMergeSuccessNotify notifications should be
             generated by the Zone Server for this fabric."
    ::= { t11ZsNotifyControlEntry 3 }

t11ZsNotifyDefZoneChangeEnable OBJECT-TYPE
    SYNTAX       TruthValue
    MAX-ACCESS   read-write
    STATUS       current
    DESCRIPTION
            "This object specifies whether
             t11ZsDefZoneChangeNotify notifications should
             be generated by the Zone Server for this fabric."
    ::= { t11ZsNotifyControlEntry 4 }

t11ZsNotifyActivateEnable OBJECT-TYPE
    SYNTAX       TruthValue
    MAX-ACCESS   read-write
    STATUS       current
    DESCRIPTION





Expires February 2006                                          [Page 56]





Internet Draft             FC Zone Server MIB                August 2005


            "This object specifies whether
             t11ZsActivateNotify notifications should be
             generated by the Zone Server for this fabric."
    ::= { t11ZsNotifyControlEntry 5 }

t11ZsRejectCtCommandString OBJECT-TYPE
    SYNTAX        OCTET STRING (SIZE (0..255))
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
           "The binary content of the Zone Server request,
           formatted as an octet string (in network byte
           order) containing the CT_IU, as described in
           Table 2 of [FC-GS-5] (including the preamble),
           which was most recently rejected by the
           Zone Server for this fabric.

           This object contains the zero-length string
           if and when the CT-IU's content is unavailable.

           When the length of this object is 255 octets, it
           contains the first 255 octets of the CT-IU (in
           network-byte order)."
    ::= { t11ZsNotifyControlEntry 6 }

t11ZsRejectRequestSource OBJECT-TYPE
    SYNTAX       FcNameIdOrZero
    MAX-ACCESS   read-only
    STATUS       current
    DESCRIPTION
            "The WWN which was the source of the CT_IU
             contained in the corresponding instance of
             t11ZsRejectCtCommandString."
    ::= { t11ZsNotifyControlEntry 7 }

t11ZsRejectReasonCode OBJECT-TYPE
    SYNTAX       T11NsGs4RejectReasonCode
    MAX-ACCESS   read-only
    STATUS       current
    DESCRIPTION
            "The reason code corresponding to the most recent
             rejection of a request by the Zone Server for
             this fabric."
    ::= { t11ZsNotifyControlEntry 8 }






Expires February 2006                                          [Page 57]





Internet Draft             FC Zone Server MIB                August 2005


t11ZsRejectReasonCodeExp OBJECT-TYPE
    SYNTAX       T11ZsRejectReasonExplanation
    MAX-ACCESS   read-only
    STATUS       current
    DESCRIPTION
            "When the value of t11ZsRejectReasonCode is
             'Unable to perform command request', this
             object contains the corresponding reason code
             explanation."
    ::= { t11ZsNotifyControlEntry 9 }

t11ZsFabricIndex OBJECT-TYPE
    SYNTAX       T11FabricIndex
    MAX-ACCESS   accessible-for-notify
    STATUS       current
    DESCRIPTION
            "This object identifies the fabric on which some
             occurrence has caused a notification to be
             generated."
    ::= { t11ZsConfiguration 15 }

-- Notifications

t11ZsRequestRejectNotify NOTIFICATION-TYPE
    OBJECTS      { t11FamLocalSwitchWwn,
                   t11ZsRejectRequestSource,
                   t11ZsRejectCtCommandString,
                   t11ZsRejectReasonCode, t11ZsRejectReasonCodeExp }
    STATUS       current
    DESCRIPTION
            "This notification is generated whenever a Zone Server
             (indicated by the value of t11FamLocalSwitchWwn)
             rejects a request.

             The value of t11ZsRejectCtCommandString indicates
             the rejected request, and the values of
             t11ZsRejectReasonCode and t11ZsRejectReasonCodeExp
             indicate the reason for the rejection.  The value
             of t11ZsRequestClient indicates the source of the
             request."
    ::= { t11ZsMIBNotifications 1 }

t11ZsMergeFailureNotify NOTIFICATION-TYPE
    OBJECTS      { ifIndex, t11ZsFabricIndex }
    STATUS       current





Expires February 2006                                          [Page 58]





Internet Draft             FC Zone Server MIB                August 2005


    DESCRIPTION
            "This notification indicates that a Zone merge
             failure has occurred on the Fabric indicated by the
             value of t11ZsFabricIndex, on the interface
             indicated by the value of ifIndex.

             If multiple Virtual Fabrics are configured on an
             interface, and all have a Zone merge failure
             at the same time, then just one notification is
             generated and t11ZsFabricIndex has a zero value."
    ::= { t11ZsMIBNotifications 2 }

t11ZsMergeSuccessNotify NOTIFICATION-TYPE
    OBJECTS      { ifIndex, t11ZsFabricIndex }
    STATUS       current
    DESCRIPTION
            "This notification indicates that a successful Zone
             merge has occurred on the Fabric indicated by the
             value of t11ZsFabricIndex, on the interface
             indicated by the value of ifIndex.

             If multiple Virtual Fabrics are configured on an
             interface, and all have a successful Zone Merge
             at the same time, then just one notification is
             generated and t11ZsFabricIndex has a zero value."
    ::= { t11ZsMIBNotifications 3 }

t11ZsDefZoneChangeNotify NOTIFICATION-TYPE
    OBJECTS      { t11ZsServerDefaultZoneSetting }
    STATUS       current
    DESCRIPTION
            "This notification indicates that the
             value of a Default Zone Setting has changed.
             The value of t11ZsServerDefaultZoneSetting
             contains the value after the change."
    ::= { t11ZsMIBNotifications 4 }

t11ZsActivateNotify NOTIFICATION-TYPE
    OBJECTS      { t11FamLocalSwitchWwn, t11ZsActivateResult }
    STATUS       current
    DESCRIPTION
            "This notification is generated whenever a switch
             (indciated by the value of t11FamLocalSwitchWwn)
             activates/deactivates a Zone Set on a fabric.
             The t11ZsActivateResult object denotes the outcome





Expires February 2006                                          [Page 59]





Internet Draft             FC Zone Server MIB                August 2005


             of the activation/deactivation."
    ::= { t11ZsMIBNotifications 5 }

-- Conformance

t11ZsMIBCompliances OBJECT IDENTIFIER ::= { t11ZsMIBConformance 1 }
t11ZsMIBGroups      OBJECT IDENTIFIER ::= { t11ZsMIBConformance 2 }

t11ZsMIBCompliance MODULE-COMPLIANCE
    STATUS       current
    DESCRIPTION
            "The compliance statement for entities which
             implement the Zone Server."
    MODULE MANDATORY-GROUPS {t11ZsBasicGroup,
                             t11ZsNotificationControlGroup,
                             t11ZsNotificationGroup }

    GROUP        t11ZsEnhancedModeGroup
    DESCRIPTION
            "This group is mandatory only for those systems
             with Zone Servers which support Enhanced Mode."

    GROUP        t11ZsActivateGroup
    DESCRIPTION
            "Only entities that provide write access for
             activating a Zone Set support need to support
             this group."

    GROUP        t11ZsStatisticsGroup
    DESCRIPTION
            "These counters, containing Zone Server statistics,
             are mandatory only for those systems which count
             such events."

    OBJECT       t11ZsSetRowStatus
    SYNTAX       INTEGER { active(1) }
    MIN-ACCESS   read-only
    DESCRIPTION
            "Write access is not required."

    OBJECT       t11ZsZoneRowStatus
    SYNTAX       INTEGER { active(1) }
    MIN-ACCESS   read-only
    DESCRIPTION
            "Write access is not required."





Expires February 2006                                          [Page 60]





Internet Draft             FC Zone Server MIB                August 2005


    OBJECT       t11ZsSetZoneRowStatus
    SYNTAX       INTEGER { active(1) }
    MIN-ACCESS   read-only
    DESCRIPTION
            "Write access is not required."

    OBJECT       t11ZsAliasRowStatus
    SYNTAX       INTEGER { active(1) }
    MIN-ACCESS   read-only
    DESCRIPTION
            "Write access is not required."

    OBJECT       t11ZsZoneMemberRowStatus
    SYNTAX       INTEGER { active(1) }
    MIN-ACCESS   read-only
    DESCRIPTION
            "Write access is not required."

    OBJECT       t11ZsAttribBlockRowStatus
    SYNTAX       INTEGER { active(1) }
    MIN-ACCESS   read-only
    DESCRIPTION
            "Write access is not required."

    OBJECT       t11ZsAttribRowStatus
    SYNTAX       INTEGER { active(1) }
    MIN-ACCESS   read-only
    DESCRIPTION
            "Write access is not required."

    OBJECT       t11ZsServerDatabaseStorageType
    MIN-ACCESS   read-only
    DESCRIPTION
            "Write access is not required."

    OBJECT       t11ZsServerDistribute
    MIN-ACCESS   read-only
    DESCRIPTION
            "Write access is not required."

    OBJECT       t11ZsServerReadFromDatabase
    MIN-ACCESS   read-only
    DESCRIPTION
            "Write access is not required."






Expires February 2006                                          [Page 61]





Internet Draft             FC Zone Server MIB                August 2005


    OBJECT       t11ZsServerOperationMode
    MIN-ACCESS   read-only
    DESCRIPTION
            "Write access is not required."

    OBJECT       t11ZsServerDefaultZoneSetting
    MIN-ACCESS   read-only
    DESCRIPTION
            "Write access is not required."

    OBJECT       t11ZsServerMergeControlSetting
    MIN-ACCESS   read-only
    DESCRIPTION
            "Write access is not required."

    OBJECT       t11ZsServerDefZoneBroadcast
    MIN-ACCESS   read-only
    DESCRIPTION
            "Write access is not required."

    OBJECT       t11ZsSetName
    MIN-ACCESS   read-only
    DESCRIPTION
            "Write access is not required."

    OBJECT       t11ZsZoneName
    MIN-ACCESS   read-only
    DESCRIPTION
            "Write access is not required."

    OBJECT       t11ZsZoneAttribBlock
    MIN-ACCESS   read-only
    DESCRIPTION
            "Write access is not required."

    OBJECT       t11ZsAliasName
    MIN-ACCESS   read-only
    DESCRIPTION
            "Write access is not required."

    OBJECT       t11ZsZoneMemberFormat
    MIN-ACCESS   read-only
    DESCRIPTION
            "Write access is not required."






Expires February 2006                                          [Page 62]





Internet Draft             FC Zone Server MIB                August 2005


    OBJECT       t11ZsZoneMemberID
    MIN-ACCESS   read-only
    DESCRIPTION
            "Write access is not required."

    OBJECT       t11ZsAttribBlockName
    MIN-ACCESS   read-only
    DESCRIPTION
            "Write access is not required."

    OBJECT       t11ZsAttribType
    MIN-ACCESS   read-only
    DESCRIPTION
            "Write access is not required."

    OBJECT       t11ZsAttribValue
    MIN-ACCESS   read-only
    DESCRIPTION
            "Write access is not required."

    OBJECT       t11ZsActivate
    MIN-ACCESS   read-only
    DESCRIPTION
            "Write access is not required."

    OBJECT       t11ZsActivateDeactivate
    MIN-ACCESS   read-only
    DESCRIPTION
            "Write access is not required."

    OBJECT       t11ZsNotifyRequestRejectEnable
    MIN-ACCESS   read-only
    DESCRIPTION
            "Write access is not required."

    OBJECT       t11ZsNotifyMergeFailureEnable
    MIN-ACCESS   read-only
    DESCRIPTION
            "Write access is not required."

    OBJECT       t11ZsNotifyMergeSuccessEnable
    MIN-ACCESS   read-only
    DESCRIPTION
            "Write access is not required."






Expires February 2006                                          [Page 63]





Internet Draft             FC Zone Server MIB                August 2005


    OBJECT       t11ZsNotifyDefZoneChangeEnable
    MIN-ACCESS   read-only
    DESCRIPTION
            "Write access is not required."

    OBJECT       t11ZsNotifyActivateEnable
    MIN-ACCESS   read-only
    DESCRIPTION
            "Write access is not required."

    ::= { t11ZsMIBCompliances 1 }

-- Units of Conformance

t11ZsBasicGroup OBJECT-GROUP
    OBJECTS  { t11ZsServerCapabilityObject,
               t11ZsServerDatabaseStorageType,
               t11ZsServerDistribute,
               t11ZsServerDistributeResult,
               t11ZsServerDistributeFailReason,
               t11ZsServerLastChange,
               t11ZsServerHardZoning,
               t11ZsServerReadFromDatabase,
               t11ZsServerOperationMode,
               t11ZsSetName,
               t11ZsSetRowStatus,
               t11ZsZoneName,
               t11ZsZoneAttribBlock,
               t11ZsZoneRowStatus,
               t11ZsSetZoneRowStatus,
               t11ZsZoneMemberFormat,
               t11ZsZoneMemberID,
               t11ZsZoneMemberRowStatus,
               t11ZsActiveZoneSetName,
               t11ZsActiveActivateTime,
               t11ZsActiveZoneName,
               t11ZsActiveZoneMemberFormat,
               t11ZsActiveZoneMemberID
             }
    STATUS   current
    DESCRIPTION
            "A collection of objects for displaying and updating
             the Zone configuration of a Zone Server capable of
             operating in Basic mode."
    ::= { t11ZsMIBGroups 1 }





Expires February 2006                                          [Page 64]





Internet Draft             FC Zone Server MIB                August 2005


t11ZsEnhancedModeGroup OBJECT-GROUP
    OBJECTS  { t11ZsServerChangeModeResult,
               t11ZsServerDefaultZoneSetting,
               t11ZsServerMergeControlSetting,
               t11ZsServerDefZoneBroadcast,
               t11ZsAliasName,
               t11ZsAliasRowStatus,
               t11ZsAttribBlockName,
               t11ZsAttribBlockRowStatus,
               t11ZsAttribType,
               t11ZsAttribValue,
               t11ZsAttribRowStatus,
               t11ZsActiveBroadcast,
               t11ZsActiveHardZoning,
               t11ZsActiveAttribType,
               t11ZsActiveAttribValue
             }
    STATUS   current
    DESCRIPTION
            "A collection of additional objects for displaying
             and updating the Zone configuration of a Zone Server
             capable of operating in Enhanced mode."
    ::= { t11ZsMIBGroups 2 }

t11ZsStatisticsGroup OBJECT-GROUP
    OBJECTS  { t11ZsTxMergeRequests,
               t11ZsRxMergeAccepts,
               t11ZsRxMergeRequests,
               t11ZsTxMergeAccepts,
               t11ZsTxChangeRequests,
               t11ZsRxChangeAccepts,
               t11ZsRxChangeRequests,
               t11ZsTxChangeAccepts,
               t11ZsRxGS5Requests,
               t11ZsTxGS5Rejects
             }
    STATUS   current
    DESCRIPTION
            "A collection of objects for collecting the Zone
             Server statistics information."
    ::= { t11ZsMIBGroups 3 }

t11ZsNotificationControlGroup OBJECT-GROUP
    OBJECTS  { t11ZsNotifyRequestRejectEnable,
               t11ZsNotifyMergeFailureEnable,





Expires February 2006                                          [Page 65]





Internet Draft             FC Zone Server MIB                August 2005


               t11ZsNotifyMergeSuccessEnable,
               t11ZsNotifyDefZoneChangeEnable,
               t11ZsNotifyActivateEnable,
               t11ZsRejectCtCommandString,
               t11ZsRejectRequestSource,
               t11ZsRejectReasonCode,
               t11ZsRejectReasonCodeExp,
               t11ZsFabricIndex
             }
    STATUS   current
    DESCRIPTION
            "A collection of notification control and
             notification information objects for monitoring
             Zone Server request rejection and Zone merge
             failures."
    ::= { t11ZsMIBGroups 4 }

t11ZsActivateGroup OBJECT-GROUP
    OBJECTS  { t11ZsActivate,
               t11ZsActivateDeactivate,
               t11ZsActivateResult,
               t11ZsActivateFailCause,
               t11ZsActivateFailDomainId
             }
    STATUS   current
    DESCRIPTION
            "A collection of objects which allow a Zone Set to
             be activated via SNMP SetRequests and provide the
             status and result of such an activation."
    ::= { t11ZsMIBGroups 5 }

t11ZsNotificationGroup NOTIFICATION-GROUP
    NOTIFICATIONS { t11ZsRequestRejectNotify,
                    t11ZsMergeFailureNotify,
                    t11ZsMergeSuccessNotify,
                    t11ZsDefZoneChangeNotify,
                    t11ZsActivateNotify }
    STATUS        current
    DESCRIPTION
            "A collection of notification(s) for monitoring
             Zone Server request rejection, Zone merge
             failures and successes and Default Zoning
             behavioural changes."
    ::= { t11ZsMIBGroups 6 }






Expires February 2006                                          [Page 66]





Internet Draft             FC Zone Server MIB                August 2005


END


8.  Intellectual Property

   The IETF takes no position regarding the validity or scope of any
   intellectual property or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; neither does it represent that it
   has made any effort to identify any such rights.  Information on the
   IETF's procedures with respect to rights in standards-track and
   standards-related documentation can be found in BCP-11.  Copies of
   claims of rights made available for publication and any assurances of
   licenses to be made available, or the result of an attempt made to
   obtain a general license or permission for the use of such
   proprietary rights by implementors or users of this specification can
   be obtained from the IETF Secretariat.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights which may cover technology that may be required to practice
   this standard.  Please address the information to the IETF Executive
   Director.

9.  Acknowledgements

   This document is proposed as a work item of the INCITS Task Group
   T11.5.

10.  Normative References

[RFC2578]
     McCloghrie, K., Perkins, D., Schoenwaelder, J., Case, J., Rose, M.
     and S. Waldbusser, "Structure of Management Information Version 2
     (SMIv2)", STD 58, RFC 2578, April 1999.

[RFC2579]
     McCloghrie, K., Perkins, D., Schoenwaelder, J., Case, J., Rose, M.
     and S. Waldbusser, "Textual Conventions for SMIv2", STD 58, RFC
     2579, April 1999.

[RFC2580]
     McCloghrie, K., Perkins, D., Schoenwaelder, J., Case, J., Rose, M.
     and S. Waldbusser, "Conformance Statements for SMIv2", STD 58, RFC





Expires February 2006                                          [Page 67]





Internet Draft             FC Zone Server MIB                August 2005


     2580, April 1999.

[RFC2863]
     McCloghrie, K., and F. Kastenholz, "The Interfaces Group MIB", RFC
     2863, June 2000.

[RFC3411]
     Harrington, D., Presuhn, R., and B. Wijnen, "An Architecture for
     Describing Simple Network Management Protocol (SNMP) Management
     Frameworks", STD 58, RFC 3411, December 2002.

[FC-GS-5]
     "Fibre Channel - GENERIC SERVICES - 5 (FC-GS-5)", ANSI NCITS xxx-
     xxxx, T11/Project 1677-D/Rev 8.00, 17 September 2004.

[FC-SW-4]
     "Fibre Channel - Switch Fabric - 4 (FC-SW-4)", ANSI NCITS xxx-xxxx,
     T11/Project 1674-D/Rev 7.4, May 2005.

[FC-MGMT]
     K. McCloghrie, "Fibre Channel Management MIB", Internet-Draft
     (draft-ietf-ips-fcmgmt-mib-nn.txt), work-in-progress.

[FC-FAM-MIB]
     DeSanti, C., Gaonkar, V., McCloghrie, K., and S. Gai, "Fibre-
     Channel Fabric Address Manager MIB", Internet-Draft (draft-ietf-
     imss-fc-fam-mib-nn.txt), work-in-progress.

[FC-NS-MIB]
     DeSanti, C., Gaonkar, V., Vivek, H., McCloghrie, K., and S. Gai,
     "Fibre-Channel Name Server MIB", Internet-Draft (draft-ietf-imss-
     fc-nsm-mib-nn.txt), work-in-progress.


11.  Informative References

[RFC3410]
     Case, J., Mundy, R., Partain, D. and B. Stewart, "Introduction and
     Applicability Statements for Internet- Standard Management
     Framework", RFC 3410, December 2002.

[FC-FS]
     "Fibre Channel - Framing and Signaling (FC-FS)" ANSI INCITS
     373-2003, April 2003.






Expires February 2006                                          [Page 68]





Internet Draft             FC Zone Server MIB                August 2005


12.  IANA Considerations

   IANA is requested to make the OID assignment for the MIB module under
   the appropriate subtree.

13.  Security Considerations

   There are many management objects defined in these MIB modules with a
   MAX-ACCESS clause of read-write and/or read-create.  Such objects may
   be considered sensitive or vulnerable in some network environments.
   The support for SET operations in a non-secure environment without
   proper protection can have a negative effect on network operations.

   Specifically, unauthorized write access to any of the writable
   objects could cause unauthorized manipulation of the Zoning
   information on a Zone Server, and/or the activation of an
   unauthorized Active Zone Set in a Fabric.  This could result in:
   allowing unauthorized connectivity, and/or denying authorized
   connectivity, between hosts connected to the Fibre Channel network.

   Some of the readable objects in this MIB module (i.e., objects with a
   MAX-ACCESS other than not-accessible) may be considered sensitive or
   vulnerable in some network environments.  It is thus important to
   control even GET and/or NOTIFY access to these objects and possibly
   to even encrypt the values of these objects when sending them over
   the network via SNMP.

   Unauthorized read access to any of the readable objects in the
   t11ZsServerTable, t11ZsActiveZoneTable, t11ZsActiveZoneMemberTable,
   or t11ZsActiveAttribTable tables would reveal information about the
   currently authorized connectivity between hosts connected to the
   Fibre Channel network.  Unauthorized read access to any of the
   readable objects in the t11ZsSetTable, t11ZsZoneTable,
   t11ZsSetZoneTable, t11ZsAliasTable, t11ZsZoneMemberTable,
   t11ZsAttribBlockTable or t11ZsAttribTable tables would reveal
   information about potential/alternative connectivity which could be
   authorized between hosts connected to the Fibre Channel network.

   SNMP versions prior to SNMPv3 did not include adequate security.
   Even if the network itself is secure (for example by using IPSec),
   even then, there is no control as to who on the secure network is
   allowed to access and GET/SET (read/change/create/delete) the objects
   in this MIB module.

   It is RECOMMENDED that implementors consider the security features as





Expires February 2006                                          [Page 69]





Internet Draft             FC Zone Server MIB                August 2005


   provided by the SNMPv3 framework (see [RFC3410], section 8),
   including full support for the SNMPv3 cryptographic mechanisms (for
   authentication and privacy).

   Further, deployment of SNMP versions prior to SNMPv3 is NOT
   RECOMMENDED.  Instead, it is RECOMMENDED to deploy SNMPv3 and to
   enable cryptographic security.  It is then a customer/operator
   responsibility to ensure that the SNMP entity giving access to an
   instance of this MIB module is properly configured to give access to
   the objects only to those principals (users) that have legitimate
   rights to indeed GET or SET (change/create/delete) them.


14.  Authors' Addresses

   Claudio DeSanti
   Cisco Systems, Inc.
   170 West Tasman Drive
   San Jose, CA 95134 USA
   Phone: +1 408 853-9172
   EMail: cds@cisco.com

   H.K. Vivek
   Cisco Systems, Inc.
   71 Millers Rd
   Bangalore, India
   Phone: +91 80 2289933x5117
   EMail: hvivek@cisco.com

   Keith McCloghrie
   Cisco Systems, Inc.
   170 West Tasman Drive
   San Jose, CA USA 95134
   Phone: +1 408-526-5260
   Email: kzm@cisco.com

   Silvano Gai
   Cisco Systems, Inc.
   170 West Tasman Drive
   San Jose, CA USA 95134
   Phone: +1 408-526-7269
   Email: sgai@cisco.com








Expires February 2006                                          [Page 70]





Internet Draft             FC Zone Server MIB                August 2005


15.  Full Copyright Statement

   Copyright (C) The Internet Society (2005).  This document is subject
   to the rights, licenses and restrictions contained in BCP 78, and
   except as set forth therein, the authors retain all their rights.

   "This document and the information contained herein are provided on
   an "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE
   REPRESENTS OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE
   INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR
   IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF
   THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE."


16.  Disclaimer of validity

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in BCP 78 and BCP 79.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   http://www.ietf.org/ipr.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.

Acknowledgment

   Funding for the RFC Editor function is currently provided by the
   Internet Society.







Expires February 2006                                          [Page 71]

