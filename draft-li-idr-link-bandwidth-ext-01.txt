



Network Working Group                                              W. Li
Internet-Draft                                                   H. Wang
Intended status: Standards Track                                 J. Dong
Expires: 6 September 2022                            Huawei Technologies
                                                            5 March 2022


             Extension of Link Bandwidth Extended Community
                   draft-li-idr-link-bandwidth-ext-01

Abstract

   [I-D.ietf-idr-link-bandwidth] defines a BGP link bandwidth extended
   community attribute, which can enable devices to implement unequal-
   cost load-balancing.  However, the bandwidth value encapsulated by
   the extended community attribute is of the floating-point type, which
   is inconvenient to use.  In this document, a set of new types of link
   bandwidth extended community are introduced to facilitate the
   configuration and calculation of link bandwidth.

Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on 6 September 2022.

Copyright Notice

   Copyright (c) 2022 IETF Trust and the persons identified as the
   document authors.  All rights reserved.




Li, et al.              Expires 6 September 2022                [Page 1]

Internet-Draft              Abbreviated-Title                 March 2022


   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents (https://trustee.ietf.org/
   license-info) in effect on the date of publication of this document.
   Please review these documents carefully, as they describe your rights
   and restrictions with respect to this document.  Code Components
   extracted from this document must include Revised BSD License text as
   described in Section 4.e of the Trust Legal Provisions and are
   provided without warranty as described in the Revised BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Link Bandwidth Extended Community . . . . . . . . . . . . . .   3
   3.  Deployment Considerations . . . . . . . . . . . . . . . . . .   3
   4.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   4
   5.  Security Considerations . . . . . . . . . . . . . . . . . . .   4
   6.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   4
   7.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   4
     7.1.  Normative References  . . . . . . . . . . . . . . . . . .   4
     7.2.  References  . . . . . . . . . . . . . . . . . . . . . . .   4
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   4

1.  Introduction

   In [I-D.ietf-idr-link-bandwidth], the link bandwidth extended
   community attribute is added to implement unequal-cost load balancing
   based on the bandwidth on a path.  As defined in the draft, the
   bandwidth of a link is expressed in 4-octets in IEEE floating-point
   format.

   In practice, the use of this floating-point format may result errors
   in configuration and computation.  When an operator needs to manually
   specify the bandwidth, you also need to consider the conversion from
   the bandwidth value to the floating-point number.  This mode is not
   user-friendly, especially when the routing policy is used for
   bandwidth matching.

   This document introduce a more intuitive expression of link bandwidth
   in BGP.  It uses an unsigned long integer value to describe the link
   bandwidth value.  This is easier for operators to use and understand,
   and can avoid configuration and computation errors.










Li, et al.              Expires 6 September 2022                [Page 2]

Internet-Draft              Abbreviated-Title                 March 2022


2.  Link Bandwidth Extended Community

   The type of Link Bandwidth Extended Community is 0x40, and the
   subtype is 0x04.  In the attribute value, the global administrator
   subfield is set to the AS number of the route to which the Link
   Bandwidth attribute is added.  In the local administrator subfield,
   the link bandwidth value [I-D.ietf-idr-link-bandwidth] is set to the
   IEEE floating-point type.

   A new type of IPv6 Address Specific Extended Community[RFC5701] is
   added in this document.  The ASN field of this attribute is set to
   the AS number of the route to which the link bandwidth attribute is
   added.  The Link Bandwidth value field (8 bytes) is set to the link
   bandwidth.  The following extended contents are added:

   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | 0x03 or 0x43 |   Sub-Type    |            Reserved            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     8 bytes Link Bandwidth value (cont.)                      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     8 bytes Link Bandwidth value (cont.)                      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                         4 bytes ASN                           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                         Reserved                              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   *  The value of the high-order octet of the extended Type, refer to
      [RFC4360], It is recommended that 0x03 and 0x43 be used.

   *  New Link Bandwidth, subtype is TBD.  The value of the Link
      Bandwidth subfield is an unsigned long integer, in bytes per
      second.

   The subtypes defined here can be used for both optional transitive
   and non-transitive extended community attributes.

3.  Deployment Considerations

   The extended link bandwidth extended community attribute in this
   document should not be used together with the standard link bandwidth
   extended community attribute.  If a route carries both the standard
   link bandwidth extended community attribute and the unit link
   bandwidth extended community attribute, the standard link bandwidth
   extended community attribute is ignored.




Li, et al.              Expires 6 September 2022                [Page 3]

Internet-Draft              Abbreviated-Title                 March 2022


   In actual deployment, if a routing policy is used to match link
   bandwidth attributes, you can directly perform exact value matching.

4.  IANA Considerations

   This document defines a specific application of the two-octet AS
   specific extended community.  IANA is requested to assign new sub-
   types for both non-transitive and transitive extended communities.

   SubType  Description
   -------  -------------------------------
     TBD    Link Bandwidth EC in bytes per second

5.  Security Considerations

   There are no additional security risks introduced by this design.

6.  Acknowledgements


7.  References

7.1.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.

7.2.  References

   [I-D.ietf-idr-link-bandwidth]
              Mohapatra, P. and R. Fernando, "BGP Link Bandwidth
              Extended Community", Work in Progress, Internet-Draft,
              draft-ietf-idr-link-bandwidth-07, 5 March 2018,
              <https://www.ietf.org/archive/id/draft-ietf-idr-link-
              bandwidth-07.txt>.

   [RFC4360]  Sangli, S., Tappan, D., and Y. Rekhter, "BGP Extended
              Communities Attribute", RFC 4360, DOI 10.17487/RFC4360,
              February 2006, <https://www.rfc-editor.org/info/rfc4360>.

   [RFC5701]  Rekhter, Y., "IPv6 Address Specific BGP Extended Community
              Attribute", RFC 5701, DOI 10.17487/RFC5701, November 2009,
              <https://www.rfc-editor.org/info/rfc5701>.

Authors' Addresses




Li, et al.              Expires 6 September 2022                [Page 4]

Internet-Draft              Abbreviated-Title                 March 2022


   Wenyan Li
   Huawei Technologies
   Huawei Campus, No. 156 Beiqing Road
   Beijing
   100095
   China
   Email: liwenyan@huawei.com


   Haibo Wang
   Huawei Technologies
   Huawei Campus, No. 156 Beiqing Road
   Beijing
   100095
   China
   Email: rainsword.wang@huawei.com


   Jie Dong
   Huawei Technologies
   Huawei Campus, No. 156 Beiqing Road
   Beijing
   100095
   China
   Email: jie.dong@huawei.com


























Li, et al.              Expires 6 September 2022                [Page 5]
