



dprive                                                        D. Migault
Internet-Draft                                                  Ericsson
Intended status: Informational                            March 18, 2020
Expires: September 19, 2020


 Domain Name System Uniform Resource Identifiers for DNS over HTTPS and
                              DNS over TLS
                      draft-mglt-dprive-dns-uri-00

Abstract

   Today DNS resources may also be accessed using multiple transport
   which includes DNS over UDP/TCP port 53 [RFC1034],[RFC1035].  DNS
   over TLS [RFC7858] or DNS over HTTPS [RFC8484].  This document
   describes URIs that describes the DNS resource as well as indicate
   the transport to access the resource.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on September 19, 2020.

Copyright Notice

   Copyright (c) 2020 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of




Migault                Expires September 19, 2020               [Page 1]

Internet-Draft           DNS URI for DoH and Dot              March 2020


   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Requirements Notation . . . . . . . . . . . . . . . . . . . .   2
   2.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   3.  DNS over UDP/TCP 53 . . . . . . . . . . . . . . . . . . . . .   2
   4.  DNS over TLS URI Registration . . . . . . . . . . . . . . . .   4
   5.  DNS over HTTPS URI registration . . . . . . . . . . . . . . .   5
   6.  Acknowledgment  . . . . . . . . . . . . . . . . . . . . . . .   6
   7.  Normative References  . . . . . . . . . . . . . . . . . . . .   6
   Author's Address  . . . . . . . . . . . . . . . . . . . . . . . .   7

1.  Requirements Notation

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
   "OPTIONAL" in this document are to be interpreted as described in
   BCP 14 [RFC2119] [RFC8174] when, and only when, they appear in all
   capitals, as shown here.

2.  Introduction

   [RFC4501] defines an URI [RFC7553] for DNS resources accessed but
   does not specify the transport used to access the DNS resource.

   Today DNS resources may also be accessed using multiple transport
   layers which includes DNS over UDP/TCP port 53 [RFC1034],[RFC1035].
   DNS over TLS [RFC7858] or DNS over HTTPS [RFC8484].  This document
   describes URIs that describes the DNS resource as well as indicate
   the transport to access the resource.

3.  DNS over UDP/TCP 53

   This section describes the URI template for the registration of the
   URI as described in [RFC7595] to describe DNS resources being
   accessed using DNS over TLS.













Migault                Expires September 19, 2020               [Page 2]

Internet-Draft           DNS URI for DoH and Dot              March 2020


   URL scheme name: "dns53".

   URL scheme syntax: A DNS URI designates a DNS resource record set,
   referenced by domain name, class, type, and, optionally, the
   authority.  The DNS URI follows the generic syntax from {{RFC3986}}
   and is described using ABNF {{RFC5234}}.  Strings are not case
   sensitive, and free insertion of linear-white-space is not permitted.

   dnsurl          = "dns53:" [ "//" dnsauthority "/" ]
                     dnsname ["?" dnsquery]

   dnsauthority    = host [ ":" port ]
                                ; See RFC 3986 for the
                                ; definition of "host" and "port".

   dnsname         = *pchar
                                ; See RFC 3986 for the
                                ; definition of "pchar".

                                ; The "dnsname" field may be a
                                ; "relative" or "absolute" name,
                                ; as per RFC 1034, section 3.1.

                                ; Note further that an empty
                                ; "dnsname" value is to be
                                ; interpreted as the root itself.
                                ; See below on relative dnsnames.

   dnsquery        = dnsqueryelement [";" dnsquery]

   dnsqueryelement = ( "CLASS=" dnsclassval ) / ( "TYPE=" dnstypeval )
                                ; Each clause MUST NOT be used more
                                ; than once.

   dnsclassval     = 1*digit / "IN" / "CH" /
                     <Any IANA registered DNS class mnemonic>

   dnstypeval      = 1*digit / "A" / "NS" / "MD" /
                     <Any IANA registered DNS type mnemonic>

   The DNS resource follows [RFC4501] but indicates the DNS resource
   MUST be accessed using UDP or TCP as described in [RFC1034] or
   [RFC1035].








Migault                Expires September 19, 2020               [Page 3]

Internet-Draft           DNS URI for DoH and Dot              March 2020


4.  DNS over TLS URI Registration

   This section describes the URI template for the registration of the
   URI as described in [RFC7595] to describe DNS resources being
   accessed using DNS over TLS.

   URL scheme name: "dot".

   URL scheme syntax: A DNS URI designates a DNS resource record set,
   referenced by domain name, class, type, and, optionally, the
   authority.  The DNS URI follows the generic syntax from {{RFC3986}}
   and is described using ABNF {{RFC5234}}.  Strings are not case
   sensitive, and free insertion of linear-white-space is not permitted.

   dnsurl          = "dot:" [ "//" dnsauthority "/" ]
                     dnsname ["?" dnsquery]

   dnsauthority    = host [ ":" port ]
                                ; See RFC 3986 for the
                                ; definition of "host" and "port".

   dnsname         = *pchar
                                ; See RFC 3986 for the
                                ; definition of "pchar".

                                ; The "dnsname" field may be a
                                ; "relative" or "absolute" name,
                                ; as per RFC 1034, section 3.1.

                                ; Note further that an empty
                                ; "dnsname" value is to be
                                ; interpreted as the root itself.
                                ; See below on relative dnsnames.

   dnsquery        = dnsqueryelement [";" dnsquery]

   dnsqueryelement = ( "CLASS=" dnsclassval ) / ( "TYPE=" dnstypeval )
                                ; Each clause MUST NOT be used more
                                ; than once.

   dnsclassval     = 1*digit / "IN" / "CH" /
                     <Any IANA registered DNS class mnemonic>

   dnstypeval      = 1*digit / "A" / "NS" / "MD" /
                     <Any IANA registered DNS type mnemonic>

   The DNS resource follows [RFC4501] but indicates the DNS resource
   MUST be accessed using TCP over TLS as described in [RFC7858].



Migault                Expires September 19, 2020               [Page 4]

Internet-Draft           DNS URI for DoH and Dot              March 2020


5.  DNS over HTTPS URI registration

   This section describes the URI template for the registration of the
   URI as described in [RFC8484] to describe DNS resources being
   accessed using DNS over HTTPS.

   URL scheme name: "doh".

   URL scheme syntax: A DNS URI designates a DNS resource record set,
   referenced by domain name, class, type, and, optionally, the
   authority.  The DNS URI follows the generic syntax from {{RFC3986}}
   and is described using ABNF {{RFC5234}}.  Strings are not case
   sensitive, and free insertion of linear-white-space is not permitted.

   dnsurl          = "doh:" [ "//" dnsauthority "/" ]
                     dnsname ["?" dnsquery]

   dnsauthority    = host [ ":" port ] [ "/" abs_path ]
                                ; See RFC 3986 for the
                                ; definition of "host" and "port"
                                ; "abs_path"


   dnsname         = *pchar
                                ; See RFC 3986 for the
                                ; definition of "pchar".

                                ; The "dnsname" field may be a
                                ; "relative" or "absolute" name,
                                ; as per RFC 1034, section 3.1.

                                ; Note further that an empty
                                ; "dnsname" value is to be
                                ; interpreted as the root itself.
                                ; See below on relative dnsnames.

   dnsquery        = dnsqueryelement [";" dnsquery]

   dnsqueryelement = ( "CLASS=" dnsclassval ) / ( "TYPE=" dnstypeval )
                                ; Each clause MUST NOT be used more
                                ; than once.

   dnsclassval     = 1*digit / "IN" / "CH" /
                     <Any IANA registered DNS class mnemonic>

   dnstypeval      = 1*digit / "A" / "NS" / "MD" /
                     <Any IANA registered DNS type mnemonic>




Migault                Expires September 19, 2020               [Page 5]

Internet-Draft           DNS URI for DoH and Dot              March 2020


   The DNS resource follows [RFC4501] but indicates the DNS resource
   MUST be accessed using HTTPS as described in [RFC8484].

6.  Acknowledgment

   The URI template are largly inspired from [RFC4501].

7.  Normative References

   [RFC1034]  Mockapetris, P., "Domain names - concepts and facilities",
              STD 13, RFC 1034, DOI 10.17487/RFC1034, November 1987,
              <https://www.rfc-editor.org/info/rfc1034>.

   [RFC1035]  Mockapetris, P., "Domain names - implementation and
              specification", STD 13, RFC 1035, DOI 10.17487/RFC1035,
              November 1987, <https://www.rfc-editor.org/info/rfc1035>.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.

   [RFC3986]  Berners-Lee, T., Fielding, R., and L. Masinter, "Uniform
              Resource Identifier (URI): Generic Syntax", STD 66,
              RFC 3986, DOI 10.17487/RFC3986, January 2005,
              <https://www.rfc-editor.org/info/rfc3986>.

   [RFC4501]  Josefsson, S., "Domain Name System Uniform Resource
              Identifiers", RFC 4501, DOI 10.17487/RFC4501, May 2006,
              <https://www.rfc-editor.org/info/rfc4501>.

   [RFC5234]  Crocker, D., Ed. and P. Overell, "Augmented BNF for Syntax
              Specifications: ABNF", STD 68, RFC 5234,
              DOI 10.17487/RFC5234, January 2008,
              <https://www.rfc-editor.org/info/rfc5234>.

   [RFC7553]  Faltstrom, P. and O. Kolkman, "The Uniform Resource
              Identifier (URI) DNS Resource Record", RFC 7553,
              DOI 10.17487/RFC7553, June 2015,
              <https://www.rfc-editor.org/info/rfc7553>.

   [RFC7595]  Thaler, D., Ed., Hansen, T., and T. Hardie, "Guidelines
              and Registration Procedures for URI Schemes", BCP 35,
              RFC 7595, DOI 10.17487/RFC7595, June 2015,
              <https://www.rfc-editor.org/info/rfc7595>.






Migault                Expires September 19, 2020               [Page 6]

Internet-Draft           DNS URI for DoH and Dot              March 2020


   [RFC7858]  Hu, Z., Zhu, L., Heidemann, J., Mankin, A., Wessels, D.,
              and P. Hoffman, "Specification for DNS over Transport
              Layer Security (TLS)", RFC 7858, DOI 10.17487/RFC7858, May
              2016, <https://www.rfc-editor.org/info/rfc7858>.

   [RFC8174]  Leiba, B., "Ambiguity of Uppercase vs Lowercase in RFC
              2119 Key Words", BCP 14, RFC 8174, DOI 10.17487/RFC8174,
              May 2017, <https://www.rfc-editor.org/info/rfc8174>.

   [RFC8484]  Hoffman, P. and P. McManus, "DNS Queries over HTTPS
              (DoH)", RFC 8484, DOI 10.17487/RFC8484, October 2018,
              <https://www.rfc-editor.org/info/rfc8484>.

Author's Address

   Daniel Migault
   Ericsson
   8275 Trans Canada Route
   Saint Laurent, QC  4S 0B6
   Canada

   EMail: daniel.migault@ericsson.com





























Migault                Expires September 19, 2020               [Page 7]
