



CCAMP Working Group                                  J. Lopez de Vergara
Internet-Draft                                               Naudit HPCN
Intended status: Informational                       D. Perdices Burrero
Expires: August 26, 2021                  Universidad Autonoma de Madrid
                                                                 D. King
                                                      Old Dog Consulting
                                                                V. Lopez
                                                     Telefonica I+D/GCTO
                                                                 I. Busi
                                                     Huawei Technologies
                                                     O. Gonzalez de Dios
                                                     Telefonica I+D/GCTO
                                                                  Y. Lee
                                                                 Samsung
                                                           G. Galimberti
                                                                   Cisco
                                                       February 22, 2021


            A YANG Data Model for Flexi-Grid Media Channels
            draft-ietf-ccamp-flexigrid-media-channel-yang-03

Abstract

   This document defines a YANG model for managing flexi-grid optical
   media channels, complementing the information provided by the flexi-
   grid topology model.

   The YANG data model defined in this document conforms to the Network
   Management Datastore Architecture (NMDA).

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on August 26, 2021.




Lopez de Vergara, et al. Expires August 26, 2021                [Page 1]

Internet-Draft               Flexi-Grid YANG               February 2021


Copyright Notice

   Copyright (c) 2021 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   3
   3.  Flexi-Grid Media-Channel Overview . . . . . . . . . . . . . .   3
   4.  Example of Use  . . . . . . . . . . . . . . . . . . . . . . .   4
   5.  YANG Model for Flexi-Grid Media Channel . . . . . . . . . . .   6
     5.1.  YANG Tree . . . . . . . . . . . . . . . . . . . . . . . .   6
     5.2.  YANG Code . . . . . . . . . . . . . . . . . . . . . . . .  43
   6.  Security Considerations . . . . . . . . . . . . . . . . . . .  58
   7.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .  58
   8.  Contributors  . . . . . . . . . . . . . . . . . . . . . . . .  58
   9.  Acknowledgments . . . . . . . . . . . . . . . . . . . . . . .  59
   10. References  . . . . . . . . . . . . . . . . . . . . . . . . .  59
     10.1.  Normative References . . . . . . . . . . . . . . . . . .  59
     10.2.  Informative References . . . . . . . . . . . . . . . . .  59
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  60

1.  Introduction

   Transport networks are evolving from current DWDM systems towards
   elastic optical networks, based on flexi-grid transmission and
   switching technologies [RFC7698].  Such technology aims at increasing
   both transport network scalability and flexibility, allowing the
   optimization of bandwidth usage.

   While [I-D.ietf-ccamp-flexigrid-yang] focuses on flexi-grid objects
   such as nodes, transponders and links, this document presents a YANG
   [RFC7950] model for the flexi-grid media-channel.  This YANG module
   defines the whole path from a source transponder or node to the
   destination through a number of intermediate nodes in the flexi-grid
   network.




Lopez de Vergara, et al. Expires August 26, 2021                [Page 2]

Internet-Draft               Flexi-Grid YANG               February 2021


   This document identifies the flexi-grid media-channel components,
   parameters and their values, characterizes the features and the
   performances of the flexi-grid elements.  An application example is
   provided towards the end of the document to better understand their
   utility.

2.  Terminology

   Refer to [RFC7446] and [RFC7699] for the key terms used in this
   document.

   The following terms are defined in [RFC7950] and are not redefined
   here:

   o  client

   o  server

   o  augment

   o  data model

   o  data node

   The following terms are defined in [RFC6241] and are not redefined
   here:

   o  configuration data

   o  state data

   The terminology for describing YANG data models is found in
   [RFC7950].

3.  Flexi-Grid Media-Channel Overview

   The present model defines a flexi-grid media-channel mainly composed
   of:

   o  source address

   o  source flexi-grid port

   o  source flexi-grid transponder

   o  destination address

   o  destination flexi-grid port



Lopez de Vergara, et al. Expires August 26, 2021                [Page 3]

Internet-Draft               Flexi-Grid YANG               February 2021


   o  destination flexi-grid transponder

   o  list of links that defines the path

   o  other optical attributes

   Each path can be a media-channel (only defined by source and
   destination node) or a network media-channel (additionally needs
   source and destination transponders).  Therefore, all the attributes
   are optional to support both situations.

   This is achieved by a combination of the traffic engineering tunnel
   attributes explained in [I-D.ietf-teas-yang-te] and augments when
   necessary.  For instance, source address, source flexi-grid
   transponder, destination address and destination flexi-grid
   transponder attributes are directly taken from tunnel, whereas other
   attributes such as source flexi-grid port, destination flexi-grid
   port are defined, as they are specific for flexi-grid.

4.  Example of Use

   In order to explain how this model is used, we provide the following
   example.  An optical network usually has multiple transponders,
   switches (nodes) and links.  Figure 1 shows a simple topology, where
   two physical paths interconnect two optical transponders.


























Lopez de Vergara, et al. Expires August 26, 2021                [Page 4]

Internet-Draft               Flexi-Grid YANG               February 2021


                                 Media channel
          <========================================================>
                                    Path x
          <~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~>
      +-----------+                                        +-----------+
      |  Optical  |                                        |  Optical  |
      |   Edge    |                                        |   Edge    |
      |           |                                        |           |
      |   ........|        +------+        +------+        |........   |
      |   :       | Link 1 |Flexi-| Link 2 |Flexi-| Link 3 |       :   |
      |   : Flexi-|<------>|  grid|<------>|  grid|<------>|Flexi- :   |
      |   :   grid|        |node B|        |node C|        |  grid :   |
      |   : Trans-|        +------+        +------+        |Trans- :   |
      |   : ponder|                                        |ponder :   |
      |   :    A  |              +----------+              |   E   :   |
      |   :       |     Link 4   |Flexi-grid|   Link 5     |       :   |
      |   :       |<------------>|   node   |<------------>|       :   |
      |   :.......|              |    D     |              |.......:   |
      |           |              +----------+              |           |
      +-----------+                                        +-----------+
          <~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~>
                                 Path y


                        Figure 1: Topology Example

   After the nodes, links and transponders have been defined using
   [I-D.ietf-ccamp-flexigrid-yang] we can configure the media-channel
   from the information we have stored in the flexi-grid topology, by
   querying which elements are available, and planning the resources
   that have to be provided on each situation.  Note that every element
   in the flexi-grid topology has a reference, and this is the way in
   which they are called in the media-channel.

   o  Depending on the case, it is possible to define either the source
      and destination node ports, or the source and destination node and
      transponder.  In our case, we would define a network media
      channel, with source transponder A and source node B, and
      destination transponder E and destination node C.  Thus, we are
      going to follow path x.

   o  Then, for each link in the path x, we indicate which channel we
      are going to use, providing information about the slots, and what
      nodes are connected.

   o  Finally, the flexi-grid topology has to be updated with each
      element usage status each time a media channel is created or torn
      down.



Lopez de Vergara, et al. Expires August 26, 2021                [Page 5]

Internet-Draft               Flexi-Grid YANG               February 2021


5.  YANG Model for Flexi-Grid Media Channel

5.1.  YANG Tree


module: ietf-te
  +--rw te!
     +--rw globals
     |  +--rw named-admin-groups
     |  |  +--rw named-admin-group* [name]
     |  |          {te-types:extended-admin-groups,te-types:named-extended-admin-groups}?
     |  |     +--rw name            string
     |  |     +--rw bit-position?   uint32
     |  +--rw named-srlgs
     |  |  +--rw named-srlg* [name] {te-types:named-srlg-groups}?
     |  |     +--rw name     string
     |  |     +--rw group?   te-types:srlg
     |  |     +--rw cost?    uint32
     |  +--rw named-path-constraints
     |     +--rw named-path-constraint* [name]
     |             {te-types:named-path-constraints}?
     |        +--rw name                             string
     |        +--rw te-bandwidth
     |        |  +--rw (technology)?
     |        |     +--:(generic)
     |        |        +--rw generic?   te-bandwidth
     |        +--rw link-protection?                 identityref
     |        +--rw setup-priority?                  uint8
     |        +--rw hold-priority?                   uint8
     |        +--rw signaling-type?                  identityref
     |        +--rw path-metric-bounds
     |        |  +--rw path-metric-bound* [metric-type]
     |        |     +--rw metric-type    identityref
     |        |     +--rw upper-bound?   uint64
     |        +--rw path-affinities-values
     |        |  +--rw path-affinities-value* [usage]
     |        |     +--rw usage    identityref
     |        |     +--rw value?   admin-groups
     |        +--rw path-affinity-names
     |        |  +--rw path-affinity-name* [usage]
     |        |     +--rw usage            identityref
     |        |     +--rw affinity-name* [name]
     |        |        +--rw name    string
     |        +--rw path-srlgs-lists
     |        |  +--rw path-srlgs-list* [usage]
     |        |     +--rw usage     identityref
     |        |     +--rw values*   srlg
     |        +--rw path-srlgs-names



Lopez de Vergara, et al. Expires August 26, 2021                [Page 6]

Internet-Draft               Flexi-Grid YANG               February 2021


     |        |  +--rw path-srlgs-name* [usage]
     |        |     +--rw usage    identityref
     |        |     +--rw names*   string
     |        +--rw disjointness?
     |        |       te-path-disjointness
     |        +--rw explicit-route-objects-always
     |        |  +--rw route-object-exclude-always* [index]
     |        |  |  +--rw index                        uint32
     |        |  |  +--rw (type)?
     |        |  |     +--:(numbered-node-hop)
     |        |  |     |  +--rw numbered-node-hop
     |        |  |     |     +--rw node-id     te-node-id
     |        |  |     |     +--rw hop-type?   te-hop-type
     |        |  |     +--:(numbered-link-hop)
     |        |  |     |  +--rw numbered-link-hop
     |        |  |     |     +--rw link-tp-id    te-tp-id
     |        |  |     |     +--rw hop-type?     te-hop-type
     |        |  |     |     +--rw direction?    te-link-direction
     |        |  |     +--:(unnumbered-link-hop)
     |        |  |     |  +--rw unnumbered-link-hop
     |        |  |     |     +--rw link-tp-id    te-tp-id
     |        |  |     |     +--rw node-id       te-node-id
     |        |  |     |     +--rw hop-type?     te-hop-type
     |        |  |     |     +--rw direction?    te-link-direction
     |        |  |     +--:(as-number)
     |        |  |     |  +--rw as-number-hop
     |        |  |     |     +--rw as-number    inet:as-number
     |        |  |     |     +--rw hop-type?    te-hop-type
     |        |  |     +--:(label)
     |        |  |        +--rw label-hop
     |        |  |           +--rw te-label
     |        |  |              +--rw (technology)?
     |        |  |              |  +--:(generic)
     |        |  |              |     +--rw generic?
     |        |  |              |             rt-types:generalized-label
     |        |  |              +--rw direction?
     |        |  |                      te-label-direction
     |        |  +--rw route-object-include-exclude* [index]
     |        |     +--rw explicit-route-usage?        identityref
     |        |     +--rw index                        uint32
     |        |     +--rw (type)?
     |        |        +--:(numbered-node-hop)
     |        |        |  +--rw numbered-node-hop
     |        |        |     +--rw node-id     te-node-id
     |        |        |     +--rw hop-type?   te-hop-type
     |        |        +--:(numbered-link-hop)
     |        |        |  +--rw numbered-link-hop
     |        |        |     +--rw link-tp-id    te-tp-id



Lopez de Vergara, et al. Expires August 26, 2021                [Page 7]

Internet-Draft               Flexi-Grid YANG               February 2021


     |        |        |     +--rw hop-type?     te-hop-type
     |        |        |     +--rw direction?    te-link-direction
     |        |        +--:(unnumbered-link-hop)
     |        |        |  +--rw unnumbered-link-hop
     |        |        |     +--rw link-tp-id    te-tp-id
     |        |        |     +--rw node-id       te-node-id
     |        |        |     +--rw hop-type?     te-hop-type
     |        |        |     +--rw direction?    te-link-direction
     |        |        +--:(as-number)
     |        |        |  +--rw as-number-hop
     |        |        |     +--rw as-number    inet:as-number
     |        |        |     +--rw hop-type?    te-hop-type
     |        |        +--:(label)
     |        |        |  +--rw label-hop
     |        |        |     +--rw te-label
     |        |        |        +--rw (technology)?
     |        |        |        |  +--:(generic)
     |        |        |        |     +--rw generic?
     |        |        |        |             rt-types:generalized-label
     |        |        |        +--rw direction?
     |        |        |                te-label-direction
     |        |        +--:(srlg)
     |        |           +--rw srlg
     |        |              +--rw srlg?   uint32
     |        +--rw shared-resources-tunnels
     |        |  +--rw lsp-shared-resources-tunnel*   tunnel-ref
     |        +--rw path-in-segment!
     |        |  +--rw label-restrictions
     |        |     +--rw label-restriction* [index]
     |        |        +--rw restriction?    enumeration
     |        |        +--rw index           uint32
     |        |        +--rw label-start
     |        |        |  +--rw te-label
     |        |        |     +--rw (technology)?
     |        |        |     |  +--:(generic)
     |        |        |     |     +--rw generic?
     |        |        |     |             rt-types:generalized-label
     |        |        |     +--rw direction?
     |        |        |             te-label-direction
     |        |        +--rw label-end
     |        |        |  +--rw te-label
     |        |        |     +--rw (technology)?
     |        |        |     |  +--:(generic)
     |        |        |     |     +--rw generic?
     |        |        |     |             rt-types:generalized-label
     |        |        |     +--rw direction?
     |        |        |             te-label-direction
     |        |        +--rw label-step



Lopez de Vergara, et al. Expires August 26, 2021                [Page 8]

Internet-Draft               Flexi-Grid YANG               February 2021


     |        |        |  +--rw (technology)?
     |        |        |     +--:(generic)
     |        |        |        +--rw generic?   int32
     |        |        +--rw range-bitmap?   yang:hex-string
     |        +--rw path-out-segment!
     |           +--rw label-restrictions
     |              +--rw label-restriction* [index]
     |                 +--rw restriction?    enumeration
     |                 +--rw index           uint32
     |                 +--rw label-start
     |                 |  +--rw te-label
     |                 |     +--rw (technology)?
     |                 |     |  +--:(generic)
     |                 |     |     +--rw generic?
     |                 |     |             rt-types:generalized-label
     |                 |     +--rw direction?
     |                 |             te-label-direction
     |                 +--rw label-end
     |                 |  +--rw te-label
     |                 |     +--rw (technology)?
     |                 |     |  +--:(generic)
     |                 |     |     +--rw generic?
     |                 |     |             rt-types:generalized-label
     |                 |     +--rw direction?
     |                 |             te-label-direction
     |                 +--rw label-step
     |                 |  +--rw (technology)?
     |                 |     +--:(generic)
     |                 |        +--rw generic?   int32
     |                 +--rw range-bitmap?   yang:hex-string
     +--rw tunnels
     |  +--rw tunnel* [name]
     |  |  +--ro operational-state?              identityref
     |  |  +--rw name                            string
     |  |  +--rw identifier?                     uint16
     |  |  +--rw description?                    string
     |  |  +--rw encoding?                       identityref
     |  |  +--rw switching-type?                 identityref
     |  |  +--rw provisioning-state?             identityref
     |  |  +--rw preference?                     uint8
     |  |  +--rw reoptimize-timer?               uint16
     |  |  +--rw source?                         te-types:te-node-id
     |  |  +--rw destination?                    te-types:te-node-id
     |  |  +--rw src-tp-id?                      yang:hex-string
     |  |  +--rw dst-tp-id?                      yang:hex-string
     |  |  +--rw bidirectional?                  boolean
     |  |  +--rw association-objects
     |  |  |  +--rw association-object*



Lopez de Vergara, et al. Expires August 26, 2021                [Page 9]

Internet-Draft               Flexi-Grid YANG               February 2021


     |  |  |  |       [type ID source global-source]
     |  |  |  |  +--rw type             identityref
     |  |  |  |  +--rw ID               uint16
     |  |  |  |  +--rw source           te-types:te-node-id
     |  |  |  |  +--rw global-source    te-types:te-node-id
     |  |  |  +--rw association-object-extended*
     |  |  |          [type ID source global-source extended-ID]
     |  |  |     +--rw type             identityref
     |  |  |     +--rw ID               uint16
     |  |  |     +--rw source           te-types:te-node-id
     |  |  |     +--rw global-source    te-types:te-node-id
     |  |  |     +--rw extended-ID      yang:hex-string
     |  |  +--rw protection
     |  |  |  +--rw enable?                         boolean
     |  |  |  +--rw protection-type?                identityref
     |  |  |  +--rw protection-reversion-disable?   boolean
     |  |  |  +--rw hold-off-time?                  uint32
     |  |  |  +--rw wait-to-revert?                 uint16
     |  |  |  +--rw aps-signal-id?                  uint8
     |  |  +--rw restoration
     |  |  |  +--rw enable?                          boolean
     |  |  |  +--rw restoration-type?                identityref
     |  |  |  +--rw restoration-scheme?              identityref
     |  |  |  +--rw restoration-reversion-disable?   boolean
     |  |  |  +--rw hold-off-time?                   uint32
     |  |  |  +--rw wait-to-restore?                 uint16
     |  |  |  +--rw wait-to-revert?                  uint16
     |  |  +--rw te-topology-identifier
     |  |  |  +--rw provider-id?   te-global-id
     |  |  |  +--rw client-id?     te-global-id
     |  |  |  +--rw topology-id?   te-topology-id
     |  |  +--rw te-bandwidth
     |  |  |  +--rw (technology)?
     |  |  |     +--:(generic)
     |  |  |        +--rw generic?   te-bandwidth
     |  |  +--rw link-protection?                identityref
     |  |  +--rw setup-priority?                 uint8
     |  |  +--rw hold-priority?                  uint8
     |  |  +--rw signaling-type?                 identityref
     |  |  +--rw dependency-tunnels
     |  |  |  +--rw dependency-tunnel* [name]
     |  |  |     +--rw name
     |  |  |     |       -> ../../../../../tunnels/tunnel/name
     |  |  |     +--rw encoding?         identityref
     |  |  |     +--rw switching-type?   identityref
     |  |  +--rw hierarchical-link
     |  |  |  +--rw local-te-node-id?         te-types:te-node-id
     |  |  |  +--rw local-te-link-tp-id?      te-types:te-tp-id



Lopez de Vergara, et al. Expires August 26, 2021               [Page 10]

Internet-Draft               Flexi-Grid YANG               February 2021


     |  |  |  +--rw remote-te-node-id?        te-types:te-node-id
     |  |  |  +--rw te-topology-identifier
     |  |  |     +--rw provider-id?   te-global-id
     |  |  |     +--rw client-id?     te-global-id
     |  |  |     +--rw topology-id?   te-topology-id
     |  |  +--rw p2p-primary-paths
     |  |  |  +--rw p2p-primary-path* [name]
     |  |  |     +--rw name                             string
     |  |  |     +--rw path-setup-protocol?             identityref
     |  |  |     +--rw path-computation-method?         identityref
     |  |  |     +--rw path-computation-server?
     |  |  |     |       inet:ip-address
     |  |  |     +--rw compute-only?                    empty
     |  |  |     +--rw use-path-computation?            boolean
     |  |  |     +--rw lockdown?                        empty
     |  |  |     +--ro path-scope?                      identityref
     |  |  |     +--rw optimizations
     |  |  |     |  +--rw (algorithm)?
     |  |  |     |     +--:(metric) {path-optimization-metric}?
     |  |  |     |     |  +--rw optimization-metric* [metric-type]
     |  |  |     |     |  |  +--rw metric-type
     |  |  |     |     |  |  |       identityref
     |  |  |     |     |  |  +--rw weight?
     |  |  |     |     |  |  |       uint8
     |  |  |     |     |  |  +--rw explicit-route-exclude-objects
     |  |  |     |     |  |  |  +--rw route-object-exclude-object*
     |  |  |     |     |  |  |          [index]
     |  |  |     |     |  |  |     +--rw index
     |  |  |     |     |  |  |     |       uint32
     |  |  |     |     |  |  |     +--rw (type)?
     |  |  |     |     |  |  |        +--:(numbered-node-hop)
     |  |  |     |     |  |  |        |  +--rw numbered-node-hop
     |  |  |     |     |  |  |        |     +--rw node-id
     |  |  |     |     |  |  |        |     |       te-node-id
     |  |  |     |     |  |  |        |     +--rw hop-type?
     |  |  |     |     |  |  |        |             te-hop-type
     |  |  |     |     |  |  |        +--:(numbered-link-hop)
     |  |  |     |     |  |  |        |  +--rw numbered-link-hop
     |  |  |     |     |  |  |        |     +--rw link-tp-id
     |  |  |     |     |  |  |        |     |       te-tp-id
     |  |  |     |     |  |  |        |     +--rw hop-type?
     |  |  |     |     |  |  |        |     |       te-hop-type
     |  |  |     |     |  |  |        |     +--rw direction?
     |  |  |     |     |  |  |        |             te-link-direction
     |  |  |     |     |  |  |        +--:(unnumbered-link-hop)
     |  |  |     |     |  |  |        |  +--rw unnumbered-link-hop
     |  |  |     |     |  |  |        |     +--rw link-tp-id
     |  |  |     |     |  |  |        |     |       te-tp-id



Lopez de Vergara, et al. Expires August 26, 2021               [Page 11]

Internet-Draft               Flexi-Grid YANG               February 2021


     |  |  |     |     |  |  |        |     +--rw node-id
     |  |  |     |     |  |  |        |     |       te-node-id
     |  |  |     |     |  |  |        |     +--rw hop-type?
     |  |  |     |     |  |  |        |     |       te-hop-type
     |  |  |     |     |  |  |        |     +--rw direction?
     |  |  |     |     |  |  |        |             te-link-direction
     |  |  |     |     |  |  |        +--:(as-number)
     |  |  |     |     |  |  |        |  +--rw as-number-hop
     |  |  |     |     |  |  |        |     +--rw as-number
     |  |  |     |     |  |  |        |     |       inet:as-number
     |  |  |     |     |  |  |        |     +--rw hop-type?
     |  |  |     |     |  |  |        |             te-hop-type
     |  |  |     |     |  |  |        +--:(label)
     |  |  |     |     |  |  |        |  +--rw label-hop
     |  |  |     |     |  |  |        |     +--rw te-label
     |  |  |     |     |  |  |        |        +--rw (technology)?
     |  |  |     |     |  |  |        |        |  +--:(generic)
     |  |  |     |     |  |  |        |        |     +--rw generic?
     |  |  |     |     |  |  |        |        |             rt-types:generalized-label
     |  |  |     |     |  |  |        |        +--rw direction?
     |  |  |     |     |  |  |        |                te-label-direction
     |  |  |     |     |  |  |        +--:(srlg)
     |  |  |     |     |  |  |           +--rw srlg
     |  |  |     |     |  |  |              +--rw srlg?   uint32
     |  |  |     |     |  |  +--rw explicit-route-include-objects
     |  |  |     |     |  |     +--rw route-object-include-object*
     |  |  |     |     |  |             [index]
     |  |  |     |     |  |        +--rw index
     |  |  |     |     |  |        |       uint32
     |  |  |     |     |  |        +--rw (type)?
     |  |  |     |     |  |           +--:(numbered-node-hop)
     |  |  |     |     |  |           |  +--rw numbered-node-hop
     |  |  |     |     |  |           |     +--rw node-id
     |  |  |     |     |  |           |     |       te-node-id
     |  |  |     |     |  |           |     +--rw hop-type?
     |  |  |     |     |  |           |             te-hop-type
     |  |  |     |     |  |           +--:(numbered-link-hop)
     |  |  |     |     |  |           |  +--rw numbered-link-hop
     |  |  |     |     |  |           |     +--rw link-tp-id
     |  |  |     |     |  |           |     |       te-tp-id
     |  |  |     |     |  |           |     +--rw hop-type?
     |  |  |     |     |  |           |     |       te-hop-type
     |  |  |     |     |  |           |     +--rw direction?
     |  |  |     |     |  |           |             te-link-direction
     |  |  |     |     |  |           +--:(unnumbered-link-hop)
     |  |  |     |     |  |           |  +--rw unnumbered-link-hop
     |  |  |     |     |  |           |     +--rw link-tp-id
     |  |  |     |     |  |           |     |       te-tp-id



Lopez de Vergara, et al. Expires August 26, 2021               [Page 12]

Internet-Draft               Flexi-Grid YANG               February 2021


     |  |  |     |     |  |           |     +--rw node-id
     |  |  |     |     |  |           |     |       te-node-id
     |  |  |     |     |  |           |     +--rw hop-type?
     |  |  |     |     |  |           |     |       te-hop-type
     |  |  |     |     |  |           |     +--rw direction?
     |  |  |     |     |  |           |             te-link-direction
     |  |  |     |     |  |           +--:(as-number)
     |  |  |     |     |  |           |  +--rw as-number-hop
     |  |  |     |     |  |           |     +--rw as-number
     |  |  |     |     |  |           |     |       inet:as-number
     |  |  |     |     |  |           |     +--rw hop-type?
     |  |  |     |     |  |           |             te-hop-type
     |  |  |     |     |  |           +--:(label)
     |  |  |     |     |  |              +--rw label-hop
     |  |  |     |     |  |                 +--rw te-label
     |  |  |     |     |  |                    +--rw (technology)?
     |  |  |     |     |  |                    |  +--:(generic)
     |  |  |     |     |  |                    |     +--rw generic?
     |  |  |     |     |  |                    |             rt-types:generalized-label
     |  |  |     |     |  |                    +--rw direction?
     |  |  |     |     |  |                            te-label-direction
     |  |  |     |     |  +--rw tiebreakers
     |  |  |     |     |     +--rw tiebreaker* [tiebreaker-type]
     |  |  |     |     |        +--rw tiebreaker-type    identityref
     |  |  |     |     +--:(objective-function)
     |  |  |     |              {path-optimization-objective-function}?
     |  |  |     |        +--rw objective-function
     |  |  |     |           +--rw objective-function-type?
     |  |  |     |                   identityref
     |  |  |     +--rw preference?                      uint8
     |  |  |     +--rw k-requested-paths?               uint8
     |  |  |     +--rw named-path-constraint?           leafref
     |  |  |     |       {te-types:named-path-constraints}?
     |  |  |     +--rw te-bandwidth
     |  |  |     |  +--rw (technology)?
     |  |  |     |     +--:(generic)
     |  |  |     |        +--rw generic?   te-bandwidth
     |  |  |     +--rw link-protection?                 identityref
     |  |  |     +--rw setup-priority?                  uint8
     |  |  |     +--rw hold-priority?                   uint8
     |  |  |     +--rw signaling-type?                  identityref
     |  |  |     +--rw path-metric-bounds
     |  |  |     |  +--rw path-metric-bound* [metric-type]
     |  |  |     |     +--rw metric-type    identityref
     |  |  |     |     +--rw upper-bound?   uint64
     |  |  |     +--rw path-affinities-values
     |  |  |     |  +--rw path-affinities-value* [usage]
     |  |  |     |     +--rw usage    identityref



Lopez de Vergara, et al. Expires August 26, 2021               [Page 13]

Internet-Draft               Flexi-Grid YANG               February 2021


     |  |  |     |     +--rw value?   admin-groups
     |  |  |     +--rw path-affinity-names
     |  |  |     |  +--rw path-affinity-name* [usage]
     |  |  |     |     +--rw usage            identityref
     |  |  |     |     +--rw affinity-name* [name]
     |  |  |     |        +--rw name    string
     |  |  |     +--rw path-srlgs-lists
     |  |  |     |  +--rw path-srlgs-list* [usage]
     |  |  |     |     +--rw usage     identityref
     |  |  |     |     +--rw values*   srlg
     |  |  |     +--rw path-srlgs-names
     |  |  |     |  +--rw path-srlgs-name* [usage]
     |  |  |     |     +--rw usage    identityref
     |  |  |     |     +--rw names*   string
     |  |  |     +--rw disjointness?
     |  |  |     |       te-path-disjointness
     |  |  |     +--rw explicit-route-objects-always
     |  |  |     |  +--rw route-object-exclude-always* [index]
     |  |  |     |  |  +--rw index                        uint32
     |  |  |     |  |  +--rw (type)?
     |  |  |     |  |     +--:(numbered-node-hop)
     |  |  |     |  |     |  +--rw numbered-node-hop
     |  |  |     |  |     |     +--rw node-id     te-node-id
     |  |  |     |  |     |     +--rw hop-type?   te-hop-type
     |  |  |     |  |     +--:(numbered-link-hop)
     |  |  |     |  |     |  +--rw numbered-link-hop
     |  |  |     |  |     |     +--rw link-tp-id    te-tp-id
     |  |  |     |  |     |     +--rw hop-type?     te-hop-type
     |  |  |     |  |     |     +--rw direction?    te-link-direction
     |  |  |     |  |     +--:(unnumbered-link-hop)
     |  |  |     |  |     |  +--rw unnumbered-link-hop
     |  |  |     |  |     |     +--rw link-tp-id    te-tp-id
     |  |  |     |  |     |     +--rw node-id       te-node-id
     |  |  |     |  |     |     +--rw hop-type?     te-hop-type
     |  |  |     |  |     |     +--rw direction?    te-link-direction
     |  |  |     |  |     +--:(as-number)
     |  |  |     |  |     |  +--rw as-number-hop
     |  |  |     |  |     |     +--rw as-number    inet:as-number
     |  |  |     |  |     |     +--rw hop-type?    te-hop-type
     |  |  |     |  |     +--:(label)
     |  |  |     |  |        +--rw label-hop
     |  |  |     |  |           +--rw te-label
     |  |  |     |  |              +--rw (technology)?
     |  |  |     |  |              |  +--:(generic)
     |  |  |     |  |              |     +--rw generic?
     |  |  |     |  |              |             rt-types:generalized-label
     |  |  |     |  |              +--rw direction?
     |  |  |     |  |                      te-label-direction



Lopez de Vergara, et al. Expires August 26, 2021               [Page 14]

Internet-Draft               Flexi-Grid YANG               February 2021


     |  |  |     |  +--rw route-object-include-exclude* [index]
     |  |  |     |     +--rw explicit-route-usage?        identityref
     |  |  |     |     +--rw index                        uint32
     |  |  |     |     +--rw (type)?
     |  |  |     |        +--:(numbered-node-hop)
     |  |  |     |        |  +--rw numbered-node-hop
     |  |  |     |        |     +--rw node-id     te-node-id
     |  |  |     |        |     +--rw hop-type?   te-hop-type
     |  |  |     |        +--:(numbered-link-hop)
     |  |  |     |        |  +--rw numbered-link-hop
     |  |  |     |        |     +--rw link-tp-id    te-tp-id
     |  |  |     |        |     +--rw hop-type?     te-hop-type
     |  |  |     |        |     +--rw direction?    te-link-direction
     |  |  |     |        +--:(unnumbered-link-hop)
     |  |  |     |        |  +--rw unnumbered-link-hop
     |  |  |     |        |     +--rw link-tp-id    te-tp-id
     |  |  |     |        |     +--rw node-id       te-node-id
     |  |  |     |        |     +--rw hop-type?     te-hop-type
     |  |  |     |        |     +--rw direction?    te-link-direction
     |  |  |     |        +--:(as-number)
     |  |  |     |        |  +--rw as-number-hop
     |  |  |     |        |     +--rw as-number    inet:as-number
     |  |  |     |        |     +--rw hop-type?    te-hop-type
     |  |  |     |        +--:(label)
     |  |  |     |        |  +--rw label-hop
     |  |  |     |        |     +--rw te-label
     |  |  |     |        |        +--rw (technology)?
     |  |  |     |        |        |  +--:(generic)
     |  |  |     |        |        |     +--rw generic?
     |  |  |     |        |        |             rt-types:generalized-label
     |  |  |     |        |        +--rw direction?
     |  |  |     |        |                te-label-direction
     |  |  |     |        +--:(srlg)
     |  |  |     |           +--rw srlg
     |  |  |     |              +--rw srlg?   uint32
     |  |  |     +--rw shared-resources-tunnels
     |  |  |     |  +--rw lsp-shared-resources-tunnel*   tunnel-ref
     |  |  |     +--rw path-in-segment!
     |  |  |     |  +--rw label-restrictions
     |  |  |     |     +--rw label-restriction* [index]
     |  |  |     |        +--rw restriction?    enumeration
     |  |  |     |        +--rw index           uint32
     |  |  |     |        +--rw label-start
     |  |  |     |        |  +--rw te-label
     |  |  |     |        |     +--rw (technology)?
     |  |  |     |        |     |  +--:(generic)
     |  |  |     |        |     |     +--rw generic?
     |  |  |     |        |     |             rt-types:generalized-label



Lopez de Vergara, et al. Expires August 26, 2021               [Page 15]

Internet-Draft               Flexi-Grid YANG               February 2021


     |  |  |     |        |     +--rw direction?
     |  |  |     |        |             te-label-direction
     |  |  |     |        +--rw label-end
     |  |  |     |        |  +--rw te-label
     |  |  |     |        |     +--rw (technology)?
     |  |  |     |        |     |  +--:(generic)
     |  |  |     |        |     |     +--rw generic?
     |  |  |     |        |     |             rt-types:generalized-label
     |  |  |     |        |     +--rw direction?
     |  |  |     |        |             te-label-direction
     |  |  |     |        +--rw label-step
     |  |  |     |        |  +--rw (technology)?
     |  |  |     |        |     +--:(generic)
     |  |  |     |        |        +--rw generic?   int32
     |  |  |     |        +--rw range-bitmap?   yang:hex-string
     |  |  |     +--rw path-out-segment!
     |  |  |     |  +--rw label-restrictions
     |  |  |     |     +--rw label-restriction* [index]
     |  |  |     |        +--rw restriction?    enumeration
     |  |  |     |        +--rw index           uint32
     |  |  |     |        +--rw label-start
     |  |  |     |        |  +--rw te-label
     |  |  |     |        |     +--rw (technology)?
     |  |  |     |        |     |  +--:(generic)
     |  |  |     |        |     |     +--rw generic?
     |  |  |     |        |     |             rt-types:generalized-label
     |  |  |     |        |     +--rw direction?
     |  |  |     |        |             te-label-direction
     |  |  |     |        +--rw label-end
     |  |  |     |        |  +--rw te-label
     |  |  |     |        |     +--rw (technology)?
     |  |  |     |        |     |  +--:(generic)
     |  |  |     |        |     |     +--rw generic?
     |  |  |     |        |     |             rt-types:generalized-label
     |  |  |     |        |     +--rw direction?
     |  |  |     |        |             te-label-direction
     |  |  |     |        +--rw label-step
     |  |  |     |        |  +--rw (technology)?
     |  |  |     |        |     +--:(generic)
     |  |  |     |        |        +--rw generic?   int32
     |  |  |     |        +--rw range-bitmap?   yang:hex-string
     |  |  |     +--ro computed-paths-properties
     |  |  |     |  +--ro computed-path-properties* [k-index]
     |  |  |     |     +--ro k-index            uint8
     |  |  |     |     +--ro path-properties
     |  |  |     |        +--ro path-metric* [metric-type]
     |  |  |     |        |  +--ro metric-type           identityref
     |  |  |     |        |  +--ro accumulative-value?   uint64



Lopez de Vergara, et al. Expires August 26, 2021               [Page 16]

Internet-Draft               Flexi-Grid YANG               February 2021


     |  |  |     |        +--ro path-affinities-values
     |  |  |     |        |  +--ro path-affinities-value* [usage]
     |  |  |     |        |     +--ro usage    identityref
     |  |  |     |        |     +--ro value?   admin-groups
     |  |  |     |        +--ro path-affinity-names
     |  |  |     |        |  +--ro path-affinity-name* [usage]
     |  |  |     |        |     +--ro usage            identityref
     |  |  |     |        |     +--ro affinity-name* [name]
     |  |  |     |        |        +--ro name    string
     |  |  |     |        +--ro path-srlgs-lists
     |  |  |     |        |  +--ro path-srlgs-list* [usage]
     |  |  |     |        |     +--ro usage     identityref
     |  |  |     |        |     +--ro values*   srlg
     |  |  |     |        +--ro path-srlgs-names
     |  |  |     |        |  +--ro path-srlgs-name* [usage]
     |  |  |     |        |     +--ro usage    identityref
     |  |  |     |        |     +--ro names*   string
     |  |  |     |        +--ro path-route-objects
     |  |  |     |        |  +--ro path-computed-route-object*
     |  |  |     |        |          [index]
     |  |  |     |        |     +--ro index
     |  |  |     |        |     |       uint32
     |  |  |     |        |     +--ro (type)?
     |  |  |     |        |        +--:(numbered-node-hop)
     |  |  |     |        |        |  +--ro numbered-node-hop
     |  |  |     |        |        |     +--ro node-id     te-node-id
     |  |  |     |        |        |     +--ro hop-type?
     |  |  |     |        |        |             te-hop-type
     |  |  |     |        |        +--:(numbered-link-hop)
     |  |  |     |        |        |  +--ro numbered-link-hop
     |  |  |     |        |        |     +--ro link-tp-id    te-tp-id
     |  |  |     |        |        |     +--ro hop-type?
     |  |  |     |        |        |     |       te-hop-type
     |  |  |     |        |        |     +--ro direction?
     |  |  |     |        |        |             te-link-direction
     |  |  |     |        |        +--:(unnumbered-link-hop)
     |  |  |     |        |        |  +--ro unnumbered-link-hop
     |  |  |     |        |        |     +--ro link-tp-id    te-tp-id
     |  |  |     |        |        |     +--ro node-id
     |  |  |     |        |        |     |       te-node-id
     |  |  |     |        |        |     +--ro hop-type?
     |  |  |     |        |        |     |       te-hop-type
     |  |  |     |        |        |     +--ro direction?
     |  |  |     |        |        |             te-link-direction
     |  |  |     |        |        +--:(as-number)
     |  |  |     |        |        |  +--ro as-number-hop
     |  |  |     |        |        |     +--ro as-number
     |  |  |     |        |        |     |       inet:as-number



Lopez de Vergara, et al. Expires August 26, 2021               [Page 17]

Internet-Draft               Flexi-Grid YANG               February 2021


     |  |  |     |        |        |     +--ro hop-type?
     |  |  |     |        |        |             te-hop-type
     |  |  |     |        |        +--:(label)
     |  |  |     |        |           +--ro label-hop
     |  |  |     |        |              +--ro te-label
     |  |  |     |        |                 +--ro (technology)?
     |  |  |     |        |                 |  +--:(generic)
     |  |  |     |        |                 |     +--ro generic?
     |  |  |     |        |                 |             rt-types:generalized-label
     |  |  |     |        |                 +--ro direction?
     |  |  |     |        |                         te-label-direction
     |  |  |     |        +--ro shared-resources-tunnels
     |  |  |     |           +--ro lsp-shared-resources-tunnel*
     |  |  |     |                   tunnel-ref
     |  |  |     +--ro lsps
     |  |  |     |  +--ro lsp*
     |  |  |     |          [source destination tunnel-id lsp-id extended-tunnel-id]
     |  |  |     |     +--ro source
     |  |  |     |     |       te-types:te-node-id
     |  |  |     |     +--ro destination
     |  |  |     |     |       te-types:te-node-id
     |  |  |     |     +--ro tunnel-id
     |  |  |     |     |       uint16
     |  |  |     |     +--ro lsp-id
     |  |  |     |     |       uint16
     |  |  |     |     +--ro extended-tunnel-id
     |  |  |     |     |       yang:dotted-quad
     |  |  |     |     +--ro operational-state?
     |  |  |     |     |       identityref
     |  |  |     |     +--ro path-setup-protocol?
     |  |  |     |     |       identityref
     |  |  |     |     +--ro origin-type?
     |  |  |     |     |       enumeration
     |  |  |     |     +--ro lsp-resource-status?
     |  |  |     |     |       enumeration
     |  |  |     |     +--ro lockout-of-normal?
     |  |  |     |     |       boolean
     |  |  |     |     +--ro freeze?
     |  |  |     |     |       boolean
     |  |  |     |     +--ro lsp-protection-role?
     |  |  |     |     |       enumeration
     |  |  |     |     +--ro lsp-protection-state?
     |  |  |     |     |       identityref
     |  |  |     |     +--ro protection-group-ingress-node-id?
     |  |  |     |     |       te-types:te-node-id
     |  |  |     |     +--ro protection-group-egress-node-id?
     |  |  |     |     |       te-types:te-node-id
     |  |  |     |     +--ro lsp-shared-resources-tunnel?



Lopez de Vergara, et al. Expires August 26, 2021               [Page 18]

Internet-Draft               Flexi-Grid YANG               February 2021


     |  |  |     |     |       tunnel-ref
     |  |  |     |     +--ro lsp-record-route-information
     |  |  |     |     |  +--ro lsp-record-route-information* [index]
     |  |  |     |     |     +--ro index
     |  |  |     |     |     |       uint32
     |  |  |     |     |     +--ro (type)?
     |  |  |     |     |        +--:(numbered-node-hop)
     |  |  |     |     |        |  +--ro numbered-node-hop
     |  |  |     |     |        |     +--ro node-id    te-node-id
     |  |  |     |     |        |     +--ro flags*
     |  |  |     |     |        |             path-attribute-flags
     |  |  |     |     |        +--:(numbered-link-hop)
     |  |  |     |     |        |  +--ro numbered-link-hop
     |  |  |     |     |        |     +--ro link-tp-id    te-tp-id
     |  |  |     |     |        |     +--ro flags*
     |  |  |     |     |        |             path-attribute-flags
     |  |  |     |     |        +--:(unnumbered-link-hop)
     |  |  |     |     |        |  +--ro unnumbered-link-hop
     |  |  |     |     |        |     +--ro link-tp-id    te-tp-id
     |  |  |     |     |        |     +--ro node-id?      te-node-id
     |  |  |     |     |        |     +--ro flags*
     |  |  |     |     |        |             path-attribute-flags
     |  |  |     |     |        +--:(label)
     |  |  |     |     |           +--ro label-hop
     |  |  |     |     |              +--ro te-label
     |  |  |     |     |              |  +--ro (technology)?
     |  |  |     |     |              |  |  +--:(generic)
     |  |  |     |     |              |  |     +--ro generic?
     |  |  |     |     |              |  |             rt-types:generalized-label
     |  |  |     |     |              |  +--ro direction?
     |  |  |     |     |              |          te-label-direction
     |  |  |     |     |              +--ro flags*
     |  |  |     |     |                      path-attribute-flags
     |  |  |     |     +--ro path-properties
     |  |  |     |        +--ro path-metric* [metric-type]
     |  |  |     |        |  +--ro metric-type           identityref
     |  |  |     |        |  +--ro accumulative-value?   uint64
     |  |  |     |        +--ro path-affinities-values
     |  |  |     |        |  +--ro path-affinities-value* [usage]
     |  |  |     |        |     +--ro usage    identityref
     |  |  |     |        |     +--ro value?   admin-groups
     |  |  |     |        +--ro path-affinity-names
     |  |  |     |        |  +--ro path-affinity-name* [usage]
     |  |  |     |        |     +--ro usage            identityref
     |  |  |     |        |     +--ro affinity-name* [name]
     |  |  |     |        |        +--ro name    string
     |  |  |     |        +--ro path-srlgs-lists
     |  |  |     |        |  +--ro path-srlgs-list* [usage]



Lopez de Vergara, et al. Expires August 26, 2021               [Page 19]

Internet-Draft               Flexi-Grid YANG               February 2021


     |  |  |     |        |     +--ro usage     identityref
     |  |  |     |        |     +--ro values*   srlg
     |  |  |     |        +--ro path-srlgs-names
     |  |  |     |        |  +--ro path-srlgs-name* [usage]
     |  |  |     |        |     +--ro usage    identityref
     |  |  |     |        |     +--ro names*   string
     |  |  |     |        +--ro path-route-objects
     |  |  |     |        |  +--ro path-computed-route-object*
     |  |  |     |        |          [index]
     |  |  |     |        |     +--ro index
     |  |  |     |        |     |       uint32
     |  |  |     |        |     +--ro (type)?
     |  |  |     |        |        +--:(numbered-node-hop)
     |  |  |     |        |        |  +--ro numbered-node-hop
     |  |  |     |        |        |     +--ro node-id     te-node-id
     |  |  |     |        |        |     +--ro hop-type?
     |  |  |     |        |        |             te-hop-type
     |  |  |     |        |        +--:(numbered-link-hop)
     |  |  |     |        |        |  +--ro numbered-link-hop
     |  |  |     |        |        |     +--ro link-tp-id    te-tp-id
     |  |  |     |        |        |     +--ro hop-type?
     |  |  |     |        |        |     |       te-hop-type
     |  |  |     |        |        |     +--ro direction?
     |  |  |     |        |        |             te-link-direction
     |  |  |     |        |        +--:(unnumbered-link-hop)
     |  |  |     |        |        |  +--ro unnumbered-link-hop
     |  |  |     |        |        |     +--ro link-tp-id    te-tp-id
     |  |  |     |        |        |     +--ro node-id
     |  |  |     |        |        |     |       te-node-id
     |  |  |     |        |        |     +--ro hop-type?
     |  |  |     |        |        |     |       te-hop-type
     |  |  |     |        |        |     +--ro direction?
     |  |  |     |        |        |             te-link-direction
     |  |  |     |        |        +--:(as-number)
     |  |  |     |        |        |  +--ro as-number-hop
     |  |  |     |        |        |     +--ro as-number
     |  |  |     |        |        |     |       inet:as-number
     |  |  |     |        |        |     +--ro hop-type?
     |  |  |     |        |        |             te-hop-type
     |  |  |     |        |        +--:(label)
     |  |  |     |        |           +--ro label-hop
     |  |  |     |        |              +--ro te-label
     |  |  |     |        |                 +--ro (technology)?
     |  |  |     |        |                 |  +--:(generic)
     |  |  |     |        |                 |     +--ro generic?
     |  |  |     |        |                 |             rt-types:generalized-label
     |  |  |     |        |                 +--ro direction?
     |  |  |     |        |                         te-label-direction



Lopez de Vergara, et al. Expires August 26, 2021               [Page 20]

Internet-Draft               Flexi-Grid YANG               February 2021


     |  |  |     |        +--ro shared-resources-tunnels
     |  |  |     |           +--ro lsp-shared-resources-tunnel*
     |  |  |     |                   tunnel-ref
     |  |  |     +--rw p2p-primary-reverse-path
     |  |  |     |  +--rw name?                            string
     |  |  |     |  +--rw path-setup-protocol?
     |  |  |     |  |       identityref
     |  |  |     |  +--rw path-computation-method?
     |  |  |     |  |       identityref
     |  |  |     |  +--rw path-computation-server?
     |  |  |     |  |       inet:ip-address
     |  |  |     |  +--rw compute-only?                    empty
     |  |  |     |  +--rw use-path-computation?            boolean
     |  |  |     |  +--rw lockdown?                        empty
     |  |  |     |  +--ro path-scope?
     |  |  |     |  |       identityref
     |  |  |     |  +--rw optimizations
     |  |  |     |  |  +--rw (algorithm)?
     |  |  |     |  |     +--:(metric) {path-optimization-metric}?
     |  |  |     |  |     |  +--rw optimization-metric* [metric-type]
     |  |  |     |  |     |  |  +--rw metric-type
     |  |  |     |  |     |  |  |       identityref
     |  |  |     |  |     |  |  +--rw weight?
     |  |  |     |  |     |  |  |       uint8
     |  |  |     |  |     |  |  +--rw explicit-route-exclude-objects
     |  |  |     |  |     |  |  |  +--rw route-object-exclude-object*
     |  |  |     |  |     |  |  |          [index]
     |  |  |     |  |     |  |  |     +--rw index
     |  |  |     |  |     |  |  |     |       uint32
     |  |  |     |  |     |  |  |     +--rw (type)?
     |  |  |     |  |     |  |  |        +--:(numbered-node-hop)
     |  |  |     |  |     |  |  |        |  +--rw numbered-node-hop
     |  |  |     |  |     |  |  |        |     +--rw node-id
     |  |  |     |  |     |  |  |        |     |       te-node-id
     |  |  |     |  |     |  |  |        |     +--rw hop-type?
     |  |  |     |  |     |  |  |        |             te-hop-type
     |  |  |     |  |     |  |  |        +--:(numbered-link-hop)
     |  |  |     |  |     |  |  |        |  +--rw numbered-link-hop
     |  |  |     |  |     |  |  |        |     +--rw link-tp-id
     |  |  |     |  |     |  |  |        |     |       te-tp-id
     |  |  |     |  |     |  |  |        |     +--rw hop-type?
     |  |  |     |  |     |  |  |        |     |       te-hop-type
     |  |  |     |  |     |  |  |        |     +--rw direction?
     |  |  |     |  |     |  |  |        |             te-link-direction
     |  |  |     |  |     |  |  |        +--:(unnumbered-link-hop)
     |  |  |     |  |     |  |  |        |  +--rw unnumbered-link-hop
     |  |  |     |  |     |  |  |        |     +--rw link-tp-id
     |  |  |     |  |     |  |  |        |     |       te-tp-id



Lopez de Vergara, et al. Expires August 26, 2021               [Page 21]

Internet-Draft               Flexi-Grid YANG               February 2021


     |  |  |     |  |     |  |  |        |     +--rw node-id
     |  |  |     |  |     |  |  |        |     |       te-node-id
     |  |  |     |  |     |  |  |        |     +--rw hop-type?
     |  |  |     |  |     |  |  |        |     |       te-hop-type
     |  |  |     |  |     |  |  |        |     +--rw direction?
     |  |  |     |  |     |  |  |        |             te-link-direction
     |  |  |     |  |     |  |  |        +--:(as-number)
     |  |  |     |  |     |  |  |        |  +--rw as-number-hop
     |  |  |     |  |     |  |  |        |     +--rw as-number
     |  |  |     |  |     |  |  |        |     |       inet:as-number
     |  |  |     |  |     |  |  |        |     +--rw hop-type?
     |  |  |     |  |     |  |  |        |             te-hop-type
     |  |  |     |  |     |  |  |        +--:(label)
     |  |  |     |  |     |  |  |        |  +--rw label-hop
     |  |  |     |  |     |  |  |        |     +--rw te-label
     |  |  |     |  |     |  |  |        |        +--rw (technology)?
     |  |  |     |  |     |  |  |        |        |  +--:(generic)
     |  |  |     |  |     |  |  |        |        |     +--rw generic?
     |  |  |     |  |     |  |  |        |        |             rt-types:generalized-label
     |  |  |     |  |     |  |  |        |        +--rw direction?
     |  |  |     |  |     |  |  |        |                te-label-direction
     |  |  |     |  |     |  |  |        +--:(srlg)
     |  |  |     |  |     |  |  |           +--rw srlg
     |  |  |     |  |     |  |  |              +--rw srlg?   uint32
     |  |  |     |  |     |  |  +--rw explicit-route-include-objects
     |  |  |     |  |     |  |     +--rw route-object-include-object*
     |  |  |     |  |     |  |             [index]
     |  |  |     |  |     |  |        +--rw index
     |  |  |     |  |     |  |        |       uint32
     |  |  |     |  |     |  |        +--rw (type)?
     |  |  |     |  |     |  |           +--:(numbered-node-hop)
     |  |  |     |  |     |  |           |  +--rw numbered-node-hop
     |  |  |     |  |     |  |           |     +--rw node-id
     |  |  |     |  |     |  |           |     |       te-node-id
     |  |  |     |  |     |  |           |     +--rw hop-type?
     |  |  |     |  |     |  |           |             te-hop-type
     |  |  |     |  |     |  |           +--:(numbered-link-hop)
     |  |  |     |  |     |  |           |  +--rw numbered-link-hop
     |  |  |     |  |     |  |           |     +--rw link-tp-id
     |  |  |     |  |     |  |           |     |       te-tp-id
     |  |  |     |  |     |  |           |     +--rw hop-type?
     |  |  |     |  |     |  |           |     |       te-hop-type
     |  |  |     |  |     |  |           |     +--rw direction?
     |  |  |     |  |     |  |           |             te-link-direction
     |  |  |     |  |     |  |           +--:(unnumbered-link-hop)
     |  |  |     |  |     |  |           |  +--rw unnumbered-link-hop
     |  |  |     |  |     |  |           |     +--rw link-tp-id
     |  |  |     |  |     |  |           |     |       te-tp-id



Lopez de Vergara, et al. Expires August 26, 2021               [Page 22]

Internet-Draft               Flexi-Grid YANG               February 2021


     |  |  |     |  |     |  |           |     +--rw node-id
     |  |  |     |  |     |  |           |     |       te-node-id
     |  |  |     |  |     |  |           |     +--rw hop-type?
     |  |  |     |  |     |  |           |     |       te-hop-type
     |  |  |     |  |     |  |           |     +--rw direction?
     |  |  |     |  |     |  |           |             te-link-direction
     |  |  |     |  |     |  |           +--:(as-number)
     |  |  |     |  |     |  |           |  +--rw as-number-hop
     |  |  |     |  |     |  |           |     +--rw as-number
     |  |  |     |  |     |  |           |     |       inet:as-number
     |  |  |     |  |     |  |           |     +--rw hop-type?
     |  |  |     |  |     |  |           |             te-hop-type
     |  |  |     |  |     |  |           +--:(label)
     |  |  |     |  |     |  |              +--rw label-hop
     |  |  |     |  |     |  |                 +--rw te-label
     |  |  |     |  |     |  |                    +--rw (technology)?
     |  |  |     |  |     |  |                    |  +--:(generic)
     |  |  |     |  |     |  |                    |     +--rw generic?
     |  |  |     |  |     |  |                    |             rt-types:generalized-label
     |  |  |     |  |     |  |                    +--rw direction?
     |  |  |     |  |     |  |                            te-label-direction
     |  |  |     |  |     |  +--rw tiebreakers
     |  |  |     |  |     |     +--rw tiebreaker* [tiebreaker-type]
     |  |  |     |  |     |        +--rw tiebreaker-type
     |  |  |     |  |     |                identityref
     |  |  |     |  |     +--:(objective-function)
     |  |  |     |  |              {path-optimization-objective-function}?
     |  |  |     |  |        +--rw objective-function
     |  |  |     |  |           +--rw objective-function-type?
     |  |  |     |  |                   identityref
     |  |  |     |  +--rw named-path-constraint?           leafref
     |  |  |     |  |       {te-types:named-path-constraints}?
     |  |  |     |  +--rw te-bandwidth
     |  |  |     |  |  +--rw (technology)?
     |  |  |     |  |     +--:(generic)
     |  |  |     |  |        +--rw generic?   te-bandwidth
     |  |  |     |  +--rw link-protection?
     |  |  |     |  |       identityref
     |  |  |     |  +--rw setup-priority?                  uint8
     |  |  |     |  +--rw hold-priority?                   uint8
     |  |  |     |  +--rw signaling-type?
     |  |  |     |  |       identityref
     |  |  |     |  +--rw path-metric-bounds
     |  |  |     |  |  +--rw path-metric-bound* [metric-type]
     |  |  |     |  |     +--rw metric-type    identityref
     |  |  |     |  |     +--rw upper-bound?   uint64
     |  |  |     |  +--rw path-affinities-values
     |  |  |     |  |  +--rw path-affinities-value* [usage]



Lopez de Vergara, et al. Expires August 26, 2021               [Page 23]

Internet-Draft               Flexi-Grid YANG               February 2021


     |  |  |     |  |     +--rw usage    identityref
     |  |  |     |  |     +--rw value?   admin-groups
     |  |  |     |  +--rw path-affinity-names
     |  |  |     |  |  +--rw path-affinity-name* [usage]
     |  |  |     |  |     +--rw usage            identityref
     |  |  |     |  |     +--rw affinity-name* [name]
     |  |  |     |  |        +--rw name    string
     |  |  |     |  +--rw path-srlgs-lists
     |  |  |     |  |  +--rw path-srlgs-list* [usage]
     |  |  |     |  |     +--rw usage     identityref
     |  |  |     |  |     +--rw values*   srlg
     |  |  |     |  +--rw path-srlgs-names
     |  |  |     |  |  +--rw path-srlgs-name* [usage]
     |  |  |     |  |     +--rw usage    identityref
     |  |  |     |  |     +--rw names*   string
     |  |  |     |  +--rw disjointness?
     |  |  |     |  |       te-path-disjointness
     |  |  |     |  +--rw explicit-route-objects-always
     |  |  |     |  |  +--rw route-object-exclude-always* [index]
     |  |  |     |  |  |  +--rw index                        uint32
     |  |  |     |  |  |  +--rw (type)?
     |  |  |     |  |  |     +--:(numbered-node-hop)
     |  |  |     |  |  |     |  +--rw numbered-node-hop
     |  |  |     |  |  |     |     +--rw node-id     te-node-id
     |  |  |     |  |  |     |     +--rw hop-type?   te-hop-type
     |  |  |     |  |  |     +--:(numbered-link-hop)
     |  |  |     |  |  |     |  +--rw numbered-link-hop
     |  |  |     |  |  |     |     +--rw link-tp-id    te-tp-id
     |  |  |     |  |  |     |     +--rw hop-type?     te-hop-type
     |  |  |     |  |  |     |     +--rw direction?
     |  |  |     |  |  |     |             te-link-direction
     |  |  |     |  |  |     +--:(unnumbered-link-hop)
     |  |  |     |  |  |     |  +--rw unnumbered-link-hop
     |  |  |     |  |  |     |     +--rw link-tp-id    te-tp-id
     |  |  |     |  |  |     |     +--rw node-id       te-node-id
     |  |  |     |  |  |     |     +--rw hop-type?     te-hop-type
     |  |  |     |  |  |     |     +--rw direction?
     |  |  |     |  |  |     |             te-link-direction
     |  |  |     |  |  |     +--:(as-number)
     |  |  |     |  |  |     |  +--rw as-number-hop
     |  |  |     |  |  |     |     +--rw as-number    inet:as-number
     |  |  |     |  |  |     |     +--rw hop-type?    te-hop-type
     |  |  |     |  |  |     +--:(label)
     |  |  |     |  |  |        +--rw label-hop
     |  |  |     |  |  |           +--rw te-label
     |  |  |     |  |  |              +--rw (technology)?
     |  |  |     |  |  |              |  +--:(generic)
     |  |  |     |  |  |              |     +--rw generic?



Lopez de Vergara, et al. Expires August 26, 2021               [Page 24]

Internet-Draft               Flexi-Grid YANG               February 2021


     |  |  |     |  |  |              |             rt-types:generalized-label
     |  |  |     |  |  |              +--rw direction?
     |  |  |     |  |  |                      te-label-direction
     |  |  |     |  |  +--rw route-object-include-exclude* [index]
     |  |  |     |  |     +--rw explicit-route-usage?
     |  |  |     |  |     |       identityref
     |  |  |     |  |     +--rw index                        uint32
     |  |  |     |  |     +--rw (type)?
     |  |  |     |  |        +--:(numbered-node-hop)
     |  |  |     |  |        |  +--rw numbered-node-hop
     |  |  |     |  |        |     +--rw node-id     te-node-id
     |  |  |     |  |        |     +--rw hop-type?   te-hop-type
     |  |  |     |  |        +--:(numbered-link-hop)
     |  |  |     |  |        |  +--rw numbered-link-hop
     |  |  |     |  |        |     +--rw link-tp-id    te-tp-id
     |  |  |     |  |        |     +--rw hop-type?     te-hop-type
     |  |  |     |  |        |     +--rw direction?
     |  |  |     |  |        |             te-link-direction
     |  |  |     |  |        +--:(unnumbered-link-hop)
     |  |  |     |  |        |  +--rw unnumbered-link-hop
     |  |  |     |  |        |     +--rw link-tp-id    te-tp-id
     |  |  |     |  |        |     +--rw node-id       te-node-id
     |  |  |     |  |        |     +--rw hop-type?     te-hop-type
     |  |  |     |  |        |     +--rw direction?
     |  |  |     |  |        |             te-link-direction
     |  |  |     |  |        +--:(as-number)
     |  |  |     |  |        |  +--rw as-number-hop
     |  |  |     |  |        |     +--rw as-number    inet:as-number
     |  |  |     |  |        |     +--rw hop-type?    te-hop-type
     |  |  |     |  |        +--:(label)
     |  |  |     |  |        |  +--rw label-hop
     |  |  |     |  |        |     +--rw te-label
     |  |  |     |  |        |        +--rw (technology)?
     |  |  |     |  |        |        |  +--:(generic)
     |  |  |     |  |        |        |     +--rw generic?
     |  |  |     |  |        |        |             rt-types:generalized-label
     |  |  |     |  |        |        +--rw direction?
     |  |  |     |  |        |                te-label-direction
     |  |  |     |  |        +--:(srlg)
     |  |  |     |  |           +--rw srlg
     |  |  |     |  |              +--rw srlg?   uint32
     |  |  |     |  +--rw shared-resources-tunnels
     |  |  |     |  |  +--rw lsp-shared-resources-tunnel*
     |  |  |     |  |          tunnel-ref
     |  |  |     |  +--rw path-in-segment!
     |  |  |     |  |  +--rw label-restrictions
     |  |  |     |  |     +--rw label-restriction* [index]
     |  |  |     |  |        +--rw restriction?    enumeration



Lopez de Vergara, et al. Expires August 26, 2021               [Page 25]

Internet-Draft               Flexi-Grid YANG               February 2021


     |  |  |     |  |        +--rw index           uint32
     |  |  |     |  |        +--rw label-start
     |  |  |     |  |        |  +--rw te-label
     |  |  |     |  |        |     +--rw (technology)?
     |  |  |     |  |        |     |  +--:(generic)
     |  |  |     |  |        |     |     +--rw generic?
     |  |  |     |  |        |     |             rt-types:generalized-label
     |  |  |     |  |        |     +--rw direction?
     |  |  |     |  |        |             te-label-direction
     |  |  |     |  |        +--rw label-end
     |  |  |     |  |        |  +--rw te-label
     |  |  |     |  |        |     +--rw (technology)?
     |  |  |     |  |        |     |  +--:(generic)
     |  |  |     |  |        |     |     +--rw generic?
     |  |  |     |  |        |     |             rt-types:generalized-label
     |  |  |     |  |        |     +--rw direction?
     |  |  |     |  |        |             te-label-direction
     |  |  |     |  |        +--rw label-step
     |  |  |     |  |        |  +--rw (technology)?
     |  |  |     |  |        |     +--:(generic)
     |  |  |     |  |        |        +--rw generic?   int32
     |  |  |     |  |        +--rw range-bitmap?   yang:hex-string
     |  |  |     |  +--rw path-out-segment!
     |  |  |     |  |  +--rw label-restrictions
     |  |  |     |  |     +--rw label-restriction* [index]
     |  |  |     |  |        +--rw restriction?    enumeration
     |  |  |     |  |        +--rw index           uint32
     |  |  |     |  |        +--rw label-start
     |  |  |     |  |        |  +--rw te-label
     |  |  |     |  |        |     +--rw (technology)?
     |  |  |     |  |        |     |  +--:(generic)
     |  |  |     |  |        |     |     +--rw generic?
     |  |  |     |  |        |     |             rt-types:generalized-label
     |  |  |     |  |        |     +--rw direction?
     |  |  |     |  |        |             te-label-direction
     |  |  |     |  |        +--rw label-end
     |  |  |     |  |        |  +--rw te-label
     |  |  |     |  |        |     +--rw (technology)?
     |  |  |     |  |        |     |  +--:(generic)
     |  |  |     |  |        |     |     +--rw generic?
     |  |  |     |  |        |     |             rt-types:generalized-label
     |  |  |     |  |        |     +--rw direction?
     |  |  |     |  |        |             te-label-direction
     |  |  |     |  |        +--rw label-step
     |  |  |     |  |        |  +--rw (technology)?
     |  |  |     |  |        |     +--:(generic)
     |  |  |     |  |        |        +--rw generic?   int32
     |  |  |     |  |        +--rw range-bitmap?   yang:hex-string



Lopez de Vergara, et al. Expires August 26, 2021               [Page 26]

Internet-Draft               Flexi-Grid YANG               February 2021


     |  |  |     |  +--ro computed-paths-properties
     |  |  |     |  |  +--ro computed-path-properties* [k-index]
     |  |  |     |  |     +--ro k-index            uint8
     |  |  |     |  |     +--ro path-properties
     |  |  |     |  |        +--ro path-metric* [metric-type]
     |  |  |     |  |        |  +--ro metric-type
     |  |  |     |  |        |  |       identityref
     |  |  |     |  |        |  +--ro accumulative-value?   uint64
     |  |  |     |  |        +--ro path-affinities-values
     |  |  |     |  |        |  +--ro path-affinities-value* [usage]
     |  |  |     |  |        |     +--ro usage    identityref
     |  |  |     |  |        |     +--ro value?   admin-groups
     |  |  |     |  |        +--ro path-affinity-names
     |  |  |     |  |        |  +--ro path-affinity-name* [usage]
     |  |  |     |  |        |     +--ro usage            identityref
     |  |  |     |  |        |     +--ro affinity-name* [name]
     |  |  |     |  |        |        +--ro name    string
     |  |  |     |  |        +--ro path-srlgs-lists
     |  |  |     |  |        |  +--ro path-srlgs-list* [usage]
     |  |  |     |  |        |     +--ro usage     identityref
     |  |  |     |  |        |     +--ro values*   srlg
     |  |  |     |  |        +--ro path-srlgs-names
     |  |  |     |  |        |  +--ro path-srlgs-name* [usage]
     |  |  |     |  |        |     +--ro usage    identityref
     |  |  |     |  |        |     +--ro names*   string
     |  |  |     |  |        +--ro path-route-objects
     |  |  |     |  |        |  +--ro path-computed-route-object*
     |  |  |     |  |        |          [index]
     |  |  |     |  |        |     +--ro index
     |  |  |     |  |        |     |       uint32
     |  |  |     |  |        |     +--ro (type)?
     |  |  |     |  |        |        +--:(numbered-node-hop)
     |  |  |     |  |        |        |  +--ro numbered-node-hop
     |  |  |     |  |        |        |     +--ro node-id
     |  |  |     |  |        |        |     |       te-node-id
     |  |  |     |  |        |        |     +--ro hop-type?
     |  |  |     |  |        |        |             te-hop-type
     |  |  |     |  |        |        +--:(numbered-link-hop)
     |  |  |     |  |        |        |  +--ro numbered-link-hop
     |  |  |     |  |        |        |     +--ro link-tp-id
     |  |  |     |  |        |        |     |       te-tp-id
     |  |  |     |  |        |        |     +--ro hop-type?
     |  |  |     |  |        |        |     |       te-hop-type
     |  |  |     |  |        |        |     +--ro direction?
     |  |  |     |  |        |        |             te-link-direction
     |  |  |     |  |        |        +--:(unnumbered-link-hop)
     |  |  |     |  |        |        |  +--ro unnumbered-link-hop
     |  |  |     |  |        |        |     +--ro link-tp-id



Lopez de Vergara, et al. Expires August 26, 2021               [Page 27]

Internet-Draft               Flexi-Grid YANG               February 2021


     |  |  |     |  |        |        |     |       te-tp-id
     |  |  |     |  |        |        |     +--ro node-id
     |  |  |     |  |        |        |     |       te-node-id
     |  |  |     |  |        |        |     +--ro hop-type?
     |  |  |     |  |        |        |     |       te-hop-type
     |  |  |     |  |        |        |     +--ro direction?
     |  |  |     |  |        |        |             te-link-direction
     |  |  |     |  |        |        +--:(as-number)
     |  |  |     |  |        |        |  +--ro as-number-hop
     |  |  |     |  |        |        |     +--ro as-number
     |  |  |     |  |        |        |     |       inet:as-number
     |  |  |     |  |        |        |     +--ro hop-type?
     |  |  |     |  |        |        |             te-hop-type
     |  |  |     |  |        |        +--:(label)
     |  |  |     |  |        |           +--ro label-hop
     |  |  |     |  |        |              +--ro te-label
     |  |  |     |  |        |                 +--ro (technology)?
     |  |  |     |  |        |                 |  +--:(generic)
     |  |  |     |  |        |                 |     +--ro generic?
     |  |  |     |  |        |                 |             rt-types:generalized-label
     |  |  |     |  |        |                 +--ro direction?
     |  |  |     |  |        |                         te-label-direction
     |  |  |     |  |        +--ro shared-resources-tunnels
     |  |  |     |  |           +--ro lsp-shared-resources-tunnel*
     |  |  |     |  |                   tunnel-ref
     |  |  |     |  +--ro lsps
     |  |  |     |  |  +--ro lsp*
     |  |  |     |  |          [source destination tunnel-id lsp-id extended-tunnel-id]
     |  |  |     |  |     +--ro source
     |  |  |     |  |     |       te-types:te-node-id
     |  |  |     |  |     +--ro destination
     |  |  |     |  |     |       te-types:te-node-id
     |  |  |     |  |     +--ro tunnel-id
     |  |  |     |  |     |       uint16
     |  |  |     |  |     +--ro lsp-id
     |  |  |     |  |     |       uint16
     |  |  |     |  |     +--ro extended-tunnel-id
     |  |  |     |  |     |       yang:dotted-quad
     |  |  |     |  |     +--ro operational-state?
     |  |  |     |  |     |       identityref
     |  |  |     |  |     +--ro path-setup-protocol?
     |  |  |     |  |     |       identityref
     |  |  |     |  |     +--ro origin-type?
     |  |  |     |  |     |       enumeration
     |  |  |     |  |     +--ro lsp-resource-status?
     |  |  |     |  |     |       enumeration
     |  |  |     |  |     +--ro lockout-of-normal?
     |  |  |     |  |     |       boolean



Lopez de Vergara, et al. Expires August 26, 2021               [Page 28]

Internet-Draft               Flexi-Grid YANG               February 2021


     |  |  |     |  |     +--ro freeze?
     |  |  |     |  |     |       boolean
     |  |  |     |  |     +--ro lsp-protection-role?
     |  |  |     |  |     |       enumeration
     |  |  |     |  |     +--ro lsp-protection-state?
     |  |  |     |  |     |       identityref
     |  |  |     |  |     +--ro protection-group-ingress-node-id?
     |  |  |     |  |     |       te-types:te-node-id
     |  |  |     |  |     +--ro protection-group-egress-node-id?
     |  |  |     |  |     |       te-types:te-node-id
     |  |  |     |  |     +--ro lsp-shared-resources-tunnel?
     |  |  |     |  |     |       tunnel-ref
     |  |  |     |  |     +--ro lsp-record-route-information
     |  |  |     |  |     |  +--ro lsp-record-route-information*
     |  |  |     |  |     |          [index]
     |  |  |     |  |     |     +--ro index
     |  |  |     |  |     |     |       uint32
     |  |  |     |  |     |     +--ro (type)?
     |  |  |     |  |     |        +--:(numbered-node-hop)
     |  |  |     |  |     |        |  +--ro numbered-node-hop
     |  |  |     |  |     |        |     +--ro node-id    te-node-id
     |  |  |     |  |     |        |     +--ro flags*
     |  |  |     |  |     |        |             path-attribute-flags
     |  |  |     |  |     |        +--:(numbered-link-hop)
     |  |  |     |  |     |        |  +--ro numbered-link-hop
     |  |  |     |  |     |        |     +--ro link-tp-id    te-tp-id
     |  |  |     |  |     |        |     +--ro flags*
     |  |  |     |  |     |        |             path-attribute-flags
     |  |  |     |  |     |        +--:(unnumbered-link-hop)
     |  |  |     |  |     |        |  +--ro unnumbered-link-hop
     |  |  |     |  |     |        |     +--ro link-tp-id    te-tp-id
     |  |  |     |  |     |        |     +--ro node-id?
     |  |  |     |  |     |        |     |       te-node-id
     |  |  |     |  |     |        |     +--ro flags*
     |  |  |     |  |     |        |             path-attribute-flags
     |  |  |     |  |     |        +--:(label)
     |  |  |     |  |     |           +--ro label-hop
     |  |  |     |  |     |              +--ro te-label
     |  |  |     |  |     |              |  +--ro (technology)?
     |  |  |     |  |     |              |  |  +--:(generic)
     |  |  |     |  |     |              |  |     +--ro generic?
     |  |  |     |  |     |              |  |             rt-types:generalized-label
     |  |  |     |  |     |              |  +--ro direction?
     |  |  |     |  |     |              |          te-label-direction
     |  |  |     |  |     |              +--ro flags*
     |  |  |     |  |     |                      path-attribute-flags
     |  |  |     |  |     +--ro path-properties
     |  |  |     |  |        +--ro path-metric* [metric-type]



Lopez de Vergara, et al. Expires August 26, 2021               [Page 29]

Internet-Draft               Flexi-Grid YANG               February 2021


     |  |  |     |  |        |  +--ro metric-type
     |  |  |     |  |        |  |       identityref
     |  |  |     |  |        |  +--ro accumulative-value?   uint64
     |  |  |     |  |        +--ro path-affinities-values
     |  |  |     |  |        |  +--ro path-affinities-value* [usage]
     |  |  |     |  |        |     +--ro usage    identityref
     |  |  |     |  |        |     +--ro value?   admin-groups
     |  |  |     |  |        +--ro path-affinity-names
     |  |  |     |  |        |  +--ro path-affinity-name* [usage]
     |  |  |     |  |        |     +--ro usage            identityref
     |  |  |     |  |        |     +--ro affinity-name* [name]
     |  |  |     |  |        |        +--ro name    string
     |  |  |     |  |        +--ro path-srlgs-lists
     |  |  |     |  |        |  +--ro path-srlgs-list* [usage]
     |  |  |     |  |        |     +--ro usage     identityref
     |  |  |     |  |        |     +--ro values*   srlg
     |  |  |     |  |        +--ro path-srlgs-names
     |  |  |     |  |        |  +--ro path-srlgs-name* [usage]
     |  |  |     |  |        |     +--ro usage    identityref
     |  |  |     |  |        |     +--ro names*   string
     |  |  |     |  |        +--ro path-route-objects
     |  |  |     |  |        |  +--ro path-computed-route-object*
     |  |  |     |  |        |          [index]
     |  |  |     |  |        |     +--ro index
     |  |  |     |  |        |     |       uint32
     |  |  |     |  |        |     +--ro (type)?
     |  |  |     |  |        |        +--:(numbered-node-hop)
     |  |  |     |  |        |        |  +--ro numbered-node-hop
     |  |  |     |  |        |        |     +--ro node-id
     |  |  |     |  |        |        |     |       te-node-id
     |  |  |     |  |        |        |     +--ro hop-type?
     |  |  |     |  |        |        |             te-hop-type
     |  |  |     |  |        |        +--:(numbered-link-hop)
     |  |  |     |  |        |        |  +--ro numbered-link-hop
     |  |  |     |  |        |        |     +--ro link-tp-id
     |  |  |     |  |        |        |     |       te-tp-id
     |  |  |     |  |        |        |     +--ro hop-type?
     |  |  |     |  |        |        |     |       te-hop-type
     |  |  |     |  |        |        |     +--ro direction?
     |  |  |     |  |        |        |             te-link-direction
     |  |  |     |  |        |        +--:(unnumbered-link-hop)
     |  |  |     |  |        |        |  +--ro unnumbered-link-hop
     |  |  |     |  |        |        |     +--ro link-tp-id
     |  |  |     |  |        |        |     |       te-tp-id
     |  |  |     |  |        |        |     +--ro node-id
     |  |  |     |  |        |        |     |       te-node-id
     |  |  |     |  |        |        |     +--ro hop-type?
     |  |  |     |  |        |        |     |       te-hop-type



Lopez de Vergara, et al. Expires August 26, 2021               [Page 30]

Internet-Draft               Flexi-Grid YANG               February 2021


     |  |  |     |  |        |        |     +--ro direction?
     |  |  |     |  |        |        |             te-link-direction
     |  |  |     |  |        |        +--:(as-number)
     |  |  |     |  |        |        |  +--ro as-number-hop
     |  |  |     |  |        |        |     +--ro as-number
     |  |  |     |  |        |        |     |       inet:as-number
     |  |  |     |  |        |        |     +--ro hop-type?
     |  |  |     |  |        |        |             te-hop-type
     |  |  |     |  |        |        +--:(label)
     |  |  |     |  |        |           +--ro label-hop
     |  |  |     |  |        |              +--ro te-label
     |  |  |     |  |        |                 +--ro (technology)?
     |  |  |     |  |        |                 |  +--:(generic)
     |  |  |     |  |        |                 |     +--ro generic?
     |  |  |     |  |        |                 |             rt-types:generalized-label
     |  |  |     |  |        |                 +--ro direction?
     |  |  |     |  |        |                         te-label-direction
     |  |  |     |  |        +--ro shared-resources-tunnels
     |  |  |     |  |           +--ro lsp-shared-resources-tunnel*
     |  |  |     |  |                   tunnel-ref
     |  |  |     |  +--rw p2p-secondary-reverse-path
     |  |  |     |     +--rw secondary-path?        leafref
     |  |  |     |     +--rw path-setup-protocol?   identityref
     |  |  |     +--rw candidate-p2p-secondary-paths
     |  |  |        +--rw candidate-p2p-secondary-path*
     |  |  |                [secondary-path]
     |  |  |           +--rw secondary-path         leafref
     |  |  |           +--rw path-setup-protocol?   identityref
     |  |  |           +--ro active?                boolean
     |  |  +--rw p2p-secondary-paths
     |  |  |  +--rw p2p-secondary-path* [name]
     |  |  |     +--rw name                             string
     |  |  |     +--rw path-setup-protocol?             identityref
     |  |  |     +--rw path-computation-method?         identityref
     |  |  |     +--rw path-computation-server?
     |  |  |     |       inet:ip-address
     |  |  |     +--rw compute-only?                    empty
     |  |  |     +--rw use-path-computation?            boolean
     |  |  |     +--rw lockdown?                        empty
     |  |  |     +--ro path-scope?                      identityref
     |  |  |     +--rw optimizations
     |  |  |     |  +--rw (algorithm)?
     |  |  |     |     +--:(metric) {path-optimization-metric}?
     |  |  |     |     |  +--rw optimization-metric* [metric-type]
     |  |  |     |     |  |  +--rw metric-type
     |  |  |     |     |  |  |       identityref
     |  |  |     |     |  |  +--rw weight?
     |  |  |     |     |  |  |       uint8



Lopez de Vergara, et al. Expires August 26, 2021               [Page 31]

Internet-Draft               Flexi-Grid YANG               February 2021


     |  |  |     |     |  |  +--rw explicit-route-exclude-objects
     |  |  |     |     |  |  |  +--rw route-object-exclude-object*
     |  |  |     |     |  |  |          [index]
     |  |  |     |     |  |  |     +--rw index
     |  |  |     |     |  |  |     |       uint32
     |  |  |     |     |  |  |     +--rw (type)?
     |  |  |     |     |  |  |        +--:(numbered-node-hop)
     |  |  |     |     |  |  |        |  +--rw numbered-node-hop
     |  |  |     |     |  |  |        |     +--rw node-id
     |  |  |     |     |  |  |        |     |       te-node-id
     |  |  |     |     |  |  |        |     +--rw hop-type?
     |  |  |     |     |  |  |        |             te-hop-type
     |  |  |     |     |  |  |        +--:(numbered-link-hop)
     |  |  |     |     |  |  |        |  +--rw numbered-link-hop
     |  |  |     |     |  |  |        |     +--rw link-tp-id
     |  |  |     |     |  |  |        |     |       te-tp-id
     |  |  |     |     |  |  |        |     +--rw hop-type?
     |  |  |     |     |  |  |        |     |       te-hop-type
     |  |  |     |     |  |  |        |     +--rw direction?
     |  |  |     |     |  |  |        |             te-link-direction
     |  |  |     |     |  |  |        +--:(unnumbered-link-hop)
     |  |  |     |     |  |  |        |  +--rw unnumbered-link-hop
     |  |  |     |     |  |  |        |     +--rw link-tp-id
     |  |  |     |     |  |  |        |     |       te-tp-id
     |  |  |     |     |  |  |        |     +--rw node-id
     |  |  |     |     |  |  |        |     |       te-node-id
     |  |  |     |     |  |  |        |     +--rw hop-type?
     |  |  |     |     |  |  |        |     |       te-hop-type
     |  |  |     |     |  |  |        |     +--rw direction?
     |  |  |     |     |  |  |        |             te-link-direction
     |  |  |     |     |  |  |        +--:(as-number)
     |  |  |     |     |  |  |        |  +--rw as-number-hop
     |  |  |     |     |  |  |        |     +--rw as-number
     |  |  |     |     |  |  |        |     |       inet:as-number
     |  |  |     |     |  |  |        |     +--rw hop-type?
     |  |  |     |     |  |  |        |             te-hop-type
     |  |  |     |     |  |  |        +--:(label)
     |  |  |     |     |  |  |        |  +--rw label-hop
     |  |  |     |     |  |  |        |     +--rw te-label
     |  |  |     |     |  |  |        |        +--rw (technology)?
     |  |  |     |     |  |  |        |        |  +--:(generic)
     |  |  |     |     |  |  |        |        |     +--rw generic?
     |  |  |     |     |  |  |        |        |             rt-types:generalized-label
     |  |  |     |     |  |  |        |        +--rw direction?
     |  |  |     |     |  |  |        |                te-label-direction
     |  |  |     |     |  |  |        +--:(srlg)
     |  |  |     |     |  |  |           +--rw srlg
     |  |  |     |     |  |  |              +--rw srlg?   uint32



Lopez de Vergara, et al. Expires August 26, 2021               [Page 32]

Internet-Draft               Flexi-Grid YANG               February 2021


     |  |  |     |     |  |  +--rw explicit-route-include-objects
     |  |  |     |     |  |     +--rw route-object-include-object*
     |  |  |     |     |  |             [index]
     |  |  |     |     |  |        +--rw index
     |  |  |     |     |  |        |       uint32
     |  |  |     |     |  |        +--rw (type)?
     |  |  |     |     |  |           +--:(numbered-node-hop)
     |  |  |     |     |  |           |  +--rw numbered-node-hop
     |  |  |     |     |  |           |     +--rw node-id
     |  |  |     |     |  |           |     |       te-node-id
     |  |  |     |     |  |           |     +--rw hop-type?
     |  |  |     |     |  |           |             te-hop-type
     |  |  |     |     |  |           +--:(numbered-link-hop)
     |  |  |     |     |  |           |  +--rw numbered-link-hop
     |  |  |     |     |  |           |     +--rw link-tp-id
     |  |  |     |     |  |           |     |       te-tp-id
     |  |  |     |     |  |           |     +--rw hop-type?
     |  |  |     |     |  |           |     |       te-hop-type
     |  |  |     |     |  |           |     +--rw direction?
     |  |  |     |     |  |           |             te-link-direction
     |  |  |     |     |  |           +--:(unnumbered-link-hop)
     |  |  |     |     |  |           |  +--rw unnumbered-link-hop
     |  |  |     |     |  |           |     +--rw link-tp-id
     |  |  |     |     |  |           |     |       te-tp-id
     |  |  |     |     |  |           |     +--rw node-id
     |  |  |     |     |  |           |     |       te-node-id
     |  |  |     |     |  |           |     +--rw hop-type?
     |  |  |     |     |  |           |     |       te-hop-type
     |  |  |     |     |  |           |     +--rw direction?
     |  |  |     |     |  |           |             te-link-direction
     |  |  |     |     |  |           +--:(as-number)
     |  |  |     |     |  |           |  +--rw as-number-hop
     |  |  |     |     |  |           |     +--rw as-number
     |  |  |     |     |  |           |     |       inet:as-number
     |  |  |     |     |  |           |     +--rw hop-type?
     |  |  |     |     |  |           |             te-hop-type
     |  |  |     |     |  |           +--:(label)
     |  |  |     |     |  |              +--rw label-hop
     |  |  |     |     |  |                 +--rw te-label
     |  |  |     |     |  |                    +--rw (technology)?
     |  |  |     |     |  |                    |  +--:(generic)
     |  |  |     |     |  |                    |     +--rw generic?
     |  |  |     |     |  |                    |             rt-types:generalized-label
     |  |  |     |     |  |                    +--rw direction?
     |  |  |     |     |  |                            te-label-direction
     |  |  |     |     |  +--rw tiebreakers
     |  |  |     |     |     +--rw tiebreaker* [tiebreaker-type]
     |  |  |     |     |        +--rw tiebreaker-type    identityref



Lopez de Vergara, et al. Expires August 26, 2021               [Page 33]

Internet-Draft               Flexi-Grid YANG               February 2021


     |  |  |     |     +--:(objective-function)
     |  |  |     |              {path-optimization-objective-function}?
     |  |  |     |        +--rw objective-function
     |  |  |     |           +--rw objective-function-type?
     |  |  |     |                   identityref
     |  |  |     +--rw preference?                      uint8
     |  |  |     +--rw k-requested-paths?               uint8
     |  |  |     +--rw named-path-constraint?           leafref
     |  |  |     |       {te-types:named-path-constraints}?
     |  |  |     +--rw te-bandwidth
     |  |  |     |  +--rw (technology)?
     |  |  |     |     +--:(generic)
     |  |  |     |        +--rw generic?   te-bandwidth
     |  |  |     +--rw link-protection?                 identityref
     |  |  |     +--rw setup-priority?                  uint8
     |  |  |     +--rw hold-priority?                   uint8
     |  |  |     +--rw signaling-type?                  identityref
     |  |  |     +--rw path-metric-bounds
     |  |  |     |  +--rw path-metric-bound* [metric-type]
     |  |  |     |     +--rw metric-type    identityref
     |  |  |     |     +--rw upper-bound?   uint64
     |  |  |     +--rw path-affinities-values
     |  |  |     |  +--rw path-affinities-value* [usage]
     |  |  |     |     +--rw usage    identityref
     |  |  |     |     +--rw value?   admin-groups
     |  |  |     +--rw path-affinity-names
     |  |  |     |  +--rw path-affinity-name* [usage]
     |  |  |     |     +--rw usage            identityref
     |  |  |     |     +--rw affinity-name* [name]
     |  |  |     |        +--rw name    string
     |  |  |     +--rw path-srlgs-lists
     |  |  |     |  +--rw path-srlgs-list* [usage]
     |  |  |     |     +--rw usage     identityref
     |  |  |     |     +--rw values*   srlg
     |  |  |     +--rw path-srlgs-names
     |  |  |     |  +--rw path-srlgs-name* [usage]
     |  |  |     |     +--rw usage    identityref
     |  |  |     |     +--rw names*   string
     |  |  |     +--rw disjointness?
     |  |  |     |       te-path-disjointness
     |  |  |     +--rw explicit-route-objects-always
     |  |  |     |  +--rw route-object-exclude-always* [index]
     |  |  |     |  |  +--rw index                        uint32
     |  |  |     |  |  +--rw (type)?
     |  |  |     |  |     +--:(numbered-node-hop)
     |  |  |     |  |     |  +--rw numbered-node-hop
     |  |  |     |  |     |     +--rw node-id     te-node-id
     |  |  |     |  |     |     +--rw hop-type?   te-hop-type



Lopez de Vergara, et al. Expires August 26, 2021               [Page 34]

Internet-Draft               Flexi-Grid YANG               February 2021


     |  |  |     |  |     +--:(numbered-link-hop)
     |  |  |     |  |     |  +--rw numbered-link-hop
     |  |  |     |  |     |     +--rw link-tp-id    te-tp-id
     |  |  |     |  |     |     +--rw hop-type?     te-hop-type
     |  |  |     |  |     |     +--rw direction?    te-link-direction
     |  |  |     |  |     +--:(unnumbered-link-hop)
     |  |  |     |  |     |  +--rw unnumbered-link-hop
     |  |  |     |  |     |     +--rw link-tp-id    te-tp-id
     |  |  |     |  |     |     +--rw node-id       te-node-id
     |  |  |     |  |     |     +--rw hop-type?     te-hop-type
     |  |  |     |  |     |     +--rw direction?    te-link-direction
     |  |  |     |  |     +--:(as-number)
     |  |  |     |  |     |  +--rw as-number-hop
     |  |  |     |  |     |     +--rw as-number    inet:as-number
     |  |  |     |  |     |     +--rw hop-type?    te-hop-type
     |  |  |     |  |     +--:(label)
     |  |  |     |  |        +--rw label-hop
     |  |  |     |  |           +--rw te-label
     |  |  |     |  |              +--rw (technology)?
     |  |  |     |  |              |  +--:(generic)
     |  |  |     |  |              |     +--rw generic?
     |  |  |     |  |              |             rt-types:generalized-label
     |  |  |     |  |              +--rw direction?
     |  |  |     |  |                      te-label-direction
     |  |  |     |  +--rw route-object-include-exclude* [index]
     |  |  |     |     +--rw explicit-route-usage?        identityref
     |  |  |     |     +--rw index                        uint32
     |  |  |     |     +--rw (type)?
     |  |  |     |        +--:(numbered-node-hop)
     |  |  |     |        |  +--rw numbered-node-hop
     |  |  |     |        |     +--rw node-id     te-node-id
     |  |  |     |        |     +--rw hop-type?   te-hop-type
     |  |  |     |        +--:(numbered-link-hop)
     |  |  |     |        |  +--rw numbered-link-hop
     |  |  |     |        |     +--rw link-tp-id    te-tp-id
     |  |  |     |        |     +--rw hop-type?     te-hop-type
     |  |  |     |        |     +--rw direction?    te-link-direction
     |  |  |     |        +--:(unnumbered-link-hop)
     |  |  |     |        |  +--rw unnumbered-link-hop
     |  |  |     |        |     +--rw link-tp-id    te-tp-id
     |  |  |     |        |     +--rw node-id       te-node-id
     |  |  |     |        |     +--rw hop-type?     te-hop-type
     |  |  |     |        |     +--rw direction?    te-link-direction
     |  |  |     |        +--:(as-number)
     |  |  |     |        |  +--rw as-number-hop
     |  |  |     |        |     +--rw as-number    inet:as-number
     |  |  |     |        |     +--rw hop-type?    te-hop-type
     |  |  |     |        +--:(label)



Lopez de Vergara, et al. Expires August 26, 2021               [Page 35]

Internet-Draft               Flexi-Grid YANG               February 2021


     |  |  |     |        |  +--rw label-hop
     |  |  |     |        |     +--rw te-label
     |  |  |     |        |        +--rw (technology)?
     |  |  |     |        |        |  +--:(generic)
     |  |  |     |        |        |     +--rw generic?
     |  |  |     |        |        |             rt-types:generalized-label
     |  |  |     |        |        +--rw direction?
     |  |  |     |        |                te-label-direction
     |  |  |     |        +--:(srlg)
     |  |  |     |           +--rw srlg
     |  |  |     |              +--rw srlg?   uint32
     |  |  |     +--rw shared-resources-tunnels
     |  |  |     |  +--rw lsp-shared-resources-tunnel*   tunnel-ref
     |  |  |     +--rw path-in-segment!
     |  |  |     |  +--rw label-restrictions
     |  |  |     |     +--rw label-restriction* [index]
     |  |  |     |        +--rw restriction?    enumeration
     |  |  |     |        +--rw index           uint32
     |  |  |     |        +--rw label-start
     |  |  |     |        |  +--rw te-label
     |  |  |     |        |     +--rw (technology)?
     |  |  |     |        |     |  +--:(generic)
     |  |  |     |        |     |     +--rw generic?
     |  |  |     |        |     |             rt-types:generalized-label
     |  |  |     |        |     +--rw direction?
     |  |  |     |        |             te-label-direction
     |  |  |     |        +--rw label-end
     |  |  |     |        |  +--rw te-label
     |  |  |     |        |     +--rw (technology)?
     |  |  |     |        |     |  +--:(generic)
     |  |  |     |        |     |     +--rw generic?
     |  |  |     |        |     |             rt-types:generalized-label
     |  |  |     |        |     +--rw direction?
     |  |  |     |        |             te-label-direction
     |  |  |     |        +--rw label-step
     |  |  |     |        |  +--rw (technology)?
     |  |  |     |        |     +--:(generic)
     |  |  |     |        |        +--rw generic?   int32
     |  |  |     |        +--rw range-bitmap?   yang:hex-string
     |  |  |     +--rw path-out-segment!
     |  |  |     |  +--rw label-restrictions
     |  |  |     |     +--rw label-restriction* [index]
     |  |  |     |        +--rw restriction?    enumeration
     |  |  |     |        +--rw index           uint32
     |  |  |     |        +--rw label-start
     |  |  |     |        |  +--rw te-label
     |  |  |     |        |     +--rw (technology)?
     |  |  |     |        |     |  +--:(generic)



Lopez de Vergara, et al. Expires August 26, 2021               [Page 36]

Internet-Draft               Flexi-Grid YANG               February 2021


     |  |  |     |        |     |     +--rw generic?
     |  |  |     |        |     |             rt-types:generalized-label
     |  |  |     |        |     +--rw direction?
     |  |  |     |        |             te-label-direction
     |  |  |     |        +--rw label-end
     |  |  |     |        |  +--rw te-label
     |  |  |     |        |     +--rw (technology)?
     |  |  |     |        |     |  +--:(generic)
     |  |  |     |        |     |     +--rw generic?
     |  |  |     |        |     |             rt-types:generalized-label
     |  |  |     |        |     +--rw direction?
     |  |  |     |        |             te-label-direction
     |  |  |     |        +--rw label-step
     |  |  |     |        |  +--rw (technology)?
     |  |  |     |        |     +--:(generic)
     |  |  |     |        |        +--rw generic?   int32
     |  |  |     |        +--rw range-bitmap?   yang:hex-string
     |  |  |     +--rw protection
     |  |  |     |  +--rw enable?                         boolean
     |  |  |     |  +--rw protection-type?                identityref
     |  |  |     |  +--rw protection-reversion-disable?   boolean
     |  |  |     |  +--rw hold-off-time?                  uint32
     |  |  |     |  +--rw wait-to-revert?                 uint16
     |  |  |     |  +--rw aps-signal-id?                  uint8
     |  |  |     +--rw restoration
     |  |  |     |  +--rw enable?                          boolean
     |  |  |     |  +--rw restoration-type?
     |  |  |     |  |       identityref
     |  |  |     |  +--rw restoration-scheme?
     |  |  |     |  |       identityref
     |  |  |     |  +--rw restoration-reversion-disable?   boolean
     |  |  |     |  +--rw hold-off-time?                   uint32
     |  |  |     |  +--rw wait-to-restore?                 uint16
     |  |  |     |  +--rw wait-to-revert?                  uint16
     |  |  |     +--ro computed-paths-properties
     |  |  |     |  +--ro computed-path-properties* [k-index]
     |  |  |     |     +--ro k-index            uint8
     |  |  |     |     +--ro path-properties
     |  |  |     |        +--ro path-metric* [metric-type]
     |  |  |     |        |  +--ro metric-type           identityref
     |  |  |     |        |  +--ro accumulative-value?   uint64
     |  |  |     |        +--ro path-affinities-values
     |  |  |     |        |  +--ro path-affinities-value* [usage]
     |  |  |     |        |     +--ro usage    identityref
     |  |  |     |        |     +--ro value?   admin-groups
     |  |  |     |        +--ro path-affinity-names
     |  |  |     |        |  +--ro path-affinity-name* [usage]
     |  |  |     |        |     +--ro usage            identityref



Lopez de Vergara, et al. Expires August 26, 2021               [Page 37]

Internet-Draft               Flexi-Grid YANG               February 2021


     |  |  |     |        |     +--ro affinity-name* [name]
     |  |  |     |        |        +--ro name    string
     |  |  |     |        +--ro path-srlgs-lists
     |  |  |     |        |  +--ro path-srlgs-list* [usage]
     |  |  |     |        |     +--ro usage     identityref
     |  |  |     |        |     +--ro values*   srlg
     |  |  |     |        +--ro path-srlgs-names
     |  |  |     |        |  +--ro path-srlgs-name* [usage]
     |  |  |     |        |     +--ro usage    identityref
     |  |  |     |        |     +--ro names*   string
     |  |  |     |        +--ro path-route-objects
     |  |  |     |        |  +--ro path-computed-route-object*
     |  |  |     |        |          [index]
     |  |  |     |        |     +--ro index
     |  |  |     |        |     |       uint32
     |  |  |     |        |     +--ro (type)?
     |  |  |     |        |        +--:(numbered-node-hop)
     |  |  |     |        |        |  +--ro numbered-node-hop
     |  |  |     |        |        |     +--ro node-id     te-node-id
     |  |  |     |        |        |     +--ro hop-type?
     |  |  |     |        |        |             te-hop-type
     |  |  |     |        |        +--:(numbered-link-hop)
     |  |  |     |        |        |  +--ro numbered-link-hop
     |  |  |     |        |        |     +--ro link-tp-id    te-tp-id
     |  |  |     |        |        |     +--ro hop-type?
     |  |  |     |        |        |     |       te-hop-type
     |  |  |     |        |        |     +--ro direction?
     |  |  |     |        |        |             te-link-direction
     |  |  |     |        |        +--:(unnumbered-link-hop)
     |  |  |     |        |        |  +--ro unnumbered-link-hop
     |  |  |     |        |        |     +--ro link-tp-id    te-tp-id
     |  |  |     |        |        |     +--ro node-id
     |  |  |     |        |        |     |       te-node-id
     |  |  |     |        |        |     +--ro hop-type?
     |  |  |     |        |        |     |       te-hop-type
     |  |  |     |        |        |     +--ro direction?
     |  |  |     |        |        |             te-link-direction
     |  |  |     |        |        +--:(as-number)
     |  |  |     |        |        |  +--ro as-number-hop
     |  |  |     |        |        |     +--ro as-number
     |  |  |     |        |        |     |       inet:as-number
     |  |  |     |        |        |     +--ro hop-type?
     |  |  |     |        |        |             te-hop-type
     |  |  |     |        |        +--:(label)
     |  |  |     |        |           +--ro label-hop
     |  |  |     |        |              +--ro te-label
     |  |  |     |        |                 +--ro (technology)?
     |  |  |     |        |                 |  +--:(generic)



Lopez de Vergara, et al. Expires August 26, 2021               [Page 38]

Internet-Draft               Flexi-Grid YANG               February 2021


     |  |  |     |        |                 |     +--ro generic?
     |  |  |     |        |                 |             rt-types:generalized-label
     |  |  |     |        |                 +--ro direction?
     |  |  |     |        |                         te-label-direction
     |  |  |     |        +--ro shared-resources-tunnels
     |  |  |     |           +--ro lsp-shared-resources-tunnel*
     |  |  |     |                   tunnel-ref
     |  |  |     +--ro lsps
     |  |  |        +--ro lsp*
     |  |  |                [source destination tunnel-id lsp-id extended-tunnel-id]
     |  |  |           +--ro source
     |  |  |           |       te-types:te-node-id
     |  |  |           +--ro destination
     |  |  |           |       te-types:te-node-id
     |  |  |           +--ro tunnel-id
     |  |  |           |       uint16
     |  |  |           +--ro lsp-id
     |  |  |           |       uint16
     |  |  |           +--ro extended-tunnel-id
     |  |  |           |       yang:dotted-quad
     |  |  |           +--ro operational-state?
     |  |  |           |       identityref
     |  |  |           +--ro path-setup-protocol?
     |  |  |           |       identityref
     |  |  |           +--ro origin-type?
     |  |  |           |       enumeration
     |  |  |           +--ro lsp-resource-status?
     |  |  |           |       enumeration
     |  |  |           +--ro lockout-of-normal?
     |  |  |           |       boolean
     |  |  |           +--ro freeze?
     |  |  |           |       boolean
     |  |  |           +--ro lsp-protection-role?
     |  |  |           |       enumeration
     |  |  |           +--ro lsp-protection-state?
     |  |  |           |       identityref
     |  |  |           +--ro protection-group-ingress-node-id?
     |  |  |           |       te-types:te-node-id
     |  |  |           +--ro protection-group-egress-node-id?
     |  |  |           |       te-types:te-node-id
     |  |  |           +--ro lsp-shared-resources-tunnel?
     |  |  |           |       tunnel-ref
     |  |  |           +--ro lsp-record-route-information
     |  |  |           |  +--ro lsp-record-route-information* [index]
     |  |  |           |     +--ro index
     |  |  |           |     |       uint32
     |  |  |           |     +--ro (type)?
     |  |  |           |        +--:(numbered-node-hop)



Lopez de Vergara, et al. Expires August 26, 2021               [Page 39]

Internet-Draft               Flexi-Grid YANG               February 2021


     |  |  |           |        |  +--ro numbered-node-hop
     |  |  |           |        |     +--ro node-id    te-node-id
     |  |  |           |        |     +--ro flags*
     |  |  |           |        |             path-attribute-flags
     |  |  |           |        +--:(numbered-link-hop)
     |  |  |           |        |  +--ro numbered-link-hop
     |  |  |           |        |     +--ro link-tp-id    te-tp-id
     |  |  |           |        |     +--ro flags*
     |  |  |           |        |             path-attribute-flags
     |  |  |           |        +--:(unnumbered-link-hop)
     |  |  |           |        |  +--ro unnumbered-link-hop
     |  |  |           |        |     +--ro link-tp-id    te-tp-id
     |  |  |           |        |     +--ro node-id?      te-node-id
     |  |  |           |        |     +--ro flags*
     |  |  |           |        |             path-attribute-flags
     |  |  |           |        +--:(label)
     |  |  |           |           +--ro label-hop
     |  |  |           |              +--ro te-label
     |  |  |           |              |  +--ro (technology)?
     |  |  |           |              |  |  +--:(generic)
     |  |  |           |              |  |     +--ro generic?
     |  |  |           |              |  |             rt-types:generalized-label
     |  |  |           |              |  +--ro direction?
     |  |  |           |              |          te-label-direction
     |  |  |           |              +--ro flags*
     |  |  |           |                      path-attribute-flags
     |  |  |           +--ro path-properties
     |  |  |              +--ro path-metric* [metric-type]
     |  |  |              |  +--ro metric-type           identityref
     |  |  |              |  +--ro accumulative-value?   uint64
     |  |  |              +--ro path-affinities-values
     |  |  |              |  +--ro path-affinities-value* [usage]
     |  |  |              |     +--ro usage    identityref
     |  |  |              |     +--ro value?   admin-groups
     |  |  |              +--ro path-affinity-names
     |  |  |              |  +--ro path-affinity-name* [usage]
     |  |  |              |     +--ro usage            identityref
     |  |  |              |     +--ro affinity-name* [name]
     |  |  |              |        +--ro name    string
     |  |  |              +--ro path-srlgs-lists
     |  |  |              |  +--ro path-srlgs-list* [usage]
     |  |  |              |     +--ro usage     identityref
     |  |  |              |     +--ro values*   srlg
     |  |  |              +--ro path-srlgs-names
     |  |  |              |  +--ro path-srlgs-name* [usage]
     |  |  |              |     +--ro usage    identityref
     |  |  |              |     +--ro names*   string
     |  |  |              +--ro path-route-objects



Lopez de Vergara, et al. Expires August 26, 2021               [Page 40]

Internet-Draft               Flexi-Grid YANG               February 2021


     |  |  |              |  +--ro path-computed-route-object*
     |  |  |              |          [index]
     |  |  |              |     +--ro index
     |  |  |              |     |       uint32
     |  |  |              |     +--ro (type)?
     |  |  |              |        +--:(numbered-node-hop)
     |  |  |              |        |  +--ro numbered-node-hop
     |  |  |              |        |     +--ro node-id     te-node-id
     |  |  |              |        |     +--ro hop-type?
     |  |  |              |        |             te-hop-type
     |  |  |              |        +--:(numbered-link-hop)
     |  |  |              |        |  +--ro numbered-link-hop
     |  |  |              |        |     +--ro link-tp-id    te-tp-id
     |  |  |              |        |     +--ro hop-type?
     |  |  |              |        |     |       te-hop-type
     |  |  |              |        |     +--ro direction?
     |  |  |              |        |             te-link-direction
     |  |  |              |        +--:(unnumbered-link-hop)
     |  |  |              |        |  +--ro unnumbered-link-hop
     |  |  |              |        |     +--ro link-tp-id    te-tp-id
     |  |  |              |        |     +--ro node-id
     |  |  |              |        |     |       te-node-id
     |  |  |              |        |     +--ro hop-type?
     |  |  |              |        |     |       te-hop-type
     |  |  |              |        |     +--ro direction?
     |  |  |              |        |             te-link-direction
     |  |  |              |        +--:(as-number)
     |  |  |              |        |  +--ro as-number-hop
     |  |  |              |        |     +--ro as-number
     |  |  |              |        |     |       inet:as-number
     |  |  |              |        |     +--ro hop-type?
     |  |  |              |        |             te-hop-type
     |  |  |              |        +--:(label)
     |  |  |              |           +--ro label-hop
     |  |  |              |              +--ro te-label
     |  |  |              |                 +--ro (technology)?
     |  |  |              |                 |  +--:(generic)
     |  |  |              |                 |     +--ro generic?
     |  |  |              |                 |             rt-types:generalized-label
     |  |  |              |                 +--ro direction?
     |  |  |              |                         te-label-direction
     |  |  |              +--ro shared-resources-tunnels
     |  |  |                 +--ro lsp-shared-resources-tunnel*
     |  |  |                         tunnel-ref
     |  |  +---x tunnel-action
     |  |  |  +---w input
     |  |  |  |  +---w action-type?   identityref
     |  |  |  +--ro output



Lopez de Vergara, et al. Expires August 26, 2021               [Page 41]

Internet-Draft               Flexi-Grid YANG               February 2021


     |  |  |     +--ro action-result?   identityref
     |  |  +---x protection-external-commands
     |  |     +---w input
     |  |        +---w protection-external-command?
     |  |        |       identityref
     |  |        +---w protection-group-ingress-node-id?
     |  |        |       te-types:te-node-id
     |  |        +---w protection-group-egress-node-id?
     |  |        |       te-types:te-node-id
     |  |        +---w path-ref?                           path-ref
     |  |        +---w traffic-type?
     |  |        |       enumeration
     |  |        +---w extra-traffic-tunnel-ref?           tunnel-ref
     |  +--rw tunnel-p2mp* [name]
     |     +--rw name                 string
     |     +--rw identifier?          uint16
     |     +--rw description?         string
     |     +--ro operational-state?   identityref
     +--ro lsps-state
        +--ro lsp*
                [source destination tunnel-id lsp-id extended-tunnel-id]
           +--ro source
           |       te-types:te-node-id
           +--ro destination
           |       te-types:te-node-id
           +--ro tunnel-id                           uint16
           +--ro lsp-id                              uint16
           +--ro extended-tunnel-id                  yang:dotted-quad
           +--ro operational-state?                  identityref
           +--ro path-setup-protocol?                identityref
           +--ro origin-type?                        enumeration
           +--ro lsp-resource-status?                enumeration
           +--ro lockout-of-normal?                  boolean
           +--ro freeze?                             boolean
           +--ro lsp-protection-role?                enumeration
           +--ro lsp-protection-state?               identityref
           +--ro protection-group-ingress-node-id?
           |       te-types:te-node-id
           +--ro protection-group-egress-node-id?
           |       te-types:te-node-id
           +--ro lsp-record-route-information
              +--ro lsp-record-route-information* [index]
                 +--ro index                        uint32
                 +--ro (type)?
                    +--:(numbered-node-hop)
                    |  +--ro numbered-node-hop
                    |     +--ro node-id    te-node-id
                    |     +--ro flags*     path-attribute-flags



Lopez de Vergara, et al. Expires August 26, 2021               [Page 42]

Internet-Draft               Flexi-Grid YANG               February 2021


                    +--:(numbered-link-hop)
                    |  +--ro numbered-link-hop
                    |     +--ro link-tp-id    te-tp-id
                    |     +--ro flags*        path-attribute-flags
                    +--:(unnumbered-link-hop)
                    |  +--ro unnumbered-link-hop
                    |     +--ro link-tp-id    te-tp-id
                    |     +--ro node-id?      te-node-id
                    |     +--ro flags*        path-attribute-flags
                    +--:(label)
                       +--ro label-hop
                          +--ro te-label
                          |  +--ro (technology)?
                          |  |  +--:(generic)
                          |  |     +--ro generic?
                          |  |             rt-types:generalized-label
                          |  +--ro direction?
                          |          te-label-direction
                          +--ro flags*      path-attribute-flags

  rpcs:
    +---x globals-rpc
    +---x interfaces-rpc
    +---x tunnels-rpc
       +---w input
       |  +---w tunnel-info
       |     +---w (type)?
       |        +--:(tunnel-p2p)
       |        |  +---w p2p-id?    tunnel-ref
       |        +--:(tunnel-p2mp)
       |           +---w p2mp-id?   tunnel-p2mp-ref
       +--ro output
          +--ro result
             +--ro result?   enumeration

  notifications:
    +---n globals-notif
    +---n tunnels-notif



5.2.  YANG Code


   <CODE BEGINS> file "ietf-flexi-grid-topology@2020-10-21.yang"
   module ietf-flexi-grid-media-channel {
     yang-version 1.1;
     namespace



Lopez de Vergara, et al. Expires August 26, 2021               [Page 43]

Internet-Draft               Flexi-Grid YANG               February 2021


       "urn:ietf:params:xml:ns:yang:ietf-flexi-grid-media-channel";
     prefix "flexi-grid-media-channel";

     import ietf-te {
       prefix "te";
       revision-date "2019-02-15";
       reference
       "I-D.ietf-teas-yang-te-19: A YANG Data Model for Traffic
        Engineering Tunnels and Interfaces. ";
     }

     import ietf-layer0-types{
       prefix "l0-types";
     }

     import ietf-layer0-types-ext {
       prefix "l0-types-ext";
     }

     import ietf-te-path-computation {
       prefix "tepc";
       revision-date "2019-03-11";
       reference
       "I-D.ietf-teas-yang-path-computation-05: Yang model
       for requesting Path Computation.";
     }

     organization
       "IETF CCAMP Working Group";
     contact
       "WG Web:   <http://tools.ietf.org/wg/ccamp/>
        WG List:  <mailto:ccamp@ietf.org>
        Editor:   Jorge E. Lopez de Vergara
                  <jorge.lopez_vergara@uam.es>
        Editor:   Daniel Perdices
                  <daniel.perdices@naudit.es>
        Editor:   Victor Lopez
                  <victor.lopezalvarez@telefonica.com>
        Editor:   Young Lee
                  <leeyoung@huawei.com>";

     description
       "This module defines a model for Flex-grid Media Channel
       Services.
       The model fully conforms to the Network Management
       Datastore Architecture (NMDA).

       Copyright (c) 2021 IETF Trust and the persons



Lopez de Vergara, et al. Expires August 26, 2021               [Page 44]

Internet-Draft               Flexi-Grid YANG               February 2021


       identified as authors of the code.  All rights reserved.
       Redistribution and use in source and binary forms, with or
       without modification, is permitted pursuant to, and subject
       to the license terms contained in, the Simplified BSD License
       set forth in Section 4.c of the IETF Trust's Legal Provisions
       Relating to IETF Documents
       (https://trustee.ietf.org/license-info).
       This version of this YANG module is part of RFC XXXX; see
       the RFC itself for full legal notices.";

     revision "2021-02-12" {
       description
         "Initial Revision";
       reference
         "RFC XXXX: YANG data model for Flexi-Grid media-channels";
       // RFC Ed.: replace XXXX with actual RFC number, update date
       // information and remove this note
     }

    /*
     * Data nodes
     */

     augment "/te:te/te:tunnels/te:tunnel" {
       description
         "Augment with additional parameters required for flexi-grid
          media channel.";
       uses l0-types-ext:l0-tunnel-attributes;
     }

     /*
      * Augment TE label.
      */

     /* Augment label hop of route-object-exclude-always of
        named-path-constraints */
     augment "/te:te/te:globals/te:named-path-constraints/"
           + "te:named-path-constraint/"
           + "te:explicit-route-objects-always/"
           + "te:route-object-exclude-always/te:type/te:label/"
           + "te:label-hop/te:te-label/te:technology" {
       description "Flex-grid label.";
       case flexi-grid {
         uses l0-types:flexi-grid-label-hop;
       }
     }

     /* Augment label hop of route-object-include-exclude of



Lopez de Vergara, et al. Expires August 26, 2021               [Page 45]

Internet-Draft               Flexi-Grid YANG               February 2021


        named-path-constraints */
     augment "/te:te/te:globals/te:named-path-constraints/"
           + "te:named-path-constraint/"
           + "te:explicit-route-objects-always/"
           + "te:route-object-include-exclude/te:type/te:label/"
           + "te:label-hop/te:te-label/te:technology" {
       description "Flex-grid label.";
       case flexi-grid {
         uses l0-types:flexi-grid-label-hop;
       }
     }

     /* Augment label restrictions for the forwarding direction of
        path-in-segment of named-path-constraints */
     augment "/te:te/te:globals/te:named-path-constraints/"
           + "te:named-path-constraint/te:path-in-segment/"
           + "te:label-restrictions/te:label-restriction" {
       description "Flex-grid label.";
       uses l0-types:flexi-grid-label-range-info;
     }

     /* Augment label restrictions start for the forwarding direction of
        path-in-segment of named-path-constraints */
     augment "/te:te/te:globals/te:named-path-constraints/"
           + "te:named-path-constraint/te:path-in-segment/"
           + "te:label-restrictions/"
           + "te:label-restriction/te:label-start/"
           + "te:te-label/te:technology" {
       description "Flex-grid label.";
       case flexi-grid {
         uses l0-types:flexi-grid-label-start-end;
       }
     }

     /* Augment label restrictions end for the forwarding direction of
        path-in-segment of named-path-constraints */
     augment "/te:te/te:globals/te:named-path-constraints/"
           + "te:named-path-constraint/te:path-in-segment/"
           + "te:label-restrictions/"
           + "te:label-restriction/te:label-end/"
           + "te:te-label/te:technology" {
       description "Flex-grid label.";
       case flexi-grid {
         uses l0-types:flexi-grid-label-start-end;
       }
     }

     /* Augment label restrictions for the forwarding direction of



Lopez de Vergara, et al. Expires August 26, 2021               [Page 46]

Internet-Draft               Flexi-Grid YANG               February 2021


        path-out-segment of named-path-constraints */
     augment "/te:te/te:globals/te:named-path-constraints/"
           + "te:named-path-constraint/te:path-out-segment/"
           + "te:label-restrictions/"
           + "te:label-restriction" {
       description "Flex-grid label.";
       uses l0-types:flexi-grid-label-range-info;
     }

     /* Augment label restrictions start for the forwarding direction of
        path-out-segment of named-path-constraints */
     augment "/te:te/te:globals/te:named-path-constraints/"
           + "te:named-path-constraint/te:path-out-segment/"
           + "te:label-restrictions/"
           + "te:label-restriction/te:label-start/"
           + "te:te-label/te:technology" {
       description "Flex-grid label.";
       case flexi-grid {
         uses l0-types:flexi-grid-label-start-end;
       }
     }

     /* Augment label restrictions end for the forwarding direction of
        path-out-segment of named-path-constraints */
     augment "/te:te/te:globals/te:named-path-constraints/"
           + "te:named-path-constraint/te:path-out-segment/"
           + "te:label-restrictions/"
           + "te:label-restriction/te:label-end/"
           + "te:te-label/te:technology" {
       description "Flex-grid label.";
       case flexi-grid {
         uses l0-types:flexi-grid-label-start-end;
       }
     }

     /* Augment label hop of route-exclude of primary path */
     augment "/te:te/te:tunnels/te:tunnel/"
           + "te:p2p-primary-paths/te:p2p-primary-path/"
           + "te:optimizations/te:algorithm/te:metric/"
           + "te:optimization-metric/te:explicit-route-exclude-objects/"
           + "te:route-object-exclude-object/te:type/te:label/"
           + "te:label-hop/te:te-label/te:technology" {
       description "Flex-grid label.";
       case flexi-grid {
         uses l0-types:flexi-grid-label-hop;
       }
     }




Lopez de Vergara, et al. Expires August 26, 2021               [Page 47]

Internet-Draft               Flexi-Grid YANG               February 2021


     /* Augment label hop of route-include of primary path */
     augment "/te:te/te:tunnels/te:tunnel/"
           + "te:p2p-primary-paths/te:p2p-primary-path/"
           + "te:optimizations/te:algorithm/te:metric/"
           + "te:optimization-metric/te:explicit-route-include-objects/"
           + "te:route-object-include-object/te:type/te:label/"
           + "te:label-hop/te:te-label/te:technology" {
       description "Flex-grid label.";
       case flexi-grid {
         uses l0-types:flexi-grid-label-hop;
       }
     }

     /* Augment label hop of route-object-exclude-always of
        primary path */
     augment "/te:te/te:tunnels/te:tunnel/"
           + "te:p2p-primary-paths/te:p2p-primary-path/"
           + "te:explicit-route-objects-always/"
           + "te:route-object-exclude-always/te:type/te:label/"
           + "te:label-hop/te:te-label/te:technology" {
       description "Flex-grid label.";
       case flexi-grid {
         uses l0-types:flexi-grid-label-hop;
       }
     }

     /* Augment label hop of route-object-include-exclude of
        primary path */
     augment "/te:te/te:tunnels/te:tunnel/"
           + "te:p2p-primary-paths/te:p2p-primary-path/"
           + "te:explicit-route-objects-always/"
           + "te:route-object-include-exclude/te:type/te:label/"
           + "te:label-hop/te:te-label/te:technology" {
       description "Flex-grid label.";
       case flexi-grid {
         uses l0-types:flexi-grid-label-hop;
       }
     }

     /* Augment label restrictions for the path-in-segment of
        primary path */
     augment "/te:te/te:tunnels/te:tunnel/"
           + "te:p2p-primary-paths/te:p2p-primary-path/"
           + "te:path-in-segment/te:label-restrictions/"
           + "te:label-restriction" {
       description "Flex-grid label.";
       uses l0-types:flexi-grid-label-range-info;
     }



Lopez de Vergara, et al. Expires August 26, 2021               [Page 48]

Internet-Draft               Flexi-Grid YANG               February 2021


     /* Augment label restrictions start for the forwarding direction of
        path-in-segment of primary path */
     augment "/te:te/te:tunnels/te:tunnel/"
           + "te:p2p-primary-paths/te:p2p-primary-path/"
           + "te:path-in-segment/te:label-restrictions/"
           + "te:label-restriction/te:label-start/"
           + "te:te-label/te:technology" {
       description "Flex-grid label.";
       case flexi-grid {
         uses l0-types:flexi-grid-label-start-end;
       }
     }

     /* Augment label restrictions end for the forwarding direction of
        path-in-segment of primary path */
     augment "/te:te/te:tunnels/te:tunnel/"
           + "te:p2p-primary-paths/te:p2p-primary-path/"
           + "te:path-in-segment/te:label-restrictions/"
           + "te:label-restriction/te:label-end/"
           + "te:te-label/te:technology" {
       description "Flex-grid label.";
       case flexi-grid {
         uses l0-types:flexi-grid-label-start-end;
       }
     }

     /* Augment label restrictions for the forwarding direction of
        path-out-segment of primary path */
     augment "/te:te/te:tunnels/te:tunnel/"
           + "te:p2p-primary-paths/te:p2p-primary-path/"
           + "te:path-out-segment/te:label-restrictions/"
           + "te:label-restriction" {
       description "Flex-grid label.";
       uses l0-types:flexi-grid-label-range-info;
     }

     /* Augment label restrictions start for the forwarding direction of
        path-out-segment of primary path */
     augment "/te:te/te:tunnels/te:tunnel/"
           + "te:p2p-primary-paths/te:p2p-primary-path/"
           + "te:path-out-segment/te:label-restrictions/"
           + "te:label-restriction/te:label-start/"
           + "te:te-label/te:technology" {
       description "Flex-grid label.";
       case flexi-grid {
         uses l0-types:flexi-grid-label-start-end;
       }
     }



Lopez de Vergara, et al. Expires August 26, 2021               [Page 49]

Internet-Draft               Flexi-Grid YANG               February 2021


     /* Augment label restrictions end for the forwarding direction of
        path-out-segment of primary path */
     augment "/te:te/te:tunnels/te:tunnel/"
           + "te:p2p-primary-paths/te:p2p-primary-path/"
           + "te:path-out-segment/te:label-restrictions/"
           + "te:label-restriction/te:label-end/"
           + "te:te-label/te:technology" {
       description "Flex-grid label.";
       case flexi-grid {
         uses l0-types:flexi-grid-label-start-end;
       }
     }

     /* Augment label hop of path-route of primary path */
     augment "/te:te/te:tunnels/te:tunnel/"
           + "te:p2p-primary-paths/te:p2p-primary-path/"
           + "te:computed-paths-properties/"
           + "te:computed-path-properties/te:path-properties/"
           + "te:path-route-objects/te:path-computed-route-object/"
           + "te:type/te:label/"
           + "te:label-hop/te:te-label/te:technology" {
       description "Flex-grid label.";
       case flexi-grid {
         uses l0-types:flexi-grid-label-hop;
       }
     }

     /* Augment label hop of record-route of primary LSP */
     augment "/te:te/te:tunnels/te:tunnel/"
           + "te:p2p-primary-paths/te:p2p-primary-path/"
           + "te:lsps/te:lsp/te:lsp-record-route-information/"
           + "te:lsp-record-route-information/te:type/te:label/"
           + "te:label-hop/te:te-label/te:technology" {
       description "Flex-grid label.";
       case flexi-grid {
         uses l0-types:flexi-grid-label-hop;
       }
     }

     /* Augment label hop of path-route of primary LSP */
     augment "/te:te/te:tunnels/te:tunnel/"
           + "te:p2p-primary-paths/te:p2p-primary-path/"
           + "te:lsps/te:lsp/te:path-properties/"
           + "te:path-route-objects/te:path-computed-route-object/"
           + "te:type/te:label/"
           + "te:label-hop/te:te-label/te:technology" {
       description "Flex-grid label.";
       case flexi-grid {



Lopez de Vergara, et al. Expires August 26, 2021               [Page 50]

Internet-Draft               Flexi-Grid YANG               February 2021


         uses l0-types:flexi-grid-label-hop;
       }
     }

     /* Augment label hop of route-exclude of reverse primary path */
     augment "/te:te/te:tunnels/te:tunnel/"
           + "te:p2p-primary-paths/te:p2p-primary-path/"
           + "te:p2p-primary-reverse-path/"
           + "te:optimizations/te:algorithm/te:metric/"
           + "te:optimization-metric/te:explicit-route-exclude-objects/"
           + "te:route-object-exclude-object/te:type/te:label/"
           + "te:label-hop/te:te-label/te:technology" {
       description "Flex-grid label.";
       case flexi-grid {
         uses l0-types:flexi-grid-label-hop;
       }
     }

     /* Augment label hop of route-include of reverse primary path */
     augment "/te:te/te:tunnels/te:tunnel/"
           + "te:p2p-primary-paths/te:p2p-primary-path/"
           + "te:p2p-primary-reverse-path/"
           + "te:optimizations/te:algorithm/te:metric/"
           + "te:optimization-metric/te:explicit-route-include-objects/"
           + "te:route-object-include-object/te:type/te:label/"
           + "te:label-hop/te:te-label/te:technology" {
       description "Flex-grid label.";
       case flexi-grid {
         uses l0-types:flexi-grid-label-hop;
       }
     }

     /* Augment label hop of route-object-exclude-always of
        reverse primary path */
     augment "/te:te/te:tunnels/te:tunnel/"
           + "te:p2p-primary-paths/te:p2p-primary-path/"
           + "te:p2p-primary-reverse-path/"
           + "te:explicit-route-objects-always/"
           + "te:route-object-exclude-always/"
           + "te:type/te:label/"
           + "te:label-hop/te:te-label/te:technology" {
       description "Flex-grid label.";
       case flexi-grid {
         uses l0-types:flexi-grid-label-hop;
       }
     }

     /* Augment label hop of route-object-include-exclude of



Lopez de Vergara, et al. Expires August 26, 2021               [Page 51]

Internet-Draft               Flexi-Grid YANG               February 2021


        reverse primary path */
     augment "/te:te/te:tunnels/te:tunnel/"
           + "te:p2p-primary-paths/te:p2p-primary-path/"
           + "te:p2p-primary-reverse-path/"
           + "te:explicit-route-objects-always/"
           + "te:route-object-include-exclude/"
           + "te:type/te:label/"
           + "te:label-hop/te:te-label/te:technology" {
       description "Flex-grid label.";
       case flexi-grid {
         uses l0-types:flexi-grid-label-hop;
       }
     }

     /* Augment label restrictions for the forwarding direction of
        path-in-segment of reverse primary path */
     augment "/te:te/te:tunnels/te:tunnel/"
           + "te:p2p-primary-paths/te:p2p-primary-path/"
           + "te:p2p-primary-reverse-path/"
           + "te:path-in-segment/te:label-restrictions/"
           + "te:label-restriction" {
       description "Flex-grid label.";
       uses l0-types:flexi-grid-label-range-info;
     }

     /* Augment label restrictions start for the forwarding direction of
         path-in-segment of reverse primary path */
     augment "/te:te/te:tunnels/te:tunnel/"
           + "te:p2p-primary-paths/te:p2p-primary-path/"
           + "te:p2p-primary-reverse-path/"
           + "te:path-in-segment/te:label-restrictions/"
           + "te:label-restriction/te:label-start/"
           + "te:te-label/te:technology" {
       description "Flex-grid label.";
       case flexi-grid {
         uses l0-types:flexi-grid-label-start-end;
       }
     }

     /* Augment label restrictions end for the forwarding direction of
        path-in-segment of reverse primary path */
     augment "/te:te/te:tunnels/te:tunnel/"
           + "te:p2p-primary-paths/te:p2p-primary-path/"
           + "te:p2p-primary-reverse-path/"
           + "te:path-in-segment/te:label-restrictions/"
           + "te:label-restriction/te:label-end/"
           + "te:te-label/te:technology" {
       description "Flex-grid label.";



Lopez de Vergara, et al. Expires August 26, 2021               [Page 52]

Internet-Draft               Flexi-Grid YANG               February 2021


       case flexi-grid {
         uses l0-types:flexi-grid-label-start-end;
       }
     }

     /* Augment label restrictions for the forwarding direction of
        path-out-segment of reverse primary path */
     augment "/te:te/te:tunnels/te:tunnel/"
           + "te:p2p-primary-paths/te:p2p-primary-path/"
           + "te:p2p-primary-reverse-path/"
           + "te:path-out-segment/te:label-restrictions/"
           + "te:label-restriction" {
       description "Flex-grid label.";
       uses l0-types:flexi-grid-label-range-info;
     }

     /* Augment label restrictions start for the forwarding direction of
        path-out-segment of reverse primary path */
     augment "/te:te/te:tunnels/te:tunnel/"
           + "te:p2p-primary-paths/te:p2p-primary-path/"
           + "te:p2p-primary-reverse-path/"
           + "te:path-out-segment/te:label-restrictions/"
           + "te:label-restriction/te:label-start/"
           + "te:te-label/te:technology" {
       description "Flex-grid label.";
       case flexi-grid {
         uses l0-types:flexi-grid-label-start-end;
       }
     }

     /* Augment label restrictions end for the forwarding direction of
        path-out-segment of reverse primary path */
     augment "/te:te/te:tunnels/te:tunnel/"
           + "te:p2p-primary-paths/te:p2p-primary-path/"
           + "te:p2p-primary-reverse-path/"
           + "te:path-out-segment/te:label-restrictions/"
           + "te:label-restriction/te:label-end/"
           + "te:te-label/te:technology" {
       description "Flex-grid label.";
       case flexi-grid {
         uses l0-types:flexi-grid-label-start-end;
       }
     }

     /* Augment label hop of path-route of reverse primary path */
     augment "/te:te/te:tunnels/te:tunnel/"
           + "te:p2p-primary-paths/te:p2p-primary-path/"
           + "te:p2p-primary-reverse-path/"



Lopez de Vergara, et al. Expires August 26, 2021               [Page 53]

Internet-Draft               Flexi-Grid YANG               February 2021


           + "te:computed-paths-properties/te:computed-path-properties/"
           + "te:path-properties/te:path-route-objects/"
           + "te:path-computed-route-object/te:type/te:label/"
           + "te:label-hop/te:te-label/te:technology" {
       description "Flex-grid label.";
       case flexi-grid {
         uses l0-types:flexi-grid-label-hop;
       }
     }

     /* Augment label hop of record-route of reverse primary LSP */
     augment "/te:te/te:tunnels/te:tunnel/"
           + "te:p2p-primary-paths/te:p2p-primary-path/"
           + "te:p2p-primary-reverse-path/"
           + "te:lsps/te:lsp/te:lsp-record-route-information/"
           + "te:lsp-record-route-information/te:type/te:label/"
           + "te:label-hop/te:te-label/te:technology" {
       description "Flex-grid label.";
       case flexi-grid {
         uses l0-types:flexi-grid-label-hop;
       }
     }

     /* Augment label hop of path-route of reverse primary LSP */
     augment "/te:te/te:tunnels/te:tunnel/"
           + "te:p2p-primary-paths/te:p2p-primary-path/"
           + "te:p2p-primary-reverse-path/"
           + "te:lsps/te:lsp/te:path-properties/"
           + "te:path-route-objects/te:path-computed-route-object/"
           + "te:type/te:label/"
           + "te:label-hop/te:te-label/te:technology" {
       description "Flex-grid label.";
       case flexi-grid {
         uses l0-types:flexi-grid-label-hop;
       }
     }

     /* Augment label hop of route-exclude of secondary path */
     augment "/te:te/te:tunnels/te:tunnel/"
           + "te:p2p-secondary-paths/te:p2p-secondary-path/"
           + "te:optimizations/te:algorithm/te:metric/"
           + "te:optimization-metric/te:explicit-route-exclude-objects/"
           + "te:route-object-exclude-object/te:type/te:label/"
           + "te:label-hop/te:te-label/te:technology" {
       description "Flex-grid label.";
       case flexi-grid {
         uses l0-types:flexi-grid-label-hop;
       }



Lopez de Vergara, et al. Expires August 26, 2021               [Page 54]

Internet-Draft               Flexi-Grid YANG               February 2021


     }

     /* Augment label hop of route-include of secondary path */
     augment "/te:te/te:tunnels/te:tunnel/"
           + "te:p2p-secondary-paths/te:p2p-secondary-path/"
           + "te:optimizations/te:algorithm/te:metric/"
           + "te:optimization-metric/te:explicit-route-include-objects/"
           + "te:route-object-include-object/te:type/te:label/"
           + "te:label-hop/te:te-label/te:technology" {
       description "Flex-grid label.";
       case flexi-grid {
         uses l0-types:flexi-grid-label-hop;
       }
     }

     /* Augment label hop of route-object-exclude-always of
        secondary path */
     augment "/te:te/te:tunnels/te:tunnel/"
           + "te:p2p-secondary-paths/te:p2p-secondary-path/"
           + "te:explicit-route-objects-always/"
           + "te:route-object-exclude-always/te:type/te:label/"
           + "te:label-hop/te:te-label/te:technology" {
       description "Flex-grid label.";
       case flexi-grid {
         uses l0-types:flexi-grid-label-hop;
       }
     }

     /* Augment label hop of route-object-include-exclude of
        secondary path */
     augment "/te:te/te:tunnels/te:tunnel/"
           + "te:p2p-secondary-paths/te:p2p-secondary-path/"
           + "te:explicit-route-objects-always/"
           + "te:route-object-include-exclude/te:type/te:label/"
           + "te:label-hop/te:te-label/te:technology" {
       description "Flex-grid label.";
       case flexi-grid {
         uses l0-types:flexi-grid-label-hop;
       }
     }

     /* Augment label restrictions for the forwarding direction of
        path-in-segment of secondary path */
     augment "/te:te/te:tunnels/te:tunnel/"
           + "te:p2p-secondary-paths/te:p2p-secondary-path/"
           + "te:path-in-segment/te:label-restrictions/"
           + "te:label-restriction" {
       description "Flex-grid label.";



Lopez de Vergara, et al. Expires August 26, 2021               [Page 55]

Internet-Draft               Flexi-Grid YANG               February 2021


       uses l0-types:flexi-grid-label-range-info;
     }

     /* Augment label restrictions start for the forwarding direction of
        path-in-segment of secondary path */
     augment "/te:te/te:tunnels/te:tunnel/"
           + "te:p2p-secondary-paths/te:p2p-secondary-path/"
           + "te:path-in-segment/te:label-restrictions/"
           + "te:label-restriction/te:label-start/"
           + "te:te-label/te:technology" {
       description "Flex-grid label.";
       case flexi-grid {
         uses l0-types:flexi-grid-label-start-end;
       }
     }

     /* Augment label restrictions end for the forwarding direction of
        path-in-segment of secondary path */
     augment "/te:te/te:tunnels/te:tunnel/"
           + "te:p2p-secondary-paths/te:p2p-secondary-path/"
           + "te:path-in-segment/te:label-restrictions/"
           + "te:label-restriction/te:label-end/"
           + "te:te-label/te:technology" {
       description "Flex-grid label.";
       case flexi-grid {
         uses l0-types:flexi-grid-label-start-end;
       }
     }

     /* Augment label restrictions for the forwarding direction of
        path-out-segment of secondary path */
     augment "/te:te/te:tunnels/te:tunnel/"
           + "te:p2p-secondary-paths/te:p2p-secondary-path/"
           + "te:path-out-segment/te:label-restrictions/"
           + "te:label-restriction" {
       description "Flex-grid label.";
       uses l0-types:flexi-grid-label-range-info;
     }

     /* Augment label restrictions start for the forwarding direction of
        path-out-segment of secondary path */
     augment "/te:te/te:tunnels/te:tunnel/"
           + "te:p2p-secondary-paths/te:p2p-secondary-path/"
           + "te:path-out-segment/te:label-restrictions/"
           + "te:label-restriction/te:label-start/"
           + "te:te-label/te:technology" {
       description "Flex-grid label.";
       case flexi-grid {



Lopez de Vergara, et al. Expires August 26, 2021               [Page 56]

Internet-Draft               Flexi-Grid YANG               February 2021


         uses l0-types:flexi-grid-label-start-end;
       }
     }

     /* Augment label restrictions end for the forwarding direction of
        path-out-segment of secondary path */
     augment "/te:te/te:tunnels/te:tunnel/"
           + "te:p2p-secondary-paths/te:p2p-secondary-path/"
           + "te:path-out-segment/te:label-restrictions/"
           + "te:label-restriction/te:label-end/"
           + "te:te-label/te:technology" {
       description "Flex-grid label.";
       case flexi-grid {
         uses l0-types:flexi-grid-label-start-end;
       }
     }

     /* Augment label hop of path-route of secondary path */
     augment "/te:te/te:tunnels/te:tunnel/"
           + "te:p2p-secondary-paths/te:p2p-secondary-path/"
           + "te:computed-paths-properties/"
           + "te:computed-path-properties/"
           + "te:path-properties/te:path-route-objects/"
           + "te:path-computed-route-object/te:type/te:label/"
           + "te:label-hop/te:te-label/te:technology" {
       description "Flex-grid label.";
       case flexi-grid {
         uses l0-types:flexi-grid-label-hop;
       }
     }

     /* Augment label hop of record-route of secondary LSP */
     augment "/te:te/te:tunnels/te:tunnel/"
           + "te:p2p-secondary-paths/te:p2p-secondary-path/"
           + "te:lsps/te:lsp/te:lsp-record-route-information/"
           + "te:lsp-record-route-information/te:type/te:label/"
           + "te:label-hop/te:te-label/te:technology" {
       description "Flex-grid label.";
       case flexi-grid {
         uses l0-types:flexi-grid-label-hop;
       }
     }

     /* Augment label hop of path-route of secondary LSP */
     augment "/te:te/te:tunnels/te:tunnel/"
           + "te:p2p-secondary-paths/te:p2p-secondary-path/"
           + "te:lsps/te:lsp/te:path-properties/"
           + "te:path-route-objects/"



Lopez de Vergara, et al. Expires August 26, 2021               [Page 57]

Internet-Draft               Flexi-Grid YANG               February 2021


           + "te:path-computed-route-object/te:type/te:label/"
           + "te:label-hop/te:te-label/te:technology" {
       description "Flex-grid label.";
       case flexi-grid {
         uses l0-types:flexi-grid-label-hop;
       }
     }

     /* Augment label hop of record-route of LSP */
     augment "/te:te/te:lsps-state/"
           + "te:lsp/te:lsp-record-route-information/"
           + "te:lsp-record-route-information/te:type/te:label/"
           + "te:label-hop/te:te-label/te:technology" {
       description "Flex-grid label.";
       case flexi-grid {
         uses l0-types:flexi-grid-label-hop;
       }
     }

     augment "/te:tunnels-rpc/te:input/te:tunnel-info/"
           + "tepc:path-request" {
       description
          "Augment with additional constraints flexi-grid
           media channel.";
       uses l0-types-ext:l0-tunnel-attributes;
       uses l0-types-ext:l0-path-constraints;
     }
   }
   <CODE ENDS>


6.  Security Considerations

   To Be discussed.

7.  IANA Considerations

   To be discussed.

8.  Contributors

   This work was developed by several additional people, who due to
   frontpage author restrictions, are listed below:

   Zafar Ali
   Cisco
   Email: zali@cisco.com




Lopez de Vergara, et al. Expires August 26, 2021               [Page 58]

Internet-Draft               Flexi-Grid YANG               February 2021


   Daniel Michaud Vallinoto
   Universidad Autonoma de Madrid
   Email: daniel.michaud@estudiante.uam.es

9.  Acknowledgments

   This work is also partially funded by the Spanish State Research
   Agency under the project AgileMon (AEI PID2019-104451RB-C21) and by
   the Spanish Ministry of Science, Innovation and Universities under
   the program for the training of university lecturers (Grant number:
   FPU19/05678).

10.  References

10.1.  Normative References

   [I-D.ietf-ccamp-flexigrid-yang]
              Madrid, U., Perdices, D., King, D., Lee, Y., and H. Zheng,
              "A YANG Data Model for Flexi-Grid Optical Networks",
              draft-ietf-ccamp-flexigrid-yang-08 (work in progress),
              November 2020.

   [I-D.ietf-teas-yang-te]
              Saad, T., Gandhi, R., Liu, X., Beeram, V., and I. Bryskin,
              "A YANG Data Model for Traffic Engineering Tunnels, Label
              Switched Paths and Interfaces", draft-ietf-teas-yang-te-25
              (work in progress), July 2020.

   [RFC6241]  Enns, R., Ed., Bjorklund, M., Ed., Schoenwaelder, J., Ed.,
              and A. Bierman, Ed., "Network Configuration Protocol
              (NETCONF)", RFC 6241, DOI 10.17487/RFC6241, June 2011,
              <https://www.rfc-editor.org/info/rfc6241>.

   [RFC7699]  Farrel, A., King, D., Li, Y., and F. Zhang, "Generalized
              Labels for the Flexi-Grid in Lambda Switch Capable (LSC)
              Label Switching Routers", RFC 7699, DOI 10.17487/RFC7699,
              November 2015, <https://www.rfc-editor.org/info/rfc7699>.

   [RFC7950]  Bjorklund, M., Ed., "The YANG 1.1 Data Modeling Language",
              RFC 7950, DOI 10.17487/RFC7950, August 2016,
              <https://www.rfc-editor.org/info/rfc7950>.

10.2.  Informative References








Lopez de Vergara, et al. Expires August 26, 2021               [Page 59]

Internet-Draft               Flexi-Grid YANG               February 2021


   [RFC7446]  Lee, Y., Ed., Bernstein, G., Ed., Li, D., and W. Imajuku,
              "Routing and Wavelength Assignment Information Model for
              Wavelength Switched Optical Networks", RFC 7446,
              DOI 10.17487/RFC7446, February 2015,
              <https://www.rfc-editor.org/info/rfc7446>.

   [RFC7698]  Gonzalez de Dios, O., Ed., Casellas, R., Ed., Zhang, F.,
              Fu, X., Ceccarelli, D., and I. Hussain, "Framework and
              Requirements for GMPLS-Based Control of Flexi-Grid Dense
              Wavelength Division Multiplexing (DWDM) Networks",
              RFC 7698, DOI 10.17487/RFC7698, November 2015,
              <https://www.rfc-editor.org/info/rfc7698>.

Authors' Addresses

   Jorge E. Lopez de Vergara Mendez
   Naudit HPCN

   Email: jorge.lopez_vergara@uam.es


   Daniel Perdices Burrero
   Universidad Autonoma de Madrid

   Email: daniel.perdices@uam.es


   Daniel King
   Old Dog Consulting

   Email: daniel@olddog.co.uk


   Victor Lopez
   Telefonica I+D/GCTO

   Email: victor.lopezalvarez@telefonica.com


   Italo Busi
   Huawei Technologies

   Email: Italo.Busi@huawei.com








Lopez de Vergara, et al. Expires August 26, 2021               [Page 60]

Internet-Draft               Flexi-Grid YANG               February 2021


    Oscar Gonzalez de Dios
   Telefonica I+D/GCTO

   Email: oscar.gonzalezdedios@telefonica.com


   Young Lee
   Samsung

   Email: younglee.tx@gmail.co


   G. Galimberti
   Cisco

   Email: ggalimbe@cisco.com



































Lopez de Vergara, et al. Expires August 26, 2021               [Page 61]
