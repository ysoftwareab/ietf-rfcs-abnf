



IDR                                                                Z. Li
Internet-Draft                                              China Mobile
Updates: 5575 (if approved)                               March 11, 2017
Intended status: Standards Track
Expires: September 12, 2017


                  Populate to FIB Action for FlowSpec
                draft-li-idr-flowspec-populate-to-fib-00

Abstract

   A bit, F bit, is defined in traffic action extended community, which
   is used by FlowSpec to indicate the associated specifications be
   installed directly in FIB (Forwarding Information Base).

Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [RFC2119].

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on September 12, 2017.

Copyright Notice

   Copyright (c) 2017 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents



Li                     Expires September 12, 2017               [Page 1]

Internet-Draft          FlowSpec populate to FIB              March 2017


   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Populate to FIB Action  . . . . . . . . . . . . . . . . . . .   3
   3.  Security Considerations . . . . . . . . . . . . . . . . . . .   3
   4.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   3
   5.  Normative References  . . . . . . . . . . . . . . . . . . . .   4
   Author's Address  . . . . . . . . . . . . . . . . . . . . . . . .   4

1.  Introduction

   BGP FlowSpec [RFC5575] provides a flexible mechanism to distribute
   traffic flow specifications, where the matching rules are encoded in
   the Border Gateway Protocol Network Layer Reachability Information
   (BGP NLRI) with defined new format and the corresponding actions are
   encoded in BGP Extended communities.

   Traffic flow specifications distributed by BGP FlowSpec [RFC5575] are
   ususlly seperated from the the routing tables and Forwarding
   Information Base (FIB), and stored in dedicated hardware, which is
   expensive and space limited.  Furthermore, this kind of hardware is
   shared with the ACL (Access Control List) rules.  The number of both
   ACL rules and FlowSpec specifications is large, especially when
   FlowSpec specifications are used for dynanmic traffic flow steering,
   which is one of the three BGP FlowSpec applications listed in
   [RFC5575] and [I-D.ietf-idr-rfc5575bis], i.e. applications with
   centralized control of traffic in a SDN or NFV context.  In this
   situation, to save the limited and expensive space of the dedicated
   hardware, it is better to populate some FlowSpec specifications
   directly to FIB if possible, becuase the space of FIB is sufficient
   for several millions of entries.  The destination prefix based
   FlowSpec specifications, for example, are those that can be directly
   populated to FIB.

   However, there is no method in the current version of BGP FlowSpec
   [RFC5575] and RFC5575bis [I-D.ietf-idr-rfc5575bis] to indicate the
   associated specifications are suitable to be populated to FIB
   directly.  This document defines a new bit, F bit (populate to FIB),
   in 0x8007 traffic action extended community to satisfy the
   requirement.





Li                     Expires September 12, 2017               [Page 2]

Internet-Draft          FlowSpec populate to FIB              March 2017


2.  Populate to FIB Action

   F bit, populate to FIB bit, is defined in 0x8007 traffic action
   extended community [RFC5575] to indicate the associated BGP FlowSpec
   specifications are suitable to be populated to FIB directly.  Thus
   the space of the dedicated hardware that is used to store the BGP
   FlowSpec specifications can be saved for other kinds of BGP FlowSpec
   specifications and ACL rules.

   The encoding format of the traffic action extended community with F
   bit is shown below.  The F bit is solicited to be assigned by IANA.

                  40  41  42  43  44  45  46  47
                 +---+---+---+---+---+---+---+---+
                 |       reserved    | F | S | T |
                 +---+---+---+---+---+---+---+---+

   Traffic-action extended community consists of 2 bytes for type and
   subtype, the value of which MUST be 0x8007, and 6 bytes for value, of
   which only the 3 least significant bits of the 6th byte (from left to
   right) are currently defined.  S and T are defined in BGP FlowSpec
   [RFC5575].  F is defined as:

   o  F: Populate to FIB Action (bit 45, to be assined by IANA): When
      this bit is set, the associated BGP FlowSpec specifications SHOULD
      be populated to FIB directly.  If not set, the associated BGP
      FlowSpec specifications MUST NOT be populated to FIB.  If this bit
      is set and the associated BGP FlowSpec specifications can not be
      populated to FIB, the associated BGP FlowSpec specifications MUST
      be ignored.

3.  Security Considerations

   This document defines a new bit in the traffic action extended
   community to indicate the associated BGP FlowSpec specifications
   SHOULD be populated to FIB directly.  This bit does not introduce any
   new security issues.  The same security considerations as for the BGP
   FlowSpec [RFC5575] applies.

4.  IANA Considerations

   One bit, F bit, is solicited to be assigned from Traffic Action
   Fields registry.  This bit is used by BGP FlowSpec to indicate the
   associated BGP FlowSpec specifications SHOULD be populated to FIB
   directly.






Li                     Expires September 12, 2017               [Page 3]

Internet-Draft          FlowSpec populate to FIB              March 2017


5.  Normative References

   [I-D.ietf-idr-rfc5575bis]
              Hares, S., Raszuk, R., McPherson, D., Loibl, C., and M.
              Bacher, "Dissemination of Flow Specification Rules",
              draft-ietf-idr-rfc5575bis-00 (work in progress), February
              2017.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <http://www.rfc-editor.org/info/rfc2119>.

   [RFC5575]  Marques, P., Sheth, N., Raszuk, R., Greene, B., Mauch, J.,
              and D. McPherson, "Dissemination of Flow Specification
              Rules", RFC 5575, DOI 10.17487/RFC5575, August 2009,
              <http://www.rfc-editor.org/info/rfc5575>.

Author's Address

   Zhenqiang Li
   China Mobile
   No.32 Xuanwumenxi Ave., Xicheng District
   Beijing  100032
   P.R. China

   Email: li_zhenqiang@hotmail.com
























Li                     Expires September 12, 2017               [Page 4]
