<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>IPv6-to-IPv6 Network Address Translation (NAT66)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="IPv6-to-IPv6 Network Address Translation (NAT66)">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 60em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 60em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Network Working Group</td><td class="header">M. Wasserman</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Painless Security</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">F. Baker</td></tr>
<tr><td class="header">Expires: April 21, 2011</td><td class="header">Cisco Systems</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">October 18, 2010</td></tr>
</table></td></tr></table>
<h1><br />IPv6-to-IPv6 Network Address Translation (NAT66)<br />draft-mrw-nat66-00.txt</h1>

<h3>Abstract</h3>

<p>
This document describes a stateless, transport-agnostic IPv6-to-IPv6
Network Address Translation (NAT66) function that provides the address
independence benefit associated with IPv4-to-IPv4 NAT (NAT44) while
minimizing, but not completely eliminating, the problems associated
with NAT44.
      
</p>
<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted  in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF).  Note that other groups may also distribute
working documents as Internet-Drafts.  The list of current
Internet-Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
This Internet-Draft will expire on April 21, 2011.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2010 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents
(http://trustee.ietf.org/license-info) in effect on the date of
publication of this document.  Please review these documents
carefully, as they describe your rights and restrictions with respect
to this document. Code Components extracted from this document must
include Simplified BSD License text as described in Section 4.e of
the Trust Legal Provisions and are provided without warranty as
described in the Simplified BSD License.</p>
<a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Requirements Terminology<br />
<a href="#anchor2">2.</a>&nbsp;
Introduction<br />
<a href="#anchor3">3.</a>&nbsp;
What is Address Independence?<br />
<a href="#anchor4">4.</a>&nbsp;
NAT66 Applicability<br />
<a href="#anchor5">5.</a>&nbsp;
NAT66 Overview<br />
<a href="#anchor6">6.</a>&nbsp;
Mapping with No Per-Flow State<br />
<a href="#anchor7">7.</a>&nbsp;
Checksum-Neutral Mapping<br />
<a href="#anchor8">8.</a>&nbsp;
NAT66 Prefix Mapping<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor9">8.1.</a>&nbsp;
Prefix Mapping Example<br />
<a href="#anchor10">9.</a>&nbsp;
Address Mapping for Longer Prefixes<br />
<a href="#anchor11">10.</a>&nbsp;
Prefixes for Internal Addressing<br />
<a href="#anchor12">11.</a>&nbsp;
NAT Behavioral Requirements<br />
<a href="#anchor13">12.</a>&nbsp;
A Note on Port Mapping<br />
<a href="#anchor14">13.</a>&nbsp;
Security Considerations<br />
<a href="#anchor15">14.</a>&nbsp;
IANA Considerations<br />
<a href="#anchor16">15.</a>&nbsp;
Acknowledgements<br />
<a href="#anchor17">16.</a>&nbsp;
Change Log<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor18">16.1.</a>&nbsp;
Changes Between draft-mrw-behave-nat66-00 and -01<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor19">16.2.</a>&nbsp;
Changes between *behave-nat66-01 and -02<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor20">16.3.</a>&nbsp;
Changes between *behave-nat66-02 and *nat66-00<br />
<a href="#rfc.references1">17.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">17.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">17.2.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Requirements Terminology</h3>

<p>
The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
"SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
document are to be interpreted as described in RFC 2119 <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.
      
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Introduction</h3>

<p>
This document describes a stateless, transport-agnostic IPv6-to-IPv6
Network Address Translation (NAT66) function that provides the address
independence benefit associated with IPv4-to-IPv4 NAT (NAT44) while
minimizing, but not completely eliminating, the problems associated
with NAT44.
      
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
What is Address Independence?</h3>

<p>
As used in this document, IPv6 Address Independence consists of the
following set of local network properties:
        </p>
<ul class="text">
<li>
The IPv6 addresses in use inside the local network (for nodes, ACLs,
logs) do not need to be renumbered if the ISP changes a site's
external address prefix.
        
</li>
<li>
The IPv6 addresses in use inside the local network (for nodes, ACLs,
logs) or within other connected networks (such as a second ISP for
multihoming) do not need to be renumbered when a site changes ISPs.
        
</li>
<li>
It is not necessary for an administrator to convince an ISP to route
his or her internal IPv6 addresses.
        
</li>
</ul><p>
This address independence requirement has been a primary driver for
IPv4 NAT deployment in medium to large-sized enterprise networks,
including NAT deployments in enterprises that have plenty of IPv4
provider-independent address space (from IPv4 "swamp space").
        
</p>
<p>
The Local Network Protection document <a class='info' href='#RFC4864'>[RFC4864]<span> (</span><span class='info'>Van de Velde, G., Hain, T., Droms, R., Carpenter, B., and E. Klein, &ldquo;Local Network Protection for IPv6,&rdquo; May&nbsp;2007.</span><span>)</span></a>
discusses a related concept called "Address Autonomy" as a benefit of
NAT44.  RFC 4864 indicates that address autonomy can be achieved by
the simultaneous use of global addresses on all nodes within a site
that need external connectivity, and Unique Local Addresses (ULAs)
<a class='info' href='#RFC4193'>[RFC4193]<span> (</span><span class='info'>Hinden, R. and B. Haberman, &ldquo;Unique Local IPv6 Unicast Addresses,&rdquo; October&nbsp;2005.</span><span>)</span></a> for all internal communication.  However,
this solution fails to meet the requirement for address independence,
because if an ISP renumbering event occurs, all of the hosts, routers,
DHCP servers, ACLs, firewalls and other internal systems that are
configured with global addresses from the ISP will need to be
renumbered before global connectivity is fully restored.
       
</p>
<p>
The use of IPv6 Provider Independent (PI) addresses has also been
suggested as a means to fulfill the address independence requirement.
However, this solution requires that an enterprise qualify to receive
a PI assignment and persuade their ISP to install specific routes for
the enterprise's PI addresses.  There are a number of practical issues
with this approach, especially if there is a desire to route to a
number of geographically and topologically diverse set of sites, which
can sometimes involve coordinating with several ISPs to route portions
of a single PI prefix.  These problems have caused numerous
enterprises with plenty of IPv4 swamp space to choose to use IPv4 NAT
for part, or substantially all, of their internal network instead of
using their provider-independent address space.
      
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
NAT66 Applicability</h3>

<p>
NAT66 provides a simple and compelling solution to meet the Address
Independence requirement in IPv6.  The address independence benefit
stems directly from the translation function of the network address
translator. To avoid as many of the issues associated with NAT44 as
possible, NAT66 is defined to include a two-way, checksum-neutral,
algorithmic translation function, and nothing else.
      
</p>
<p>
NAT66 does not include a port mapping function, and the defined
address mapping mechanism is checksum-neutral. This avoids the need
for a NAT66 device to re-write transport layer headers, making it
feasible to deploy new or improved transport layer protocols without
upgrading NAT66 devices.  Because NAT66 does not involve re-writing
transport-layer headers, NAT66 will not interfere with encrypting the
full IP payload in many cases.
      
</p>
<p>
The default NAT66 address mapping mechanism is purely algorithmic, so
NAT66 devices do not need to maintain per-node or per-connection
state, allowing deployment of more robust and adaptive networks than
can be deployed using NAT44.  Since the default NAT66 mapping can be
performed in either direction, it does not interfere with inbound
connection establishment, thus allowing internal nodes to participate
in direct peer-to-peer applications.
      
</p>
<p>
Although NAT66 compares favorably to NAT44 in several ways, it does
not eliminate all of the architectural problems associated with IPv4
NAT, as described in <a class='info' href='#RFC2993'>[RFC2993]<span> (</span><span class='info'>Hain, T., &ldquo;Architectural Implications of NAT,&rdquo; November&nbsp;2000.</span><span>)</span></a>. NAT66 involves
modifying IP headers in transit, so it is not compatible with security
mechanisms that involve end-to-end encryption of the IP header, or
mechanisms, such as AH, that provide integrity protection for the IP
header. NAT66 may interfere with the use of application protocols that
transmit IP addresses in the application-specific portion of the IP
packet.  These applications currently require application layer
gateways (ALGs) to work correctly through NAT44 devices, and similar
ALGs may be required for these applications to work through NAT66
devices.  The use of separate internal and external address prefixes
creates complexity for DNS deployment, due the desire for internal
nodes to communicate with other internal nodes using internal
addresses, while external nodes need to obtain external addresses to
communicate with the same nodes.  Typically, this results in the
deployment of "split DNS", which may add complexity to network
configuration.
      
</p>
<p>
There are significant technical impacts associated with the
deployment of any address translation mechanism, including NAT66, and
we strongly encourage anyone who is considering the implementation or
deployment of NAT66 to read RFC 4864 <a class='info' href='#RFC4864'>[RFC4864]<span> (</span><span class='info'>Van de Velde, G., Hain, T., Droms, R., Carpenter, B., and E. Klein, &ldquo;Local Network Protection for IPv6,&rdquo; May&nbsp;2007.</span><span>)</span></a>, and to
carefully consider the alternatives described in that document, some
of which may cause fewer problems than NAT66.
      
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
NAT66 Overview</h3>

<p>
NAT66 may be implemented in an IPv6 router to map one IPv6 address
prefix to another IPv6 address prefix as each IPv6 packet transits the
router.  A router that implements a NAT66 function is referred to as a
NAT66 device.
      
</p>
<p>
In its simplest form, a NAT66 device will be attached to two network
links, one of which is an "internal" network link attached to a leaf
network within a single administrative domain, and the other of which
is an "external" network with connectivity to the global Internet.
All of the hosts on the internal network will use addresses from a
single, locally-routed prefix, and those addresses will be translated
to/from addresses in a globally-routable prefix as IP packets transit
the NAT66 device.
      
</p>
<p>
The following picture shows a NAT66 device attached to two networks.
In this example, the internal network uses IPv6 Unique Local
Addresses (ULAs) <a class='info' href='#RFC4193'>[RFC4193]<span> (</span><span class='info'>Hinden, R. and B. Haberman, &ldquo;Unique Local IPv6 Unicast Addresses,&rdquo; October&nbsp;2005.</span><span>)</span></a> to represent the internal
IPv6 nodes, and the external network uses globally routable IPv6
addresses to represent the same nodes.
      
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>


     External Network:  Prefix = 2001:0DB8:0001:/48
         --------------------------------------
                           |
                           |
                      +---------+
                      |  NAT66  |
                      |  Device |
                      +---------+
                           |
                           |
         --------------------------------------
     Internal Network:  Prefix = FD01:0203:0405:/48


</pre></div>
<p>
When a NAT66 device forwards packets in the "outbound" direction, from
the internal network to the external network, NAT66 overwrites the
IPv6 source address (in the IPv6 header) with a corresponding address
from the external prefix.  When packets are forwarded in the "inbound"
direction, from the external network to the internal network, the IPv6
destination address is overwritten with a corresponding address in the
internal prefix.  Using the prefixes shown in the diagram above, as an
IP packet passes through the NAT66 device in the outbound direction, the
source address prefix (FD01:0203:0405:/48) will be overwritten with
the external address prefix (2001:0DB8:0001:/48).  In an inbound
packet, the destination prefix (2001:0DB8:0001:/48) will be
overwritten with the internal network prefix (FD01:0203:0405:/48).  In
both cases, it is the local IPv6 address that is overwritten; the
remote IPv6 address remains unchanged.  Nodes on the internal network
are said to be "behind" the NAT66 device.
      
</p>
<p>
NAT66 can also be used between two private networks.  In these
cases, both networks may use ULA prefixes, with each subnet in one
network mapped into a corresponding subnet in the other network, and
vice versa.  Or, each network may use ULA prefixes for internal
addressing, and global unicast addresses on the other network.  
      
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>



         Internal Prefix = FD01:4444:5555:/48
         --------------------------------------
              V            |      External Prefix
              V            |      2001:0DB8:6666:/48
              V        +---------+      ^
              V        |  NAT66  |      ^
              V        |  Device |      ^
              V        +---------+      ^
     External Prefix       |            ^
     2001:0DB8:0001:/48    |            ^
         --------------------------------------
         Internal Prefix = FD01:0203:0405:/48


</pre></div>
<p>
In some cases, more than one NAT66 device may be attached to a
network.  In those cases, NAT66 devices may be configured with
the same internal and external prefixes, or they may be configured
with the same internal prefix and different external prefixes.
      
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>


     External Network:  Prefix = 2001:0DB8:0001:/48
         --------------------------------------
              |                      |
              |                      |
         +---------+            +---------+
         |  NAT66  |            |  NAT66  |
         |  Device |            |  Device |
         |   #1    |            |   #2    |
         +---------+            +---------+
              |                      |
              |                      |
         --------------------------------------
     Internal Netowrk:  Prefix = FD01:0203:0405:/48


</pre></div><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>



   External Network #1:          External Network #2:
Prefix = 2001:0DB8:0001:/48    Prefix = 2001:0DB8:5555:/48
---------------------------    --------------------------
              |                          |
              |                          |
         +---------+                +---------+
         |  NAT66  |                |  NAT66  |
         |  Device |                |  Device |
         |   #1    |                |   #2    |
         +---------+                +---------+
              |                          |
              |                          |
         --------------------------------------
     Internal Netowrk:  Prefix = FD01:0203:0405:/48


</pre></div>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Mapping with No Per-Flow State</h3>

<p>
When NAT66 is used as described in this document, no per-node or per-flow
state is maintained in the NAT66 device.  Both inbound and outbound
packets are translated algorithmically, using only information found
in the IPv6 header.  Due to this property, NAT66's two-way, algorithmic
address mapping can support both outbound and inbound connection
establishment without the need for state-priming or rendevous
mechanisms.  This is a significant improvement over NAT44 devices, but
it also has significant security implications which are described in the
Security Considerations section.
    
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Checksum-Neutral Mapping</h3>

<p>
When a change is made to one of the IP header fields in the IPv6
pseudo-header checksum (such as one of the IP addresses), the checksum 
field in the transport layer header may become invalid.  Fortunately, 
an incremental change in the area covered by the Internet standard
checksum <a class='info' href='#RFC1071'>[RFC1071]<span> (</span><span class='info'>Braden, R., Borman, D., Partridge, C., and W. Plummer, &ldquo;Computing the Internet checksum,&rdquo; September&nbsp;1988.</span><span>)</span></a> will result in a well-defined change
to the checksum value <a class='info' href='#RFC1624'>[RFC1624]<span> (</span><span class='info'>Rijsinghani, A., &ldquo;Computation of the Internet Checksum via Incremental Update,&rdquo; May&nbsp;1994.</span><span>)</span></a>.  So, a checksum change
caused by modifying part of the area covered by the checksum can
be corrected by making a complementary change to a different 16-bit
field covered by the same checksum.
	
</p>
<p>
The NAT66 mapping mechanisms described in this document are
checksum-neutral, which means that they result in IP headers that will
generate the same IPv6 pseudo-header checksum when the checksum is
calculated using the standard Internet checksum algorithm
<a class='info' href='#RFC1071'>[RFC1071]<span> (</span><span class='info'>Braden, R., Borman, D., Partridge, C., and W. Plummer, &ldquo;Computing the Internet checksum,&rdquo; September&nbsp;1988.</span><span>)</span></a>.  Any changes that are made during
translation of the IPv6 prefix are offset by changes to other parts of
the IPv6 address.  This results in transport layers that use the
Internet checksum (such as TCP and UDP) calculating the same IPv6
pseudo header checksum for both the internal and external forms of the
same packet, which avoids the need for the NAT66 device to modify those
transport layer headers to correct the checksum value.
	
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
NAT66 Prefix Mapping</h3>

<p>
When a NAT66 device is configured with internal and external prefixes 
that are 48 bits (a /48) or shorter, the NAT66 Prefix Mapping described 
in this section MUST be used.  All NAT66 devices MUST support
NAT66 prefix mapping.

</p>
<p>
To produce a checksum neutral transformation, the NAT66 device
calculates the 16-bit one's complement sum of both the internal and
external IPv6 prefixes, as described above.  The difference between the 
original and mapped prefix checksums is calculated using 16-bit one's 
complement arithmetic, and the difference is added to the original
value of thes subnet value in bits 33-48 (inclusive) of the address.  
If the resulting value is 0xFFFF, it is changed to 0x0000. 
    
</p>
<p>
This mapping results in no modification of the Interface Identifier
(IID), which is held in the lower half of the IPv6 address, so it will
not interfere with future protocols that may use unique IIDs for node
identification.  However, use of this mapping is restricted to cases 
where both the internal and external prefixes are 48 bits long (a /48) 
or shorter, leaving at least 16 subnet bits that can be modified to 
ensure checksum neutrality. The NAT66 Address mapping described below
handles cases where longer prefixes are in use.
    
</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.1"></a><h3>8.1.&nbsp;
Prefix Mapping Example</h3>

<p>
For the network shown in the first example diagram in the NAT66
Overview section above, we might have the following example:
	
</p>
<p>
Internal Prefix:  FD01:0203:0405:/48
External Prefix:  2001:0DB8:0001:/48
	
</p>
<p>
If a node with internal address FD01:0203:0405:0001::1234 sends an
outbound packet through the NAT66 device, the resulting external
address will be 2001:0DB8:0001:D550::1234.  The resulting address is
obtained by calculating the checksum of both the internal and external
48-bit prefixes, sutracting the internal prefix from the external
prefix using one's complement arithmetic and adding the result to the
16-bit subnet field (in this case 0x0001).
	
</p>
<p>
To show the work:
	
</p>
<p>
The one's complement checksum of FD01:0203:0405 is 0xFCF5.
The one's complement checksum of 2001:0DB8:0001 is 0xD245.
Using one's complement math, 0xD245 - 0xFCF5 = 0xD54F.
The subnet mask in the original packet is 0x0001.
Using one's complement math, 0x0001 + 0xD54F = 0xD550.
Since 0xD550 != 0xFFFF, it is not changed to 0x0000.
	
</p>
<p>
So, the value 0xD550 is written in the 16-bit subnet mask area,
resulting in a mapped external address of 2001:0DB8:0001:D550::1234.
	
</p>
<p>
When a response packet is received, it will contain the 
destination address 2001:0DB8:0001:D550::0001, which will be 
mapped using the same mapping algorithm, back to 
FD01:0203:0405:0001::1234.
	
</p>
<p>
In this case, the difference between the two prefixes will be 
calculated as follows:
	
</p>
<p>
Using one's complement math,  0xFCF5 - 0xD245 = 0x2AB0.
The subnet mask in the original packet = 0xD550.
Using one's complement math, 0xD550 + 0x2AB0 = 0x0001.
Since 0x0001 != 0xFFFF, it is not changed to 0x0000.
	
</p>
<p>
So the value 0x0001 is written into the subnet field, and the 
internal value of the subnet field is properly restored.
	
</p>
<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
Address Mapping for Longer Prefixes</h3>

<p>
In some cases, it may desireable to use NAT66 with global prefixes 
longer than /48.  In those cases, the checksum correction will need
to be performed in the IID portion (the lower 64-bits) of the address, 
because the subnet portion of the address is not 16 bits or longer.  This 
section describes a two-way, algorithmic, checksum neutral mapping algorithm
for those cases.  NAT66 devices will only use this algorithm when mapping 
addresses with prefixes longer than 48 bits.  All NAT66 devices 
SHOULD implement the address mapping algorithm described in this section.
    
</p>
<p>
The address mapping algorithm consists of finding a 16-bit
portion of the IID that does not contain the value 0xFFFF, and 
performing the checksum correction (as described above) in that 
portion of the IID.  Since all NAT66 devices will use the same 
algorithm to select the location of the checksum correction, the 
mapping algorithm will continue to be fully reversible.
    
</p>
<p>
The algorithm for finding a location for the checksum correction consists
of checking the highest order 16-bits of the IID (bits 65-80 of the address).
If those 16-bits do not equal 0xFFFF, the checksum correction value is 
added to those bits.  If those bits are equal to OxFFFF, the next 16 bits
(bits 81-96) are checked.  If they do not equal 0xFFFF, the checksum 
correction is added to those bits.  If necessary this check is performed
for the remaining 16-bit values (bits 97-112 and bits 113-128) in 
succession.  Since the checksum correction algorithm cannot result in
a value of 0xFFFF, running this algorithm in the other direction will
result in the same IID used in the original packet.
    
</p>
<p>
Although any 16-bit portion of an IPv6 IID could contain 0xFFFF, 
an IID of all-ones is a reserved anycast identifier that should not be
used on the network <a class='info' href='#RFC2526'>[RFC2526]<span> (</span><span class='info'>Johnson, D. and S. Deering, &ldquo;Reserved IPv6 Subnet Anycast Addresses,&rdquo; March&nbsp;1999.</span><span>)</span></a>.  If a NAT66 device discovers a 
packet with an IID of all-zeros while performing address mapping, that packet 
MUST be dropped, and an ICMPv6 Parameter Problem error SHOULD be generated
<a class='info' href='#RFC2463'>[RFC2463]<span> (</span><span class='info'>Conta, A. and S. Deering, &ldquo;Internet Control Message Protocol (ICMPv6) for the Internet Protocol Version 6 (IPv6) Specification,&rdquo; December&nbsp;1998.</span><span>)</span></a>.
    
</p>
<p>
Note: this mechanism does involve modification of the IID, so it may 
not be compatible with future mechanisms that use unique IIDs for 
node identification.
    
</p>
<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10"></a><h3>10.&nbsp;
Prefixes for Internal Addressing</h3>

<p>
NAT66 devices MUST support manual configuration of internal and
external address prefixes, and MUST NOT place any restrictions on
those prefixes except that they be valid IPv6 unicast address
prefixes, as described in <a class='info' href='#RFC4291'>[RFC4291]<span> (</span><span class='info'>Hinden, R. and S. Deering, &ldquo;IP Version 6 Addressing Architecture,&rdquo; February&nbsp;2006.</span><span>)</span></a>.
    
</p>
<a name="anchor12"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11"></a><h3>11.&nbsp;
NAT Behavioral Requirements</h3>

<p>
NAT66 devices MUST support hairpinning behavior, as defined in the NAT
Behavioral Requirements for UDP document <a class='info' href='#RFC4787'>[RFC4787]<span> (</span><span class='info'>Audet, F. and C. Jennings, &ldquo;Network Address Translation (NAT) Behavioral Requirements for Unicast UDP,&rdquo; January&nbsp;2007.</span><span>)</span></a>. This 
means that when a NAT66 device receives a packet on the internal 
interface that has a destination address that matches the site's external 
prefix, it will translate the packet and forward it internally.  This 
allows internal nodes to reach other internal nodes using their external, 
global addresses when necessary.
      
</p>
<p>
Because NAT66 does not perform port mapping and uses a one-to-one, 
reversible mapping algorithm, none of the other NAT behavioral 
requirements apply to NAT66.        
      
</p>
<p>
NAT66 devices that do not have a manually configured internal prefix
SHOULD randomly generate a ULA prefix for the internal network and
advertise that prefix in router advertisements.  NAT66 devices with more
than one internal interface SHOULD assign a (non-0xFFFF) subnet number
to each link, and include the subnet number in router advertisements
on the corresponding link.  NAT66 devices that generate a ULA prefix
MUST generate the prefix using a random number as described in RFC4291
<a class='info' href='#RFC4193'>[RFC4193]<span> (</span><span class='info'>Hinden, R. and B. Haberman, &ldquo;Unique Local IPv6 Unicast Addresses,&rdquo; October&nbsp;2005.</span><span>)</span></a>, and SHOULD store the randomly generated
prefix is non-volatile storage for continued use.
      
</p>
<a name="anchor13"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.12"></a><h3>12.&nbsp;
A Note on Port Mapping</h3>

<p>
In addition to overwriting IP addresses when packets are forwarded,
NAT44 devices often overwrite the source port number in outbound
traffic, and the destination port number in inbound traffic.  This
mechanism is called "port mapping".
      
</p>
<p>
The major benefit of port mapping is that it allows multiple computers
to share a single IPv4 address. A large number of internal IPv4
addresses (typically from the 10.0.0.0/8 prefix) can be mapped into a
single external, globally routable IPv4 address, with the local port
number used to identify which internal node should receive each
inbound packet. This address amplification feature should not be
needed in IPv6, where every attached network should be assigned at
least a /48 prefix, leaving room for 16 subnet bits and a 64 bit
Interface Identifier <a class='info' href='#RFC3587'>[RFC3587]<span> (</span><span class='info'>Hinden, R., Deering, S., and E. Nordmark, &ldquo;IPv6 Global Unicast Address Format,&rdquo; August&nbsp;2003.</span><span>)</span></a>.
      
</p>
<p>
Since port mapping requires re-writing a portion of the transport
layer header, it requires NAT66 devices to be aware of all of the
transport protocols that they forward, thus stifling the development
of new and improved transport protocols.  Modifying the transport
layer header is incompatible with security mechanisms that encrypt the
full IP payload, and restricts the NAT66 device to forwarding
transport layers that use weak checksum algorithms that are easily
recalculated in routers.  Since there is significant detriment caused
by modifying transport layer headers and very little, if any, benefit
to the use of port mapping in IPv6, NAT66 devices that comply with
this specification MUST NOT perform port mapping.
      
</p>
<a name="anchor14"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.13"></a><h3>13.&nbsp;
Security Considerations</h3>

<p>
When NAT66 is deployed using either of the two-way, algorithmic mappings
defined in the document, it allows direct inbound connections to
internal nodes.  While this can be viewed as a benefit of NAT66
vs. NAT44, it does open internal nodes to attacks that would not be
possible in a NAT44 network.  Although this situation is not
substantially worse, from a security standpoint, than running IPv6
with no NAT, some enterprises may assume that a NAT66 device will
offer similar protection to a NAT44 device.  For this reason, it is
RECOMMENDED that NAT66 devices include an IPv6 firewall function, and
the firewall function SHOULD be configured by default to block all
incoming connections.  Administrators could then enable inbound
connectivity for specific ports by reconfiguring the firewall.
      
</p>
<a name="anchor15"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.14"></a><h3>14.&nbsp;
IANA Considerations</h3>

<p>
This document has no IANA considerations.
      
</p>
<a name="anchor16"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.15"></a><h3>15.&nbsp;
Acknowledgements</h3>

<p>
The checksum-neutral algorithmic address mapping described in this
document is based on e-mail written by Iljtsch Van Beijnum.  
      
</p>
<p>
The following people provided advice or review comments that
substantially improved this document: Jari Arrko, Iljtsch Van Beijnum,
Remi Depres, Tony Hain, Ed Jankiewicz, Dave Thaler, Mark Townsley.
      
</p>
<p>
This document was written using the xml2rfc tool described in RFC 2629
<a class='info' href='#RFC2629'>[RFC2629]<span> (</span><span class='info'>Rose, M., &ldquo;Writing I-Ds and RFCs using XML,&rdquo; June&nbsp;1999.</span><span>)</span></a>.
      
</p>
<a name="anchor17"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.16"></a><h3>16.&nbsp;
Change Log</h3>

<a name="anchor18"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.16.1"></a><h3>16.1.&nbsp;
Changes Between draft-mrw-behave-nat66-00 and -01</h3>

<p>
There were several minor changes made between the *behave-nat66-00 and 
-01 versions of this draft:
        </p>
<ul class="text">
<li> Added Fred Baker as a co-author.
</li>
<li> Minor mathematical corrections.
</li>
<li> Added AH to paragraph on NAT security issues. 
</li>
<li> Added additional NAT topologies to overview (diagrams TBD). 
</li>
</ul><p>  
        
</p>
<a name="anchor19"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.16.2"></a><h3>16.2.&nbsp;
Changes between *behave-nat66-01 and -02</h3>

<p>
There were further changes made between *behave-nat66-01 and -02:
        </p>
<ul class="text">
<li> Removed topology hiding mechanism.
</li>
<li> Added diagrams.
</li>
<li> Made minor updates based on mailing list feedback.
</li>
<li> Added discussion of IPv6 SAF document.
</li>
<li> Added applicability section. 
</li>
<li> Added discussion of Address Independence requirement.
</li>
<li> Added hairpining requirement and discussion of
applicability of other NAT behavioral requirements.
          
</li>
</ul><p>
	
</p>
<a name="anchor20"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.16.3"></a><h3>16.3.&nbsp;
Changes between *behave-nat66-02 and *nat66-00</h3>

<p>
There were further changes made between behave-nat66-02 and nat66-02:
        </p>
<ul class="text">
<li> Added mapping for prefixes longer than /48.
</li>
<li> Change draft name to remove reference to the behave WG.
</li>
<li> Resolved various open issues and fixed typos.
</li>
</ul><p>
	
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.17"></a><h3>17.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>17.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC1071">[RFC1071]</a></td>
<td class="author-text">Braden, R., Borman, D., Partridge, C., and W. Plummer, &ldquo;<a href="http://tools.ietf.org/html/rfc1071">Computing the Internet checksum</a>,&rdquo; RFC&nbsp;1071, September&nbsp;1988 (<a href="http://www.rfc-editor.org/rfc/rfc1071.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC1624">[RFC1624]</a></td>
<td class="author-text"><a href="mailto:anil@levers.enet.dec.com">Rijsinghani, A.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc1624">Computation of the Internet Checksum via Incremental Update</a>,&rdquo; RFC&nbsp;1624, May&nbsp;1994 (<a href="http://www.rfc-editor.org/rfc/rfc1624.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2463">[RFC2463]</a></td>
<td class="author-text"><a href="mailto:aconta@lucent.com">Conta, A.</a> and <a href="mailto:deering@cisco.com">S. Deering</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2463">Internet Control Message Protocol (ICMPv6) for the Internet Protocol Version 6 (IPv6) Specification</a>,&rdquo; RFC&nbsp;2463, December&nbsp;1998 (<a href="http://www.rfc-editor.org/rfc/rfc2463.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2463.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2463.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2526">[RFC2526]</a></td>
<td class="author-text"><a href="mailto:dbj@cs.cmu.edu">Johnson, D.</a> and <a href="mailto:deering@cisco.com">S. Deering</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2526">Reserved IPv6 Subnet Anycast Addresses</a>,&rdquo; RFC&nbsp;2526, March&nbsp;1999 (<a href="http://www.rfc-editor.org/rfc/rfc2526.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3587">[RFC3587]</a></td>
<td class="author-text">Hinden, R., Deering, S., and E. Nordmark, &ldquo;<a href="http://tools.ietf.org/html/rfc3587">IPv6 Global Unicast Address Format</a>,&rdquo; RFC&nbsp;3587, August&nbsp;2003 (<a href="http://www.rfc-editor.org/rfc/rfc3587.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4193">[RFC4193]</a></td>
<td class="author-text">Hinden, R. and B. Haberman, &ldquo;<a href="http://tools.ietf.org/html/rfc4193">Unique Local IPv6 Unicast Addresses</a>,&rdquo; RFC&nbsp;4193, October&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc4193.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4291">[RFC4291]</a></td>
<td class="author-text">Hinden, R. and S. Deering, &ldquo;<a href="http://tools.ietf.org/html/rfc4291">IP Version 6 Addressing Architecture</a>,&rdquo; RFC&nbsp;4291, February&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4291.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4787">[RFC4787]</a></td>
<td class="author-text">Audet, F. and C. Jennings, &ldquo;<a href="http://tools.ietf.org/html/rfc4787">Network Address Translation (NAT) Behavioral Requirements for Unicast UDP</a>,&rdquo; BCP&nbsp;127, RFC&nbsp;4787, January&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc4787.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>17.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="I-D.thaler-ipv6-saf">[I-D.thaler-ipv6-saf]</a></td>
<td class="author-text">Thaler, D., &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-thaler-ipv6-saf-02.txt">Source Address Finding (SAF) for IPv6 Translation Mechanisms</a>,&rdquo; draft-thaler-ipv6-saf-02 (work in progress), July&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-thaler-ipv6-saf-02.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2629">[RFC2629]</a></td>
<td class="author-text"><a href="mailto:mrose@not.invisible.net">Rose, M.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2629">Writing I-Ds and RFCs using XML</a>,&rdquo; RFC&nbsp;2629, June&nbsp;1999 (<a href="http://www.rfc-editor.org/rfc/rfc2629.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2629.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2629.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2993">[RFC2993]</a></td>
<td class="author-text">Hain, T., &ldquo;<a href="http://tools.ietf.org/html/rfc2993">Architectural Implications of NAT</a>,&rdquo; RFC&nbsp;2993, November&nbsp;2000 (<a href="http://www.rfc-editor.org/rfc/rfc2993.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4864">[RFC4864]</a></td>
<td class="author-text">Van de Velde, G., Hain, T., Droms, R., Carpenter, B., and E. Klein, &ldquo;<a href="http://tools.ietf.org/html/rfc4864">Local Network Protection for IPv6</a>,&rdquo; RFC&nbsp;4864, May&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc4864.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Margaret Wasserman</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Painless Security</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">356 Abbott Street</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">North Andover, MA  01845</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+1 781 405 7464</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:mrw@painless-security.com">mrw@painless-security.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://www.painless-secuirty.com">http://www.painless-secuirty.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Fred Baker</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Cisco Systems</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Santa Barbara, California  93117</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+1-408-526-4257</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:fred@cisco.com">fred@cisco.com</a></td></tr>
</table>
</body></html>
