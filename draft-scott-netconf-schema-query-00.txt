


                                                                M. Scott
Internet-Draft                                                    Nortel
Intended status: Standards Track                               June 2007
Expires: December 3, 2007


                        Netconf XML Schema Query
                 draft-scott-netconf-schema-query-00.txt

Status of this Memo

   By submitting this Internet-Draft, each author represents that any
   applicable patent or other IPR claims of which he or she is aware
   have been or will be disclosed, and any of which he or she becomes
   aware will be disclosed, in accordance with Section 6 of BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on December 3, 2007.

Copyright Notice

   Copyright (C) The IETF Trust (2007).














Scott                   Expires December 3, 2007                [Page 1]

Internet-Draft              Abbreviated Title                  June 2007


Abstract

   This document defines a mechanism to retrieve a list of XML Schemas
   supported by a NETCONF server.  This is an optional capability built
   on top of the base NETCONF definition.  This document defines the
   capabilities and operations necessary to support this service.


Table of Contents

   1.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  3
     1.1.  Requirements . . . . . . . . . . . . . . . . . . . . . . .  3
       1.1.1.  Requirements notation  . . . . . . . . . . . . . . . .  3
   2.  Capability Identifier  . . . . . . . . . . . . . . . . . . . .  4
   3.  Options  . . . . . . . . . . . . . . . . . . . . . . . . . . .  5
     3.1.  New Operation  . . . . . . . . . . . . . . . . . . . . . .  5
       3.1.1.  <list-schema>  . . . . . . . . . . . . . . . . . . . .  5
     3.2.  Design Alternative:  Retrieve using existing operations  .  6
       3.2.1.  <get>  . . . . . . . . . . . . . . . . . . . . . . . .  6
   4.  Security Considerations  . . . . . . . . . . . . . . . . . . .  8
   5.  Normative References . . . . . . . . . . . . . . . . . . . . .  9
   Author's Address . . . . . . . . . . . . . . . . . . . . . . . . . 10
   Intellectual Property and Copyright Statements . . . . . . . . . . 11




























Scott                   Expires December 3, 2007                [Page 2]

Internet-Draft              Abbreviated Title                  June 2007


1.  Introduction

   The [NETCONF] protocol defines the capability mechanism to discover
   at run-time what protocol features are supported by a particular
   NETCONF server.  This memo defines a mechanism to be able to discover
   all possible data models (XML Schemas) dynamically from a [NETCONF]
   server.

   This memo introduces Schema query as a capability into [NETCONF]
   protocol.

1.1.  Requirements

1.1.1.  Requirements notation

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [RFC2119].  The
   following will be introduced in [NETCONF] protocol.

   o  a means to advertise the list of supported Schema

   o  a means to advertise the versions of supported Schema

   o  a means to advertise the availability/location of support Schema


























Scott                   Expires December 3, 2007                [Page 3]

Internet-Draft              Abbreviated Title                  June 2007


2.  Capability Identifier

   urn:ietf:params:netconf:capability:list-schema:1.0
















































Scott                   Expires December 3, 2007                [Page 4]

Internet-Draft              Abbreviated Title                  June 2007


3.  Options

3.1.  New Operation

3.1.1.  <list-schema>

   The <list-schema> operation allows the client to request the list of
   available schema on the managed device.  The response data can be
   used to determine the available schema and their versions.  The
   schema itself (ie. schema content) is not returned in the response.
   A URI to the schema is returned which is used to facilitate the
   retrieval of the schema using a supported mechanism on the device
   such as a [NETCONF] operation or ftp.

   Parameters:

      Identifier:

         Unique identifier of the specific schema for retrieval.  The
         parameter is optional.  A missing parameter or empty target
         will retrieve all available schemas.

   Example: Query all schema on device <list-schema> operation


   <rpc message-id="101"
      xmlns="urn:ietf:params:xml:ns:netconf:base:1.0">
      <list-schema>
      <identifier></identifier>
      </list-schema>
   </rpc>


   The NETCONF server returns a list of XML schema available for
   retrieval: Notification schema in this example.


   <rpc-reply message-id="101"
   xmlns="urn:ietf:params:xml:ns:netconf:base:1.0">
   <data>
   <schemaList xmlns="rn:ietf:params:xml:ns:netconf:base:1.0">
   <schema>
   <identifer>"ietf:params:xml:ns:netconf:notification"</identifer>
   <version&lt;1.0<version>
   <location>ftp://some.accessible.location</location></schema>
   </schemaList>
   </data>
   </rpc-reply>



Scott                   Expires December 3, 2007                [Page 5]

Internet-Draft              Abbreviated Title                  June 2007


   Example: Query a specific schema on device using <list-schema>
   operation


  <rpc message-id="101"
     xmlns="urn:ietf:params:xml:ns:netconf:base:1.0">
     <list-schema>
     <identifer>urn:ietf:params:xml:ns:netcponf:notification</identifer>
     </filter>
    </list-schema>
  </rpc>


   The NETCONF server returns a list of XML schema available for
   retrieval: Notification schema in this example.


   <rpc-reply message-id="101"
   xmlns="urn:ietf:params:xml:ns:netconf:base:1.0">
   <data>
   <schemaList xmlns="rn:ietf:params:xml:ns:netconf:base:1.0">
   <schema>
   <identifer>"ietf:params:xml:ns:netconf:notification"</identifer>
   <version&lt;1.0<version>
   <location>ftp://some.accessible.location</location></schema>
   </schemaList>
   </data>
   </rpc-reply>


3.2.  Design Alternative:  Retrieve using existing operations

3.2.1.  <get>

3.2.1.1.  XML Schema Discovery

   A NETCONF client retrieves the list of supported XML Schema from a
   NETCONF server using the <get> RPC request.

3.2.1.1.1.  XML Schema list retrieval using <get> operation

   The list of available XML Schema is retrieved by requesting the
   <schema> subtree via a <get> operation.  Available scehma for the
   requesting session are returned in the reply containing the
   <identifier> , <version> and <location> elements, where <identifier>
   and <version> elements are mandatory and their values are unique.
   The returned list must only include the names of those schema for
   which the NETCONF session has sufficient privileges.  The NETCONF



Scott                   Expires December 3, 2007                [Page 6]

Internet-Draft              Abbreviated Title                  June 2007


   session privileges are determined via access control mechanisms which
   are beyond the scope of this document.  An empty reply is returned if
   there are no available schema.

   Example: Retrieving available XML schema list using <get> operation


   <rpc message-id="101"
      xmlns="urn:ietf:params:xml:ns:netconf:base:1.0">
      <get>
      <filter type="subtree">
      <schemaList xmlns="urn:ietf:params:xml:ns:netconf:schema"/>
      </filter>
     </get>
   </rpc>


   The NETCONF server returns a list of XML schema available for
   retrieval: Notification schema in this example.


   <rpc-reply message-id="101"
   xmlns="urn:ietf:params:xml:ns:netconf:base:1.0">
   <data>
   <schemaList xmlns="rn:ietf:params:xml:ns:netconf:base:1.0">
   <schema>
   <identifer>"ietf:params:xml:ns:netconf:notification"</identifer>
   <version&lt;1.0<version>
   <location>ftp://some.accessible.location</location></schema>
   </schemaList>
   </data>
   </rpc-reply>



















Scott                   Expires December 3, 2007                [Page 7]

Internet-Draft              Abbreviated Title                  June 2007


4.  Security Considerations

   Although there are no direct security concerns with this operation,
   schemas themselves may provide information about a system that could
   be used to aid an attack on that system.  Care should be taken to
   restrict access to the schema information as appropriate.













































Scott                   Expires December 3, 2007                [Page 8]

Internet-Draft              Abbreviated Title                  June 2007


5.  Normative References

   [NETCONF]  Enns, R., "NETCONF Configuration Protocol", RFC 4741,
              December 2006.

   [RFC2026]  Bradner, S., "The Internet Standards Process -- Revision
              3", RFC 2026, BCP 9, October 1996.

   [RFC2119]  Bradner, s., "Key words for RFCs to Indicate Requirements
              Levels", RFC 2119, March 1997.

   [RFC2223]  Postel, J. and J. Reynolds, "Instructions to RFC Authors",
              RFC 2223, October 1997.

   [XML]      World Wide Web Consortium, "Extensible Markup Language
              (XML) 1.0", W3C XML, February 1998,
              <http://www.w3.org/TR/1998/REC-xml-19980210>.

   [XML Schema]
              Fallside, D. and P. Walmsley, "XML Schema Part 0: Primer
              Second Edition", W3C XML Schema, October 2004.






























Scott                   Expires December 3, 2007                [Page 9]

Internet-Draft              Abbreviated Title                  June 2007


Author's Address

   Mark Scott
   Nortel
   3500 Carling Ave
   Nepean, Ontario  K2H 8E9
   Canada

   Email: markscot@nortel.com










































Scott                   Expires December 3, 2007               [Page 10]

Internet-Draft              Abbreviated Title                  June 2007


Full Copyright Statement

   Copyright (C) The IETF Trust (2007).

   This document is subject to the rights, licenses and restrictions
   contained in BCP 78, and except as set forth therein, the authors
   retain all their rights.

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST AND
   THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS
   OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF
   THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.


Intellectual Property

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in BCP 78 and BCP 79.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   http://www.ietf.org/ipr.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.


Acknowledgment

   Funding for the RFC Editor function is provided by the IETF
   Administrative Support Activity (IASA).





Scott                   Expires December 3, 2007               [Page 11]

