<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>LSP-Ping and BFD encapsulation over ACH</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="LSP-Ping and BFD encapsulation over ACH">
<meta name="keywords" content="Internet-Draft, MPLS-TP OAM, lsp ping">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 60em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 60em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Network Working Group</td><td class="header">N. Bahadur, Ed.</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">R. Aggarwal, Ed.</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">D. Ward, Ed.</td></tr>
<tr><td class="header">Expires: February 23, 2011</td><td class="header">Juniper Networks, Inc.</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">T. Nadeau</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">BT</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">N. Sprecher</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Y. Weingarten</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Nokia Siemens Networks</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">August 22, 2010</td></tr>
</table></td></tr></table>
<h1><br />LSP-Ping and BFD encapsulation over ACH<br />draft-ietf-mpls-tp-lsp-ping-bfd-procedures-01</h1>

<h3>Abstract</h3>

<p>LSP-Ping and BFD for MPLS are existing and widely deployment OAM
      mechanisms for MPLS LSPs. This document describes an ACH encapsulation
      for LSP-Ping, that would enable use of LSP-Ping for networks where IP
      addressing is not in use. This document also clarifies the use of BFD
      for MPLS LSPs using ACH encapsulation, when IP addressing may not be
      available and/or it may not be desirable to encapsulate BFD packets in
      IP.
</p>
<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted  in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF).  Note that other groups may also distribute
working documents as Internet-Drafts.  The list of current
Internet-Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
This Internet-Draft will expire on February 23, 2011.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2010 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents
(http://trustee.ietf.org/license-info) in effect on the date of
publication of this document.  Please review these documents
carefully, as they describe your rights and restrictions with respect
to this document. Code Components extracted from this document must
include Simplified BSD License text as described in Section 4.e of
the Trust Legal Provisions and are provided without warranty as
described in the Simplified BSD License.</p>
<a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#intro">1.</a>&nbsp;
Introduction<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor1">1.1.</a>&nbsp;
Conventions used in this document<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor2">1.2.</a>&nbsp;
LSP-Ping and BFD over ACH<br />
<a href="#anchor3">2.</a>&nbsp;
LSP-Ping extensions<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#ach-header">2.1.</a>&nbsp;
LSP-Ping packet over ACH for LSPs<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#pw-ach-header">2.2.</a>&nbsp;
LSP-Ping packet over ACH for PWs<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#src-addr-tlv">2.3.</a>&nbsp;
Source Address TLV<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">2.4.</a>&nbsp;
MEP and MIP Identifier<br />
<a href="#bfd-mpls-tp">3.</a>&nbsp;
Running BFD over MPLS-TP LSPs<br />
<a href="#anchor5">4.</a>&nbsp;
Security Considerations<br />
<a href="#anchor6">5.</a>&nbsp;
IANA Considerations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">5.1.</a>&nbsp;
New ACH Channel Types<br />
<a href="#rfc.references1">6.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">6.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">6.2.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="intro"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>LSP-Ping <a class='info' href='#RFC4379'>[RFC4379]<span> (</span><span class='info'>Kompella, K. and G. Swallow, &ldquo;Detecting Multi-Protocol Label Switched (MPLS) Data Plane Failures,&rdquo; February&nbsp;2006.</span><span>)</span></a> and BFD for MPLS <a class='info' href='#RFC5884'>[RFC5884]<span> (</span><span class='info'>Aggarwal, R., Kompella, K., Nadeau, T., and G. Swallow, &ldquo;Bidirectional Forwarding Detection (BFD) for MPLS Label Switched Paths (LSPs),&rdquo; June&nbsp;2010.</span><span>)</span></a> are OAM mechanisms for MPLS LSPs. This document
      describes an ACH encapsulation for LSP-Ping for networks that do not use
      IP addressing. When IP addressing is in use, the LSP-Ping procedures
      specified in <a class='info' href='#RFC4379'>[RFC4379]<span> (</span><span class='info'>Kompella, K. and G. Swallow, &ldquo;Detecting Multi-Protocol Label Switched (MPLS) Data Plane Failures,&rdquo; February&nbsp;2006.</span><span>)</span></a> apply as is. This document
      also clarifies the use of BFD for MPLS LSPs using ACH encapsulation
      <a class='info' href='#RFC5586'>[RFC5586]<span> (</span><span class='info'>Bocci, M., Vigoureux, M., and S. Bryant, &ldquo;MPLS Generic Associated Channel,&rdquo; June&nbsp;2009.</span><span>)</span></a>, when IP addressing may not be available
      and/or it may not be desirable to encapsulate BFD packets in IP.
</p>
<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.1"></a><h3>1.1.&nbsp;
Conventions used in this document</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
        "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
        document are to be interpreted as described in <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.2"></a><h3>1.2.&nbsp;
LSP-Ping and BFD over ACH</h3>

<p>In certain MPLS-TP deployment scenarios IP addressing might not be
        available or it may be preferred to use non-IP encapsulation for
        LSP-Ping and BFD packets. The remainder of this document defines
        extensions to LSP-Ping and procedures for using BFD, for such
        scenarios.
</p>
<p><a class='info' href='#ach-header'>Section&nbsp;2.1<span> (</span><span class='info'>LSP-Ping packet over ACH for LSPs</span><span>)</span></a> and <a class='info' href='#pw-ach-header'>Section&nbsp;2.2<span> (</span><span class='info'>LSP-Ping packet over ACH for PWs</span><span>)</span></a> describe a new ACH code-point for
        performing LSP-Ping over ACH. <a class='info' href='#bfd-mpls-tp'>Section&nbsp;3<span> (</span><span class='info'>Running BFD over MPLS-TP LSPs</span><span>)</span></a> describes procedures for using BFD over
        ACH.
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
LSP-Ping extensions</h3>

<a name="ach-header"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.1"></a><h3>2.1.&nbsp;
LSP-Ping packet over ACH for LSPs</h3>

<p><a class='info' href='#RFC5586'>[RFC5586]<span> (</span><span class='info'>Bocci, M., Vigoureux, M., and S. Bryant, &ldquo;MPLS Generic Associated Channel,&rdquo; June&nbsp;2009.</span><span>)</span></a> defines an ACH mechanism for MPLS
        LSPs. This document defines a new ACH channel type for LSP-Ping, when
        IP addressing is not in use, for LSP-Ping over associated
        bi-directional LSPs and co-routed bi-directional LSPs. ACH TLVs MAY be
        associated with this channel type.
</p><br /><hr class="insert" />
<a name="channel-type-fig"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |0 0 0 1|Version|   Reserved    |     LSP-Ping Channel Type     |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;1: LSP-Ping ACH Channel Type&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>
</p>
<p>When ACH header is used, an LSP-Ping packet will look as
        follows:
</p><br /><hr class="insert" />
<a name="lsp-ping-payload-fig"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                         MPLS Label stack                      |
    |                                                               |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                          GAL                                  |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |0 0 0 1|Version|   Reserved    |     LSP-Ping Channel Type     |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                      ACH TLV Header                           |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                          ACH TLVs                             |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                                                               |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                      LSP-Ping payload                         |
    |                                                               |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;2: LSP-Ping packet with ACH&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>When using LSP-Ping over the ACH header, the LSP-Ping Reply mode
        <a class='info' href='#RFC4379'>[RFC4379]<span> (</span><span class='info'>Kompella, K. and G. Swallow, &ldquo;Detecting Multi-Protocol Label Switched (MPLS) Data Plane Failures,&rdquo; February&nbsp;2006.</span><span>)</span></a> in the LSP-Ping echo request MUST be
        set to 4 (Reply via application level control channel).
</p>
<a name="pw-ach-header"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.2"></a><h3>2.2.&nbsp;
LSP-Ping packet over ACH for PWs</h3>

<p><a class='info' href='#RFC4385'>[RFC4385]<span> (</span><span class='info'>Bryant, S., Swallow, G., Martini, L., and D. McPherson, &ldquo;Pseudowire Emulation Edge-to-Edge (PWE3) Control Word for Use over an MPLS PSN,&rdquo; February&nbsp;2006.</span><span>)</span></a> defines an PW-ACH mechanism for
        pseudowires. The ACH channel type for LSP-Ping defined in <a class='info' href='#ach-header'>Section&nbsp;2.1<span> (</span><span class='info'>LSP-Ping packet over ACH for LSPs</span><span>)</span></a> will be re-used for pseudowires so that IP
        addressing is not needed when using LSP-Ping OAM over pseudowires.
</p>
<a name="src-addr-tlv"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.3"></a><h3>2.3.&nbsp;
Source Address TLV</h3>

<p>When sending LSP-Ping packets using ACH, without IP encapsulation,
        there MAY be a need to identify the source address of the packet. This
        source address will be specified via the Source Address TLV, being
        defined in <a class='info' href='#I-D.ietf-mpls-tp-ach-tlv'>[I&#8209;D.ietf&#8209;mpls&#8209;tp&#8209;ach&#8209;tlv]<span> (</span><span class='info'>Boutros, S., Bryant, S., Sivabalan, S., Swallow, G., Ward, D., and V. Manral, &ldquo;Definition of ACH TLV Structure,&rdquo; March&nbsp;2010.</span><span>)</span></a>. No more
        than 1 source address TLV MAY be present in a LSP-Ping packet. The
        source address MUST specify the address of the originator of the
        packet. If more than 1 such TLV is present in a LSP-Ping request
        packet, then an error code of 1 (Malformed echo request received), [
        Section 3.1 <a class='info' href='#RFC4379'>[RFC4379]<span> (</span><span class='info'>Kompella, K. and G. Swallow, &ldquo;Detecting Multi-Protocol Label Switched (MPLS) Data Plane Failures,&rdquo; February&nbsp;2006.</span><span>)</span></a>], SHOULD be returned. If
        more than 1 source address TLV is present, then the packet SHOULD be
        dropped without further processing.
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.4"></a><h3>2.4.&nbsp;
MEP and MIP Identifier</h3>

<p>When sending LSP-Ping packets using ACH, there MAY be a need to
        identify the maintenance end point (MEP) and/or the maintenance
        intermediate point (MIP) being monitored <a class='info' href='#I-D.ietf-mpls-tp-rosetta-stone'>[I&#8209;D.ietf&#8209;mpls&#8209;tp&#8209;rosetta&#8209;stone]<span> (</span><span class='info'>Sprecher, N., &ldquo;A Thesaurus for the Terminology used in Multiprotocol Label Switching Transport Profile (MPLS-TP) drafts/RFCs and ITU-T's Transport Network Recommendations.,&rdquo; May&nbsp;2010.</span><span>)</span></a>. The MEP/MIP
        identifiers defined in <a class='info' href='#I-D.ietf-mpls-tp-identifiers'>[I&#8209;D.ietf&#8209;mpls&#8209;tp&#8209;identifiers]<span> (</span><span class='info'>Bocci, M. and G. Swallow, &ldquo;MPLS-TP Identifiers,&rdquo; July&nbsp;2010.</span><span>)</span></a> MAY be carried in the
        ACH TLVs <a class='info' href='#I-D.ietf-mpls-tp-ach-tlv'>[I&#8209;D.ietf&#8209;mpls&#8209;tp&#8209;ach&#8209;tlv]<span> (</span><span class='info'>Boutros, S., Bryant, S., Sivabalan, S., Swallow, G., Ward, D., and V. Manral, &ldquo;Definition of ACH TLV Structure,&rdquo; March&nbsp;2010.</span><span>)</span></a> for
        identification.
</p>
<a name="bfd-mpls-tp"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Running BFD over MPLS-TP LSPs</h3>

<p><a class='info' href='#RFC5884'>[RFC5884]<span> (</span><span class='info'>Aggarwal, R., Kompella, K., Nadeau, T., and G. Swallow, &ldquo;Bidirectional Forwarding Detection (BFD) for MPLS Label Switched Paths (LSPs),&rdquo; June&nbsp;2010.</span><span>)</span></a> describes how BFD can be used for
      Continuity Check of MPLS LSPs. The procedures described in <a class='info' href='#RFC5884'>[RFC5884]<span> (</span><span class='info'>Aggarwal, R., Kompella, K., Nadeau, T., and G. Swallow, &ldquo;Bidirectional Forwarding Detection (BFD) for MPLS Label Switched Paths (LSPs),&rdquo; June&nbsp;2010.</span><span>)</span></a> MUST be used when IP encapsulation is in use.
      This section clarifies the usage of BFD in the context of MPLS-TP LSPs
      when it is not desirable to use IP encapsulation. When using BFD over
      MPLS-TP LSPs, the BFD discriminator MUST either be signaled via LSP-Ping
      or be statically configured. The BFD packets MUST be sent over ACH when
      IP encapsulation is not used.
</p>
<p>This document defines a new ACH channel type for BFD over G-ACH, when
      IP addressing is not in use, for running BFD over associated
      bi-directional LSPs and co-routed bi-directional LSPs. ACH TLVs MAY be
      associated with this channel type.
</p><br /><hr class="insert" />
<a name="bfd-channel-type-fig"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |0 0 0 1|Version|   Reserved    |  BFD over G-ACH Channel Type  |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;3: BFD over G-ACH Channel Type&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>BFD packets, for both directions, MUST be sent over the MPLS-TP LSP
      and IP forwarding SHOULD NOT be used for the reverse path. The format of
      a BFD packet when using it as an OAM tool for MPLS-TP LSPs SHOULD be as
      follows:
</p><br /><hr class="insert" />
<a name="bfd-payload-fig"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                         MPLS Label stack                      |
    |                                                               |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                          GAL                                  |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |0 0 0 1|Version|   Reserved    |  BFD over G-ACH Channel Type  |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                      ACH TLV Header                           |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                            ACH TLVs                           |
    |                                                               |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                          BFD payload                          |
    |                                                               |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;4: BFD packet over MPLS-TP LSPs&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p><a class='info' href='#RFC5885'>[RFC5885]<span> (</span><span class='info'>Nadeau, T. and C. Pignataro, &ldquo;Bidirectional Forwarding Detection (BFD) for the Pseudowire Virtual Circuit Connectivity Verification (VCCV),&rdquo; June&nbsp;2010.</span><span>)</span></a> specifies how BFD can be used over
      MPLS PWs. One MAY use BFD over G-ACH channel type to run BFD over PWs if
      ACH TLV support is needed.
</p>
<p>BFD supports continuous fault monitoring and thus meets the
      pro-active Continuity Check and verification requirement specified in
      <a class='info' href='#RFC5860'>[RFC5860]<span> (</span><span class='info'>Vigoureux, M., Ward, D., and M. Betts, &ldquo;Requirements for Operations, Administration, and Maintenance (OAM) in MPLS Transport Networks,&rdquo; May&nbsp;2010.</span><span>)</span></a>. BFD SHOULD be run pro-actively. This
      function SHOULD be performed between End Points (MEPs) of PWs, LSPs and
      Sections. For point to multipoint Continuity Check, there is work in
      progress on using BFD for P2MP MPLS LSPs ( <a class='info' href='#I-D.katz-ward-bfd-multipoint'>[I&#8209;D.katz&#8209;ward&#8209;bfd&#8209;multipoint]<span> (</span><span class='info'>Katz, D. and D. Ward, &ldquo;BFD for Multipoint Networks,&rdquo; February&nbsp;2009.</span><span>)</span></a>) and this can be leveraged
      for MPLS-TP LSPs as well. Failure of a BFD session over a LSP can be
      used to trigger protection switching or other fault remedial
      procedures.
</p>
<p>When sending BFD packets using ACH, there MAY be a need to identify
      the maintenance end point (MEP) being monitored. The MEP identifier
      defined in <a class='info' href='#I-D.ietf-mpls-tp-identifiers'>[I&#8209;D.ietf&#8209;mpls&#8209;tp&#8209;identifiers]<span> (</span><span class='info'>Bocci, M. and G. Swallow, &ldquo;MPLS-TP Identifiers,&rdquo; July&nbsp;2010.</span><span>)</span></a> can be
      carried in the ACH TLVs <a class='info' href='#I-D.ietf-mpls-tp-ach-tlv'>[I&#8209;D.ietf&#8209;mpls&#8209;tp&#8209;ach&#8209;tlv]<span> (</span><span class='info'>Boutros, S., Bryant, S., Sivabalan, S., Swallow, G., Ward, D., and V. Manral, &ldquo;Definition of ACH TLV Structure,&rdquo; March&nbsp;2010.</span><span>)</span></a>
      for identification.
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Security Considerations</h3>

<p>The draft does not introduce any new security considerations. Those
      discussed in <a class='info' href='#RFC4379'>[RFC4379]<span> (</span><span class='info'>Kompella, K. and G. Swallow, &ldquo;Detecting Multi-Protocol Label Switched (MPLS) Data Plane Failures,&rdquo; February&nbsp;2006.</span><span>)</span></a> are also applicable to this
      document.
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
IANA Considerations</h3>

<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1"></a><h3>5.1.&nbsp;
New ACH Channel Types</h3>

<p>New Channels type are defined in <a class='info' href='#ach-header'>Section&nbsp;2.1<span> (</span><span class='info'>LSP-Ping packet over ACH for LSPs</span><span>)</span></a>
        and <a class='info' href='#bfd-mpls-tp'>Section&nbsp;3<span> (</span><span class='info'>Running BFD over MPLS-TP LSPs</span><span>)</span></a>. IANA is requested to assign
        new values from the "PW Associated Channel Type" registry, as per IETF
        consensus policy.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    Value    Meaning
    -----    -------
     TBD     Associated Channel carries LSP-Ping packet
     TBD     Associated Channel carries BFD over G-ACH

</pre></div>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>6.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4379">[RFC4379]</a></td>
<td class="author-text">Kompella, K. and G. Swallow, &ldquo;<a href="http://tools.ietf.org/html/rfc4379">Detecting Multi-Protocol Label Switched (MPLS) Data Plane Failures</a>,&rdquo; RFC&nbsp;4379, February&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4379.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4385">[RFC4385]</a></td>
<td class="author-text">Bryant, S., Swallow, G., Martini, L., and D. McPherson, &ldquo;<a href="http://tools.ietf.org/html/rfc4385">Pseudowire Emulation Edge-to-Edge (PWE3) Control Word for Use over an MPLS PSN</a>,&rdquo; RFC&nbsp;4385, February&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4385.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>6.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="I-D.ietf-mpls-tp-ach-tlv">[I-D.ietf-mpls-tp-ach-tlv]</a></td>
<td class="author-text">Boutros, S., Bryant, S., Sivabalan, S., Swallow, G., Ward, D., and V. Manral, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-mpls-tp-ach-tlv-02.txt">Definition of ACH TLV Structure</a>,&rdquo; draft-ietf-mpls-tp-ach-tlv-02 (work in progress), March&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-mpls-tp-ach-tlv-02.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-mpls-tp-identifiers">[I-D.ietf-mpls-tp-identifiers]</a></td>
<td class="author-text">Bocci, M. and G. Swallow, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-mpls-tp-identifiers-02.txt">MPLS-TP Identifiers</a>,&rdquo; draft-ietf-mpls-tp-identifiers-02 (work in progress), July&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-mpls-tp-identifiers-02.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-mpls-tp-rosetta-stone">[I-D.ietf-mpls-tp-rosetta-stone]</a></td>
<td class="author-text">Sprecher, N., &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-mpls-tp-rosetta-stone-02.txt">A Thesaurus for the Terminology used in Multiprotocol Label Switching Transport Profile (MPLS-TP) drafts/RFCs and ITU-T's Transport Network Recommendations.</a>,&rdquo; draft-ietf-mpls-tp-rosetta-stone-02 (work in progress), May&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-mpls-tp-rosetta-stone-02.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.katz-ward-bfd-multipoint">[I-D.katz-ward-bfd-multipoint]</a></td>
<td class="author-text">Katz, D. and D. Ward, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-katz-ward-bfd-multipoint-02.txt">BFD for Multipoint Networks</a>,&rdquo; draft-katz-ward-bfd-multipoint-02 (work in progress), February&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-katz-ward-bfd-multipoint-02.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5586">[RFC5586]</a></td>
<td class="author-text">Bocci, M., Vigoureux, M., and S. Bryant, &ldquo;<a href="http://tools.ietf.org/html/rfc5586">MPLS Generic Associated Channel</a>,&rdquo; RFC&nbsp;5586, June&nbsp;2009 (<a href="http://www.rfc-editor.org/rfc/rfc5586.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5860">[RFC5860]</a></td>
<td class="author-text">Vigoureux, M., Ward, D., and M. Betts, &ldquo;<a href="http://tools.ietf.org/html/rfc5860">Requirements for Operations, Administration, and Maintenance (OAM) in MPLS Transport Networks</a>,&rdquo; RFC&nbsp;5860, May&nbsp;2010 (<a href="http://www.rfc-editor.org/rfc/rfc5860.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5884">[RFC5884]</a></td>
<td class="author-text">Aggarwal, R., Kompella, K., Nadeau, T., and G. Swallow, &ldquo;<a href="http://tools.ietf.org/html/rfc5884">Bidirectional Forwarding Detection (BFD) for MPLS Label Switched Paths (LSPs)</a>,&rdquo; RFC&nbsp;5884, June&nbsp;2010 (<a href="http://www.rfc-editor.org/rfc/rfc5884.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5885">[RFC5885]</a></td>
<td class="author-text">Nadeau, T. and C. Pignataro, &ldquo;<a href="http://tools.ietf.org/html/rfc5885">Bidirectional Forwarding Detection (BFD) for the Pseudowire Virtual Circuit Connectivity Verification (VCCV)</a>,&rdquo; RFC&nbsp;5885, June&nbsp;2010 (<a href="http://www.rfc-editor.org/rfc/rfc5885.txt">TXT</a>).</td></tr>
</table>
