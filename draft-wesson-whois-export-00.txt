
Network Working Group                                          R. Wesson
Internet-Draft                                    Alice's Registry, Inc.
Expires: August 30, 2000                                      March 2000


                    Whois Export and Exchange Format
                    draft-wesson-whois-export-00.txt

Status of this Memo

   This document is an Internet-Draft and is in full conformance with
   all provisions of Section 10 of RFC2026.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups. Note that
   other groups may also distribute working documents as
   Internet-Drafts.

   Internet-Drafts are draft documents valid for a maximum of six
   months and may be updated, replaced, or obsoleted by other documents
   at any time. It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

     The list of current Internet-Drafts can be accessed at
     http://www.ietf.org/ietf/1id-abstracts.txt

     The list of Internet-Draft Shadow Directories can be accessed at
     http://www.ietf.org/shadow.html.



   This Internet-Draft will expire on August 30, 2000.

Copyright Notice

   Copyright (C) The Internet Society (2000). All Rights Reserved.

Abstract

   This memo presents a technique for using XML (Extensible Markup
   Language) as a source format exchanging WHOIS data related to Domain
   Registration Information and for the purpose of exporting Registrar
   data into a portable and verifiable format for ICANN mandated
   Registrar Data Escrow.

   Discussion on this Internet-Draft is to be held on the mailing list
   ietf-xml-whois@ar.com, which is hosted by the Alice's Registry, Inc.
   To subscribe, send an email to ietf-xml-whois-request@imc.org, with
   the text "subscribe" as the only word in the body of the mail. There
   is an archive of the mailing list at [7]







Wesson                  Expires August 30, 2000                 [Page 1]

Internet-Draft      Whois Export and Exchange Format          March 2000


Table of Contents

   1.      Introduction . . . . . . . . . . . . . . . . . . . . . . .  3
   2.      Export Format Description  . . . . . . . . . . . . . . . .  4
   2.1     Contact Element  . . . . . . . . . . . . . . . . . . . . .  4
   2.1.1   Name Element . . . . . . . . . . . . . . . . . . . . . . .  4
   2.1.2   Title Element  . . . . . . . . . . . . . . . . . . . . . .  4
   2.1.3   Organization Element . . . . . . . . . . . . . . . . . . .  5
   2.1.4   Address Elements . . . . . . . . . . . . . . . . . . . . .  5
   2.1.4.1 Street Element . . . . . . . . . . . . . . . . . . . . . .  5
   2.1.4.2 City Element . . . . . . . . . . . . . . . . . . . . . . .  5
   2.1.4.3 State Element  . . . . . . . . . . . . . . . . . . . . . .  5
   2.1.4.4 Postal Code Element  . . . . . . . . . . . . . . . . . . .  6
   2.1.4.5 Country Code . . . . . . . . . . . . . . . . . . . . . . .  6
   2.1.5   Phone/Fax Elements . . . . . . . . . . . . . . . . . . . .  6
   2.1.6   E-Mail Element . . . . . . . . . . . . . . . . . . . . . .  6
   2.2     Name Server (ns) Element . . . . . . . . . . . . . . . . .  7
   2.2.1   IP Address Elements  . . . . . . . . . . . . . . . . . . .  7
   2.3     Date Created/Modified Elements . . . . . . . . . . . . . .  7
   2.4     Domain Element . . . . . . . . . . . . . . . . . . . . . .  8
   2.4.1   Registrant Elements  . . . . . . . . . . . . . . . . . . .  8
   2.4.2   Domain Attributes  . . . . . . . . . . . . . . . . . . . .  8
   2.4.2.1 status Attribute . . . . . . . . . . . . . . . . . . . . .  8
   2.4.2.2 fqdn Attribute . . . . . . . . . . . . . . . . . . . . . .  9
   3.      Security Considerations  . . . . . . . . . . . . . . . . . 10
           References . . . . . . . . . . . . . . . . . . . . . . . . 11
           Author's Address . . . . . . . . . . . . . . . . . . . . . 11
   A.      Examples . . . . . . . . . . . . . . . . . . . . . . . . . 12
   B.      The Whois DTD  . . . . . . . . . . . . . . . . . . . . . . 14
           Full Copyright Statement . . . . . . . . . . . . . . . . . 16





















Wesson                  Expires August 30, 2000                 [Page 2]

Internet-Draft      Whois Export and Exchange Format          March 2000


1. Introduction

   The whois service [4] has been distributed among ICANN approved
   registrars since the breakup of the NSI monopoly on Domain
   Registrations. This data is now served up my many non-interpolating
   WHOIS servers. 

   The data contained in a WHOIS response is consist and but the
   formatting varies from Registrar to Registrar. This document
   proposes a XML encapsulation of WHOIS data what will add the
   necessary structure to support the exchange of WHOIS records among
   Registrars. 

   This format is also suitable for Registrant data escrow required by
   ICANN for all Registrars. 




































Wesson                  Expires August 30, 2000                 [Page 3]

Internet-Draft      Whois Export and Exchange Format          March 2000


2. Export Format Description

2.1 Contact Element

    Contact example. 


             <contact id="1" handle="rhw">
               <name>Rick H.Wesson </name>
               <title> geek </title>
               <address>
                 <street> 704 Almar Ave. </street>
                 <city> Santa Cruz </city>
                 <state> CA </state>
                 <postalcode> 95060 </postalcode>
                 <country> US </country>
               </address>
               <voice> 800.555.1212 </country>
               <fax> n/a </fax>
               <email> rick@ar.com </email>
             </contact>

   The "contact" element consists of all ICANN required data elements
   describing a technical, admin, or billing contact. The contact is
   required to have the following elements:

2.1.1 Name Element

    Example "name" element. 

               <name> Scooby Doo </name>

   The "name" element contains the contacts full name.

2.1.2 Title Element

    Example "title" element. 

               <title> Cool Dog of the week </title>

   The "title" element contains the contacts title. This element is
   optional and not required by ICANN.









Wesson                  Expires August 30, 2000                 [Page 4]

Internet-Draft      Whois Export and Exchange Format          March 2000


2.1.3 Organization Element

    Example "title" element. 

               <organization> Hanna Productions </organization>

   The "organization" element contains the name of the organization
   that the contact belongs to. this element is not required by ICANN
   but is used by most Registrars.

2.1.4 Address Elements

   Postal Addresses SHOULD be normalized into address, street, city,
   state, country and postal code elements. If for some reason address
   elements need to support RIPE style address formats the "line"
   element can be used in the place of the  normalized address
   elements. 

2.1.4.1 Street Element

    Example "street" element. 

                 <street> 555 N. Main St. </street>

   The "street" element contains the 'address' lines of a postal
   address.

2.1.4.2 City Element

    Example "city" element. 

                 <city> San Francisco </city>

   The "city" element contains the city or area of the contact if the
   contacts locality uses such descriptors in a postal address. This
   element is REQUIRED by ICANN but some nation-states use no "city"
   elements.

2.1.4.3 State Element

    Example "state" element. 

                 <state> California </state>

   The "state" element contains the state or province of the contact if
   the contacts locality uses such descriptors in a postal address.
   This element is REQUIRED by ICANN but some nation-states use no
   "state" elements.



Wesson                  Expires August 30, 2000                 [Page 5]

Internet-Draft      Whois Export and Exchange Format          March 2000


2.1.4.4 Postal Code Element

    Example "postalcode" element. 

                 <postalcode> 94117-1234 </postalcode>

   The "postalcode" element contains a delivery indicator unique to the
   address of the contact. This is often referred to as the Zip Code in
   the USA. Other nation-states my have other delivery indicators.

2.1.4.5 Country Code

    Example "countrycode" element. 

                 <countrycode> US </countrycode>

   The "country" element is an ISO-3166 two (2) letter country code for
   the country of origin of the contacts postal address.

2.1.5 Phone/Fax Elements

    Example "phone" and "fax" elements. 



               <phone> +1.831.423.2595 </phone>
               <fax>  +1.831.423.2596 </fax>

      The "phone" element contains an international telephone number of
      the contact.

      The "fax" element contains an international telephone number for
      facilimi of the contact.

2.1.6 E-Mail Element

   Example "email" element" 

               <email> scooby@doo.com </email>

   the "email" element contains a valid RFC 822[3] E-Mail address  of
   the contact.









Wesson                  Expires August 30, 2000                 [Page 6]

Internet-Draft      Whois Export and Exchange Format          March 2000


2.2 Name Server (ns) Element

    Example "ns" element. 

             <ns handle="NS48137-HST" fqdn="NS1.HIBIAS.COM">
               <ip> 207.44.204.34 </ip>
               <modified> 31-Jan-2000 </modified>
             </ns>

   Name Servers are required by ICANN and MUST be referenced in all
   "domain" elements.

   The "ns" element MUST contain the names and IP Addresses of
   authoritative name servers for the domain. The "ns" element MUST
   contain at zero (0) or more "ip" elements. The "ns" element MUST
   have a valid Fully Qualified Domain Name in its "fqdn" attribute.

   The "created" and "modified" elements contain the date the Name
   Server record was Created or Modified. These elements are NOT
   REQUIRED. The "ns" element MAY contain an optional "contact" element
   as a reference to the contact that is administrateivly responsible
   for the Name Server.

2.2.1 IP Address Elements

    Example "ip" element 

               <ip> 10.10.10.1 </ip>
               <ip type="ipv6">::FFFF:10.10.10.2 </ip>

   The "ip" element contains IP version 4 or version 6 address
   information. The attribute "type" can either be 'ipv4' or 'ipv6',
   this attribute defaults to ipv4 if it is not listed.

2.3 Date Created/Modified Elements

   Creation and Modification dates are NOT REQUIRED for Name Server
   (ns) elements; However the "created" element IS REQUIRED for the
   "domain" element and The "modified" element is NOT REQUIRED. It is
   understood that many Registrars currently publish the date the
   object was last updated and has been included for that reason.










Wesson                  Expires August 30, 2000                 [Page 7]

Internet-Draft      Whois Export and Exchange Format          March 2000


2.4 Domain Element

    Example "domain" elements. 


             <domain fqdn="ar.com" status="active">
               <organization> Alice's Registry, Inc. </organization>
               <address>
                 <street> 704 Almar Ave. </street>
                 <city> Santa Cruz </city>
                 <state> CA </state>
                 <postalcode> 95060 </postalcode>
                 <country> US </country>
               </address>

               <ns handle="NS48137-HST" />
               <ns handle="DATAW-HST" />
               <ns handle="NS10187-HST" />
               <contact type="admin" handle="rhw" />
               <contact type="tech" handle="mh266" />
             </domain>

   The "domain" element MUST contain a "fqdn" and "status" attribute.
   The Contact element IS REQUIRED for domains that are ACTIVE.

2.4.1 Registrant Elements

   The "contact" element must be listed listed for the Administrative
   and Technical contacts for the domain. The "type" attribute of the
   contact element must be set for each contact listed. 

   At least one Admin and one Technical contact are required for each
   domain.

2.4.2 Domain Attributes

   A domain element is required to have a "status" attribute and a
   "fqdn" attribute.

2.4.2.1 status Attribute

   For shared registry gTLDs supporting RRP version 1.1[5] and greater,
   the the "status" Attribute SHOULD be set for the "domain" element. 

   The status attribute MUST be set to one of the following attributes: 

   active: This is the default status of a domain at registration time.
      The registry sets the domain to this status. The domain is
      modifiable by the registrar. The domain can be renewed. The


Wesson                  Expires August 30, 2000                 [Page 8]

Internet-Draft      Whois Export and Exchange Format          March 2000


      domain SHALL be included in the zone file when in this status if
      the domain has at least one associated name server. 

   registry-lock: The registry sets the domain to this status. The
      domain cannot be modified or deleted by the registrar. The
      registry MUST remove the REGISTRY-LOCK status for the registrar
      to modify the domain. The domain can be renewed. The domain SHALL
      be included in the zone file when in this status if the domain
      has at least one associated name server. 

   registry-hold: The registry sets the domain to this status. The
      domain cannot be modified or deleted by the registrar. The
      registry MUST remove the REGISTRY-HOLD status for the registrar
      to modify the domain. The domain can be renewed. The domain SHALL
      NOT be included in the zone file when in this status. 

   registrar-hold: The registrar of the domain sets the domain to this
      status. The domain can not be modified or deleted when in this
      status. The registrar MUST remove REGISTRAR-HOLD status to modify
      the domain. The domain can be renewed. The domain SHALL NOT be
      included in the zone file when in this status. 

   registrar-lock: The registrar of the domain sets the domain to this
      status. The domain cannot be modified or deleted when in this
      status. The registrar MUST remove REGISTRAR-LOCK status to modify
      the domain. The domain can be renewed. The domain SHALL be
      included in the zone file when in this status. 

   registry-delete-notify: A domain is set on this status if it has
      expired and has child name servers that are hosting other
      domains. Only the registry may set this status. The domain SHALL
      be included in the zone file when in this status if the domain
      has at least one associated name server. 

2.4.2.2 fqdn Attribute

   The "fqdn" attribute specifies the Fully Qualified Domain that the
   whois record is defining.













Wesson                  Expires August 30, 2000                 [Page 9]

Internet-Draft      Whois Export and Exchange Format          March 2000


3. Security Considerations

   The Whois protocol doesn't include any security functions at all,
   and this paper raises no security issues nor adds any such security
   features. 

   If this export format is used for Data Escrow of a Registrars WHOIS
   data, the movement of the data from the registrar to ICANN or an
   ICANN representative tasked with performing the job of Data Escrow,
   the connection should be secured. 









































Wesson                  Expires August 30, 2000                [Page 10]

Internet-Draft      Whois Export and Exchange Format          March 2000


References

   [1]  Bradner, S., "Key words for use in RFCs to Indicate Requirement
        Levels", RFC 2119, BCP 14, March 1997.

   [2]  Postel, J. and J. Reynolds, "Instructions to RFC Authors", RFC
        2223, October 1997.

   [3]  Crocker, D., "STANDARD FOR THE FORMAT OF ARPA INTERNET TEXT
        MESSAGES", RFC 822, August 1982.

   [4]  Harrenstien, K., Stahl, M. and E. Feinler, "NICNAME/WHOIS", RFC
        954, October 1985.

   [5]  Hollenbeck, S., "NSI Registry Registrar Protocol (RRP) Version
        1.1.0", Internet-Draft draft-hollenbeck-rrp-01.txt, January
        2000.

   [6]  World Wide Web Consortium, "Extensible Markup Language (XML)
        1.0", W3C XML, February 1998.

   [7]  http://www.ar.com/ietf-xml-whois/

Author's Address

   Rick H. Wesson
   Alice's Registry, Inc.
   704 almar Ave.
   Santa Cruz, CA  95060
   US

   Phone: +1 831 423 2595
   EMail: rick@ar.com
   URI:   http://www.ar.com/

















Wesson                  Expires August 30, 2000                [Page 11]

Internet-Draft      Whois Export and Exchange Format          March 2000


Appendix A. Examples

   This section lists some example whois objects. There are many ways
   to associate the various objects, this example shows but one
   potential for domain registrant data. 

    Example "domain" elements. 

           <whois registrar="nsol">
             <contact id="1" handle="rhw">
               <name>Rick H. Wesson </name>
               <title> geek </title>
               <address>
                 <street> 704 Almar Ave. </street>
                 <city> Santa Cruz </city>
                 <state> CA </state>
                 <postalcode> 95060 </postalcode>
                 <country> US </country>
               </address>
               <voice> 800.555.1212 </country>
               <fax> n/a </fax>
               <email> rick@ar.com </email>
             </contact>
             <contact id="2" handle="MH266">
               <name>Matt Ho </name>
               <title> CTO </title>
               <organization> Xtreme Realities </organization>
               <address>
                 <street> 701 Broderick st. </street>
                 <city> San Francisco </city>
                 <state> CA </state>
                 <postalcode> 94117 </postalcode>
                 <country> US </country>
               </address>
               <voice> 800.555.1212 </country>
               <fax> n/a </fax>
               <email> matt@xtreme.com </email>
             </contact>
             <domain fqdn="ar.com" status="active">
               <organization> Alice's Registry, Inc. </organization>
               <address>
               <address>
                 <street> 704 Almar Ave. </street>
                 <city> Santa Cruz </city>
                 <state> CA </state>
                 <postalcode> 95060 </postalcode>
                 <country> US </country>
               </address>
               <ns handle="NS48137-HST" />


Wesson                  Expires August 30, 2000                [Page 12]

Internet-Draft      Whois Export and Exchange Format          March 2000


               <ns handle="DATAW-HST" />
               <ns handle="NS10187-HST" />
               <contact type="admin" handle="rhw" />
               <contact type="tech" handle="mh266" />
           </whois>














































Wesson                  Expires August 30, 2000                [Page 13]

Internet-Draft      Whois Export and Exchange Format          March 2000


Appendix B. The Whois DTD



   <!--* $Id: whois-export.xml,v 1.1 2000/04/20 14:31:09 wessorh Exp $ -->

   <!--
     A DTD for exporting whois data and ICANN Data Escrow in XML
     "-//Rick H. Wesson//DTD for WHOIS Export//EN"
   -->


       <!ELEMENT whois (domain|contact|ns)*>
       <!ATTLIST whois
           version   CDATA  #FIXED "1.0"
           registrar CDATA  #REQUIRED >


       <!-- ns objects represent (hosts) DNS Servers -->
       <!ELEMENT ns (((ip)*, contact)?|EMPTY)>

       <!-- ns Name Service
           this container must be either be primary or secondary,
           as domains require no less than one primary and one secondary. -->
       <!ATTLIST ns
           id      ID      #IMPLIED
           ref     IDREF   #IMPLIED
           handle 	CDATA 	#IMPLIED
           fqdn    CDATA   #REQUIRED >

       <!ELEMENT ip             (#PCDATA) >
       <!ATTLIST ip
           type    (ipv4 | ipv6) "ipv4"  >

       <!ELEMENT created 		(#PCDATA) >
       <!ELEMENT modified 		(#PCDATA) >


       <!-- the line is an alternate method of specifying an unformatted
   	 address listing. -->
       <!ELEMENT line	(#PCDATA) >

       <!-- the address container stores formatted or unformatted postal
   	 postal (snail mail) address of organizations and contacts -->

        <!ELEMENT address (line*|
                          (street*,(city,(state|province)),
                           postalcode,country))>



Wesson                  Expires August 30, 2000                [Page 14]

Internet-Draft      Whois Export and Exchange Format          March 2000


       <!-- Contact Object.
   	 The contact is the owner of all host and domain objects in the srs.
   	 Contacts are used for billing purposes, finding responsible parties
   	 for the objects, and for ownership and authenticating modification
   	 requests. -->
       <!ELEMENT contact ((name,title?,organization?,address?, voice,
                           fax?, email)?|EMPTY)>

       <!--                    attributes for a contact object            -->
       <!ATTLIST contact
   	          id	        ID				  #IMPLIED
                 ref           IDREF             #IMPLIED
   	          handle	    CDATA			  #IMPLIED
   	          type	      (admin | tech | billing | zone) #REQUIRED>


       <!-- contact elements -->
       <!ELEMENT 	name 		    (#PCDATA) >
       <!ELEMENT 	title 		    (#PCDATA) >
       <!ELEMENT 	organization    (#PCDATA) >
       <!ELEMENT 	street 		    (#PCDATA) >
       <!ELEMENT 	city 		    (#PCDATA) >
       <!ELEMENT 	state 		    (#PCDATA) >
       <!ELEMENT   province	    (#PCDATA) >
       <!ELEMENT   postalcode	    (#PCDATA) >
       <!ELEMENT 	country 	    (#PCDATA) >
       <!ELEMENT 	voice 		    (#PCDATA) >
       <!ELEMENT 	fax 		    (#PCDATA) >
       <!ELEMENT 	email 		    (#PCDATA) >

       <!-- The Domain contains references to host objects for building
            the root's zone files,
   	     references to contacts for billing, authentication and delegation
   	     of responsible parties. -->

       <!ELEMENT domain (((organization,address)?, ns*, contact*,
                           created?, expires?)|EMPTY)>

       <!ATTLIST domain
      	   fqdn	CDATA	#REQUIRED
   	   status	( registrar_hold | registry_hold |
                     registrar_lock | active ) "active" >









Wesson                  Expires August 30, 2000                [Page 15]

Internet-Draft      Whois Export and Exchange Format          March 2000


Full Copyright Statement

   Copyright (C) The Internet Society (2000). All Rights Reserved.

   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implmentation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph
   are included on all such copies and derivative works. However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.

   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assigns.

   This document and the information contained herein is provided on an
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

Acknowledgement

   Funding for the RFC editor function is currently provided by the
   Internet Society.



















Wesson                  Expires August 30, 2000                [Page 16]

