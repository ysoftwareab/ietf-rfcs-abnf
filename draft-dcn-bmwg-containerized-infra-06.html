<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Considerations for Benchmarking Network Performance in Containerized Infrastructures</title>
<meta content="Kyoungjae Sun" name="author">
<meta content="Hyunsik Yang" name="author">
<meta content="Jangwon Lee" name="author">
<meta content="Tran Minh Ngoc" name="author">
<meta content="Younghan Kim" name="author">
<meta content="
       This draft describes considerations for benchmarking network performance in containerized infrastructures. In the containerized infrastructure, Virtualized Network Functions(VNFs) are deployed on an operating-system-level virtualization platform by abstracting the user namespace as opposed to virtualization using a hypervisor. Leveraging this, the system configurations and networking scenarios for benchmarking will be partially changed by the way in which the resource allocation and network technologies are specified for containerized VNFs. In this draft, we compare the state of the art in a container networking architecture with networking on VM-based virtualized systems and provide several test scenarios for benchmarking network performance in containerized infrastructures. 
    " name="description">
<meta content="xml2rfc 3.9.1" name="generator">
<meta content="Internet-Draft" name="keyword">
<meta content="draft-dcn-bmwg-containerized-infra-06" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.9.1
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.1
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.6.3
    pycountry 20.7.3
    pyflakes 2.3.1
    PyYAML 5.4.1
    requests 2.26.0
    setuptools 57.4.0
    six 1.16.0
-->
<link href="/tmp/draft-dcn-bmwg-containerized-infra-06-icf8zsp4.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: avoid-page;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">Benchmarking Containerized Infra</td>
<td class="right">August 2021</td>
</tr></thead>
<tfoot><tr>
<td class="left">Sun, et al.</td>
<td class="center">Expires 10 February 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Benchmarking Methodology Working Group</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-dcn-bmwg-containerized-infra-06</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2021-08-09" class="published">9 August 2021</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Informational</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-02-10">10 February 2022</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">K. Sun</div>
<div class="org">Soongsil University</div>
</div>
<div class="author">
      <div class="author-name">H. Yang</div>
<div class="org">KT</div>
</div>
<div class="author">
      <div class="author-name">J. Lee</div>
<div class="org">Soongsil University</div>
</div>
<div class="author">
      <div class="author-name">T. Ngoc</div>
<div class="org">Soongsil University</div>
</div>
<div class="author">
      <div class="author-name">Y. Kim</div>
<div class="org">Soongsil University</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Considerations for Benchmarking Network Performance in Containerized Infrastructures</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This draft describes considerations for benchmarking network performance in containerized infrastructures. In the containerized infrastructure, Virtualized Network Functions(VNFs) are deployed on an operating-system-level virtualization platform by abstracting the user namespace as opposed to virtualization using a hypervisor. Leveraging this, the system configurations and networking scenarios for benchmarking will be partially changed by the way in which the resource allocation and network technologies are specified for containerized VNFs. In this draft, we compare the state of the art in a container networking architecture with networking on VM-based virtualized systems and provide several test scenarios for benchmarking network performance in containerized infrastructures.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 10 February 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2021 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact ulBare ulEmpty toc">
<li class="compact ulBare ulEmpty toc" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
</li>
          <li class="compact ulBare ulEmpty toc" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-terminology" class="xref">Terminology</a></p>
</li>
          <li class="compact ulBare ulEmpty toc" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1" class="keepWithNext"><a href="#section-3" class="xref">3</a>.  <a href="#name-containerized-infrastructur" class="xref">Containerized Infrastructure Overview</a></p>
</li>
          <li class="compact ulBare ulEmpty toc" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-networking-models-in-contai" class="xref">Networking Models in Containerized Infrastructure</a></p>
<ul class="ulBare compact ulEmpty toc">
<li class="ulBare compact ulEmpty toc" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-kernel-space-vswitch-models" class="xref">Kernel-space vSwitch Models</a></p>
</li>
              <li class="ulBare compact ulEmpty toc" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-user-space-vswitch-models" class="xref">User-space vSwitch Models</a></p>
</li>
              <li class="ulBare compact ulEmpty toc" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="xref">4.3</a>.  <a href="#name-smart-nic-acceleration-mode" class="xref">Smart-NIC Acceleration Model</a></p>
</li>
            </ul>
</li>
          <li class="compact ulBare ulEmpty toc" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-performance-impacts" class="xref">Performance Impacts</a></p>
<ul class="ulBare compact ulEmpty toc">
<li class="ulBare compact ulEmpty toc" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="xref">5.1</a>.  <a href="#name-cpu-isolation-numa-affinity" class="xref">CPU Isolation / NUMA Affinity</a></p>
</li>
              <li class="ulBare compact ulEmpty toc" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="xref">5.2</a>.  <a href="#name-hugepages" class="xref">Hugepages</a></p>
</li>
              <li class="ulBare compact ulEmpty toc" id="section-toc.1-1.5.2.3">
                <p id="section-toc.1-1.5.2.3.1"><a href="#section-5.3" class="xref">5.3</a>.  <a href="#name-additional-considerations" class="xref">Additional Considerations</a></p>
</li>
            </ul>
</li>
          <li class="compact ulBare ulEmpty toc" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
</li>
          <li class="compact ulBare ulEmpty toc" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-references" class="xref">References</a></p>
<ul class="ulBare compact ulEmpty toc">
<li class="ulBare compact ulEmpty toc" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="xref">7.1</a>.  <a href="#name-informative-references" class="xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact ulBare ulEmpty toc" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#appendix-A" class="xref">Appendix A</a>.  <a href="#name-appendix-a-benchmarking-exp" class="xref">Appendix A: Benchmarking Experience(Contiv-VPP)</a></p>
<ul class="ulBare compact ulEmpty toc">
<li class="ulBare compact ulEmpty toc" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a href="#appendix-A.1" class="xref">A.1</a>.  <a href="#name-benchmarking-environment" class="xref">Benchmarking Environment</a></p>
</li>
              <li class="ulBare compact ulEmpty toc" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a href="#appendix-A.2" class="xref">A.2</a>.  <a href="#name-trouble-shooting-and-result" class="xref">Trouble shooting and Result</a></p>
</li>
            </ul>
</li>
          <li class="compact ulBare ulEmpty toc" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#appendix-B" class="xref">Appendix B</a>.  <a href="#name-appendix-b-benchmarking-exp" class="xref">Appendix B: Benchmarking Experience(SR-IOV with DPDK)</a></p>
<ul class="ulBare compact ulEmpty toc">
<li class="ulBare compact ulEmpty toc" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a href="#appendix-B.1" class="xref">B.1</a>.  <a href="#name-benchmarking-environment-2" class="xref">Benchmarking Environment</a></p>
</li>
              <li class="ulBare compact ulEmpty toc" id="section-toc.1-1.9.2.2">
                <p id="section-toc.1-1.9.2.2.1"><a href="#appendix-B.2" class="xref">B.2</a>.  <a href="#name-trouble-shooting-and-results" class="xref">Trouble shooting and Result(SR-IoV-DPDK)</a></p>
</li>
            </ul>
</li>
          <li class="compact ulBare ulEmpty toc" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#appendix-C" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">
        The Benchmarking Methodology Working Group(BMWG) has recently expanded its benchmarking scope from Physical Network Function(PNF) running on a dedicated hardware system to Network Function Virtualization(NFV) infrastructure and Virtualized Network Function(VNF). <span>[<a href="#RFC8172" class="xref">RFC8172</a>]</span> described considerations for configuring NFV infrastructure and benchmarking metrics, and <span>[<a href="#RFC8204" class="xref">RFC8204</a>]</span> gives guidelines for benchmarking virtual switch which connects VNFs in Open Platform for NFV(OPNFV).<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">
     Recently NFV infrastructure has evolved to include a lightweight virtualized platform called the containerized infrastructure, where VNFs share the same host Operating System(OS) and are logically isolated by using a different namespace.  While previous NFV infrastructure uses a hypervisor to allocate resources for Virtual Machine(VMs) and instantiate VNFs on it, the containerized infrastructure virtualizes resources without a hypervisor, therefore making containers very lightweight and more efficient in infrastructure resource utilization compared to the VM-based NFV infrastructure. When we consider benchmarking for VNFs in the containerized infrastructure, it may have a different System Under Test(SUT) and Device Under Test(DUT) configuration compared with both black-box benchmarking and VM-based NFV infrastructure as described in <span>[<a href="#RFC8172" class="xref">RFC8172</a>]</span>. Accordingly, additional configuration parameters and testing strategies may be required.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">
        In the containerized infrastructure, a VNF network is implemented by running both switch and router functions in the host system. For example, the internal communication between VNFs in the same host uses the L2 bridge function, while communication with external node(s) uses the L3 router function. For container networking, the host system may use a virtual switch(vSwitch), but other options exist.  In the <span>[<a href="#ETSI-TST-009" class="xref">ETSI-TST-009</a>]</span>, they describe differences in networking structure between the VM-based and the containerized infrastructure. Occasioned by these differences, deployment scenarios for testing network performance described in <span>[<a href="#RFC8204" class="xref">RFC8204</a>]</span> may be partially applied to the containerized infrastructure, but other scenarios may be required.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">
     This draft is aimed to distinguish benchmarking of containerized infrastructure from the previous benchmarking methodology of common NFV infrastructure. Similar to <span>[<a href="#RFC8204" class="xref">RFC8204</a>]</span>, the networking principle of containerized infrastructure is basically based on virtual switch (vSwitch), but there are several options and acceleration technologies. At the same time, it is important to uncover the impact of resource isolation methods specified in a containerized infrastructure on the benchmark performance. In addition, this draft contains benchmark experiences with various combinations of resource isolation methods and networking models that can be a reference to set up and benchmark containerized infrastructure. Note that, although the detailed configurations of both infrastructures differ, the new benchmarks and metrics defined in <span>[<a href="#RFC8172" class="xref">RFC8172</a>]</span> can be equally applied in containerized infrastructure from a generic-NFV point of view, and therefore defining additional metrics or methodologies is out of scope.<a href="#section-1-4" class="pilcrow">¶</a></p>
</section>
<section id="section-2">
      <h2 id="name-terminology">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
      </h2>
<p id="section-2-1">
        The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document is to be interpreted as described in <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span>. This document uses the terminology described in <span>[<a href="#RFC8172" class="xref">RFC8172</a>]</span>, <span>[<a href="#RFC8204" class="xref">RFC8204</a>]</span>, <span>[<a href="#ETSI-TST-009" class="xref">ETSI-TST-009</a>]</span>.<a href="#section-2-1" class="pilcrow">¶</a></p>
</section>
<div id="Overview">
<section id="section-3">
      <h2 id="name-containerized-infrastructur">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-containerized-infrastructur" class="section-name selfRef">Containerized Infrastructure Overview</a>
      </h2>
<p id="section-3-1">
     For the benchmarking of the containerized infrastructure, as mentioned in <span>[<a href="#RFC8172" class="xref">RFC8172</a>]</span>, the basic approach is to reuse existing benchmarking methods developed within the BMWG. Various network function specifications defined in BMWG should still be applied to containerized VNF(C-VNF)s for the performance comparison with physical network functions and VM-based VNFs. A major distinction of the containerized infrastructure from the VM-based infrastructure is the absence of a hypervisor. Without hypervisor, all C- VNFs share the same host resources including but not limited to computing, storage, and networking resources, as well as the host Operating System(OS), kernel, and libraries. These architectural differences bring additional considerations of resource management impacts for benchmarking.<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">
     In a common containerized infrastructure, thank the proliferation of Kubernetes, the pod is defined as a basic unit for orchestration and management that is able to host multiple containers. Based on that, <span>[<a href="#ETSI-TST-009" class="xref">ETSI-TST-009</a>]</span> defined two test scenario for container infrastructure as follows.<a href="#section-3-2" class="pilcrow">¶</a></p>
<p id="section-3-3">
     o Container2Container: Communication between containers running in the same pod. it can be done by shared volumes or Inter-process communication (IPC).<a href="#section-3-3" class="pilcrow">¶</a></p>
<p id="section-3-4">
     o Pod2Pod: Communication between containers running in the different pods.<a href="#section-3-4" class="pilcrow">¶</a></p>
<p id="section-3-5">
     As mentioned in <span>[<a href="#RFC8204" class="xref">RFC8204</a>]</span>, vSwitch is also an important aspect of the containerized infrastructure. For Pod2Pod communication, every pod has basically only one virtual Ethernet (vETH) interface. This interface is connected to the vSwitch via vETH pair for each container. Not only Pod2Pod but also Pod2External scenario that communicates with an external node is also required. In this case, vSwitch SHOULD support gateway and Network Address Translation (NAT) functionalities.<a href="#section-3-5" class="pilcrow">¶</a></p>
<p id="section-3-6"> 
       <a href="#Deployment_models" class="xref">Figure 1</a> shows briefly differences of network architectures based on deployment models. Basically, on bare metal, C-VNFs can be deployed as a cluster called POD by Kubernetes. Otherwise, each C-VNF can be deployed separately using Docker. In the former case, there is only one external network interface even a POD contains more than one C-VNF. An additional deployment model considers a scenario in which C-VNFs or PODs are running on VM. In our draft, we define new terminologies; BMP which is Pod on bare metal, and VMP which is Pod on VM.<a href="#section-3-6" class="pilcrow">¶</a></p>
<span id="name-examples-of-networking-arch"></span><div id="Deployment_models">
<figure id="figure-1">
        <div class="artwork art-text alignLeft" id="section-3-7.1">
<pre>
+---------------------------------------------------------------------+
|                          Baremetal Node                             |
| +--------------+ +--------------+ +-------------- + +-------------+ |
| |              | |     POD      | |      VM       | |     VM      | |
| |              | |+------------+| |+-------------+| |  +-------+  | |
| |   C-VNF(A)   | || C-VNFs(B)  || ||  C-VNFs(C)  || |  |PODs(D)|  | |
| |              | |+------------+| |+-----^-------+| |  +---^---+  | |
| |              | |              | |      |        | |      |      | |
| |   +------+   | |   +------+   | |   +--v---+    | |  +---v--+   | |
| +---| veth |---+ +---| veth |---+ +---|virtio|----+ +--|virtio|---+ |
|     +--^---+         +---^--+         +--^---+         +---^--+     |
|        |                 |               |                 |        |
|        |                 |            +--v---+         +---v--+     |
| +------|-----------------|------------|vhost |---------|vhost |---+ |
| |      |                 |            +--^---+         +---^--+   | |
| |      |                 |               |                 |      | |
| |   +--v---+         +---v--+         +--v---+         +---v--+   | |
| | +-| veth |---------| veth |---------| Tap  |---------| Tap  |-+ | |
| | | +--^---+         +---^--+         +--^---+         +---^--+ | | |
| | |    |                 |    vSwitch    |                 |    | | |
| | | +--|-----------------|---------------|-----------------|--+ | | |
| | +-|  |                 |    Bridge     |                 |  |-+ | |
| |   +--|-----------------|---------------|-----------------|--+   | |
| |      |   +---------+   |            +--|-----------------|---+  | |
| |      |   |Container|   |            |  |    Hypervisor   |   |  | |
| |      |   | Engine  |   |            |  |                 |   |  | |
| |      |   +---------+   |            +--|-----------------|---+  | |
| |      |                 |  Host Kernel  |                 |      | |
| +------|-----------------|---------------|-----------------|------+ |
|     +--v-----------------v---------------v-----------------v--+     |
+-----|                      physical network                   |-----+
      +---------------------------------------------------------+
</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-examples-of-networking-arch" class="selfRef">Examples of Networking Architecture based on Deployment Models - (A)C-VNF on Baremetal (B)Pod on Baremetal(BMP) (C)C-VNF on VM (D)Pod on VM(VMP)</a>
        </figcaption></figure>
</div>
<p id="section-3-8">
    In <span>[<a href="#ETSI-TST-009" class="xref">ETSI-TST-009</a>]</span>, they described data plane test scenarios in a single host. In that document, there are two scenarios for containerized infrastructure; Container2Container which is internal communication between two containers in the same Pod, and the Pod2Pod model which is communication between two containers running in different Pods. According to our new terminologies, we can call the Pod2Pod model the BMP2BMP scenario. When we consider container running on VM as an additional deployment option, there can be more single host test scenarios as follows;<a href="#section-3-8" class="pilcrow">¶</a></p>
<p id="section-3-9">
    o BMP2VMP scenario<a href="#section-3-9" class="pilcrow">¶</a></p>
<span id="name-single-host-test-scenario-b"></span><div id="BMP2VMP">
<figure id="figure-2">
        <div class="artwork art-text alignLeft" id="section-3-10.1">
<pre>
+---------------------------------------------------------------------+
| HOST                              +-----------------------------+   |
|                                   |VM +-------------------+     |   |
|                                   |   |       C-VNF       |     |   |
|  +--------------------+           |   | +--------------+  |     |   |
|  |      C-VNF         |           |   | | Logical Port |  |     |   |
|  | +--------------+   |           |   +-+--^-------^---+--+     |   |
|  | | Logical Port |   |           |   +----|-------|---+        |   |
|  +-+--^-------^---+---+           |   |  Logical Port  |        |   |
|       |       |                   +---+----^-------^---+--------+   |
|       |       |                            |       |                |
|  +----v-------|----------------------------|-------v-------------+  |
|  |            l----------------------------l                     |  |
|  |                    Data Plane Networking                      |  |
|  |                    (Kernel or User space)                     |  |
|  +----^--------------------------------------------^-------------+  |
|       |                                            |                |
|  +----v------+                                +----v------+         |
|  |  Phy Port |                                |  Phy Port |         |
|  +-----------+                                +-----------+
+-------^--------------------------------------------^----------------+
        |                                            |
+-------v--------------------------------------------v----------------+
|                                                                     |
|                           Traffic Generator                         |
|                                                                     |
+---------------------------------------------------------------------+
</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-single-host-test-scenario-b" class="selfRef">Single Host Test Scenario - BMP2VMP</a>
        </figcaption></figure>
</div>
<p id="section-3-11">
    o VMP2VMP scenario<a href="#section-3-11" class="pilcrow">¶</a></p>
<span id="name-single-host-test-scenario-v"></span><div id="VMP2VMP">
<figure id="figure-3">
        <div class="artwork art-text alignLeft" id="section-3-12.1">
<pre>
+---------------------------------------------------------------------+
|  HOST                                                               |
|  +-----------------------------+   +-----------------------------+  |
|  |VM +-------------------+     |   |VM +-------------------+     |  |
|  |   |       C-VNF       |     |   |   |       C-VNF       |     |  |
|  |   | +--------------+  |     |   |   | +--------------+  |     |  |
|  |   | | Logical Port |  |     |   |   | | Logical Port |  |     |  |
|  |   +-+--^-------^---+--+     |   |   +-+--^-------^---+--+     |  |
|  |   +----|-------|---+        |   |   +----|-------|---+        |  |
|  |   |  Logical Port  |        |   |   |  Logical Port  |        |  |
|  +---+----^-------^---+--------+   +---+----^-------^---+--------+  |
|           |       |                        |       |                |
|  +--------v-------v------------------------|-------v-------------+  |
|  |                l------------------------l                     |  |
|  |                    Data Plane Networking                      |  |
|  |                    (Kernel or User space)                     |  |
|  +----^--------------------------------------------^-------------+  |
|       |                                            |                |
|  +----v------+                                +----v------+         |
|  |  Phy Port |                                |  Phy Port |         |
|  +-----------+                                +-----------+         |
+-------^--------------------------------------------^----------------+
        |                                            |
+-------v--------------------------------------------v----------------+
|                                                                     |
|                           Traffic Generator                         |
|                                                                     |
+---------------------------------------------------------------------+
</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-single-host-test-scenario-v" class="selfRef">Single Host Test Scenario - VMP2VMP</a>
        </figcaption></figure>
</div>
</section>
</div>
<section id="section-4">
      <h2 id="name-networking-models-in-contai">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-networking-models-in-contai" class="section-name selfRef">Networking Models in Containerized Infrastructure</a>
      </h2>
<p id="section-4-1">
    Container networking services are provided as network plugins. Basically, using them, network services are deployed by using an isolation environment from container runtime through the host namespace, creating a virtual interface, allocating interface and IP address to C-VNF. Since the containerized infrastructure has different network architecture depending on its using plugins, it is necessary to specify the plugin used in the infrastructure. Especially for Kubernetes infrastructure, several Container Networking Interface (CNI) plugins are developed, which describes network configuration files in JSON format, and plugins are instantiated as new namespaces. When the CNI plugin is initiated, it pushes forwarding rules and networking policies to the existing vSwitch (i.e., Linux bridge, Open vSwitch), or creates its own switch functions to provide networking service.<a href="#section-4-1" class="pilcrow">¶</a></p>
<p id="section-4-2">
       The container network model can be classified according to the location of the vSwitch component. There are some CNI plugins which provide networking without the vSwitch components, however, this draft focuses to plugins using vSwitch components.<a href="#section-4-2" class="pilcrow">¶</a></p>
<div id="Kernel-space">
<section id="section-4.1">
        <h3 id="name-kernel-space-vswitch-models">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-kernel-space-vswitch-models" class="section-name selfRef">Kernel-space vSwitch Models</a>
        </h3>
<span id="name-examples-of-kernel-space-vs"></span><div id="Kernel-models">
<figure id="figure-4">
          <div class="artwork art-text alignLeft" id="section-4.1-1.1">
<pre>
  +------------------------------------------------------------------+
  | User Space                                                       |
  |   +-----------+                                  +-----------+   |
  |   |   C-VNF   |                                  |   C-VNF   |   |
  |   | +-------+ |                                  | +-------+ |   |
  |   +-|  eth  |-+                                  +-|  eth  |-+   |
  |     +---^---+                                      +---^---+     |
  |         |                                              |         |
  |         |     +----------------------------------+     |         |
  |         |     |                                  |     |         |
  |         |     |  Networking Controller / Agent   |     |         |
  |         |     |                                  |     |         |
  |         |     +-----------------^^---------------+     |         |
  ----------|-----------------------||---------------------|----------
  |     +---v---+                   ||                 +---v---+     |
  |  +--|  veth |-------------------vv-----------------|  veth |--+  |
  |  |  +-------+          vSwitch Component           +-------+  |  |
  |  |           (OVS Kernel Datapath, Linux Bridge, ..)          |  |
  |  |                                                            |  |
  |  +-------------------------------^----------------------------+  |
  |                                  |                               |
  | Kernel Space         +-----------v----------+                    |
  +----------------------|          NIC         |--------------------+
                         +----------------------+

</pre>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a>:
<a href="#name-examples-of-kernel-space-vs" class="selfRef">Examples of Kernel-Space vSwitch Model</a>
          </figcaption></figure>
</div>
<p id="section-4.1-2">
       <a href="#Kernel-models" class="xref">Figure 4</a> shows kernel-space vSwitch model. In this model, the vSwitch component is running on kernel space so data packets should be processed in-network stack of host kernel before transferring packets to the C-VNF running in user-space. Not only pod2External but also pod2pod traffic should be processed in the kernel space. For dynamic networking configuration, the Forwarding policy can be pushed by the controller/agent located in the user-space. In the case of Open vSwitch (OVS) <span>[<a href="#OVS" class="xref">OVS</a>]</span>, the first packet of flow can be sent to the user space agent (ovs-switchd) for forwarding decision. Kernel-space vSwitch models are listed below;<a href="#section-4.1-2" class="pilcrow">¶</a></p>
<p id="section-4.1-3">
       o Docker Network<span>[<a href="#Docker-network" class="xref">Docker-network</a>]</span>, Flannel Network<span>[<a href="#Flannel" class="xref">Flannel</a>]</span>, Calico<span>[<a href="#Calico" class="xref">Calico</a>]</span>, OVS(OpenvSwitch)<span>[<a href="#OVS" class="xref">OVS</a>]</span>, OVN(Open Virtual Network)<span>[<a href="#OVN" class="xref">OVN</a>]</span><a href="#section-4.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="User-space">
<section id="section-4.2">
        <h3 id="name-user-space-vswitch-models">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-user-space-vswitch-models" class="section-name selfRef">User-space vSwitch Models</a>
        </h3>
<span id="name-examples-of-user-space-vswi"></span><div id="User-models">
<figure id="figure-5">
          <div class="artwork art-text alignLeft" id="section-4.2-1.1">
<pre>
  +------------------------------------------------------------------+
  | User Space                                                       |
  |   +---------------+                          +---------------+   |
  |   |     C-VNF     |                          |     C-VNF     |   |
  |   | +-----------+ |    +-----------------+   | +-----------+ |   |
  |   | |virtio-user| |    |    Networking   |   | |virtio-user|-|   |
  |   +-|   / eth   |-+    | Controller/Agent|   +-|   / eth   |-+   |
  |     +-----^-----+      +-------^^--------+     +-----^-----+     |
  |           |                    ||                    |           |
  |           |                    ||                    |           |
  |     +-----v-----+              ||              +-----v-----+     |
  |     | vhost-user|              ||              | vhost-user|     |
  |  +--|  / veth   |--------------vv--------------|  / veth   |--+  |
  |  |  +-----------+                              +-----------+  |  |
  |  |                          vSwtich                           |  |
  |  |                      +--------------+                      |  |
  |  +----------------------|  PMD Driver  |----------------------+  |
  |                         |              |                         |
  |                         +-------^------+                         |
  ----------------------------------|---------------------------------
  |                                 |                                |
  |                                 |                                |
  |                                 |                                |
  | Kernel Space         +----------V-----------+                    |
  +----------------------|          NIC         |--------------------+
                         +----------------------+

</pre>
</div>
<figcaption><a href="#figure-5" class="selfRef">Figure 5</a>:
<a href="#name-examples-of-user-space-vswi" class="selfRef">Examples of User-Space vSwitch Model</a>
          </figcaption></figure>
</div>
<p id="section-4.2-2">
       <a href="#User-models" class="xref">Figure 5</a> shows user-space vSwitch model, in which data packets from physical network port are bypassed kernel processing and delivered directly to the vSwitch running on user-space. This model is commonly considered as Data Plane Acceleration (DPA) technology since it can be achieved high-rate packet processing than a kernel-space network that has limited packet throughput. For bypassing kernel and directly transferring the packet to vSwitch, Data Plane Development Kit (DPDK) is essentially required. With DPDK, an additional driver called Pull-Mode Driver (PMD) is created on vSwtich. PMD driver must be created for each NIC separately. User-space vSwitch models are listed below;<a href="#section-4.2-2" class="pilcrow">¶</a></p>
<p id="section-4.2-3">
       o ovs-dpdk<span>[<a href="#ovs-dpdk" class="xref">ovs-dpdk</a>]</span>, vpp<span>[<a href="#vpp" class="xref">vpp</a>]</span><a href="#section-4.2-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="Smart-NIC">
<section id="section-4.3">
        <h3 id="name-smart-nic-acceleration-mode">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-smart-nic-acceleration-mode" class="section-name selfRef">Smart-NIC Acceleration Model</a>
        </h3>
<span id="name-examples-of-smart-nic-accel"></span><div id="Fig-Smart-NIC">
<figure id="figure-6">
          <div class="artwork art-text alignLeft" id="section-4.3-1.1">
<pre>
  +------------------------------------------------------------------+
  | User Space                                                       |
  |    +-----------------+                    +-----------------+    |
  |    |      C-VNF      |                    |      C-VNF      |    |
  |    | +-------------+ |                    | +-------------+ |    |
  |    +-|  vf driver  |-+                    +-|  vf driver  |-+    |
  |      +-----^-------+                        +------^------+      |
  |            |                                       |             |
  -------------|---------------------------------------|--------------
  |            +---------+                   +---------+             |
  |               +------|-------------------|------+                |
  |               | +----v-----+       +-----v----+ |                |
  |               | | virtual  |       | virtual  | |                |
  |               | | function |       | function | |                |
  | Kernel Space  | +----^-----+  NIC  +-----^----+ |                |
  +---------------|      |                   |      |----------------+
                  | +----v-------------------v----+ |
                  | |      Classify and Queue     | |
                  | +-----------------------------+ |
                  +---------------------------------+
</pre>
</div>
<figcaption><a href="#figure-6" class="selfRef">Figure 6</a>:
<a href="#name-examples-of-smart-nic-accel" class="selfRef">Examples of Smart-NIC Acceleration Model</a>
          </figcaption></figure>
</div>
<p id="section-4.3-2">
       <a href="#Fig-Smart-NIC" class="xref">Figure 6</a> shows Smart-NIC acceleration model, which does not use vSwitch component. This model can be separated into two technologies. One is Single-Root I/O Virtualization (SR-IOV)<span>[<a href="#SR-IOV" class="xref">SR-IOV</a>]</span>, which is an extension of PCIe specifications to enable multiple partitions running simultaneously within a system to share PCIe devices. In the NIC, there are virtual replicas of PCI functions known as virtual functions (VF) and each of them is directly connected to each container's network interfaces. Using SR-IOV, data packets from external are bypassing both kernel and user space and are directly forwarded to container's virtual network interface.<a href="#section-4.3-2" class="pilcrow">¶</a></p>
<p id="section-4.3-3">
       Another smart-NIC acceleration is the extended Berkeley Packet Filter (eBPF)<span>[<a href="#eBPF" class="xref">eBPF</a>]</span>, which enables to run of sandboxed programs in the Linux kernel without changing kernel source code or loading kernel module. To accelerate data plane performance, it can attach eXpress Data Path (XDP) to specific NIC to offload packet processing without host CPU charge.<a href="#section-4.3-3" class="pilcrow">¶</a></p>
<p id="section-4.3-4">
       The Smart-NIC can use together with vSwitch network model to improve network performance. In <span>[<a href="#userspace-cni" class="xref">userspace-cni</a>]</span>, several combinations of user-space vSwitch models with SR-IOV are supported. For eBPF with DPDK, DPDK libraries to use eBPF can be found at <span>[<a href="#DPDK_eBPF" class="xref">DPDK_eBPF</a>]</span>.<a href="#section-4.3-4" class="pilcrow">¶</a></p>
</section>
</div>
</section>
<section id="section-5">
      <h2 id="name-performance-impacts">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-performance-impacts" class="section-name selfRef">Performance Impacts</a>
      </h2>
<div id="Performance-CPU">
<section id="section-5.1">
        <h3 id="name-cpu-isolation-numa-affinity">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-cpu-isolation-numa-affinity" class="section-name selfRef">CPU Isolation / NUMA Affinity</a>
        </h3>
<p id="section-5.1-1">
       CPU pinning enables benefits such as maximizing cache utilization, eliminating operating system thread scheduling overhead as well as coordinating network I/O by guaranteeing resources. This technology is very effective to avoid the "noisy neighbor" problem and it is already proved in existing experience <span>[<a href="#Intel-EPA" class="xref">Intel-EPA</a>]</span>.<a href="#section-5.1-1" class="pilcrow">¶</a></p>
<p id="section-5.1-2">
       Using NUMA, performance will be increasing not CPU and memory but also network since that network interface connected PCIe slot of specific NUMA node have locality. Using NUMA requires a strong understanding of VNF's memory requirements. If VNF uses more memory than a single NUMA node contains, the overhead will be occurred due to being spilled to another NUMA node. Network performance can be changed depending on the location of the NUMA node whether it is the same NUMA node where the physical network interface and CNF are attached to. There is benchmarking experience for cross-NUMA performance impacts <span>[<a href="#ViNePERF" class="xref">ViNePERF</a>]</span>. In that tests, they consist of cross-NUMA performance with 3 scenarios depending on the location of the traffic generator and traffic endpoint. As the results, it was verified as below:<a href="#section-5.1-2" class="pilcrow">¶</a></p>
<p id="section-5.1-3">
       o A single NUMA Node serving multiple interfaces is worse than Cross-NUMA Node performance degradation<a href="#section-5.1-3" class="pilcrow">¶</a></p>
<p id="section-5.1-4">
       o Worse performance with VNF sharing CPUs across NUMA<a href="#section-5.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="Performance-Hugepage">
<section id="section-5.2">
        <h3 id="name-hugepages">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-hugepages" class="section-name selfRef">Hugepages</a>
        </h3>
<p id="section-5.2-1">
       The huge page is that configuring a large page size of memory to reduce Translation Lookaside Buffer(TLB) miss rate and increase the application performance. This increases the performance of logical/virtual to physical address lookups performed by a CPU's memory management unit, and generally overall system performance. In the containerized infrastructure, the container is isolated at the application level and administrators can set huge pages more granular level (e.g. Kubernetes allows to use of 512M bytes huge pages for the container as default values). Moreover, this page is dedicated to the application but another process so the application uses the page more efficiently way. From a network benchmark point of view, however, the impact on general packet processing can be relatively negligible, and it may be necessary to consider the application level to measure the impact together. In the case of using the DPDK application, as reported in <span>[<a href="#Intel-EPA" class="xref">Intel-EPA</a>]</span>, it was verified to improve network performance because packet handling processes are running in the application together.<a href="#section-5.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="Considerations-additional">
<section id="section-5.3">
        <h3 id="name-additional-considerations">
<a href="#section-5.3" class="section-number selfRef">5.3. </a><a href="#name-additional-considerations" class="section-name selfRef">Additional Considerations</a>
        </h3>
<p id="section-5.3-1"> 
          When we consider benchmarking for not only containerized but also VM-based infrastructure and network functions, benchmarking scenarios may contain various operational use cases. Traditional black-box benchmarking is focused to measure the in-out performance of packets from physical network ports since the hardware is tightly coupled with its function and only a single function is running on its dedicated hardware. However, in the NFV environment, the physical network port commonly will be connected to multiple VNFs(i.e. Multiple PVP test setup architectures were described in <span>[<a href="#ETSI-TST-009" class="xref">ETSI-TST-009</a>]</span>) rather than dedicated to a single VNF. Therefore, benchmarking scenarios should reflect operational considerations such as the number of VNFs or network services defined by a set of VNFs in a single host. <span>[<a href="#service-density" class="xref">service-density</a>]</span>, which proposed a way for measuring the performance of multiple NFV service instances at a varied service density on a single host, is one example of these operational benchmarking aspects.<a href="#section-5.3-1" class="pilcrow">¶</a></p>
<p id="section-5.3-2"> 
          Regarding the above draft, it can be classified into two types of traffic for benchmark testing. One is North/South traffic and the other is East/West traffic. North/South has an architecture that receives data from other servers and routes them through VNF. On the other hand, East/West traffic is a form of sending and receiving data between containers deployed in the same server and can pass through multiple containers. One example is Service Function Chaining. Since network acceleration technology in a container environment has different accelerated areas depending on the method provided, performance differences may occur depending on traffic patterns.<a href="#section-5.3-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
<section id="section-6">
      <h2 id="name-security-considerations">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-6-1"> 
       TBD<a href="#section-6-1" class="pilcrow">¶</a></p>
</section>
<section id="section-7">
      <h2 id="name-references">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-7.1">
        <h3 id="name-informative-references">
<a href="#section-7.1" class="section-number selfRef">7.1. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="Calico">[Calico]</dt>
        <dd>
<span class="refTitle">"Project Calico"</span>, <time datetime="2019-07" class="refDate">July 2019</time>, <span>&lt;<a href="https://docs.projectcalico.org/">https://docs.projectcalico.org/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Docker-network">[Docker-network]</dt>
        <dd>
<span class="refTitle">"Docker, Libnetwork design"</span>, <time datetime="2019-07" class="refDate">July 2019</time>, <span>&lt;<a href="https://github.com/docker/libnetwork/">https://github.com/docker/libnetwork/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="DPDK_eBPF">[DPDK_eBPF]</dt>
        <dd>
<span class="refTitle">"DPDK-Berkeley Packet Filter Library"</span>, <time datetime="2021-08" class="refDate">August 2021</time>, <span>&lt;<a href="https://doc.dpdk.org/guides/prog_guide/bpf_lib.html">https://doc.dpdk.org/guides/prog_guide/bpf_lib.html</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="eBPF">[eBPF]</dt>
        <dd>
<span class="refTitle">"eBPF, extended Berkeley Packet Filter"</span>, <time datetime="2019-07" class="refDate">July 2019</time>, <span>&lt;<a href="https://www.iovisor.org/technology/ebpf">https://www.iovisor.org/technology/ebpf</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="ETSI-TST-009">[ETSI-TST-009]</dt>
        <dd>
<span class="refTitle">"Network Functions Virtualisation (NFV) Release 3; Testing; Specification of Networking Benchmarks and Measurement Methods for NFVI"</span>, <time datetime="2018-10" class="refDate">October 2018</time>. </dd>
<dd class="break"></dd>
<dt id="Flannel">[Flannel]</dt>
        <dd>
<span class="refTitle">"flannel 0.10.0 Documentation"</span>, <time datetime="2019-07" class="refDate">July 2019</time>, <span>&lt;<a href="https://coreos.com/flannel/">https://coreos.com/flannel/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Intel-EPA">[Intel-EPA]</dt>
        <dd>
<span class="refAuthor">Intel</span>, <span class="refTitle">"Enhanced Platform Awareness in Kubernetes"</span>, <time datetime="2018" class="refDate">2018</time>, <span>&lt;<a href="https://builders.intel.com/docs/networkbuilders/enhanced-platform-awareness-feature-brief.pdf">https://builders.intel.com/docs/networkbuilders/enhanced-platform-awareness-feature-brief.pdf</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="OVN">[OVN]</dt>
        <dd>
<span class="refTitle">"How to use Open Virtual Networking with Kubernetes"</span>, <time datetime="2019-07" class="refDate">July 2019</time>, <span>&lt;<a href="https://github.com/ovn-org/ovn-kubernetes">https://github.com/ovn-org/ovn-kubernetes</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="OVS">[OVS]</dt>
        <dd>
<span class="refTitle">"Open Virtual Switch"</span>, <time datetime="2019-07" class="refDate">July 2019</time>, <span>&lt;<a href="https://www.openvswitch.org/">https://www.openvswitch.org/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="ovs-dpdk">[ovs-dpdk]</dt>
        <dd>
<span class="refTitle">"Open vSwitch with DPDK"</span>, <time datetime="2019-07" class="refDate">July 2019</time>, <span>&lt;<a href="http://docs.openvswitch.org/en/latest/intro/install/dpdk/">http://docs.openvswitch.org/en/latest/intro/install/dpdk/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">RFC 2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8172">[RFC8172]</dt>
        <dd>
<span class="refAuthor">Morton, A.</span>, <span class="refTitle">"Considerations for Benchmarking Virtual Network Functions and Their Infrastructure"</span>, <span class="seriesInfo">RFC 8172</span>, <time datetime="2017-07" class="refDate">July 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8172">https://www.rfc-editor.org/rfc/rfc8172</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8204">[RFC8204]</dt>
        <dd>
<span class="refAuthor">Tahhan, M.</span>, <span class="refAuthor">O'Mahony, B.</span>, and <span class="refAuthor">A. Morton</span>, <span class="refTitle">"Benchmarking Virtual Switches in the Open Platform for NFV (OPNFV)"</span>, <span class="seriesInfo">RFC 8204</span>, <time datetime="2017-09" class="refDate">September 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8204">https://www.rfc-editor.org/rfc/rfc8204</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="service-density">[service-density]</dt>
        <dd>
<span class="refAuthor">Konstantynowicz, M.</span> and <span class="refAuthor">P. Mikus</span>, <span class="refTitle">"NFV Service Density Benchmarking"</span>, <time datetime="2019-03" class="refDate">March 2019</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-mkonstan-nf-service-density-00">https://tools.ietf.org/html/draft-mkonstan-nf-service-density-00</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="SR-IOV">[SR-IOV]</dt>
        <dd>
<span class="refTitle">"SRIOV for Container-networking"</span>, <time datetime="2019-07" class="refDate">July 2019</time>, <span>&lt;<a href="https://github.com/intel/sriov-cni">https://github.com/intel/sriov-cni</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="userspace-cni">[userspace-cni]</dt>
        <dd>
<span class="refTitle">"Userspace CNI Plugin"</span>, <time datetime="2021-08" class="refDate">August 2021</time>, <span>&lt;<a href="https://github.com/intel/userspace-cni-network-plugin">https://github.com/intel/userspace-cni-network-plugin</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="ViNePERF">[ViNePERF]</dt>
        <dd>
<span class="refAuthor">Anuket Project</span>, <span class="refTitle">"Cross-NUMA performance measurements with VSPERF"</span>, <time datetime="2019-03" class="refDate">March 2019</time>, <span>&lt;<a href="https://wiki.anuket.io/display/HOME/Cross-NUMA+performance+measurements+with+VSPERF">https://wiki.anuket.io/display/HOME/Cross-NUMA+performance+measurements+with+VSPERF</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="vpp">[vpp]</dt>
      <dd>
<span class="refTitle">"VPP with Containers"</span>, <time datetime="2019-07" class="refDate">July 2019</time>, <span>&lt;<a href="https://fdio-vpp.readthedocs.io/en/latest/usecases/containers.html">https://fdio-vpp.readthedocs.io/en/latest/usecases/containers.html</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="BM-Experience">
<section id="appendix-A">
      <h2 id="name-appendix-a-benchmarking-exp">
<a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-appendix-a-benchmarking-exp" class="section-name selfRef">Appendix A: Benchmarking Experience(Contiv-VPP)</a>
      </h2>
<section id="appendix-A.1">
        <h3 id="name-benchmarking-environment">
<a href="#appendix-A.1" class="section-number selfRef">A.1. </a><a href="#name-benchmarking-environment" class="section-name selfRef">Benchmarking Environment</a>
        </h3>
<p id="appendix-A.1-1">
       In this test, our purpose is that we test performance of user space based model for container infrastructure and figure out relationship between resource allocation and network performance. With respect to this, we setup Contiv-VPP which is one of the user space based network solution in container infrastructure and tested like below.<a href="#appendix-A.1-1" class="pilcrow">¶</a></p>
<p id="appendix-A.1-2">
       o Three physical server for benchmarking<a href="#appendix-A.1-2" class="pilcrow">¶</a></p>
<span id="name-test-environment-server-spe"></span><div id="test-environment">
<figure id="figure-7">
          <div class="artwork art-text alignLeft" id="appendix-A.1-3.1">
<pre>
+-------------------+----------------------+--------------------------+
|     Node Name     |    Specification     |        Description       |
+-------------------+----------------------+--------------------------+
| Conatiner Control |- Intel(R) Xeon(R)    | Container Deployment     |
| for Master        |  CPU E5-2690         | and Network Allocation   |
|                   |  (2Socket X 12Core)  |- ubuntu 18.04            |
|                   |- MEM 128G            |- Kubernetes Master       |
|                   |- DISK 2T             |- CNI Conterller          |
|                   |- Control plane : 1G  |.. Contive VPP Controller |
|                   |                      |.. Contive VPP Agent      |
+-------------------+----------------------+--------------------------+
| Conatiner Service |- Intel(R) Xeon(R)    | Container Service        |
| for Worker        |  Gold 6148           |- ubuntu 18.04            |
|                   |  (2socket X 20Core)  |- Kubernetes Worker       |
|                   |- MEM 128G            |- CNI Agent               |
|                   |- DISK 2T             |.. Contive VPP Agent      |
|                   |- Control plane : 1G  |                          |
|                   |- Data plane : MLX 10G|                          |
|                   |  (1NIC 2PORT)        |                          |
+-------------------+----------------------+--------------------------+
| Packet Generator  |- Intel(R) Xeon(R)    | Packet Generator         |
|                   |  CPU E5-2690         |- CentOS 7                |
|                   |  (2Socket X 12Core)  |- installed Trex 2.4      |
|                   |- MEM 128G            |                          |
|                   |- DISK 2T             |                          |
|                   |- Control plane : 1G  |                          |
|                   |- Data plane : MLX 10G|                          |
|                   |  (1NIC 2PORT)        |                          |
+-------------------+----------------------+--------------------------+
</pre>
</div>
<figcaption><a href="#figure-7" class="selfRef">Figure 7</a>:
<a href="#name-test-environment-server-spe" class="selfRef">Test Environment-Server Specification</a>
          </figcaption></figure>
</div>
<p id="appendix-A.1-4">
       o The architecture of benchmarking<a href="#appendix-A.1-4" class="pilcrow">¶</a></p>
<span id="name-test-environment-architectu"></span><div id="Benchmarking-Description">
<figure id="figure-8">
          <div class="artwork art-text alignLeft" id="appendix-A.1-5.1">
<pre>
    +----+   +--------------------------------------------------------+
    |    |   |  Containerized Infrastructure Master Node              |
    |    |   |  +-----------+                                         |
    |   &lt;-------&gt; 1G PORT 0 |                                         |
    |    |   |  +-----------+                                         |
    |    |   +--------------------------------------------------------+
    |    |
    |    |   +--------------------------------------------------------+
    |    |   |  Containerized Infrastructure Worker Node              |
    |    |   |                    +---------------------------------+ |
    | s  |   |  +-----------+     | +------------+   +------------+ | |
    | w &lt;-------&gt; 1G PORT 0 |     | | 10G PORT 0 |   | 10G PORT 1 | | |
    | i  |   |  +-----------+     | +------^-----+   +------^-----+ | |
    | t  |   |                    +--------|----------------|-------+ |
    | c  |   +-----------------------------|----------------|---------+
    | h  |                                 |                |
    |    |   +-----------------------------|----------------|---------+
    |    |   |  Packet Generator Node      |                |         |
    |    |   |                    +--------|----------------|-------+ |
    |    |   |  +-----------+     | +------v-----+   +------v-----+ | |
    |   &lt;-------&gt; 1G PORT 0 |     | | 10G PORT 0 |   | 10G PORT 1 | | |
    |    |   |  +-----------+     | +------------+   +------------+ | |
    |    |   |                    +---------------------------------+ |
    |    |   |                                                        |
    +----+   +--------------------------------------------------------+
</pre>
</div>
<figcaption><a href="#figure-8" class="selfRef">Figure 8</a>:
<a href="#name-test-environment-architectu" class="selfRef">Test Environment-Architecture</a>
          </figcaption></figure>
</div>
<p id="appendix-A.1-6">
       o Network model of Containerized Infrastructure(User space Model)<a href="#appendix-A.1-6" class="pilcrow">¶</a></p>
<span id="name-test-environment-network-ar"></span><div id="Benchmarking-network-model">
<figure id="figure-9">
          <div class="artwork art-text alignLeft" id="appendix-A.1-7.1">
<pre>
+---------------------------------------------+---------------------+
|                   NUMA 0                    |        NUMA 0       |
+---------------------------------------------|---------------------+
|  Containerized Infrastructure Worker Node   |                     |
|        +---------------------------+        |  +----------------+ |
|        |           POD1            |        |  |     POD2       | |
|        |      +-------------+      |        |  |   +-------+    | |
|        |      |             |      |        |  |   |       |    | |
|        |   +--v---+     +---v--+   |        |  | +-v--+  +-v--+ | |
|        |   | eth1 |     | eth2 |   |        |  | |eth1|  |eth2| | |
|        |   +--^---+     +---^--+   |        |  | +-^--+  +-^--+ | |
|        +------|-------------|------+        |  +---|-------|----+ |
|            +---             |               |      |       |      |
|            |        +-------|---------------|------+       |      |
|            |        |       |        +------|--------------+      |
| +----------|--------|-------|--------|----+ |                     |
| |          v        v       v        v    | |                     |
| |       +-tap10--tap11-+ +-tap20--tap21-+ | |                     |
| |       |  ^        ^  | |  ^        ^  | | |                     |
| |       |  |  VRF1  |  | |  |  VRF2  |  | | |                     |
| |       +--|--------|--+ +--|--------|--+ | |                     |
| |          |  +-----+       |    +---+    | |                     |
| | +-tap01--|--|-------------|----|---+    | |                     |
| | | +------v--v-+ VRF0 +----v----v-+ |    | |                     |
| | +-| 10G ETH0/0|------| 10G ETH0/1|-+    | |                     |
| |   +---^-------+      +-------^---+      | |                     |
| |   +---v-------+      +-------v---+      | |                     |
| +---| DPDP PMD0 |------| DPDP PMD1 |------+ |                     |
|     +---^-------+      +-------^---+        | User Space          |
+---------|----------------------|------------|---------------------+
|   +-----|----------------------|-----+      | Kernal Space        |
+---| +---V----+            +----v---+ |------|---------------------+
    | | PORT 0 |  10G NIC   | PORT 1 | |      |
    | +---^----+            +----^---+ |
    +-----|----------------------|-----+
    +-----|----------------------|-----+
+---| +---V----+            +----v---+ |----------------------------+
|   | | PORT 0 |  10G NIC   | PORT 1 | |   Packet Generator (Trex)  |
|   | +--------+            +--------+ |                            |
|   +----------------------------------+                            |
+-------------------------------------------------------------------+
</pre>
</div>
<figcaption><a href="#figure-9" class="selfRef">Figure 9</a>:
<a href="#name-test-environment-network-ar" class="selfRef">Test Environment-Network Architecture</a>
          </figcaption></figure>
</div>
<p id="appendix-A.1-8">
          We setup a Contive-VPP network to benchmark the user space container network model in the containerized infrastructure worker node. We setup network interface at NUMA0, and we created different network subnet VRF1, VRF2 to classify input and output data traffic, respectively. And then, we assigned two interface which connected to VRF1, VRF2 and, we setup routing table to route Trex packet from eth1 interface to eth2 interface in POD.<a href="#appendix-A.1-8" class="pilcrow">¶</a></p>
</section>
<section id="appendix-A.2">
        <h3 id="name-trouble-shooting-and-result">
<a href="#appendix-A.2" class="section-number selfRef">A.2. </a><a href="#name-trouble-shooting-and-result" class="section-name selfRef">Trouble shooting and Result</a>
        </h3>
<p id="appendix-A.2-1">
          In this environment, we confirmed that the routing table doesn't work when we send packet using Trex packet generator. The reason is that when kernel space based network configured, ip forwarding rule is processed to kernel stack level while 'ip packet forwarding rule' is processed only in vrf0, which is the default virtual routing and forwarding (VRF0) in VPP. That is, above testing architecture makes problem since vrf1 and vrf2 interface couldn't route packet. According to above result, we assigned vrf0 and vrf1 to POD and, data flow is like below.<a href="#appendix-A.2-1" class="pilcrow">¶</a></p>
<span id="name-test-environment-network-arc"></span><div id="Benchmarking-CPU-pinning-model">
<figure id="figure-10">
          <div class="artwork art-text alignLeft" id="appendix-A.2-2.1">
<pre>
 +---------------------------------------------+---------------------+
 |                   NUMA 0                    |        NUMA 0       |
 +---------------------------------------------|---------------------+
 |  Containerized Infrastructure Worker Node   |                     |
 |        +---------------------------+        |  +----------------+ |
 |        |      POD1                 |        |  |     POD2       | |
 |        |      +-------------+      |        |  |   +-------+    | |
 |        |   +--v----+    +---v--+   |        |  | +-v--+  +-v--+ | |
 |        |   | eth1 |     | eth2 |   |        |  | |eth1|  |eth2| | |
 |        |   +--^---+     +---^--+   |        |  | +-^--+  +-^--+ | |
 |        +------|-------------|------+        |  +---|-------|----+ |
 |       +-------+             |               |      |       |      |
 |       |       +-------------|---------------|------+       |      |
 |       |       |             |        +------|--------------+      |
 | +-----|-------|-------------|--------|----+ |                     |
 | |     |       |             v        v    | |                     |
 | |     |       |          +-tap10--tap11-+ | |                     |
 | |     |       |          |  ^        ^  | | |                     |
 | |     |       |          |  |  VRF1  |  | | |                     |
 | |     |       |          +--|--------|--+ | |                     |
 | |     |       |             |    +---+    | |                     |
 | | +-*tap00--*tap01----------|----|---+    | |                     |
 | | | +-V-------v-+ VRF0 +----v----v-+ |    | |                     |
 | | +-| 10G ETH0/0|------| 10G ETH0/1|-+    | |                     |
 | |   +-----^-----+      +------^----+      | |                     |
 | |   +-----v-----+      +------v----+      | |                     |
 | +---|*DPDP PMD0 |------|*DPDP PMD1 |------+ |                     |
 |     +-----^-----+      +------^----+        | User Space          |
 +-----------|-------------------|-------------|---------------------+
             v                   v
*- CPU pinning interface
</pre>
</div>
<figcaption><a href="#figure-10" class="selfRef">Figure 10</a>:
<a href="#name-test-environment-network-arc" class="selfRef">Test Environment-Network Architecture(CPU Pinning)</a>
          </figcaption></figure>
</div>
<p id="appendix-A.2-3">
          We conducted benchmarking with three conditions. The test environments are as follows.

          - Basic VPP switch
          - General kubernetes (No CPU Pining)
          - Shared Mode / Exclusive mode.
    
       In the basic Kubernetes environment, all PODs share a host's CPU. Shared mode is that some POD share a pool of CPU assigned to a specific PODs. Exclusive mode is that a specific POD dedicates a specific CPU to use. In shared mode, we assigned two CPU for several POD, in exclusive mode, we dedicated one CPU for one POD, independently. The result is like <a href="#E1-results" class="xref">Figure 11</a>. First, the test was conducted to figure out the line rate of the VPP switch, and the basic Kubernetes performance. After that, we applied NUMA to network interface using Shared Mode and Exclusive Mode in the same node and different node respectively. In Exclusive and Shared mode tests, we confirmed that Exclusive mode showed better performance than Shared mode when same NUMA cpu assigned, respectively. However, we confirmed that performance is reduced at the section between the vpp switch and the POD, so that it affect to total result.<a href="#appendix-A.2-3" class="pilcrow">¶</a></p>
<span id="name-test-results"></span><div id="E1-results">
<figure id="figure-11">
          <div class="artwork art-text alignLeft" id="appendix-A.2-4.1">
<pre>
       +--------------------+---------------------+-------------+
       |        Model       |  NUMA Mode (pinning)| Result(Gbps)|
       +--------------------+---------------------+-------------+
       |                    |          N/A        |     3.1     |
       |    Switch only     |---------------------+-------------+
       |                    |      same NUMA      |     9.8     |
       +--------------------+---------------------+-------------+
       |    K8S Scheduler   |          N/A        |     1.5     |
       +--------------------+---------------------+-------------+
       |                    |      same NUMA      |     4.7     |
       | CMK-Exclusive Mode +---------------------+-------------+
       |                    |    Different NUMA   |     3.1     |
       +--------------------+---------------------+-------------+
       |                    |      same NUMA      |     3.5     |
       |  CMK-shared Mode   +---------------------+-------------+
       |                    |    Different NUMA   |     2.3     |
       +--------------------+---------------------+-------------+
</pre>
</div>
<figcaption><a href="#figure-11" class="selfRef">Figure 11</a>:
<a href="#name-test-results" class="selfRef">Test Results</a>
          </figcaption></figure>
</div>
</section>
</section>
</div>
<section id="appendix-B">
      <h2 id="name-appendix-b-benchmarking-exp">
<a href="#appendix-B" class="section-number selfRef">Appendix B. </a><a href="#name-appendix-b-benchmarking-exp" class="section-name selfRef">Appendix B: Benchmarking Experience(SR-IOV with DPDK)</a>
      </h2>
<section id="appendix-B.1">
        <h3 id="name-benchmarking-environment-2">
<a href="#appendix-B.1" class="section-number selfRef">B.1. </a><a href="#name-benchmarking-environment-2" class="section-name selfRef">Benchmarking Environment</a>
        </h3>
<p id="appendix-B.1-1"> 
          In this test, our purpose is that we test performance of user space based model for container infrastructure and figure out relationship between resource allocation and network performance.
          With respect to this, we setup SRIOV combining with DPDK to bypass the Kernel space in container infrastructure and tested based on that.<a href="#appendix-B.1-1" class="pilcrow">¶</a></p>
<p id="appendix-B.1-2">
       o Three physical server for benchmarking<a href="#appendix-B.1-2" class="pilcrow">¶</a></p>
<span id="name-test-environment-server-spec"></span><div id="test-environment-sriov">
<figure id="figure-12">
          <div class="artwork art-text alignLeft" id="appendix-B.1-3.1">
<pre>
+-------------------+-------------------------+------------------------+
|     Node Name     |    Specification        |      Description       |
+-------------------+-------------------------+------------------------+
| Conatiner Control |- Intel(R) Core(TM)      | Container Deployment   |
| for Master        |  i5-6200U CPU           | and Network Allocation |
|                   |  (1socket x 4Core)      |- ubuntu 18.04          |
|                   |- MEM 8G                 |- Kubernetes Master     |
|                   |- DISK 500GB             |- CNI Conterller        |
|                   |- Control plane : 1G     |  MULTUS CNI            |
|                   |                         |  SRIOV plugin with DPDK|
+-------------------+-------------------------+------------------------+
| Conatiner Service |- Intel(R) Xeon(R)       | Container Service      |
| for Worker        |  E5-2620 v3 @ 2.4Ghz    |- Centos 7.7            |
|                   |  (1socket X 6Core)      |- Kubernetes Worker     |
|                   |- MEM 128G               |- CNI Agent             |
|                   |- DISK 2T                |  MULTUS CNI            |
|                   |- Control plane : 1G     |  SRIOV plugin with DPDK|
|                   |- Data plane : XL710-qda2|                        |
|                   |  (1NIC 2PORT- 40Gb)     |                        |
+-------------------+-------------------------+------------------------+
| Packet Generator  |- Intel(R) Xeon(R)       | Packet Generator       |
|                   |  Gold 6148 @ 2.4Ghz     |- CentOS 7.7            |
|                   |  (2Socket X 20Core)     |- installed Trex 2.4    |
|                   |- MEM 128G               |                        |
|                   |- DISK 2T                |                        |
|                   |- Control plane : 1G     |                        |
|                   |- Data plane : XL710-qda2|                        |
|                   |  (1NIC 2PORT- 40Gb)     |                        |
+-------------------+-------------------------+------------------------+
</pre>
</div>
<figcaption><a href="#figure-12" class="selfRef">Figure 12</a>:
<a href="#name-test-environment-server-spec" class="selfRef">Test Environment-Server Specification</a>
          </figcaption></figure>
</div>
<p id="appendix-B.1-4">
       o The architecture of benchmarking<a href="#appendix-B.1-4" class="pilcrow">¶</a></p>
<span id="name-test-environment-architectur"></span><div id="Benchmarking-Description-sriov">
<figure id="figure-13">
          <div class="artwork art-text alignLeft" id="appendix-B.1-5.1">
<pre>
    +----+   +--------------------------------------------------------+
    |    |   |  Containerized Infrastructure Master Node              |
    |    |   |  +-----------+                                         |
    |   &lt;-------&gt; 1G PORT 0 |                                         |
    |    |   |  +-----------+                                         |
    |    |   +--------------------------------------------------------+
    |    |
    |    |   +--------------------------------------------------------+
    |    |   |  Containerized Infrastructure Worker Node              |
    |    |   |                    +---------------------------------+ |
    | s  |   |  +-----------+     | +------------+   +------------+ | |
    | w &lt;-------&gt; 1G PORT 0 |     | | 40G PORT 0 |   | 40G PORT 1 | | |
    | i  |   |  +-----------+     | +------^-----+   +------^-----+ | |
    | t  |   |                    +--------|----------------|-------+ |
    | c  |   +-----------------------------|----------------|---------+
    | h  |                                 |                |
    |    |   +-----------------------------|----------------|---------+
    |    |   |  Packet Generator Node      |                |         |
    |    |   |                    +--------|----------------|-------+ |
    |    |   |  +-----------+     | +------v-----+   +------v-----+ | |
    |   &lt;-------&gt; 1G PORT 0 |     | | 40G PORT 0 |   | 0G PORT 1  | | |
    |    |   |  +-----------+     | +------------+   +------------+ | |
    |    |   |                    +---------------------------------+ |
    |    |   |                                                        |
    +----+   +--------------------------------------------------------+
</pre>
</div>
<figcaption><a href="#figure-13" class="selfRef">Figure 13</a>:
<a href="#name-test-environment-architectur" class="selfRef">Test Environment-Architecture</a>
          </figcaption></figure>
</div>
<p id="appendix-B.1-6">
       o Network model of Containerized Infrastructure(User space Model)<a href="#appendix-B.1-6" class="pilcrow">¶</a></p>
<span id="name-test-environment-network-arch"></span><div id="Benchmarking-network-model-sriov">
<figure id="figure-14">
          <div class="artwork art-text alignLeft" id="appendix-B.1-7.1">
<pre>
+---------------------------------------------+---------------------+
|             CMK shared core                 | CMK exclusive core  |
+---------------------------------------------|---------------------+
|  Containerized Infrastructure Worker Node   |                     |
|        +---------------------------+        |  +----------------+ |
|        |           POD1            |        |  |     POD2       | |
|        |         (testpmd)         |        |  |   (testpmd)    | |
|        |      +-------------+      |        |  |   +-------+    | |
|        |      |             |      |        |  |   |       |    | |
|        |   +--v---+     +---v--+   |        |  | +-v--+  +-v--+ | |
|        |   | eth1 |     | eth2 |   |        |  | |eth1|  |eth2| | |
|        |   +--^---+     +---^--+   |        |  | +-^--+  +-^--+ | |
|        +------|-------------|------+        |  +---|-------|----+ |
|               |             |               |      |       |      |
|         +------           +-+               |      |       |      |
|         |            +----|-----------------|------+       |      |
|         |            |    |        +--------|--------------+      |
|         |            |    |        |        |           User Space|
+---------|------------|----|--------|--------|---------------------+
|         |            |    |        |        |                     |
|      +--+     +------|    |        |        |                     |
|      |        |           |        |        |         Kernal Space|
+------|--------|-----------|--------|--------+---------------------+
| +----|--------|-----------|--------|-----+  |                     |
| | +--v--+  +--v--+     +--v--+  +--v--+  |  |                  NIC|
| | | VF0 |  | VF1 |     | VF2 |  | VF3 |  |  |                     |
| | +--|---+ +|----+     +----|+  +-|---+  |  |                     |
| +----|------|---------------|-----|------+  |                     |
+---| +v------v+            +-v-----v+ |------|---------------------+
    | | PORT 0 |  40G NIC   | PORT 1 | |
    | +---^----+            +----^---+ |
    +-----|----------------------|-----+
    +-----|----------------------|-----+
+---| +---V----+            +----v---+ |----------------------------+
|   | | PORT 0 |  40G NIC   | PORT 1 | |   Packet Generator (Trex)  |
|   | +--------+            +--------+ |                            |
|   +----------------------------------+                            |
+-------------------------------------------------------------------+
</pre>
</div>
<figcaption><a href="#figure-14" class="selfRef">Figure 14</a>:
<a href="#name-test-environment-network-arch" class="selfRef">Test Environment-Network Architecture</a>
          </figcaption></figure>
</div>
<p id="appendix-B.1-8">
          We setup a Multus CNI, SRIOV CNI with DPDK to benchmark the user space container network model in the containerized infrastructure worker node. The Multus CNI support to create multiple interfaces for a container. The traffic is bypassed the Kernel space by SRIOV with DPDK. We established two modes of CMK: shared core and exclusive core. We created VFs for each network interface of a container. Then, we setup TREX to route packet from eth1 to eth2 in a POD.<a href="#appendix-B.1-8" class="pilcrow">¶</a></p>
</section>
<div id="results-sriov">
<section id="appendix-B.2">
        <h3 id="name-trouble-shooting-and-results">
<a href="#appendix-B.2" class="section-number selfRef">B.2. </a><a href="#name-trouble-shooting-and-results" class="section-name selfRef">Trouble shooting and Result(SR-IoV-DPDK)</a>
        </h3>
<p id="appendix-B.2-1"> 
          TBD<a href="#appendix-B.2-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
<div id="authors-addresses">
<section id="appendix-C">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Kyoungjae Sun</span></div>
<div dir="auto" class="left"><span class="org">Soongsil University</span></div>
<div dir="auto" class="left"><span class="street-address">369, Sangdo-ro, Dongjak-gu</span></div>
<div dir="auto" class="left"><span class="locality">Seoul</span></div>
<div dir="auto" class="left"><span class="postal-code">06978</span></div>
<div dir="auto" class="left"><span class="country-name">Republic of Korea</span></div>
<div class="tel">
<span>Phone:</span>
<a href="tel:+82%2010%203643%205627" class="tel">+82 10 3643 5627</a>
</div>
<div class="email">
<span>Email:</span>
<a href="mailto:gomjae@dcn.ssu.ac.kr" class="email">gomjae@dcn.ssu.ac.kr</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Hyunsik Yang</span></div>
<div dir="auto" class="left"><span class="org">KT</span></div>
<div dir="auto" class="left"><span class="street-address">KT Research Center 151<br>Taebong-ro, Seocho-gu</span></div>
<div dir="auto" class="left"><span class="locality">Seoul</span></div>
<div dir="auto" class="left"><span class="postal-code">06763</span></div>
<div dir="auto" class="left"><span class="country-name">Republic of Korea</span></div>
<div class="tel">
<span>Phone:</span>
<a href="tel:+82%2010%209005%207439" class="tel">+82 10 9005 7439</a>
</div>
<div class="email">
<span>Email:</span>
<a href="mailto:yangun@dcn.ssu.ac.kr" class="email">yangun@dcn.ssu.ac.kr</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Jangwon Lee</span></div>
<div dir="auto" class="left"><span class="org">Soongsil University</span></div>
<div dir="auto" class="left"><span class="street-address">369, Sangdo-ro, Dongjak-gu</span></div>
<div dir="auto" class="left"><span class="locality">Seoul</span></div>
<div dir="auto" class="left"><span class="postal-code">06978</span></div>
<div dir="auto" class="left"><span class="country-name">Republic of Korea</span></div>
<div class="tel">
<span>Phone:</span>
<a href="tel:+82%2010%207448%204664" class="tel">+82 10 7448 4664</a>
</div>
<div class="email">
<span>Email:</span>
<a href="mailto:jangwon.lee@dcn.ssu.ac.kr" class="email">jangwon.lee@dcn.ssu.ac.kr</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Tran Minh Ngoc</span></div>
<div dir="auto" class="left"><span class="org">Soongsil University</span></div>
<div dir="auto" class="left"><span class="street-address">369, Sangdo-ro, Dongjak-gu</span></div>
<div dir="auto" class="left"><span class="locality">Seoul</span></div>
<div dir="auto" class="left"><span class="postal-code">06978</span></div>
<div dir="auto" class="left"><span class="country-name">Republic of Korea</span></div>
<div class="tel">
<span>Phone:</span>
<a href="tel:+82%202%20820%200841" class="tel">+82 2 820 0841</a>
</div>
<div class="email">
<span>Email:</span>
<a href="mailto:mipearlska1307@dcn.ssu.ac.kr" class="email">mipearlska1307@dcn.ssu.ac.kr</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Younghan Kim</span></div>
<div dir="auto" class="left"><span class="org">Soongsil University</span></div>
<div dir="auto" class="left"><span class="street-address">369, Sangdo-ro, Dongjak-gu</span></div>
<div dir="auto" class="left"><span class="locality">Seoul</span></div>
<div dir="auto" class="left"><span class="postal-code">06978</span></div>
<div dir="auto" class="left"><span class="country-name">Republic of Korea</span></div>
<div class="tel">
<span>Phone:</span>
<a href="tel:+82%2010%202691%200904" class="tel">+82 10 2691 0904</a>
</div>
<div class="email">
<span>Email:</span>
<a href="mailto:younghak@ssu.ac.kr" class="email">younghak@ssu.ac.kr</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
