


Mipshop Working Group                                         K. Mitsuya
Internet-Draft                                           Keio University
Expires: November 3, 2005                                    May 2, 2005


                    Keep Old Binding Cache for a bit
                    draft-mitsuya-keep-old-bc-00.txt

Status of this Memo

   By submitting this Internet-Draft, each author represents that any
   applicable patent or other IPR claims of which he or she is aware
   have been or will be disclosed, and any of which he or she becomes
   aware will be disclosed, in accordance with Section 6 of BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on November 3, 2005.

Copyright Notice

   Copyright (C) The Internet Society (2005).

Abstract

   The FMIPv6 specification [1] allows mobile node sending packet using
   previous Care of Address (PCoA) at a new subnet.  But such packets
   are ignored at home agent or correspondent node because the Binding
   Cache doesn't contain the PCoA anymore.  To avoid this problem, we
   propose keeping old binding cache for a bit.







Mitsuya                 Expires November 3, 2005                [Page 1]

Internet-Draft      Keep Old Binding Cache for a bit            May 2005


Table of Contents

   1.   Introduction . . . . . . . . . . . . . . . . . . . . . . . . . 3

   2.   Problem Statement: Ignored packets . . . . . . . . . . . . . . 3

   3.   Solution: Keep old binding cache . . . . . . . . . . . . . . . 4

   4.   Security Considerations  . . . . . . . . . . . . . . . . . . . 4

   5.   Acknowledgment . . . . . . . . . . . . . . . . . . . . . . . . 4

   6.   References . . . . . . . . . . . . . . . . . . . . . . . . . . 4

        Author's Address . . . . . . . . . . . . . . . . . . . . . . . 5

        Intellectual Property and Copyright Statements . . . . . . . . 6


































Mitsuya                 Expires November 3, 2005                [Page 2]

Internet-Draft      Keep Old Binding Cache for a bit            May 2005


1.  Introduction

   Fast Handover for Mobile IPv6 (FMIPv6) [1] describes a protocol to
   reduce the handover latency and the packet loss.  The specification
   address the following problems: how to allow a mobile node to send
   packets as soon as it detects a new subnet link, and how to deliver
   packets to a mobile node as soon as its attachment is detected by the
   new access router.

   However, there is a packet loss caused by mis-matching of Binding
   Update List and Binding Cache.  Even if the specification allows
   mobile node sending packet using previous Care of Address (PCoA) at a
   new subnet, such packets might be ignored at home agent or
   correspondent node because Binding Cache doesn't contain the PCoA
   anymore.

   This document describes the packet loss problem and proposes keeping
   old Binding Cache to save such ignored packets.

2.  Problem Statement: Ignored packets

   In the FMIPv6 specification [1], when mobile node moves to a new
   access network, it sends packets using PCoA as source address until
   it receives Binding Acknowledgment for its new Care of Address
   (NCoA).  Once home agent receives the BU, the home agent MUST update
   its existing Binding Cache entry according to the MIPv6 specification
   [2].  This means that the home agent removes previous Binding Cache
   entry and replace it with the new one.

   There is a short period when Binding Update List and Binding Cache
   are not the same.  It's from home agent updates its Binding Cache to
   mobile node receives the corresponding Binding Acknowledgment.  At
   this period, mobile node sends packets, not MIPv6 signaling but
   normal data packets using PCoA, and home agent ignores those packets
   because Binding Cache doesn't contain PCoA anymore.  This period is
   estimated as round-trip-time from mobile node to home agent.

   Here is a similar problem on the normal MIPv6 node.  For example, a
   normal mobile node may have two interfaces, one is cellular (300ms
   between mobile node and home agent) and one is WiFi (20ms).  In this
   typical situation, once the mobile node switches its interface from
   cellular to WiFi, the BU via WiFi may reach earlier than some packets
   via cellular.

   Let's say A is data packet (not MIPv6 signal) sent through cellular,
   B is BU sent through WiFi, and C is data packet via WiFi. mobile node
   sent packets in order as AAAAABCCCCC, but home agent may receive as,
   for example, AAABAACCCCC.  The A packets between B and C are just



Mitsuya                 Expires November 3, 2005                [Page 3]

Internet-Draft      Keep Old Binding Cache for a bit            May 2005


   ignored.  We want to save those packets because they are sent
   correctly.

3.  Solution: Keep old binding cache

   To avoid this problem, we propose keeping old binding cache for a
   bit.  Once home agent receives the BU, the home agent MUST update its
   existing Binding Cache entry and also SHOULD keep the existing
   Binding Cache entry for OldBCLifetime ms.  OldBCLifetime is estimated
   as round-trip-time from mobile node to home agent.

   o  OldBCLifetime                 Default: 300ms

   A home agent then keeps two or more BC entries for one home address.
   The latest Binding Cache SHOULD be used for forwarding packets from
   correspondent node to mobile node, the old Binding Caches are used
   only for receiving packets sent from mobile node.

   If a mobile node moves quickly between several networks, a home agent
   SHOULD keep several Binding Cache entries for one home address.

4.  Security Considerations

   This proposal does not introduce new security threats than those
   already described in [1].

5.  Acknowledgment

   The authors would like to thank all those who have provided feedback
   on this specification, but can only mention a few here: Julien
   Bournelle, Keiichi Shima, Koki Mitani, Rajeev Koodli and Ryuji
   Wakikawa.

6.  References

   [1]  Koodli, R., "Fast Handovers for Mobile IPv6",
        draft-ietf-mipshop-fast-mipv6-03 (work in progress),
        October 2004.

   [2]  Johnson, D., Perkins, C., and J. Arkko, "Mobility Support in
        IPv6", RFC 3775, June 2004.










Mitsuya                 Expires November 3, 2005                [Page 4]

Internet-Draft      Keep Old Binding Cache for a bit            May 2005


Author's Address

   Koshiro Mitsuya
   Keio University
   5322 Endo
   Fujisawa, Kanagawa  252-8520
   Japan

   Phone: +81 466 49 1100
   Email: mitsuya@sfc.wide.ad.jp
   URI:   http://www.sfc.wide.ad.jp/~mitsuya/








































Mitsuya                 Expires November 3, 2005                [Page 5]

Internet-Draft      Keep Old Binding Cache for a bit            May 2005


Intellectual Property Statement

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in BCP 78 and BCP 79.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   http://www.ietf.org/ipr.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.


Disclaimer of Validity

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET
   ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED,
   INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE
   INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.


Copyright Statement

   Copyright (C) The Internet Society (2005).  This document is subject
   to the rights, licenses and restrictions contained in BCP 78, and
   except as set forth therein, the authors retain all their rights.


Acknowledgment

   Funding for the RFC Editor function is currently provided by the
   Internet Society.




Mitsuya                 Expires November 3, 2005                [Page 6]

