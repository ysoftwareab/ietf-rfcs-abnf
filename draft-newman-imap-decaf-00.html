<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Decrypted Content Attachment Flag for
Internet Message Access Protocol (IMAP)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Decrypted Content Attachment Flag for
Internet Message Access Protocol (IMAP)">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Internet Engineering Task Force</td><td class="header">D. Newman</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">N. Freed</td></tr>
<tr><td class="header">Intended status: Informational</td><td class="header">Sun Microsystems, Inc.</td></tr>
<tr><td class="header">Expires: March 21, 2009</td><td class="header">September 17, 2008</td></tr>
</table></td></tr></table>
<h1><br />Decrypted Content Attachment Flag for
Internet Message Access Protocol (IMAP)<br />draft-newman-imap-decaf-00.txt</h1>

<h3>Status of this Memo</h3>
<p>
By submitting this Internet-Draft,
each author represents that any applicable patent or other IPR claims of which
he or she is aware have been or will be disclosed,
and any of which he or she becomes aware will be disclosed,
in accordance with Section&nbsp;6 of BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on March 21, 2009.</p>

<h3>Abstract</h3>

<p>This document promulgates an Internet Message Access
        Protocol (IMAP) flag keyword which Mail User Agents (MUAs)
        may use to indicate that the decrypted content of an encrypted
        message contains one or more attachments.
</p>
<p>This document intentionally leaves undefined the definition of
        an "attachment" and is neutral as regards the message encryption
	system.
</p>
<p>This document also defines an IANA registry for IMAP flag
	keyword conventions.
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Conventions Used in this Document<br />
<a href="#anchor2">2.</a>&nbsp;
Introduction and Overview<br />
<a href="#anchor3">3.</a>&nbsp;
Client behavior<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">3.1.</a>&nbsp;
Client behavior when receiving a message<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor5">3.2.</a>&nbsp;
Client behavior when copying a message<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">3.3.</a>&nbsp;
Client behavior when sending a message<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">3.4.</a>&nbsp;
Client behavior when saving a temporary message<br />
<a href="#anchor8">4.</a>&nbsp;
Server Behavior<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec_arb">4.1.</a>&nbsp;
Server that supports the creation of new
		      flag keywords<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec_decaf">4.2.</a>&nbsp;
Server that supports only the $DECAF
		      flag keyword<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec_acl">4.3.</a>&nbsp;
Interaction with the IMAP ACL extension<br />
<a href="#anchor9">5.</a>&nbsp;
Examples<br />
<a href="#Acknowledgements">6.</a>&nbsp;
Acknowledgements<br />
<a href="#IANA">7.</a>&nbsp;
IANA Considerations<br />
<a href="#Security">8.</a>&nbsp;
Security Considerations<br />
<a href="#Syntax">9.</a>&nbsp;
Formal Syntax<br />
<a href="#rfc.references1">10.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">10.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">10.2.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
<a href="#rfc.copyright">&#167;</a>&nbsp;
Intellectual Property and Copyright Statements<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Conventions Used in this Document</h3>

<p>The "C:" and "S:" prefixes in examples indicate lines sent,
      respectively, by the client and server.
</p>
<p>The key words &quot;MUST&quot;, &quot;MUST NOT&quot;,
      &quot;REQUIRED&quot;, &quot;SHALL&quot;, &quot;SHALL NOT&quot;,
      &quot;SHOULD&quot;, &quot;SHOULD NOT&quot;, &quot;RECOMMENDED&quot;,
      &quot;MAY&quot;, and &quot;OPTIONAL&quot; in this document are to be
      interpreted as described in <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Introduction and Overview</h3>

<p>This document defines a new IMAP mailbox flag keyword 
      <a class='info' href='#RFC3501'>[RFC3501]<span> (</span><span class='info'>Crispin, M., &ldquo;INTERNET MESSAGE ACCESS PROTOCOL - VERSION 4rev1,&rdquo; March&nbsp;2003.</span><span>)</span></a> that aids Mail User Agents (MUAs) in
      determining if the decrypted content of an encrypted message
      contains attachments.  This document does not define any new
      command or response for IMAP.
</p>
<p>A conforming MUA, which after decrypting all or part of a
      message and finding that the decrypted content contains one or
      more attachments, MAY store $DECAF IMAP flag keyword for the
      message.  Subsequently and without again repeating the
      decryption, conforming MUAs MAY act upon the presence of the
      $DECAF flag keyword; e.g., by indicating that the
      message has an attachment when presenting a list of
      messages.
</p>
<p>The $DECAF flag keyword put forth in this document does not
      indicate that the message itself has attachments.  Rather, it
      indicates that one or more encrypted portions of the message,
      when decrypted, contain attachments.
</p>
<p>This document does not define encrypted content, places no
      requirements on the format or structure of decrypted content,
      and does not define what constitutes an "attachment".  These
      details are left to MUA implementors to determine as suits their
      needs.  That said, MUAs SHOULD use the $DECAF flag keyword for
      message encryption formats in which the structure of the
      encrypted content cannot be determined without first decrypting
      the encrypted content.
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Client behavior</h3>

<p>A MUA wishing to store $DECAF flag keyword should first
      verify that the IMAP mailbox in question can store the $DECAF
      flag keyword, either temporarily or permanently.  This is done
      by opening the mailbox and examining the FLAGS and
      PERMANENTFLAGS responses for either the $DECAF keyword or an
      indication that arbitrary keywords may be created.
</p>
<p>Note that even if the $DECAF flag keyword cannot be stored
      permanently, MUAs may still derive benefit from storing it
      temporarily.  For example, an MUA which maintains minimal state.
      Indeed, some MUAs may only want to store $DECAF flag keyword
      temporarily thereby avoiding long term disclosure of the implied
      information.
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
Client behavior when receiving a message</h3>

<p>Upon receiving a message containing encrypted content, the
	MUA MAY store the $DECAF flag keyword for that message if it
	determines that, when decrypted, any of the encrypted content
	contains one or more attachments. The MUA SHOULD NOT clear the
	$DECAF flag keyword: it may have been stored by another MUA.
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
Client behavior when copying a message</h3>

<p>The client SHOULD verify that the $DECAF flag keyword is
	preserved on a COPY operation.  Furthermore, when copying a
	message between servers with the APPEND command, the client
	SHOULD preserve the $DECAF flag keyword on the resulting copy
	of the message.
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3"></a><h3>3.3.&nbsp;
Client behavior when sending a message</h3>

<p>When saving a sent message to any folder, the client MAY
	store the $DECAF flag keyword provided that the saved message
	has one or more encrypted parts which, when decrypted, contain
	one or more attachments.
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.4"></a><h3>3.4.&nbsp;
Client behavior when saving a temporary message</h3>

<p>When saving an unfinished message to any folder, the client
	MAY store the $DECAF flag provided that the unfinished message
	has one or more encrypted parts which, when decrypted, contain
	one or more attachments.
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Server Behavior</h3>

<p>Server implementors seeking to support this specification
      MUST insure that their server complies with either <a class='info' href='#sec_arb'>Section&nbsp;4.1<span> (</span><span class='info'>Server that supports the creation of new 		      flag keywords</span><span>)</span></a> or <a class='info' href='#sec_decaf'>Section&nbsp;4.2<span> (</span><span class='info'>Server that supports only the $DECAF 		      flag keyword</span><span>)</span></a>.  If the server
      also supports the IMAP ACL extension <a class='info' href='#RFC2086'>[RFC2086]<span> (</span><span class='info'>Myers, J., &ldquo;IMAP4 ACL extension,&rdquo; January&nbsp;1997.</span><span>)</span></a>,
      it MUST also comply with <a class='info' href='#sec_acl'>Section&nbsp;4.3<span> (</span><span class='info'>Interaction with the IMAP ACL extension</span><span>)</span></a>.
</p>
<a name="sec_arb"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1"></a><h3>4.1.&nbsp;
Server that supports the creation of new
		      flag keywords</h3>

<p>If a server supports the creation of new flag keywords,
	then no changes are required to the server to make it
	compatible with the extension described in this document.
</p>
<a name="sec_decaf"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2"></a><h3>4.2.&nbsp;
Server that supports only the $DECAF
		      flag keyword</h3>

<p>Servers that support only the $DECAF flag keyword SHOULD
	preserve it on the COPY operation.  It is also expected that a
	server that supports SEARCH &lt;flag&gt; will also support
	SEARCH KEYWORD $DECAF.
</p>
<a name="sec_acl"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.3"></a><h3>4.3.&nbsp;
Interaction with the IMAP ACL extension</h3>

<p>Any server that conforms to either <a class='info' href='#sec_arb'>Section&nbsp;4.1<span> (</span><span class='info'>Server that supports the creation of new 		      flag keywords</span><span>)</span></a> or
	<a class='info' href='#sec_decaf'>Section&nbsp;4.2<span> (</span><span class='info'>Server that supports only the $DECAF 		      flag keyword</span><span>)</span></a> and also supports the IMAP ACL extension
	<a class='info' href='#RFC2086'>[RFC2086]<span> (</span><span class='info'>Myers, J., &ldquo;IMAP4 ACL extension,&rdquo; January&nbsp;1997.</span><span>)</span></a>, SHOULD preserve the $DECAF flag keyword on COPY
	even if the client does not have the "w" ACL right.  Note that the
	server MUST still check if the client has rights to perform the COPY
	operation on a message according to <a class='info' href='#RFC2086'>[RFC2086]<span> (</span><span class='info'>Myers, J., &ldquo;IMAP4 ACL extension,&rdquo; January&nbsp;1997.</span><span>)</span></a>.
</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Examples</h3>

<p>
      </p>
<blockquote class="text"><dl>
<dt>(1)</dt>
<dd>MUA opens mailbox for the first time.
	
<blockquote class="text"><dl>
<dt>(a)</dt>
<dd>The server supports storing of arbitrary keywords
	  <div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

C: A01 SELECT INBOX
S: * FLAGS (\Flagged \Draft \Deleted \Seen)
S: * OK [PERMANENTFLAGS (\Flagged \Draft \Deleted \Seen \*)]
S: * 56 EXISTS
S: * 0 RECENT
S: * OK [UNSEEN 55]
S: * OK [UIDVALIDITY 1078037321]
S: * OK [UIDNEXT 198245]
S: A01 OK [READ-WRITE] Completed

</pre></div>
</dd>
<dt>(b)</dt>
<dd>The server supports storing of the $DECAF flag keyword
	  <div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

C: A01 SELECT INBOX
S: * FLAGS (\Flagged \Draft \Deleted \Seen $DECAF)
S: * OK [PERMANENTFLAGS (\Flagged \Draft \Deleted \Seen $DECAF)]
S: * 56 EXISTS
S: * 0 RECENT
S: * OK [UNSEEN 55]
S: * OK [UIDVALIDITY 1078037321]
S: * OK [UIDNEXT 198245]
S: A01 OK [READ-WRITE] Completed

</pre></div>
</dd>
</dl></blockquote>
</dd>
<dt>(2)</dt>
<dd>The MUA successfully stores the $DECAF flag keyword
	  <div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

C: A02 STORE 4 +FLAGS ($DECAF)
S: * 4 FETCH (FLAGS (\Seen $DECAF))
S: A02 OK Completed

</pre></div>
</dd>
<dt>(3)</dt>
<dd>The server refuses to store the $DECAF keyword
	  <div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

C: A02 STORE 4 +FLAGS ($DECAF)
S: A02 NO STORE failed : Too many keywords in mailbox

</pre></div>
</dd>
</dl></blockquote>

<a name="Acknowledgements"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Acknowledgements</h3>

<p>Credit is due Alexey Melnikov whose <a class='info' href='#RFC3503'>[RFC3503]<span> (</span><span class='info'>Melnikov, A., &ldquo;Message Disposition Notification (MDN) profile for Internet Message Access Protocol (IMAP),&rdquo; March&nbsp;2003.</span><span>)</span></a>
	was emulated for this document.
</p>
<a name="IANA"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
IANA Considerations</h3>

<p>This document requests that IANA create and maintain a First Come
	First Served <a class='info' href='#RFC5226'>[RFC5226]<span> (</span><span class='info'>Narten, T. and H. Alvestrand, &ldquo;Guidelines for Writing an IANA Considerations Section in RFCs,&rdquo; May&nbsp;2008.</span><span>)</span></a> registry for IMAP flag keywords.
</p>
<p>
	</p>
<blockquote class="text"><dl>
<dt>(1)</dt>
<dd>The name of the registry is "IMAP Flag Keywords".
</dd>
<dt>(2)</dt>
<dd>To register an IMAP flag keyword, the flag keyword name, a
	  description of the flag keyword, and an owner or change controller
	  MUST be specified.  Optionally, a reference to a document
	  describing the flag keyword MAY be provided.
</dd>
<dt>(3)</dt>
<dd>The review process for the registry is First Come First Served
	  as per <a class='info' href='#RFC5226'>[RFC5226]<span> (</span><span class='info'>Narten, T. and H. Alvestrand, &ldquo;Guidelines for Writing an IANA Considerations Section in RFCs,&rdquo; May&nbsp;2008.</span><span>)</span></a>.
</dd>
<dt>(4)</dt>
<dd>The name of each registered flag keyword MUST begin with the
	  character "$" and MUST satisfy the IMAP flag-keyword syntax
	  <a class='info' href='#RFC3501'>[RFC3501]<span> (</span><span class='info'>Crispin, M., &ldquo;INTERNET MESSAGE ACCESS PROTOCOL - VERSION 4rev1,&rdquo; March&nbsp;2003.</span><span>)</span></a>.
</dd>
<dt>(5)</dt>
<dd>The initial assignments for the registry are as follows:
	  <div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
1. Name: $MDNSent
   Description: Indicator that no MDN needs to be sent for the message.
   Owner/Change Controller: Alexey Melnikov &lt;Alexey.Melnikov@isode.com&gt;
   Reference: RFC 3503

2. Name: $Forwarded
   Description: Indicator that the message has been resent
                to another email address, embedded within or
                attached to a new message.
   Owner/Change Controller: Stephen H. Maes &lt;stephane.maes@oracle.com&gt;
                            Alexey Melnikov &lt;Alexey.Melnikov@isode.com&gt;
   Reference: RFC 4550

3. Name: $DECAF
   Description: Indicator that an encrypted message contains
                attachments within its encrypted content.
   Owner/Change Controller: Ned Freed &lt;ned.freed@sun.com&gt;
                            Dan Newman &lt;dan.newman@sun.com&gt;
   Reference: XXXX
</pre></div>
</dd>
</dl></blockquote>

<a name="Security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
Security Considerations</h3>

<p>Use of the $DECAF flag exposes information about the
        content of an encrypted message.  Namely, when the $DECAF flag
        is stored, knowledge that the encrypted message contains one or
        more attachments becomes known to anyone with access to the
        mailbox regardless of whether or not they can decrypt the
        message itself.  When the $DECAF flag is not stored, somewhat
        less information is revealed: it may not be stored because no
        conforming MUA has yet received and decrypted the message, or
        it may not be stored because the message indeed contains no
        attachments within its encrypted content.
</p>
<a name="Syntax"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
Formal Syntax</h3>

<p>The following syntax specification uses the augmented
      Backus-Naur Form (BNF) notation as specified in <a class='info' href='#RFC5234'>[RFC5234]<span> (</span><span class='info'>Crocker, D. and P. Overell, &ldquo;Augmented BNF for Syntax Specifications: ABNF,&rdquo; January&nbsp;2008.</span><span>)</span></a>.  Non-terminals referenced, but not defined
      below, are as defined by <a class='info' href='#RFC3501'>[RFC3501]<span> (</span><span class='info'>Crispin, M., &ldquo;INTERNET MESSAGE ACCESS PROTOCOL - VERSION 4rev1,&rdquo; March&nbsp;2003.</span><span>)</span></a>.
</p>
<p>Except as noted otherwise, all alphabetic characters are case
      insensitive.  The use of upper or lower case characters to
      define token strings is for editorial clarity only.  Implementations
      MUST accept these strings in a case insensitive fashion.
      </p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

flag-keyword   = "$DECAF" / other_keywords

other-keywords = atom

</pre></div><p>

</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10"></a><h3>10.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>10.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2086">[RFC2086]</a></td>
<td class="author-text"><a href="mailto:jgm+@cmu.edu">Myers, J.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2086">IMAP4 ACL extension</a>,&rdquo; RFC&nbsp;2086, January&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2086.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3501">[RFC3501]</a></td>
<td class="author-text">Crispin, M., &ldquo;<a href="http://tools.ietf.org/html/rfc3501">INTERNET MESSAGE ACCESS PROTOCOL - VERSION 4rev1</a>,&rdquo; RFC&nbsp;3501, March&nbsp;2003 (<a href="http://www.rfc-editor.org/rfc/rfc3501.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5226">[RFC5226]</a></td>
<td class="author-text">Narten, T. and H. Alvestrand, &ldquo;<a href="http://tools.ietf.org/html/rfc5226">Guidelines for Writing an IANA Considerations Section in RFCs</a>,&rdquo; BCP&nbsp;26, RFC&nbsp;5226, May&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5226.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5234">[RFC5234]</a></td>
<td class="author-text">Crocker, D. and P. Overell, &ldquo;<a href="http://tools.ietf.org/html/rfc5234">Augmented BNF for Syntax Specifications: ABNF</a>,&rdquo; STD&nbsp;68, RFC&nbsp;5234, January&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5234.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>10.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC3503">[RFC3503]</a></td>
<td class="author-text">Melnikov, A., &ldquo;<a href="http://tools.ietf.org/html/rfc3503">Message Disposition Notification (MDN) profile for Internet Message Access Protocol (IMAP)</a>,&rdquo; RFC&nbsp;3503, March&nbsp;2003 (<a href="http://www.rfc-editor.org/rfc/rfc3503.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Dan Newman</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Sun Microsystems, Inc.</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">4150 Network Circle</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Santa Clara, CA  95054</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">US</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:dan.newman@sun.com">dan.newman@sun.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Ned Freed</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Sun Microsystems, Inc.</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">800 Royal Oaks Drive</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Monrovia, CA  91016</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">US</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:ned.freed@sun.com">ned.freed@sun.com</a></td></tr>
</table>
<a name="rfc.copyright"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Full Copyright Statement</h3>
<p class='copyright'>
Copyright &copy; The IETF Trust (2008).</p>
<p class='copyright'>
This document is subject to the rights,
licenses and restrictions contained in BCP&nbsp;78,
and except as set forth therein,
the authors retain all their rights.</p>
<p class='copyright'>
This document and the information contained herein are provided
on an &ldquo;AS IS&rdquo; basis and THE CONTRIBUTOR,
THE ORGANIZATION HE/SHE REPRESENTS
OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST
AND THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT
THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY
IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR
PURPOSE.</p>
<h3>Intellectual Property</h3>
<p class='copyright'>
The IETF takes no position regarding the validity or scope of any
Intellectual Property Rights or other rights that might be claimed
to pertain to the implementation or use of the technology
described in this document or the extent to which any license
under such rights might or might not be available; nor does it
represent that it has made any independent effort to identify any
such rights.
Information on the procedures with respect to
rights in RFC documents can be found in BCP&nbsp;78 and BCP&nbsp;79.</p>
<p class='copyright'>
Copies of IPR disclosures made to the IETF Secretariat and any
assurances of licenses to be made available,
or the result of an attempt made to obtain a general license or
permission for the use of such proprietary rights by implementers or
users of this specification can be obtained from the IETF on-line IPR
repository at <a href='http://www.ietf.org/ipr'>http://www.ietf.org/ipr</a>.</p>
<p class='copyright'>
The IETF invites any interested party to bring to its attention
any copyrights,
patents or patent applications,
or other
proprietary rights that may cover technology that may be required
to implement this standard.
Please address the information to the IETF at <a href='mailto:ietf-ipr@ietf.org'>ietf-ipr@ietf.org</a>.</p>
</body></html>
