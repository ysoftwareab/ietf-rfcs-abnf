Network Working Group                                       Y. Lee, Ed.
Internet Draft                                      Huawei Technologies

Intended status: Standard Track                        R. Casellas, Ed.
Expires: May 20, 2018                                             CTTC





                                                     November 20, 2017


         PCEP Extension for WSON Routing and Wavelength Assignment


                    draft-ietf-pce-wson-rwa-ext-07.txt


Abstract

   This document provides the Path Computation Element communication
   Protocol (PCEP) extensions for the support of Routing and Wavelength
   Assignment (RWA) in Wavelength Switched Optical Networks (WSON).
   Lightpath provisioning in WSONs requires a routing and wavelength
   assignment (RWA) process.  From a path computation perspective,
   wavelength assignment is the process of determining which wavelength
   can be used on each hop of a path and forms an additional routing
   constraint to optical light path computation.

Status of this Memo

   This Internet-Draft is submitted to IETF in full conformance with
   the provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six
   months and may be updated, replaced, or obsoleted by other documents
   at any time.  It is inappropriate to use Internet-Drafts as
   reference material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt




Lee & Casellas        Expires May 20, 2018                [Page 1]

Internet-Draft       PCEP Extension for WSON RWA          November 2017


   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on May 20, 2018.

Copyright Notice

   Copyright (c) 2016 IETF Trust and the persons identified as the
   document authors. All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with
   respect to this document.  Code Components extracted from this
   document must include Simplified BSD License text as described in
   Section 4.e of the Trust Legal Provisions and are provided without
   warranty as described in the Simplified BSD License.


Table of Contents


   1. Terminology....................................................3
   2. Requirements Language..........................................3
   3. Introduction...................................................3
   4. Encoding of a RWA Path Request.................................6
      4.1. Wavelength Assignment (WA) Object.........................6
      4.2. Wavelength Selection TLV..................................8
      4.3. Wavelength Restriction Constraint TLV.....................8
         4.3.1. Link Identifier Field...............................11
         4.3.2. Wavelength Restriction Field........................12
      4.4. Signal processing capability restrictions................13
         4.4.1. Signal Processing Exclusion XRO Sub-Object..........14
         4.4.2. IRO sub-object: signal processing inclusion.........15
   5. Encoding of a RWA Path Reply..................................15
      5.1. Error Indicator..........................................16
      5.2. NO-PATH Indicator........................................17
   6. Manageability Considerations..................................17
      6.1. Control of Function and Policy...........................17
      6.2. Information and Data Models, e.g. MIB module.............18
      6.3. Liveness Detection and Monitoring........................18
      6.4. Verifying Correct Operation..............................18
      6.5. Requirements on Other Protocols and Functional Components18
      6.6. Impact on Network Operation..............................19



Lee & Casellas         Expires May 20, 2018                [Page 2]

Internet-Draft       PCEP Extension for WSON RWA         November 2017


   7. Security Considerations.......................................19
   8. IANA Considerations...........................................19
      8.1. New PCEP Object..........................................19
      8.2. New PCEP TLV: Wavelength Selection TLV...................20
      8.3. New PCEP TLV: Wavelength Restriction Constraint TLV......20
      8.4. New PCEP TLV: Wavelength Allocation TLV..................20
      8.5. New PCEP TLV: Optical Interface Class List TLV...........21
      8.6. New PCEP TLV: Client Signal TLV..........................21
      8.7. New No-Path Reasons......................................21
      8.8. New Error-Types and Error-Values.........................22
   9. Acknowledgments...............................................22
   10. References...................................................22
      10.1. Informative References..................................22
      10.2. Normative References....................................24
   11. Contributors.................................................24
   Authors' Addresses...............................................25



1. Terminology

   This document uses the terminology defined in [RFC4655], and
   [RFC5440].

2. Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [RFC2119].



3. Introduction

   [RFC4655] defines a PCE based path computation architecture and
   explains how a Path Computation Element (PCE) may compute Label
   Switched Paths (LSP) in Multiprotocol Label Switching Traffic
   Engineering (MPLS-TE) and Generalized MPLS (GMPLS) networks at the
   request of Path Computation Clients (PCCs).  A PCC is said to be any
   network component that makes such a request and may be, for
   instance, an Optical Switching Element within a Wavelength Division
   Multiplexing (WDM) network.  The PCE, itself, can be located
   anywhere within the network, and may be within an optical switching
   element, a Network Management System (NMS) or Operational Support
   System (OSS), or may be an independent network server.




Lee & Casellas         Expires May 20, 2018                [Page 3]

Internet-Draft       PCEP Extension for WSON RWA         November 2017


   The PCE communications Protocol (PCEP) is the communication protocol
   used between a PCC and a PCE, and may also be used between
   cooperating PCEs.  [RFC4657] sets out the common protocol
   requirements for PCEP.  Additional application-specific requirements
   for PCEP are deferred to separate documents.

   This document provides the PCEP extensions for the support of
   Routing and Wavelength Assignment (RWA) in Wavelength Switched
   Optical Networks (WSON) based on the requirements specified in
   [RFC6163] and [RFC7449].

   WSON refers to WDM based optical networks in which switching is
   performed selectively based on the wavelength of an optical signal.
   WSONs can be transparent or translucent. A transparent optical
   network is made up of optical devices that can switch but not
   convert from one wavelength to another, all within the optical
   domain. On the other hand, translucent networks include 3R
   regenerators that are sparsely placed. In this document, only
   wavelength converters that require electrical signal regeneration
   are considered.

   A Lambda Switch Capable (LSC) Label Switched Path (LSP) may span one
   or several transparent segments, which are delimited by 3R
   regenerators (typically with electronic regenerator and optional
   wavelength conversion). Each transparent segment or path in WSON is
   referred to as an optical path. An optical path may span multiple
   fiber links and the path should be assigned the same wavelength for
   each link. In such case, the optical path is said to satisfy the
   wavelength-continuity constraint. Figure 1 illustrates the
   relationship between a LSC LSP and transparent segments (optical
   paths).

   +---+       +-----+       +-----+      +-----+         +-----+
   |   |I1     |     |       |     |      |     |       I2|     |
   |   |o------|     |-------[(3R) ]------|     |--------o|     |
   |   |       |     |       |     |      |     |         |     |
   +---+       +-----+       +-----+      +-----+         +-----+
       (X  LSC)     (LSC  LSC)    (LSC  LSC)     (LSC  X)       SwCap
        <------->   <------->       <----->     <------->
        <-----------------------><---------------------->
         Transparent Segment         Transparent Segment
       <------------------------------------------------->
                              LSC LSP


   Figure 1 Illustration of a LSC LSP and transparent segments



Lee & Casellas         Expires May 20, 2018                [Page 4]

Internet-Draft       PCEP Extension for WSON RWA         November 2017




   Note that two optical paths within a WSON LSP do not need to operate
   on the same wavelength (due to the wavelength conversion
   capabilities). Two optical paths that share a common fiber link
   cannot be assigned the same wavelength; Otherwise, both signals
   would interfere with each other. Note that advanced additional
   multiplexing techniques such as polarization based multiplexing are
   not addressed in this document since the physical layer aspects are
   not currently standardized. Therefore, assigning the proper
   wavelength on a lightpath is an essential requirement in the optical
   path computation process.

   When a switching node has the ability to perform wavelength
   conversion, the wavelength-continuity constraint can be relaxed, and
   a LSC Label Switched Path (LSP) may use different wavelengths on
   different links along its route from origin to destination. It is,
   however, to be noted that wavelength converters may be limited due
   to their relatively high cost, while the number of WDM channels that
   can be supported in a fiber is also limited. As a WSON can be
   composed of network nodes that cannot perform wavelength conversion,
   nodes with limited wavelength conversion, and nodes with full
   wavelength conversion abilities, wavelength assignment is an
   additional routing constraint to be considered in all lightpath
   computation.

   For example (see Figure 1), within a translucent WSON, a LSC LSP may
   be established between interfaces I1 and I2, spanning 2 transparent
   segments (optical paths) where the wavelength continuity constraint
   applies (i.e. the same unique wavelength must be assigned to the LSP
   at each TE link of the segment). If the LSC LSP induced a Forwarding
   Adjacency / TE link, the switching capabilities of the TE link would
   be (X X) where X refers to the switching capability of I1 and I2.
   For example, X can be PSC, TDM, etc.

   This document aligns with GMPLS extensions for PCEP [PCEP-GMPLS] for
   generic property such as label, label-set and label assignment
   noting that wavelength is a type of label. Wavelength restrictions
   and constraints are also formulated in terms of labels per
   [RFC7579].

   The optical modulation properties, which are also referred to as
   signal compatibility, are already considered in signaling in
   [RFC7581] and [RFC7688]. In order to improve the signal quality and
   limit some optical effects several advanced modulation processing
   are used. Those modulation properties contribute not only to optical
   signal quality checks but also constrain the selection of sender and


Lee & Casellas         Expires May 20, 2018                [Page 5]

Internet-Draft       PCEP Extension for WSON RWA         November 2017


   receiver, as they should have matching signal processing
   capabilities. This document includes signal compatibility
   constraints as part of RWA path computation. That is, the signal
   processing capabilities (e.g., modulation and FEC) by the means of
   optical interface class (OIC) must be compatible between the sender
   and the receiver of the optical path across all optical elements.

   This document, however, does not address optical impairments as part
   of RWA path computation. See [RFC6566] for more information on
   optical impairments and GMPLS.

4. Encoding of a RWA Path Request

   Figure 2 shows one typical PCE based implementation, which is
   referred to as the Combined Process (R&WA). With this architecture,
   the two processes of routing and wavelength assignment are accessed
   via a single PCE. This architecture is the base architecture from
   which the requirements have been specified in [RFC7449] and the PCEP
   extensions that are going to be specified in this document based on
   this architecture.

                          +----------------------------+
            +-----+       |     +-------+     +--+     |
            |     |       |     |Routing|     |WA|     |
            | PCC |<----->|     +-------+     +--+     |
            |     |       |                            |
            +-----+       |             PCE            |
                          +----------------------------+


               Figure 2 Combined Process (R&WA) architecture



4.1. Wavelength Assignment (WA) Object

   Wavelength allocation can be performed by the PCE by different
   means:

   (a) By means of Explicit Label Control (ELC) where the PCE allocates
   which label to use for each interface/node along the path. in the
   sense that the allocated labels MAY appear after an interface route
   subobject.
   (b) By means of a Label Set where the PCE provides a range of
   potential labels to allocate by each node along the path.




Lee & Casellas         Expires May 20, 2018                [Page 6]

Internet-Draft       PCEP Extension for WSON RWA         November 2017


   Option (b) allows distributed label allocation (performed during
   signaling) to complete wavelength assignment.

   Additionally, given a range of potential labels to allocate, the
   request SHOULD convey the heuristic / mechanism to the allocation.

   The format of a PCReq message after incorporating the WA object is
   as follows:

   <PCReq Message> ::= <Common Header>

                          [<svec-list>]

                          <request-list>

      Where:

         <request-list>::=<request>[<request-list>]

         <request>::= <RP>

                      <ENDPOINTS>

                      <WA>

                      [other optional objects...]

   If the WA object is present in the request, it MUST be encoded after
   the ENDPOINTS object.

   The format of the Wavelength Assignment (WA) object body is as
   follows:

   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |          Reserved             |           Flags             |M|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                    Wavelength Selection TLV                   |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |             Wavelength Restriction Constraint TLV             |
   .                                                               .
   .                                                               .
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   //                      Optional TLVs                          //


Lee & Casellas         Expires May 20, 2018                [Page 7]

Internet-Draft       PCEP Extension for WSON RWA         November 2017


   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                            Figure 3 WA Object

   o  Reserved (16 bits)

   o  Flags (16 bits)

   The following new flags SHOULD be set

     . M (Mode - 1 bit): M bit is used to indicate the mode of
        wavelength assignment. When M bit is set to 1, this indicates
        that the label assigned by the PCE must be explicit. That is,
        the selected way to convey the allocated wavelength is by means
        of Explicit Label Control (ELC) [RFC4003] for each hop of a
        computed LSP. Otherwise, the label assigned by the PCE needs
        not be explicit (i.e., it can be suggested in the form of label
        set objects in the corresponding response, to allow distributed
        WA. In such case, the PCE MUST return a Label Set Field as
        described in Section 2.6 of [RFC7579] in the response. See
        Section 5 of this document for the encoding discussion of a
        Label Set Field in a PCRep message.

4.2. Wavelength Selection TLV

   The Wavelength Selection TLV is used to indicate the wavelength
   selection constraint in regard to the order of wavelength assignment
   to be returned by the PCE. This TLV is only applied when M bit is
   set in the WA Object specified in Section 4.1. This TLV MUST NOT be
   used when the M bit is cleared.

   The encoding of this TLV is specified as the Wavelength Selection
   Sub-TLV in Section 4.2.2 of [RFC7689].



4.3. Wavelength Restriction Constraint TLV

   For any request that contains a wavelength assignment, the requester
   (PCC) MUST be able to specify a restriction on the wavelengths to be
   used. This restriction is to be interpreted by the PCE as a
   constraint on the tuning ability of the origination laser
   transmitter or on any other maintenance related constraints. Note
   that if the LSP LSC spans different segments, the PCE MUST have
   mechanisms to know the tunability restrictions of the involved


Lee & Casellas         Expires May 20, 2018                [Page 8]

Internet-Draft       PCEP Extension for WSON RWA         November 2017


   wavelength converters / regenerators, e.g. by means of the TED
   either via IGP or NMS. Even if the PCE knows the tunability of the
   transmitter, the PCC MUST be able to apply additional constraints to
   the request.

   The format of the Wavelength Restriction Constraint TLV is as
   follows:

   <Wavelength Restriction Constraint> ::=

                  <Action> <Count> <Reserved>

                  (<Link Identifiers> <Wavelength Restriction>)...

   Where

   <Link Identifiers> ::= <Link Identifier> [<Link Identifiers>]

   See Section 4.2.1. for the encoding of the Link Identifiers Field.



   The Wavelength Restriction Constraint TLV type is TBD, recommended
   value is TBD. This TLV MAY appear more than once to be able to
   specify multiple restrictions.

   The TLV data is defined as follows:



   0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Action          |    Count      |          Reserved           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                     Link Identifiers                          |
   |                          . . .                                |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                Wavelength Restriction Field                   |
   //                        . . . .                              //
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

          Figure 4 Wavelength Restriction Constraint TLV Encoding




Lee & Casellas         Expires May 20, 2018                [Page 9]

Internet-Draft       PCEP Extension for WSON RWA         November 2017



   o  Action: 8 bits


      .  0 - Inclusive List indicates that one or more link identifiers
         are included in the Link Set. Each identifies a separate link
         that is part of the set.

      .  1 - Inclusive Range indicates that the Link Set defines a
         range of links.  It contains two link identifiers. The first
         identifier indicates the start of the range (inclusive). The
         second identifier indicates the end of the range (inclusive).
         All links with numeric values between the bounds are
         considered to be part of the set. A value of zero in either
         position indicates that there is no bound on the corresponding
         portion of the range. Note that the Action field can be set to
         0 when unnumbered link identifier is used.


   Note that "interfaces" such as those discussed in the Interfaces MIB
   [RFC2863] are assumed to be bidirectional.


   o  Count: The number of the link identifiers (8 bits)

   Note that a PCC MAY add a Wavelength restriction that applies to all
   links by setting the Count field to zero and specifying just a set
   of wavelengths.

   Note that all link identifiers in the same list must be of the same
   type.

   o  Reserved: Reserved for future use (16 bits)


   o  Link Identifiers: Identifies each link ID for which restriction
   is applied. The length is dependent on the link format and the Count
   field. See Section 4.2.1. for Link Identifier encoding and Section
   4.2.2. for the Wavelength Restriction Field encoding, respectively.








Lee & Casellas         Expires May 20, 2018               [Page 10]

Internet-Draft       PCEP Extension for WSON RWA         November 2017


        4.3.1. Link Identifier Field

   The link identifier field can be an IPv4, IPv6 or unnumbered
   interface ID.

   <Link Identifier> ::=

               <IPV4 Address> | <IPV6 Address> | <Unnumbered IF ID>

   The encoding of each case is as follows:


      IPv4 prefix Entry

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  Type = 1       | IPv4 address (4 bytes)                      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | IPv4 address (continued)                      | Prefix Length |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

      IPv6 prefix Sub-TLV

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  Type = 2       | IPv6 address (16 bytes)                     |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | IPv6 address (continued)                                      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | IPv6 address (continued)                                      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | IPv6 address (continued)                                      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | IPv6 address (continued)                      | Prefix Length |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   Unnumbered Interface ID Sub-TLV

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1



Lee & Casellas         Expires May 20, 2018               [Page 11]

Internet-Draft       PCEP Extension for WSON RWA         November 2017


   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  Type = 3       |    Reserved                                 |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                        TE Node ID                             |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                        Interface ID                           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


        4.3.2. Wavelength Restriction Field

   The Wavelength Restriction Field of the wavelength restriction TLV
   is encoded as a Label Set field as specified in [RFC7579] section
   2.6, as shown below, with base label encoded as a 32 bit LSC label,
   defined in [RFC6205].  See [RFC6205] for a description of Grid, C.S,
   Identifier and n, as well as [RFC7579] for the details of each
   action.

  0                   1                   2                   3

  0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1

  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  | Action|    Num Labels         |          Length               |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |Grid | C.S   |    Identifier   |              n                |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |     Additional fields as necessary per action                 |
  |                                                               |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


      Action:

            0  - Inclusive List

            1  - Exclusive List

            2  - Inclusive Range

            3  - Exclusive Range

            4  - Bitmap Set



Lee & Casellas         Expires May 20, 2018               [Page 12]

Internet-Draft       PCEP Extension for WSON RWA            November 2017


      Num Labels is generally the number of labels. It has a specific
      meaning depending on the action value. Num Labels is a 12 bit
      integer.

      Length is the length in bytes of the entire label set field.

   See Sections 2.6.1 - 2.6.3  of [RFC7579] for details on additional
   field discussion for each action.


4.4. Signal processing capability restrictions

   Path computation for WSON includes the check of signal processing
   capabilities, those capability MAY be provided by the IGP. Moreover,
   a PCC should be able to indicate additional restrictions for those
   signal compatibility, either on the endpoint or any given link.

   The supported signal processing capabilities are the one described
   in [RFC7446]:

      .  Optical Interface Class List

      .  Bit Rate

      .  Client Signal

   The Bit Rate restriction is already expressed in [PCEP-GMPLS] in the
   BANDWIDTH object.

   In order to support the Optical Interface Class information and the
   Client Signal information new TLVs are introduced as endpoint-
   restriction in the END-POINTS type Generalized endpoint:

      .  Client Signal TLV

      .  Optical Interface Class List TLV

   The END-POINTS type generalized endpoint is extended as follows:

   <endpoint-restrictions> ::= <LABEL-REQUEST>

                               <Wavelength Restriction Constraint>

                               [<signal-compatibility-restriction>...]



Lee & Casellas         Expires May 20, 2018               [Page 13]

Internet-Draft       PCEP Extension for WSON RWA         November 2017




Where

   signal-compatibility-restriction ::=

                    <Optical Interface Class List> <Client Signal>

   The encoding for the Optical Interface Class List is described in
   Section 4.1 of [RFC7581].

   The encoding for the Client Signal Information is described in
   Section 4.2 of [RFC7581].



        4.4.1. Signal Processing Exclusion XRO Sub-Object

   The PCC/PCE should be able to exclude particular types of signal
   processing along the path in order to handle client restriction or
   multi-domain path computation.

   In order to support the exclusion a new XRO sub-object is defined:
   the signal processing exclusion:

       0                   1                   2                   3

    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |X|  Type = X   |     Length    |   Reserved    | Attribute     |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                 sub-sub objects                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


               Figure 5 Signaling Processing XRO Sub-Object

   Refer to [RFC5521] for the definition of X, Type, Length and
   Attribute.

   The Attribute field indicates how the exclusion sub-object is to be
   interpreted. The Attribute can only be 0 (Interface) or 1 (Node).

   The sub-sub objects are encoded as in RSVP signaling definition
   [RFC7689].



Lee & Casellas         Expires May 20, 2018               [Page 14]

Internet-Draft       PCEP Extension for WSON RWA         November 2017


        4.4.2. IRO sub-object: signal processing inclusion

   Similar to the XRO sub-object the PCC/PCE should be able to include
   particular types of signal processing along the path in order to
   handle client restriction or multi-domain path computation.

   This is supported by adding the sub-object "processing" defined for
   ERO in [RFC7689] to the PCEP IRO object.



5. Encoding of a RWA Path Reply

   This section provides the encoding of a RWA Path Reply for
   wavelength allocation as discussed in Section 4. Recall that
   wavelength allocation can be performed by the PCE by different
   means:

   (a)  By means of Explicit Label Control (ELC) where the PCE
        allocates which label to use for each interface/node along the
        path.
   (b)  By means of a Label Set where the PCE provides a range of
        potential labels to allocate by each node along the path.

   Option (b) allows distributed label allocation (performed during
   signaling) to complete wavelength allocation.

   The Wavelength Allocation TLV type is TBD, recommended value is TBD.
   The TLV data is defined as follows:



   0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |              Type             |        Length               |M|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                     Link Identifier                           |
   |                          . . .                                |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                    Allocated Wavelength(s)                    |
   //                        . . . .                              //
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                Figure 6 Wavelength Allocation TLV Encoding


Lee & Casellas         Expires May 20, 2018               [Page 15]

Internet-Draft       PCEP Extension for WSON RWA         November 2017



   o  Type (16 bits): The type of the TLV.

   o  Length (15 bits): The length of the TLV including the Type and
                        Length fields.

   o  M (Mode): 1 bit


      -  0 indicates the allocation is under Explicit Label Control.

      -  1 indicates the allocation is expressed in Label Sets.


   Note that all link identifiers in the same list must be of the same
   type.


   o  Link Identifier (variable): Identifies the interface to which
   assignment wavelength(s) is applied. See Section 4.2.1. for Link
   Identifier encoding.

   o  Allocated Wavelength(s) (variable): Indicates the allocated
   wavelength(s) to the link identifier. See Section 4.2.2 for encoding
   details.

   This TLV is encoded as an attributes TLV, per [RFC5420], which is
   carried in the ERO LSP Attribute Subobjects per [RFC7570]. The type
   value of the Wavelength Restriction Constraint TLV is TBD by IANA.


5.1. Error Indicator

   To indicate errors associated with the RWA request, a new Error Type
   (TDB) and subsequent error-values are defined as follows for
   inclusion in the PCEP-ERROR Object:

   A new Error-Type (TDB) and subsequent error-values are defined as
   follows:








Lee & Casellas         Expires May 20, 2018               [Page 16]

Internet-Draft       PCEP Extension for WSON RWA         November 2017


      .  Error-Type=TBD; Error-value=1: if a PCE receives a RWA request
         and the PCE is not capable of processing the request due to
         insufficient memory, the PCE MUST send a PCErr message with a
         PCEP-ERROR Object (Error-Type=TDB) and an Error-value(Error-
         value=1).  The PCE stops processing the request.  The
         corresponding RWA request MUST be cancelled at the PCC.

      .  Error-Type=TBD; Error-value=2: if a PCE receives a RWA request
         and the PCE is not capable of RWA computation, the PCE MUST
         send a PCErr message with a PCEP-ERROR Object (Error-Type=TDB)
         and an Error-value (Error-value=2). The PCE stops processing
         the request.  The corresponding RWA computation MUST be
         cancelled at the PCC.




5.2. NO-PATH Indicator


   To communicate the reason(s) for not being able to find RWA for the
   path request, the NO-PATH object can be used in the corresponding
   response.  The format of the NO-PATH object body is defined in
   [RFC5440].  The object may contain a NO-PATH-VECTOR TLV to provide
   additional information about why a path computation has failed.

   One new bit flag is defined to be carried in the Flags field in the
   NO-PATH-VECTOR TLV carried in the NO-PATH Object.

      .  Bit TDB: When set, the PCE indicates no feasible route was
         found that meets all the constraints (e.g., wavelength
         restriction, signal compatibility, etc.) associated with RWA.



6. Manageability Considerations

   Manageability of WSON Routing and Wavelength Assignment (RWA) with
   PCE must address the following considerations:

6.1. Control of Function and Policy

   In addition to the parameters already listed in Section 8.1 of
   [RFC5440], a PCEP implementation SHOULD allow configuring the
   following PCEP session parameters on a PCC:



Lee & Casellas         Expires May 20, 2018               [Page 17]

Internet-Draft       PCEP Extension for WSON RWA         November 2017


      .  The ability to send a WSON RWA request.

   In addition to the parameters already listed in Section 8.1 of
   [RFC5440], a PCEP implementation SHOULD allow configuring the
   following PCEP session parameters on a PCE:

      .  The support for WSON RWA.

      .  A set of WSON RWA specific policies (authorized sender,
         request rate limiter, etc).


   These parameters may be configured as default parameters for any
   PCEP session the PCEP speaker participates in, or may apply to a
   specific session with a given PCEP peer or a specific group of
   sessions with a specific group of PCEP peers.


6.2. Information and Data Models, e.g. MIB module

   Extensions to the PCEP MIB module defined in [RFC7420] should be
   defined, so as to cover the WSON RWA information introduced in this
   document. A future revision of this document will list the
   information that should be added to the MIB module.

6.3. Liveness Detection and Monitoring

   Mechanisms defined in this document do not imply any new liveness
   detection and monitoring requirements in addition to those already
   listed in section 8.3 of [RFC5440].


6.4. Verifying Correct Operation

   Mechanisms defined in this document do not imply any new
   verification requirements in addition to those already listed in
   section 8.4 of [RFC5440]


6.5. Requirements on Other Protocols and Functional Components

   The PCE Discovery mechanisms ([RFC5089] and [RFC5088]) may be used
   to advertise WSON RWA path computation capabilities to PCCs.






Lee & Casellas         Expires May 20, 2018               [Page 18]

Internet-Draft       PCEP Extension for WSON RWA         November 2017


6.6. Impact on Network Operation

   Mechanisms defined in this document do not imply any new network
   operation requirements in addition to those already listed in
   section 8.6 of [RFC5440].



7. Security Considerations

   This document has no requirement for a change to the security models
   within PCEP . However the additional information distributed in
   order to address the RWA problem represents a disclosure of network
   capabilities that an operator may wish to keep private.
   Consideration should be given to securing this information.



8. IANA Considerations

   IANA maintains a registry of PCEP parameters. IANA has made
   allocations from the sub-registries as described in the following
   sections.

8.1. New PCEP Object

   As described in Section 4.1, a new PCEP Object is defined to carry
   wavelength assignment related constraints. IANA is to allocate the
   following from "PCEP Objects" sub-registry
   (http://www.iana.org/assignments/pcep/pcep.xhtml#pcep-objects):




   Object Class   Name  Object                     Reference
   Value                Type
   ---------------------------------------------------------


   TDB            WA    1: Wavelength-Assignment   [This.I-D]








Lee & Casellas         Expires May 20, 2018               [Page 19]

Internet-Draft       PCEP Extension for WSON RWA         November 2017


8.2. New PCEP TLV: Wavelength Selection TLV

   As described in Sections 4.2, a new PCEP TLV is defined to indicate
   wavelength selection constraints. IANA is to allocate this new TLV
   from the "PCEP TLV Type Indicators" subregistry
   (http://www.iana.org/assignments/pcep/pcep.xhtml#pcep-tlv-type-
   indicators).

   Value             Description                Reference
   ---------------------------------------------------------
   TBD               Wavelength Selection       [This.I-D]



8.3. New PCEP TLV: Wavelength Restriction Constraint TLV

   As described in Sections 4.3, a new PCEP TLV is defined to indicate
   wavelength restriction constraints. IANA is to allocate this new TLV
   from the "PCEP TLV Type Indicators" subregistry
   (http://www.iana.org/assignments/pcep/pcep.xhtml#pcep-tlv-type-
   indicators).

   Value             Description                Reference
   ---------------------------------------------------------
   TBD               Wavelength Restriction     [This.I-D]
                     Constraint


8.4. New PCEP TLV: Wavelength Allocation TLV

   As described in Section 5, a new PCEP TLV is defined to indicate the
   allocation of wavelength(s) by the PCE in response to a request by
   the PCC. IANA is to allocate this new TLV from the "PCEP TLV Type
   Indicators" subregistry
   (http://www.iana.org/assignments/pcep/pcep.xhtml#pcep-tlv-type-
   indicators).

   Value             Description                Reference
   ---------------------------------------------------------
   TBD               Wavelength Allocation      [This.I-D]




Lee & Casellas         Expires May 20, 2018               [Page 20]

Internet-Draft       PCEP Extension for WSON RWA         November 2017



8.5. New PCEP TLV: Optical Interface Class List TLV

   As described in Section 4.3, a new PCEP TLV is defined to indicate
   the optical interface class list. IANA is to allocate this new TLV
   from the "PCEP TLV Type Indicators" subregistry
   (http://www.iana.org/assignments/pcep/pcep.xhtml#pcep-tlv-type-
   indicators).


   Value             Description                Reference
   ---------------------------------------------------------
   TBD               Optical Interface          [This.I-D]
                     Class List

8.6. New PCEP TLV: Client Signal TLV

   As described in Section 4.3, a new PCEP TLV is defined to indicate
   the client signal information. IANA is to allocate this new TLV from
   the "PCEP TLV Type Indicators" subregistry
   (http://www.iana.org/assignments/pcep/pcep.xhtml#pcep-tlv-type-
   indicators).


   Value             Description                Reference
   ---------------------------------------------------------
   TBD               Client Signal Information  [This.I-D]



8.7. New No-Path Reasons

   As described in Section 5.2., a new bit flag are defined to be
   carried in the Flags field in the NO-PATH-VECTOR TLV carried in the
   NO-PATH Object. This flag, when set, indicates that no feasible
   route was found that meets all the RWA constraints (e.g., wavelength
   restriction, signal compatibility, etc.) associated with a RWA path
   computation request.

   IANA is to allocate this new bit flag from the "PCEP NO-PATH-VECTOR
   TLV Flag Field" subregistry
   (http://www.iana.org/assignments/pcep/pcep.xhtml#no-path-vector-
   tlv).



Lee & Casellas         Expires May 20, 2018               [Page 21]

Internet-Draft       PCEP Extension for WSON RWA         November 2017


   Bit         Description                Reference
   -----------------------------------------------------
   TBD         No RWA constraints met     [This.I-D]

8.8. New Error-Types and Error-Values

   As described in Section 5.1, new PCEP error codes are defined for
   WSON RWA errors. IANA is to allocate from the ""PCEP-ERROR Object
   Error Types and Values" sub-registry
   (http://www.iana.org/assignments/pcep/pcep.xhtml#pcep-error-object).



   Error-      Meaning           Error-Value       Reference
   Type
   ---------------------------------------------------------------


   TDB         WSON RWA Error    1: Insufficient      [This.I-D]
                                    Memory

                                 2: RWA computation   {This.I-D]
                                    Not supported



9. Acknowledgments

   The authors would like to thank Adrian Farrel for many helpful
   comments that greatly improved the contents of this draft.

   This document was prepared using 2-Word-v2.0.template.dot.



10. References

10.1. Informative References

   [RFC2119] Bradner, S., "Key words for use in RFCs to Indicate
             Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC2863] McCloghrie, K. and F. Kastenholz, "The Interfaces Group
             MIB", RFC 2863, June 2000.



Lee & Casellas         Expires May 20, 2018               [Page 22]

Internet-Draft       PCEP Extension for WSON RWA         November 2017






   [RFC4003] Berger, L., "GMPLS Signaling Procedure for Egress Control",
             RFC 4003, February 2005.

   [RFC4655] Farrel, A., Vasseur, J., and J. Ash, "A Path Computation
             Element (PCE)-Based Architecture", RFC 4655, August 2006.

   [RFC4657] Ash, J. and J. Le Roux, "Path Computation Element (PCE)
             Communication Protocol Generic Requirements", RFC 4657,
             September 2006.

   [RFC5440] Vasseur, JP., Ed. and JL. Le Roux, Ed., "Path Computation
             Element (PCE) communication Protocol", RFC 5440, March
             2009.

   [RFC5088] Le Roux, JL, JP. Vasseur, Y. Ikejiri, and R. Zhang, "OSPF
             Protocol Extensions for Path Computation Element (PCE)
             Discovery," RFC 5088, January 2008.

   [RFC5089] Le Roux, JL, JP. Vasseur, Y. Ikejiri, and R. Zhang, "IS-IS
             Protocol Extensions for Path Computation Element (PCE)
             Discovery," RFC 5089, January 2008.

   [RFC6163] Lee, Y. and Bernstein, G. (Editors), and W. Imajuku,
             "Framework for GMPLS and PCE Control of Wavelength
             Switched Optical Networks", RFC 6163, March 2011.

   [RFC6566] Y. Lee, G. Bernstein, D. Li, G. Martinelli, "A Framework
             for the Control of Wavelength Switched Optical Networks
             (WSON) with Impairments", RFC 6566, March 2012.

   [RFC7420] Koushik, A., E. Stephan, Q. Zhao, D. King, and J.
             Hardwick, "Path Computation Element Communication Protocol
             (PCEP) Management Information Base (MIB) Module", RFC
             7420, December 2014.

   [RFC7446] Y. Lee, G. Bernstein. (Editors), "Routing and Wavelength
             Assignment Information Model for Wavelength Switched
             Optical Networks", RFC 7446, February 2015.

   [RFC7449] Lee, Y., et. al., "PCEP Requirements for WSON Routing and
             Wavelength Assignment", RFC 7449, February 2015.




Lee & Casellas         Expires May 20, 2018               [Page 23]

Internet-Draft       PCEP Extension for WSON RWA         November 2017


10.2. Normative References

   [PCEP-GMPLS] Margaria, et al., "PCEP extensions for GMPLS", draft-
             ietf-pce-gmpls-pcep-extensions, work in progress.

   [RFC5420] Farrel, A. "Encoding of Attributes for MPLS LSP
             Establishment Using Resource Reservation Protocol Traffic
             Engineering (RSVP-TE)", RFC5420, February 2009.

   [RFC5521] Oki, E, T. Takeda, and A. Farrel, "Extensions to the Path
             Computation Element Communication Protocol (PCEP) for
             Route Exclusions", RFC 5521, April 2009.

   [RFC6205] Tomohiro, O. and D. Li, "Generalized Labels for Lambda-
             Switching Capable Label Switching Routers", RFC 6205,
             January, 2011.

   [RFC7570] Margaria, et al., "Label Switched Path (LSP) Attribute in
             the Explicit Route Object (ERO)", RFC 7570, July 2015.

   [RFC7689] Bernstein et al, "Signaling Extensions for Wavelength
             Switched Optical Networks", RFC 7689, November 2015.

   [RFC7688] Y. Lee, and G. Bernstein, "OSPF Enhancement for Signal and
             Network Element Compatibility for Wavelength Switched
             Optical Networks", RFC 7688, November 2015.

   [RFC7581] Bernstein and Lee, "Routing and Wavelength Assignment
             Information Encoding for Wavelength Switched Optical
             Networks", RFC7581, June 2015.

   [RFC7579] Bernstein and Lee, "General Network Element Constraint
             Encoding for GMPLS Controlled Networks", RFC 7579, June
             2015.





11. Contributors









Lee & Casellas         Expires May 20, 2018               [Page 24]

Internet-Draft       PCEP Extension for WSON RWA         November 2017


Authors' Addresses

   Young Lee, Editor
   Huawei Technologies
   1700 Alma Drive, Suite 100
   Plano, TX 75075, USA
   Phone: (972) 509-5599 (x2240)
   Email: leeyoung@huawei.com


   Ramon Casellas, Editor
   CTTC PMT Ed B4 Av.  Carl Friedrich Gauss 7
   08860 Castelldefels (Barcelona)
   Spain
   Phone: (34) 936452916
   Email: ramon.casellas@cttc.es

   Fatai Zhang
   Huawei Technologies
   Email: zhangfatai@huawei.com

   Cyril Margaria
   Nokia Siemens Networks
   St Martin Strasse 76
   Munich,   81541
   Germany
   Phone: +49 89 5159 16934
   Email: cyril.margaria@nsn.com

   Oscar Gonzalez de Dios
   Telefonica Investigacion y Desarrollo
   C/ Emilio Vargas 6
   Madrid,   28043
   Spain
   Phone: +34 91 3374013
   Email: ogondio@tid.es

   Greg Bernstein
   Grotto Networking
   Fremont, CA, USA
   Phone: (510) 573-2237
   Email: gregb@grotto-networking.com







Lee & Casellas         Expires May 20, 2018               [Page 25]

