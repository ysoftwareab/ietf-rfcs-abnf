<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>YANG model for Data Export over IP Flow Information Export (IPFIX) Protocol</title>
<meta content="Anand Arokiaraj" name="author">
<meta content="Marta Seda" name="author">
<meta content="
       This document defines a flexible, modular YANG model for data export via the IPFIX protocol.  The YANG models in this document conform to the Network Management Datastore Architecture (NMDA) defined in RFC 8342. 
    " name="description">
<meta content="xml2rfc 3.10.0" name="generator">
<meta content="draft-arokiarajseda-ipfix-data-export-yang-model-00" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.10.0
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.2
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.6.3
    pycountry 20.7.3
    pyflakes 2.3.1
    PyYAML 5.4.1
    requests 2.26.0
    setuptools 58.0.4
    six 1.16.0
-->
<link href="/tmp/draft-arokiarajseda-ipfix-data-export-yang-model-mej1zfr1.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">IPFIX Data Export Data Models</td>
<td class="right">October 2021</td>
</tr></thead>
<tfoot><tr>
<td class="left">Arokiaraj &amp; Seda</td>
<td class="center">Expires 11 April 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Network Working Group</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-arokiarajseda-ipfix-data-export-yang-model-00</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2021-10-08" class="published">8 October 2021</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-04-11">11 April 2022</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">A. Arokiaraj</div>
<div class="org">Nokia</div>
</div>
<div class="author">
      <div class="author-name">M. Seda</div>
<div class="org">Calix</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">YANG model for Data Export over IP Flow Information Export (IPFIX) Protocol</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This document defines a flexible, modular YANG model for data export via the IPFIX protocol.  The YANG models in this document conform to the Network Management Datastore Architecture (NMDA) defined in RFC 8342.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 11 April 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2021 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="xref">1.1</a>.  <a href="#name-terminology" class="xref">Terminology</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.2">
                <p id="section-toc.1-1.1.2.2.1" class="keepWithNext"><a href="#section-1.2" class="xref">1.2</a>.  <a href="#name-tree-diagrams" class="xref">Tree Diagrams</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="xref">2</a>.  <a href="#name-objectives" class="xref">Objectives</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-structure-of-the-configurat" class="xref">Structure of the Configuration Data Model</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="xref">3.1</a>.  <a href="#name-data-exporter-decomposition" class="xref">Data Exporter Decomposition</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-configuration-and-state-par" class="xref">Configuration and State Parameters</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-exporting-process-class" class="xref">Exporting Process Class</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.1">
                    <p id="section-toc.1-1.4.2.1.2.1.1"><a href="#section-4.1.1" class="xref">4.1.1</a>.  <a href="#name-exporter-class" class="xref">Exporter Class</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-transport-layer-security-cl" class="xref">Transport Layer Security Class</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="xref">4.3</a>.  <a href="#name-transport-session-class" class="xref">Transport Session Class</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4">
                <p id="section-toc.1-1.4.2.4.1"><a href="#section-4.4" class="xref">4.4</a>.  <a href="#name-template-class" class="xref">Template Class</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.5">
                <p id="section-toc.1-1.4.2.5.1"><a href="#section-4.5" class="xref">4.5</a>.  <a href="#name-data-class" class="xref">Data Class</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-yang-modules" class="xref">YANG Modules</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="xref">5.1</a>.  <a href="#name-ietf-ipfix-data-export" class="xref">ietf-ipfix-data-export</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1.2.1">
                    <p id="section-toc.1-1.5.2.1.2.1.1"><a href="#section-5.1.1" class="xref">5.1.1</a>.  <a href="#name-ietf-ipfix-data-export-modu" class="xref">ietf-ipfix-data-export Module Structure</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1.2.2">
                    <p id="section-toc.1-1.5.2.1.2.2.1"><a href="#section-5.1.2" class="xref">5.1.2</a>.  <a href="#name-ietf-ipfix-data-export-yang" class="xref">ietf-ipfix-data-export YANG module</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-acknowledgments" class="xref">Acknowledgments</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-normative-references" class="xref">Normative References</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-informative-references" class="xref">Informative References</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#appendix-A" class="xref">Appendix A</a>.  <a href="#name-example-ietf-ipfix-data-exp" class="xref">Example: ietf-ipfix-data-export Usage</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#appendix-B" class="xref">Appendix B</a>.  <a href="#name-tree-diagrams-2" class="xref">Tree diagrams</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.1">
                <p id="section-toc.1-1.12.2.1.1"><a href="#appendix-B.1" class="xref">B.1</a>.  <a href="#name-ietf-ipfix-data-export-2" class="xref">ietf-ipfix-data-export</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#appendix-C" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">A device may be exporting statistics and other data for the consumption of a collector.  The IPFIX protocol may be used to transport data such as:<a href="#section-1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1-2.1">
          <p id="section-1-2.1.1">Statistics from interfaces and sessions: YANG models define statistics that can be retrieved via protocols such as NETCONF <span>[<a href="#RFC6241" class="xref">RFC6241</a>]</span> or RESTCONF <span>[<a href="#RFC8040" class="xref">RFC8040</a>]</span>.<a href="#section-1-2.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-1-2.2">
          <p id="section-1-2.2.1">State data that can be used to correlate the statisticis.<a href="#section-1-2.2.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="section-1-3">These statistics and state information can be streamed using an IPFIX transport to an IPFIX collector that supports analytics tools.  An operator may wish to take the data and analyze it for trend analysis purposes or other usages (e.g., collect octet counts every 5 minutes for service level agreement purposes or collect reported device temperature for network health purposes).<a href="#section-1-3" class="pilcrow">¶</a></p>
<div id="terminology">
<section id="section-1.1">
        <h3 id="name-terminology">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
        </h3>
<p id="section-1.1-1">The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>", "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as described in BCP 14 <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span> when, and only when, they appear in all capitals, as shown here.<a href="#section-1.1-1" class="pilcrow">¶</a></p>
<p id="section-1.1-2">The following terms that are defined in RFC7011 are not redefined here:<br>
Observation Domain
Exporting Process
Exporter
IPFIX Device
Collecting Process
Collector
Template
IPFIX Message
Template Record
Data Record
Options Template Record
Set
Template Set
Options Template Set
Data Set
Information Element
Transport Session<a href="#section-1.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="tree-diagrams">
<section id="section-1.2">
        <h3 id="name-tree-diagrams">
<a href="#section-1.2" class="section-number selfRef">1.2. </a><a href="#name-tree-diagrams" class="section-name selfRef">Tree Diagrams</a>
        </h3>
<p id="section-1.2-1">Tree diagrams used in this document follow the notation defined in <span>[<a href="#RFC8340" class="xref">RFC8340</a>]</span>.<a href="#section-1.2-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="objectives">
<section id="section-2">
      <h2 id="name-objectives">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-objectives" class="section-name selfRef">Objectives</a>
      </h2>
<p id="section-2-1">This section describes some of the design objectives for the model presented in this RFC.<a href="#section-2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2-2.1">
          <p id="section-2-2.1.1">The model should focus purely on the requirements for a data export mechanism and not involve packet sampling, selection or collection process.<a href="#section-2-2.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-2-2.2">
          <p id="section-2-2.2.1">References to physical and logical interface should be as simple as possible (e.g., through a leafref).<a href="#section-2-2.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-2-2.3">
          <p id="section-2-2.3.1">The model should support a reliable and secure transport mechanism.<a href="#section-2-2.3.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-2-2.4">
          <p id="section-2-2.4.1">The data model should provide suffient state and statistic information for a network operator to determine the state of the individual transport sessions.<a href="#section-2-2.4.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-2-2.5">
          <p id="section-2-2.5.1">The data model should provide reference in the template and IE id state information to correlate it to the configuration.<a href="#section-2-2.5.1" class="pilcrow">¶</a></p>
</li>
      </ul>
</section>
</div>
<div id="structure-of-the-configuration-data-model">
<section id="section-3">
      <h2 id="name-structure-of-the-configurat">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-structure-of-the-configurat" class="section-name selfRef">Structure of the Configuration Data Model</a>
      </h2>
<p id="section-3-1">IPFIX data export yang model - inline with RFC 7317/RFC8343<a href="#section-3-1" class="pilcrow">¶</a></p>
<div id="data-exporter-decomposition">
<section id="section-3.1">
        <h3 id="name-data-exporter-decomposition">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-data-exporter-decomposition" class="section-name selfRef">Data Exporter Decomposition</a>
        </h3>
<p id="section-3.1-1"><a href="#datamodel" class="xref">Figure 1</a> shows the main classes of the configuration model that are involved in data export.  In a device that has a resource instance capable of reporting data through IPFIX, a data template is created and applied to that resource instance.<a href="#section-3.1-1" class="pilcrow">¶</a></p>
<p id="section-3.1-2">The ExportingProcess class contains configuration and state parameters of an exporting-process.  It includes various TCP-specific parameters and the export destinations.  The data-template may refer to multiple instances of the ExportingProcess class.<a href="#section-3.1-2" class="pilcrow">¶</a></p>
<span id="name-data-exporter-model"></span><div id="datamodel">
<figure id="figure-1">
          <div class="alignLeft art-text artwork" id="section-3.1-3.1">
<pre> +--------------------------------+
 | module:ietf-ipfix--data-export |
 |--------------------------------|
 +--------------------------------+
              ^
              |
            1 |
 +------------+-------+              +---------------+
 | list:template-set  |              | list:resource |
 |--------------------|-------------&gt;+---------------|
 +------------+-------+         0..* +---------------+
              |
         0..* | exporting-process-ref
              v
 +-------------------------+
 | list:exporting-process  |
 |-------------------------|
 +-------------------------+
</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-data-exporter-model" class="selfRef">Data Exporter Model</a>
          </figcaption></figure>
</div>
</section>
</div>
</section>
</div>
<div id="configuration-and-state-parameters">
<section id="section-4">
      <h2 id="name-configuration-and-state-par">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-configuration-and-state-par" class="section-name selfRef">Configuration and State Parameters</a>
      </h2>
<p id="section-4-1">This section specifies the configuration and state parameters of the configuration data model separately for each class.<a href="#section-4-1" class="pilcrow">¶</a></p>
<div id="exporting-process-class">
<section id="section-4.1">
        <h3 id="name-exporting-process-class">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-exporting-process-class" class="section-name selfRef">Exporting Process Class</a>
        </h3>
<p id="section-4.1-1">The ExportingProcess class in <a href="#exportingprocess" class="xref">Figure 2</a>) specifies destinations to which the incoming packet reports and flow records are exported using objects of the destination class.  The destination class includes exporter.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1-2">The ExportingProcess class contains the identifier of the exporting process (exporting-process-id).  This parameter corresponds to the information element exportingProcessId <span>[<a href="#IANA-IPFIX" class="xref">IANA-IPFIX</a>]</span>.  Its occurrence helps to associate exporting process reliability statistics exported according to the IPFIX protocol specification <span>[<a href="#RFC7011" class="xref">RFC7011</a>]</span> with the corresponding object of the ExportingProcess class.<a href="#section-4.1-2" class="pilcrow">¶</a></p>
<p id="section-4.1-3">The order in which destination instances appear has a specific meaning only if the export-mode parameter is set to "fallback".<a href="#section-4.1-3" class="pilcrow">¶</a></p>
<span id="name-exporting-process-class-2"></span><div id="exportingprocess">
<figure id="figure-2">
          <div class="alignLeft art-text artwork" id="section-4.1-4.1">
<pre>     +--rw exporting-process* [name] {exporter}?
        +--rw name                    name-type
        +--rw enabled?                boolean
        +--rw export-mode?            identityref
        +--rw destination* [name]
        |  +--rw name                   name-type
        |  +--rw exporter
        |         ...
        +--rw options* [name]
        |  +--rw name               name-type
        |  +--rw options-type       identityref
        |  +--rw options-timeout?   uint32
        +--ro exporting-process-id?   uint32
</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-exporting-process-class-2" class="selfRef">Exporting Process Class</a>
          </figcaption></figure>
</div>
<p id="section-4.1-5">The Exporting Process parameters are defined as follows:<a href="#section-4.1-5" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-4.1-6">
          <dt id="section-4.1-6.1">enabled</dt>
          <dd style="margin-left: 1.5em" id="section-4.1-6.2">
            <p id="section-4.1-6.2.1">Enables the exporting process to begin exporting data.  The default is "enabled".<a href="#section-4.1-6.2.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-4.1-6.3">export-mode</dt>
          <dd style="margin-left: 1.5em" id="section-4.1-6.4">
            <p id="section-4.1-6.4.1">Determines to which configured destination(s) the incoming data records are exported.  The following parameter values are specified by the configuration data model:<a href="#section-4.1-6.4.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.1-6.4.2.1">parallel: every data record is exported to all configured destinations in parallel<a href="#section-4.1-6.4.2.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-4.1-6.4.2.2">load-balancing: every data record is exported to exactly one configured destination according to a device-specific load-balancing policy<a href="#section-4.1-6.4.2.2" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-4.1-6.4.2.3">fallback: every data record is exported to exactly one configured destination according to the fallback policy described below<a href="#section-4.1-6.4.2.3" class="pilcrow">¶</a>
</li>
            </ul>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-4.1-7">If export-mode is set to "fallback", the first destination instance defines the primary destination, the second destination instance defines the secondary destination, and so on.  If the exporting process fails to export data records to the primary destination, it tries to export them to the secondary one.  If the secondary destination fails as well, it continues with the tertiary, etc. "parallel" is the default value if exportmode is not configured.<a href="#section-4.1-7" class="pilcrow">¶</a></p>
<p id="section-4.1-8">Note that the export-mode parameter is related to the ipfixExportMemberType object in <span>[<a href="#RFC6615" class="xref">RFC6615</a>]</span>.  If export-mode is "parallel", the ipfixExportMemberType values of the corresponding entries in IpfixExportTable are set to parallel(3).  If export-mode is "load-balancing", the ipfixExportMemberType values of the corresponding entries in IpfixExportTable are set to loadBalancing(4).  If exportmode is "fallback", the ipfixExportMemberType value that refers to the primary destination is set to primary(1); the ipfixExportMemberType values that refer to the remaining destinations need to be set to secondary(2).  The IPFIX mib module does not define any value for tertiary destination, etc.<a href="#section-4.1-8" class="pilcrow">¶</a></p>
<p id="section-4.1-9">The reporting of information with options templates is defined with objects of the Options class.<a href="#section-4.1-9" class="pilcrow">¶</a></p>
<p id="section-4.1-10">The exporting process may modify the packet reports and flow records to enable a more efficient transmission or storage under the condition that no information is changed or suppressed.  For example, the exporting process may shorten the length of a field according to the rules of reduced size encoding <span>[<a href="#RFC7011" class="xref">RFC7011</a>]</span>.  The exporting process may also export certain fields in a separate data record as described in <span>[<a href="#RFC5476" class="xref">RFC5476</a>]</span>.<a href="#section-4.1-10" class="pilcrow">¶</a></p>
<div id="exporter-class">
<section id="section-4.1.1">
          <h4 id="name-exporter-class">
<a href="#section-4.1.1" class="section-number selfRef">4.1.1. </a><a href="#name-exporter-class" class="section-name selfRef">Exporter Class</a>
          </h4>
<p id="section-4.1.1-1">The exporter class shown in {#exporter} contains the configuration parameters of a TCP export destination.<a href="#section-4.1.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1.1-2">Using the TransportLayerSecurity class described in <a href="#transport-layer-security-class" class="xref">Section 4.2</a>, Transport Layer Security (TLS) is enabled and configured for this export destination.<a href="#section-4.1.1-2" class="pilcrow">¶</a></p>
<p id="section-4.1.1-3">The TransportSession class is specified in <a href="#transport-session-class" class="xref">Section 4.3</a>.<a href="#section-4.1.1-3" class="pilcrow">¶</a></p>
<span id="name-tcp-exporter-class-tcpexpor"></span><figure id="figure-3">
            <div class="alignLeft art-text artwork" id="section-4.1.1-4.1">
<pre>        +--rw exporter
           +--rw ipfix-version?               uint16
           +--rw destination-port?
           |       inet:port-number
           +--rw send-buffer-size?            uint32
           +--rw rate-limit?                  uint32
           +--rw transport-layer-security!
           |     ...
           +--rw source
           |  +--rw (source-method)?
           |     +--:(source-address)
           |     |  +--rw source-address?   inet:host
           |     +--:(interface-ref)
           |     |  +--rw interface-ref?    if:interface-ref
           |     +--:(if-name) {if-mib}?
           |        +--rw if-name?          string
           +--rw destination
           |  +--rw (destination-method)
           |     +--:(destination-address)
           |        +--rw destination-address?   inet:host
           +--ro transport-session
</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-tcp-exporter-class-tcpexpor" class="selfRef">TCP Exporter Class {#tcpexporter}
### Options Class</a>
            </figcaption></figure>
<p id="section-4.1.1-5">The Options class in <a href="#options" class="xref">Figure 4</a> defines the type of specific information to be reported, such as statistics and filtering parameters, etc.  <span>[<a href="#RFC7011" class="xref">RFC7011</a>]</span> and <span>[<a href="#RFC5476" class="xref">RFC5476</a>]</span> specify several types of reporting information that may be exported.<a href="#section-4.1.1-5" class="pilcrow">¶</a></p>
<span id="name-options-class"></span><div id="options">
<figure id="figure-4">
            <div class="alignLeft art-text artwork" id="section-4.1.1-6.1">
<pre>     +--rw options* [name]
        +--rw name               name-type
        +--rw options-type       identityref
        +--rw options-timeout?   uint32
</pre>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a>:
<a href="#name-options-class" class="selfRef">Options Class</a>
            </figcaption></figure>
</div>
<p id="section-4.1.1-7">The following parameter values are specified by the configuration data model:<a href="#section-4.1.1-7" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-4.1.1-8">
            <dt id="section-4.1.1-8.1">exporting-reliability</dt>
            <dd style="margin-left: 1.5em" id="section-4.1.1-8.2">
              <p id="section-4.1.1-8.2.1">Export of exporting process reliability statistics using the exporting process reliability statistics options template <span>[<a href="#RFC7011" class="xref">RFC7011</a>]</span>.<a href="#section-4.1.1-8.2.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-4.1.1-8.3">accuracy</dt>
            <dd style="margin-left: 1.5em" id="section-4.1.1-8.4">
              <p id="section-4.1.1-8.4.1">Export of accuracy report interpretation <span>[<a href="#RFC5476" class="xref">RFC5476</a>]</span>.<a href="#section-4.1.1-8.4.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-4.1.1-8.5">reducing-redundancy</dt>
            <dd style="margin-left: 1.5em" id="section-4.1.1-8.6">
              <p id="section-4.1.1-8.6.1">Enables the utilization of options templates to reduce redundancy in the exported data records according to <span>[<a href="#RFC5473" class="xref">RFC5473</a>]</span>.  The exporting process decides when to apply these options templates.<a href="#section-4.1.1-8.6.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-4.1.1-8.7">extended-type-information</dt>
            <dd style="margin-left: 1.5em" id="section-4.1.1-8.8">
              <p id="section-4.1.1-8.8.1">Export of extended type information for enterprise-specific information elements used in the exported templates <span>[<a href="#RFC5610" class="xref">RFC5610</a>]</span>.<a href="#section-4.1.1-8.8.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-4.1.1-9">The exporting process must choose a template definition according to the options type and available options data.  The options-timeout parameter specifies the reporting interval (in milliseconds) for periodic export of the option data.  A parameter value of zero means that the export of the option data is not triggered periodically,  but whenever the available option data has changed.  this is the typical setting for options types accuracy and reducing-redundancy.  If options-timeout is not configured by the user, it is set by the monitoring device.<a href="#section-4.1.1-9" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="transport-layer-security-class">
<section id="section-4.2">
        <h3 id="name-transport-layer-security-cl">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-transport-layer-security-cl" class="section-name selfRef">Transport Layer Security Class</a>
        </h3>
<p id="section-4.2-1"><a href="#transportlayersec" class="xref">Figure 5</a> shows the TransportLayerSecurity class which is used in the exporting process's class to enable and configure TLS for IPFIX.  If TLS is enabled, the endpoint must use TLS <span>[<a href="#RFC8446" class="xref">RFC8446</a>]</span> since the transport protocol is TCP.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<p id="section-4.2-2"><span>[<a href="#RFC7011" class="xref">RFC7011</a>]</span> mandates strong mutual authentication of exporting processes as follows.  IPFIX exporting processes are identified by the fully qualified domain name (FQDN) of the interface on which IPFIX messages are sent or received, for purposes of X.509 client and server certificates as in <span>[<a href="#RFC5280" class="xref">RFC5280</a>]</span>.  To prevent man-in-the-middle attacks from impostor collecting processes, the export of data to an unauthorized collecting process, strong mutual authentication via asymmetric keys must be used for TLS.  Each of the IPFIX exporting processes must verify the identity of its peer against its authorized certificates, and must verify that the peer's certificate matches its fully qualified domain name.<a href="#section-4.2-2" class="pilcrow">¶</a></p>
<p id="section-4.2-3">The fully qualified domain name used to identify an IPFIX collecting process or exporting process may be stored either in a subjectaltname extension of type dnsname, or in the most specific common name field of the subject field of the x.509 certificate.  If both are present, the subjectaltname extension is given preference.<a href="#section-4.2-3" class="pilcrow">¶</a></p>
<p id="section-4.2-4">In order to use TLS/DTLS, appropriate certificates and keys have to be previously installed on the monitoring devices.  For security reasons, the configuration data model does not offer the possibility to upload any certificates or keys on a monitoring device.  If TLS/DTLS is enabled on a monitoring device that does not dispose of appropriate certificates and keys, the configuration must be rejected with an error.<a href="#section-4.2-4" class="pilcrow">¶</a></p>
<p id="section-4.2-5">The configuration data model allows restricting the authorization of remote endpoints to certificates issued by specific certification authorities or identifying specific fqdns for authorization.  Furthermore, the configuration data model allows restricting the utilization of certificates identifying the local endpoint.  This is useful if the monitoring device disposes of more than one certificate for the given local endpoint.<a href="#section-4.2-5" class="pilcrow">¶</a></p>
<span id="name-transport-layer-security-cla"></span><div id="transportlayersec">
<figure id="figure-5">
          <div class="alignLeft art-text artwork" id="section-4.2-6.1">
<pre>     +--rw transport-layer-security!
        +--rw local-certification-authority-dn*    string
        +--rw local-subject-dn*                    string
        +--rw local-subject-fqdn*                  inet:domain-name
        +--rw remote-certification-authority-dn*   string
        +--rw remote-subject-dn*                   string
        +--rw remote-subject-fqdn*                 inet:domain-name
</pre>
</div>
<figcaption><a href="#figure-5" class="selfRef">Figure 5</a>:
<a href="#name-transport-layer-security-cla" class="selfRef">Transport Layer Security Class</a>
          </figcaption></figure>
</div>
<p id="section-4.2-7">The configuration parameters are defined as follows:<a href="#section-4.2-7" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-4.2-8">
          <dt id="section-4.2-8.1">local-certification-authority-dn</dt>
          <dd style="margin-left: 1.5em" id="section-4.2-8.2">
            <p id="section-4.2-8.2.1">This parameter may appear one or more times to restrict the identification of the local endpoint during the tls/dtls handshake to certificates issued by the configured certification authorities.  each occurrence of this parameter contains the distinguished name of one certification authority.  To identify the local endpoint, the exporting process or collecting process must use a certificate issued by one of the configured certification authorities.  Certificates issued by any other certification authority must not be sent to the remote peer during TLS/DTLS handshake.  If none of the certificates installed on the monitoring device fulfills the specified restrictions, the configuration must be rejected with an error.  If local-certification-authority-dn is not configured, the choice of certificates identifying the local endpoint is not restricted with respect to the issuing certification authority.<a href="#section-4.2-8.2.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-4.2-8.3">local-subject-dn, local-subject-fqdn</dt>
          <dd style="margin-left: 1.5em" id="section-4.2-8.4">
            <p id="section-4.2-8.4.1">Each of these parameters may appear one or more times to restrict the identification of the local endpoint during the TLS/DTLS handshake to certificates issued for specific subjects or for specific FQDNs.  Each occurrence of local-subject-dn contains a distinguished name identifying the local endpoint.  Each occurrence of local-subject-fqdn contains a FQDN which is assigned to the local endpoint.  To identify the local endpoint, the exporting process or collecting process must use a certificate that contains either one of the configured distinguished names in the subject field or at least one of the configured FQDNs in a dnsname component of the subject alternative extension field or in the most specific commonname component of the subject field.  If none of the certificates installed on the monitoring device fulfills the specified restrictions, the configuration must be rejected with an error.  If any of the parameters local-subject-dn and local-subject-fqdn is configured at the same time as the local-certification-authority-dn parameter, certificates must also fulfill the specified restrictions regarding the certification authority.  If local-subject-dn and local-subject-fqdn are not configured, the choice of certificates identifying the local endpoint is not restricted with respect to the subject's distinguished name or FQDN.<a href="#section-4.2-8.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-4.2-8.5">remote-certification-authority-dn</dt>
          <dd style="margin-left: 1.5em" id="section-4.2-8.6">
            <p id="section-4.2-8.6.1">This parameter may appear one or more times to restrict the authentication of remote endpoints during the TLS/DTLS handshake to certificates issued by the configured certification authorities.  Each occurrence of this parameter contains the distinguished name of one certification authority.  To authenticate the remote endpoint, the remote exporting process or collecting process must provide a certificate issued by one of the configured certification authorities.  Certificates issued by any other certification authority must be rejected during TLS/DTLS handshake.  If the monitoring device is not able to validate certificates issued by the configured certification authorities (e.g., because of missing public keys), the configuration must be rejected with an error.  If remote-certification-authority-dn is not configured, the authorization of remote endpoints is not restricted with respect to the issuing certification authority of the delivered certificate.<a href="#section-4.2-8.6.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-4.2-8.7">remote-subject-dn, remote-subject-fqdn</dt>
          <dd style="margin-left: 1.5em" id="section-4.2-8.8">
            <p id="section-4.2-8.8.1">Each of these parameters may appear one or more times to restrict the authentication of remote endpoints during the TLS/DTLS handshake to certificates issued for specific subjects or for specific FQDNs.  Each occurrence of remote-subject-dn contains a distinguished name identifying a remote endpoint.  Each occurrence of remote-subject-fqdn contains a FQDN that is assigned to a remote endpoint. To authenticate a remote endpoint, the remote exporting process or collecting process must provide a certificate that contains either one of the configured distinguished names in the subject field or at least one of the configured FQDNs in a dnsname component of the subject alternative extension field or in the most specific common name component of the subject field.  Certificates not fulfilling this condition must be rejected during TLS/DTLS handshake. If any of the parameters remote-subject-dn and remote-subject-fqdn is configured at the same time as the remote-certification-authority-dn parameter, certificates must also fulfill the specified restrictions regarding the certification authority in order to be accepted.  If remote-subject-dn and remote-subject-FQDN are not configured, the authorization of remote endpoints is not restricted with respect to the subject's distinguished name or FQDN of the delivered certificate.<a href="#section-4.2-8.8.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="transport-session-class">
<section id="section-4.3">
        <h3 id="name-transport-session-class">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-transport-session-class" class="section-name selfRef">Transport Session Class</a>
        </h3>
<p id="section-4.3-1">The TransportSession class contains state data about transport sessions originating from an exporting process or terminating at a collecting process.<a href="#section-4.3-1" class="pilcrow">¶</a></p>
<p id="section-4.3-2">The following attributes are supported:<a href="#section-4.3-2" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-4.3-3">
          <dt id="section-4.3-3.1">ipfix-version</dt>
          <dd style="margin-left: 1.5em" id="section-4.3-3.2">
            <p id="section-4.3-3.2.1">Used for exporting processes, this parameter contains the version number of the IPFIX protocol that the exporter uses to export its data in this transport session.  Hence, it is identical to the value of the configuration parameter ipfix-version of the exporter object.  When used for collecting processes, this parameter contains the version-number of the IPFIX protocol it receives for this transport session.  If IPFIX messages of different IPFIX protocol versions are received, this parameter contains the maximum version number.  This state parameter is identical to ipfixTransportSessionIpfixVersion in the IPFIX MIB module <span>[<a href="#RFC6615" class="xref">RFC6615</a>]</span>.<a href="#section-4.3-3.2.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-4.3-3.3">source-address, destination-address</dt>
          <dd style="margin-left: 1.5em" id="section-4.3-3.4">
            <p id="section-4.3-3.4.1">Source-address contains the IP address or hostname of the exporter, and destination-address contains the IP address or hostname of the collector. Hence, the two parameters have identical values as ipfixTransportSessionSourceAddress and ipfixTransportSessionDestinationAddress in the IPFIX MIB module <span>[<a href="#RFC6615" class="xref">RFC6615</a>]</span>.<a href="#section-4.3-3.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-4.3-3.5">source-port, destination-port</dt>
          <dd style="margin-left: 1.5em" id="section-4.3-3.6">
            <p id="section-4.3-3.6.1">These state parameters contain the transport-protocol port numbers of the exporter and the collector of the transport session and thus are identical to ipfixTransportSessionSourcePort and ipfixTransportSessionDestinationPort in the IPFIX MIB module <span>[<a href="#RFC6615" class="xref">RFC6615</a>]</span>.<a href="#section-4.3-3.6.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-4.3-3.7">status</dt>
          <dd style="margin-left: 1.5em" id="section-4.3-3.8">
            <p id="section-4.3-3.8.1">Status of the transport session, which can be one of the following:<a href="#section-4.3-3.8.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.3-3.8.2.1">inactive: transport session is established, but no IPFIX messages are currently transferred (e.g., because this is a backup (secondary) session)<a href="#section-4.3-3.8.2.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-4.3-3.8.2.2">active: transport session is established and transfers IPFIX messages<a href="#section-4.3-3.8.2.2" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-4.3-3.8.2.3">unknown: transport session status cannot be determined; this state parameter is identical to ipfixTransportSessionStatus in the IPFIX MIB module <span>[<a href="#RFC6615" class="xref">RFC6615</a>]</span><a href="#section-4.3-3.8.2.3" class="pilcrow">¶</a>
</li>
            </ul>
</dd>
          <dd class="break"></dd>
<dt id="section-4.3-3.9">rate</dt>
          <dd style="margin-left: 1.5em" id="section-4.3-3.10">
            <p id="section-4.3-3.10.1">The number of bytes per second transmitted by the exporting process or received by the collecting process.  This parameter is updated every second.  This state parameter is identical to ipfixtransportsessionrate in the IPFIX MIB module <span>[<a href="#RFC6615" class="xref">RFC6615</a>]</span>.<a href="#section-4.3-3.10.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-4.3-3.11">bytes, messages, records, templates, options-templates</dt>
          <dd style="margin-left: 1.5em" id="section-4.3-3.12">
            <p id="section-4.3-3.12.1">The number of bytes, IPFIX messages, data records, template records, and options template records transmitted by the exporting process or received by the collecting process.  Discontinuities in the values of these counters can occur at re-initialization of the management system, and at other times as indicated by the value of transport-session-discontinuity-time.<a href="#section-4.3-3.12.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-4.3-3.13">discarded-messages</dt>
          <dd style="margin-left: 1.5em" id="section-4.3-3.14">
            <p id="section-4.3-3.14.1">Used for exporting processes, this parameter indicates the number of messages that could not be sent due to internal buffer overflows, network congestion, routing issues, etc.  Used for collecting process, this parameter indicates the number of received IPFIX messages that are malformed, cannot be decoded, are received in the wrong order or are missing according to the sequence number.  Discontinuities in the value of this counter can occur at re-initialization of the management system, and at other times as indicated by the value of transport-session-discontinuity-time.<a href="#section-4.3-3.14.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-4.3-3.15">transport-session-start-time</dt>
          <dd style="margin-left: 1.5em" id="section-4.3-3.16">
            <p id="section-4.3-3.16.1">Timestamp of the start of the given transport session.<a href="#section-4.3-3.16.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-4.3-3.17">transport-session-discontinuity-time</dt>
          <dd style="margin-left: 1.5em" id="section-4.3-3.18">
            <p id="section-4.3-3.18.1">Timestamp of the most recent occasion at which one or more of the transport session counters suffered a discontinuity.  The time is absolute and not relative to sysUpTime.  Note that, if used for exporting processes, the values of the state parameters destination-address and destination-port match the values of the configuration parameters destination-ip-address and destination-port of the exporter.<a href="#section-4.3-3.18.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-4.3-4">The TransportSession class includes Template class information and statistics about the templates transmitted or received on the given transport session.  The Template class is specified in <a href="#template-class" class="xref">Section 4.4</a>.<a href="#section-4.3-4" class="pilcrow">¶</a></p>
<span id="name-transport-session-class-2"></span><div id="transportsession">
<figure id="figure-6">
          <div class="alignLeft art-text artwork" id="section-4.3-5.1">
<pre>     +--ro transport-session* [name]
        +--ro name                                    name-type
        +--ro ipfix-version?                          uint16
        +--ro source-address?                         inet:host
        +--ro destination-address?                    inet:host
        +--ro source-port?
        |       inet:port-number
        +--ro destination-port?
        |       inet:port-number
        +--ro status?
        |       transport-session-status
        +--ro rate?
        |       yang:gauge32
        +--ro bytes?
        |       yang:counter64
        +--ro messages?
        |       yang:counter64
        +--ro discarded-messages?
        |       yang:counter64
        +--ro records?
        |       yang:counter64
        +--ro templates?
        |       yang:counter32
        +--ro options-templates?
        |       yang:counter32
        +--ro transport-session-start-time?
        |       yang:date-and-time
        +--ro transport-session-discontinuity-time?
        |       yang:date-and-time
        +--ro template* []
          ...
</pre>
</div>
<figcaption><a href="#figure-6" class="selfRef">Figure 6</a>:
<a href="#name-transport-session-class-2" class="selfRef">Transport Session Class</a>
          </figcaption></figure>
</div>
</section>
</div>
<div id="template-class">
<section id="section-4.4">
        <h3 id="name-template-class">
<a href="#section-4.4" class="section-number selfRef">4.4. </a><a href="#name-template-class" class="section-name selfRef">Template Class</a>
        </h3>
<p id="section-4.4-1"><a href="#templateclass" class="xref">Figure 7</a> shows the Template class which contains state data about templates used by an exporting process or received by a collecting process in a specific transport session.  The field class defines one field of the template.<a href="#section-4.4-1" class="pilcrow">¶</a></p>
<span id="name-template-class-2"></span><div id="templateclass">
<figure id="figure-7">
          <div class="alignLeft art-text artwork" id="section-4.4-2.1">
<pre>        +--ro template* [name]
           +--ro name                           name-type
           +--ro observation-domain-id?         uint32
           +--ro template-id?                   uint16
           +--ro set-id?                        uint16
           +--ro access-time?                   yang:date-and-time
           +--ro template-data-records?         yang:counter64
           +--ro template-discontinuity-time?   yang:date-and-time
           +--ro field* [name]
              +--ro name                    name-type
              +--ro ie-id?                  ie-id-type
              +--ro ie-length?              uint16
              +--ro ie-enterprise-number?   uint32
              +--ro is-scope?               empty
</pre>
</div>
<figcaption><a href="#figure-7" class="selfRef">Figure 7</a>:
<a href="#name-template-class-2" class="selfRef">Template Class</a>
          </figcaption></figure>
</div>
<p id="section-4.4-3">The names and semantics of the state parameters correspond to the managed objects in the ipfixTemplateTable, ipfixTemplateDefinitionTable, and ipfixTemplateStatsTable of the IPFIX MIB module <span>[<a href="#RFC6615" class="xref">RFC6615</a>]</span>:<a href="#section-4.4-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-4.4-4">
          <dt id="section-4.4-4.1">observation-domain-id</dt>
          <dd style="margin-left: 1.5em" id="section-4.4-4.2">
            <p id="section-4.4-4.2.1">The identifier of the observation domain for which this template is defined.<a href="#section-4.4-4.2.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-4.4-4.3">template-id</dt>
          <dd style="margin-left: 1.5em" id="section-4.4-4.4">
            <p id="section-4.4-4.4.1">This number indicates the template identifier in the IPFIX Message.<a href="#section-4.4-4.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-4.4-4.5">set-id</dt>
          <dd style="margin-left: 1.5em" id="section-4.4-4.6">
            <p id="section-4.4-4.6.1">This number indicates the set identifier of this template.  Currently, there are two values defined <span>[<a href="#RFC7011" class="xref">RFC7011</a>]</span>.  The value 2 is used for sets containing template definitions.  The value 3 is used for sets containing options template definitions.<a href="#section-4.4-4.6.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-4.4-4.7">access-time</dt>
          <dd style="margin-left: 1.5em" id="section-4.4-4.8">
            <p id="section-4.4-4.8.1">Used for exporting processes, this parameter contains the time when this (Options) Template was last sent to the Collector or written to the file.  Used for Collecting Processes, this parameter contains the time when this (Options) Template was last received from the Exporter or read from the file.<a href="#section-4.4-4.8.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-4.4-4.9">template-data-records</dt>
          <dd style="margin-left: 1.5em" id="section-4.4-4.10">
            <p id="section-4.4-4.10.1">The number of transmitted or received data records defined by this (options) template since the point in time indicated by template-definition-time.<a href="#section-4.4-4.10.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-4.4-4.11">template-discontinuity-time</dt>
          <dd style="margin-left: 1.5em" id="section-4.4-4.12">
            <p id="section-4.4-4.12.1">Timestamp of the most recent occasion at which the counter template-data-records suffered a discontinuity.  The time is absolute and not relative to sysUpTime.<a href="#section-4.4-4.12.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-4.4-4.13">ie-id, ie-length, ie-enterprise-number</dt>
          <dd style="margin-left: 1.5em" id="section-4.4-4.14">
            <p id="section-4.4-4.14.1">Information Element identifier, length, and enterprise number of a field in the template.  If this is not an enterprise-specific Information Element, ie-enterprise-number is zero.  These state parameters are identical to ipfixTemplateDefinitionIeId, ipfixTemplateDefinitionIeLength, and ipfixTemplateDefinitionIeEnterpriseNumber in the IPFIX MIB module <span>[<a href="#RFC6615" class="xref">RFC6615</a>]</span>.<a href="#section-4.4-4.14.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-4.4-4.15">is-scope</dt>
          <dd style="margin-left: 1.5em" id="section-4.4-4.16">
            <p id="section-4.4-4.16.1">If this state parameter is present, this is a scope field.  This parameter is only available for options templates (i.e., if setId is 3).<a href="#section-4.4-4.16.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="data-class">
<section id="section-4.5">
        <h3 id="name-data-class">
<a href="#section-4.5" class="section-number selfRef">4.5. </a><a href="#name-data-class" class="section-name selfRef">Data Class</a>
        </h3>
<p id="section-4.5-1">The DataProcess class in <a href="#data" class="xref">Figure 8</a> specifies the data template to be applied to resource or set of resources and provides state information about the template records.<a href="#section-4.5-1" class="pilcrow">¶</a></p>
<span id="name-data-class-2"></span><div id="data">
<figure id="figure-8">
          <div class="alignLeft art-text artwork" id="section-4.5-2.1">
<pre>     +--rw data-export
        +--rw template* [name]
           +--rw name                     ietf-ipfix:name-type
           +--rw enabled?                 boolean
           +--rw export-interval?         uint32
           +--rw observation-domain-id?   uint32
           +--rw field-layout
           |  +--rw field* [name]
           |     +--rw name                    ietf-ipfix:name-type
           |     +--rw (identifier)
           |     |  +--:(ie-id)
           |     |     +--rw ie-id?            ietf-ipfix:ie-id-type
           |     +--rw ie-length?              uint16
           |     +--rw ie-enterprise-number?   uint32
           +--rw exporting-process*
           |       -&gt; /ietf-ipfix:ipfix/exporting-process/name
           |       {ietf-ipfix:exporter}?
           +--rw resource*                resource
           +--ro data-records?            yang:counter64
           +--ro discontinuity-time?      yang:date-and-time
</pre>
</div>
<figcaption><a href="#figure-8" class="selfRef">Figure 8</a>:
<a href="#name-data-class-2" class="selfRef">Data Class</a>
          </figcaption></figure>
</div>
<p id="section-4.5-3">The following attributes are supported:<a href="#section-4.5-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-4.5-4">
          <dt id="section-4.5-4.1">enabled</dt>
          <dd style="margin-left: 1.5em" id="section-4.5-4.2">
            <p id="section-4.5-4.2.1">Enables the template so that specified data may be exported.  The default is "enabled".<a href="#section-4.5-4.2.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-4.5-4.3">export-interval</dt>
          <dd style="margin-left: 1.5em" id="section-4.5-4.4">
            <p id="section-4.5-4.4.1">The interval (in seconds) for periodical export of data records.<a href="#section-4.5-4.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-4.5-4.5">observation-domain-id</dt>
          <dd style="margin-left: 1.5em" id="section-4.5-4.6">
            <p id="section-4.5-4.6.1">The Observation Domain that is locally unique to an Exporting Process<a href="#section-4.5-4.6.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-4.5-4.7">field-layout</dt>
          <dd style="margin-left: 1.5em" id="section-4.5-4.8">
            <p id="section-4.5-4.8.1">The IPFIX template to be applied to the resource.  The following attributes are configurable:<a href="#section-4.5-4.8.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.5-4.8.2.1">ie-id: Identifies the Information Element identifier.<a href="#section-4.5-4.8.2.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-4.5-4.8.2.2">ie-enterprise-number: Identifies the enterprise identifier of the Information Element.  If 0, the enterprise ID is an IANA based Information Element.<a href="#section-4.5-4.8.2.2" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-4.5-4.8.2.3">ie-length: Identifies the length of the Information Element.<br><a href="#section-4.5-4.8.2.3" class="pilcrow">¶</a>
</li>
            </ul>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-4.5-5">A data instance may refer to:<a href="#section-4.5-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.5-6.1">one or more exporting-process instances<a href="#section-4.5-6.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.5-6.2">one or more resource instances (e.g., different interface instances on a line card)<a href="#section-4.5-6.2" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-4.5-7">The following state information is available;<a href="#section-4.5-7" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-4.5-8">
          <dt id="section-4.5-8.1">data-records</dt>
          <dd style="margin-left: 1.5em" id="section-4.5-8.2">
            <p id="section-4.5-8.2.1">Reports the number of data records generated for this bulk data template.<a href="#section-4.5-8.2.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-4.5-8.3">discontinuity-time</dt>
          <dd style="margin-left: 1.5em" id="section-4.5-8.4">
            <p id="section-4.5-8.4.1">Timestamp of the most recent occasion at which the counter data records suffered a discontinuity.<a href="#section-4.5-8.4.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
<div id="yang-modules">
<section id="section-5">
      <h2 id="name-yang-modules">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-yang-modules" class="section-name selfRef">YANG Modules</a>
      </h2>
<p id="section-5-1">This document defines the ietf-ipfix-data-export YANG module.<a href="#section-5-1" class="pilcrow">¶</a></p>
<div id="ietf-ipfix-data-export">
<section id="section-5.1">
        <h3 id="name-ietf-ipfix-data-export">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-ietf-ipfix-data-export" class="section-name selfRef">ietf-ipfix-data-export</a>
        </h3>
<p id="section-5.1-1">The ietf-ipfix-data-export YANG module defines an exporting-process based on TCP and a data-export template list.<a href="#section-5.1-1" class="pilcrow">¶</a></p>
<div id="ietf-ipfix-data-export-module-structure">
<section id="section-5.1.1">
          <h4 id="name-ietf-ipfix-data-export-modu">
<a href="#section-5.1.1" class="section-number selfRef">5.1.1. </a><a href="#name-ietf-ipfix-data-export-modu" class="section-name selfRef">ietf-ipfix-data-export Module Structure</a>
          </h4>
<p id="section-5.1.1-1">This document defines the YANG module "ietf-ipfix-data-export", which has the following tentative structure:<a href="#section-5.1.1-1" class="pilcrow">¶</a></p>
<div id="section-5.1.1-2">
<pre class="lang-tree sourcecode">module: ietf-ipfix-data-export
  +--rw ipfix-data-export
     +--rw exporting-process* [name] {exporter}?
     |  +--rw name                    name-type
     |  +--rw enabled?                boolean
     |  +--rw export-mode?            identityref
     |  +--rw destination* [name]
     |  |  +--rw name        name-type
     |  |  +--rw exporter
     |  |     +--rw ipfix-version?              uint16
     |  |     +--rw source
     |  |     |  +--rw (source-method)?
     |  |     |     +--:(interface-ref)
     |  |     |     |  +--rw interface-ref?    if:interface-ref
     |  |     |     +--:(if-name) {if-mib}?
     |  |     |     |  +--rw if-name?          string
     |  |     |     +--:(source-address)
     |  |     |        +--rw source-address?   inet:host
     |  |     +--rw destination
     |  |     |  +--rw (destination-method)
     |  |     |     +--:(destination-address)
     |  |     |        +--rw destination-address?   inet:host
     |  |     +--rw destination-port?           inet:port-number
     |  |     +--rw send-buffer-size?           uint32
     |  |     +--rw rate-limit?                 uint32
     |  |     +--rw connection-timeout?         uint32
     |  |     +--rw retry-schedule?             uint32
     |  |     +--rw transport-layer-security!
     |  |     |  +--rw local-certification-authority-dn*    string
     |  |     |  +--rw local-subject-dn*                    string
     |  |     |  +--rw local-subject-fqdn*
     |  |     |  |       inet:domain-name
     |  |     |  +--rw remote-certification-authority-dn*   string
     |  |     |  +--rw remote-subject-dn*                   string
     |  |     |  +--rw remote-subject-fqdn*
     |  |     |          inet:domain-name
     |  |     +--ro transport-session
     |  |        +--ro ipfix-version?                          uint16
     |  |        +--ro source-address?
     |  |        |       inet:host
     |  |        +--ro destination-address?
     |  |        |       inet:host
     |  |        +--ro source-port?
     |  |        |       inet:port-number
     |  |        +--ro destination-port?
     |  |        |       inet:port-number
     |  |        +--ro status?
     |  |        |       transport-session-status
     |  |        +--ro rate?
     |  |        |       yang:gauge32
     |  |        +--ro bytes?
     |  |        |       yang:counter64
     |  |        +--ro messages?
     |  |        |       yang:counter64
     |  |        +--ro discarded-messages?
     |  |        |       yang:counter64
     |  |        +--ro records?
     |  |        |       yang:counter64
     |  |        +--ro templates?
     |  |        |       yang:counter32
     |  |        +--ro options-templates?
     |  |        |       yang:counter32
     |  |        +--ro transport-session-start-time?
     |  |        |       yang:date-and-time
     |  |        +--ro transport-session-discontinuity-time?
     |  |        |       yang:date-and-time
     |  |        +--ro template* [name]
     |  |           +--ro name                           name-type
     |  |           +--ro observation-domain-id?         uint32
     |  |           +--ro template-id?                   uint16
     |  |           +--ro set-id?                        uint16
     |  |           +--ro access-time?
     |  |           |       yang:date-and-time
     |  |           +--ro template-data-records?
     |  |           |       yang:counter64
     |  |           +--ro template-discontinuity-time?
     |  |           |       yang:date-and-time
     |  |           +--ro field* [name]
     |  |              +--ro name                    name-type
     |  |              +--ro ie-id?                  ie-id-type
     |  |              +--ro ie-length?              uint16
     |  |              +--ro ie-enterprise-number?   uint32
     |  |              +--ro is-scope?               empty
     |  +--rw options* [name]
     |  |  +--rw name               name-type
     |  |  +--rw options-type       identityref
     |  |  +--rw options-timeout?   uint32
     |  +--ro exporting-process-id?   uint32
     +--rw data-export
        +--rw template* [name]
           +--rw name                       name-type
           +--rw enabled?                   boolean
           +--rw export-interval?           uint32
           +--rw observation-domain-id?     uint32
           +--rw field-layout
           |  +--rw field* [name]
           |     +--rw name                    name-type
           |     +--rw (identifier)
           |     |  +--:(ie-name)
           |     |  |  +--rw ie-name?          ie-name-type
           |     |  +--:(ie-id)
           |     |     +--rw ie-id?            ie-id-type
           |     +--rw ie-length?              uint16
           |     +--rw ie-enterprise-number?   uint32
           +--rw exporting-process*
           |       -&gt; /ipfix-data-export/exporting-process/name
           |       {exporter}?
           +--rw (resource-identifier)?
           |  +--:(resource-instance)
           |     +--rw resource-instance*   resource
           +--ro data-records?              yang:counter64
           +--ro discontinuity-time?        yang:date-and-time
</pre><a href="#section-5.1.1-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="ietf-ipfix-data-export-yang-module">
<section id="section-5.1.2">
          <h4 id="name-ietf-ipfix-data-export-yang">
<a href="#section-5.1.2" class="section-number selfRef">5.1.2. </a><a href="#name-ietf-ipfix-data-export-yang" class="section-name selfRef">ietf-ipfix-data-export YANG module</a>
          </h4>
<p id="section-5.1.2-1">This YANG Module imports typedefs from <span>[<a href="#RFC6991" class="xref">RFC6991</a>]</span>.<a href="#section-5.1.2-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.1.2-2">
<pre>&lt;CODE BEGINS&gt; file "ietf-ipfix-data-export@2021-02-02.yang"            /
</pre><a href="#section-5.1.2-2" class="pilcrow">¶</a>
</div>
<div id="section-5.1.2-3">
<pre class="lang-yang sourcecode">module ietf-ipfix-data-export {
  yang-version 1.1;

  namespace
    "urn:ietf:params:xml:ns:yang:ietf-ipfix-data-export";

  prefix ipfixde;

  import ietf-inet-types {
    prefix inet;
    reference
      "RFC 6991: Common YANG Data Types";
  }

  import ietf-yang-types {
    prefix yang;
    reference
      "RFC 6991: Common YANG Data Types";
  }

  import ietf-interfaces {
    prefix if;
    reference
      "RFC 8343: A YANG Model for Interface Management";
  }

  organization
    "IETF";

  contact
    "Web:      TBD
     List:     TBD

     Editor:   Anand Arokiaraj
               &lt;mailto:anand.arokiaraj@nokia.com&gt;
     Editor:   Marta Seda
               &lt;mailto:marta.seda@calix.com&gt;";

  // RFC Ed.: replace XXXX with actual RFC numbers and
  // remove this note.

  description
    "This module contains a collection of YANG definitions for the
     management exporting data over IPFIX.

     This data model is designed for the Network Management Datastore
     Architecture defined in RFC 8342.

     The key words 'MUST', 'MUST NOT', 'REQUIRED', 'SHALL', 'SHALL
     NOT', 'SHOULD', 'SHOULD NOT', 'RECOMMENDED', 'NOT RECOMMENDED',
     'MAY', and 'OPTIONAL' in this document are to be interpreted as
     described in BCP 14 (RFC 2119) (RFC 8174) when, and only when,
     they appear in all capitals, as shown here.

     Copyright (c) 2021 IETF Trust and the persons identified as
     authors of the code.  All rights reserved.

     Redistribution and use in source and binary forms, with or
     without modification, is permitted pursuant to, and subject to
     the license terms contained in, the Simplified BSD License set
     forth in Section 4.c of the IETF Trust's Legal Provisions
     Relating to IETF Documents
     (https://trustee.ietf.org/license-info).

     This version of this YANG module is part of RFC XXXX
     (https://www.rfc-editor.org/info/rfcXXXX); see the RFC itself
     for full legal notices.";

  revision 2021-02-02 {
    description
      "Initial revision.";
    reference
      "RFC XXXX: YANG Data Model for the IP Flow Information Export
                 (IPFIX) Data Export";
  }

  feature exporter {
    description
      "If supported, the Monitoring Device can be used as
       an Exporter. Exporting Processes can be configured.";
  }

  feature if-mib {
    description
      "This feature indicates that the device implements
       the IF-MIB.";
    reference
      "RFC 2863: The Interfaces Group MIB";
  }

  identity export-mode {
    description
      "Base identity for different usages of export
       destinations configured for an Exporting Process.";
    reference
      "RFC 6615, Section 8 (ipfixExportMemberType)";
  }

  identity parallel {
    base export-mode;
    description
      "Parallel export of Data Records to all destinations configured
       for the Exporting Process.";
    reference
      "RFC 6615, Section 8 (ipfixExportMemberType)";
  }

  identity load-balancing {
    base export-mode;
    description
      "Load-balancing between the different destinations
       configured for the Exporting Process.";
    reference
      "RFC 6615, Section 8 (ipfixExportMemberType)";
  }

  identity fallback {
    base export-mode;
    description
      "Export to the primary destination (i.e., the first
       destination configured for the Exporting Process). If the
       export to the primary destination fails, the Exporting Process
       tries to export to the secondary destination.  If the
       secondary destination fails as well, it continues with the
       tertiary, etc.";
    reference
      "RFC 6615, Section 8 (ipfixExportMemberType)";
  }

  identity options-type {
    description
      "Base identity for report types exported with
       options templates.";
  }

  identity exporting-reliability {
    base options-type;
    description
      "Exporting Process Reliability Statistics.";
    reference
      "RFC 7011, Section 4.3";
  }

  identity reducing-redundancy {
    base options-type;
    description
      "Enables the utilization of Options Templates to reduce
       redundancy in the exported Data Records.";
    reference
      "RFC 5473";
  }

  identity extended-type-information {
    base options-type;
    description
      "Export of extended type information for enterprise-specific
       Information Elements used in the exported Templates.";
    reference
      "RFC 5610";
  }

  typedef ie-name-type {
    type string {
      length "1..max";
      pattern '\S+';
    }
    description
      "Type for Information Element names. Whitespaces are not
       allowed.";
  }

  typedef name-type {
    type string {
      length "1..max";
      pattern '\S(.*\S)?';
    }
    description
      "Type for 'name' leafs, which are used to identify specific
       instances within lists, etc.

       Leading and trailing whitespaces are not allowed.";
  }

  typedef ie-id-type {
    type uint16 {
      range "1..32767";
    }
    description
      "Type for Information Element identifiers.";
  }

  typedef transport-session-status {
    type enumeration {
      enum "inactive" {
        value 0;
        description
          "This value MUST be used for Transport Sessions that are
           specified in the system but currently not active.

           The value can be used for Transport Sessions that are
           backup (secondary) sessions.";
      }
      enum "active" {
        value 1;
        description
          "This value MUST be used for Transport Sessions that are
           currently active and transmitting or receiving data.";
      }
      enum "unknown" {
        value 2;
        description
          "This value MUST be used if the status of the Transport
           Sessions cannot be detected by the device.

           This value should be avoided as far as possible.";
      }
    }
    description
      "Status of a Transport Session.";
    reference
      "RFC 6615, Section 8 (ipfixTransportSessionStatus)";
  }

  typedef resource {
    type instance-identifier {
      require-instance false;
    }
    description
      "A resource from which data will be exported.";
  }

  grouping transport-layer-security-parameters {
    description
      "TLS parameters.";

    container transport-layer-security {
      presence
        "The presence of this container indicates TLS is enabled.";
      description
        "TLS configuration.";

      leaf-list local-certification-authority-dn {
        type string;
        description
          "Distinguished names of certification authorities whose
           certificates may be used to identify the local endpoint.";
        reference
          "RFC 5280";
      }

      leaf-list local-subject-dn {
        type string;
        description
          "Distinguished names that may be used in the certificates
           to identify the local endpoint.";
        reference
          "RFC 5280.";
      }

      leaf-list local-subject-fqdn {
        type inet:domain-name;
        description
          "Fully qualified domain names that may be used in the
           certificates to identify the local endpoint.";
        reference
          "RFC 5280";
      }

      leaf-list remote-certification-authority-dn {
        type string;
        description
          "Distinguished names of certification authorities whose
           certificates are accepted to authorize remote endpoints.";
        reference
          "RFC 5280";
      }

      leaf-list remote-subject-dn {
        type string;
        description
          "Distinguished names which are accepted in certificates to
           authorize remote endpoints.";
        reference
          "RFC 5280";
      }

      leaf-list remote-subject-fqdn {
        type inet:domain-name;
        description
          "Fully qualified domain names that are accepted in
           certificates to authorize remote endpoints.";
        reference
          "RFC 5280";
      }
    }
  }

  grouping transport-session-state-parameters {
    description
      "State parameters of a Transport Session originating from an
       Exporting Process or terminating at a Collecting Process.
       Parameter names and semantics correspond to the managed
       objects in IPFIX-MIB.";
    reference
      "RFC 7011; RFC 6615, Section 8 (ipfixTransportSessionEntry,
       ipfixTransportSessionStatsEntry)";

    leaf ipfix-version {
      type uint16;
      description
        "Used for Exporting Processes, this parameter contains the
         version number of the IPFIX protocol that the Exporter uses
         to export its data in this Transport Session.

         Used for Collecting Processes, this parameter contains the
         version number of the IPFIX protocol it receives for this
         Transport Session. If IPFIX Messages of different IPFIX
         protocol versions are received, this parameter contains the
         maximum version number.

         Note that this parameter corresponds to
         ipfixTransportSessionIpfixVersion in the IPFIX MIB module.";
      reference
        "RFC 6615, Section 8
         (ipfixTransportSessionIpfixVersion)";
    }

    leaf source-address {
      type inet:host;
      description
        "The source address of the Exporter of the IPFIX Transport
         Session.";
      reference
        "RFC 6615, Section 8
         (ipfixTransportSessionSourceAddressType,
         ipfixTransportSessionSourceAddress);
         RFC 4960, Section 6.4";
    }

    leaf destination-address {
      type inet:host;
      description
        "The destination address of the path that is selected by the
         Exporter to send IPFIX messages to the Collector.

         It is possible that if an FQDN address
         is configured it resolves into many addresses.

         Note that this parameter functionally corresponds to
         ipfixTransportSessionDestinationAddressType and
         ipfixTransportSessionDestinationAddress in the IPFIX MIB
         module.";
      reference
        "RFC 6615, Section 8
         (ipfixTransportSessionDestinationAddressType,
         ipfixTransportSessionDestinationAddress);
         RFC 4960, Section 6.4";
    }

    leaf source-port {
      type inet:port-number;
      description
        "The transport-protocol port number of the Exporter of the
         IPFIX Transport Session.

         Note that this parameter corresponds to
         ipfixTransportSessionSourcePort in the IPFIX MIB module.";
      reference
        "RFC 6615, Section 8
         (ipfixTransportSessionSourcePort).";
    }

    leaf destination-port {
      type inet:port-number;
      description
        "The transport-protocol port number of the Collector of the
         IPFIX Transport Session.

         Note that this parameter corresponds to
         ipfixTransportSessionDestinationPort in the IPFIX MIB
         module.";
      reference
        "RFC 6615, Section 8
         (ipfixTransportSessionDestinationPort)";
    }

    leaf status {
      type transport-session-status;
      description
        "Status of the Transport Session.

         Note that this parameter corresponds to
         ipfixTransportSessionStatus in the IPFIX MIB module.";
        reference
         "RFC 6615, Section 8 (ipfixTransportSessionStatus)";
    }

    leaf rate {
      type yang:gauge32;
      units "bytes per second";
      description
        "The number of bytes per second transmitted by the
         Exporting Process or received by the Collecting Process.
         This parameter is updated every second.

         Note that this parameter corresponds to
         ipfixTransportSessionRate in the IPFIX MIB module.";
      reference
        "RFC 6615, Section 8 (ipfixTransportSessionRate)";
    }

    leaf bytes {
      type yang:counter64;
      units "bytes";
      description
        "The number of bytes transmitted by the Exporting Process or
         received by the Collecting Process.

         Discontinuities in the value of this counter can occur at
         re-initialization of the management system, and at other
         times as indicated by the value of
         transport-session-discontinuity-time.

         Note that this parameter corresponds to
         ipfixTransportSessionBytes in the IPFIX MIB module.";
      reference
        "RFC 6615, Section 8 (ipfixTransportSessionBytes)";
    }

    leaf messages {
       type yang:counter64;
       units "IPFIX Messages";
       description
         "The number of messages transmitted by the Exporting Process
          or received by the Collecting Process.

          Discontinuities in the value of this counter can occur at
          re-initialization of the management system, and at other
          times as indicated by the value of
          transport-session-discontinuity-time.

          Note that this parameter corresponds to
          ipfixTransportSessionMessages in the IPFIX MIB module.";
       reference
         "RFC 6615, Section 8
          (ipfixTransportSessionMessages)";
    }

    leaf discarded-messages {
      type yang:counter64;
      units "IPFIX Messages";
      description
        "Used for Exporting Processes, this parameter indicates the
         number of messages that could not be sent due to internal
         buffer overflows, network congestion, routing issues, etc.
         Used for Collecting Process, this parameter indicates the
         number of received IPFIX Message that are malformed, cannot
         be decoded, are received in the wrong order or are missing
         according to the sequence number.

         Discontinuities in the value of this counter can occur at
         re-initialization of the management system, and at other
         times as indicated by the value of
         transport-session-discontinuity-time.

         Note that this parameter corresponds to
         ipfixTransportSessionDiscardedMessages in the IPFIX MIB
         module.";
      reference
        "RFC 6615, Section 8
         (ipfixTransportSessionDiscardedMessages)";
    }

    leaf records {
      type yang:counter64;
      units "Data Records";
      description
        "The number of Data Records transmitted by the Exporting
         Process or received by the Collecting Process.

         Discontinuities in the value of this counter can occur at
         re-initialization of the management system, and at other
         times as indicated by the value of
         transport-session-discontinuity-time.

         Note that this parameter corresponds to
         ipfixTransportSessionRecords in the IPFIX MIB module.";
      reference
        "RFC 6615, Section 8
         (ipfixTransportSessionRecords)";
    }

    leaf templates {
      type yang:counter32;
      units "Templates";
      description
        "The number of Templates transmitted by the Exporting Process
         or received by the Collecting Process.

         Discontinuities in the value of this counter can occur at
         re-initialization of the management system, and at other
         times as indicated by the value of
         transport-session-discontinuity-time.

         Note that this parameter corresponds to
         ipfixTransportSessionTemplates in the IPFIX MIB module.";
      reference
        "RFC 6615, Section 8
        (ipfixTransportSessionTemplates)";
    }

    leaf options-templates {
      type yang:counter32;
      units "Options Templates";
      description
        "The number of Option Templates transmitted by the Exporting
         Process or received by the Collecting Process.

         Discontinuities in the value of this counter can occur at
         re-initialization of the management system, and at other
         times as indicated by the value of
         transport-session-discontinuity-time.

         Note that this parameter corresponds to
         ipfixTransportSessionOptionsTemplates in the IPFIX MIB
         module.";
      reference
        "RFC 6615, Section 8
         (ipfixTransportSessionOptionsTemplates)";
    }

    leaf transport-session-start-time {
      type yang:date-and-time;
      description
        "Timestamp of the start of the given Transport Session.

         This state parameter does not correspond to any object in
         the IPFIX MIB module.";
    }

    leaf transport-session-discontinuity-time {
      type yang:date-and-time;
      description
        "Timestamp of the most recent occasion at which one or more
         of the Transport Session counters suffered a discontinuity.

         Note that this parameter functionally corresponds to
         ipfixTransportSessionDiscontinuityTime in the IPFIX MIB
         module. In contrast to
         ipfixTransportSessionDiscontinuityTime, the time is
         absolute and not relative to sysUpTime.";
      reference
        "RFC 6615, Section 8
         (ipfixTransportSessionDiscontinuityTime)";
    }
  }

  grouping export-template-state-parameters {
    description
      "State parameters of a (Options) Template used by an Exporting
       Process in a specific Transport Session or by a File Writer.
       Parameter names and semantics correspond to the managed
       objects in IPFIX-MIB.";
    reference
      "RFC 7011; RFC 6615, Section 8 (ipfixTemplateEntry,
       ipfixTemplateDefinitionEntry, ipfixTemplateStatsEntry)";

    list template {
      key "name";
      description
        "This list contains the Templates and Options Templates that
         are transmitted by the Exporting Process or written by the
         File Writer.

         Withdrawn or invalidated (Options) Templates MUST be removed
         from this list.";

      leaf name {
        type name-type;
        description
          "An arbitrary string which uniquely identifies the
           template.";
      }

      leaf observation-domain-id {
        type uint32;
        description
          "The ID of the Observation Domain for which this Template
           is defined.

           Note that this parameter corresponds to
           ipfixTemplateObservationDomainId in the IPFIX MIB
           module.";
        reference
          "RFC 6615, Section 8
           (ipfixTemplateObservationDomainId).";
      }

      leaf template-id {
        type uint16 {
          range "256..65535";
        }
        description
          "This number indicates the Template ID in the IPFIX
           message.

           Note that this parameter corresponds to ipfixTemplateId in
           the IPFIX MIB module.";
        reference
          "RFC 6615, Section 8 (ipfixTemplateId).";
      }

      leaf set-id {
        type uint16 {
          range "2..3 | 256..65535";
        }
        description
          "This number indicates the Set ID of the Template.
           A value of 2 is reserved for Template Sets.  A value of 3
           is reserved for Options Template Sets.  Values from 4 to
           255 are reserved for future use.  Values 256 and above
           are used for Data Sets.  The Set ID values of 0 and 1 are
           not used for historical reasons.

           Note that this parameter corresponds to ipfixTemplateSetId
           in the IPFIX MIB module.";
        reference
          "RFC 7011, Section 3.3.2;
           RFC 6615, Section 8 (ipfixTemplateSetId)";
      }

      leaf access-time {
        type yang:date-and-time;
        description
          "This parameter contains the time when this (Options)
           Template was last sent to the Collector(s) or written to
           the file.

           Note that this parameter corresponds to
           ipfixTemplateAccessTime in the IPFIX MIB module.";
        reference
          "RFC 6615, Section 8 (
           ipfixTemplateAccessTime).";
      }

      leaf template-data-records {
        type yang:counter64;
        description
          "The number of transmitted Data Records defined by this
           (Options) Template.

           Discontinuities in the value of this counter can occur at
           re-initialization of the management system, and at other
           times as indicated by the value of
           template-discontinuity-time.

           Note that this parameter corresponds to
           ipfixTemplateDataRecords in the IPFIX MIB module.";
        reference
          "RFC 6615, Section 8 (ipfixTemplateDataRecords).";
      }

      leaf template-discontinuity-time {
        type yang:date-and-time;
        description
          "Timestamp of the most recent occasion at which the counter
           template-data-records suffered a discontinuity.

           Note that this parameter functionally
           corresponds to ipfixTemplateDiscontinuityTime in the IPFIX
           MIB module. In contrast to
           ipfixTemplateDiscontinuityTime, the time is absolute and
           not relative to sysUpTime.";
        reference
          "RFC 6615, Section 8
           (ipfixTemplateDiscontinuityTime).";
      }

      list field {
        key "name";
        description
          "This list contains the (Options) Template fields of which
           the (Options) Template is defined.

           The order of the list corresponds to the order
           of the fields in the (Option) Template Record.";

        leaf name {
          type name-type;
          description
            "An arbitrary string which uniquely identifies the
             template field.";
        }

        leaf ie-id {
          type ie-id-type;
          description
            "This parameter indicates the Information Element
             identifier of the field.

             Note that this parameter corresponds to
             ipfixTemplateDefinitionIeId in the IPFIX MIB module.";
          reference
            "RFC 7011; RFC 6615, Section 8
             (ipfixTemplateDefinitionIeId).";
        }

        leaf ie-length {
          type uint16;
          units "octets";
          description
            "This parameter indicates the length of the Information
             Element of the field.

             Note that this parameter corresponds to
             ipfixTemplateDefinitionIeLength in the IPFIX MIB
             module.";
          reference
            "RFC 7011; RFC 6615, Section 8
             (ipfixTemplateDefinitionIeLength).";
        }

        leaf ie-enterprise-number {
          type uint32;
          description
            "This parameter indicates the IANA enterprise number of
             the authority defining the Information Element
             identifier.

             If the Information Element is not enterprise-specific,
             this state parameter is zero.

             Note that this parameter corresponds to
             ipfixTemplateDefinitionIeEnterpriseNumber in the IPFIX
             MIB module.";
          reference
            "RFC 6615, Section 8
             (ipfixTemplateDefinitionIeEnterpriseNumber);
             IANA registry for Private Enterprise Numbers,
             http://www.iana.org/assignments/enterprise-numbers.";
        }

        leaf is-scope {
          when "../../set-id = 3" {
          description
            "This parameter is available for Options Templates
             (Set ID is 3).";
          }
          type empty;
          description
            "If present, this is a scope field.

             Note that this corresponds to scope(0) being set in
             ipfixTemplateDefinitionFlags.";
          reference
            "RFC 6615, Section 8
             (ipfixTemplateDefinitionFlags).";
        }
      }
    }
  }

  grouping exporter-parameters {
    description
      "Parameters of an exporter.";

    leaf ipfix-version {
      type uint16;
      default '10';
      description
        "IPFIX version number.";
      reference
        "RFC 7011.";
    }

    container source {
      description
        "Configuration corresponding to how exporter's source IP
         address is specified.";

      choice source-method {
        description
          "Method to configure the source address of the exporter
           or the interface to be used by the exporter.

           Note that it is expected that other methods be available.
           Those methods can augment this choice.";

        case interface-ref {
          leaf interface-ref {
            type if:interface-ref;
            description
              "The interface to be used by the Exporting Process.";
          }
        }

        case if-name {
          if-feature if-mib;
          leaf if-name {
            type string;
            description
              "Name of an interface as stored in the ifTable
               of IF-MIB.";
            reference
              "RFC 2863.";
          }
        }

        case source-address {
          leaf source-address {
            type inet:host;
            description
              "The source IP address or hostname used by the
               Exporting Process.";
          }
        }
      }
    }

    container destination {
      description
        "Configuration corresponding to how exporter's destination IP
         address is specified.";

      choice destination-method {
        mandatory true;
        description
          "Method to configuring the destination address of the
           Collection Process to which IPFIX Messages are sent.

           Note it is expected that if other methods are available
           that they would augment from this statement.";

        case destination-address {
          leaf destination-address {
            type inet:host;
            description
              "The destination IP address or hostname of the
               Collecting Process to which IPFIX Messages are sent.
               A hostname may resolve to one or more IP
               addresses.";
          }
        }
      }
    }

    leaf destination-port {
      type inet:port-number;
      description
        "If not configured by the user, the Monitoring Device uses
         the default port number for IPFIX, which is 4739 without TLS
         or DTLS and 4740 if TLS or DTLS is activated.";
    }

    leaf send-buffer-size {
      type uint32;
      units "bytes";
      description
        "Size of the socket send buffer.

         If not configured by the user, this parameter is set by
         the Monitoring Device.";
    }

    leaf rate-limit {
      type uint32;
      units "bytes per second";
      description
        "Maximum number of bytes per second the Exporting Process may
         export to the given destination.  The number of bytes is
         calculated from the lengths of the IPFIX Messages exported.
         If not configured, no rate limiting is performed.";
      reference
        "RFC 5476, Section 6.3.";
    }

    leaf connection-timeout {
      type uint32;
      units seconds;
      description
        "Time after which the exporting process deems the TCP
         connection to have failed.";
      reference
        "RFC 7011, Sections 10.4.4 and 10.4.5.";
    }

    leaf retry-schedule {
      type uint32 {
      range "60..max";
      }
      units seconds;
      description
        "Time after which the exporting process retries the TCP
         connection to a collector.";
      reference
        "RFC 7011, Section 10.4.4.";
    }

    uses transport-layer-security-parameters;
  }

  grouping exporting-process-parameters {
    description
      "Parameters of an Exporting Process.";

    leaf export-mode {
      type identityref {
        base export-mode;
      }
      default 'fallback';
      description
        "This parameter determines to which configured destination(s)
         the incoming Data Records are exported.";
    }

    list destination {
      key "name";
      min-elements 1;
      description
        "List of export destinations.";

      leaf name {
        type name-type;
        description
          "An arbitrary string which uniquely identifies the export
           destination.";
      }

      container exporter {
        description
          "Exporter parameters.";

        uses exporter-parameters;

        container transport-session {
          config false;
          description
            "Transport session state data.";

          uses transport-session-state-parameters;
          uses export-template-state-parameters;
        }
      }
    }

    list options {
      key "name";
      description
        "List of options reported by the Exporting Process.";

      leaf name {
        type name-type;
        description
          "An arbitrary string which uniquely identifies the
           option.";
      }
      uses options-parameters;
    }
  }

  grouping options-parameters {
    description
      "Parameters specifying the data export using an Options
       Template.";

    leaf options-type {
      type identityref {
        base options-type;
      }
      mandatory true;
      description
        "Type of the exported options data.";
    }

    leaf options-timeout {
      type uint32;
      units "milliseconds";
      description
        "Time interval for periodic export of the options data. If
         set to zero, the export is triggered when the options data
         has changed.

         If not configured by the user, this parameter is set by the
         Monitoring Device.";
    }
  }

  grouping data-template-parameters {
    description
      "Field Layout parameters.";

    leaf observation-domain-id {
      type uint32;
      default 0;
      description
        "An identifier of an Observation Domain that is locally
         unique to an Exporting Process (see RFC 7011 Section 3.1).

         Typically, this Information Element is for limiting the
         scope of other Information Elements.

         A value of 0 indicates that no specific Observation Domain
         is identified by this Information Element.";
    }

    container field-layout {
      description
        "Field Layout parameters.";

      list field {
        key name;
        min-elements 1;
        description
          "Superset of statistics field names or special field-names
           (e.g., timestamps, etc) for interpreting statistics that
           are included in the Packet Reports or Flow Records
           generated by the device.";

        leaf name {
          type name-type;
          description
            "An arbitrary string which uniquely identifies the
             field.";
        }

        choice identifier {
          mandatory true;
          description
            "The Information Element to be added to the template.";

          case ie-name {
            leaf ie-name {
              type ie-name-type;
              description
                "Name of the Information Element.";
            }
          }

          case ie-id {
            leaf ie-id {
              type ie-id-type;
              description
                "ID of the Information Element.";
            }
          }
        }

        leaf ie-length {
          type uint16;
          units octets;
          description
            "Length of the field in which the Information Element is
             encoded.  A value of 65535 specifies a variable-length
             Information Element.  For Information Elements of
             integer and float type, the field length MAY be set to a
             smaller value than the standard length of the abstract
             data type if the rules of reduced size encoding are
             fulfilled.

             If not configured by the user, this parameter is set by
             the Monitoring Device.";
          reference
            "RFC 7011, Section 6.2";
        }

        leaf ie-enterprise-number {
          type uint32;
          default 0;
          description
            "If this parameter is zero, the Information Element is
             registered in the IANA registry of IPFIX Information
             Elements or unspecified (if the Informational Element is
             not IANA registered).

             If this parameter is configured with a non-zero private
             enterprise number, the Information Element is
             enterprise-specific.";
          reference
            "RFC 7011; RFC 5103;
             IANA registry for Private Enterprise Numbers,
             http://www.iana.org/assignments/enterprise-numbers;
             IANA registry for IPFIX Entities,
             http://www.iana.org/assignments/ipfix";
        }
      }
    }
  }

  container ipfix-data-export {
    description
      "IPFIX data export node.";

    list exporting-process {
      if-feature exporter;
      key "name";
      description
        "List of Exporting Processes of the IPFIX Monitoring Device
         for which configuration will be applied.";

      leaf name {
        type name-type;
        description
          "An arbitrary string which uniquely identifies the
           Exporting Process.";
      }

      leaf enabled {
        type boolean;
        default "true";
        description
          "If true, this Exporting Process is enabled for
           exporting.";
      }

      uses exporting-process-parameters;

      leaf exporting-process-id {
        type uint32;
        config false;
        description
          "The identifier of the Exporting Process.  This parameter
           corresponds to the Information Element exportingProcessId.
           Its occurrence helps to associate Exporting Process
           parameters with Exporing Process statistics exported by
           the Monitoring Device using the Exporting Process
           Reliability Statistics Template as defined by the IPFIX
           protocol specification.";
        reference
          "RFC 7011, Section 4.3; IANA registry for IPFIX
           Entities, http://www.iana.org/assignments/ipfix.";
      }
    }

    container data-export {
      description
        "Container for data export nodes.";

      list template {
        key name;
        description
          "List of data templates of the Monitoring Device.";

        leaf name {
          type name-type;
          description
            "An arbitrary string which uniquely identifies the
             data template.";
        }

        leaf enabled {
          type boolean;
          default "true";
          description
            "If true, this template is enabled and the specified
             data is able to be exported.";
        }

        leaf export-interval {
          type uint32;
          units "seconds";
          description
            "This parameter configures the interval (in seconds) for
             periodical export of Flow Records.

             If not configured by the user, the Monitoring Device
             sets this parameter.";
        }

        uses data-template-parameters;

        leaf-list exporting-process {
          if-feature exporter;
          type leafref {
            path "/ipfix-data-export"
               + "/exporting-process/name";
          }
          description
            "Records are exported by all Exporting Processes in the
             list.";
        }

        choice resource-identifier {
          description
            "Method to select the resources from which the records
             are to be exported.

             Note that it is expected that other methods be available.
             Those methods can augment this choice.";

          case resource-instance {
            leaf-list resource-instance {
              type resource;
              description
                "Records are sourced from all the resources in
                 this list.";
            }
          }
        }

        leaf data-records {
          type yang:counter64;
          units "Data Records";
          config false;
          description
            "The number of Data Records generated for this sampling
             template.

             Discontinuities in the value of this counter can occur
             at re-initialization of the management system, and at
             other times as indicated by the value of Discontinuity
             Time.";
        }

        leaf discontinuity-time {
          type yang:date-and-time;
          config false;
          description
            "Timestamp of the most recent occasion at which the
             counter data records suffered a discontinuity.";
        }
      }
    }
  }
}

</pre><a href="#section-5.1.2-3" class="pilcrow">¶</a>
</div>
<div class="alignLeft art-text artwork" id="section-5.1.2-4">
<pre>&lt;CODE ENDS&gt;
</pre><a href="#section-5.1.2-4" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="iana-considerations">
<section id="section-6">
      <h2 id="name-iana-considerations">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-6-1">This document registers 1 URI in the "IETF XML Registry". <span>[<a href="#RFC3688" class="xref">RFC3688</a>]</span>. Following the format in RFC 3688, the following registrations have been made.<a href="#section-6-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6-2">
<pre>URI: urn:ietf:params:xml:ns:yang:ietf-ipfix-data-export
Registrant Contact: The IESG.
XML: N/A, the requested URI is an XML namespace.
</pre><a href="#section-6-2" class="pilcrow">¶</a>
</div>
<p id="section-6-3">This document registers 1 YANG module in the "YANG Module Names" registry.  Following the format in <span>[<a href="#RFC7950" class="xref">RFC7950</a>]</span>, the following have been registered.<a href="#section-6-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6-4">
<pre>Name: ietf-ipfix-data-export
Namespace: urn:ietf:params:xml:ns:yang:ietf-ipfix-data-export
Prefix: ipfixde
Reference: RFC XXXX: YANG Data Model for the IP Flow Information
           Export (IPFIX) Protocol Data Export
</pre><a href="#section-6-4" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="security-considerations">
<section id="section-7">
      <h2 id="name-security-considerations">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-7-1">The YANG module specified in this document defines a schema for data that is designed to be accessed via network management protocols such as NETCONF <span>[<a href="#RFC6241" class="xref">RFC6241</a>]</span> or RESTCONF <span>[<a href="#RFC8040" class="xref">RFC8040</a>]</span>.  The lowest NETCONF layer is the secure transport layer, and the mandatory-to-implement secure transport is Secure Shell (SSH) <span>[<a href="#RFC6242" class="xref">RFC6242</a>]</span>.  The lowest RESTCONF layer is HTTPS, and the mandatory-to-implement secure transport is TLS <span>[<a href="#RFC8446" class="xref">RFC8446</a>]</span>.<a href="#section-7-1" class="pilcrow">¶</a></p>
<p id="section-7-2">The NETCONF access control model <span>[<a href="#RFC8341" class="xref">RFC8341</a>]</span> provides the means to restrict access for particular NETCONF or RESTCONF users to a preconfigured subset of all available NETCONF or RESTCONF protocol operations and content.<a href="#section-7-2" class="pilcrow">¶</a></p>
<p id="section-7-3">There are a number of data nodes defined in this YANG module that are writable/creatable/deletable (i.e., config true, which is the default).  These data nodes may be considered sensitive or vulnerable in some network environments.  Write operations (e.g., NETCONF edit-config) to these data nodes without proper protection can have a negative effect on network operations.  These are the subtrees and data nodes and their sensitivity/vulnerability:<a href="#section-7-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7-4.1">
          <p id="section-7-4.1.1">/ipfix-data-export/exporting-process:  The configuration parameters in this subtree specify to which Collectors Data Records are exported. Write access to this subtree allows exporting potentially sensitive information to illegitimate Collectors. Furthermore, TLS parameters can be changed, which may affect the mutual authentication between Exporters and Collectors as well as the encrypted transport of the data.<a href="#section-7-4.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-7-4.2">
          <p id="section-7-4.2.1">/ipfix-data-export/data-export/template: The configuration parameters in this subtree specify the fields included in the bulk data export. Write access to this subtree allows adding fields which may cause export of sensitive configuration and/or statistics.<a href="#section-7-4.2.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="section-7-5">Some of the readable data nodes in this YANG module may be considered sensitive or vulnerable in some network environments. It is thus important to control read access (e.g., via get, get-config, or notification) to these data nodes. These are the subtrees and data nodes and their sensitivity/vulnerability:<a href="#section-7-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7-6.1">
          <p id="section-7-6.1.1">/ipfix-data-export/exporting-process: Parameters in this subtree may be sensitive because they reveal information about the network infrastructure and the outgoing IPFIX Transport Sessions. For example, it discloses the IP addresses of Collectors as well as the deployed TLS configuration, which may facilitate the interception of outgoing IPFIX Messages.<a href="#section-7-6.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-7-6.2">
          <p id="section-7-6.2.1">/ipfix-data-export/data-export/template: Parameters in this subtree may be sensitive because they reveal information about the Monitoring Device itself and the observed traffic. For example, the counters data-records allow inferring the number of packets.<a href="#section-7-6.2.1" class="pilcrow">¶</a></p>
</li>
      </ul>
</section>
</div>
<div id="acknowledgments">
<section id="section-8">
      <h2 id="name-acknowledgments">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-acknowledgments" class="section-name selfRef">Acknowledgments</a>
      </h2>
<p id="section-8-1">The authors would like to thank Joey Boyd, William Lupton, and Benoit Claise for their contributions and feedback towards this document.<a href="#section-8-1" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-9">
      <h2 id="name-normative-references">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
      </h2>
<dl class="references">
<dt id="RFC3688">[RFC3688]</dt>
      <dd>
<span class="refAuthor">Mealling, M.</span>, <span class="refTitle">"The IETF XML Registry"</span>, <span class="seriesInfo">BCP 81</span>, <span class="seriesInfo">RFC 3688</span>, <span class="seriesInfo">DOI 10.17487/RFC3688</span>, <time datetime="2004-01" class="refDate">January 2004</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3688">https://www.rfc-editor.org/info/rfc3688</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5280">[RFC5280]</dt>
      <dd>
<span class="refAuthor">Cooper, D.</span>, <span class="refAuthor">Santesson, S.</span>, <span class="refAuthor">Farrell, S.</span>, <span class="refAuthor">Boeyen, S.</span>, <span class="refAuthor">Housley, R.</span>, and <span class="refAuthor">W. Polk</span>, <span class="refTitle">"Internet X.509 Public Key Infrastructure Certificate and Certificate Revocation List (CRL) Profile"</span>, <span class="seriesInfo">RFC 5280</span>, <span class="seriesInfo">DOI 10.17487/RFC5280</span>, <time datetime="2008-05" class="refDate">May 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5280">https://www.rfc-editor.org/info/rfc5280</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5476">[RFC5476]</dt>
      <dd>
<span class="refAuthor">Claise, B., Ed.</span>, <span class="refAuthor">Johnson, A.</span>, and <span class="refAuthor">J. Quittek</span>, <span class="refTitle">"Packet Sampling (PSAMP) Protocol Specifications"</span>, <span class="seriesInfo">RFC 5476</span>, <span class="seriesInfo">DOI 10.17487/RFC5476</span>, <time datetime="2009-03" class="refDate">March 2009</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5476">https://www.rfc-editor.org/info/rfc5476</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5610">[RFC5610]</dt>
      <dd>
<span class="refAuthor">Boschi, E.</span>, <span class="refAuthor">Trammell, B.</span>, <span class="refAuthor">Mark, L.</span>, and <span class="refAuthor">T. Zseby</span>, <span class="refTitle">"Exporting Type Information for IP Flow Information Export (IPFIX) Information Elements"</span>, <span class="seriesInfo">RFC 5610</span>, <span class="seriesInfo">DOI 10.17487/RFC5610</span>, <time datetime="2009-07" class="refDate">July 2009</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5610">https://www.rfc-editor.org/info/rfc5610</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6615">[RFC6615]</dt>
      <dd>
<span class="refAuthor">Dietz, T., Ed.</span>, <span class="refAuthor">Kobayashi, A.</span>, <span class="refAuthor">Claise, B.</span>, and <span class="refAuthor">G. Muenz</span>, <span class="refTitle">"Definitions of Managed Objects for IP Flow Information Export"</span>, <span class="seriesInfo">RFC 6615</span>, <span class="seriesInfo">DOI 10.17487/RFC6615</span>, <time datetime="2012-06" class="refDate">June 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6615">https://www.rfc-editor.org/info/rfc6615</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6991">[RFC6991]</dt>
      <dd>
<span class="refAuthor">Schoenwaelder, J., Ed.</span>, <span class="refTitle">"Common YANG Data Types"</span>, <span class="seriesInfo">RFC 6991</span>, <span class="seriesInfo">DOI 10.17487/RFC6991</span>, <time datetime="2013-07" class="refDate">July 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6991">https://www.rfc-editor.org/info/rfc6991</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7011">[RFC7011]</dt>
      <dd>
<span class="refAuthor">Claise, B., Ed.</span>, <span class="refAuthor">Trammell, B., Ed.</span>, and <span class="refAuthor">P. Aitken</span>, <span class="refTitle">"Specification of the IP Flow Information Export (IPFIX) Protocol for the Exchange of Flow Information"</span>, <span class="seriesInfo">STD 77</span>, <span class="seriesInfo">RFC 7011</span>, <span class="seriesInfo">DOI 10.17487/RFC7011</span>, <time datetime="2013-09" class="refDate">September 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7011">https://www.rfc-editor.org/info/rfc7011</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7950">[RFC7950]</dt>
    <dd>
<span class="refAuthor">Bjorklund, M., Ed.</span>, <span class="refTitle">"The YANG 1.1 Data Modeling Language"</span>, <span class="seriesInfo">RFC 7950</span>, <span class="seriesInfo">DOI 10.17487/RFC7950</span>, <time datetime="2016-08" class="refDate">August 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7950">https://www.rfc-editor.org/info/rfc7950</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-10">
      <h2 id="name-informative-references">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
      </h2>
<dl class="references">
<dt id="IANA-IPFIX">[IANA-IPFIX]</dt>
      <dd>
<span class="refAuthor">IANA</span>, <span class="refTitle">"IP Flow Information Export (IPFIX) Entities"</span>, <span>&lt;<a href="https://www.iana.org/assignments/ipfix">https://www.iana.org/assignments/ipfix</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
      <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5473">[RFC5473]</dt>
      <dd>
<span class="refAuthor">Boschi, E.</span>, <span class="refAuthor">Mark, L.</span>, and <span class="refAuthor">B. Claise</span>, <span class="refTitle">"Reducing Redundancy in IP Flow Information Export (IPFIX) and Packet Sampling (PSAMP) Reports"</span>, <span class="seriesInfo">RFC 5473</span>, <span class="seriesInfo">DOI 10.17487/RFC5473</span>, <time datetime="2009-03" class="refDate">March 2009</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5473">https://www.rfc-editor.org/info/rfc5473</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6241">[RFC6241]</dt>
      <dd>
<span class="refAuthor">Enns, R., Ed.</span>, <span class="refAuthor">Bjorklund, M., Ed.</span>, <span class="refAuthor">Schoenwaelder, J., Ed.</span>, and <span class="refAuthor">A. Bierman, Ed.</span>, <span class="refTitle">"Network Configuration Protocol (NETCONF)"</span>, <span class="seriesInfo">RFC 6241</span>, <span class="seriesInfo">DOI 10.17487/RFC6241</span>, <time datetime="2011-06" class="refDate">June 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6241">https://www.rfc-editor.org/info/rfc6241</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6242">[RFC6242]</dt>
      <dd>
<span class="refAuthor">Wasserman, M.</span>, <span class="refTitle">"Using the NETCONF Protocol over Secure Shell (SSH)"</span>, <span class="seriesInfo">RFC 6242</span>, <span class="seriesInfo">DOI 10.17487/RFC6242</span>, <time datetime="2011-06" class="refDate">June 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6242">https://www.rfc-editor.org/info/rfc6242</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8040">[RFC8040]</dt>
      <dd>
<span class="refAuthor">Bierman, A.</span>, <span class="refAuthor">Bjorklund, M.</span>, and <span class="refAuthor">K. Watsen</span>, <span class="refTitle">"RESTCONF Protocol"</span>, <span class="seriesInfo">RFC 8040</span>, <span class="seriesInfo">DOI 10.17487/RFC8040</span>, <time datetime="2017-01" class="refDate">January 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8040">https://www.rfc-editor.org/info/rfc8040</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
      <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8340">[RFC8340]</dt>
      <dd>
<span class="refAuthor">Bjorklund, M.</span> and <span class="refAuthor">L. Berger, Ed.</span>, <span class="refTitle">"YANG Tree Diagrams"</span>, <span class="seriesInfo">BCP 215</span>, <span class="seriesInfo">RFC 8340</span>, <span class="seriesInfo">DOI 10.17487/RFC8340</span>, <time datetime="2018-03" class="refDate">March 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8340">https://www.rfc-editor.org/info/rfc8340</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8341">[RFC8341]</dt>
      <dd>
<span class="refAuthor">Bierman, A.</span> and <span class="refAuthor">M. Bjorklund</span>, <span class="refTitle">"Network Configuration Access Control Model"</span>, <span class="seriesInfo">STD 91</span>, <span class="seriesInfo">RFC 8341</span>, <span class="seriesInfo">DOI 10.17487/RFC8341</span>, <time datetime="2018-03" class="refDate">March 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8341">https://www.rfc-editor.org/info/rfc8341</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8446">[RFC8446]</dt>
    <dd>
<span class="refAuthor">Rescorla, E.</span>, <span class="refTitle">"The Transport Layer Security (TLS) Protocol Version 1.3"</span>, <span class="seriesInfo">RFC 8446</span>, <span class="seriesInfo">DOI 10.17487/RFC8446</span>, <time datetime="2018-08" class="refDate">August 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8446">https://www.rfc-editor.org/info/rfc8446</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<div id="example-ietf-ipfix-data-export-usage">
<section id="appendix-A">
      <h2 id="name-example-ietf-ipfix-data-exp">
<a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-example-ietf-ipfix-data-exp" class="section-name selfRef">Example: ietf-ipfix-data-export Usage</a>
      </h2>
<p id="appendix-A-1">The configuration example configures a field-layout template to
export Ethernet statistics from eth0 and eth1.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
<div id="appendix-A-2">
<pre class="lang-xml sourcecode">&lt;ipfix-data-export xmlns="urn:ietf:params:xml:ns:yang:ietf-ipfix-data-export"&gt;
  &lt;exporting-process&gt;
    &lt;name&gt;ipfix data exporter&lt;/name&gt;
    &lt;enabled&gt;true&lt;/enabled&gt;
    &lt;destination&gt;
      &lt;name&gt;ipfix-collector&lt;/name&gt;
      &lt;exporter&gt;
        &lt;source&gt;
          &lt;source-address&gt;192.100.2.1&lt;/source-address&gt;
        &lt;/source&gt;
        &lt;destination&gt;
          &lt;destination-address&gt;proxy1.sys.com&lt;/destination-address&gt;
        &lt;/destination&gt;
      &lt;/exporter&gt;
    &lt;/destination&gt;
    &lt;options&gt;
      &lt;name&gt;Options 1&lt;/name&gt;
      &lt;options-type&gt;extended-type-information&lt;/options-type&gt;
      &lt;options-timeout&gt;0&lt;/options-timeout&gt;
    &lt;/options&gt;
  &lt;/exporting-process&gt;
&lt;/ipfix-data-export&gt;
</pre><a href="#appendix-A-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="tree-diagrams-1">
<section id="appendix-B">
      <h2 id="name-tree-diagrams-2">
<a href="#appendix-B" class="section-number selfRef">Appendix B. </a><a href="#name-tree-diagrams-2" class="section-name selfRef">Tree diagrams</a>
      </h2>
<div id="ietf-ipfix-data-export-1">
<section id="appendix-B.1">
        <h3 id="name-ietf-ipfix-data-export-2">
<a href="#appendix-B.1" class="section-number selfRef">B.1. </a><a href="#name-ietf-ipfix-data-export-2" class="section-name selfRef">ietf-ipfix-data-export</a>
        </h3>
<p id="appendix-B.1-1">The complete tree diagram for ietf-ipfix-bulk-data-export:<a href="#appendix-B.1-1" class="pilcrow">¶</a></p>
<div id="appendix-B.1-2">
<pre class="lang-tree sourcecode">module: ietf-ipfix-data-export
  +--rw ipfix-data-export
     +--rw exporting-process* [name] {exporter}?
     |  +--rw name                    name-type
     |  +--rw enabled?                boolean
     |  +--rw export-mode?            identityref
     |  +--rw destination* [name]
     |  |  +--rw name        name-type
     |  |  +--rw exporter
     |  |     +--rw ipfix-version?              uint16
     |  |     +--rw source
     |  |     |  +--rw (source-method)?
     |  |     |     +--:(interface-ref)
     |  |     |     |  +--rw interface-ref?    if:interface-ref
     |  |     |     +--:(if-name) {if-mib}?
     |  |     |     |  +--rw if-name?          string
     |  |     |     +--:(source-address)
     |  |     |        +--rw source-address?   inet:host
     |  |     +--rw destination
     |  |     |  +--rw (destination-method)
     |  |     |     +--:(destination-address)
     |  |     |        +--rw destination-address?   inet:host
     |  |     +--rw destination-port?           inet:port-number
     |  |     +--rw send-buffer-size?           uint32
     |  |     +--rw rate-limit?                 uint32
     |  |     +--rw connection-timeout?         uint32
     |  |     +--rw retry-schedule?             uint32
     |  |     +--rw transport-layer-security!
     |  |     |  +--rw local-certification-authority-dn*    string
     |  |     |  +--rw local-subject-dn*                    string
     |  |     |  +--rw local-subject-fqdn*
     |  |     |  |       inet:domain-name
     |  |     |  +--rw remote-certification-authority-dn*   string
     |  |     |  +--rw remote-subject-dn*                   string
     |  |     |  +--rw remote-subject-fqdn*
     |  |     |          inet:domain-name
     |  |     +--ro transport-session
     |  |        +--ro ipfix-version?                          uint16
     |  |        +--ro source-address?
     |  |        |       inet:host
     |  |        +--ro destination-address?
     |  |        |       inet:host
     |  |        +--ro source-port?
     |  |        |       inet:port-number
     |  |        +--ro destination-port?
     |  |        |       inet:port-number
     |  |        +--ro status?
     |  |        |       transport-session-status
     |  |        +--ro rate?
     |  |        |       yang:gauge32
     |  |        +--ro bytes?
     |  |        |       yang:counter64
     |  |        +--ro messages?
     |  |        |       yang:counter64
     |  |        +--ro discarded-messages?
     |  |        |       yang:counter64
     |  |        +--ro records?
     |  |        |       yang:counter64
     |  |        +--ro templates?
     |  |        |       yang:counter32
     |  |        +--ro options-templates?
     |  |        |       yang:counter32
     |  |        +--ro transport-session-start-time?
     |  |        |       yang:date-and-time
     |  |        +--ro transport-session-discontinuity-time?
     |  |        |       yang:date-and-time
     |  |        +--ro template* [name]
     |  |           +--ro name                           name-type
     |  |           +--ro observation-domain-id?         uint32
     |  |           +--ro template-id?                   uint16
     |  |           +--ro set-id?                        uint16
     |  |           +--ro access-time?
     |  |           |       yang:date-and-time
     |  |           +--ro template-data-records?
     |  |           |       yang:counter64
     |  |           +--ro template-discontinuity-time?
     |  |           |       yang:date-and-time
     |  |           +--ro field* [name]
     |  |              +--ro name                    name-type
     |  |              +--ro ie-id?                  ie-id-type
     |  |              +--ro ie-length?              uint16
     |  |              +--ro ie-enterprise-number?   uint32
     |  |              +--ro is-scope?               empty
     |  +--rw options* [name]
     |  |  +--rw name               name-type
     |  |  +--rw options-type       identityref
     |  |  +--rw options-timeout?   uint32
     |  +--ro exporting-process-id?   uint32
     +--rw data-export
        +--rw template* [name]
           +--rw name                       name-type
           +--rw enabled?                   boolean
           +--rw export-interval?           uint32
           +--rw observation-domain-id?     uint32
           +--rw field-layout
           |  +--rw field* [name]
           |     +--rw name                    name-type
           |     +--rw (identifier)
           |     |  +--:(ie-name)
           |     |  |  +--rw ie-name?          ie-name-type
           |     |  +--:(ie-id)
           |     |     +--rw ie-id?            ie-id-type
           |     +--rw ie-length?              uint16
           |     +--rw ie-enterprise-number?   uint32
           +--rw exporting-process*
           |       -&gt; /ipfix-data-export/exporting-process/name
           |       {exporter}?
           +--rw (resource-identifier)?
           |  +--:(resource-instance)
           |     +--rw resource-instance*   resource
           +--ro data-records?              yang:counter64
           +--ro discontinuity-time?        yang:date-and-time
</pre><a href="#appendix-B.1-2" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-C">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Anand Arokiaraj</span></div>
<div dir="auto" class="left"><span class="org">Nokia</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:anand.arokiaraj@nokia.com" class="email">anand.arokiaraj@nokia.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Marta Seda</span></div>
<div dir="auto" class="left"><span class="org">Calix</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:marta.seda@calix.com" class="email">marta.seda@calix.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
