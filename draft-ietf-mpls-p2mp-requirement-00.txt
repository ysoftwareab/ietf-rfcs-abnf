



Network Working Group                              Seisho Yasukawa (NTT)
Internet Draft                           Dimitri Papadimitriou (Alcatel)
                                           Jean Philippe Vasseur (Cisco)
Adrian Farrel (Old Dog)                 Yuji Kamite (NTT Communications)
Markus Jork (Avici)                             Rahul Aggarwal (Juniper)
Andrew G. Malis(Tellabs)                        Alan Kullberg (Motorola)


Expiration Date: March 2004                                 October 2003


       Requirements for Point to Multipoint extension to RSVP-TE
                <draft-ietf-mpls-p2mp-requirement-00.txt>


Status of this Memo


   This document is an Internet-Draft and is in full conformance with
   all provisions of Section 10 of RFC2026.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.


Abstract

   This document presents a set of requirements for Point-to-Multipoint
   (P2MP) Traffic Engineering (TE) extensions to Multiprotocol Label
   Switching (MPLS). It specifies functional requirements for RSVP-TE in
   order to deliver P2MP applications over a MPLS TE infrastructure. It
   is intended that potential solutions, that specify RSVP-TE procedures
   for P2MP TE LSP setup, use these requirements as a guideline. It is
   not intended to specify solution specific details in this document.




Yasukawa, et. al.                                               [Page 1]

Internet Draft draft-yasukawa-mpls-p2mp-requirement-01.txt  October 2003


   It is intended that the requirements presented in this document are
   not limited to the requirements of packet switched networks, but also
   encompass the requirements of TDM, lambda and port switching networks
   managed by Generalized MPLS (GMPLS) protocols. Protocol solutions
   developed to meet the requirements set out in this document must be
   equally applicable to MPLS and GMPLS.



   Table of Contents

   1. Introduction .................................................. 3
   2. Definitions ................................................... 4
      2.1 Acronyms .................................................. 4
      2.2 Terminology ............................................... 4
      2.3 Conventions ............................................... 5
   3. Problem statements ............................................ 5
      3.1 Motivation ................................................ 5
      3.2 Requirements overview ..................................... 6
   4. Application Specific Requirements ............................. 8
      4.1 P2MP tunnel for IP multicast data ......................... 8
      4.2 P2MP backbone network for IP multicast network ............ 9
      4.3 Layer 2 Multicast Over MPLS ...............................10
      4.4 VPN multicast network .....................................10
      4.5 GMPLS network .............................................11
   5. Requirements for P2MP capability exptension ...................12
      5.1 P2MP LSP tunnels ..........................................12
      5.2 P2MP explicit routing .....................................12
      5.3 Explicit Path Loose Hops and Widely Scoped Abstract Nodes .13
      5.4 P2MP LSP establishment, teardown, and modification
          mechanisms ................................................14
      5.5 Failure Reporting and Error Recovery ......................14
      5.6 Record route of P2MP TE LSP tunnels .......................15
      5.7 Call Admission Control (CAC) and QoS control mechanism
          of P2MP LSP tunnels .......................................15
      5.8 Rerouting of P2MP TE LSP ..................................16
      5.9 IPv4/IPv6 support .........................................16
      5.10 P2MP MPLS Label ..........................................16
      5.11 Routing advertisement of P2MP capability .................17
      5.12 Multi-Area/AS LSP ........................................17
      5.13 P2MP MPLS management .....................................17
   6. Security Considerations........................................17
   7. Acknowledgements ..............................................17
   8. References ....................................................18
   9. Author's Addresses ............................................19






Yasukawa, et. al.                                               [Page 2]

Internet Draft draft-yasukawa-mpls-p2mp-requirement-01.txt  October 2003


1. Introduction

   This document presents a set of requirements for Point-to-Multipoint
   (P2MP) Traffic Engineering (TE) extensions to Multiprotocol Label
   Switching (MPLS). It specifies functional requirements for RSVP-TE
   [RFC3209] in order to deliver P2MP applications over a MPLS TE
   infrastructure.

   It is intended that potential solutions, that specify RSVP-TE
   procedures for P2MP TE LSP setup, use these requirements as a
   guideline. It is not intended to specify solution specific details
   in this document.

   It is intended that the requirements presented in this document are
   not limited to the requirements of packet switched networks, but also
   encompass the requirements of TDM, lambda and port switching networks
   managed by Generalized MPLS (GMPLS) protocols. Protocol solutions
   developed to meet the requirements set out in this document must be
   equally applicable to MPLS and GMPLS.

   Content Distribution (CD), Interactive multi-media (IMM), and VPN
   multicast are applications that are best supported with multicast
   capabilities.

   One possible solution would be to setup multiple P2P TE LSPs, one
   to each of the required egress LSRs. This requires replicating
   incoming packets to all the P2P LSPs at the ingress LSR to
   accommodate multipoint communication. This is sub-optimal. It
   places the replication burden on the ingress LSR and hence has
   very poor scaling characteristics. It also wastes bandwidth
   resources, memory and MPLS (e.g. label) resources in the network.

   Hence, to provide TE for a P2MP application in an efficient manner
   in a large scale environemnt, P2MP TE mechanisms are required.
   Existing MPLS P2P TE mechanisms have to be enhanced to support P2MP
   TE LSP setup.

   This should be achieved without running a multicast routing protocol
   in the network core and with maximum re-use of the existing MPLS
   protocols. A P2MP LSP will be setup with TE constraints and will
   allow efficient packet replication at various branching points in
   the network. RSVP-TE will be used for setting up a P2MP LSP with
   enhancements to existing P2P TE LSP procedures. The P2MP TE LSP
   setup mechanism will include the ability to add/remove receivers
   to/from an existing P2MP LSP.

   The problem statement is discussed in the following section. This
   document discusses various applications that can use P2MP MPLS TE.



Yasukawa, et. al.                                               [Page 3]

Internet Draft draft-yasukawa-mpls-p2mp-requirement-01.txt  October 2003


   Detailed requirements for the setup of a P2MP MPLS TE LSP using
   RSVP-TE are described. Application specific requirements are also
   described.


2. Definitions

2.1 Acronyms

   P2P:

      Point-to-point

   P2MP:

      Point-to-multipoint


2.2 Terminology

   The reader is assumed to be familiar with the terminology in
   [RFC3031] and [RFC3209].


   P2MP TE LSP:

      A traffic engineered label switched path that has one unique
      ingress LSR (also referred to as the root) and more than one
      egress LSR (referred to as the leaf).

   P2MP path:

      The ordered set of LSRs and links that comprise the P2MP LSP.

   sub-P2MP path:

      A sub-P2MP path is a portion of a P2MP path starting at
      a particular LSR that is a member of the P2MP path and includes
      ALL downstream LSRs that are also members of the P2MP path.

   ingress LSR:

      It is responsible for initiating the signaling messages that set
      up, modify and teardown the LSP

   branch LSR:

      A LSR that has more than one downstream LSR. A branch LSR receives



Yasukawa, et. al.                                               [Page 4]

Internet Draft draft-yasukawa-mpls-p2mp-requirement-01.txt  October 2003


      a single MPLS frame, makes a duplicate of it, and sends each to
      downstream interfaces.

   graft LSR:

      A LSR that is already a member of the P2MP path and is in
      process of signaling a new sub-P2MP path.

   prune LSR:

      A LSR that is already a member of the P2MP path and is in
      process of tearing down an existing sub-P2MP path.

   egress LSR:

      One of potentially many destinations of the P2MP LSP. Note
      that in some P2MP paths, an egress LSR may also have one or more
      downstream LSRs. Such an egress LSR may also be referred to
      as a branch LSR.



2.3 Conventions

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC2119 [5].



3. Problem Statement

3.1 Motivation

   Content Distribution (CD), Interactive multi-media (IMM), and VPN
   multicast are applications that are best supported with multicast
   capabilities.

   IP Multicast provides P2MP communication. However, there are no
   Traffic Engineering (TE) capabilities or QoS guarantees with existing
   IP multicast protocols. Note that Diff-serv (see [RFC2475],[RFC2597]
   and [RFC3246]) combined with IP multicast routing is not sufficient
   for P2MP applications for many of the same reasons that it is not
   sufficient for unicast applications TE and constraint based routing
   are required to enable and scale the efficient management of network
   resources, mechanism to prevent congestion (including Call Admission
   Function combined with explicit source routing, Diffserv), and to
   enable sub-second rerouting around network failures. Furthermore



Yasukawa, et. al.                                               [Page 5]

Internet Draft draft-yasukawa-mpls-p2mp-requirement-01.txt  October 2003


   there are no existing P2MP mechanisms for carrying layer 2 or
   SONET/SDH multicast traffic over MPLS. TE capabilities are desirable
   for both these applications.

   One possible solution would be to setup multiple P2P TE LSPs, one to
   each of the required egress LSRs. This requires replicating incoming
   traffic to all the P2P LSPs at the ingress LSR to accommodate
   multipoint communication. This is clearly sub-optimal. It places the
   replication burden on the ingress LSR and hence has very poor scaling
   characteristics. It also wastes bandwidth resources, memory and MPLS
   (e.g. label) resources in the network.

   Hence, to provide MPLS TE [RFC2702] for a P2MP application in an
   efficient manner in a large scale environment, P2MP TE mechanisms are
   required. Existing MPLS P2P TE mechanisms have to be enhanced to
   support P2MP TE LSP setup.


3.2. Requirements Overview

   This document is proposing requirements for the setup of P2MP TE
   LSPs. This should be achieved without running a multicast routing
   protocol in the network core and with maximum re-use of the existing
   MPLS protocols. Note that the use of MPLS forwarding to carry the
   multicast traffic may also be useful in the context of some network
   design where it is being desired to avoid running some multicast
   routing protocol like PIM [PIM-SM] or BGP (which might be required
   for the use of PIM).
   A P2MP LSP will be setup with TE constraints and will allow efficient
   MPLS packet replication at various branching points in the network.
   RSVP-TE will be used for setting up a P2MP LSP with enhancements to
   existing P2P TE LSP procedures.

   The P2MP TE LSP setup mechanism will include the ability to
   add/remove receivers to/from an existing P2MP LSP and should support
   all the TE LSP management procedures defined for P2P TE LSP
   (like the non disruptive rerouting (so called "Make before break"
    procedure).

   The computation of P2MP TE paths is implementation dependent and is
   beyond the scope of the solutions that are built with this document
   as a guideline.

   The MPLS WG will specify how to build solutions for the setup a P2MP
   TE LSP. The usage of those solutions will be application dependent
   and is out of the scope of this draft.





Yasukawa, et. al.                                               [Page 6]

Internet Draft draft-yasukawa-mpls-p2mp-requirement-01.txt  October 2003


   Consider the following figure.



                         Source 1 (S1)
                               |
                             I-LSR1
                             |   |
                             |   |
            R2----E-LSR3--LSR1   LSR2---E-LSR2--Receiver 1 (R1)
                             |   :
                  R3----E-LSR4   E-LSR5
                             |   :
                             |   :
                            R4   R5



                           Figure 1.

   The above figure shows I(Ingress)-LSR1, E(Egress)-LSR2, E-LSR3 and
   E-LSR4. I-LSR1 is attached to a traffic source that is generating
   traffic for a P2MP application. E-LSR2, E-LSR3 and E-LSR4 are
   attached to receivers that are interested in receiving traffic for
   the application. The following are the objectives that we wish to
   achieve:

      a) A P2MP TE LSP path information which satisfies various
         constrains is pre-determined and supplied to ingress I-LSR1.
         Typical constraints are bandwidth requirements, resource class
         affinities, fast rerouting, preemption, along with several
         potential other constraints. There should not be any
         restriction on the possibility to support the set of
         constraints already defined for point to point TE LSPs.
      b) Set up a P2MP TE LSP from I-LSR1 to E-LSR2, E-LSR3 and E-LSR4
         using the path information which could have been computed by
         some off-line or on-line algorithms.
      c) In this case, the branch LSR1 should replicate incoming packets
         and send them to E-LSR3 and E-LSR4.
      d) The P2MP TE LSP should be setup by enhancing existing RSVP-TE
         P2P procedures and without any requirement for multicast
         routing protocol in the network core.
      e) The solution should provide the ability to gracefully modify
         P2MP TE LSP (i.e add/remove some part of the p2mp TE LSP
         without requiring to entirely tearing down or setting up a
         completely new p2mp TE LSP). Such operations should be
         performed in a non traffic disruptive fashion. In this case,
         a sub-P2MP path LSR2->E-LSR5 is grafted and pruned based on



Yasukawa, et. al.                                               [Page 7]

Internet Draft draft-yasukawa-mpls-p2mp-requirement-01.txt  October 2003


         traffic destination change.



4. Application Specific Requirements

   This section describes some of the applications that P2MP MPLS
   TE is applicable to along with application specific requirements,
   if any.


4.1 P2MP tunnel for IP multicast data

   One typical scenario is to use P2MP TE LSPs as P2MP tunnels of
   multicast data traffic (e.g. IP mcast). In this scenario, a P2MP LSP
   tunnel is established between an ingress LSR which accomodates
   IP multicast source and several egress LSRs which accomodate several
   IP multicast receivers. Instead of using IP multicast routing
   protocol in the network core, a P2MP LSP tunnel is established over
   the network and IP multicast data are tunnelled from an ingress LSR
   node to multiple egress leaf LSRs with the data replication at the
   branch LSRs in the network core. Figure 2 shows this example.
   Note that a P2MP TE LSP can be established over multiple AREAs/ASs.


                             Mcast Source
                                  |
               +---------------I-LSR0----------------+
               |                  |                  |
               |                LSR0            +----E-LSR2---R2
               |               /    \          /     |
     R1---E-LSR1---LSR2-----LSR1     LSR3----LSR4----E-LSR3---R3
               |             /        \        \     |
               |            /          \        +----E-LSR4---R4
               +-------B-LSR1---------B-LSR2---------+
               +-------- / ------++------ \ ---------+
               |         |       ||                  |
     R5---E-LSR5--------LSR5     || IPmcast Network  |
               |       /  \      ||                  |
               +-E-LSR6---E-LSR7-++----MR0--MR1------+
                   |        |           |    |
                   R6       R7          R8   R9



                              Figure 2





Yasukawa, et. al.                                               [Page 8]

Internet Draft draft-yasukawa-mpls-p2mp-requirement-01.txt  October 2003


4.2  P2MP backbone network for IP multicast network

   In this scenario, P2MP TE LSPs are utilized to construct a P2MP
   backbone network for multicast network (e.g. IPmcast network). Each
   IP multicast access networks is interconnected by a P2MP TE LSP.
   A P2MP LSP is established from an ingress LSR which accomodates IP
   multicast network that has a Mcast Source to multiple egress LSRs
   which accomodate an IP multicast network. In this scenario,
   ingress/egress LSRs placed at the edge of multicast network must
   handle IP multicast routing protocol. This means that each
   ingress/egress LSR exchanges IP multicast routing messages as
   neighbour router. Figure 3 shows a network example of this scenario.
   A P2MP LSP is established from a I-LSR1 to E-LSR2, E-LSR3, E-LSR4 and
   each ingress/egress LSR exchanges the multicast routing messages each
   other.

   As specified in the section on the problem statement it should be
   possible for a solution to add/remove egress LSRs to/from the
   P2MP MPLS TE LSP. IP multicast group membership distribution between
   the egress LSRs may change frequently. This in turn may require a
   potential P2MP MPLS TE solution, that is suitable for IP multicast,
   to handle additions/deletions of egress LSRs at a rapid rate.

   It is recommended to support a message exchange mechanism on top of
   P2MP LSP setup mechanism to support multicast (S, G) Join/ Leave and
   to allow the ingress LSR to hold sufficient information in order to
   optimise multicast FEC on sender nodes.

   Though several schemes exist to handle this scenario, these are out
   of scope of this document. This document only describes requirements
   to setup a P2MP TE LSP.




















Yasukawa, et. al.                                               [Page 9]

Internet Draft draft-yasukawa-mpls-p2mp-requirement-01.txt  October 2003


                             Mcast Source
                                  |
                           +-----MR-----+
                           |      |     |
                           |     MR     |
                           +------|-----+
               +---------------I-LSR1----------------+
               |              // ||| \\              |
               |             //  |||  \\             |
               |            //  |LSR|  \\            |
               |        ___//____/|_____\\____       |
               |       /  //     |||     \\   \      |
               |       | //      |||      \\  |      |
               +-----E-LSR2----E-LSR3-----E-LSR4-----+
               +---- / ---++------|------++--- \ ----+
               |    |     ||      |      ||    |     |
          R1---MR---MR    ||      MR     ||    MR__  |
               |   /  \   ||     /  \    ||   /  \  \MR---R8
               +--MR--MR--++----MR--MR---++--MR--MR--+
                  |    |        |    |       |    |
                  R2   R3       R4   R5      R6   R7


                                Figure 3


4.3  Layer 2 Multicast Over MPLS

   Existing layer 2 networks offer multicast video services. These are
   typically carried using layer 2 NBMA technology such as ATM or
   layer 2 BA technology such as Ethernet. It may be desirable to
   deliver these layer 2 multicast services over a converged MPLS
   infrastructure where P2MP TE LSPs are used instead.


4.4 VPN multicast network

   In this scenario, P2MP TE LSPs are utilized to construct a provider
   network which can deliver VPN multicast service(s) to its customers.
   A P2MP TE LSP is established between all the PE routers which
   accommodate the customer private network(s) that handle the IP
   multicast packets. Each PE router must handle VPN instance.

   For example, in Layer3 VPN like BGP/MPLS based IP VPN
   [BGP/MPLS IP VPNs], this means that each PE router must handle both
   private multicast VRF tables and common multicast routing and
   forwarding table.  And each PE router exchanges private multicast
   routing information between the corresponding PE routers. It is



Yasukawa, et. al.                                              [Page 10]

Internet Draft draft-yasukawa-mpls-p2mp-requirement-01.txt  October 2003


   desirable that P2MP MPLS TE can be used for Layer3 VPN's data
   transmission.

   Another example is Layer2 VPN that supports multipoint
   LAN connectivity service. In Ethernet network environment, IP
   multicast data is flooded to the appropriate Ethernet port(s). In
   Ethernet multipoint L2 VPN service provided by MPLS, this function is
   achieved by switching MPLS encapsulated frames towards the relevant
   PE nodes. But if existing P2P TE LSPs are used as tunnels between
   PEs, any ingress PE must duplicate the frames and the send them to
   the corresponding PEs. This means data stream is flooded just from
   ingress PE, which will waste provider's network resources.
   So, for Layer 2 VPNs, it is desirable that P2MP MPLS TE LSPs are used
   for data transmission instead of P2P MPLS TE LSPs, contributing in
   turn to savings of network resources.


4.5 GMPLS Network

   GMPLS supports only P2P TE-LSPs just like MPLS. GMPLS enhances MPLS
   to support four new classes of interfaces Layer-2 Switch Capable
   (L2SC), Time-Division Multiplex (TDM), Lambda Switch Capable (LSC)
   and Fiber-Switch Capable (FSC) in addition to Packet Switch Capable
   (PSC) already supported by MPLS. All of these interface classes have
   so far been limited to P2P TE LSPs (see [RFC 3473] and [RFC 3471]).

   The requirement for P2MP services for non-packet switch interfaces
   is similar to that for PSC interfaces. In particular, cable
   distribution services such as video distribution are prime candidates
   to use P2MP features. Therefore, it is a requirement that all the
   features/mechanisms (and protocol extensions) that will be defined to
   provide MPLS P2MP TE LSPs will be equally applicable to P2MP PSC and
   non-PSC TE-LSPs.

   This also means that solutions for MPLS P2MP TE-LSPs when applied
   to GMPLS P2MP PSC and non-PSC TE-LSPs shall be backward and
   forward compatible with the other features of GMPLS including:

   o control and data plane separation (IF_ID RSVP_HOP and
     IF_ID ERROR_SPEC),
   o full support of numbered and unnumbered TE links (see [RFC 3477]
     and [GMPLS-ROUTING]),
   o use of the GENERALIZED_LABEL_REQUEST and the GENERALIZED_LABEL
    (C-Type 2 and 3) in conjunction with the LABEL_SET and the
    ACCEPTABLE_LABEL_SET object,
   o processing of the ADMIN_STATUS object,
   o processing of the PROTECTION object,
   o support of Explicit Label Control,



Yasukawa, et. al.                                              [Page 11]

Internet Draft draft-yasukawa-mpls-p2mp-requirement-01.txt  October 2003


   o processing of the Path_State_Removed Flag,
   o handling of Graceful Deletion procedures.

   In addition, since non-PSC TE-LSPs may have to be processed in
   environments where the "P2MP capability" could be limited, specific
   constraints may also apply during the P2MP TE Path computation. Being
   technology specific, these constraints are outside the scope of this
   document. However, technology independent constraints (i.e.
   constraints that are applicable independently of the LSP class)
   should be allowed during P2MP TE LSP message processing. It has to be
   emphasized that path computation and management techniques shall be
   as close as possible than those being used for PSC P2P and P2MP TE
   LSPs.



5. Requirements for P2MP capability extension

5.1 P2MP LSP tunnels

   The P2MP RSVP-TE extensions MUST be applicable to signaling LSPs
   of different traffic types. For example, it must be possible to
   signal a P2MP LSP to carry any kind of payload being packet or
   non-packet based (including frame, cell, TDM un/structured, etc.)
   Carrying IP multicast or Ethernet traffic within a P2MP tunnel are
   typical examples.

   As with P2P MPLS technology[RFC3031], traffic is classified with
   FEC in this extension. All packets which belong to a particular FEC
   and which travel from a particular node MUST follow the same P2MP
   path.

   In order to scale to a large number of branches, P2MP TE LSPs should
   be identified by unique identifier that is constant for the whole LSP
   regardless of the number of branches and/or leaves. Therefore, the
   identification of the P2MP session by its destination addresses is
   not adequate.


5.2 P2MP explicit routing

   Various optimizations in P2MP path formation need to be applied to
   meet various needs such as bandwidth guarantees, delay requirements,
   and minimization of the total P2MP path cost.

   The P2MP TE solution therefore MUST provide a means of establishing
   arbitrary P2MP paths. Figure 4 shows two typical examples.




Yasukawa, et. al.                                              [Page 12]

Internet Draft draft-yasukawa-mpls-p2mp-requirement-01.txt  October 2003


                A                                      A
                |                                    /   \
                B                                   B     C
                |                                  / \   / \
                C                                 D   E  F   G
                |                                / \ / \/ \ / \
    D--E*-F*-G*-H*-I*-J*-K*--L                  H  I J KL M N  O

         Steiner P2MP path                        SPF P2MP path



                Figure 4 Examples of P2MP LSP topology



   One example is Steiner[STEINER] P2MP path (Cost minimum P2MP path).
   This P2MP path is suitable for constructing cost minimum P2MP path.
   To realize this P2MP path, several intermediate LSRs must be both
   MPLS data terminating LSR and transit LSR (LSR E, F, G, H, I, J, K,
   in the figure). This means that the LSR must perform both label
   swapping and popping at the same time. Therefore, the P2MP TE
   solution MUST support a mechanism that can setup this kind of
   terminate LSR between a ingress LSR and egress LSRs.

   Another example is CSPF (Constraint Shortest Path Fast) P2MP path. By
   some metric (which can be set upon any specific criteria like the
   delay, bandwidth, a combination of those), one can calculate a cost
   minimum P2MP path. This P2MP path is suitable for carrying real time
   traffic.

   To support explicit setup of any reasonable P2MP path shape, a P2MP
   TE solution must support some form of explicit source-based control
   of the P2MP path. This can be used by the ingress LSR to setup the
   P2MP LSP. Being implementation specific (more precisely dependent of
   the data structure specific representation and its processing), the
   detailed method for controlling the P2MP TE LSP topology depends on
   how the control plane represents the P2MP TE LSP data plane entity.
   For instance, a P2MP TE LSP can be simply represented by its
   individual branches or as a whole. Here also, effectiveness of the
   potential solutions is left outside the scope of this document.
   In any case, it is expected that this control must be driven by the
   ingress LSR.


5.3 Explicit Path Loose Hops and Widely Scoped Abstract Nodes

   A P2MP path is completely specified if all of the required



Yasukawa, et. al.                                              [Page 13]

Internet Draft draft-yasukawa-mpls-p2mp-requirement-01.txt  October 2003


   branches and hops between a sender and leaf LSR are indicated.

   A P2MP path is partially specified if only a subset of intermediate
   branches and hops are indicated. This may be achieved using
   loose hops in the explicit path, or using widely scoped abstract
   nodes such as IPv4 prefixes shorter than 32 bits or AS numbers.
   A partially specified P2MP path may be particularly useful in
   inter-area and inter-AS situations.

   Protocol solutions SHOULD include a way to specify loose
   hops and widely scoped abstract nodes in the explicit source-
   based control of the P2MP path as defined in the previous
   section. Where this support is provided, protocol solutions
   MUST allow downstream LSRs to apply further explicit
   control to the P2MP path to resolve a partially specified path
   into a (more) completely specified path.

   Protocol solutions MUST allow the P2MP path to be completely
   specified at the ingress where sufficient information exists to allow
   the full path to be computed.

   In all cases, the egress nodes of the P2MP LSP must be fully
   specified.


5.4 P2MP LSP establishment, teardown, and modification mechanisms

   The P2MP TE solution must support large scale P2MP TE LSPs
   establishment and teardown in a scalable manner.

   In addition to whole P2MP TE LSP establishment and teardown
   mechanism, it SHOULD implement partial P2MP path modification
   mechanism.

   For the purpose of adding sub-P2MP TE LSPs for existing P2MP TE LSP,
   the extension SHOULD support grafting mechanism. For the purpose of
   deleting a sub-P2MP TE LSPs from existing P2MP TE LSP, the extension
   SHOULD support pruning mechanism.

   It is RECOMMENDED that these grafting and pruning operations do not
   cause any additional processing in nodes except along the path to the
   grafting and pruning node and its downstream nodes.


5.5 Failure Reporting and Error Recovery

   Failure events may cause egress nodes or sub-P2MP LSPs to become
   detached from the P2MP LSP. These events must be reported upstream as



Yasukawa, et. al.                                              [Page 14]

Internet Draft draft-yasukawa-mpls-p2mp-requirement-01.txt  October 2003


   for a P2P LSP.

   Protection and recovery techniques SHOULD be applied to the LSP to
   build new sub-P2MP LSPs or use backup sub-P2MP LSPs to restore the
   data to the severed egress nodes.

   The report of the failure of delivery to fewer than all of the egress
   nodes SHOULD NOT cause automatic teardown of the P2MP LSP. That is,
   while some egress nodes remain connected to the P2MP path it should
   be a matter of local policy at the ingress whether the P2MP LSP is
   retained.

   When all egress node downstreams of a branch node have become
   disconnected from the P2MP path, and the branch node is unable to
   restore connectivity to any of them through recovery or protection
   mechanisms, the branch node MAY remove itself from the P2MP path.
   Since the faults that severed the various downstream egress nodes
   from the P2MP path may be disperate, the branch node MUST report all
   such errors to its upstream neighbor.


5.6 Record route of P2MP TE LSP tunnels

   Being able to identify the established topology of P2MP LSP is very
   important for various purpose:Management, operation of some local
   recovery mechanism like Fast Reroute [FRR]. A network operator uses
   this information to manage P2MP LSP. Therefore, topology information
   MUST be collected and updated after P2MP LSP establishment and
   modification process.

   For this purpose, conventional Record Route mechanism is useful.
   As with other conventional mechanism, this information should be
   forwarded upstream towards the sender node. The P2MP TE solution MUST
   support a mechanism which can collect and update P2MP path topology
   information after P2MP LSP establishment and modification process.
   It is RECOMMENDED that those information are collected in a data
   format by which the sendor node can recognize the P2MP path topology
   without involving some complicated data calculation process.


5.7 Call Admission Control (CAC) and QoS Control mechanism
    of P2MP LSP tunnels

   P2MP LSP share network resource with P2P LSP. Therefore it is
   important to use CAC and QoS as P2P LSP for easy and scalable
   operation.

   In particular, it should be highlighted that because



Yasukawa, et. al.                                              [Page 15]

Internet Draft draft-yasukawa-mpls-p2mp-requirement-01.txt  October 2003


   mutliacst traffic cannot make use of point to point TE LSP, multicast
   traffic cannot be easily taken into account by point to point in
   order to perform CAC. The use of P2MP TE LSP will now allow for an
   accounting of the unicast and multicast traffic for bandwidth
   reservation.

   P2MP TE solution MUST both supports FF and SE reservation style.

   P2MP TE solution MUST be applicable to Diffserv-enabled network
   that can provide consistent QoS control in P2MP LSP traffic.

   This solution SHOULD also satisfy DS-TE requirement [RFC3564] and
   interoprable smoothly with current P2P DS-TE protocol specification.


5.8 Rerouting of P2MP TE LSP

   The detection of a more optical path and network resource failure(s)
   (such as link(s) and node(s)) are examples of situation where P2MP TE
   LSP re-routing is needed. While re-routing is in progress, an
   important requirement is avoiding traffic disruption. An additional
   requirement is avoiding double bandwidth reservation (over the common
   parts between the old and new LSP) through the use of resource
   sharing. Make-before-break (see [RFC 3209]) delivers simultaneously a
   solution to these requirements.

   Make-Before-Break MUST be supported for a P2MP TE LSP to ensure
   that there is no traffic disruption when the P2MP TE LSP is rerouted.

   And a P2MP TE solution MUST support P2MP fast rerouting mechanism
   to handle P2MP applications sensitive to traffic disruption.


5.9 IPv4/IPv6 support

   A P2MP TE solution MUST be applicable to IPv4/IPv6.


5.10 P2MP MPLS Label

   A P2MP TE solution MUST support establishment of both P2P and
   P2MP TE LSP and MUST NOT impede the operation of P2P LSPs within
   the same network. A P2MP TE solution MUST be specified in such
   a way that it allows P2MP and P2P LSPs to be signaled on the
   same interface. Labels for P2MP TE LSPs and P2P TE LSPs MAY be
   assigned from shared or dedicated label space(s). Label space
   shareability is implementation specific.




Yasukawa, et. al.                                              [Page 16]

Internet Draft draft-yasukawa-mpls-p2mp-requirement-01.txt  October 2003


5.11 Routing advertisement of P2MP capability

   This document has identified several high-level requirements for
   enhancements to routing protocols to support P2MP MPLS.
   These are needed to facilitate the computation of P2MP paths using TE
   constraints so that explicit source-control may be applied to the LSP
   paths as they are signaled through the network.

   These requirements include but not restricted to:

   - the ability of an LSR to support branching
   - the ability of an LSR to act as an egress and a branch for the
     same LSP.

   The applicability of these requirements is for further study.
   These requirements are developed in a separate document.


5.12 Multi-Area/AS LSP

   P2MP TE solution SHOULD support multi-Area/AS LSP.


5.13 P2MP MPLS management

   The MPLS MIB should be enhanced to provide P2MP TE LSP management.
   P2MP TE LSPs MUST have a unique identifier whose definition MAY be
   partially or entirely shared with P2P TE LSP identifiers used for
   management purposes.



6. Security Considerations

   Security considerations will be addressed in a future revision of
   this document.



7. Acknowledgements

   The authors would like to thank George Swallow, Ichiro Inoue and
   Dean Cheng for his review and suggestion of an earlier draft of this
   document.







Yasukawa, et. al.                                              [Page 17]

Internet Draft draft-yasukawa-mpls-p2mp-requirement-01.txt  October 2003


8. References

   [RFC3209] Awduche, D., Berger, L., Gan, D., Li, T., Srinivasan,
   V. and G. Swallow, "RSVP-TE: Extensions to RSVP for LSP Tunnels",
   RFC 3209, December 2001.

   [RFC3031] Rosen, E., Viswanathan, A. and R. Callon, "Multiprotocol
   Label Switching Architecture", RFC 3031, January 2001.

   [RFC2475] Blake, S., Black, D., Carlson, M., Davies, E., Wang, Z.
   and W. Weiss,  "An Architecture for Differentiated Services", RFC
   2475, December 1998.

   [RFC2597] Heinanen, J., Baker, F., Weiss, W. and J. Wroclawski,
   "Assured Forwarding PHB Group", RFC 2597, June 1999.

   [RFC3246] Davie, B., Charny, A., Bennet, J.C.R., Benson, K., Le
   Boudec, J.Y., Davari, S., Courtney, W., Firioiu, V. and D. Stiliadis,
   "An Expedited Forwarding PHB (Per-Hop Behavior)", RFC 3246,
   March 2002.

   [RFC2362] D. Estrin, D. Farinacci, A. Helmy, D. Thaler, S. Deering,
   M. Handley, V. Jacobson, C. Liu, P. Sharma, L. Wei, "Protocol
   Independent Multicast-Sparse Mode (PIM-SM): Protocol Specification.",
   RFC 2362, June 1998.

   [RFC2702] D. Awduche, J. Malcolm, J. Agogbua, M. O'Dell, J. McManus,
   "Requirements for Traffic Engineering Over MPLS", RFC2702,
   September 1999

   [PIM-SM] B. Fenner, M. Hadley, H. Holbrook, I. Kouvelas, "Protocol
   Independent Multicast - Sparse Mode (PIM-SM):Protocol Specification
   (Revised)", draft-ietf-pim-sm-v2-new-08.txt, October 2003.

   [BGP/MPLS IP VPNs] E. Rosen, Y.Rekhter, Editor, "BGP/MPLS IP VPNs",
   draft-ietf-l3vpn-rfc2547bis-01.txt, September 2003

   [RFC3471] Berger, L., Editor, "Generalized Multi-Protocol Label
   Switching (GMPLS) Signaling Functional Description", RFC 3471,
   January 2003.

   [RFC3473] Berger, L., Editor, "Generalized Multi-Protocol Label
   Switching (GMPLS) Signaling - Resource ReserVation Protocol-Traffic
   Engineering (RSVP-TE) Extensions", RFC 3473, January 2003.

   [RFC3477]  K. Kompella, Y. Rekhter, "Signalling Unnumbered Links in
   Resource ReSerVation Protocol -Traffic Engineering (RSVP-TE)",
   RFC3477, January 2003.



Yasukawa, et. al.                                              [Page 18]

Internet Draft draft-yasukawa-mpls-p2mp-requirement-01.txt  October 2003


   [GMPLS-ROUTING]  K. Kompella, Y. Rekhter,  Editor, "Routing
   Extensions in Support of Generalized Multi-Protocol Label Switching",
   draft-ietf-ccamp-gmpls-routing-08.txt, October 2003.

   [STEINER] H. Salama, et al., "Evaluation of Multicast Routing
   Algorithm for Real-Time Communication on High-Speed Networks,"
   IEEE Journal on Selected Area in Communications, pp.332-345, 1997

   [DJIKSTRA] E. W. Djikstra, "A note on two problem in connection with
   graphs," Numerische Mathematik, vol.1, pp.269-271, 1959

   [IPMCAST-MPLS] D. Ooms, B. Sales, W. Livens, A. Acharya, F. Griffoul
   and F. Ansari, "Overview of IP Multicast in a Multi-Protocol Label
   Switching (MPLS) Environment", RFC3353, August 2002.

   [FRR] P. Pan, D. Gan, G. Swallow, J. P. Vasseur, D. Cooper,
   A. Atlas, M. Jork,"Fast Reroute Extensions to RSVP-TE for LSP
   Tunnels", draft-ietf-mpls-rsvp-lsp-fastreroute-03.txt, July 2003

   [RFC3564] F. Le Faucheur, W. Lai, "Requirements for Support of
   Differentiated Services-aware MPLS Traffic Engineering", RFC3564,
   July 2003

   [OSPF-TE] D. Katz, D. Yeung, K. Kompella, "Traffic Engineering
   Extensions to OSPF Version 2", draft-katz-yeung-ospf-traffic-08.txt,
   September 2002

   [IS-IS-TE] Henk Smit, Tony Li, "IS-IS extensions for Traffic
   Engineering", draft-ietf-isis-traffic-04.txt, December 2002



9. Author's Addresses

   Seisho Yasukawa
   NTT Network Service Systems Laboratories, NTT Corporation
   9-11, Midori-Cho 3-Chome
   Musashino-Shi, Tokyo 180-8585 Japan
   Phone: +81 422 59 4769
   EMail: yasukawa.seisho@lab.ntt.co.jp

   Dimitri Papadimitriou (Alcatel)
   Francis Wellensplein 1,
   B-2018 Antwerpen, Belgium
   Phone : +32 3 240 8491
   EMail: dimitri.papadimitriou@alcatel.be





Yasukawa, et. al.                                              [Page 19]

Internet Draft draft-yasukawa-mpls-p2mp-requirement-01.txt  October 2003


   JP Vasseur
   Cisco Systems, Inc.
   300 Beaver Brook Road
   Boxborough , MA - 01719
   USA
   Email: jpv@cisco.com

   Yuji Kamite
   NTT Communications Corporation
   Innovative IP Architecture Center,
   Tokyo Opera City Tower 21F,
   20-2, 3-chome, Nishi-Shinjuku, Shinjuku-ku,
   Tokyo, 163-1421, Japan.
   EMail: y.kamite@ntt.com

   Rahul Aggarwal
   Juniper Networks
   1194 North Mathilda Ave.
   Sunnyvale, CA 94089
   Email: rahul@juniper.net

   Alan Kullberg
   Motorola Computer Group
   120 Turnpike Rd.
   Southborough, MA  01772
   Email: alan.kullberg@motorola.com

   Adrian Farrel
   Old Dog Consulting
   Phone:  +44 (0) 1978 860944
   EMail:  adrian@olddog.co.uk

   Markus Jork
   Avici Systems
   101 Billerica Avenue
   N. Billerica, MA 01862
   email: mjork@avici.com
   phone: +1 978 964 2142

   Andrew G. Malis
   Tellabs
   2730 Orchard Parkway
   San Jose, CA 95134
   Phone: +1 408 383 7223
   Email: andy.malis@tellabs.com






Yasukawa, et. al.                                              [Page 20]


