<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Guidelines for Autonomic Service Agents</title>
<meta content="Brian Carpenter" name="author">
<meta content="Laurent Ciavaglia" name="author">
<meta content="Sheng Jiang" name="author">
<meta content="Pierre Peloso" name="author">
<meta content="
       This document proposes guidelines for the design of Autonomic Service Agents
      for autonomic networks, as a contribution to describing an autonomic ecosystem.
      It is based on the Autonomic Network
      Infrastructure outlined in the ANIMA reference model, using
      the Autonomic Control Plane and the Generic Autonomic Signaling Protocol.
       
    " name="description">
<meta content="xml2rfc 2.47.0" name="generator">
<meta content="draft-carpenter-anima-asa-guidelines-09" name="ietf.draft">
<link href="/tmp/draft-carpenter-anima-asa-guidelines-09-00yug44r.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: avoid-page;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">ASA Guidelines</td>
<td class="right">July 2020</td>
</tr></thead>
<tfoot><tr>
<td class="left">Carpenter, et al.</td>
<td class="center">Expires 26 January 2021</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Network Working Group</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-carpenter-anima-asa-guidelines-09</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2020-07-25" class="published">25 July 2020</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Informational</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2021-01-26">26 January 2021</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">B. E. Carpenter</div>
<div class="org">Univ. of Auckland</div>
</div>
<div class="author">
      <div class="author-name">L. Ciavaglia</div>
<div class="org">Nokia</div>
</div>
<div class="author">
      <div class="author-name">S. Jiang</div>
<div class="org">Huawei Technologies Co., Ltd</div>
</div>
<div class="author">
      <div class="author-name">P. Peloso</div>
<div class="org">Nokia</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Guidelines for Autonomic Service Agents</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This document proposes guidelines for the design of Autonomic Service Agents
      for autonomic networks, as a contribution to describing an autonomic ecosystem.
      It is based on the Autonomic Network
      Infrastructure outlined in the ANIMA reference model, using
      the Autonomic Control Plane and the Generic Autonomic Signaling Protocol.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 26 January 2021.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2020 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a><a href="#section-toc.1-1.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-logical-structure-of-an-aut" class="xref">Logical Structure of an Autonomic Service Agent</a><a href="#section-toc.1-1.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-interaction-with-the-autono" class="xref">Interaction with the Autonomic Networking Infrastructure</a><a href="#section-toc.1-1.3.1" class="pilcrow">¶</a></p>
<ul class="compact ulEmpty toc">
<li class="compact ulEmpty toc" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1" class="keepWithNext"><a href="#section-3.1" class="xref">3.1</a>.  <a href="#name-interaction-with-the-securi" class="xref">Interaction with the security mechanisms</a><a href="#section-toc.1-1.3.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="compact ulEmpty toc" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="xref">3.2</a>.  <a href="#name-interaction-with-the-autonom" class="xref">Interaction with the Autonomic Control Plane</a><a href="#section-toc.1-1.3.2.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="compact ulEmpty toc" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="xref">3.3</a>.  <a href="#name-interaction-with-grasp-and-" class="xref">Interaction with GRASP and its API</a><a href="#section-toc.1-1.3.2.3.1" class="pilcrow">¶</a></p>
</li>
              <li class="compact ulEmpty toc" id="section-toc.1-1.3.2.4">
                <p id="section-toc.1-1.3.2.4.1"><a href="#section-3.4" class="xref">3.4</a>.  <a href="#name-interaction-with-policy-mec" class="xref">Interaction with policy mechanism</a><a href="#section-toc.1-1.3.2.4.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-interaction-with-non-autono" class="xref">Interaction with Non-Autonomic Components</a><a href="#section-toc.1-1.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-design-of-grasp-objectives" class="xref">Design of GRASP Objectives</a><a href="#section-toc.1-1.5.1" class="pilcrow">¶</a></p>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-life-cycle" class="xref">Life Cycle</a><a href="#section-toc.1-1.6.1" class="pilcrow">¶</a></p>
<ul class="compact ulEmpty toc">
<li class="compact ulEmpty toc" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="xref">6.1</a>.  <a href="#name-installation-phase" class="xref">Installation phase</a><a href="#section-toc.1-1.6.2.1.1" class="pilcrow">¶</a></p>
<ul class="compact ulEmpty toc">
<li class="compact ulEmpty toc" id="section-toc.1-1.6.2.1.2.1">
                    <p id="section-toc.1-1.6.2.1.2.1.1"><a href="#section-6.1.1" class="xref">6.1.1</a>.  <a href="#name-installation-phase-inputs-a" class="xref">Installation phase inputs and outputs</a><a href="#section-toc.1-1.6.2.1.2.1.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
              <li class="compact ulEmpty toc" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="xref">6.2</a>.  <a href="#name-instantiation-phase" class="xref">Instantiation phase</a><a href="#section-toc.1-1.6.2.2.1" class="pilcrow">¶</a></p>
<ul class="compact ulEmpty toc">
<li class="compact ulEmpty toc" id="section-toc.1-1.6.2.2.2.1">
                    <p id="section-toc.1-1.6.2.2.2.1.1"><a href="#section-6.2.1" class="xref">6.2.1</a>.  <a href="#name-operators-goal" class="xref">Operator's goal</a><a href="#section-toc.1-1.6.2.2.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact ulEmpty toc" id="section-toc.1-1.6.2.2.2.2">
                    <p id="section-toc.1-1.6.2.2.2.2.1"><a href="#section-6.2.2" class="xref">6.2.2</a>.  <a href="#name-instantiation-phase-inputs-" class="xref">Instantiation phase inputs and outputs</a><a href="#section-toc.1-1.6.2.2.2.2.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact ulEmpty toc" id="section-toc.1-1.6.2.2.2.3">
                    <p id="section-toc.1-1.6.2.2.2.3.1"><a href="#section-6.2.3" class="xref">6.2.3</a>.  <a href="#name-instantiation-phase-require" class="xref">Instantiation phase requirements</a><a href="#section-toc.1-1.6.2.2.2.3.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
              <li class="compact ulEmpty toc" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a href="#section-6.3" class="xref">6.3</a>.  <a href="#name-operation-phase" class="xref">Operation phase</a><a href="#section-toc.1-1.6.2.3.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-coordination-between-autono" class="xref">Coordination between Autonomic Functions</a><a href="#section-toc.1-1.7.1" class="pilcrow">¶</a></p>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-coordination-with-tradition" class="xref">Coordination with Traditional Management Functions</a><a href="#section-toc.1-1.8.1" class="pilcrow">¶</a></p>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-robustness" class="xref">Robustness</a><a href="#section-toc.1-1.9.1" class="pilcrow">¶</a></p>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-security-considerations" class="xref">Security Considerations</a><a href="#section-toc.1-1.10.1" class="pilcrow">¶</a></p>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="xref">11</a>. <a href="#name-iana-considerations" class="xref">IANA Considerations</a><a href="#section-toc.1-1.11.1" class="pilcrow">¶</a></p>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-12" class="xref">12</a>. <a href="#name-acknowledgements" class="xref">Acknowledgements</a><a href="#section-toc.1-1.12.1" class="pilcrow">¶</a></p>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#section-13" class="xref">13</a>. <a href="#name-references" class="xref">References</a><a href="#section-toc.1-1.13.1" class="pilcrow">¶</a></p>
<ul class="compact ulEmpty toc">
<li class="compact ulEmpty toc" id="section-toc.1-1.13.2.1">
                <p id="section-toc.1-1.13.2.1.1"><a href="#section-13.1" class="xref">13.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a><a href="#section-toc.1-1.13.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="compact ulEmpty toc" id="section-toc.1-1.13.2.2">
                <p id="section-toc.1-1.13.2.2.1"><a href="#section-13.2" class="xref">13.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a><a href="#section-toc.1-1.13.2.2.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#section-appendix.a" class="xref">Appendix A</a>.  <a href="#name-change-log-rfc-editor-pleas" class="xref">Change log [RFC Editor: Please remove]</a><a href="#section-toc.1-1.14.1" class="pilcrow">¶</a></p>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1"><a href="#section-appendix.b" class="xref">Appendix B</a>.  <a href="#name-example-logic-flows" class="xref">Example Logic Flows</a><a href="#section-toc.1-1.15.1" class="pilcrow">¶</a></p>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.16">
            <p id="section-toc.1-1.16.1"><a href="#section-appendix.c" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a><a href="#section-toc.1-1.16.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="intro">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">
      This document proposes guidelines for the design of Autonomic Service Agents
     (ASAs) in the context of an Autonomic Network (AN) based on the Autonomic Network
     Infrastructure (ANI) outlined in the ANIMA reference model <span>[<a href="#I-D.ietf-anima-reference-model" class="xref">I-D.ietf-anima-reference-model</a>]</span>.
     This infrastructure makes use of
     the Autonomic Control Plane (ACP) <span>[<a href="#I-D.ietf-anima-autonomic-control-plane" class="xref">I-D.ietf-anima-autonomic-control-plane</a>]</span> and
     the Generic Autonomic Signaling Protocol (GRASP) <span>[<a href="#I-D.ietf-anima-grasp" class="xref">I-D.ietf-anima-grasp</a>]</span>.
     This document is a contribution to the description of an autonomic ecosystem, recognizing that
     a deployable autonomic network needs more than just ACP and GRASP implementations.
     It must achieve management goals that a Network Operations Center (NOC) cannot
     achieve manually, including at least a library of ASAs and corresponding GRASP objective
     definitions. There must also be tools to deploy and oversee ASAs, and integration with
     existing operational mechanisms <span>[<a href="#RFC8368" class="xref">RFC8368</a>]</span>. However, this document focuses
     on the design of ASAs, with some reference to implementation and operational aspects.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">There is a considerable literature about autonomic agents with a variety of
    proposals about how they should be characterized. Some examples are 
    <span>[<a href="#DeMola06" class="xref">DeMola06</a>]</span>,
    <span>[<a href="#Huebscher08" class="xref">Huebscher08</a>]</span>,    
    <span>[<a href="#Movahedi12" class="xref">Movahedi12</a>]</span> and
    <span>[<a href="#GANA13" class="xref">GANA13</a>]</span>. However, for the present document,
    the basic definitions and goals for autonomic networking given in <span>[<a href="#RFC7575" class="xref">RFC7575</a>]</span>
    apply . According to RFC 7575, an Autonomic Service Agent is
    "An agent implemented
    on an autonomic node that implements an autonomic function, either in part
    (in the case of a distributed function) or whole."<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">ASAs must be distinguished from other forms of software component. They are
    components of network or service management; they do not in themselves provide
    services. For example, the services envisaged for network function virtualisation
    <span>[<a href="#RFC8568" class="xref">RFC8568</a>]</span>
    or for service function chaining <span>[<a href="#RFC7665" class="xref">RFC7665</a>]</span>
    might be managed by an ASA rather than by traditional configuration tools.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">The reference model <span>[<a href="#I-D.ietf-anima-reference-model" class="xref">I-D.ietf-anima-reference-model</a>]</span> expands
    this by adding that an ASA is
     "a process that makes use of the features provided
     by the ANI to achieve its own goals, usually including interaction
     with other ASAs via the GRASP protocol <span>[<a href="#I-D.ietf-anima-grasp" class="xref">I-D.ietf-anima-grasp</a>]</span> or
     otherwise.  Of course it also interacts with the specific targets of
     its function, using any suitable mechanism.  Unless its function is
     very simple, the ASA will need to handle overlapping asynchronous operations.
     This will require either a multi-threaded implementation, or a logically
     equivalent event loop structure.
     It may therefore be a quite complex piece of software in its own right,
     forming part of the application layer above the ANI."<a href="#section-1-4" class="pilcrow">¶</a></p>
<p id="section-1-5">There will certainly be very simple ASAs that manage a single
     objective in a straightforward way and do not need asynchronous operations.
     In such a case, many aspects of the current document do not apply. However, in
     general a basic property of an ASA is that it is a relatively complex software
     component that will in many cases control and monitor simpler entities
     in the same host or elsewhere. For example, a device controller that manages
     tens or hundreds of simple devices might contain a single ASA.<a href="#section-1-5" class="pilcrow">¶</a></p>
<p id="section-1-6">The remainder of this document offers guidance on the design of such ASAs.<a href="#section-1-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="structure">
<section id="section-2">
      <h2 id="name-logical-structure-of-an-aut">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-logical-structure-of-an-aut" class="section-name selfRef">Logical Structure of an Autonomic Service Agent</a>
      </h2>
<p id="section-2-1">As mentioned above, all but the simplest ASAs will need to suport asynchronous operations.
    Not all programming environments explicitly support multi-threading. In that case, an 'event loop' style of
    implementation should be adopted, in which case each thread would be implemented as an event handler
    called in turn by the main loop. For this, the GRASP API (<a href="#api" class="xref">Section 3.3</a>) must provide
    non-blocking calls. If necessary, the GRASP session identifier will be used to distinguish
    simultaneous operations.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2">A typical ASA will have a main thread that performs various initial housekeeping actions such as:<a href="#section-2-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2-3.1">Obtain authorization credentials.<a href="#section-2-3.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-2-3.2">Register the ASA with GRASP.<a href="#section-2-3.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-2-3.3">Acquire relevant policy parameters.<a href="#section-2-3.3" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-2-3.4">Define data structures for relevant GRASP objectives.<a href="#section-2-3.4" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-2-3.5">Register with GRASP those objectives that it will actively manage.<a href="#section-2-3.5" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-2-3.6">Launch a self-monitoring thread.<a href="#section-2-3.6" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-2-3.7">Enter its main loop.<a href="#section-2-3.7" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-2-4">The logic of the main loop will depend on the details of the autonomic function concerned.
    Whenever asynchronous operations are required, extra threads will be launched, or events
    added to the event loop. Examples include:<a href="#section-2-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2-5.1">Repeatedly flood an objective to the AN, so that any ASA can receive the objective's latest value.<a href="#section-2-5.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-2-5.2">Accept incoming synchronization requests for an objective managed by this ASA.<a href="#section-2-5.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-2-5.3">Accept incoming negotiation requests for an objective managed by this ASA,
    and then conduct the resulting negotiation with the counterpart ASA.<a href="#section-2-5.3" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-2-5.4">Manage subsidiary non-autonomic devices directly.<a href="#section-2-5.4" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-2-6">These threads or events should all either exit after their job is done, or 
    enter a wait state for new work, to avoid
    blocking others unnecessarily.<a href="#section-2-6" class="pilcrow">¶</a></p>
<p id="section-2-7">According to the degree of parallelism needed by the application, some of these threads or events might be
    launched in multiple instances. In particular, if negotiation sessions with other ASAs are expected to
    be long or to involve wait states, the ASA designer might allow for multiple simultaneous negotiating
    threads, with appropriate use of queues and locks to maintain consistency.<a href="#section-2-7" class="pilcrow">¶</a></p>
<p id="section-2-8">The main loop itself could act as the initiator of synchronization requests or negotiation
    requests, when the ASA needs data or resources from other ASAs. In particular, the main loop should
    watch for changes in policy parameters that affect its operation. It should also do whatever is required
    to avoid unnecessary resource consumption, such as including an arbitrary wait time in each cycle
    of the main loop.<a href="#section-2-8" class="pilcrow">¶</a></p>
<p id="section-2-9">The self-monitoring thread is of considerable importance. Autonomic service agents must never fail.
    To a large extent this depends on careful coding and testing, with no unhandled error returns or exceptions, but if
    there is nevertheless some sort of failure, the self-monitoring thread should detect it, fix it
    if possible, and in the worst case restart the entire ASA.<a href="#section-2-9" class="pilcrow">¶</a></p>
<p id="section-2-10"><a href="#eg" class="xref">Appendix B</a> presents some example logic flows in informal pseudocode.<a href="#section-2-10" class="pilcrow">¶</a></p>
</section>
</div>
<div id="interact">
<section id="section-3">
      <h2 id="name-interaction-with-the-autono">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-interaction-with-the-autono" class="section-name selfRef">Interaction with the Autonomic Networking Infrastructure</a>
      </h2>
<section id="section-3.1">
        <h3 id="name-interaction-with-the-securi">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-interaction-with-the-securi" class="section-name selfRef">Interaction with the security mechanisms</a>
        </h3>
<p id="section-3.1-1">An ASA by definition runs in an autonomic node. Before any normal ASAs are started, such nodes must be
     bootstrapped into the autonomic network's secure key infrastructure in accordance with
     <span>[<a href="#I-D.ietf-anima-bootstrapping-keyinfra" class="xref">I-D.ietf-anima-bootstrapping-keyinfra</a>]</span>. This key infrastructure will be used
     to secure the ACP (next section) and may be used by ASAs to set up additional secure interactions
     with their peers, if needed.<a href="#section-3.1-1" class="pilcrow">¶</a></p>
<p id="section-3.1-2">Note that the secure bootstrap process itself may include special-purpose ASAs that run in a
     constrained insecure mode.<a href="#section-3.1-2" class="pilcrow">¶</a></p>
</section>
<section id="section-3.2">
        <h3 id="name-interaction-with-the-autonom">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-interaction-with-the-autonom" class="section-name selfRef">Interaction with the Autonomic Control Plane</a>
        </h3>
<p id="section-3.2-1">In a normal autonomic network, ASAs will run as users of the ACP, which will provide a fully secured network
     environment for all communication with other ASAs, in most cases mediated by GRASP (next section).<a href="#section-3.2-1" class="pilcrow">¶</a></p>
<p id="section-3.2-2">Note that the ACP formation process itself may include special-purpose ASAs that run in a
     constrained insecure mode.<a href="#section-3.2-2" class="pilcrow">¶</a></p>
</section>
<div id="api">
<section id="section-3.3">
        <h3 id="name-interaction-with-grasp-and-">
<a href="#section-3.3" class="section-number selfRef">3.3. </a><a href="#name-interaction-with-grasp-and-" class="section-name selfRef">Interaction with GRASP and its API</a>
        </h3>
<p id="section-3.3-1">GRASP <span>[<a href="#I-D.ietf-anima-grasp" class="xref">I-D.ietf-anima-grasp</a>]</span> is expected to run as a separate process
     with its API <span>[<a href="#I-D.ietf-anima-grasp-api" class="xref">I-D.ietf-anima-grasp-api</a>]</span> available in user space. Thus ASAs may operate without
     special privilege, unless they need it for other reasons. The ASA's view of GRASP is built around GRASP
     objectives (<a href="#objdes" class="xref">Section 5</a>), defined as data structures containing administrative information
     such as the objective's unique name, and its current value. The format and size of the value is not
     restricted by the protocol, except that it must be possible to serialise it for transmission in 
     CBOR <span>[<a href="#RFC7049" class="xref">RFC7049</a>]</span>, which is no restriction at all in practice.<a href="#section-3.3-1" class="pilcrow">¶</a></p>
<p id="section-3.3-2">The GRASP API should offer the following features:<a href="#section-3.3-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.3-3.1">Registration functions, so that an ASA can register itself and the objectives that it manages.<a href="#section-3.3-3.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.3-3.2">A discovery function, by which an ASA can discover other ASAs supporting a given objective.<a href="#section-3.3-3.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.3-3.3">A negotiation request function, by which an ASA can start negotiation of an objective with a counterpart ASA.
     With this, there is a corresponding listening function for an ASA that wishes to respond to negotiation requests,
     and a set of functions to support negotiating steps.<a href="#section-3.3-3.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.3-3.4">A synchronization function, by which an ASA can request the current value of an objective from a counterpart ASA.
     With this, there is a corresponding listening function for an ASA that wishes to respond to synchronization requests.<a href="#section-3.3-3.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.3-3.5">A flood function, by which an ASA can cause the current value of an objective to be flooded throughout the AN
     so that any ASA can receive it.<a href="#section-3.3-3.5" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-3.3-4">For further details and some additional housekeeping functions, see <span>[<a href="#I-D.ietf-anima-grasp-api" class="xref">I-D.ietf-anima-grasp-api</a>]</span>.<a href="#section-3.3-4" class="pilcrow">¶</a></p>
<p id="section-3.3-5">This API is intended to support the various interactions expected between most ASAs, such as the
     interactions outlined in <a href="#structure" class="xref">Section 2</a>. However, if ASAs
     require additional communication between themselves, they can do so using any desired protocol. One option is
     to use GRASP discovery and synchronization as a rendez-vous mechanism between two ASAs, passing communication
     parameters such as a TCP port number via GRASP. As noted above, either the ACP or
     in special cases the autonomic key infrastructure will be used to secure such communications.<a href="#section-3.3-5" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-3.4">
        <h3 id="name-interaction-with-policy-mec">
<a href="#section-3.4" class="section-number selfRef">3.4. </a><a href="#name-interaction-with-policy-mec" class="section-name selfRef">Interaction with policy mechanism</a>
        </h3>
<p id="section-3.4-1">At the time of writing, the policy (or "Intent") mechanism for the ANI is undefined
     and is regarded as a research topic. It is expected to operate by an information distribution
     mechanism (e.g. <span>[<a href="#I-D.liu-anima-grasp-distribution" class="xref">I-D.liu-anima-grasp-distribution</a>]</span>) that can reach all autonomic
     nodes, and therefore every ASA. However, each ASA must be capable of operating "out of the box" in the
     absence of locally defined policy, so every ASA implementation must include carefully chosen default values
     and settings for all policy parameters.<a href="#section-3.4-1" class="pilcrow">¶</a></p>
</section>
</section>
</div>
<div id="nonauto">
<section id="section-4">
      <h2 id="name-interaction-with-non-autono">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-interaction-with-non-autono" class="section-name selfRef">Interaction with Non-Autonomic Components</a>
      </h2>
<p id="section-4-1">An ASA, to have any external effects, must also interact with non-autonomic
    components of the node where it is installed. For example, an ASA whose purpose
    is to manage a resource must interact with that resource. An ASA whose purpose
    is to manage an entity that is already managed by local software must interact
    with that software. For example, if such management is performed by NETCONF
    <span>[<a href="#RFC6241" class="xref">RFC6241</a>]</span>,
    the ASA must interact directly with the NETCONF server in the same node.
    This is stating the obvious, and the details are specific
    to each case, but it has an important security
    implication. The ASA might act as a loophole by which the managed entity could
    penetrate the security boundary of the ANI. The ASA must be designed to avoid
    such loopholes, and should if possible operate in an unprivileged mode.<a href="#section-4-1" class="pilcrow">¶</a></p>
<p id="section-4-2">In an environment where systems are virtualized and specialized using
    techniques such as network function virtualization or network slicing,
    there will be a design choice whether ASAs are deployed once per physical node
    or once per virtual context. A related issue is whether the ANI as a whole
    is deployed once on a physical network, or whether several virtual ANIs
    are deployed. This aspect needs to be considered by the ASA designer.<a href="#section-4-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="objdes">
<section id="section-5">
      <h2 id="name-design-of-grasp-objectives">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-design-of-grasp-objectives" class="section-name selfRef">Design of GRASP Objectives</a>
      </h2>
<p id="section-5-1">The general rules for the format of GRASP Objective options, their names, and IANA registration are
    given in <span>[<a href="#I-D.ietf-anima-grasp" class="xref">I-D.ietf-anima-grasp</a>]</span>. Additionally that document discusses various general
    considerations for the design of objectives, which are not repeated here. However, we emphasize that
    the GRASP protocol does not provide transactional integrity. In other words, if an ASA is capable of
    overlapping several negotiations for a given objective, then the ASA itself must use suitable locking
    techniques to avoid interference between these negotiations. For example, if an ASA is allocating
    part of a shared resource to other ASAs, it needs to ensure that the same part of the resource is
    not allocated twice. This might impact the design of the objective as well as the logic flow of the
    ASA.<a href="#section-5-1" class="pilcrow">¶</a></p>
<p id="section-5-2">In particular, if 'dry run' mode is defined for the objective, its specification, and every
    implementation, must consider what state needs to be saved following a dry run negotiation, such
    that a subsequent live negotiation can be expected to succeed. It must be clear how long this
    state is kept, and what happens if the live negotiation occurs after this state is deleted. An ASA
    that requests a dry run negotiation must take account of the possibility that a successful dry run
    is followed by a failed live negotiation. Because of these complexities, the dry run mechanism
    should only be supported by objectives and ASAs where there is a significant benefit from it.<a href="#section-5-2" class="pilcrow">¶</a></p>
<p id="section-5-3">The actual value field of an objective is limited by the GRASP protocol definition to 
    any data structure that can be expressed in Concise Binary Object Representation (CBOR) 
    <span>[<a href="#RFC7049" class="xref">RFC7049</a>]</span>. For some objectives, a single data item
    will suffice; for example an integer, a floating point number or a UTF-8 string.
    For more complex cases, a simple tuple structure such as [item1, item2, item3] could be used.
    Nothing prevents using other formats such as JSON, but this requires the ASA to be capable
    of parsing and generating JSON. The formats acceptable by the GRASP API will limit the
    options in practice. A fallback solution is for the API to accept and deliver the value
    field in raw CBOR, with the ASA itself encoding and decoding it via a CBOR library.<a href="#section-5-3" class="pilcrow">¶</a></p>
<p id="section-5-4">Note that a mapping from YANG to CBOR is defined by <span>[<a href="#I-D.ietf-core-yang-cbor" class="xref">I-D.ietf-core-yang-cbor</a>]</span>. Subject to
    the size limit defined for GRASP messages, nothing prevents objectives using YANG in this way.<a href="#section-5-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="life">
<section id="section-6">
      <h2 id="name-life-cycle">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-life-cycle" class="section-name selfRef">Life Cycle</a>
      </h2>
<p id="section-6-1">Autonomic functions could be permanent, in the sense that ASAs are shipped as part of
    a product and persist throughout the product's life. However, a more likely situation is
    that ASAs need to be installed or updated dynamically, because of new requirements or
    bugs. Because continuity of service is fundamental to autonomic networking, the process
    of seamlessly replacing a running instance of an ASA with a new version needs to be
    part of the ASA's design.<a href="#section-6-1" class="pilcrow">¶</a></p>
<p id="section-6-2">The implication of service continuity on the design of ASAs can be illustrated along the three
 main phases of the ASA life-cycle, namely Installation, Instantiation and Operation.<a href="#section-6-2" class="pilcrow">¶</a></p>
<span id="name-life-cycle-of-an-autonomic-"></span><div id="Fig_LC">
<figure id="figure-1">
        <div class="artwork art-text alignLeft" id="section-6-3.1">
<pre>

                  +--------------+
Undeployed ------&gt;|              |------&gt; Undeployed
                  |  Installed   |
              +--&gt;|              |---+
     Mandate  |   +--------------+   | Receives a
   is revoked |   +--------------+   |  Mandate
              +---|              |&lt;--+
                  | Instantiated |
              +--&gt;|              |---+
          set |   +--------------+   | set
         down |   +--------------+   | up
              +---|              |&lt;--+
                  |  Operational |
                  |              |
                  +--------------+

</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-life-cycle-of-an-autonomic-" class="selfRef">Life cycle of an Autonomic Service Agent</a>
        </figcaption></figure>
</div>
<section id="section-6.1">
        <h3 id="name-installation-phase">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-installation-phase" class="section-name selfRef">Installation phase</a>
        </h3>
<p id="section-6.1-1">Before being able to instantiate and run ASAs, the operator must first provision the 
 infrastructure with the sets of ASA software corresponding to its needs and objectives. 
 The provisioning of the infrastructure is realized in the installation phase and consists in 
 installing (or checking the availability of) the pieces of software of the different ASA classes
 in a set of Installation Hosts.<a href="#section-6.1-1" class="pilcrow">¶</a></p>
<p id="section-6.1-2">There are 3 properties applicable to the installation of ASAs:<a href="#section-6.1-2" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-6.1-3">
          <dt id="section-6.1-3.1">The dynamic installation property</dt>
          <dd id="section-6.1-3.2">allows installing an ASA on demand, on any hosts compatible with the ASA.<a href="#section-6.1-3.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-6.1-3.3">The decoupling property</dt>
          <dd id="section-6.1-3.4">allows controlling resources of a NE from a remote ASA, i.e. an ASA installed on a host machine different from the resources' NE.<a href="#section-6.1-3.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-6.1-3.5">The multiplicity property</dt>
          <dd id="section-6.1-3.6">allows controlling multiple sets of resources from a single ASA.<a href="#section-6.1-3.6" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-6.1-4">These three properties are very important in the context of the installation phase as their 
 variations condition how the ASA class could be installed on the infrastructure.<a href="#section-6.1-4" class="pilcrow">¶</a></p>
<section id="section-6.1.1">
          <h4 id="name-installation-phase-inputs-a">
<a href="#section-6.1.1" class="section-number selfRef">6.1.1. </a><a href="#name-installation-phase-inputs-a" class="section-name selfRef">Installation phase inputs and outputs</a>
          </h4>
<p id="section-6.1.1-1">Inputs are:<a href="#section-6.1.1-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-6.1.1-2">
            <dt id="section-6.1.1-2.1">[ASA class of type_x]</dt>
            <dd id="section-6.1.1-2.2">that specifies which classes ASAs to install,<a href="#section-6.1.1-2.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-6.1.1-2.3">[Installation_target_Infrastructure]</dt>
            <dd id="section-6.1.1-2.4">that specifies the candidate Installation Hosts,<a href="#section-6.1.1-2.4" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-6.1.1-2.5">[ASA class placement function, e.g. under which criteria/constraints as defined by the operator]</dt>
            <dd id="section-6.1.1-2.6">
 that specifies how the installation phase shall meet the operator's needs and objectives for 
 the provision of the infrastructure. In the coupled mode, the placement function is not necessary, whereas
 in the decoupled mode, the placement function is mandatory, even though it can be as simple 
 as an explicit list of Installation hosts.<a href="#section-6.1.1-2.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-6.1.1-3">The main output of the installation phase is an up-to-date directory of installed ASAs which corresponds to [list of ASA classes] installed on [list of installation Hosts]. This output is also useful for the coordination function and corresponds to the static interaction map (see next section).<a href="#section-6.1.1-3" class="pilcrow">¶</a></p>
<p id="section-6.1.1-4">The condition to validate in order to pass to next phase is to ensure that [list of ASA classes] are well installed on [list of installation Hosts].
 The state of the ASA at the end of the installation phase is: installed. (not instantiated).
 The following commands or messages are foreseen: install(list of ASA classes, Installation_target_Infrastructure, ASA class placement function), and un-install (list of ASA classes).<a href="#section-6.1.1-4" class="pilcrow">¶</a></p>
</section>
</section>
<div id="Sec_Inst">
<section id="section-6.2">
        <h3 id="name-instantiation-phase">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-instantiation-phase" class="section-name selfRef">Instantiation phase</a>
        </h3>
<p id="section-6.2-1">Once the ASAs are installed on the appropriate hosts in the network, these ASA may start to operate.
 From the operator viewpoint, an operating ASA means the ASA manages the network resources as per the objectives given. 
 At the ASA local level, operating means executing their control loop/algorithm.<a href="#section-6.2-1" class="pilcrow">¶</a></p>
<p id="section-6.2-2">But right before that, there are two things to take into consideration. 
 First, there is a difference between 1. having a piece of code available to run on a host 
 and 2. having an agent based on this piece of code running inside the host. 
 Second, in a coupled case, determining which resources are controlled by an ASA is 
 straightforward (the determination is embedded), in a decoupled mode determining this is
 a bit more complex (hence a starting agent will have to either discover or be taught it).<a href="#section-6.2-2" class="pilcrow">¶</a></p>
<p id="section-6.2-3">The instantiation phase of an ASA covers both these aspects: starting the agent piece of code 
 (when this does not start automatically) and determining which resources have to be 
 controlled (when this is not obvious).<a href="#section-6.2-3" class="pilcrow">¶</a></p>
<div id="Sec_Inst_Goal">
<section id="section-6.2.1">
          <h4 id="name-operators-goal">
<a href="#section-6.2.1" class="section-number selfRef">6.2.1. </a><a href="#name-operators-goal" class="section-name selfRef">Operator's goal</a>
          </h4>
<p id="section-6.2.1-1">Through this phase, the operator wants to control its autonomic network in two things:<a href="#section-6.2.1-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="olPercent" id="section-6.2.1-2">
            <dt>1</dt>
<dd id="section-6.2.1-2.1">determine the scope of autonomic functions by instructing which of the network resources have to be managed by which autonomic function (and more precisely which class e.g. 1. version X or version Y or 2. provider A or provider B),<a href="#section-6.2.1-2.1" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt>2</dt>
<dd id="section-6.2.1-2.2">determine how the autonomic functions are organized by instructing which ASAs have to interact with which other ASAs (or more precisely which set of network resources have to be handled as an autonomous group by their managing ASAs).<a href="#section-6.2.1-2.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-6.2.1-3">
 Additionally in this phase, the operator may want to set objectives to autonomic functions, by configuring the ASAs technical objectives.<a href="#section-6.2.1-3" class="pilcrow">¶</a></p>
<p id="section-6.2.1-4">The operator's goal can be summarized in an instruction to the ANIMA ecosystem matching the following pattern:<a href="#section-6.2.1-4" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-6.2.1-5.1">[ASA of type_x instances] ready to control [Instantiation_target_Infrastructure] with [Instantiation_target_parameters]<a href="#section-6.2.1-5.1" class="pilcrow">¶</a>
</li>
          </ul>
</section>
</div>
<div id="Sec_Inst_InOut">
<section id="section-6.2.2">
          <h4 id="name-instantiation-phase-inputs-">
<a href="#section-6.2.2" class="section-number selfRef">6.2.2. </a><a href="#name-instantiation-phase-inputs-" class="section-name selfRef">Instantiation phase inputs and outputs</a>
          </h4>
<p id="section-6.2.2-1">Inputs are:<a href="#section-6.2.2-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-6.2.2-2">
            <dt id="section-6.2.2-2.1">[ASA of type_x instances]</dt>
            <dd id="section-6.2.2-2.2">that specifies which are the ASAs to be targeted (and more precisely which class e.g. 1. version X or version Y or 2. provider A or provider B),<a href="#section-6.2.2-2.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-6.2.2-2.3">[Instantiation_target_Infrastructure]</dt>
            <dd id="section-6.2.2-2.4">that specifies which are the resources to be managed by the autonomic function, this can be the whole network or a subset of it like a domain a technology segment or even a specific list of resources,<a href="#section-6.2.2-2.4" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-6.2.2-2.5">[Instantiation_target_parameters]</dt>
            <dd id="section-6.2.2-2.6">that specifies which are the technical objectives to be set to ASAs (e.g. an optimization target)<a href="#section-6.2.2-2.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-6.2.2-3">Outputs are:<a href="#section-6.2.2-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-6.2.2-4">
            <dt id="section-6.2.2-4.1">[Set of ASAs - Resources relations]</dt>
            <dd id="section-6.2.2-4.2">describing which resources are managed by which ASA instances, this is not a formal message, but a resulting configuration of a set of ASAs,<a href="#section-6.2.2-4.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
<div id="Sec_Inst_Reqs">
<section id="section-6.2.3">
          <h4 id="name-instantiation-phase-require">
<a href="#section-6.2.3" class="section-number selfRef">6.2.3. </a><a href="#name-instantiation-phase-require" class="section-name selfRef">Instantiation phase requirements</a>
          </h4>
<p id="section-6.2.3-1">The instructions described in section 4.2 could be either:<a href="#section-6.2.3-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-6.2.3-2">
            <dt id="section-6.2.3-2.1">sent to a targeted ASA</dt>
            <dd id="section-6.2.3-2.2">In which case, the receiving Agent will have to manage the specified list of [Instantiation_target_Infrastructure], with the [Instantiation_target_parameters].<a href="#section-6.2.3-2.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-6.2.3-2.3">broadcast to all ASAs</dt>
            <dd id="section-6.2.3-2.4">In which case, the ASAs would collectively determine from the list which Agent(s) would handle which [Instantiation_target_Infrastructure], with the [Instantiation_target_parameters].<a href="#section-6.2.3-2.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-6.2.3-3">This set of instructions can be materialized through a message that is named an Instance Mandate (description TBD).<a href="#section-6.2.3-3" class="pilcrow">¶</a></p>
<p id="section-6.2.3-4">The conclusion of this instantiation phase is a ready to operate ASA (or interacting set of ASAs), then this (or those) ASA(s) can describe themselves by depicting which are the resources they manage and what this means in terms of metrics being monitored and in terms of actions that can be executed (like modifying the parameters values). A message conveying such a self description is named an Instance Manifest (description TBD).<a href="#section-6.2.3-4" class="pilcrow">¶</a></p>
<p id="section-6.2.3-5">Though the operator may well use such a self-description "per se", the final goal of such a description is to be shared with other ANIMA entities like:<a href="#section-6.2.3-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.2.3-6.1">the coordination entities (see <span>[<a href="#I-D.ciavaglia-anima-coordination" class="xref">I-D.ciavaglia-anima-coordination</a>]</span>)<a href="#section-6.2.3-6.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-6.2.3-6.2">collaborative entities in the purpose of establishing knowledge exchanges (some ASAs may produce knowledge or even monitor metrics that other ASAs cannot make by themselves why those would be useful for their execution)<a href="#section-6.2.3-6.2" class="pilcrow">¶</a>
</li>
          </ul>
</section>
</div>
</section>
</div>
<div id="Sec_Operation">
<section id="section-6.3">
        <h3 id="name-operation-phase">
<a href="#section-6.3" class="section-number selfRef">6.3. </a><a href="#name-operation-phase" class="section-name selfRef">Operation phase</a>
        </h3>
<p id="section-6.3-1">Note: This section is to be further developed in future revisions of the document, especially the implications on the design of ASAs.<a href="#section-6.3-1" class="pilcrow">¶</a></p>
<p id="section-6.3-2">During the Operation phase, the operator can:<a href="#section-6.3-2" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-6.3-3.1">Activate/Deactivate ASA: meaning enabling those to execute their autonomic loop or not.<a href="#section-6.3-3.1" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-6.3-3.2">Modify ASAs targets: meaning setting them different objectives.<a href="#section-6.3-3.2" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-6.3-3.3">Modify ASAs managed resources: by updating the instance mandate which would specify different set of resources to manage (only applicable to decouples ASAs).<a href="#section-6.3-3.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-6.3-4">During the Operation phase, running ASAs can interact the one with the other:<a href="#section-6.3-4" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-6.3-5.1">in order to exchange knowledge (e.g. an ASA providing traffic predictions to load balancing ASA)<a href="#section-6.3-5.1" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-6.3-5.2">in order to collaboratively reach an objective (e.g. ASAs pertaining to the same autonomic function targeted to manage a network domain, these ASA will collaborate - in the case of a load balancing one, by modifying the links metrics according to the neighboring resources loads)<a href="#section-6.3-5.2" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-6.3-6">During the Operation phase, running ASAs are expected to apply coordination schemes<a href="#section-6.3-6" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-6.3-7.1">then execute their control loop under coordination supervision/instructions<a href="#section-6.3-7.1" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-6.3-8">The ASA life-cycle is discussed in more detail in "A Day in the Life of an Autonomic Function" <span>[<a href="#I-D.peloso-anima-autonomic-function" class="xref">I-D.peloso-anima-autonomic-function</a>]</span>.<a href="#section-6.3-8" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="coorda">
<section id="section-7">
      <h2 id="name-coordination-between-autono">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-coordination-between-autono" class="section-name selfRef">Coordination between Autonomic Functions</a>
      </h2>
<p id="section-7-1">Some autonomic functions will be completely independent of each other. However, others are
    at risk of interfering with each other - for example, two different optimization functions
    might both attempt to modify the same underlying parameter in different ways. In a complete
    system, a method is needed of identifying ASAs that might interfere with each other and
    coordinating their actions when necessary. This issue is considered in
    "Autonomic Functions Coordination" <span>[<a href="#I-D.ciavaglia-anima-coordination" class="xref">I-D.ciavaglia-anima-coordination</a>]</span>.<a href="#section-7-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="coordt">
<section id="section-8">
      <h2 id="name-coordination-with-tradition">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-coordination-with-tradition" class="section-name selfRef">Coordination with Traditional Management Functions</a>
      </h2>
<p id="section-8-1">Some ASAs will have functions that overlap with existing configuration tools
    and network management mechanisms such as command line interfaces, DHCP, DHCPv6,
    SNMP, NETCONF, RESTCONF and YANG-based solutions. Each ASA designer will need to
    consider this issue and how to avoid clashes and inconsistencies. Some specific
    considerations for interaction with OAM tools are
    given in <span>[<a href="#RFC8368" class="xref">RFC8368</a>]</span>.
    As another example, <span>[<a href="#I-D.ietf-anima-prefix-management" class="xref">I-D.ietf-anima-prefix-management</a>]</span>
    describes how autonomic management of IPv6 prefixes can interact with prefix delegation
    via DHCPv6. The description of a GRASP objective and of an ASA using it should include
    a discussion of any such interactions.<a href="#section-8-1" class="pilcrow">¶</a></p>
<p id="section-8-2">A related aspect is that management functions often include a data model, quite likely to
    be expressed in a formal notation such as YANG. This aspect should not be an afterthought
    in the design of an ASA. To the contrary, the design of the ASA and of its GRASP objectives
    should match the data model; as noted above, YANG serialized as CBOR may be used directly
    as the value of a GRASP objective.<a href="#section-8-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="robust">
<section id="section-9">
      <h2 id="name-robustness">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-robustness" class="section-name selfRef">Robustness</a>
      </h2>
<p id="section-9-1">It is of great importance that all components of an autonomic system are highly robust.
    In principle they must never fail. This section lists various aspects of robustness 
    that ASA designers should consider.<a href="#section-9-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-9-2">
        <li id="section-9-2.1">If despite all precautions, an ASA does encounter a fatal error, it should
    in any case restart automatically and try again.
    To mitigate a hard loop in case of persistent failure, a suitable pause
    should be inserted before such a restart. The length of the pause depends
    on the use case.<a href="#section-9-2.1" class="pilcrow">¶</a>
</li>
        <li id="section-9-2.2">If a newly received or calculated value for a parameter falls out of bounds, the corresponding
    parameter should be either left unchanged or restored to a safe value.<a href="#section-9-2.2" class="pilcrow">¶</a>
</li>
        <li id="section-9-2.3">If a GRASP synchronization or negotiation session fails for any reason,
    it may be repeated after a suitable pause. The length of the pause depends
    on the use case.<a href="#section-9-2.3" class="pilcrow">¶</a>
</li>
        <li id="section-9-2.4">If a session fails repeatedly, the ASA should consider that its peer has failed,
    and cause GRASP to flush its discovery cache and repeat peer discovery.<a href="#section-9-2.4" class="pilcrow">¶</a>
</li>
        <li id="section-9-2.5">In any case, it may be prudent to repeat discovery periodically, depending on the use case.<a href="#section-9-2.5" class="pilcrow">¶</a>
</li>
        <li id="section-9-2.6">Any received GRASP message should be checked. If it is wrongly formatted,
    it should be ignored. Within a unicast session, an Invalid message (M_INVALID)
    may be sent. This function may be provided by the GRASP implementation itself.<a href="#section-9-2.6" class="pilcrow">¶</a>
</li>
        <li id="section-9-2.7">Any received GRASP objective should be checked. If it is wrongly formatted,
    it should be ignored. Within a negotiation session, a Negotiation End
    message (M_END) with a Decline option (O_DECLINE) should be sent. An ASA may
    log such events for diagnostic purposes.<a href="#section-9-2.7" class="pilcrow">¶</a>
</li>
        <li id="section-9-2.8">If an ASA receives either an Invalid message (M_INVALID) or a Negotiation End
    message (M_END) with a Decline option (O_DECLINE), one possible reason is that
    the peer ASA does not support a new feature of either GRASP or of the objective
    in question. In such a case the ASA may choose to repeat the operation concerned
    without using that new feature.<a href="#section-9-2.8" class="pilcrow">¶</a>
</li>
        <li id="section-9-2.9">All other possible exceptions should be handled in an orderly way. There should be no such
    thing as an unhandled exception (but see point 1 above).<a href="#section-9-2.9" class="pilcrow">¶</a>
</li>
      </ol>
</section>
</div>
<div id="security">
<section id="section-10">
      <h2 id="name-security-considerations">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-10-1">ASAs are intended to run in an environment that is protected by the Autonomic Control Plane
      <span>[<a href="#I-D.ietf-anima-autonomic-control-plane" class="xref">I-D.ietf-anima-autonomic-control-plane</a>]</span>, admission to which depends on an initial
      secure bootstrap process <span>[<a href="#I-D.ietf-anima-bootstrapping-keyinfra" class="xref">I-D.ietf-anima-bootstrapping-keyinfra</a>]</span>. In some deployments,
      a secure partition of the link layer might be used instead
      <span>[<a href="#I-D.carpenter-anima-l2acp-scenarios" class="xref">I-D.carpenter-anima-l2acp-scenarios</a>]</span>. However, this
      does not relieve ASAs of responsibility for security. In particular, when ASAs configure or manage
      network elements outside the ACP, they must use secure techniques and carefully validate any incoming
      information. As noted above, this will apply in particular when an ASA interacts with a management
      component such as a NETCONF server.<a href="#section-10-1" class="pilcrow">¶</a></p>
<p id="section-10-2">As appropriate to their specific functions, ASAs should take account of relevant privacy 
      considerations <span>[<a href="#RFC6973" class="xref">RFC6973</a>]</span>.<a href="#section-10-2" class="pilcrow">¶</a></p>
<p id="section-10-3">Authorization of ASAs is a subject for future study. At present, ASAs are trusted by virtue
      of being installed on a node that has successfully joined the ACP. In the general case,
      a node may have mutltiple roles and a role may use multiple ASAs, each using multiple
      GRASP objectives. Additional mechanisms for the authorization of nodes and ASAs to
      manipulate specific GRASP objectives could be designed.<a href="#section-10-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="iana">
<section id="section-11">
      <h2 id="name-iana-considerations">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-11-1">This document makes no request of the IANA.<a href="#section-11-1" class="pilcrow">¶</a></p>
<p id="section-11-2"></p>
</section>
</div>
<div id="ack">
<section id="section-12">
      <h2 id="name-acknowledgements">
<a href="#section-12" class="section-number selfRef">12. </a><a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="section-12-1">Useful comments were received from
      Michael Behringer
      Toerless Eckert,
      Alex Galis,
      Bing Liu,
      Michael Richardson,
      and other members of the ANIMA WG.<a href="#section-12-1" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-13">
      <h2 id="name-references">
<a href="#section-13" class="section-number selfRef">13. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-13.1">
        <h3 id="name-normative-references">
<a href="#section-13.1" class="section-number selfRef">13.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="I-D.ietf-anima-autonomic-control-plane">[I-D.ietf-anima-autonomic-control-plane]</dt>
        <dd>
<span class="refAuthor">Eckert, T.</span><span class="refAuthor">, Behringer, M.</span><span class="refAuthor">, and S. Bjarnason</span>, <span class="refTitle">"An Autonomic Control Plane (ACP)"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-anima-autonomic-control-plane-27</span>, <time datetime="2020-07-02" class="refDate">2 July 2020</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-anima-autonomic-control-plane-27">https://tools.ietf.org/html/draft-ietf-anima-autonomic-control-plane-27</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-anima-bootstrapping-keyinfra">[I-D.ietf-anima-bootstrapping-keyinfra]</dt>
        <dd>
<span class="refAuthor">Pritikin, M.</span><span class="refAuthor">, Richardson, M.</span><span class="refAuthor">, Eckert, T.</span><span class="refAuthor">, Behringer, M.</span><span class="refAuthor">, and K. Watsen</span>, <span class="refTitle">"Bootstrapping Remote Secure Key Infrastructures (BRSKI)"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-anima-bootstrapping-keyinfra-41</span>, <time datetime="2020-04-08" class="refDate">8 April 2020</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-anima-bootstrapping-keyinfra-41">https://tools.ietf.org/html/draft-ietf-anima-bootstrapping-keyinfra-41</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-anima-grasp">[I-D.ietf-anima-grasp]</dt>
        <dd>
<span class="refAuthor">Bormann, C.</span><span class="refAuthor">, Carpenter, B.</span><span class="refAuthor">, and B. Liu</span>, <span class="refTitle">"A Generic Autonomic Signaling Protocol (GRASP)"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-anima-grasp-15</span>, <time datetime="2017-07-13" class="refDate">13 July 2017</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-anima-grasp-15">https://tools.ietf.org/html/draft-ietf-anima-grasp-15</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7049">[RFC7049]</dt>
      <dd>
<span class="refAuthor">Bormann, C.</span><span class="refAuthor"> and P. Hoffman</span>, <span class="refTitle">"Concise Binary Object Representation (CBOR)"</span>, <span class="seriesInfo">RFC 7049</span>, <span class="seriesInfo">DOI 10.17487/RFC7049</span>, <time datetime="2013-10" class="refDate">October 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7049">https://www.rfc-editor.org/info/rfc7049</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-13.2">
        <h3 id="name-informative-references">
<a href="#section-13.2" class="section-number selfRef">13.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="DeMola06">[DeMola06]</dt>
        <dd>
<span class="refAuthor">De Mola, F.</span><span class="refAuthor"> and R. Quitadamo</span>, <span class="refTitle">"An Agent Model for Future Autonomic Communications"</span>, <span class="seriesInfo">Proceedings of the 7th WOA 2006 Workshop From Objects to Agents 51-59</span>, <time datetime="2006-09" class="refDate">September 2006</time>. </dd>
<dd class="break"></dd>
<dt id="GANA13">[GANA13]</dt>
        <dd>
<span class="refTitle">"Autonomic network engineering for the self-managing Future Internet (AFI): GANA Architectural Reference Model for Autonomic Networking, Cognitive Networking and Self-Management."</span>, <time datetime="2013-04" class="refDate">April 2013</time>, <span>&lt;<a href="http://www.etsi.org/deliver/etsi_gs/AFI/001_099/002/01.01.01_60/gs_afi002v010101p.pdf">http://www.etsi.org/deliver/etsi_gs/AFI/001_099/002/01.01.01_60/gs_afi002v010101p.pdf</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Huebscher08">[Huebscher08]</dt>
        <dd>
<span class="refAuthor">Huebscher, M. C.</span><span class="refAuthor"> and J. A. McCann</span>, <span class="refTitle">"A survey of autonomic computing--degrees, models, and applications"</span>, <span class="seriesInfo">ACM Computing Surveys (CSUR) Volume 40 Issue 3 DOI: 10.1145/1380584.1380585</span>, <time datetime="2008-08" class="refDate">August 2008</time>. </dd>
<dd class="break"></dd>
<dt id="I-D.carpenter-anima-l2acp-scenarios">[I-D.carpenter-anima-l2acp-scenarios]</dt>
        <dd>
<span class="refAuthor">Carpenter, B.</span><span class="refAuthor"> and B. Liu</span>, <span class="refTitle">"Scenarios and Requirements for Layer 2 Autonomic Control Planes"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-carpenter-anima-l2acp-scenarios-02</span>, <time datetime="2020-04-08" class="refDate">8 April 2020</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-carpenter-anima-l2acp-scenarios-02">https://tools.ietf.org/html/draft-carpenter-anima-l2acp-scenarios-02</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ciavaglia-anima-coordination">[I-D.ciavaglia-anima-coordination]</dt>
        <dd>
<span class="refAuthor">Ciavaglia, L.</span><span class="refAuthor"> and P. Peloso</span>, <span class="refTitle">"Autonomic Functions Coordination"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ciavaglia-anima-coordination-01</span>, <time datetime="2016-03-21" class="refDate">21 March 2016</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ciavaglia-anima-coordination-01">https://tools.ietf.org/html/draft-ciavaglia-anima-coordination-01</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-anima-grasp-api">[I-D.ietf-anima-grasp-api]</dt>
        <dd>
<span class="refAuthor">Carpenter, B.</span><span class="refAuthor">, Liu, B.</span><span class="refAuthor">, Wang, W.</span><span class="refAuthor">, and X. Gong</span>, <span class="refTitle">"Generic Autonomic Signaling Protocol Application Program Interface (GRASP API)"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-anima-grasp-api-06</span>, <time datetime="2020-06-12" class="refDate">12 June 2020</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-anima-grasp-api-06">https://tools.ietf.org/html/draft-ietf-anima-grasp-api-06</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-anima-prefix-management">[I-D.ietf-anima-prefix-management]</dt>
        <dd>
<span class="refAuthor">Jiang, S.</span><span class="refAuthor">, Du, Z.</span><span class="refAuthor">, Carpenter, B.</span><span class="refAuthor">, and Q. Sun</span>, <span class="refTitle">"Autonomic IPv6 Edge Prefix Management in Large-scale Networks"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-anima-prefix-management-07</span>, <time datetime="2017-12-18" class="refDate">18 December 2017</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-anima-prefix-management-07">https://tools.ietf.org/html/draft-ietf-anima-prefix-management-07</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-anima-reference-model">[I-D.ietf-anima-reference-model]</dt>
        <dd>
<span class="refAuthor">Behringer, M.</span><span class="refAuthor">, Carpenter, B.</span><span class="refAuthor">, Eckert, T.</span><span class="refAuthor">, Ciavaglia, L.</span><span class="refAuthor">, and J. Nobre</span>, <span class="refTitle">"A Reference Model for Autonomic Networking"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-anima-reference-model-10</span>, <time datetime="2018-11-22" class="refDate">22 November 2018</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-anima-reference-model-10">https://tools.ietf.org/html/draft-ietf-anima-reference-model-10</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-core-yang-cbor">[I-D.ietf-core-yang-cbor]</dt>
        <dd>
<span class="refAuthor">Veillette, M.</span><span class="refAuthor">, Petrov, I.</span><span class="refAuthor">, and A. Pelov</span>, <span class="refTitle">"CBOR Encoding of Data Modeled with YANG"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-core-yang-cbor-13</span>, <time datetime="2020-07-04" class="refDate">4 July 2020</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-core-yang-cbor-13">https://tools.ietf.org/html/draft-ietf-core-yang-cbor-13</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.liu-anima-grasp-distribution">[I-D.liu-anima-grasp-distribution]</dt>
        <dd>
<span class="refAuthor">Liu, B.</span><span class="refAuthor">, Xiao, X.</span><span class="refAuthor">, Hecker, A.</span><span class="refAuthor">, Jiang, S.</span><span class="refAuthor">, and Z. Despotovic</span>, <span class="refTitle">"Information Distribution in Autonomic Networking"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-liu-anima-grasp-distribution-13</span>, <time datetime="2019-12-12" class="refDate">12 December 2019</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-liu-anima-grasp-distribution-13">https://tools.ietf.org/html/draft-liu-anima-grasp-distribution-13</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.peloso-anima-autonomic-function">[I-D.peloso-anima-autonomic-function]</dt>
        <dd>
<span class="refAuthor">Pierre, P.</span><span class="refAuthor"> and L. Ciavaglia</span>, <span class="refTitle">"A Day in the Life of an Autonomic Function"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-peloso-anima-autonomic-function-01</span>, <time datetime="2016-03-21" class="refDate">21 March 2016</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-peloso-anima-autonomic-function-01">https://tools.ietf.org/html/draft-peloso-anima-autonomic-function-01</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Movahedi12">[Movahedi12]</dt>
        <dd>
<span class="refAuthor">Movahedi, Z.</span><span class="refAuthor">, Ayari, M.</span><span class="refAuthor">, Langar, R.</span><span class="refAuthor">, and G. Pujolle</span>, <span class="refTitle">"A Survey of Autonomic Network Architectures and Evaluation Criteria"</span>, <span class="seriesInfo">IEEE Communications Surveys &amp; Tutorials Volume: 14 , Issue: 2 DOI: 10.1109/SURV.2011.042711.00078, Page(s): 464 - 490</span>, <time datetime="2012" class="refDate">2012</time>. </dd>
<dd class="break"></dd>
<dt id="RFC6241">[RFC6241]</dt>
        <dd>
<span class="refAuthor">Enns, R., Ed.</span><span class="refAuthor">, Bjorklund, M., Ed.</span><span class="refAuthor">, Schoenwaelder, J., Ed.</span><span class="refAuthor">, and A. Bierman, Ed.</span>, <span class="refTitle">"Network Configuration Protocol (NETCONF)"</span>, <span class="seriesInfo">RFC 6241</span>, <span class="seriesInfo">DOI 10.17487/RFC6241</span>, <time datetime="2011-06" class="refDate">June 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6241">https://www.rfc-editor.org/info/rfc6241</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6973">[RFC6973]</dt>
        <dd>
<span class="refAuthor">Cooper, A.</span><span class="refAuthor">, Tschofenig, H.</span><span class="refAuthor">, Aboba, B.</span><span class="refAuthor">, Peterson, J.</span><span class="refAuthor">, Morris, J.</span><span class="refAuthor">, Hansen, M.</span><span class="refAuthor">, and R. Smith</span>, <span class="refTitle">"Privacy Considerations for Internet Protocols"</span>, <span class="seriesInfo">RFC 6973</span>, <span class="seriesInfo">DOI 10.17487/RFC6973</span>, <time datetime="2013-07" class="refDate">July 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6973">https://www.rfc-editor.org/info/rfc6973</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7575">[RFC7575]</dt>
        <dd>
<span class="refAuthor">Behringer, M.</span><span class="refAuthor">, Pritikin, M.</span><span class="refAuthor">, Bjarnason, S.</span><span class="refAuthor">, Clemm, A.</span><span class="refAuthor">, Carpenter, B.</span><span class="refAuthor">, Jiang, S.</span><span class="refAuthor">, and L. Ciavaglia</span>, <span class="refTitle">"Autonomic Networking: Definitions and Design Goals"</span>, <span class="seriesInfo">RFC 7575</span>, <span class="seriesInfo">DOI 10.17487/RFC7575</span>, <time datetime="2015-06" class="refDate">June 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7575">https://www.rfc-editor.org/info/rfc7575</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7665">[RFC7665]</dt>
        <dd>
<span class="refAuthor">Halpern, J., Ed.</span><span class="refAuthor"> and C. Pignataro, Ed.</span>, <span class="refTitle">"Service Function Chaining (SFC) Architecture"</span>, <span class="seriesInfo">RFC 7665</span>, <span class="seriesInfo">DOI 10.17487/RFC7665</span>, <time datetime="2015-10" class="refDate">October 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7665">https://www.rfc-editor.org/info/rfc7665</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8368">[RFC8368]</dt>
        <dd>
<span class="refAuthor">Eckert, T., Ed.</span><span class="refAuthor"> and M. Behringer</span>, <span class="refTitle">"Using an Autonomic Control Plane for Stable Connectivity of Network Operations, Administration, and Maintenance (OAM)"</span>, <span class="seriesInfo">RFC 8368</span>, <span class="seriesInfo">DOI 10.17487/RFC8368</span>, <time datetime="2018-05" class="refDate">May 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8368">https://www.rfc-editor.org/info/rfc8368</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8568">[RFC8568]</dt>
      <dd>
<span class="refAuthor">Bernardos, CJ.</span><span class="refAuthor">, Rahman, A.</span><span class="refAuthor">, Zuniga, JC.</span><span class="refAuthor">, Contreras, LM.</span><span class="refAuthor">, Aranda, P.</span><span class="refAuthor">, and P. Lynch</span>, <span class="refTitle">"Network Virtualization Research Challenges"</span>, <span class="seriesInfo">RFC 8568</span>, <span class="seriesInfo">DOI 10.17487/RFC8568</span>, <time datetime="2019-04" class="refDate">April 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8568">https://www.rfc-editor.org/info/rfc8568</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="changes">
<section id="section-appendix.a">
      <h2 id="name-change-log-rfc-editor-pleas">
<a href="#section-appendix.a" class="section-number selfRef">Appendix A. </a><a href="#name-change-log-rfc-editor-pleas" class="section-name selfRef">Change log [RFC Editor: Please remove]</a>
      </h2>
<p id="section-appendix.a-1">draft-carpenter-anima-asa-guidelines-09, 2020-07-25:<a href="#section-appendix.a-1" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-appendix.a-2.1">Additional text on future authorization.<a href="#section-appendix.a-2.1" class="pilcrow">¶</a>
</li>
        <li class="compact" id="section-appendix.a-2.2">Editorial fixes<a href="#section-appendix.a-2.2" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-appendix.a-3">draft-carpenter-anima-asa-guidelines-08, 2020-01-10:<a href="#section-appendix.a-3" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-appendix.a-4.1">Introduced notion of autonomic ecosystem.<a href="#section-appendix.a-4.1" class="pilcrow">¶</a>
</li>
        <li class="compact" id="section-appendix.a-4.2">Minor technical clarifications.<a href="#section-appendix.a-4.2" class="pilcrow">¶</a>
</li>
        <li class="compact" id="section-appendix.a-4.3">Converted to v3 format.<a href="#section-appendix.a-4.3" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-appendix.a-5">draft-carpenter-anima-asa-guidelines-07, 2019-07-17:<a href="#section-appendix.a-5" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-appendix.a-6.1">Improved explanation of threading vs event-loop<a href="#section-appendix.a-6.1" class="pilcrow">¶</a>
</li>
        <li class="compact" id="section-appendix.a-6.2">Other editorial improvements.<a href="#section-appendix.a-6.2" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-appendix.a-7">draft-carpenter-anima-asa-guidelines-06, 2018-01-07:<a href="#section-appendix.a-7" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-appendix.a-8.1">Expanded and improved example logic flow.<a href="#section-appendix.a-8.1" class="pilcrow">¶</a>
</li>
        <li class="compact" id="section-appendix.a-8.2">Editorial corrections.<a href="#section-appendix.a-8.2" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-appendix.a-9">draft-carpenter-anima-asa-guidelines-05, 2018-06-30:<a href="#section-appendix.a-9" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-appendix.a-10.1">Added section on relationshp with non-autonomic components.<a href="#section-appendix.a-10.1" class="pilcrow">¶</a>
</li>
        <li class="compact" id="section-appendix.a-10.2">Editorial corrections.<a href="#section-appendix.a-10.2" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-appendix.a-11">draft-carpenter-anima-asa-guidelines-04, 2018-03-03:<a href="#section-appendix.a-11" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-appendix.a-12.1">Added note about simple ASAs.<a href="#section-appendix.a-12.1" class="pilcrow">¶</a>
</li>
        <li class="compact" id="section-appendix.a-12.2">Added note about NFV/SFC services.<a href="#section-appendix.a-12.2" class="pilcrow">¶</a>
</li>
        <li class="compact" id="section-appendix.a-12.3">Improved text about threading v event loop model<a href="#section-appendix.a-12.3" class="pilcrow">¶</a>
</li>
        <li class="compact" id="section-appendix.a-12.4">Added section about coordination with traditional tools.<a href="#section-appendix.a-12.4" class="pilcrow">¶</a>
</li>
        <li class="compact" id="section-appendix.a-12.5">Added appendix with example logic flow.<a href="#section-appendix.a-12.5" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-appendix.a-13">draft-carpenter-anima-asa-guidelines-03, 2017-10-25:<a href="#section-appendix.a-13" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-appendix.a-14.1">Added details on life cycle.<a href="#section-appendix.a-14.1" class="pilcrow">¶</a>
</li>
        <li class="compact" id="section-appendix.a-14.2">Added details on robustness.<a href="#section-appendix.a-14.2" class="pilcrow">¶</a>
</li>
        <li class="compact" id="section-appendix.a-14.3">Added co-authors.<a href="#section-appendix.a-14.3" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-appendix.a-15">draft-carpenter-anima-asa-guidelines-02, 2017-07-01:<a href="#section-appendix.a-15" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-appendix.a-16.1">Expanded description of event-loop case.<a href="#section-appendix.a-16.1" class="pilcrow">¶</a>
</li>
        <li class="compact" id="section-appendix.a-16.2">Added note about 'dry run' mode.<a href="#section-appendix.a-16.2" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-appendix.a-17">draft-carpenter-anima-asa-guidelines-01, 2017-01-06:<a href="#section-appendix.a-17" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-appendix.a-18.1">More sections filled in.<a href="#section-appendix.a-18.1" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-appendix.a-19">draft-carpenter-anima-asa-guidelines-00, 2016-09-30:<a href="#section-appendix.a-19" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-appendix.a-20.1">Initial version<a href="#section-appendix.a-20.1" class="pilcrow">¶</a>
</li>
      </ul>
</section>
</div>
<div id="eg">
<section id="section-appendix.b">
      <h2 id="name-example-logic-flows">
<a href="#section-appendix.b" class="section-number selfRef">Appendix B. </a><a href="#name-example-logic-flows" class="section-name selfRef">Example Logic Flows</a>
      </h2>
<p id="section-appendix.b-1">This appendix describes generic logic flows for an Autonomic Service Agent (ASA) for resource management. Note that these are illustrative examples, and in no sense requirements. As long as the rules of GRASP are followed, a real implementation could be different. The reader is assumed to be familiar with GRASP
<span>[<a href="#I-D.ietf-anima-grasp" class="xref">I-D.ietf-anima-grasp</a>]</span> and its conceptual API <span>[<a href="#I-D.ietf-anima-grasp-api" class="xref">I-D.ietf-anima-grasp-api</a>]</span>.<a href="#section-appendix.b-1" class="pilcrow">¶</a></p>
<p id="section-appendix.b-2">A complete autonomic function for a resource would consist of a number of instances of the ASA placed at relevant points in a network. Specific details will of course depend on the resource concerned. One example is IP address prefix management, as specified in <span>[<a href="#I-D.ietf-anima-prefix-management" class="xref">I-D.ietf-anima-prefix-management</a>]</span>. In this case, an instance of the ASA would exist in each delegating router.<a href="#section-appendix.b-2" class="pilcrow">¶</a></p>
<p id="section-appendix.b-3">
An underlying assumption is that there is an initial source of the resource in question, referred to here as an origin ASA. The other ASAs, known as delegators, obtain supplies of the resource from the origin, and then delegate quantities of the resource to consumers that request it, and recover it when no longer needed.<a href="#section-appendix.b-3" class="pilcrow">¶</a></p>
<p id="section-appendix.b-4">
Another assumption is there is a set of network wide policy parameters, which the origin will provide to the delegators. These parameters will control how the delegators decide how much resource to provide to consumers.
Thus the ASA logic has two operating modes: origin and delegator. When running as an origin, it starts by obtaining a quantity of the resource from the NOC, and it acts as a source of policy parameters, via both GRASP flooding and GRASP synchronization. (In some scenarios, flooding or synchronization alone might be sufficient, but this example includes both.)<a href="#section-appendix.b-4" class="pilcrow">¶</a></p>
<p id="section-appendix.b-5">
When running as a delegator, it starts with an empty resource pool, it acquires the policy parameters by GRASP synchronization, and it delegates quantities of the resource to consumers that request it. 
Both as an origin and as a delegator, when its pool is low it seeks quantities of the resource by requesting GRASP negotiation with peer ASAs. When its pool is sufficient, it hands out resource to peer ASAs in response to negotiation requests. Thus, over time, the initial resource pool held by the origin will be shared among all the delegators according to demand.<a href="#section-appendix.b-5" class="pilcrow">¶</a></p>
<p id="section-appendix.b-6">
In theory a network could include any number of origins and any number of delegators, with the only condition being that each origin's initial resource pool is unique. A realistic scenario is to have exactly one origin and as many delegators as you like. A scenario with no origin is useless.<a href="#section-appendix.b-6" class="pilcrow">¶</a></p>
<p id="section-appendix.b-7">
An implementation requirement is that resource pools are kept in stable storage. Otherwise, if a delegator exits for any reason, all the resources it has obtained or delegated are lost. If an origin exits, its entire spare pool is lost. The logic for using stable storage and for crash recovery is not included in the pseudocode below.<a href="#section-appendix.b-7" class="pilcrow">¶</a></p>
<p id="section-appendix.b-8">
The description below does not implement GRASP's 'dry run' function. That would require temporarily marking any resource handed out in a dry run negotiation as reserved, until either the peer obtains it in a live run, or a suitable timeout expires.<a href="#section-appendix.b-8" class="pilcrow">¶</a></p>
<p id="section-appendix.b-9">
The main data structures used in each instance of the ASA are:<a href="#section-appendix.b-9" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-appendix.b-10.1">The resource_pool, for example an ordered list of available resources. Depending on the nature of the resource, units of resource are split when appropriate, and a background garbage collector recombines split resources if they are returned to the pool.<a href="#section-appendix.b-10.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-appendix.b-10.2">
The delegated_list, where a delegator stores the resources it has given to consumers routers.<a href="#section-appendix.b-10.2" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-appendix.b-11">
Possible main logic flows are below, using a threaded implementation model. The transformation to an event loop model should be apparent - each thread would correspond to one event in the event loop.<a href="#section-appendix.b-11" class="pilcrow">¶</a></p>
<p id="section-appendix.b-12">
The GRASP objectives are as follows:<a href="#section-appendix.b-12" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-appendix.b-13.1">
["EX1.Resource", flags, loop_count, value]
where the value depends on the resource concerned, but will typically include its size and identification.<a href="#section-appendix.b-13.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-appendix.b-13.2">
["EX1.Params", flags, loop_count, value]
where the value will be, for example, a JSON object defining the applicable parameters.<a href="#section-appendix.b-13.2" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-appendix.b-14">
In the outline logic flows below, these objectives are represented simply by their names.<a href="#section-appendix.b-14" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-appendix.b-15">
<pre>
&lt;CODE BEGINS&gt;

MAIN PROGRAM:

Create empty resource_pool (and an associated lock)
Create empty delegated_list
Determine whether to act as origin
if origin:
    Obtain initial resource_pool contents from NOC
    Obtain value of EX1.Params from NOC
Register ASA with GRASP
Register GRASP objectives EX1.Resource and EX1.Params
if origin:
    Start FLOODER thread to flood EX1.Params
    Start SYNCHRONIZER listener for EX1.Params
Start MAIN_NEGOTIATOR thread for EX1.Resource
if not origin:
    Obtain value of EX1.Params from GRASP flood or synchronization
    Start DELEGATOR thread
Start GARBAGE_COLLECTOR thread
do forever:
    good_peer = none
    if resource_pool is low:
        Calculate amount A of resource needed
        Discover peers using GRASP M_DISCOVER / M_RESPONSE
        if good_peer in peers:
            peer = good_peer
        else:
            peer =  #any choice among peers
            grasp.request_negotiate("EX1.Resource", peer)
            i.e., send M_REQ_NEG
            Wait for response (M_NEGOTIATE, M_END or M_WAIT)
            if OK:
                if offered amount of resource sufficient:
                    Send M_END + O_ACCEPT #negotiation succeeded
                    Add resource to pool
                    good_peer = peer
                else:
                    Send M_END + O_DECLINE #negotiation failed
    sleep() #sleep time depends on application scenario
</pre><a href="#section-appendix.b-15" class="pilcrow">¶</a>
</div>
<div class="artwork art-text alignLeft" id="section-appendix.b-16">
<pre>
MAIN_NEGOTIATOR thread:

do forever:
    grasp.listen_negotiate("EX1.Resource")
    i.e., wait for M_REQ_NEG
    Start a separate new NEGOTIATOR thread for requested amount A
</pre><a href="#section-appendix.b-16" class="pilcrow">¶</a>
</div>
<div class="artwork art-text alignLeft" id="section-appendix.b-17">
<pre>
NEGOTIATOR thread:

Request resource amount A from resource_pool
if not OK:
    while not OK and A &gt; Amin:
        A = A-1
        Request resource amount A from resource_pool
if OK:
    Offer resource amount A to peer by GRASP M_NEGOTIATE
    if received M_END + O_ACCEPT:
        #negotiation succeeded
    elif received M_END + O_DECLINE or other error:
        #negotiation failed
else:
    Send M_END + O_DECLINE #negotiation failed
</pre><a href="#section-appendix.b-17" class="pilcrow">¶</a>
</div>
<div class="artwork art-text alignLeft" id="section-appendix.b-18">
<pre>
DELEGATOR thread:

do forever:
    Wait for request or release for resource amount A
    if request:
        Get resource amount A from resource_pool
        if OK:
            Delegate resource to consumer
            Record in delegated_list
        else:
            Signal failure to consumer
            Signal main thread that resource_pool is low
    else:
        Delete resource from delegated_list
        Return resource amount A to resource_pool
</pre><a href="#section-appendix.b-18" class="pilcrow">¶</a>
</div>
<div class="artwork art-text alignLeft" id="section-appendix.b-19">
<pre>
SYNCHRONIZER thread:

do forever:
    Wait for  M_REQ_SYN message for EX1.Params
    Reply with M_SYNCH message for EX1.Params
</pre><a href="#section-appendix.b-19" class="pilcrow">¶</a>
</div>
<div class="artwork art-text alignLeft" id="section-appendix.b-20">
<pre>
FLOODER thread:

do forever:
    Send M_FLOOD message for EX1.Params
    sleep() #sleep time depends on application scenario

</pre><a href="#section-appendix.b-20" class="pilcrow">¶</a>
</div>
<div class="artwork art-text alignLeft" id="section-appendix.b-21">
<pre>
GARBAGE_COLLECTOR thread:

do forever:
    Search resource_pool for adjacent resources
    Merge adjacent resources
    sleep() #sleep time depends on application scenario

&lt;CODE ENDS&gt;
</pre><a href="#section-appendix.b-21" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="authors-addresses">
<section id="section-appendix.c">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Brian Carpenter</span></div>
<div dir="auto" class="left"><span class="street-address">School of Computer Science<br>University of Auckland<br>PB 92019</span></div>
<div dir="auto" class="left">
<span class="locality">Auckland</span> <span class="postal-code">1142</span>
</div>
<div dir="auto" class="left"><span class="country-name">New Zealand</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:brian.e.carpenter@gmail.com" class="email">brian.e.carpenter@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Laurent Ciavaglia</span></div>
<div dir="auto" class="left"><span class="org">Nokia</span></div>
<div dir="auto" class="left"><span class="street-address">Villarceaux</span></div>
<div dir="auto" class="left">
<span class="postal-code">91460</span> <span class="locality">Nozay</span>
</div>
<div dir="auto" class="left"><span class="country-name">France</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:laurent.ciavaglia@nokia.com" class="email">laurent.ciavaglia@nokia.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Sheng Jiang</span></div>
<div dir="auto" class="left"><span class="org">Huawei Technologies Co., Ltd</span></div>
<div dir="auto" class="left"><span class="street-address">Q14 Huawei Campus<br>156 Beiqing Road<br>Hai-Dian District</span></div>
<div dir="auto" class="left"><span class="locality">Beijing</span></div>
<div dir="auto" class="left"><span class="postal-code">100095</span></div>
<div dir="auto" class="left"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:jiangsheng@huawei.com" class="email">jiangsheng@huawei.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Pierre Peloso</span></div>
<div dir="auto" class="left"><span class="org">Nokia</span></div>
<div dir="auto" class="left"><span class="street-address">Villarceaux</span></div>
<div dir="auto" class="left">
<span class="postal-code">91460</span> <span class="locality">Nozay</span>
</div>
<div dir="auto" class="left"><span class="country-name">France</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:pierre.peloso@nokia.com" class="email">pierre.peloso@nokia.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
