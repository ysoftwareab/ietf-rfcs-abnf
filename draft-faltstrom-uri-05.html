<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>The Uniform Resource Identifier (URI) DNS Resource Record</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="The Uniform Resource Identifier (URI) DNS Resource Record">
<meta name="keywords" content="DNS, RFC, I-D, Internet-Draft">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 60em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 60em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Network Working Group</td><td class="header">P. Faltstrom</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Cisco</td></tr>
<tr><td class="header">Updates: <a href='http://tools.ietf.org/html/rfc3404'>3404</a>, <a href='http://tools.ietf.org/html/rfc3959'>3959</a></td><td class="header">O. Kolkman</td></tr>
<tr><td class="header">(if&nbsp;approved)</td><td class="header">NLNet</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">June 24, 2010</td></tr>
<tr><td class="header">Expires: December 26, 2010</td><td class="header">&nbsp;</td></tr>
</table></td></tr></table>
<h1><br />The Uniform Resource Identifier (URI) DNS Resource Record<br />draft-faltstrom-uri-05.txt</h1>

<h3>Abstract</h3>

<p>
				This document defines a new DNS resource record, called the Uniform
				Resource Identifier (URI) RR, for publishing mappings from hostnames
				to URIs.
			
</p>
<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted  in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF).  Note that other groups may also distribute
working documents as Internet-Drafts.  The list of current
Internet-Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
This Internet-Draft will expire on December 26, 2010.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2010 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents
(http://trustee.ietf.org/license-info) in effect on the date of
publication of this document.  Please review these documents
carefully, as they describe your rights and restrictions with respect
to this document. Code Components extracted from this document must
include Simplified BSD License text as described in Section 4.e of
the Trust Legal Provisions and are provided without warranty as
described in the Simplified BSD License.</p>
<a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#intro">1.</a>&nbsp;
Introduction<br />
<a href="#anchor1">2.</a>&nbsp;
Applicability Statement<br />
<a href="#anchor2">3.</a>&nbsp;
DNS considerations<br />
<a href="#format">4.</a>&nbsp;
The format of the URI RR<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor3">4.1.</a>&nbsp;
Ownername, class and type<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">4.2.</a>&nbsp;
Priority<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor5">4.3.</a>&nbsp;
Weight<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">4.4.</a>&nbsp;
Target<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#wireformat">4.5.</a>&nbsp;
URI RDATA Wire Format<br />
<a href="#anchor7">5.</a>&nbsp;
Definition of the flag 'D' for NAPTR records<br />
<a href="#anchor8">6.</a>&nbsp;
Examples<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor9">6.1.</a>&nbsp;
Homepage at one domain, but two domains in use<br />
<a href="#anchor10">7.</a>&nbsp;
Relation to S-NAPTR<br />
<a href="#anchor11">8.</a>&nbsp;
Relation to U-NAPTR<br />
<a href="#anchor12">9.</a>&nbsp;
Relation to SRV<br />
<a href="#anchor13">10.</a>&nbsp;
IANA Considerations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor14">10.1.</a>&nbsp;
Registration of the URI Resource Record Type<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor15">10.2.</a>&nbsp;
Registration of services<br />
<a href="#anchor16">11.</a>&nbsp;
Security Considerations<br />
<a href="#anchor17">12.</a>&nbsp;
Acknowledgements<br />
<a href="#anchor18">Appendix&nbsp;A.</a>&nbsp;
RRTYPE Allocation Request<br />
<a href="#rfc.references1">13.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">13.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">13.2.</a>&nbsp;
Non-normative references<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="intro"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>
				This document explains the use of the Domain Name System (DNS) for
				the storage of URIs, and how to resolve hostnames to such URIs that can be
				used by various applications. For resolution the application need to
				know both the hostname and the protocol that the URI is to be used
				for. The protocol is registered by IANA.
			
</p>
<p>
				Currently, looking up URIs given a hostname uses the <a class='info' href='#RFC3401'>DDDS<span> (</span><span class='info'>Mealling, M., &ldquo;Dynamic Delegation Discovery System (DDDS) Part One: The Comprehensive DDDS,&rdquo; October&nbsp;2002.</span><span>)</span></a> [RFC3401] application framework with the DNS as a
        database as specified in <a class='info' href='#RFC3404'>RFC 3404<span> (</span><span class='info'>Mealling, M., &ldquo;Dynamic Delegation Discovery System (DDDS) Part Four: The Uniform Resource Identifiers (URI),&rdquo; October&nbsp;2002.</span><span>)</span></a> [RFC3404]. This
        has a number of implications such as the
        inability to select what NAPTR records that match the query are
        interesting. The RRSet returned will always consist of all URIs
        "connected" with the domain in question.
			
</p>
<p>
				The URI resource record specified in this document enables
        the querying party to select which ones of the NAPTR records one
        is interested in. This because data in the service field of the NAPTR
        record is included in the owner part of the URI resource record type.
			
</p>
<p>
				Querying for URI resource records is not replacing querying for NAPTR
        resource records (or use of <a class='info' href='#RFC3958'>S-NAPTR<span> (</span><span class='info'>Daigle, L. and A. Newton, &ldquo;Domain-Based Application Service Location Using SRV RRs and the Dynamic Delegation Discovery Service (DDDS),&rdquo; January&nbsp;2005.</span><span>)</span></a> [RFC3958]). Instead,
        the URI resource record type provides a complementary mechanism to use
        when one already knows what service field is interesting. With it, one
        can directly query for the specific subset of the otherwise possibly
        large RRSet given back when querying for NAPTR resource records.
			
</p>
<p>
				This document updates RFC 3958 and RFC 3404 by adding the flag "D" to
        the list of defined terminal flags in section 2.2.3 of RFC 3958 and
        4.3 of RFC 3404.
			
</p>
<p>
				The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
        "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
        document are to be interpreted as described in BCP 14, <a class='info' href='#RFC2119'>RFC 2119<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a> [RFC2119].
	   	
</p>
<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Applicability Statement</h3>

<p>
				In general, it is expected that URI records will be used by clients
				for applications where the relevant protocol to be used is known,
				but, for example, an extra abstraction is needed in order to separate
				a domain name from a point of service (as addressed by the URI).  One
				example of such a situation is when an organisation has many domain
				names, but only one official web page.
			
</p>
<p>
				Applications MUST know the specific service fields to prepend the
				hostname with.  Using repetitive queries for URI records MUST NOT be
				a replacement for querying for NAPTR records according to the NAPTR (DDDS) or
				S-NAPTR algorithms.  NAPTR records serve the purpose to discover the various services
				and URIs for looking up access points for a given service.  Those are
				two very different kinds of needs.
			
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
DNS considerations</h3>

<p>
				Using prefix labels, such as underscored service tags, prevents the
        use of wildcards, as
        constructs as _s2._s1.*.example.net. are not possible in the DNS,
        see <a class='info' href='#RFC4592'>RFC 4592<span> (</span><span class='info'>Lewis, E., &ldquo;The Role of Wildcards in the Domain Name System,&rdquo; July&nbsp;2006.</span><span>)</span></a> [RFC4592]. Besides, underscored
        service tags used for the URI RR (based on the NAPTR service
        descriptions) may have slightly different semantics than service tags
        used for underscored prefix labels that are used in combination with
        other (yet unspecified) RR types. This may cause subtle management
        problems when delegation structure that has developed within the
        context of URI RRs is also to be used for other RR types. Since the
        service labels might be overloaded, applications should carefully check
        that the application level protocol is indeed the protocol they
        expect.
			
</p>
<p>
				Subtle management issues may also arise when the delegations from
        service to sub service label involves several parties and different
        stake holders.
			
</p>
<a name="format"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
The format of the URI RR</h3>

<p>
				This is the presentation format of the URI RR:
			
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

    Ownername TTL Class URI Priority Weight Target

</pre></div>
<p>
			  The URI RR does not cause any kind of Additional Section processing.
			
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1"></a><h3>4.1.&nbsp;
Ownername, class and type</h3>

<p>
		      The URI ownername is subject to special conventions.
		    
</p>
<p>
		      Just like the <a class='info' href='#RFC2782'>SRV RR<span> (</span><span class='info'>Gulbrandsen, A., Vixie, P., and L. Esibov, &ldquo;A DNS RR for specifying the location of services (DNS SRV),&rdquo; February&nbsp;2000.</span><span>)</span></a> [RFC2782] the URI RR has service information
          encoded in its ownername. In order to encode the service for a
          specific owner name one uses service parameters. Valid service
          parameters used are those used for SRV resource records, or registered by IANA for
          Enumservice Registrations. The Enumservice Registration parameters
          are reversed (subtype(s) before type), prepended with an underscore
          (_) and prepended to the owner name in separate labels. The
          underscore is prepended to the service parameters to avoid
          collisions with DNS labels that occur in nature, and the order is
          reversed to make it possible to do delegations, if needed, to
          different zones (and therefore providers of DNS).
		    
</p>
<p> 
		      For example, suppose we are looking for the URI for a service
		      with Service Parameter "A:B:C" for host example.com.. Then we
		      would query for (QNAME,QTYPE)=("_C._B._A.example.com","URI")
		    
</p>
<p>
		      The type number for the URI record is TBD1 (to be assigned by IANA).
		   	
</p>
<p>
		     	The URI resource record is class independent.
		   	
</p>
<p>
		     	The URI RR has no special TTL requirements.
		   	
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2"></a><h3>4.2.&nbsp;
Priority</h3>

<p>
					The priority of the target URI in this RR.  Its range is 0-65535.
					A client MUST attempt to contact the URI with the lowest-numbered
					priority it can reach; URIs with the same priority SHOULD be tried in
					the order defined by the weight field.
				
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.3"></a><h3>4.3.&nbsp;
Weight</h3>

<p>
					A server selection mechanism.  The weight field specifies a relative
					weight for entries with the same priority.  Larger weights SHOULD be
					given a proportionately higher probability of being selected.  The
					range of this number is 0-65535.
				
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.4"></a><h3>4.4.&nbsp;
Target</h3>

<p>
					The URI of the target, enclosed in double-quote characters ('"').
					Resolution of the URI is according to the definitions for the
					Scheme of the URI.
				
</p>
<p>
          The URI is encoded as one or more &lt;character-string&gt; <a class='info' href='#RFC1035'>RFC1035 section 3.3<span> (</span><span class='info'>Mockapetris, P., &ldquo;Domain names - implementation and specification,&rdquo; November&nbsp;1987.</span><span>)</span></a> [RFC1035].
        
</p>
<a name="wireformat"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.5"></a><h3>4.5.&nbsp;
URI RDATA Wire Format</h3>

<p>
	      	The RDATA for a URI RR consists of a 2 octet Priority field,
	      	a two octet Weight field, and a variable length target field.
				
</p>
<p>
					Priority and Weight are unsigned integers in network byte order.
				
</p>
<p>
					The Target field contains the URI (without the enclosing double-
					quote characters used in the presentation format), encoded as a
					sequence of one or more &lt;character-string&gt; (as specified in section
					3.3 of <a class='info' href='#RFC1035'>RFC 1035<span> (</span><span class='info'>Mockapetris, P., &ldquo;Domain names - implementation and specification,&rdquo; November&nbsp;1987.</span><span>)</span></a> [RFC1035]), where all but the last &lt;character-string&gt;
					are filled up to the maximum length of 255 octets.
		    
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

                     1 1 1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 2 2 2 3 3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|          Priority             |          Weight               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
/                                                               /
/                             Target                            /
/                                                               /
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

</pre></div>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Definition of the flag 'D' for NAPTR records</h3>

<p>
		    This document specifies the flag "D" for use as a flag in NAPTR
        records. The flag indicate a terminal NAPTR record because it denotes
        the end of the DDDS/NAPTR processing rules. In the case of a "D" flag,
        the Replacement field in the NAPTR record, prepended with the service
        flags, is used as the Owner of a DNS query for URI records, and normal
        URI processing as defined in this document is applied.
		  
</p>
<p>
			  The replacement field MUST NOT include any of the service parameters.
        Those are to be prepended (together with underscore) as described in
        other places in this document.
			
</p>
<p>
			  The Regexp field in the NAPTR record MUST be empty when the 'D' flag
        is in use.
			
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Examples</h3>

<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1"></a><h3>6.1.&nbsp;
Homepage at one domain, but two domains in use</h3>

<p>
					An organisation has the domain names example.com and example.net,
          but the official URI http://www.example.com/. Given the service type
          "web" and subtype "http" (from the IANA registry), the following
          URI Resource Records could be made available in the respective
          zones (example.com and example.net):
				
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

$ORIGIN example.com.
_http._web    IN URI 10 1 "http://www.example.com/"

$ORIGIN example.net.
_http._web    IN URI 10 1 "http://www.example.com/"

</pre></div>
<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Relation to S-NAPTR</h3>

<p>
			The URI resource record type is not a replacement for the S-NAPTR.
			It is instead an extension and the seond step of the S-NAPTR resolution
			can resolve a URI resource record instead of using SRV records and
  			yet another algorithm for how to use SRV records for the specific protocol.
			
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

$ORIGIN example.com.
;;       order pref flags
  IN NAPTR 100   10   "s"   "EM:ProtA"               ( ; service
                            ""                         ; regexp
                            _ProtA._tcp.example.com.   ; replacement
_ProtA._tcp IN URI "schemeA:service.example.com/example"

</pre></div>
<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
Relation to U-NAPTR</h3>

<p>
			The URI Resource Record Type, together with S-NAPTR, can be viewed as a replacement for the U-NAPTR.
        The URI Resource Record Type is though only interesting when one know a base domain name,
        a protocol and service so that one can compose the record to look up. NAPTR records of any kind are used to
        look up what services exists for a certain domain, which is one step before the URI resource record is used.
	     	     	
</p>
<a name="anchor12"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
Relation to SRV</h3>

<p>
			The URI Resource Record Type can be viewed as a replacement for the SRV record. This because
                        it like the SRV record can only be looked up if one know the base domain, the protocol and the service.
                        It has a similar functionality, but instead of returning a hostname and port number, the URI record
                        return a full URI. As such, it can be viewed as a more powerful resource record than SRV.
	     	     	
</p>
<a name="anchor13"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10"></a><h3>10.&nbsp;
IANA Considerations</h3>

<a name="anchor14"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.1"></a><h3>10.1.&nbsp;
Registration of the URI Resource Record Type</h3>

<p>
					IANA has assigned Resource Record Type TBD1 for the URI Resource
          Record Type and added the line depicted below to the registry named
          Resource Record (RR) TYPEs and QTYPEs as defined in BCP 42 <a class='info' href='#RFC5395'>RFC 5395<span> (</span><span class='info'>Eastlake, D., &ldquo;Domain Name System (DNS) IANA Considerations,&rdquo; November&nbsp;2008.</span><span>)</span></a> [RFC5395] and located at
          http://www.iana.org/assignments/dns-parameters.
				
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

TYPE         Value and meaning                              Reference
-----------  ---------------------------------------------  ---------
URI          TBD1 a URI for a service (per the owner name)  [RFCXXXX]

</pre></div>
<a name="anchor15"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.2"></a><h3>10.2.&nbsp;
Registration of services</h3>

<p>
					No new registry is needed for the registration of services as
					the Enumservice Registrations registry is used also for the URI
					resource record type.
				
</p>
<a name="anchor16"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11"></a><h3>11.&nbsp;
Security Considerations</h3>

<p>
				The authors do not believe this resource record cause any new security problems.
				Deployment must though be done in a proper way as misconfiguration of this
				resource record might make it impossible to reach the service that was originally
				intended to be accessed.
			
</p>
<p>
			   Using the URI resource record together with security mechanisms that
                           relies on verification of authentication of hostnames, like TLS, makes it
                           important to choose the correct domain name when doing the comparison.
			
</p>
<p>
			   The basic mechanism works as follows:
			
</p>
<p>
			</p>
<blockquote class="text"><dl>
<dt>1.</dt>
<dd>
			Announce the fact example.com is hosted at example.org (with some URL) in DNS
			
</dd>
<dt>2.</dt>
<dd>
			Secure the URI resource record with DNSSEC.
			
</dd>
<dt>3.</dt>
<dd>
			Verify the TLS (for example) certificate for the connection to example.org matches, i.e.
			use the hostname in the URI and not the hostname used originally when looking up the URI
			resource record.
			
</dd>
<dt>4.</dt>
<dd>
			If needed, do application layer authentication etc over the then encrypted connection.
			
</dd>
</dl></blockquote><p>
			
</p>
<p>
				What also can happen is that the URI in the resource record type has errors in it. Applications
				using the URI resource record type for resolution should behave similarly as if the
				user typed (or copy and pasted) the URI. At least it must be clear to the user that
				the error is not due to any error from his side.
			
</p>
<p>
				One SHOULD not include userinfo (see User Information, Section 3.2.1, in
				<a class='info' href='#RFC3986'>RFC 3986<span> (</span><span class='info'>Berners-Lee, T., Fielding, R., and L. Masinter, &ldquo;Uniform Resource Identifier (URI): Generic Syntax,&rdquo; January&nbsp;2005.</span><span>)</span></a> [RFC3986])
				in a URI that is used in a URI resource
				record as DNS data must be viewed as publicly available information.
			
</p>
<a name="anchor17"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.12"></a><h3>12.&nbsp;
Acknowledgements</h3>

<p>
			  Ideas on how to split the two different kind of queries "What services
        exists for this domain name" and "What is the URI for this service"
        came from Scott Bradner and Lawrence Conroy. Other people that have
        contributed to this document include Richard Barnes, Leslie Daigle, Olafur Gudmundsson,
        Ted Hardie, Peter Koch and Penn Pfautz.
			
</p>
<a name="anchor18"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A"></a><h3>Appendix A.&nbsp;
RRTYPE Allocation Request</h3>

<p>
			  </p>
<blockquote class="text"><dl>
<dt>A.</dt>
<dd>
					  Submission Date:
					  <br />

					  May 23, 2009
						<br />
<br />

				  
</dd>
<dt>B.</dt>
<dd>
			      Submission Type:
						<br />

			      [X] New RRTYPE
					  <br />

				    [ ] Modification to existing RRTYPE
						<br />
<br />

          
</dd>
<dt>C.</dt>
<dd>
				    Contact Information for submitter:
					  <br />

			      Name: Patrik Faltstrom
					  <br />

			      Email Address: paf@cisco.com
					  <br />

			      International telephone number: +46-8-6859131
					  <br />

			      Other contact handles:
						<br />

			      (Note: This information will be publicly posted.)
						<br />
<br />

          
</dd>
<dt>D.</dt>
<dd>
				    Motivation for the new RRTYPE application?
					  <br />

					  There is no easy way to get from a domain name to a URI. Some
						mechanisms exists via use of the <a class='info' href='#RFC3403'>NAPTR<span> (</span><span class='info'>Mealling, M., &ldquo;Dynamic Delegation Discovery System (DDDS) Part Three: The Domain Name System (DNS) Database,&rdquo; October&nbsp;2002.</span><span>)</span></a> [RFC3403]
						resource record. That implies quite complicated rules that are
						simplified via the <a class='info' href='#RFC3958'>S-NAPTR<span> (</span><span class='info'>Daigle, L. and A. Newton, &ldquo;Domain-Based Application Service Location Using SRV RRs and the Dynamic Delegation Discovery Service (DDDS),&rdquo; January&nbsp;2005.</span><span>)</span></a> [RFC3958] specification.
						But, the ability to directly look up a URI still exists. This specification
						uses a prefix based naming mechanism originated in the definition of
						the <a class='info' href='#RFC2782'>SRV<span> (</span><span class='info'>Gulbrandsen, A., Vixie, P., and L. Esibov, &ldquo;A DNS RR for specifying the location of services (DNS SRV),&rdquo; February&nbsp;2000.</span><span>)</span></a> [RFC2782] resource record, and the RDATA is
						a URI, encoded as one text field.
					  <br />
<br />

						See also <a class='info' href='#intro'>above<span> (</span><span class='info'>Introduction</span><span>)</span></a>.
						<br />
<br />

					
</dd>
<dt>E.</dt>
<dd>
						Description of the proposed RR type.
					  <br />

						The format of the URI resource record is as follows:
						<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

     Ownername TTL Class URI Priority Weight Target

</pre></div>
						The URI RR has service information
						encoded in its ownername.  In order to encode the service for a
						specific owner name one uses service parameters.  Valid service
						parameters used are either Enumservice Registrations registered by IANA,
						or prefixes used for the SRV resource record.
					  <br />
<br />

						The wire format of the RDATA is as follows:
						<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

                          1 1 1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 2 2 2 3 3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |          Priority             |          Weight               |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     /                                                               /
     /                             Target                            /
     /                                                               /
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

</pre></div>
					    <br />
<br />

					  
</dd>
<dt>F.</dt>
<dd>
            What existing RRTYPE or RRTYPEs come closest to filling that
						need and why are they unsatisfactory?
					  <br />

						The RRTYPE that come closest is the NAPTR resource record. It is
						for example used in the DDDS and S-NAPTR algorithms. The main problem
						with the NAPTR is that selection of what record (or records) one is
						interested in is based on data stored in the RDATA portion of the NAPTR
						resource record. This, as explained in <a class='info' href='#RFC5507'>RFC 5507<span> (</span><span class='info'>IAB, Faltstrom, P., Austein, R., and P. Koch, &ldquo;Design Choices When Expanding the DNS,&rdquo; April&nbsp;2009.</span><span>)</span></a> [RFC5507],
						is not optimal for DNS lookups. Further, most applications using NAPTR
						resource records uses regular expression based rewrite rules for creation
						of the URI, and that has shown be complicated to implement.
					  <br />
<br />

						The second closest RRTYPE is the SRV record that given a prefixed based
						naming just like is suggested for the URI resource record, one get back
						a port number and domain name. This can also be used for creation of a
						URI, but, only URIs without path components.
					  <br />
<br />

					
</dd>
<dt>G.</dt>
<dd>
            What mnemonic is requested for the new RRTYPE (optional)?
					  <br />

						URI
					  <br />
<br />

					
</dd>
<dt>H.</dt>
<dd>
            Does the requested RRTYPE make use of any existing IANA
			      Registry or require the creation of a new IANA sub-registry in
			      DNS Parameters?
					  <br />

						Yes, partially.
					  <br />
<br />

						One of the mechanisms to select a service is to use the Enumservice
						Registry managed by IANA. Another is to use services and protocols used
						for SRV records.
					  <br />
<br />

					
</dd>
<dt>I.</dt>
<dd>
			      Does the proposal require/expect any changes in DNS
			      servers/resolvers that prevent the new type from being
			      processed as an unknown RRTYPE (see [RFC3597])?
					  <br />

					  No
					  <br />
<br />

					
</dd>
<dt>J.</dt>
<dd>
						Comments:
					  <br />

					  None
					  <br />
<br />

					
</dd>
</dl></blockquote><p>
			
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.13"></a><h3>13.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>13.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="E164">[E164]</a></td>
<td class="author-text">ITU-T, &ldquo;The International Public Telecommunication Number Plan,&rdquo; Recommendation&nbsp;E.164, May&nbsp;1997.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC1035">[RFC1035]</a></td>
<td class="author-text">Mockapetris, P., &ldquo;<a href="http://tools.ietf.org/html/rfc1035">Domain names - implementation and specification</a>,&rdquo; STD&nbsp;13, RFC&nbsp;1035, November&nbsp;1987 (<a href="http://www.rfc-editor.org/rfc/rfc1035.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3958">[RFC3958]</a></td>
<td class="author-text">Daigle, L. and A. Newton, &ldquo;<a href="http://tools.ietf.org/html/rfc3958">Domain-Based Application Service Location Using SRV RRs and the Dynamic Delegation Discovery Service (DDDS)</a>,&rdquo; RFC&nbsp;3958, January&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc3958.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5395">[RFC5395]</a></td>
<td class="author-text">Eastlake, D., &ldquo;<a href="http://tools.ietf.org/html/rfc5395">Domain Name System (DNS) IANA Considerations</a>,&rdquo; BCP&nbsp;42, RFC&nbsp;5395, November&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5395.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>13.2.&nbsp;Non-normative references</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2782">[RFC2782]</a></td>
<td class="author-text"><a href="mailto:arnt@troll.no">Gulbrandsen, A.</a>, Vixie, P., and <a href="mailto:levone@microsoft.com">L. Esibov</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2782">A DNS RR for specifying the location of services (DNS SRV)</a>,&rdquo; RFC&nbsp;2782, February&nbsp;2000 (<a href="http://www.rfc-editor.org/rfc/rfc2782.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3401">[RFC3401]</a></td>
<td class="author-text">Mealling, M., &ldquo;<a href="http://tools.ietf.org/html/rfc3401">Dynamic Delegation Discovery System (DDDS) Part One: The Comprehensive DDDS</a>,&rdquo; RFC&nbsp;3401, October&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3401.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3403">[RFC3403]</a></td>
<td class="author-text">Mealling, M., &ldquo;<a href="http://tools.ietf.org/html/rfc3403">Dynamic Delegation Discovery System (DDDS) Part Three: The Domain Name System (DNS) Database</a>,&rdquo; RFC&nbsp;3403, October&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3403.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3404">[RFC3404]</a></td>
<td class="author-text">Mealling, M., &ldquo;<a href="http://tools.ietf.org/html/rfc3404">Dynamic Delegation Discovery System (DDDS) Part Four: The Uniform Resource Identifiers (URI)</a>,&rdquo; RFC&nbsp;3404, October&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3404.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3986">[RFC3986]</a></td>
<td class="author-text"><a href="mailto:timbl@w3.org">Berners-Lee, T.</a>, <a href="mailto:fielding@gbiv.com">Fielding, R.</a>, and <a href="mailto:LMM@acm.org">L. Masinter</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc3986">Uniform Resource Identifier (URI): Generic Syntax</a>,&rdquo; STD&nbsp;66, RFC&nbsp;3986, January&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc3986.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc3986.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc3986.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4592">[RFC4592]</a></td>
<td class="author-text">Lewis, E., &ldquo;<a href="http://tools.ietf.org/html/rfc4592">The Role of Wildcards in the Domain Name System</a>,&rdquo; RFC&nbsp;4592, July&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4592.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4848">[RFC4848]</a></td>
<td class="author-text">Daigle, L., &ldquo;<a href="http://tools.ietf.org/html/rfc4848">Domain-Based Application Service Location Using URIs and the Dynamic Delegation Discovery Service (DDDS)</a>,&rdquo; RFC&nbsp;4848, April&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc4848.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5507">[RFC5507]</a></td>
<td class="author-text">IAB, Faltstrom, P., Austein, R., and P. Koch, &ldquo;<a href="http://tools.ietf.org/html/rfc5507">Design Choices When Expanding the DNS</a>,&rdquo; RFC&nbsp;5507, April&nbsp;2009 (<a href="http://www.rfc-editor.org/rfc/rfc5507.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Patrik Faltstrom</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Cisco Systems</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:paf@cisco.com">paf@cisco.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Olaf Kolkman</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">NLnet Labs</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:olaf@NLnetLabs.nl">olaf@NLnetLabs.nl</a></td></tr>
</table>
</body></html>
