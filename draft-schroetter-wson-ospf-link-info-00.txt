


Internet Engineering Task Force                       D. Schroetter, Ed.
Internet-Draft                                             G. Martinelli
Intended status: Standards Track                           Cisco Systems
Expires: September 2, 2010                                 March 1, 2010


                  OSPF Link Information Model for OSPF
                draft-schroetter-wson-ospf-link-info-00

Abstract

   This document describes the extensions to the OSPF Link TLV to
   support Routing and Wavelength Assignment (RWA) in Wavelength
   Switched Optical Networks (WSON) under the control of Generalized
   MPLS (GMPLS).

Status of this Memo

   This Internet-Draft is submitted to IETF in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on September 2, 2010.

Copyright Notice

   Copyright (c) 2010 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents



Schroetter & Martinelli  Expires September 2, 2010              [Page 1]

Internet-Draft       OSPF Link Information for WSON           March 2010


   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the BSD License.

   This document may contain material from IETF Documents or IETF
   Contributions published or made publicly available before November
   10, 2008.  The person(s) controlling the copyright in some of this
   material may not have granted the IETF Trust the right to allow
   modifications of such material outside the IETF Standards Process.
   Without obtaining an adequate license from the person(s) controlling
   the copyright in such materials, this document may not be modified
   outside the IETF Standards Process, and derivative works of it may
   not be created outside the IETF Standards Process, except to format
   it for publication as an RFC or to translate it into languages other
   than English.


































Schroetter & Martinelli  Expires September 2, 2010              [Page 2]

Internet-Draft       OSPF Link Information for WSON           March 2010


Table of Contents

   1.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  4
     1.1.  Requirements Language  . . . . . . . . . . . . . . . . . .  4
   2.  Usage Scenarios  . . . . . . . . . . . . . . . . . . . . . . .  4
     2.1.  Client signals that require specific wavelengths on a
           given link . . . . . . . . . . . . . . . . . . . . . . . .  4
     2.2.  Wavelengths reserved for specific uses . . . . . . . . . .  5
     2.3.  Wavelength Availability based on adjacent channel usage  .  6
   3.  Link Information . . . . . . . . . . . . . . . . . . . . . . .  6
     3.1.  Sublink Wavelength Set sub-TLV . . . . . . . . . . . . . .  7
       3.1.1.  Label Set  . . . . . . . . . . . . . . . . . . . . . .  9
     3.2.  Sublink Modulation Format Compatibility Set  . . . . . . . 10
     3.3.  Signal Dependency sub-TLV  . . . . . . . . . . . . . . . . 11
     3.4.  Sublink Administrative Group sub-TLV . . . . . . . . . . . 13
   4.  IANA Considerations  . . . . . . . . . . . . . . . . . . . . . 14
   5.  Security Considerations  . . . . . . . . . . . . . . . . . . . 14
   Appendix A.   Usage Examples . . . . . . . . . . . . . . . . . . . 14
   Appendix A.1. Simple set of wavelengths  . . . . . . . . . . . . . 14
   Appendix A.2. Simple set of wavelengths with exclusions  . . . . . 15
   Appendix A.3. Multiple sublinks per link . . . . . . . . . . . . . 16
   Appendix A.4. Sublink Modulation Format Compatibility Set  . . . . 17
   Appendix A.5. Signal Dependency Set  . . . . . . . . . . . . . . . 18
   6.  Normative References . . . . . . . . . . . . . . . . . . . . . 19
   Authors' Addresses . . . . . . . . . . . . . . . . . . . . . . . . 20


























Schroetter & Martinelli  Expires September 2, 2010              [Page 3]

Internet-Draft       OSPF Link Information for WSON           March 2010


1.  Introduction

   The current Internet Draft describing the Wavelength Switched Optical
   Network (WSON) information model [I-D.ietf-ccamp-rwa-info] defines
   the links in a WSON network with respect to their connectivity
   matrix, their label restrictions (essentially the set of allowed or
   usable wavelengths) and additional information from the MPLS-TE
   routing protocol extensions for OSPF and IS-IS [RFC3630], [RFC5305]
   along with the GMPLS routing protocols extensions for OSPF and IS-IS
   [RFC4203], [RFC5307].

   At a high level, the information models for WSON described in
   [I-D.ietf-ccamp-rwa-info] and [WSON-Encode] model the connectivity
   through the WSON switching node as well as the connectivity between
   links at a WSON switching node.  The current information model is
   sufficient to describe the structure of a WSON node as well as the
   possible interconnection of wavelengths between links and their local
   processing (e.g. regeneration or wavelength conversion).  This
   document describes extensions to that model and their encoding that
   allow a more granular approach to provide hints to the Routing and
   Wavelength Assignment (RWA) algorithm regarding the placement of
   client signals within a set of available wavelengths and a more
   granular approach towards the association of channels or channel sets
   with Administrative Groups.

1.1.  Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].


2.  Usage Scenarios

   This section provides some usage scenarios of the proposed extension.

2.1.  Client signals that require specific wavelengths on a given link

   Assume a link between two nodes that can carry a specific client
   signal type (identified by the modulation format of the client
   signal) only on a specific subset of the supported wavelengths of
   that link.  This restriction may be due to the optical parameters of
   the link or administrative preference of the operator.

   In a setup as shown in Figure 1 the physical link may only support
   40G on wavelength #3 (denoted as WL3).  The document defines
   extensions to the OSPF Link TLV that allow the logical partitioning
   of the link into two sub-links.  Hints to the Routing and Wavelength



Schroetter & Martinelli  Expires September 2, 2010              [Page 4]

Internet-Draft       OSPF Link Information for WSON           March 2010


   Assignment (RWA) algorithm on where to place a client signal using a
   10G vs. 40G modulation format can then be provided through the use of
   the Sublink Modulation Format Compatibility Set sub-TV (see
   Section 3.2) and the Sublink Administrative Group sub-TLV (see
   Section 3.4).

      -------------------------          ------+------------------
               +------+                        |  +------+
        L      | WL 1 |                    L   |  | WL 1 |
               +------+                        |  +------+
                                               |
               +------+                        |  +------+
        I      | WL 2 |                    I   |  | WL 2 |   Sublink 1
               +------+                        |  +------+   for 10G
                                               |
               +------+                        |  +------+
        N      | WL 3 |                    N   |  | WL 4 |
               +------+                        |  +------+
                                               +------------------
               +------+                        |  +------+
        K      | WL 4 |                    K   |  | WL 3 |  Sublink 2
               +------+                        |  +------+  for 40G
      -------------------------          ------+------------------

          Figure 1: 40G Client Signal may only be carried on WL3

2.2.  Wavelengths reserved for specific uses

   Assume a link between two nodes where the operator wants to reserve a
   number of wavelengths for a specific purpose.  Such purposes may
   include these wavelengths being available to the RWA algorithm only
   for backup purposes or being only available to client signals that
   require wavelength conversion or regeneration.  Such preferences and
   restrictions on the usage of wavelengths can be described using the
   Administrative Group concept when the Administrative Group is
   associated with a sublink.

   In a setup as shown in Figure 2 assume that wavelength #4 (WL4) may
   only be used for 40G signals that belong to a specific Administrative
   Group (AG=3 in this example).  This restriction may be due to policy
   choice by the operator or due to structural restrictions in the node
   itself (e.g. access to wavelength converters).  In such cases, the
   hints to the Routing and Wavelength Assignment (RWA) algorithm on
   where to place a client signal can then be provided through the use
   of the Sublink Modulation Format Compatibility Set sub-TV (see
   Section 3.2) and the Sublink Administrative Group sub-TLV (see
   Section 3.4).




Schroetter & Martinelli  Expires September 2, 2010              [Page 5]

Internet-Draft       OSPF Link Information for WSON           March 2010


     -------------------------          ------+------------------
              +------+                        |  +------+
       L      | WL 1 |                    L   |  | WL 1 |
              +------+                        |  +------+  Sublink 1
                                              |            for 10G
              +------+                        |  +------+  with AG=1
       I      | WL 2 |                    I   |  | WL 2 |
              +------+                        |  +------+
                                              +------------------
              +------+                        |  +------+
       N      | WL 3 |                    N   |  | WL 3 |  Sublink 2
              +------+                        |  +------+  for 40G AG=2
                                              +------------------
              +------+                        |  +------+
       K      | WL 4 |                    K   |  | WL 4 |  Sublink 3
              +------+                        |  +------+  for AG=3
     -------------------------          ------+------------------

            Figure 2: Client Signal may only be carried on WL3

2.3.  Wavelength Availability based on adjacent channel usage

   In some cases the placement of a client signal may depend on the
   modulation format of a signal in an adjacent channel or a client
   signal of a specific set of modulation formats requires a number of
   adjacent channels not to be in use.  Assume a link that supports four
   channels at a given channel spacing when using a 10G modulation
   format. 40G signals are also supported, but the modulation format
   requires or the operator mandates that the adjacent channels must not
   be in use if a channel carries a 40G signal.  Such dependencies can
   be expressed using the Signal Dependency sub-TLV (see Section 3.3).


3.  Link Information

   The Link TLV describes a single link with respect to the available
   bandwidth and any administrative or signal-related restrictions on
   the wavelength use.  It is constructed of a number of sub-TLVs which
   may appear in the TLV in any order.  The Link TLV MUST contain
   exactly one Link Wavelength Set sub-TLV for each sublink.  At least
   one Wavelength Set sub-TLV MUST be present in the Link TLV.  All
   other sub-TLVs described in this document are OPTIONAL.

   The following sub-TLVs of the Link TLV are defined:

      TBD - Sublink Wavelength Set





Schroetter & Martinelli  Expires September 2, 2010              [Page 6]

Internet-Draft       OSPF Link Information for WSON           March 2010


      TBD - Sublink Modulation Format Compatibility Set

      TBD - Signal Dependency Set

      TBD - Sublink Administrative Group

   This document introduces the concept of logical sublinks within a
   physical link connecting two nodes.  A sublink is uniquely identified
   through the tuple (Link ID, Sublink ID).  Sublink IDs MUST be unique
   on a per-link basis.

   The Link TLV can be represented through a RBNF in the following way:

   <WSON_LINK_TLV> ::= [ <Sublink Definition> ]

   Where the <Sublink Definition> consist of a variable set of sub-TLV
   associated with a sublink.


   <Sublink Definition> ::= <SL_WL_SET> [ <SL_WL_SET> ...]
                    [ <SL_FORMAT_COMPAT> ]  [ <SL_SIGNAL_DEP> ]
                    [ <SL_ADMIN_GROUP> ]

   The objects composing <Sublink Definition> are the sub-TLV defined
   along this section.

3.1.  Sublink Wavelength Set sub-TLV

   The Link wavelength set sub-TLV specifies the wavelengths that this
   link can support and any restrictions on the usage of these
   wavelengths from administrative choice by the operator or signal
   compatibility of the client signal with respect to a set of
   wavelengths.

   The Link wavelength sub-TLV has the following format:

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Sublink ID  |    Encoding   |          Reserved             |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   :                    Wavelength Descriptor                      :
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                 Figure 3: Sublink Wavelength Set sub-TLV






Schroetter & Martinelli  Expires September 2, 2010              [Page 7]

Internet-Draft       OSPF Link Information for WSON           March 2010


      Sublink ID: 8 bits

          0x00 - Reserved

          0x01 ... 0xFE - Sublink ID

              Unique identifier for the wavelength set.  This identifier
              is unique on a per-link basis.

          0xFF - reserved

      Encoding: 8 bits

          0x00 - Reserved

          0x01 - Label Sets

              Wavelength Set encoding based on Label Sets per
              Section 3.1.1.  The format of the labels follows
              [I-D.ietf-ccamp-gmpls-g-694-lambda-labels].

          0x02 - Label Bitset

              Label Set encoding per []

          0x03 ... 0xFF - reserved

      Reserved: 16 bits

         This field is reserved.  It MUST be set to zero on transmission
         and MUST be ignored on receipt.

      Wavelength Descriptor: variable

         The Wavelength Descriptor identifies the wavelengths being
         available for this sublink.  The format and length depends on
         the encoding format.

   If Encoding is 1 then at least one Label Set with Action set to 0 or
   2 MUST be present in the Link Wavelength Set sub-TLV.  There MAY be
   multiple Label Sets per Link Wavelength Set sub-TLV.  The set of
   available channels on a (Link ID, Sublink ID) tuple is given by the
   set complement of the union of all Label Sets with Action set to 0 or
   2 and the union of all Label Sets with Action set to 1 or 3.







Schroetter & Martinelli  Expires September 2, 2010              [Page 8]

Internet-Draft       OSPF Link Information for WSON           March 2010


3.1.1.  Label Set

   The encoding of the Label Sets is based on the similar concept
   introduced in [RFC3471].

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |    Action     |    Reserved   |             Length            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                          Wavelength 1                         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   :                               :                               :
   :                               :                               :
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                          Wavelength N                         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


                            Figure 4: Label Set

      Action : 8 bits

         0 - Inclusive List

            Indicates that the object contains one or more wavelength
            elements that are included in the Label Set.

         1 - Exclusive List

            Indicates that the object contains one or more wavelength
            elements that are excluded from the Label Set.

         2 - Inclusive Range

            Indicates that the object contains a range of labels that
            are included in the Label Set. The object/TLV contains two
            wavelength elements.  The first element indicates the start
            of the range.  The second element indicates the end of the
            range.

         3 - Exclusive Range

            Indicates that the object contains a range of labels that
            are excluded from the Label Set. The object/TLV contains two
            wavelength elements.  The first element indicates the start
            of the range.  The second element indicates the end of the
            range.



Schroetter & Martinelli  Expires September 2, 2010              [Page 9]

Internet-Draft       OSPF Link Information for WSON           March 2010


      Reserved: 8 bits

         This field is reserved.  It MUST be set to zero on transmission
         and MUST be ignored on receipt.

      Length: 16 bits

         Length in octets of this Label Set

      Wavelength: 32 bits

         The wavelength represents the individual channel to be included
         in or excluded from the list of available channels (if Action
         is 0 or 1) or the start or end of the channel range (If Action
         is 2 or 3).  If Action is 2 or 3 exactly two wavelength entries
         MUST be present.  If Action is 0 or 1 there MUST be at least
         one Wavelength element.

         The encoding of the wavelength field follows
         [I-D.ietf-ccamp-gmpls-g-694-lambda-labels]

3.2.  Sublink Modulation Format Compatibility Set

   The OPTIONAL Sublink Modulation Format Compatibility Set sub-TLV
   carries the list of acceptable modulation formats for any wavelength
   in the sublink.

   The Wavelength Set Modulation Format Compatibility Set has the
   following format:

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  Sublink ID   |     Encoding  |          Reserved             |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                         Modulation Type 1                     |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   :                         Modulation Type N                     :
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                    Figure 5: Sublink Modulation Format

      Sublink ID: 8 bits

          0x00 - Reserved






Schroetter & Martinelli  Expires September 2, 2010             [Page 10]

Internet-Draft       OSPF Link Information for WSON           March 2010


          0x01 ... 0xFE - Sublink ID

              Unique identifier for the wavelength set.  This identifier
              is unique on a per-link basis.

          0xFF - Reserved

      Encoding: 8 bits

         0x00 - Reserved

         0x01 - Encoding using modulation type per [WSON-Encode].

         0x02-0xFF - Reserved

      Reserved: 16 bits

         This field is reserved.  It MUST be set to zero on transmission
         and MUST be ignored on receipt.

      Modulation Type 1..N: variable

         List of acceptable modulation formats for the wavelengths in
         this sublink per [WSON-Encode].

   Currently, the only modulation format specification is the one
   described in [WSON-Encode].  Additional encoding mechanisms for
   signal compatibility may be defined in the future.

3.3.  Signal Dependency sub-TLV

   This OPTIONAL sub-TLV indicates a wavelength blocking of adjacent
   wavelengths based upon the modulation format of a client signal
   around that client signal's center wavelength.  The Signal Dependency
   sub-TLV has the following format:

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                       Modulation Type                         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Grid |  C.S  | Lower Excursion |Grid |  C.S  | Upper Excursion |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                    Figure 6: Signal Dependency sub-TLV






Schroetter & Martinelli  Expires September 2, 2010             [Page 11]

Internet-Draft       OSPF Link Information for WSON           March 2010


      Modulation Type: variable

         Specifies the modulation type for which wavelength blocking of
         adjacent wavelengths around the client signal's center
         frequency shall be used.  The format of the Modulation Type
         follows [WSON-Encode].

      Grid: 3 bits

          0 - Reserved

          1 - ITU-T DWDM

          2 - ITU-T CDWDM

          3 .. 7 - Reserved

      C.S (channel spacing): 4 bits

          0 - Reserved

          1 - 100 GHz

          2 - 50 GHz

          3 - 25 GHz

          4 - 12.5 GHz

          5 .. 15 - Reserved

      Lower Excursion: 9 bits

         Specifies the excursion from the client signal's center
         wavelength towards the lower frequencies.  For DWDM links the
         lower boundary of the signal dependency wavelength range is
         given by center frequency - Lower Excursion * Channel Spacing.
         A value of 0 indicates no excursion towards the lower
         frequencies.

      Upper Excursion: 9 bits

         Specifies the excursion from the client signal's center
         wavelength towards the higher frequencies.  For DWDM links the
         upper boundary of the signal dependency wavelength range is
         given by center frequency + Lower Excursion * Channel Spacing.
         A value of 0 indicates no excursion towards the higher
         frequencies.



Schroetter & Martinelli  Expires September 2, 2010             [Page 12]

Internet-Draft       OSPF Link Information for WSON           March 2010


   This optional sub-TLV defines a lambda range of

   [Lower Excursion * Channel Spacing,Upper Excursion * Channel Spacing]
   for DWDM and

   [Lower Excursion * 20 nm,Upper Excursion * 20 nm] for CWDM

   which can not be used around a signal's center wavelength or center
   frequency if that signal uses the modulation format specified in the
   sub-TLV.

3.4.  Sublink Administrative Group sub-TLV

   The OPTIONAL Administrative Group sub-TLV carries the Administrative
   Group for the sublink identified in this sub-TLV.  The sub-TlV has
   the following format:

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Sublink ID  |                 Reserved                      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                       Administrative Group                    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                  Figure 7: Administrative Group sub-TLV

      Sublink ID: 8 bits

          0x00 - Reserved

          0x01 ... 0xFE - Sublink ID

              Unique identifier for the wavelength set.  This identifier
              is unique on a per-link basis.

          0xFF - reserved

      Reserved: 24 bits

         This field is reserved.  It MUST be set to zero on transmission
         and MUST be ignored on receipt.

      Administrative Group: 32 bits







Schroetter & Martinelli  Expires September 2, 2010             [Page 13]

Internet-Draft       OSPF Link Information for WSON           March 2010


         This field contains the Administrative Group associated with
         the identified Sublink ID.  The format of this field is defined
         in Section 2.5.9 of [RFC3630]


4.  IANA Considerations

   As per [RFC3630] all Type assignments for sub-TLVs need to be made
   through IANA.  This document requests Type assignments for the sub-
   TLVs described in Section 3.


5.  Security Considerations

   This document does not introduce any further security issues above
   and beyond those discussed in [RFC3630] and [RFC4203].


Appendix A.  Usage Examples

   The appendix shows some of the use cases of the Link Extensions
   described in this document.

Appendix A.1.  Simple set of wavelengths

   This example shows the encoding for a WSON link carrying a single
   sublink.  The wavelengths available on this link are the channels at
   the frequencies between 192.0 THz (1561.41 nm) and 195.9 THz (1530.33
   nm) using 100 GHz grid spacing.

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Sublink ID= 1 |   Encoding=1  |        Reserved=0             |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Action=2    |  Reserved=0   |          Length               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | G=1 | C.S=1 |   Reserved=0    |         n = -11               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | G=1 | C.S=1 |   Reserved=0    |         n = 28                |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

          Figure 8: Link Wavelength Set sub-TLV Encoding Example

   The encoding defines a sublink with the ID 1 and the encoding uses
   Label Sets.  The Label Set is specified using an inclusive Range
   (Action=2).  The next four octets specify the starting frequency of
   the wavelength band using the DWDM Grid (G=1) and the grid spacing of



Schroetter & Martinelli  Expires September 2, 2010             [Page 14]

Internet-Draft       OSPF Link Information for WSON           March 2010


   100 GHz (C.S=1).  The n field contains the offset in 100 GHz steps
   from 193.1 THz ((192.0 - 193.1) / 0.1).  The following four octets
   encode the end frequency of the wavelength band in a similar manner.

Appendix A.2.  Simple set of wavelengths with exclusions

   This example shows the encoding for a WSON link carrying a single
   sublink.  The wavelengths available on this link are the channels at
   the frequencies between 192.0 THz (1561.41 nm) and 195.9 THz (1530.33
   nm) using 100 GHz grid spacing as before but the link uses a guard
   channel at every fifth channel of the 100 GHz grid ("four-skip-one").

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Sublink ID= 1 |   Encoding=1  |        Reserved=0             |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Action=2    |  Reserved=0   |          Length               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | G=1 | C.S=1 |   Reserved=0    |         n = -11               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | G=1 | C.S=1 |   Reserved=0    |         n = 28                |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Action=1    |  Reserved=0   |          Length               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | G=1 | C.S=1 |   Reserved=0    |         n = -6                |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | G=1 | C.S=1 |   Reserved=0    |         n = -1                |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | G=1 | C.S=1 |   Reserved=0    |         n = 4                 |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | G=1 | C.S=1 |   Reserved=0    |         n = 9                 |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | G=1 | C.S=1 |   Reserved=0    |         n = 14                |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | G=1 | C.S=1 |   Reserved=0    |         n = 19                |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | G=1 | C.S=1 |   Reserved=0    |         n = 24                |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   Figure 9: Link Wavelength Set sub-TLV Encoding Example with excluded
                                wavelengths

   The base encoding follows the previous example, but this time a list
   of excluded wavelengths (Action = 1) follows the definition of the
   included range of wavelengths (Action=2).  In this example the
   wavelengths at the center frequencies of 192.5, 193.0, 193.5, 194.0,
   194.5 and 195.5 THz are excluded from the list of available



Schroetter & Martinelli  Expires September 2, 2010             [Page 15]

Internet-Draft       OSPF Link Information for WSON           March 2010


   wavelengths for this sublink.

Appendix A.3.  Multiple sublinks per link

   An operator may want to logically subdivide the set of available
   wavelengths for reasons of signal compatibility with only a specific
   subset of wavelengths on a given link, general traffic conditioning
   preferences or other policy choices.  In order to allow the RWA
   algorithm to honor such restrictions the link can be logically
   subdivided into sublinks that may have different Modulation format
   compatibility TLVs or Administrative Groups associated with them.  In
   this example, sublink 1 carries the channels with center frequencies
   between 192.0 THz and 194.1 THz using a 50 GHz grid and sublink 2
   contains the channels with center frequencies between 194.2 and 195.9
   THz in a 100 GHz grid spacing.  This change in grid spacing may be
   due to signal compatibility when sublink 2 is used for LSPs using a
   different modulation format than the ones using sublink 1.

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Sublink ID= 1 |   Encoding=1  |        Reserved=0             |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Action=2    |  Reserved=0   |          Length               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | G=1 | C.S=2 |   Reserved=0    |         n = -22               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | G=1 | C.S=2 |   Reserved=0    |         n = 20                |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

         Figure 10: Multiple Wavelength Sets per Link - Sublink 1


    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Sublink ID= 2 |   Encoding=1  |        Reserved=0             |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Action=2    |  Reserved=0   |          Length               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | G=1 | C.S=1 |   Reserved=0    |         n = 11                |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | G=1 | C.S=1 |   Reserved=0    |         n = 28                |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

         Figure 11: Multiple Wavelength Sets per Link - Sublink 2

   Now that the channels logically belong to different sublinks, the



Schroetter & Martinelli  Expires September 2, 2010             [Page 16]

Internet-Draft       OSPF Link Information for WSON           March 2010


   Sublink Modulation Format Compatibility Set and Sublink
   Administrative Group can be used to provide hints to the RWA
   algorithm on which channels to consider for traffic using a specific
   modulation format or requesting a specific Administrative Group.

Appendix A.4.  Sublink Modulation Format Compatibility Set

   After defining the two sublinks as per the previous example, one may
   use the Sublink Modulation Format Compatibility Set TLV to provide
   hints to the RWA algorithm that a specific client types using a set
   of modulation formats should be use channels of a specific sublink.

   In this example, the channels in sublink 1 can carry client signals
   using the following modulation formats:

      Optical Tributary Signal Class NRZ 2.5G

      Optical Tributary Signal Class NRZ 10G

   The corresponding encoding is as follows:

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Sublink ID=1|  Encoding=1     |       Reserved                |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |1|1|      Modulation ID=2        |           Length            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Possible additional modulation parameters depending upon    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   :   the modulation ID                                           :
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |1|1|      Modulation ID=3        |           Length            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Possible additional modulation parameters depending upon    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   :   the modulation ID                                           :
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

             Figure 12: Sublink Modulation Format - Sublink 1

   Sublink 2 however should be used for the following modulation format:

      Optical Tributary Signal Class NRZ 40G

   Which is encoded as follows:





Schroetter & Martinelli  Expires September 2, 2010             [Page 17]

Internet-Draft       OSPF Link Information for WSON           March 2010


    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Sublink ID=2| Encoding = 1    |           Reserved            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |1|1|      Modulation ID=4        |           Length            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Possible additional modulation parameters depending upon    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   :   the modulation ID                                           :
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

             Figure 13: Sublink Modulation Format - Sublink 2

Appendix A.5.  Signal Dependency Set

   In some cases a link may carry clients of a particular modulation
   type at a Grid spacing of 50 GHz but it may require a different
   spacing when a different modulation format is used.  In that case a
   channel at center frequency x "blocks" other frequencies around its
   center frequency.

   In this example, assume a sublink that can carry client signals at a
   50 GHz spacing when the modulation format is "Optical Tributary
   Signal Class NRZ 10G" and all channels can also carry client signals
   using the "Optical Tributary Signal Class NRZ 40G" modulation format.
   If a channel is using this modulation format, the two adjacent
   channels may not be used.  This information can be used by the RWA
   algorithm to select the correct spacing of a new "Optical Tributary
   Signal Class NRZ 40G" signal and mark its adjacent channels as
   "unusable".

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |1|1|      Modulation ID=4        |           Length            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Possible additional modulation parameters depending upon    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   :   the modulation ID                                           :
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | G=1 | C.S=2 |   Lower Exc=1   | G=1 | C.S=2 |   Upper Exc=1   |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

               Figure 14: Signal Dependency sub-TLV Example






Schroetter & Martinelli  Expires September 2, 2010             [Page 18]

Internet-Draft       OSPF Link Information for WSON           March 2010


6.  Normative References

   [G.694.1]  "Spectral Grids for DWDM applications: DWDM frequency
              grid", ITU-T Recommendation G.694.1, June 2002, <ITU-T
              G.694.2>.

   [I-D.ietf-ccamp-gmpls-g-694-lambda-labels]
              Otani, T., Tsuritani, T., Li, D., Rabbat, R., Shiba, S.,
              Guo, H., Miyazaki, K., and D. Caviglia, "Generalized
              Labels for Lambda-Switching Capable Label Switching
              Routers", draft-ietf-ccamp-gmpls-g-694-lambda-labels-05
              (work in progress), December 2009.

   [I-D.ietf-ccamp-rwa-info]
              Bernstein, G., Lee, Y., Li, D., and W. Imajuku, "Routing
              and Wavelength Assignment Information Model for Wavelength
              Switched Optical Networks", draft-ietf-ccamp-rwa-info-07
              (work in progress), February 2010.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC3471]  Berger, L., "Generalized Multi-Protocol Label Switching
              (GMPLS) Signaling Functional Description", RFC 3471,
              January 2003.

   [RFC3630]  Katz, D., Kompella, K., and D. Yeung, "Traffic Engineering
              (TE) Extensions to OSPF Version 2", RFC 3630,
              September 2003.

   [RFC4203]  Kompella, K. and Y. Rekhter, "OSPF Extensions in Support
              of Generalized Multi-Protocol Label Switching (GMPLS)",
              RFC 4203, October 2005.

   [RFC5305]  Li, T. and H. Smit, "IS-IS Extensions for Traffic
              Engineering", RFC 5305, October 2008.

   [RFC5307]  Kompella, K. and Y. Rekhter, "IS-IS Extensions in Support
              of Generalized Multi-Protocol Label Switching (GMPLS)",
              RFC 5307, October 2008.

   [WSON-Encode]
              Bernstein, G., Lee, Y., Li, D., and W. Imajuku, "Routing
              and Wavelength Assignment Information Encoding for
              Wavelength Switched Optical Networks", February 2010, <htt
              ps://datatracker.ietf.org/doc/
              draft-ietf-ccamp-rwa-wson-encode/>.




Schroetter & Martinelli  Expires September 2, 2010             [Page 19]

Internet-Draft       OSPF Link Information for WSON           March 2010


Authors' Addresses

   Dirk Schroetter (editor)
   Cisco Systems
   Neuer Wall 77
   Hamburg,   D-20354
   Germany

   Phone: +49 40 3767-4402
   Email: dschroet@cisco.com


   Giovanni Martinelli
   Cisco Systems
   Via Philips 12
   Monza,   20052
   Italy

   Phone: +39 039 209-2044
   Email: giomarti@cisco.com































Schroetter & Martinelli  Expires September 2, 2010             [Page 20]


