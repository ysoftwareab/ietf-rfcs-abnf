



Sipcore                                                        R. Jesske
Internet-Draft                                          Deutsche Telekom
Updates: 3326 (if approved)                               March 13, 2019
Intended status: Standards Track
Expires: September 14, 2019


     ISUP Cause Location Parameter for the SIP Reason Header Field
               draft-ietf-sipcore-reason-q850-loc-07.txt

Abstract

   The SIP Reason header field is defined for carrying ISUP (Integrated
   Services Digital Network User Part) cause values as well as SIP
   response codes.  Some services in SIP networks may need to know the
   ISUP location where the call was released in the PSTN network to
   correctly interpret the reason of release.  This document will update
   RFC3326.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on September 14, 2019.

Copyright Notice

   Copyright (c) 2019 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of



Jesske                 Expires September 14, 2019               [Page 1]

Internet-Draft       ISUP Release Location Parameter          March 2019


   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   2
   3.  Rationale . . . . . . . . . . . . . . . . . . . . . . . . . .   3
   4.  Mechanism . . . . . . . . . . . . . . . . . . . . . . . . . .   3
   5.  Example . . . . . . . . . . . . . . . . . . . . . . . . . . .   4
   6.  Privacy Considerations  . . . . . . . . . . . . . . . . . . .   5
   7.  Security Considerations . . . . . . . . . . . . . . . . . . .   5
   8.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   6
     8.1.  Registration of location Parameter for Reason header
           field . . . . . . . . . . . . . . . . . . . . . . . . . .   6
   9.  Acknowledgments . . . . . . . . . . . . . . . . . . . . . . .   6
   10. Normative References  . . . . . . . . . . . . . . . . . . . .   6
   Author's Address  . . . . . . . . . . . . . . . . . . . . . . . .   7

1.  Introduction

   The SIP Reason header field specification [RFC3326] describes a SIP
   header field that is used to indicate that a SIP request is carrying
   the reason of release.  The reason of release indicates why a SIP
   Dialog or a PSTN call, in case where the call was interworked to the
   PSTN, was terminated.  This may be a normal termination or a
   termination based on a failure within an entity or other reasons like
   congestion.  The reason may be an SIP response or ISUP release cause
   as specified within [Q.850].  [RFC6432] specifies that a ISUP [Q.850]
   cause code can be carried within a SIP response, but not the Q.850
   location information.  The [Q.850] location information identifies
   the part of the ISUP network where the call was released.

   This document adds a location value parameter to the reason-extension
   parameter in [RFC3326] so that the [Q.850] location value can be
   interworked from the PSTN.  The interworking from PTSN needs only to
   include the location received by the interworking gateway.  [Q.850]
   describes the definition of cause code values and locations used in
   ISDN and DSS1 environment.  The cause code is used for identifying
   the reason of release of a call and the location identifies where the
   call was released.

2.  Terminology

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
   "OPTIONAL" in this document are to be interpreted as described in BCP




Jesske                 Expires September 14, 2019               [Page 2]

Internet-Draft       ISUP Release Location Parameter          March 2019


   14 [RFC2119] [RFC8174] when, and only when, they appear in all
   capitals, as shown here.

3.  Rationale

   The primary intent of the parameter defined in this specification is
   for use in IMS (IP Multimedia Subsystem) networks defined by 3GPP but
   it is also open to be used by any other network that includes ISUP
   interworking gateways and uses Q.850 reason codes.  The purpose of
   this parameter is to transport the location of call release from the
   originating PSTN entity to the SIP entity receiving the response or
   BYE message containing the location of the call release.  The ISDN
   location is defined in [Q.850].

4.  Mechanism

   As defined by [RFC6432] any SIP Response message, with the exception
   of a 100 (Trying), MAY contain a Reason header field with a Q.850
   [Q.850] cause code.

   This specification adds a parameter with the ISUP location value
   defined in [Q.850] to the Reason header field that identifies the
   location of the call release in ISUP.  The location is a 4 bit value
   which reflects the possible locations where an ISUP call is released.
   Some values are spare or reserved for national use.  The Augmented
   BNF (ABNF) [RFC5234] for this parameter is shown in Figure 1.

























Jesske                 Expires September 14, 2019               [Page 3]

Internet-Draft       ISUP Release Location Parameter          March 2019


reason-extension =/ isup-cause-location
isup-cause-location =  "location" EQUAL isup-location-value

   isup-location-value =
      %s"U" /      ; for 0 0 0 0 user
      %s"LPN" /    ; for 0 0 0 1 private network serving the local user
      %s"LN" /     ; for 0 0 1 0 public network serving the local user
      %s"TN" /     ; for 0 0 1 1 transit network
      %s"RLN" /    ; for 0 1 0 0 public network serving the remote user
      %s"RPN" /    ; for 0 1 0 1 private network serving the remote user
      %s"LOC-6" /  ; for 0 1 1 0 spare
      %s"INTL" /   ; for 0 1 1 1 international network
      %s"LOC-8" /  ; for 1 0 0 0 spare
      %s"LOC-9" /  ; for 1 0 0 1 spare
      %s"BI" /     ; for 1 0 1 0 network beyond interworking point
      %s"LOC-11" / ; for 1 0 1 1 spare
      %s"LOC-12" / ; for 1 1 0 0 reserved for national use
      %s"LOC-13" / ; for 1 1 0 1 reserved for national use
      %s"LOC-14" / ; for 1 1 1 0 reserved for national use
      %s"LOC-15"   ; for 1 1 1 1 reserved for national use

                       Figure 1: isup-cause-location

   Note: These are the values defined within [Q.850] as location.  Thus
   other values are not within the scope of this document.

   Depending on whether the message is a request or a response the UAC
   or UAS SHALL include the location parameter when setting up the
   Reason header field with a [Q.850] cause.  This approach is only
   possible in cases when the ISUP [Q.850] location is available.

   The use of the location parameter is restricted to Q850 cause values.
   Other values MUST be ignored if present.

5.  Example

   The following example shows a SIP 404 response message containing a
   Reason header field with a [Q.850] cause value and a isup-cause-
   location value.  The 404 Response will be sent when a gateway
   receives an ISUP Release with a [Q.850] cause set to 1, meaning
   "Unallocated (unassigned) number", i.e., the number is not known in
   the PSTN.









Jesske                 Expires September 14, 2019               [Page 4]

Internet-Draft       ISUP Release Location Parameter          March 2019


         SIP/2.0 404 Not Found
         Via: SIP/2.0/TCP proxy.example.com:5060;branch=z9hG4bKx5st
         Via: SIP/2.0/TCP 192.0.2.3:5060;branch=z9hG4bK4321
         From: Alice <sips:alice@atlanta.example.com>;tag=1234567
         To: Bob <sips:bob@biloxi.example.com>;tag=765432
         Call-ID: 12345600@atlanta.example.com
         CSeq: 1 INVITE
         Reason: Q.850;cause=1;text="Unallocated (unassigned) number";
              location=LN
         Content-Length: 0


            Figure 2: Example Location in Reason header field.

6.  Privacy Considerations

   While the addition of the location parameter does provide an
   indicator of the entity that added the location in the signaling path
   this provides little more exposure than the [Q.850] cause itself.
   The ISUP location value itself will not reveal the identity of the
   originating or terminating party of the call.  It shows only the ISUP
   network location of the device that released the call.  The ISUP
   location does not show show the physical location of the caller or
   callee.

7.  Security Considerations

   This document doesn't change any of the security considerations
   described in [RFC3326].  The addition of the location parameter does
   provide an indicator of the [Q.850] location where the call was
   released within the PSTN.  This information may be used for specific
   location driven services but does not create any additional security
   constrains.  But since the [Q.850] location is very imprecise the
   [Q.850] location value itself will not add any major security
   constraint.  The use of this parameter is not restricted to a
   specific architecture.

   [RFC3398] describes detailed security consideration due to
   interworking between ISUP and SIP.  Beyond these considerations the
   addition of the location does not add additional security concerns.
   The location shows the network part where the call is released.
   Knowing this does not increase the possibilities of extended fraud
   scenarios.








Jesske                 Expires September 14, 2019               [Page 5]

Internet-Draft       ISUP Release Location Parameter          March 2019


8.  IANA Considerations

8.1.  Registration of location Parameter for Reason header field

   This document calls for IANA to register a new SIP header parameter
   as per the guidelines in [RFC3968], which will be added to Header
   Field Parameters sub-registry under http://www.iana.org/assignments/
   sip-parameters.

   Header Field:  Reason

   Parameter Name:  location

   Predefined Values:  yes

   Reference:  RFCXXXX

      Note to RFC Editor: Please replace RFC XXXX with the RFC number of
      this specification.

9.  Acknowledgments

   Thanks to Michael Kreipl, Thoams Belling, Marianne Mohali, Peter
   Daws, Paul Kyzivat, Dale Worley, Yehoshua Gev, Keith Drage for the
   comments and review.

10.  Normative References

   [Q.850]    INTERNATIONAL TELECOMMUNICATION UNION, "Usage of cause and
              location in the Digital Subscriber Signalling System No. 1
              and the Signalling System No. 7 ISDN User Part", Q 850,
              May 1998.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.

   [RFC3326]  Schulzrinne, H., Oran, D., and G. Camarillo, "The Reason
              Header Field for the Session Initiation Protocol (SIP)",
              RFC 3326, DOI 10.17487/RFC3326, December 2002,
              <https://www.rfc-editor.org/info/rfc3326>.

   [RFC3398]  Camarillo, G., Roach, A., Peterson, J., and L. Ong,
              "Integrated Services Digital Network (ISDN) User Part
              (ISUP) to Session Initiation Protocol (SIP) Mapping",
              RFC 3398, DOI 10.17487/RFC3398, December 2002,
              <https://www.rfc-editor.org/info/rfc3398>.



Jesske                 Expires September 14, 2019               [Page 6]

Internet-Draft       ISUP Release Location Parameter          March 2019


   [RFC3968]  Camarillo, G., "The Internet Assigned Number Authority
              (IANA) Header Field Parameter Registry for the Session
              Initiation Protocol (SIP)", BCP 98, RFC 3968,
              DOI 10.17487/RFC3968, December 2004,
              <https://www.rfc-editor.org/info/rfc3968>.

   [RFC5234]  Crocker, D., Ed. and P. Overell, "Augmented BNF for Syntax
              Specifications: ABNF", STD 68, RFC 5234,
              DOI 10.17487/RFC5234, January 2008,
              <https://www.rfc-editor.org/info/rfc5234>.

   [RFC6432]  Jesske, R. and L. Liess, "Carrying Q.850 Codes in Reason
              Header Fields in SIP (Session Initiation Protocol)
              Responses", RFC 6432, DOI 10.17487/RFC6432, November 2011,
              <https://www.rfc-editor.org/info/rfc6432>.

   [RFC8174]  Leiba, B., "Ambiguity of Uppercase vs Lowercase in RFC
              2119 Key Words", BCP 14, RFC 8174, DOI 10.17487/RFC8174,
              May 2017, <https://www.rfc-editor.org/info/rfc8174>.

Author's Address

   Roland Jesske
   Deutsche Telekom
   Heinrich-Hertz Str, 3-7
   Darmstadt  64295
   Germany

   Email: r.jesske@telekom.de
   URI:   www.telekom.de





















Jesske                 Expires September 14, 2019               [Page 7]
