


IS-IS IGP                                                       S. Hegde
Internet-Draft                                                 P. Sarkar
Intended status: Standards Track                              H. Gredler
Expires: September 10, 2015                       Juniper Networks, Inc.
                                                           March 9, 2015


                           ISIS Link Overload
                   draft-hegde-isis-link-overload-00

Abstract

   Many ISIS deployments run on overlay networks provisioned by means of
   pseudo-wires or L2-circuits. when the devices in the underlying
   network go for maintenance, it is useful to divert the traffic away
   from the specific node(s), to some alternate paths, before the
   maintenance is actually scheduled.  Since the nodes in the underlying
   network are not visible to ISIS, existing Avoidance of traffic
   blackhole mechanism described in [RFC3277] cannot be used.  It is
   useful for routers in IS-IS routing domain to be able to advertise a
   link being in overload state to indicate impending maintenance
   activity in the underlying network devices.

   This document describes the protocol extensions to disseminate link
   overload information in IS-IS protocol.

Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].

Status of this Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on September 10, 2015.



Hegde, et al.          Expires September 10, 2015               [Page 1]

Internet-Draft             ISIS link overload                 March 2015


Copyright Notice

   Copyright (c) 2015 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.


Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . . . 3
   2.  ISIS Link overload bit  . . . . . . . . . . . . . . . . . . . . 3
   3.  Elements of procedure . . . . . . . . . . . . . . . . . . . . . 3
     3.1.  Point-to-point links  . . . . . . . . . . . . . . . . . . . 3
     3.2.  Broadcast links . . . . . . . . . . . . . . . . . . . . . . 4
   4.  Backward compatibility  . . . . . . . . . . . . . . . . . . . . 4
   5.  Security Considerations . . . . . . . . . . . . . . . . . . . . 4
   6.  IANA Considerations . . . . . . . . . . . . . . . . . . . . . . 4
   7.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . . . 5
   8.  References  . . . . . . . . . . . . . . . . . . . . . . . . . . 5
     8.1.  Normative References  . . . . . . . . . . . . . . . . . . . 5
     8.2.  Informative References  . . . . . . . . . . . . . . . . . . 5
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . . . 5




















Hegde, et al.          Expires September 10, 2015               [Page 2]

Internet-Draft             ISIS link overload                 March 2015


1.  Introduction

   It is useful for routers in IS-IS routing domain to be able to
   advertise a link being in overload state to indicate impending
   maintenance activity on the link.  This document provides mechanisms
   to advertise link overload state in the Link attributes TLV as
   defined in [RFC5029]


2.  ISIS Link overload bit

   The link-attribute sub-TLV is carried within the TLV 22 and has a
   format identical to the sub-TLV format used by the Traffic
   Engineering Extensions for IS-IS ([RFC3784]): 1 octet of sub-type, 1
   octet of length of the value field of the sub-TLV followed by the
   value field -- in this case, a 16 bit flags field.

   The following bit represents the Link in overload.

   Link Overload: 0x04 When set, this indicates that the link is
   overloaded.


3.  Elements of procedure

   The Link attributes sub TLV with link-overload bit set indicates that
   the Link which carries the sub TLV is overloaded.  The node that has
   the link going for maintenance, sets metric of the link to MAX-METRIC
   and re-originates the LSP.  The metric in the reverse direction also
   need to change to divert the traffic from reverse direction.  The
   node SHOULD originate Link attributes sub TLV and set the overload
   bit and originate the LSP and flood it in the respective IS-IS level.

   When the originator of the Link attributes sub TLV, purges the LSP or
   re-originates it without the Link Overload bit set, the metric on the
   remote node SHOULD be changed back to the original value.

   Based on the link type of the overloaded link, actions listed below
   MAY be taken by the receiver.

3.1.  Point-to-point links

   When a link attributes sub TLV with link overload bit set is received
   for a point-to-point link the receiver SHOULD identify the local link
   which corresponds to the overloaded link and set the metric to MAX-
   METRIC.  Receiver node MUST re-originate the LSP with the changed
   metric and flood into the ISIS level.




Hegde, et al.          Expires September 10, 2015               [Page 3]

Internet-Draft             ISIS link overload                 March 2015


3.2.  Broadcast links

   Broadcast networks in ISIS are represented by a star topology where
   the Designated Intermediate System (DIS) is the central point to
   which all other routers on the broadcast network connect.  As a
   result, routers on the broadcast network advertise only their
   adjacency to the pseudo-node.As a result, routers on the broadcast
   network advertise only their adjacency to the pseudo- node.  Routers
   that do not act as DIS do not advertise adjacencies with each other.
   DIS originates pseudo-node which contains adjacenices with all the
   neighbors.  For the Broadcast links, the MAX-METRIC on the outgoing
   link cannot be changed since all the adjacencies are on same link.
   Setting the link cost to MAX- METRIC would impact paths going via all
   neighbors.

   When a link-attributes sub TLV with link-overload bit set is received
   by the remote end for a broadcast link.


   - If it's non DIS for that link, SHOULD not take any action.

   - If receiving node is DIS for the link, it MUST set the metric from
   the pseudo-node to the originator of the link overload bit to MAX-
   METRIC and MUST re-originate the pseudo-node LSP and flood into the
   ISIS Level.



4.  Backward compatibility

   The mechanism described in the document is fully backward
   compatible.It is required that the originator and receiver of link-
   overload bit understand the extensions defined in this document and
   in case of broadcast links the originator and the DR need to
   understand the extensions.  Other nodes in the network compute based
   on increased metric and hence the feature is backward compatible.


5.  Security Considerations

   This document does not introduce any further security issues other
   than those discussed in [ISO10589] and [RFC1195].


6.  IANA Considerations

   This specification updates one ISIS registry: ISIS Link attributes
   Sub TLV



Hegde, et al.          Expires September 10, 2015               [Page 4]

Internet-Draft             ISIS link overload                 March 2015


   i) 0x04 - Link overload bit


7.  Acknowledgements


8.  References

8.1.  Normative References

   [ISO10589]
              "Intermediate system to Intermediate system intra-domain
              routeing information exchange protocol for use in
              conjunction with the protocol for providing the
              connectionless-mode Network Service (ISO 8473), ISO/IEC
              10589:2002, Second Edition.", Nov 2002.

   [RFC1195]  Callon, R., "Use of OSI IS-IS for routing in TCP/IP and
              dual environments", RFC 1195, December 1990.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC3277]  McPherson, D., "Intermediate System to Intermediate System
              (IS-IS) Transient Blackhole Avoidance", RFC 3277,
              April 2002.

   [RFC3784]  Smit, H. and T. Li, "Intermediate System to Intermediate
              System (IS-IS) Extensions for Traffic Engineering (TE)",
              RFC 3784, June 2004.

   [RFC5029]  Vasseur, JP. and S. Previdi, "Definition of an IS-IS Link
              Attribute Sub-TLV", RFC 5029, September 2007.

8.2.  Informative References


Authors' Addresses

   Shraddha Hegde
   Juniper Networks, Inc.
   Embassy Business Park
   Bangalore, KA  560093
   India

   Email: shraddha@juniper.net





Hegde, et al.          Expires September 10, 2015               [Page 5]

Internet-Draft             ISIS link overload                 March 2015


   Pushpasis Sarkar
   Juniper Networks, Inc.
   Embassy Business Park
   Bangalore, KA  560093
   India

   Email: psarkar@juniper.net


   Hannes Gredler
   Juniper Networks, Inc.
   1194 N. Mathilda Ave.
   Sunnyvale, CA  94089
   US

   Email: hannes@juniper.net



































Hegde, et al.          Expires September 10, 2015               [Page 6]

