ICCRG                                                       Jaehwoon Lee
Internet-Draft                                        Dongguk University
Intended status: Informational                              Chongho Yoon
Expires: July 30, 2020                        Korea Aerospace University
                                                        January 31, 2020



           Gated Adaptive CoDel for Time-Sensitive Network
                     draft-jaehwoon-icc-gacodel-00


Abstract
   
   This draft proposes a gated adaptive CoDel algorithm that can operate
   in the Time-Sensitive Network (TSN) environment. Here, we define
   Virtual sojourn time, virtual Interval and virtaul Target that are
   only operate on non-blocking part of TSN.



Status of this Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on July 30, 2020.

Copyright Notice

   Copyright (c) 2020 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.


 Jaehwoon Lee              Expires July 30, 2020              [Page 1]

Internet-Draft          Gated Adaptive CoDel for TSN       Jan. 31, 2020





Table of Contents



   1.  Introduction.................................................2
   2.  Conventions and Terminology..................................3
     2.1.  Conventions used in this document........................3
     2.2.  Terminology  ............................................3
   3.  Gated adaptive Codel for TSN.................................3
   4.  Security Considerations......................................3
   5.  IANA Considerations..........................................3
   6. References....................................................4
   Author's Address.................................................4



1.  Introduction

   Bufferbloat means that there are excess number of packets stored in
   the buffer in the bottleneck part of the packet-switched network. 
   End-to-end latency, therefore, increases sharply due to the 
   bufferbloat[1]. CoDel AQM is one of the active queue management (AQM) 
   technique used to resolve the bufferbloat problem[2]. When a packet 
   enters the buffer, CoDel records the current time in the packet by 
   using the timestamp and computes the sojourn time on dequeue. Sojourn
   time, together with the initial INTERVAL and TARGET values set by the 
   user, is used to determine whether to discard the packet or not.
   
   Time-sensitive network (TSN) provides the deterministic arrival 
   service without delay for time-sensitive control traffic based on the 
   time triggered scheduling that is synchronized with the Time 
   Triggered Ethernet (TTE)[3-4]. In TSN, time is considered to be 
   slotted. Each slot is further divided into two minislots. The first 
   minislot is used to transmit time-sensitive control traffic. The 
   other is used to transmit asynchronous traffic. In other words, from 
   the point of view of asynchronous traffic, the gate is periodically 
   blocked at the time interval is assigned to the time-sensitive 
   control traffic. TSN provides reasonable scheduling to asynchronous 
   traffic through credit based shaper and strict priority algorithm[5]. 
   However, as the size of the first mini slot gets larger, the 
   bandwidth for asynchronous traffic decreases, and bufferbloat 
   phenomenon worsens . CoDel can resolve the bufferbloat problem that 
   may occur when transmitting the asynchronous traffic in TSN 
   environment. In this case, gated scheduler asks CoDel whether to 
   transmit the packet based on timing and scheduling information. When 
   the packet can be transmitted without being discarded, gated 
   
   
 Jaehwoon Lee              Expires July 30, 2020              [Page 2]

Internet-Draft          Gated Adaptive CoDel for TSN       Jan. 31, 2020
   
   
   scheduler can transmit the packet during the time slot assigned to 
   the asynchronous traffic. Codel decides whether to discard the packet 
   on dequeue. When the gate is blocked, packets can arrive and be 
   stored in the buffer anytime. However, packet that is stored in the 
   buffer cannot be transmitted during the first minislot.  It means 
   that the codel algorithm will not work and stop running when the gate 
   is blocked. Therefore when applying codel to TSN, it is necessary to 
   consider the fact that gate is periodically blocked. 

   In this draft, we propose gated adaptive codel aqm to resolve the 
   bufferbloat problem arising from  asynchronous traffic transmitted 
   during the non-blocking period in the TSN environment.


2.  Conventions and Terminology

2.1.  Conventions

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL","SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [6].

   
2.2 Terminology
   
    TBD


3.  Gated Adaptive CoDel for TSN 

   In this section, we define a virtual time that only operates on the 
   non-blocking period. It is independent of actual time used in the 
   CoDel packet discarding algorithm. Here, packets that arrive during a 
   blocked period are regarded as having arrived at the same time, while 
   the order of arrival is maintained. Virtual sojourn time is defined 
   as the actual sojourn time minus the blocking period. Moreover, the 
   Virtual TARGET and Virtual INTERVAL should be calculated as follows 
   and used in the codel algorithm.
   
   VirtualTARGET = ActualTARGET - GatedBlockingPeriod
   VirtualINTERVAL = ActualINTERVAL * (1-Blocking Period)/Gated Period.

   
4.  Security Considerations

   TBD

5.  IANA Considerations

   TBD
   
 Jaehwoon Lee              Expires July 30, 2020              [Page 3]

Internet-Draft          Gated Adaptive CoDel for TSN       Jan. 31, 2020


6.  References
        
   [1]	G. Jim and K. Nichols, "Bufferbloat: Dark buffers in the 
        Internet", Queue9.11, pp. 40, 2011
        
   [2]	K. Nichols, V. Jacobson, A. McGregor and J. Iyengar, "Controlled 
        Delay Active Queue Management, RFC 8289, Jan. 2018.
        
   [3]	Institute of Electrical and Electronices Engineers, 
        Time-Sensitive Networking Task Group. 
        http://www.ieee802.org/1/pages/tsn.html, 2016.

   [4]  K. Hermann and G. Grunsteidl,"TTP-A time-triggered 
        protocol for fault-tolerant real-time systems", 
        Fault-Tolerant Computing, 1993. FTCS-23. Digest of Papers, 
        The Twenty-Third International Symposium on IEEE, 1993.

   [5] IEEE 802.1 AVB Task Group, "IEEE 802.1Qav - Virtual 
       Bridged Local Area Networks - Amendment: Forwarding and 
       Queuing Enhancements for Time-Sensitive Streams", 2009.

   [6]  Bradner, S., "Key words for use in RFCs to Indicate
        Requirement Levels", BCP 14, RFC 2119, March 1997.


Author's Address

   Jaehwoon Lee 
   Dongguk University
   26, 3-ga Pil-dong, Chung-gu
   Seoul 100-715, KOREA  
   Email: jaehwoon@dongguk.edu


   Chongho Yoon
   Korea Aerospace University
   76, Hanggongdaehak-ro, Deogyang-gu, Goyang-si,
   Gyeonggi-do, 10540, KOREA
   Email: yoonch@kau.ac.kr












 Jaehwoon Lee              Expires July 30, 2020              [Page 4]
