age_value = Age + residency_time
remaining_age = max(MaxAge - age_value, 0)
remaining_expiry = max(ExpiryTime - now, 0)

remaining_life = max(remaining_age, remaining_expiry)

