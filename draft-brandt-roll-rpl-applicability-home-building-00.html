<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Applicability Statement:
    The use of RPL in Building and Home Environments</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Applicability Statement:
    The use of RPL in Building and Home Environments">
<meta name="keywords" content="sensor network, ad hoc network, routing, RPL, applicability, routing, IP networks">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Roll</td><td class="header">A. Brandt</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Sigma Designs</td></tr>
<tr><td class="header">Intended status: Informational</td><td class="header">E. Baccelli</td></tr>
<tr><td class="header">Expires: October 9, 2010</td><td class="header">INRIA</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">R. Cragie</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Gridmerge</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">April 07, 2010</td></tr>
</table></td></tr></table>
<h1><br />Applicability Statement:
    The use of RPL in Building and Home Environments<br />draft-brandt-roll-rpl-applicability-home-building-00</h1>

<h3>Abstract</h3>

<p>
      The purpose of this document is to to provide guidance in the use of
      RPL to provide the features required in building or home environments, two application spaces which share a substantial
      number of requirements. Note that this document refers to a specific
      revision of the RPL draft, and thus, a new revision of the RPL draft
      will likely necessitate a new revision of this document.
         
</p>
<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted  in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF).  Note that other groups may also distribute
working documents as Internet-Drafts.  The list of current
Internet-Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
This Internet-Draft will expire on October 9, 2010.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2010 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents
(http://trustee.ietf.org/license-info) in effect on the date of
publication of this document.  Please review these documents
carefully, as they describe your rights and restrictions with respect
to this document. Code Components extracted from this document must
include Simplified BSD License text as described in Section 4.e of
the Trust Legal Provisions and are provided without warranty as
described in the Simplified BSD License.</p>
<a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#cid1">1.</a>&nbsp;
Introduction<br />
<a href="#problem_statement">2.</a>&nbsp;
Problem Statement <br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor1">2.1.</a>&nbsp;
Risk of undesired long P2P routes <br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor2">2.1.1.</a>&nbsp;
Traffic concentration at the root <br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor3">2.1.2.</a>&nbsp;
Excessive battery consumption in source nodes <br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">2.2.</a>&nbsp;
Risk of delayed route repair <br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor5">2.2.1.</a>&nbsp;
Broken service  <br />
<a href="#anchor6">3.</a>&nbsp;
IANA Considerations<br />
<a href="#anchor7">4.</a>&nbsp;
Security Considerations<br />
<a href="#rfc.references1">5.</a>&nbsp;
Informative References<br />
<a href="#anchor9">Appendix&nbsp;A.</a>&nbsp;
Acknowledgements<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="cid1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>
			The purpose of this document is to to provide guidance in the use of
      RPL <a class='info' href='#RPL-07'>[RPL&#8209;07]<span> (</span><span class='info'>Winter, T. and P. Thubert, &ldquo;RPL: IPv6 Routing Protocol for Low power and Lossy Networks,&rdquo; 2010.</span><span>)</span></a> to provide the features required both by <a class='info' href='#HOME-REQ'>[HOME&#8209;REQ]<span> (</span><span class='info'>Brandt, A., Buron, J., and G. Porcu, &ldquo;Home Automation Routing Requirements in Low Power and Lossy           Networks,&rdquo; 2010.</span><span>)</span></a> and by <a class='info' href='#BUILDING-REQ'>[BUILDING&#8209;REQ]<span> (</span><span class='info'>Martocci, J., De Mil, P., Vermeylen, W., and N. Riou, &ldquo;Building Automation Routing Requirements in Low Power and Lossy Networks,&rdquo; 2010.</span><span>)</span></a> , as these two application spaces share a substantial
      number of requirements. Note that this document refers to a specific
      revision of the RPL draft, and thus, a new revision of the RPL draft
      will likely necessitate a new revision of this document. RPL provides
      multipoint-to-point (MP2P) paths from sensors to a sink, along a DAG; an
      advanced tree structure for organising network nodes in a loop-free
      topology with backup routes and potential support for policy-based
      routing. The root of the DAG is the sink, and sensors discover and
      maintain the DAG via the dissemination of DIO signaling, initiated by
      the root. Conversely, RPL provides point-to-multippoint (P2MP) paths
      from the root to nodes along the same DAG. RPL also provide
      point-to-point (P2P) paths from node to node, through the first ancestor
      along the DAG, that is common to both source and destination nodes. Such
      paths are discovered and maintained via DAO signaling, initiated by the
      destination node.

</p>
<a name="problem_statement"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Problem Statement </h3>

<p>Several features required by <a class='info' href='#HOME-REQ'>[HOME&#8209;REQ]<span> (</span><span class='info'>Brandt, A., Buron, J., and G. Porcu, &ldquo;Home Automation Routing Requirements in Low Power and Lossy           Networks,&rdquo; 2010.</span><span>)</span></a> and by <a class='info' href='#BUILDING-REQ'>[BUILDING&#8209;REQ]<span> (</span><span class='info'>Martocci, J., De Mil, P., Vermeylen, W., and N. Riou, &ldquo;Building Automation Routing Requirements in Low Power and Lossy Networks,&rdquo; 2010.</span><span>)</span></a>
      challenge the P2P paths provided by RPL <a class='info' href='#RPL-07'>[RPL&#8209;07]<span> (</span><span class='info'>Winter, T. and P. Thubert, &ldquo;RPL: IPv6 Routing Protocol for Low power and Lossy Networks,&rdquo; 2010.</span><span>)</span></a>. This section reviews these challenges. In some cases, a sensor may need to spontaneously initiate the discovery and mainten of a path towards a desired
      destination that is neither the root of a DAG, nor a destination
      originating DAO signaling. This feature is absent from the RPL for now.
      Furthermore, provided P2P paths are not satisfactory in some cases
      because they involve too many intermediate sensors before reaching
      destination, which may be an issue in terms of energy or delay
      constraints. RPL does not provide a mechanism for discovering and
      maintaining more efficient alternative P2P paths when they are
      available. These deficiencies call for the specification, within RPL, of
      complementary mechanisms which will help alleviate the challenges
      described below.
</p>
<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.1"></a><h3>2.1.&nbsp;
Risk of undesired long P2P routes </h3>

<p>The DAG, being a tree structure is formed from a root. If nodes
        residing in different branches have a need for communicating
        internally, DAG mechanisms provided in RPL <a class='info' href='#RPL-07'>[RPL&#8209;07]<span> (</span><span class='info'>Winter, T. and P. Thubert, &ldquo;RPL: IPv6 Routing Protocol for Low power and Lossy Networks,&rdquo; 2010.</span><span>)</span></a> will propagate traffic
        towards the root, potentially all the way to the root, and down along
        another branch. In a typical example two nodes could reach each other
        via just two router nodes but in unfortunate cases, RPL <a class='info' href='#RPL-07'>[RPL&#8209;07]<span> (</span><span class='info'>Winter, T. and P. Thubert, &ldquo;RPL: IPv6 Routing Protocol for Low power and Lossy Networks,&rdquo; 2010.</span><span>)</span></a> may send
        traffic three hops up and three hops down again. This leads to several
        undesired phenomena described in the following sections
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.1.1"></a><h3>2.1.1.&nbsp;
Traffic concentration at the root </h3>

<p>If many P2P data flows have to move up towards the root to get
          down again in another branch there is an increased risk of
          congestion the nearer to the root of the DAG the data flows. Due to
          the broadcast nature of RF systems any child node of the root is not
          just directing RF power downwards its subtree but just as much
          upwards towards the root; potentially jamming other MP2P traffic
          leaving the tree or preventing the root of the DAG from sending P2MP
          traffic into the DAG because the listen-before-talk link-layer
          protection kicks in.
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.1.2"></a><h3>2.1.2.&nbsp;
Excessive battery consumption in source nodes </h3>

<p>Battery-powered nodes originating P2P traffic depend on the route
          length. Long routes cause source nodes to stay awake for longer
          periods before returning to sleep. Thus, a longer route translates
          proportionally (more or less) into higher battery consumption.
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.2"></a><h3>2.2.&nbsp;
Risk of delayed route repair </h3>

<p>The RPL DAG mechanism uses DIO and DAO messages to monitor the
        health of the DAG. In rare occasions, changed radio conditions may
        render routes unusable just after a destination node has returned a
        DAO indicating that the destination is reachable. Given enough time,
        the next Trickle timer-controlled DIODAO update will eventually repair
        the broken routes. In a worst-case event this is however too late. In
        an apparently stable DAG, Trickle-timer dynamics may reduce the update
        rate to a few times every hour. If a user issues an actuator command,
        e.g. light on in the time interval between the last DAO message was
        issued the destination module and the time one of the parents sends
        the next DIO, the destination cannot be reached. Nothing in RPL <a class='info' href='#RPL-07'>[RPL&#8209;07]<span> (</span><span class='info'>Winter, T. and P. Thubert, &ldquo;RPL: IPv6 Routing Protocol for Low power and Lossy Networks,&rdquo; 2010.</span><span>)</span></a>
        kicks in to restore connectivity in a reactive fashion. The
        consequence is a broken service in home and building applications.
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.2.1"></a><h3>2.2.1.&nbsp;
Broken service  </h3>

<p>Experience from the telecom industry shows that if the voice
          delay exceeds 250ms users start getting confused, frustrated andor
          annoyed. In the same way, if the light does not turn on within the
          same period of time, a home control user will activate the controls
          again, causing a sequence of commands such as
          Light{on,off,off,on,off,..} or Volume{up,up,up,up,up,...} Whether
          the outcome is nothing or some unintended response this is
          unacceptable. A controlling system must be able to restore
          connectivity to recover from the error situation. Waiting for an
          unknown period of time is not an option. While this issue was
          identified during the P2P analysis it applies just as well to
          application scenarios where an IP application outside the LLN
          controls actuators, lights, etc.
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
IANA Considerations</h3>

<p>
				This document has no actions for IANA.
			
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Security Considerations</h3>

<p> This document does not have to any security considerations.
    
</p>
<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>5.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="HOME-REQ">[HOME-REQ]</a></td>
<td class="author-text">Brandt, A., Buron, J., and G. Porcu, &ldquo;Home Automation Routing Requirements in Low Power and Lossy
          Networks,&rdquo; draft-ietf-roll-home-routing-reqs-11&nbsp;, 2010.</td></tr>
<tr><td class="author-text" valign="top"><a name="BUILDING-REQ">[BUILDING-REQ]</a></td>
<td class="author-text">Martocci, J., De Mil, P., Vermeylen, W., and N. Riou, &ldquo;Building Automation Routing Requirements in Low Power and Lossy Networks,&rdquo; draft-ietf-roll-building-routing-reqs-09&nbsp;, 2010.</td></tr>
<tr><td class="author-text" valign="top"><a name="RPL-07">[RPL-07]</a></td>
<td class="author-text">Winter, T. and P. Thubert, &ldquo;RPL: IPv6 Routing Protocol for Low power and Lossy Networks,&rdquo; draft-ietf-roll-rpl-07&nbsp;, 2010.</td></tr>
</table>

<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A"></a><h3>Appendix A.&nbsp;
Acknowledgements</h3>

<p>
				This document reflects discussions and remarks from several individuals including (in alphabetical order): Mukul Goyal, Jerry Martocci, Charles Perkins, and Zach Shelby.
			
</p>
<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Anders Brandt</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Sigma Designs</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:abr@sdesigns.dk">abr@sdesigns.dk</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Emmanuel Baccelli</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">INRIA</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:Emmanuel.Baccelli@inria.fr">Emmanuel.Baccelli@inria.fr</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Robert Cragie</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Gridmerge</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:robert.cragie@gridmerge.com">robert.cragie@gridmerge.com</a></td></tr>
</table>
</body></html>
