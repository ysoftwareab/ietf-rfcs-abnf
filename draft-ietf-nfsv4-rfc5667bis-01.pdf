%PDF-1.3
%‚„œ”
2 0 obj
<<
/Length 2545
>>
stream
BT
/TT2 1 Tf
10 0 0 10 81 709 Tm
0 g
/GS1 gs
0 Tc
0 Tw
(Network File System Version 4                              C. Lever, Ed.)Tj
0 -1.1 TD
(Internet-Draft                                                    Oracle)Tj
T*
(Obsoletes: 5667 \(if approved\)                              June 30, 2016)Tj
T*
(Intended status: Standards Track)Tj
T*
(Expires: January 1, 2017)Tj
0 -3.3 TD
(     Network File System \(NFS\) Upper Layer Binding To RPC-Over-RDMA)Tj
0 -1.1 TD
(                     draft-ietf-nfsv4-rfc5667bis-01)Tj
0 -2.2 TD
(Abstract)Tj
T*
(   This document specifies the Upper Layer Bindings of Network File)Tj
0 -1.1 TD
(   System \(NFS\) protocol versions to RPC-over-RDMA transports.  Such)Tj
T*
(   Upper Layer Bindings are required to enable RPC-based protocols to)Tj
T*
(   use direct data placement when conveying large data payloads on RPC-)Tj
T*
(   over-RDMA transports.  This document obsoletes RFC 5667.)Tj
0 -2.2 TD
(Status of This Memo)Tj
T*
(   This Internet-Draft is submitted in full conformance with the)Tj
0 -1.1 TD
(   provisions of BCP 78 and BCP 79.)Tj
0 -2.2 TD
(   Internet-Drafts are working documents of the Internet Engineering)Tj
0 -1.1 TD
(   Task Force \(IETF\).  Note that other groups may also distribute)Tj
T*
(   working documents as Internet-Drafts.  The list of current Internet-)Tj
T*
(   Drafts is at http://datatracker.ietf.org/drafts/current/.)Tj
0 -2.2 TD
(   Internet-Drafts are draft documents valid for a maximum of six months)Tj
0 -1.1 TD
(   and may be updated, replaced, or obsoleted by other documents at any)Tj
T*
(   time.  It is inappropriate to use Internet-Drafts as reference)Tj
T*
(   material or to cite them other than as "work in progress.")Tj
0 -2.2 TD
(   This Internet-Draft will expire on January 1, 2017.)Tj
T*
(Copyright Notice)Tj
T*
(   Copyright \(c\) 2016 IETF Trust and the persons identified as the)Tj
0 -1.1 TD
(   document authors.  All rights reserved.)Tj
0 -2.2 TD
(   This document is subject to BCP 78 and the IETF Trustís Legal)Tj
0 -1.1 TD
(   Provisions Relating to IETF Documents)Tj
T*
(   \(http://trustee.ietf.org/license-info\) in effect on the date of)Tj
T*
(   publication of this document.  Please review these documents)Tj
T*
(   carefully, as they describe your rights and restrictions with respect)Tj
T*
(   to this document.  Code Components extracted from this document must)Tj
T*
(   include Simplified BSD License text as described in Section 4.e of)Tj
0 -5.5 TD
(Lever                    Expires January 1, 2017                [Page 1])Tj
ET
endstream
endobj
3 0 obj
<<
/ProcSet [/PDF /Text ]
/Font <<
/TT2 4 0 R
>>
/ExtGState <<
/GS1 5 0 R
>>
>>
endobj
8 0 obj
<<
/Length 3165
>>
stream
BT
/TT2 1 Tf
10 0 0 10 81 742 Tm
0 g
/GS1 gs
0 Tc
0 Tw
(Internet-Draft            NFS On RPC-Over-RDMA                 June 2016)Tj
0 -3.3 TD
(   the Trust Legal Provisions and are provided without warranty as)Tj
0 -1.1 TD
(   described in the Simplified BSD License.)Tj
0 -2.2 TD
(Table of Contents)Tj
T*
(   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2)Tj
0 -1.1 TD
(     1.1.  Requirements Language . . . . . . . . . . . . . . . . . .   3)Tj
T*
(     1.2.  Changes Since RFC 5667  . . . . . . . . . . . . . . . . .   3)Tj
T*
(     1.3.  Planned Changes To This Document  . . . . . . . . . . . .   4)Tj
T*
(   2.  Conveying NFS Operations On RPC-Over-RDMA Transports  . . . .   4)Tj
T*
(     2.1.  Use Of The Read List  . . . . . . . . . . . . . . . . . .   4)Tj
T*
(     2.2.  Use Of The Write List . . . . . . . . . . . . . . . . . .   5)Tj
T*
(     2.3.  Construction Of Individual Chunks . . . . . . . . . . . .   5)Tj
T*
(     2.4.  Use Of Long Calls And Replies . . . . . . . . . . . . . .   5)Tj
T*
(   3.  NFS Versions 2 And 3 Upper Layer Binding  . . . . . . . . . .   5)Tj
T*
(   4.  NFS Version 4 Upper Layer Binding . . . . . . . . . . . . . .   6)Tj
T*
(     4.1.  NFS Version 4 COMPOUND Considerations . . . . . . . . . .   7)Tj
T*
(     4.2.  NFS Version 4 Callbacks . . . . . . . . . . . . . . . . .   8)Tj
T*
(   5.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   8)Tj
T*
(   6.  Security Considerations . . . . . . . . . . . . . . . . . . .   9)Tj
T*
(   7.  Acknowledgments . . . . . . . . . . . . . . . . . . . . . . .   9)Tj
T*
(   8.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   9)Tj
T*
(     8.1.  Normative References  . . . . . . . . . . . . . . . . . .   9)Tj
T*
(     8.2.  Informative References  . . . . . . . . . . . . . . . . .  10)Tj
T*
(   Authorís Address  . . . . . . . . . . . . . . . . . . . . . . . .  11)Tj
0 -2.2 TD
(1.  Introduction)Tj
T*
(   Remote Direct Memory Access Transport for Remote Procedure Call,)Tj
0 -1.1 TD
(   Version One [I-D.ietf-nfsv4-rfc5666bis] \(RPC-over-RDMA\) enables the)Tj
T*
(   use of direct data placement to accelerate the transmission of large)Tj
T*
(   data payloads associated with RPC transactions.)Tj
0 -2.2 TD
(   Each RPC-over-RDMA transport header can convey lists of memory)Tj
0 -1.1 TD
(   locations involved in direct transfers of data payloads.  These)Tj
T*
(   memory locations correspond to XDR data items defined in an Upper)Tj
T*
(   Layer Protocol \(such as NFS\).)Tj
0 -2.2 TD
(   To facilitate interoperation, RPC client and server implementations)Tj
0 -1.1 TD
(   must agree on what XDR data items in which RPC procedures are)Tj
T*
(   eligible for direct data placement \(DDP\).)Tj
0 -2.2 TD
(   This document specifies the set of XDR data items in each of the)Tj
0 -1.1 TD
(   following NFS protocol versions that are eligible for DDP.  It also)Tj
T*
(   contains additional material required of Upper Layer Bindings as)Tj
T*
(   specified in [I-D.ietf-nfsv4-rfc5666bis].)Tj
0 -2.2 TD
(   o  NFS Version 2 [RFC1094])Tj
0 -4.4 TD
(Lever                    Expires January 1, 2017                [Page 2])Tj
ET
endstream
endobj
9 0 obj
<<
/ProcSet [/PDF /Text ]
/Font <<
/TT2 4 0 R
>>
/ExtGState <<
/GS1 5 0 R
>>
>>
endobj
11 0 obj
<<
/Length 2470
>>
stream
BT
/TT2 1 Tf
10 0 0 10 81 742 Tm
0 g
/GS1 gs
0 Tc
0 Tw
(Internet-Draft            NFS On RPC-Over-RDMA                 June 2016)Tj
0 -3.3 TD
(   o  NFS Version 3 [RFC1813])Tj
0 -2.2 TD
(   o  NFS Version 4.0 [RFC7530])Tj
T*
(   o  NFS Version 4.1 [RFC5661])Tj
T*
(   o  NFS Version 4.2 [I-D.ietf-nfsv4-minorversion2])Tj
T*
(   The Upper Layer Binding specified in this document can be extended to)Tj
0 -1.1 TD
(   cover the addition of new DDP-eligible XDR data items defined by)Tj
T*
(   versions of the NFS version 4 protocol specified after this document)Tj
T*
(   has been ratified.)Tj
0 -2.2 TD
(1.1.  Requirements Language)Tj
T*
(   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",)Tj
0 -1.1 TD
(   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this)Tj
T*
(   document are to be interpreted as described in [RFC2119].)Tj
0 -2.2 TD
(1.2.  Changes Since RFC 5667)Tj
T*
(   Corrections and updates made necessary by new language in)Tj
0 -1.1 TD
(   [I-D.ietf-nfsv4-rfc5666bis] has been introduced.  For example,)Tj
T*
(   references to deprecated features of RPC-over-RDMA Version One, such)Tj
T*
(   as RDMA_MSGP, and the use of the Read list for handling RPC replies,)Tj
T*
(   has been removed.  The term "mapping" has been replaced with the term)Tj
T*
(   "binding" or "Upper Layer Binding" throughout the document.  Material)Tj
T*
(   that duplicates what is in [I-D.ietf-nfsv4-rfc5666bis] has been)Tj
T*
(   deleted.)Tj
0 -2.2 TD
(   Material required by [I-D.ietf-nfsv4-rfc5666bis] for Upper Layer)Tj
0 -1.1 TD
(   Bindings that was not present in [RFC5667] has been added, including)Tj
T*
(   discussion of how each NFS version properly estimates the maximum)Tj
T*
(   size of RPC replies.)Tj
0 -2.2 TD
(   The following changes have been made, relative to [RFC5667]:)Tj
T*
(   o  Ambiguous or erroneous uses of RFC2119 terms have been corrected.)Tj
T*
(   o  References to specific data movement mechanisms have been made)Tj
0 -1.1 TD
(      generic or removed.)Tj
0 -2.2 TD
(   o  References to obsolete RFCs have been replaced.)Tj
T*
(   o  Technical corrections have been made.  For example, the mention of)Tj
0 -1.1 TD
(      12KB and 36KB inline thresholds have been removed.  The reference)Tj
T*
(      to a non-existant NFS version 4 SYMLINK operation has been)Tj
T*
(      replaced with NFS version 4 CREATE\(NF4LNK\).)Tj
0 -4.4 TD
(Lever                    Expires January 1, 2017                [Page 3])Tj
ET
endstream
endobj
12 0 obj
<<
/ProcSet [/PDF /Text ]
/Font <<
/TT2 4 0 R
>>
/ExtGState <<
/GS1 5 0 R
>>
>>
endobj
14 0 obj
<<
/Length 2418
>>
stream
BT
/TT2 1 Tf
10 0 0 10 81 742 Tm
0 g
/GS1 gs
0 Tc
0 Tw
(Internet-Draft            NFS On RPC-Over-RDMA                 June 2016)Tj
0 -3.3 TD
(   o  An IANA Considerations Section has replaced the "Port Usage)Tj
0 -1.1 TD
(      Considerations" Section.)Tj
0 -2.2 TD
(   o  Code excerpts have been removed, and figures have been modernized.)Tj
T*
(   o  Language inconsistent with or contradictory to)Tj
0 -1.1 TD
(      [I-D.ietf-nfsv4-rfc5666bis] has been removed from Sections 2 and)Tj
T*
(      3, and both Sections have been combined into Section 2 in the)Tj
T*
(      present document.)Tj
0 -2.2 TD
(   o  An explicit discussion of NFSv4.0 and NFSv4.1 backchannel)Tj
0 -1.1 TD
(      operation will replace the previous treatment of callback)Tj
T*
(      operations.  No NFSv4.x callback operation is DDP-eligible.)Tj
0 -2.2 TD
(   o  The binding for NFSv4.1 has been completed.  No additional DDP-)Tj
0 -1.1 TD
(      eligible operations exist in NFSv4.1.)Tj
0 -2.2 TD
(   o  A binding for NFSv4.2 has been added that includes discussion of)Tj
0 -1.1 TD
(      new data-bearing operations like READ_PLUS.)Tj
0 -2.2 TD
(1.3.  Planned Changes To This Document)Tj
T*
(   The following changes are planned, relative to [RFC5667]:)Tj
T*
(   o  The discussion of NFS version 4 COMPOUND handling will be)Tj
0 -1.1 TD
(      completed.)Tj
0 -2.2 TD
(   o  Remarks about handling DDP-eligibility violations will be)Tj
0 -1.1 TD
(      introduced.)Tj
0 -2.2 TD
(   o  A discussion of how the NFS binding to RPC-over-RDMA is extended)Tj
0 -1.1 TD
(      by standards action will be added.)Tj
0 -2.2 TD
(2.  Conveying NFS Operations On RPC-Over-RDMA Transports)Tj
T*
(   Definitions of terminology and a general discussion of how RPC-over-)Tj
0 -1.1 TD
(   RDMA is used to convey RPC transactions can be found in)Tj
T*
(   [I-D.ietf-nfsv4-rfc5666bis].  In this section, these general)Tj
T*
(   principals are applied to the specifics of the NFS protocol.)Tj
0 -2.2 TD
(2.1.  Use Of The Read List)Tj
T*
(   The Read list in each RPC-over-RDMA transport header represents a set)Tj
0 -1.1 TD
(   of memory regions containing DDP-eligible NFS argument data.  Large)Tj
T*
(   data items, such as the file data payload of an NFS WRITE request,)Tj
T*
(   are referenced by the Read list and placed directly into server)Tj
T*
(   memory.)Tj
0 -5.5 TD
(Lever                    Expires January 1, 2017                [Page 4])Tj
ET
endstream
endobj
15 0 obj
<<
/ProcSet [/PDF /Text ]
/Font <<
/TT2 4 0 R
>>
/ExtGState <<
/GS1 5 0 R
>>
>>
endobj
17 0 obj
<<
/Length 2705
>>
stream
BT
/TT2 1 Tf
10 0 0 10 81 742 Tm
0 g
/GS1 gs
0 Tc
0 Tw
(Internet-Draft            NFS On RPC-Over-RDMA                 June 2016)Tj
0 -3.3 TD
(   XDR unmarshaling code on the NFS server identifies the correspondence)Tj
0 -1.1 TD
(   between Read chunks and particular NFS arguments via the chunk)Tj
T*
(   Position value encoded in each Read chunk.)Tj
0 -2.2 TD
(2.2.  Use Of The Write List)Tj
T*
(   The Write list in each RPC-over-RDMA transport header represents a)Tj
0 -1.1 TD
(   set of memory regions that can receive DDP-eligible NFS result data.)Tj
T*
(   Large data items such as the payload of an NFS READ request are)Tj
T*
(   referenced by the Write list and placed directly into client memory.)Tj
0 -2.2 TD
(   Each Write chunk corresponds to a specific XDR data item in an NFS)Tj
0 -1.1 TD
(   reply.  This document specifies how NFS client and server)Tj
T*
(   implementations identify the correspondence between Write chunks and)Tj
T*
(   each XDR result.)Tj
0 -2.2 TD
(2.3.  Construction Of Individual Chunks)Tj
T*
(   Each Read chunk is represented as a list of segments at the same XDR)Tj
0 -1.1 TD
(   Position, and each Write chunk is represented as an array of)Tj
T*
(   segments.  An NFS client thus has the flexibility to advertise a set)Tj
T*
(   of discontiguous memory regions in which to send or receive a single)Tj
T*
(   DDP-eligible data item.)Tj
0 -2.2 TD
(2.4.  Use Of Long Calls And Replies)Tj
T*
(   Small RPC messages are conveyed using RDMA Send operations which are)Tj
0 -1.1 TD
(   of limited size.  If an NFS request is too large to be conveyed via)Tj
T*
(   an RDMA Send, and there are no DDP-eligible data items that can be)Tj
T*
(   removed, an NFS client must send the request using a Long Call.  The)Tj
T*
(   entire NFS request is sent in a special Read chunk.)Tj
0 -2.2 TD
(   If a client expects that an NFS reply will be too large to be)Tj
0 -1.1 TD
(   conveyed via an RDMA Send, it provides a Reply chunk in the RPC-over-)Tj
T*
(   RDMA transport header conveying the NFS request.  The server can)Tj
T*
(   place the entire NFS reply in the Reply chunk.)Tj
0 -2.2 TD
(   These are described in more detail in [I-D.ietf-nfsv4-rfc5666bis].)Tj
T*
(3.  NFS Versions 2 And 3 Upper Layer Binding)Tj
T*
(   An NFS client MAY send a single Read chunk to supply opaque file data)Tj
0 -1.1 TD
(   for an NFS WRITE procedure, or the pathname for an NFS SYMLINK)Tj
T*
(   procedure.  For all other NFS procedures, the server MUST ignore Read)Tj
T*
(   chunks that have a non-zero value in their Position fields, and Read)Tj
T*
(   chunks beyond the first in the Read list.)Tj
0 -6.6 TD
(Lever                    Expires January 1, 2017                [Page 5])Tj
ET
endstream
endobj
18 0 obj
<<
/ProcSet [/PDF /Text ]
/Font <<
/TT2 4 0 R
>>
/ExtGState <<
/GS1 5 0 R
>>
>>
endobj
20 0 obj
<<
/Length 3110
>>
stream
BT
/TT2 1 Tf
10 0 0 10 81 742 Tm
0 g
/GS1 gs
0 Tc
0 Tw
(Internet-Draft            NFS On RPC-Over-RDMA                 June 2016)Tj
0 -3.3 TD
(   Similarly, an NFS client MAY provide a single Write chunk to receive)Tj
0 -1.1 TD
(   either opaque file data from an NFS READ procedure, or the pathname)Tj
T*
(   from an NFS READLINK procedure.  The server MUST ignore the Write)Tj
T*
(   list for any other NFS procedure, and any Write chunks beyond the)Tj
T*
(   first in the Write list.)Tj
0 -2.2 TD
(   There are no NFS version 2 or 3 procedures that have DDP-eligible)Tj
0 -1.1 TD
(   data items in both their Call and Reply.  However, if an NFS client)Tj
T*
(   is sending a Long Call or Reply, it MAY provide a combination of Read)Tj
T*
(   list, Write list, and/or a Reply chunk in the same transaction.)Tj
0 -2.2 TD
(   NFS clients already successfully estimate the maximum reply size of)Tj
0 -1.1 TD
(   each operation in order to provide an adequate set of buffers to)Tj
T*
(   receive each NFS reply.  An NFS client provides a Reply chunk when)Tj
T*
(   the maximum possible reply size is larger than the clientís responder)Tj
T*
(   inline threshold.)Tj
0 -2.2 TD
(   How does the server respond if the client has not provided enough)Tj
0 -1.1 TD
(   Write list resources to handle an NFS WRITE or READLINK reply?  How)Tj
T*
(   does the server respond if the client has not provided enough Reply)Tj
T*
(   chunk resources to handle an NFS reply?)Tj
0 -2.2 TD
(4.  NFS Version 4 Upper Layer Binding)Tj
T*
(   This specification applies to NFS Version 4.0 [RFC7530], NFS Version)Tj
0 -1.1 TD
(   4.1 [RFC5661], and NFS Version 4.2 [I-D.ietf-nfsv4-minorversion2].)Tj
T*
(   It also applies to the callback protocols associated with each of)Tj
T*
(   these minor versions.)Tj
0 -2.2 TD
(   An NFS client MAY send a Read chunk to supply opaque file data for a)Tj
0 -1.1 TD
(   WRITE operation or the pathname for a CREATE\(NF4LNK\) operation in an)Tj
T*
(   NFS version 4 COMPOUND procedure.  An NFS client MUST NOT send a Read)Tj
T*
(   chunk that corresponds with any other XDR data item in any other NFS)Tj
T*
(   version 4 operation.)Tj
0 -2.2 TD
(   Similarly, an NFS client MAY provide a Write chunk to receive either)Tj
0 -1.1 TD
(   opaque file data from a READ operation, NFS4_CONTENT_DATA from a)Tj
T*
(   READ_PLUS operation, or the pathname from a READLINK operation in an)Tj
T*
(   NFS version 4 COMPOUND procedure.  An NFS client MUST NOT provide a)Tj
T*
(   Write chunk that corresponds with any other XDR data item in any)Tj
T*
(   other NFS version 4 operation.)Tj
0 -2.2 TD
(   There is no prohibition against an NFS version 4 COMPOUND procedure)Tj
0 -1.1 TD
(   constructed with both a READ and WRITE operation, say.  Thus it is)Tj
T*
(   possible for NFS version 4 COMPOUND procedures to use both the Read)Tj
T*
(   list and Write list simultaneously.  An NFS client MAY provide a Read)Tj
T*
(   list and a Write list in the same transaction if it is sending a Long)Tj
T*
(   Call or Reply.)Tj
0 -4.4 TD
(Lever                    Expires January 1, 2017                [Page 6])Tj
ET
endstream
endobj
21 0 obj
<<
/ProcSet [/PDF /Text ]
/Font <<
/TT2 4 0 R
>>
/ExtGState <<
/GS1 5 0 R
>>
>>
endobj
23 0 obj
<<
/Length 2694
>>
stream
BT
/TT2 1 Tf
10 0 0 10 81 742 Tm
0 g
/GS1 gs
0 Tc
0 Tw
(Internet-Draft            NFS On RPC-Over-RDMA                 June 2016)Tj
0 -3.3 TD
(   Some remarks need to be made about how NFS version 4 clients estimate)Tj
0 -1.1 TD
(   reply size, and how DDP-eligibility violations are reported.)Tj
0 -2.2 TD
(4.1.  NFS Version 4 COMPOUND Considerations)Tj
T*
(   An NFS version 4 COMPOUND procedure supplies arguments for a sequence)Tj
0 -1.1 TD
(   of operations, and returns results from that sequence.  A client MAY)Tj
T*
(   construct an NFS version 4 COMPOUND procedure that uses more than one)Tj
T*
(   chunk in either the Read list or Write list.  The NFS client provides)Tj
T*
(   XDR Position values in each Read chunk to disambiguate which chunk is)Tj
T*
(   associated with which XDR data item.)Tj
0 -2.2 TD
(   However NFS server and client implementations must agree in advance)Tj
0 -1.1 TD
(   on how to pair Write chunks with returned result data items.  The)Tj
T*
(   mechanism specified in [I-D.ietf-nfsv4-rfc5666bis]\) is applied here:)Tj
0 -2.2 TD
(   o  The first chunk in the Write list MUST be used by the first READ)Tj
0 -1.1 TD
(      or READLINK operation in an NFS version 4 COMPOUND procedure.  The)Tj
T*
(      next Write chunk is used by the next READ or READLINK, and so on.)Tj
0 -2.2 TD
(   o  If there are more READ or READLINK operations than Write chunks,)Tj
0 -1.1 TD
(      then any remaining operations MUST return their results inline.)Tj
0 -2.2 TD
(   o  If an NFS client presents a Write chunk, then the corresponding)Tj
0 -1.1 TD
(      READ or READLINK operation MUST return its data by placing data)Tj
T*
(      into that chunk.)Tj
0 -2.2 TD
(   o  If the Write chunk has zero RDMA segments, or if the total size of)Tj
0 -1.1 TD
(      the segments is zero, then the corresponding READ or READLINK)Tj
T*
(      operation MUST return its result inline.)Tj
0 -2.2 TD
(   The following example shows a Write list with three Write chunks, A,)Tj
0 -1.1 TD
(   B, and C.  The server consumes the provided Write chunks by writing)Tj
T*
(   the results of the designated operations in the compound request,)Tj
T*
(   READ and READLINK, back to each chunk.)Tj
0 -3.3 TD
(      Write list:)Tj
0 -2.2 TD
(         A --> B --> C)Tj
T*
(      NFS version 4 COMPOUND request:)Tj
T*
(         PUTFH LOOKUP READ PUTFH LOOKUP READLINK PUTFH LOOKUP READ)Tj
0 -1.1 TD
(                       |                   |                   |)Tj
T*
(                       v                   v                   v)Tj
T*
(                       A                   B                   C)Tj
0 -5.5 TD
(Lever                    Expires January 1, 2017                [Page 7])Tj
ET
endstream
endobj
24 0 obj
<<
/ProcSet [/PDF /Text ]
/Font <<
/TT2 4 0 R
>>
/ExtGState <<
/GS1 5 0 R
>>
>>
endobj
26 0 obj
<<
/Length 2964
>>
stream
BT
/TT2 1 Tf
10 0 0 10 81 742 Tm
0 g
/GS1 gs
0 Tc
0 Tw
(Internet-Draft            NFS On RPC-Over-RDMA                 June 2016)Tj
0 -3.3 TD
(   If the client does not want to have the READLINK result returned)Tj
0 -1.1 TD
(   directly, it provides a zero-length array of segment triplets for)Tj
T*
(   buffer B or sets the values in the segment triplet for buffer B to)Tj
T*
(   zeros to indicate that the READLINK result must be returned inline.)Tj
0 -2.2 TD
(   Unlike NFS versions 2 and 3, the maximum size of an NFS version 4)Tj
0 -1.1 TD
(   COMPOUND is not bounded.  However, typical NFS version 4 clients)Tj
T*
(   rarely issue such problematic requests.  In practice, NFS version 4)Tj
T*
(   clients behave in much more predictable ways.  Rsize and wsize apply)Tj
T*
(   to COMPOUND operations by capping the total amount of data payload)Tj
T*
(   allowed in each COMPOUND.  An extension to NFS version 4 supporting a)Tj
T*
(   comprehensive exchange of upper-layer message size parameters is part)Tj
T*
(   of [RFC5661].)Tj
0 -2.2 TD
(4.2.  NFS Version 4 Callbacks)Tj
T*
(   The NFS version 4 protocols support server-initiated callbacks to)Tj
0 -1.1 TD
(   notify clients of events such as recalled delegations.  There are no)Tj
T*
(   DDP-eligible data items in callback protocols associated with)Tj
T*
(   NFSv4.0, NFSv4.1, or NFSv4.2.)Tj
0 -2.2 TD
(   In NFS version 4.1 and 4.2, callback operations may appear on the)Tj
0 -1.1 TD
(   same connection as one used for NFS version 4 client requests.  To)Tj
T*
(   operate on RPC-over-RDMA transports, NFS version 4 clients and)Tj
T*
(   servers MUST use the mechanism described in)Tj
T*
(   [I-D.ietf-nfsv4-rpcrdma-bidirection].)Tj
0 -2.2 TD
(5.  IANA Considerations)Tj
T*
(   NFS use of direct data placement introduces a need for an additional)Tj
0 -1.1 TD
(   NFS port number assignment for networks that share traditional UDP)Tj
T*
(   and TCP port spaces with RDMA services.  The iWARP [RFC5041])Tj
T*
(   [RFC5040] protocol is such an example \(InfiniBand is not\).)Tj
0 -2.2 TD
(   NFS servers for versions 2 and 3 [RFC1094] [RFC1813] traditionally)Tj
0 -1.1 TD
(   listen for clients on UDP and TCP port 2049, and additionally, they)Tj
T*
(   register these with the portmapper and/or rpcbind [RFC1833] service.)Tj
T*
(   However, [RFC7530] requires NFS servers for version 4 to listen on)Tj
T*
(   TCP port 2049, and they are not required to register.)Tj
0 -2.2 TD
(   An NFS version 2 or version 3 server supporting RPC-over-RDMA on such)Tj
0 -1.1 TD
(   a network and registering itself with the RPC portmapper MAY choose)Tj
T*
(   an arbitrary port, or MAY use the alternative well-known port number)Tj
T*
(   for its RPC-over-RDMA service.  The chosen port MAY be registered)Tj
T*
(   with the RPC portmapper under the netid assigned by the requirement)Tj
T*
(   in [I-D.ietf-nfsv4-rfc5666bis].)Tj
0 -6.6 TD
(Lever                    Expires January 1, 2017                [Page 8])Tj
ET
endstream
endobj
27 0 obj
<<
/ProcSet [/PDF /Text ]
/Font <<
/TT2 4 0 R
>>
/ExtGState <<
/GS1 5 0 R
>>
>>
endobj
29 0 obj
<<
/Length 2430
>>
stream
BT
/TT2 1 Tf
10 0 0 10 81 742 Tm
0 g
/GS1 gs
0 Tc
0 Tw
(Internet-Draft            NFS On RPC-Over-RDMA                 June 2016)Tj
0 -3.3 TD
(   An NFS version 4 server supporting RPC-over-RDMA on such a network)Tj
0 -1.1 TD
(   MUST use the alternative well-known port number for its RPC-over-RDMA)Tj
T*
(   service.  Clients SHOULD connect to this well-known port without)Tj
T*
(   consulting the RPC portmapper \(as for NFSv4/TCP\).)Tj
0 -2.2 TD
(   The port number assigned to an NFS service over an RPC-over-RDMA)Tj
0 -1.1 TD
(   transport is available from the IANA port registry [RFC3232].)Tj
0 -2.2 TD
(6.  Security Considerations)Tj
T*
(   The RDMA transport for RPC [I-D.ietf-nfsv4-rfc5666bis] supports all)Tj
0 -1.1 TD
(   RPC [RFC5531] security models, including RPCSEC_GSS [RFC2203])Tj
T*
(   security and transport-level security.  The choice of RDMA Read and)Tj
T*
(   RDMA Write to convey RPC argument and results does not affect this,)Tj
T*
(   since it only changes the method of data transfer.  Specifically, the)Tj
T*
(   requirements of [I-D.ietf-nfsv4-rfc5666bis] ensure that this choice)Tj
T*
(   does not introduce new vulnerabilities.)Tj
0 -2.2 TD
(   Because this document defines only the binding of the NFS protocols)Tj
0 -1.1 TD
(   atop [I-D.ietf-nfsv4-rfc5666bis], all relevant security)Tj
T*
(   considerations are therefore to be described at that layer.)Tj
0 -2.2 TD
(7.  Acknowledgments)Tj
T*
(   The author gratefully acknowledges the work of Brent Callaghan and)Tj
0 -1.1 TD
(   Tom Talpey on the original NFS Direct Data Placement specification)Tj
T*
(   [RFC5667].  The author also wishes to thank Bill Baker and Greg)Tj
T*
(   Marsden for their support of this work.)Tj
0 -2.2 TD
(   Dave Noveck provided excellent review, constructive suggestions, and)Tj
0 -1.1 TD
(   consistent navigational guidance throughout the process of drafting)Tj
T*
(   this document.)Tj
0 -2.2 TD
(   Special thanks go to nfsv4 Working Group Chair Spencer Shepler and)Tj
0 -1.1 TD
(   nfsv4 Working Group Secretary Thomas Haynes for their support.)Tj
0 -2.2 TD
(8.  References)Tj
T*
(8.1.  Normative References)Tj
T*
(   [I-D.ietf-nfsv4-minorversion2])Tj
0 -1.1 TD
(              Haynes, T., "NFS Version 4 Minor Version 2", draft-ietf-)Tj
T*
(              nfsv4-minorversion2-41 \(work in progress\), January 2016.)Tj
0 -9.9 TD
(Lever                    Expires January 1, 2017                [Page 9])Tj
ET
endstream
endobj
30 0 obj
<<
/ProcSet [/PDF /Text ]
/Font <<
/TT2 4 0 R
>>
/ExtGState <<
/GS1 5 0 R
>>
>>
endobj
32 0 obj
<<
/Length 2871
>>
stream
BT
/TT2 1 Tf
10 0 0 10 81 742 Tm
0 g
/GS1 gs
0 Tc
0 Tw
(Internet-Draft            NFS On RPC-Over-RDMA                 June 2016)Tj
0 -3.3 TD
(   [I-D.ietf-nfsv4-rfc5666bis])Tj
0 -1.1 TD
(              Lever, C., Simpson, W., and T. Talpey, "Remote Direct)Tj
T*
(              Memory Access Transport for Remote Procedure Call, Version)Tj
T*
(              One", draft-ietf-nfsv4-rfc5666bis-07 \(work in progress\),)Tj
T*
(              May 2016.)Tj
0 -2.2 TD
(   [I-D.ietf-nfsv4-rpcrdma-bidirection])Tj
0 -1.1 TD
(              Lever, C., "Bi-directional Remote Procedure Call On RPC-)Tj
T*
(              over-RDMA Transports", draft-ietf-nfsv4-rpcrdma-)Tj
T*
(              bidirection-05 \(work in progress\), June 2016.)Tj
0 -2.2 TD
(   [RFC1833]  Srinivasan, R., "Binding Protocols for ONC RPC Version 2",)Tj
0 -1.1 TD
(              RFC 1833, DOI 10.17487/RFC1833, August 1995,)Tj
T*
(              <http://www.rfc-editor.org/info/rfc1833>.)Tj
0 -2.2 TD
(   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate)Tj
0 -1.1 TD
(              Requirement Levels", BCP 14, RFC 2119,)Tj
T*
(              DOI 10.17487/RFC2119, March 1997,)Tj
T*
(              <http://www.rfc-editor.org/info/rfc2119>.)Tj
0 -2.2 TD
(   [RFC2203]  Eisler, M., Chiu, A., and L. Ling, "RPCSEC_GSS Protocol)Tj
0 -1.1 TD
(              Specification", RFC 2203, DOI 10.17487/RFC2203, September)Tj
T*
(              1997, <http://www.rfc-editor.org/info/rfc2203>.)Tj
0 -2.2 TD
(   [RFC5531]  Thurlow, R., "RPC: Remote Procedure Call Protocol)Tj
0 -1.1 TD
(              Specification Version 2", RFC 5531, DOI 10.17487/RFC5531,)Tj
T*
(              May 2009, <http://www.rfc-editor.org/info/rfc5531>.)Tj
0 -2.2 TD
(   [RFC5661]  Shepler, S., Ed., Eisler, M., Ed., and D. Noveck, Ed.,)Tj
0 -1.1 TD
(              "Network File System \(NFS\) Version 4 Minor Version 1)Tj
T*
(              Protocol", RFC 5661, DOI 10.17487/RFC5661, January 2010,)Tj
T*
(              <http://www.rfc-editor.org/info/rfc5661>.)Tj
0 -2.2 TD
(   [RFC7530]  Haynes, T., Ed. and D. Noveck, Ed., "Network File System)Tj
0 -1.1 TD
(              \(NFS\) Version 4 Protocol", RFC 7530, DOI 10.17487/RFC7530,)Tj
T*
(              March 2015, <http://www.rfc-editor.org/info/rfc7530>.)Tj
0 -2.2 TD
(8.2.  Informative References)Tj
T*
(   [RFC1094]  Nowicki, B., "NFS: Network File System Protocol)Tj
0 -1.1 TD
(              specification", RFC 1094, DOI 10.17487/RFC1094, March)Tj
T*
(              1989, <http://www.rfc-editor.org/info/rfc1094>.)Tj
0 -2.2 TD
(   [RFC1813]  Callaghan, B., Pawlowski, B., and P. Staubach, "NFS)Tj
0 -1.1 TD
(              Version 3 Protocol Specification", RFC 1813,)Tj
T*
(              DOI 10.17487/RFC1813, June 1995,)Tj
T*
(              <http://www.rfc-editor.org/info/rfc1813>.)Tj
0 -5.5 TD
(Lever                    Expires January 1, 2017               [Page 10])Tj
ET
endstream
endobj
33 0 obj
<<
/ProcSet [/PDF /Text ]
/Font <<
/TT2 4 0 R
>>
/ExtGState <<
/GS1 5 0 R
>>
>>
endobj
35 0 obj
<<
/Length 1576
>>
stream
BT
/TT2 1 Tf
10 0 0 10 81 742 Tm
0 g
/GS1 gs
0 Tc
0 Tw
(Internet-Draft            NFS On RPC-Over-RDMA                 June 2016)Tj
0 -3.3 TD
(   [RFC3232]  Reynolds, J., Ed., "Assigned Numbers: RFC 1700 is Replaced)Tj
0 -1.1 TD
(              by an On-line Database", RFC 3232, DOI 10.17487/RFC3232,)Tj
T*
(              January 2002, <http://www.rfc-editor.org/info/rfc3232>.)Tj
0 -2.2 TD
(   [RFC5040]  Recio, R., Metzler, B., Culley, P., Hilland, J., and D.)Tj
0 -1.1 TD
(              Garcia, "A Remote Direct Memory Access Protocol)Tj
T*
(              Specification", RFC 5040, DOI 10.17487/RFC5040, October)Tj
T*
(              2007, <http://www.rfc-editor.org/info/rfc5040>.)Tj
0 -2.2 TD
(   [RFC5041]  Shah, H., Pinkerton, J., Recio, R., and P. Culley, "Direct)Tj
0 -1.1 TD
(              Data Placement over Reliable Transports", RFC 5041,)Tj
T*
(              DOI 10.17487/RFC5041, October 2007,)Tj
T*
(              <http://www.rfc-editor.org/info/rfc5041>.)Tj
0 -2.2 TD
(   [RFC5667]  Talpey, T. and B. Callaghan, "Network File System \(NFS\))Tj
0 -1.1 TD
(              Direct Data Placement", RFC 5667, DOI 10.17487/RFC5667,)Tj
T*
(              January 2010, <http://www.rfc-editor.org/info/rfc5667>.)Tj
0 -2.2 TD
(Authorís Address)Tj
T*
(   Charles Lever \(editor\))Tj
0 -1.1 TD
(   Oracle Corporation)Tj
T*
(   1015 Granger Avenue)Tj
T*
(   Ann Arbor, MI  48104)Tj
T*
(   USA)Tj
0 -2.2 TD
(   Phone: +1 734 274 2396)Tj
0 -1.1 TD
(   Email: chuck.lever@oracle.com)Tj
0 -26.4 TD
(Lever                    Expires January 1, 2017               [Page 11])Tj
ET
endstream
endobj
36 0 obj
<<
/ProcSet [/PDF /Text ]
/Font <<
/TT2 4 0 R
>>
/ExtGState <<
/GS1 5 0 R
>>
>>
endobj
5 0 obj
<<
/Type /ExtGState
/SA false
/SM 0.02
/OP false
/op false
/OPM 1
/BG2 /Default
/UCR2 /Default
/HT /Default
/TR2 /Default
>>
endobj
39 0 obj
<<
/Type /FontDescriptor
/Ascent 753
/CapHeight 562
/Descent -246
/Flags 35
/FontBBox [-28 -250 628 805]
/FontName /Courier
/ItalicAngle 0
/StemV 51
/XHeight 426
/StemH 51
>>
endobj
4 0 obj
<<
/Type /Font
/Subtype /TrueType
/FirstChar 32
/LastChar 146
/Widths [600 0 600 0 0 0 0 0 600 600 0 600 600 600 600 600 
600 600 600 600 600 600 600 600 600 600 600 0 600 0 600 600 
600 600 600 600 600 600 600 600 600 600 600 600 600 600 600 600 
600 600 600 600 600 600 600 600 600 600 0 600 0 600 0 600 
0 600 600 600 600 600 600 600 600 600 600 600 600 600 600 600 
600 600 600 600 600 600 600 600 600 600 600 0 600 0 0 0 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 0 600 ]
/Encoding /WinAnsiEncoding
/BaseFont /Courier
/FontDescriptor 39 0 R
>>
endobj
1 0 obj
<<
/Type /Page
/Parent 6 0 R
/Resources 3 0 R
/Contents 2 0 R
>>
endobj
7 0 obj
<<
/Type /Page
/Parent 6 0 R
/Resources 9 0 R
/Contents 8 0 R
>>
endobj
10 0 obj
<<
/Type /Page
/Parent 6 0 R
/Resources 12 0 R
/Contents 11 0 R
>>
endobj
13 0 obj
<<
/Type /Page
/Parent 6 0 R
/Resources 15 0 R
/Contents 14 0 R
>>
endobj
16 0 obj
<<
/Type /Page
/Parent 6 0 R
/Resources 18 0 R
/Contents 17 0 R
>>
endobj
19 0 obj
<<
/Type /Page
/Parent 6 0 R
/Resources 21 0 R
/Contents 20 0 R
>>
endobj
22 0 obj
<<
/Type /Page
/Parent 6 0 R
/Resources 24 0 R
/Contents 23 0 R
>>
endobj
25 0 obj
<<
/Type /Page
/Parent 6 0 R
/Resources 27 0 R
/Contents 26 0 R
>>
endobj
28 0 obj
<<
/Type /Page
/Parent 6 0 R
/Resources 30 0 R
/Contents 29 0 R
>>
endobj
31 0 obj
<<
/Type /Page
/Parent 6 0 R
/Resources 33 0 R
/Contents 32 0 R
>>
endobj
34 0 obj
<<
/Type /Page
/Parent 38 0 R
/Resources 36 0 R
/Contents 35 0 R
>>
endobj
40 0 obj
<<
/S /D
>>
endobj
41 0 obj
<<
/Nums [0 40 0 R ]
>>
endobj
6 0 obj
<<
/Type /Pages
/Kids [1 0 R 7 0 R 10 0 R 13 0 R 16 0 R 19 0 R 22 0 R 25 0 R 28 0 R 31 0 R]
/Count 10
/Parent 37 0 R
>>
endobj
38 0 obj
<<
/Type /Pages
/Kids [34 0 R]
/Count 1
/Parent 37 0 R
>>
endobj
37 0 obj
<<
/Type /Pages
/Kids [6 0 R 38 0 R ]
/Count 11
/MediaBox [0 0 595 842]
>>
endobj
42 0 obj
<<
/CreationDate (D:20160630155237-04'00')
/ModDate (D:20160630155237-04'00')
/Producer (Apple pstopdf)
>>
endobj
43 0 obj
<<
/Type /Catalog
/Pages 37 0 R
/PageLabels 41 0 R
>>
endobj
xref
0 44
0000000000 65535 f 
0000031487 00000 n 
0000000016 00000 n 
0000002613 00000 n 
0000030930 00000 n 
0000030599 00000 n 
0000032463 00000 n 
0000031567 00000 n 
0000002708 00000 n 
0000005925 00000 n 
0000031647 00000 n 
0000006020 00000 n 
0000008543 00000 n 
0000031730 00000 n 
0000008639 00000 n 
0000011110 00000 n 
0000031813 00000 n 
0000011206 00000 n 
0000013964 00000 n 
0000031896 00000 n 
0000014060 00000 n 
0000017223 00000 n 
0000031979 00000 n 
0000017319 00000 n 
0000020066 00000 n 
0000032062 00000 n 
0000020162 00000 n 
0000023179 00000 n 
0000032145 00000 n 
0000023275 00000 n 
0000025758 00000 n 
0000032228 00000 n 
0000025854 00000 n 
0000028778 00000 n 
0000032311 00000 n 
0000028874 00000 n 
0000030503 00000 n 
0000032672 00000 n 
0000032598 00000 n 
0000030739 00000 n 
0000032395 00000 n 
0000032423 00000 n 
0000032763 00000 n 
0000032886 00000 n 
trailer
<<
/Size 44
/Root 43 0 R
/Info 42 0 R
/ID [<676f3bfcb14c5895905b0389980906d3><676f3bfcb14c5895905b0389980906d3>]
>>
startxref
32956
%%EOF
