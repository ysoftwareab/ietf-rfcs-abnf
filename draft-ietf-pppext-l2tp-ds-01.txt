




PPP Working Group                                          Pat R. Calhoun
INTERNET DRAFT                                     Sun Microsystems, Inc.
Category: Internet Draft                                       Ken Peirce
Title: draft-ietf-pppext-l2tp-ds-01.txt                  3Com Corporation
Date: February 1998



                         Layer Two Tunneling Protocol "L2TP"
                          IP Differential Services Extension
                          <draft-ietf-pppext-l2tp-ds-01.txt>


Status of this Memo

   This  document  is  an  Internet-Draft.  Internet-Drafts  are  working
   documents  of  the  Internet Engineering Task Force (IETF), its areas,
   and its working groups.  Note that other groups  may  also  distribute
   working documents as Internet-Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months.
   Internet-Drafts  may  be  updated,  replaced,  or  obsoleted  by other
   documents at any time.  It is not appropriate to  use  Internet-Drafts
   as  reference  material  or  to  cite  them  other than as a ``working
   draft'' or ``work in progress.''

   To learn the current status of any Internet-Draft,  please  check  the
   1id-abstracts.txt  listing  contained  in  the  Internet-Drafts Shadow
   Directories on ds.internic.net,  nic.nordu.net,  ftp.nisc.sri.com,  or
   munnari.oz.au.

Abstract

   The L2TP document [1] defines the base protocol  which  describes  the
   method  of  tunneling  PPP  [2]  data. The L2TP base protocol does not
   address any Differential Services extensions.

   Since the market is reluctant to outsource  dial  access  without  any
   Quality  of  Service  assurances, this draft addresses this problem by
   allowing  each  L2TP  Data  Session  to  be  assigned  an  appropriate
   differential services indicator.

Table of Contents

      1.0 Introduction
      1.1 Conventions
      2.0 Quality of Service/Diferential Services Negotiation
      2.1 Differential Sevices Indicator Exchange
      3.0 References
      4.0 Authors' Addresses


Calhoun, Peirce               expires August 1998                [Page 1]



INTERNET DRAFT                                              February 1998


1.0 Introduction

   The  L2TP  protocol  specification  does  not   discuss   Quality   of
   Service/Differential  Services  in  any  way. The current state of the
   market has shown that many  customers  are  reluctant  to  adopt  L2TP
   without any quality of service assurances.

   This document will  describe  how  two  L2TP  peers  can  negotiate  a
   differential services indicator for a dial-in user.

   The mechanism  defined  in  this  document  assumes  that  the  Tunnel
   Initiator  determines what the user's appropriate service level is and
   sends the value in either  the  ICRQ  or  OCRQ  messages.  The  Tunnel
   Terminator  can  respond to the message by stating what it believes is
   the user's appropriate service level.  The  values  of  the  indicator
   supplied by the Tunnel Terminator will supercede those provided by the
   Tunnel Initiator if  a  difference  is  found.   However,  the  Tunnel
   Terminator  MUST  NOT propose a higher differential service level than
   was proposed by the Tunnel Initiator.

   In the case where the Tunnel Terminator does not propose ANY indicator
   (which is infered by the absence of the QOS AVPs in either the ICRP or
   OCRP) the Tunnel Initiator will assume  no  QOS  is  assigned  to  the
   session.

   A tunnel peer which violates the negotiated differential service level
   is liable to have it's tunnel shutdown.


1.1 Conventions

   The following language conventions are used in the items  of  specifi-
   cation in this document:

         o  MUST, SHALL, or MANDATORY -- This item is an absolute
            requirement of the specification.

         o  SHOULD or RECOMMEND -- This item should generally be followed
            for all but exceptional circumstances.

         o  MAY or OPTIONAL -- This item is truly optional and may be
            followed or ignored according to the needs of the
            implementor.


2.0 Quality of Service/Diferential Services Negotiation

   This section will define the new  AVPs  which  are  required  for  the
   Quality  of  Service  extension  of  the L2TP protocol. The AVPs allow
   designation of a Quality of Service level for a specific data channel.


Calhoun, Peirce               expires August 1998                [Page 2]



INTERNET DRAFT                                              February 1998


2.1 Differential Services Indicator AVP

   The Differential Services indicator AVP is found in the IPv4  header's
   Type  of  Service  octet.  This is the second octet in the header. The
   actual bit interpretation of the IP Precedence and Type of Service bit
   fields   is  left  to  the  appropriate  documentation[2][3][4].  This
   document is concerned with defining a uniform exchange  mechanism  for
   the indicator only.

   The Differential Services Indicator AVP MAY be present in ICRQ,  ICRP,
   OCRQ  and  OCRP. This message is used to inform the tunnel peer that a
   set of differential service indicator value SHOULD  be  used  for  all
   packets  related  to  the  data channel associated with the Tunnel and
   Call Identifiers in the L2TP header [1].

   The presence of this AVP in the ICRQ or OCRQ indicates that the tunnel
   initiator  wishes  to  use  a  specific differential service indicator
   value on all data packets. However, the value found  in  the  ICRP  or
   OCRP  indicate  the  value  which  the Tunnel Terminator is willing to
   accept.  However, the Tunnel Terminator  MUST  NOT  propose  a  higher
   differential service level than was proposed by the Tunnel Initiator.

   A tunnel peer which violates the negotiated indicator value is  liable
   to have it's tunnel shutdown.


       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |1|1|0|0|        Length         |              43               |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                1              |  Diff Serv Indicator Value    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

      This AVP MAY be present in the messages shown above. It is  encoded
      with a Vendor ID of 43 (3Com Corporation) with the attribute set to
      1, marked as optional, with the indicator value as data.  This  AVP
      SHOULD  NOT  be hidden and is optional. When present, the L2TP peer
      is indicating that differential services  are  to  be  used  on  IP
      packets within the session's data channel.


3.0 References

   [1] K. Hamzeh, T. Kolar, M. Littlewood, G. Singh Pall, J. Taarud,
       A. J. Valencia, W. Verthein, W.M. Townsley, B. Palter,
       A. Rubens "Layer Two Tunneling Protocol (L2TP)",
       Internet draft, October 1997

   [2] D. Clark, J. Wroclawski, "An Approach to Service Allocation in


Calhoun, Peirce               expires August 1998                [Page 3]



INTERNET DRAFT                                              February 1998


       the Internet", draft-clark-diff-svc-alloc-00.txt, July 1997.

   [3] P. Ferguson, "Simple Differential Services: IP TOS and
       Precedence, Delay Indication, and Drop Preference,",
       draft-ferguson-delay-drop-00.txt, November 1997

   [4] J. Heinanen, "Use of the IPv4 TOS Octet to Support Differential
       Services", draft-heinanen-diff-tos-octet-01.txt, November 1997


4.0 Authors' Addresses

   Questions about this memo can be directed to:

      Pat R. Calhoun
      Technology Development
      Sun Microsystems, Inc.
      15 Network Circle
      Menlo Park, California, 94025
      USA

       Phone:  1-847-548-9587
         Fax:  1-650-786-6445
      E-mail:  pcalhoun@toast.net


      Ken Peirce
      3Com Corporation
      1800 Central Ave.
      Mount Prospect, Il, 60056

       Phone:  1-847-342-6794
         Fax:  1-847-222-2424
      E-mail:  Ken_Peirce@mw.3com.com


















Calhoun, Peirce               expires August 1998                [Page 4]

