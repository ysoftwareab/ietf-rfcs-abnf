

MPLS Working Group                                 Wai Sum Lai (Editor) 
Internet Draft                                                AT&T Labs 
Document: <draft-lai-mpls-ldp-hist-mib-00.txt>                          
Category: Standards Track                                               
                                                           October 2003 
    
    
            A Supplementary History Module for the MPLS LDP-MIB 
    
    
Status of this Memo 
 
   This document is an Internet-Draft and is in full conformance with 
   all provisions of Section 10 of RFC2026.  
    
   Internet-Drafts are working documents of the Internet Engineering 
   Task Force (IETF), its areas, and its working groups. Note that 
   other groups may also distribute working documents as Internet-
   Drafts. Internet-Drafts are draft documents valid for a maximum of 
   six months and may be updated, replaced, or obsoleted by other 
   documents at any time. It is inappropriate to use Internet-Drafts as 
   reference material or to cite them other than as "work in progress." 
    
   The list of current Internet-Drafts can be accessed at 
   http://www.ietf.org/ietf/1id-abstracts.txt 
     
   The list of Internet-Draft Shadow Directories can be accessed at 
   http://www.ietf.org/shadow.html. 
    
 
Abstract 
    
   In this document, requirements for supplementing the MPLS LDP-MIB 
   are presented for the support of specific network management needs 
   for fault and performance management.  Based on these requirements, 
   it describes managed objects in a supplementary history module for 
   use with the LDP-MIB. 
    
    
Conventions used in this document 
    
   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", 
   "SHOULD", "SHOULD NOT", "RECOMMENDED",  "MAY", and "OPTIONAL" in 
   this document are to be interpreted as described in RFC-2119. 
    
    
Table of Contents 
    
   Status of this Memo................................................1 
   Abstract...........................................................1 
   Conventions used in this document..................................1 
   1. Introduction....................................................2 
   2. Requirements for Supplementing the LDP-MIB......................2 
   2.1 Performance Management Requirement.............................2 
  
Lai, et al              Category - Expiration                [Page 1] 
Internet-Draft  Supplementary History Module for MPLS LDP-MIB Oct 2003 
 
 
   2.2 Drawbacks of existing approach.................................3 
   2.3 Fault Management Requirement...................................4 
   2.4 Summary of Objects.............................................4 
   3. MPLS LDP History Module Definitions.............................4 
   4. Conclusions.....................................................8 
   5. Security Considerations.........................................8 
   6. References......................................................8 
   7. Acknowledgments.................................................8 
   8. Co-authors' Addresses...........................................8 
   9. Author's Addresses..............................................9 
   Full Copyright Statement...........................................9 
    
    
1. Introduction 
    
   In this document, we first present requirements for supplementing 
   the MPLS LDP-MIB [1] based on testing in our lab that was focused on 
   providing a management solution for planned services (e.g., MPLS 
   VPN).  We then propose a history module that supplements the LDP-MIB 
   for fulfilling these requirements. 
    
   The requirements are for the support of specific network management 
   needs in the areas of fault and performance management.  For 
   example, through our testing of the LDP-MIB [1], we found that some 
   of the objects require enhancements to make it more effective to 
   identify the fault condition (and thus more effective for 
   troubleshooting and trouble resolution), while other objects require 
   new sub-object(s) to present a certain level of aggregation to meet 
   operational need. 
    
   Requirements for supplementing the LDP-MIB are described in Section 
   2.  We do not propose changing the existing LDP-MIB.  Rather, 
   specific MIB extensions or objects based on the requirements are 
   proposed for a supplementary history module as defined in Section 3.  
   This history module is designed to work in conjunction with the LDP-
   MIB. 
    
   This initial draft is intended to present mainly the objects needed 
   to support the stated requirements.  We would like to solicit 
   comments and suggestions from MIB designers, especially on issues 
   such as interoperability with the existing LDP-MIB.  As such, this 
   version of the draft does not currently comply with standard formats 
   of MIB documents such as the inclusion of a MIB Boilerplate Section 
   and standard references.  We will address such compliance issues in 
   the next version. 
    
    
2. Requirements for Supplementing the LDP-MIB 
    
2.1 Performance Management Requirement 
    
   In the LDP-MIB of an LSR, there is an LDP Entity for each LDP-
   enabled interface.  Each such entity is a collection of 
  
Lai, et al              Category - Expiration                [Page 2] 
Internet-Draft  Supplementary History Module for MPLS LDP-MIB Oct 2003 
 
 
   configuration, control, and status information for the establishment 
   of LDP Sessions.  In particular, it contains the label objects, in 
   either the Generic Label Space or the Per-Interface Label Space.  An 
   LDP Session is set up by using one of these label objects. 
    
   For engineering of LDP Sessions and router resource management, 
   there is a need to capture the signaling usage/performance of the 
   LDP Entities, as well as the traffic usage/performance of the LDP 
   Sessions.  Currently in the LDP-MIB, in the LDP Entity Statistics 
   Table mplsLdpEntityStatsTable, there is the 
   mplsLdpEntityStatsSessionAttempts counter for the number of session 
   initializations that failed.  Other than that, there are no objects 
   to provide the necessary counters to record usage for either the 
   Generic Label Space Entities or the Per-Interface Label Space 
   Entities. 
    
   To support LDP Entity and Session statistics reports for MPLS 
   performance management, enhancement to the LDP-MIB is needed to 
   provide summary statistics on the health of LDP Entities and 
   Sessions to capture the usage/performance characteristics.   
    
   Furthermore, such enhancement should provide a linkage between the 
   LDP Entity/Session and the physical interface to aid troubleshooting 
   by a service provider.  It would be unacceptable to have to go 
   through many hoops of NMS processing/analysis to get such 
   information.  Not only will this process not meet the real-time 
   network management response time requirement, the reliability of the 
   resulting information is also questionable. 
    
2.2 Drawbacks of existing approach 
    
   To provide a high-level barometer of the performance of LDP 
   Entity/Sessions, we need a way to get aggregate counts for 
   performance monitoring reasons, so that the ratio of attempts and 
   successful attempts can be estimated.   
    
   For an LDP Session that has been established on an LDP Entity, there 
   will be a notification if the session goes up/down.  Thus, it is 
   possible for a gauge32-like object for an Established Session 
   Counter to be gleaned from the number of mplsLdpSessionEntry's and 
   from examining the mplsLdpEntityGenericLREntry's for the Generic 
   Label Space.  Similarly, for the equivalent of the Terminated 
   Session Counter, a count of the glitches in the Session related to 
   Generic Labels could possibly be figured out by polling the 
   mplsLdpSessionDiscontinuityTime object for the LDP Entities that are 
   associated with a Generic Label range.  For the Per-Interface Label 
   space, one would look at the Interface Label tables associated with 
   an Entity instead of the Generic Label Range table.  Note that, as 
   currently specified, once a Session is started, the label range 
   tables cannot change.  This means that once an NMS retrieves the 
   Entity and Label range information, it will be fairly static.  
   Hence, the NMS can just poll the mplsLdpEntityLastChange to see if 
   there are changes to the Entity table. 
  
Lai, et al              Category - Expiration                [Page 3] 
Internet-Draft  Supplementary History Module for MPLS LDP-MIB Oct 2003 
 
 
    
   While existing procedures are available as described above, such 
   procedures also depend mostly on the NMS to perform different 
   manipulation of the MIB-collected data to make them meaningful.  
   Given that LDP itself is complicated enough, a more useful approach 
   would be to not rely on the NMS to do too much work to understand 
   the performance of LDP.  As far as possible, a solution must not 
   require extensive MIB walks of the LDP-MIB, to avoid the consumption 
   of valuable network resources, e.g., by reducing the volume of MIB 
   data that needs to be transmitted and subsequently processed by the 
   NMS.  Note that reduction of the volume of data transmission may 
   help to increase the data reliability as well. 
    
2.3 Fault Management Requirement 
    
   It is required to ensure persistency of information in the LDP-MIB 
   Entity Table and Entity Statistics Table, whenever an LDP Entity is 
   disabled and then re-enabled. 
    
   Currently, the instrumentations in the Entity Table and the Entity 
   Statistics Table will only show active LDP Entities (i.e., those 
   with enabled status).  When an LDP Entity goes up and down, its 
   entry in the Entity Table appears and then disappears entirely.  
   This will result in the loss of historical information related to 
   the LDP Entity status and performance information.  An enhancement 
   is needed so the counters will accumulate with prior-entity ID-
   counters. 
    
2.4 Summary of Objects 
    
   The following tables are included in the History Module to provide 
   summary statistics on the health of LDP entities and sessions to 
   capture the usage/performance of LDP sessions: 
    
   MPLS LDP Entity History Table: mplsLdpEntityHistTable 
   MPLS LDP Session History Table: mplsLdpSessionHistTable 
 
    
3. MPLS LDP History Module Definitions 
    
   (Note: In this version, only the objects for recording usage counts 
   are included.  Specifications for measurement intervals and counters 
   for different intervals to maintain history are to be included in 
   the next version.  Also, an index may need to be provided to map the 
   LDP entity with its associated IfIndex in the IF-MIB.) 
     
   MPLS-LDP-HIST-STD-MIB DEFINITIONS ::= BEGIN 
    
   IMPORTS 
       OBJECT-TYPE, MODULE-IDENTITY, NOTIFICATION-TYPE, 
       Counter32 
           FROM SNMPv2-SMI 
       MODULE-COMPLIANCE, OBJECT-GROUP, NOTIFICATION-GROUP 
  
Lai, et al              Category - Expiration                [Page 4] 
Internet-Draft  Supplementary History Module for MPLS LDP-MIB Oct 2003 
 
 
           FROM SNMPv2-CONF 
    
       mplsStdMIB 
           FROM MPLS-TC-STD-MIB 
    
       mplsLdpEntityTable, 
       mplsLdpSessionTable 
           FROM MPLS-LDP-STD-MIB; 
    
   mplsLdpHistStdMIB MODULE-IDENTITY 
       LAST-UPDATED "200310171200Z"  -- 17 October 2003 
       ORGANIZATION "Multiprotocol Label Switching (mpls) 
                     Working Group" 
    
       CONTACT-INFO 
           "Wai Sum Lai (wlai@att.com) 
            AT&T 
             
            Working Group Chairs: 
            George Swallow,   email: swallow@cisco.com 
            Loa Andersson,    email: loa@pi.se 
    
            MPLS Working Group, email: mpls@uu.net" 
    
       DESCRIPTION 
           "Copyright (C) The Internet Society (2003).  This 
           version of this MIB module is part of RFCXXX; see 
           the RFC itself for full legal notices. 
    
           This MIB Module contains managed object definitions for the 
           'Multiprotocol Label Switching, Label Distribution 
           Protocol, LDP History Module' document." 
    
   -- Revision History 
    
       REVISION "200310171200Z"  -- 17 October 2003 
       DESCRIPTION 
           "Initial draft version." 
    
       ::= { mplsStdMIB XXX } -- to be assigned by IANA 
    
   --**************************************************************** 
    
   mplsLdpHistObjects   OBJECT IDENTIFIER ::= { mplsLdpHistStdMIB 1 } 
    
   --**************************************************************** 
   -- MPLS LDP History Module Objects 
   --**************************************************************** 
    
   -- 
   -- The MPLS LDP Entity History Table 
   -- 
    
  
Lai, et al              Category - Expiration                [Page 5] 
Internet-Draft  Supplementary History Module for MPLS LDP-MIB Oct 2003 
 
 
   mplsLdpEntityHistTable OBJECT-TYPE 
       SYNTAX      SEQUENCE OF MplsLdpEntityHistEntry 
       MAX-ACCESS  not-accessible 
       STATUS      current 
       DESCRIPTION 
           "This table is a read-only table which augments 
           the mplsLdpEntityTable.  The purpose of this 
           table is to keep historical statistics information 
           about the LDP Entities on the LSR." 
       ::= { mplsLdpHistObjects 1 } 
    
   mplsLdpEntityHistEntry OBJECT-TYPE 
       SYNTAX      MplsLdpEntityHistEntry 
       MAX-ACCESS  not-accessible 
       STATUS      current 
       DESCRIPTION 
           "A row in this table contains statistical information 
           about an LDP Entity." 
       AUGMENTS       {   mplsLdpEntityEntry  } 
       ::= { mplsLdpEntityHistTable 1 } 
    
   MplsLdpEntityHistEntry ::= SEQUENCE { 
       mplsLdpEntityHistAttemptedSession     Counter32, 
       mplsLdpEntityHistEstablishedSessions  Counter32, 
       mplsLdpEntityHistTerminatedSessions   Counter32 
   } 
    
   mplsLdpEntityHistAttemptedSessions OBJECT-TYPE 
       SYNTAX      Counter32 
       MAX-ACCESS  read-only 
       STATUS      current 
       DESCRIPTION 
           "This value indicates the specific number of attempts made 
           to establish LDP Sessions between two peers in the 
           corresponding label space, whether those attempts are 
           successful or not.  This is a running counter that is only 
           re-initialized whenever the LDP Entity is initialized." 
       ::= { mplsLdpEntityHistEntry 1 } 
    
   mplsLdpEntityHistEstablishedSessions OBJECT-TYPE 
       SYNTAX      Counter32 
       MAX-ACCESS  read-only 
       STATUS      current 
       DESCRIPTION 
           "This value indicates the specific number of successful 
           attempts made to establish LDP Sessions between two peers 
           in the corresponding label space.  This is a running 
           counter that is only re-initialized whenever the LDP Entity 
           is initialized." 
       ::= { mplsLdpEntityHistEntry 2 } 
    
   mplsLdpEntityHistTerminatedSessions OBJECT-TYPE 
       SYNTAX      Counter32 
  
Lai, et al              Category - Expiration                [Page 6] 
Internet-Draft  Supplementary History Module for MPLS LDP-MIB Oct 2003 
 
 
       MAX-ACCESS  read-only 
       STATUS      current 
       DESCRIPTION 
           "This value indicates the specific number of terminated 
           LDP sessions between two peers in the corresponding label 
           space.  This is a running counter that is only 
           re-initialized whenever the LDP Entity is initialized." 
       ::= { mplsLdpEntityHistEntry 3 } 
    
   -- 
   -- The MPLS LDP Session History Table 
   -- 
    
   mplsLdpSessionHistTable OBJECT-TYPE 
       SYNTAX      SEQUENCE OF MplsLdpSessionHistEntry 
       MAX-ACCESS  not-accessible 
       STATUS      current 
       DESCRIPTION 
           "A table of historical statistical information 
           for Sessions between the LDP Entities 
           and LDP Peers.  This table AUGMENTS the 
           mplsLdpSessionTable.  Each row in this table 
           represents a single session." 
       ::= { mplsLdpHistObjects 2 } 
    
   mplsLdpSessionHistEntry OBJECT-TYPE 
       SYNTAX      MplsLdpSessionHistEntry 
       MAX-ACCESS  not-accessible 
       STATUS      current 
       DESCRIPTION 
           "An entry in this table represents information on a 
           single session between an LDP Entity and LDP Peer. 
           The information contained in a row is read-only. 
       AUGMENTS { mplsLdpSessionEntry } 
       ::= { mplsLdpSessionHistTable 1 } 
    
   MplsLdpSessionHistEntry ::= SEQUENCE { 
       mplsLdpSessionHistSucessPackets     Counter32, 
       mplsLdpSessionHistUnsuccessPackets  Counter32 
   } 
    
   mplsLdpSessionHistSucessPackets OBJECT-TYPE 
       SYNTAX      Counter32 
       MAX-ACCESS  read-only 
       STATUS      current 
       DESCRIPTION 
           "This value indicates the specific number of 
           packets successfully sent over the LDP Sessions. 
           This is a running counter that is only 
           re-initialized whenever the associated LDP Entity 
           is initialized." 
       ::= { mplsLdpSessionHistEntry 1 } 
    
  
Lai, et al              Category - Expiration                [Page 7] 
Internet-Draft  Supplementary History Module for MPLS LDP-MIB Oct 2003 
 
 
   mplsLdpSessionHistUnsuccessPackets OBJECT-TYPE 
       SYNTAX      Counter32 
       MAX-ACCESS  read-only 
       STATUS      current 
       DESCRIPTION 
           "This value indicates the specific number of 
           packets unsuccessfully sent over the LDP Sessions. 
           This is a running counter that is only 
           re-initialized whenever the associated LDP Entity 
           is initialized." 
       ::= { mplsLdpSessionHistEntry 2 } 
    
   END 
    
4. Conclusions 
    
   To be added. 
    
5. Security Considerations 
    
   To be added. 
    
6. References 
    
   Normative References 
 
   1  J. Cucchiara, H. Sjostrand, and J. Luciani, "Definitions of 
      Managed Objects for the Multiprotocol Label Switching, Label 
      Distribution Protocol (LDP)," Internet-Draft, Work in Progress. 
    
   Informative References 
    
7. Acknowledgments 
    
   To be added. 
    
8. Co-authors' Addresses 
    
   Jerry Ash 
   AT&T Labs 
   Room D5-2A01 
   200 Laurel Avenue 
   Middletown, NJ 07748, USA 
   Phone: +1 732-420-4578 
   Email: gash@att.com 
    
   Li-Jin W. Chung 
   AT&T Labs 
   Room C4-2A05 
   200 Laurel Avenue 
   Middletown, NJ 07748, USA 
   Phone: +1 732-420-8449 
   Email: lic@att.com 
  
Lai, et al              Category - Expiration                [Page 8] 
Internet-Draft  Supplementary History Module for MPLS LDP-MIB Oct 2003 
 
 
    
9. Author's Addresses 
    
   Wai Sum Lai 
   AT&T Labs 
   Room D5-3D18 
   200 Laurel Avenue 
   Middletown, NJ 07748, USA 
   Phone: +1 732-420-3712 
   Email: wlai@att.com 
    
    
Full Copyright Statement 
 

   "Copyright (C) The Internet Society (date). All Rights Reserved. 
   This document and translations of it may be copied and furnished to 
   others, and derivative works that comment on or otherwise explain it 
   or assist in its implmentation may be prepared, copied, published 
   and distributed, in whole or in part, without restriction of any 
   kind, provided that the above copyright notice and this paragraph 
   are included on all such copies and derivative works. However, this 
   document itself may not be modified in any way, such as by removing 
   the copyright notice or references to the Internet Society or other 
   Internet organizations, except as needed for the purpose of 
   developing Internet standards in which case the procedures for 
   copyrights defined in the Internet Standards process must be 
   followed, or as required to translate it into languages other than 
   English. 
    
   The limited permissions granted above are perpetual and will not be 
   revoked by the Internet Society or its successors or assigns. 
    
   This document and the information contained herein is provided on an 
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING 
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING 
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION 
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF 
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. 
















  
Lai, et al              Category - Expiration                [Page 9] 