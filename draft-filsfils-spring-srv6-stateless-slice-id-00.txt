



SPRING                                                  C. Filsfils, Ed.
Internet-Draft                                              F. Clad, Ed.
Intended status: Standards Track                            P. Camarillo
Expires: July 20, 2020                                           K. Raza
                                                     Cisco Systems, Inc.
                                                        January 17, 2020


      Stateless and Scalable Network Slice Identification for SRv6
            draft-filsfils-spring-srv6-stateless-slice-id-00

Abstract

   This document defines a stateless and scalable solution to achieve
   network slicing with SRv6.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on July 20, 2020.

Copyright Notice

   Copyright (c) 2020 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.




Filsfils, et al.          Expires July 20, 2020                 [Page 1]

Internet-DrafStateless and Scalable Network Slice Identific January 2020


Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Slice Identifier  . . . . . . . . . . . . . . . . . . . . . .   2
   3.  Ingress PE SLID Assignment  . . . . . . . . . . . . . . . . .   2
   4.  Per-Slice Forwarding  . . . . . . . . . . . . . . . . . . . .   3
   5.  Bandwidth-Allocation Slice  . . . . . . . . . . . . . . . . .   3
   6.  Backward Compatibility  . . . . . . . . . . . . . . . . . . .   3
   7.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   4
   8.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   4
     8.1.  Normative References  . . . . . . . . . . . . . . . . . .   4
     8.2.  Informative References  . . . . . . . . . . . . . . . . .   4
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   4

1.  Introduction

   SRv6 Network Programming[I-D.ietf-spring-srv6-network-programming]
   enables the creation of overlays with underlay optimization to be
   deployed in an SR domain[RFC8402].

   As defined in [I-D.ietf-6man-segment-routing-header], all inter-
   domain packets are encapsulated for the part of the packet journey
   that is within the SR domain.  The outer IPv6 header is originated by
   a node of the SR domain and is destined to a node of the SR domain.

   This document describes a stateless encoding of slice identification
   in the outer IPv6 header of an SR domain.  The slice identification
   is independent of topology and the QoS/DiffServ policy of the
   network, thus enabling scalable network slicing for SRv6 overlays.

2.  Slice Identifier

   Each network slice in an SR domain is uniquely identified by an 8-bit
   Slice Identifier (SLID).

3.  Ingress PE SLID Assignment

   When an ingress PE receives a packet that traverses the SR domain, it
   encapsulates the packet in an outer IPv6 header and optional SRH as
   defined in [I-D.ietf-6man-segment-routing-header].  The ingress PE
   MAY also classify the packet into a slice and set the slice
   identifier as follows:

   o  Set the SPI bit (SLID Presence Indicator) in the Traffic Class
      field of the outer IPv6 header.

   o  Write this SLID in the 8 most significant bits of the Flow Label
      field of the outer IPv6 header.  The remaining 12 bits of the Flow



Filsfils, et al.          Expires July 20, 2020                 [Page 2]

Internet-DrafStateless and Scalable Network Slice Identific January 2020


      Label field were set as described in section 5.5 of
      [I-D.ietf-6man-segment-routing-header] for inter-domain packets.

   The slice classification method is outside the scope of this
   document.

   The choice of the SPI bit from within the IPv6 Traffic Class field is
   a domain-wide configuration and is outside the scope of this
   document.

4.  Per-Slice Forwarding

   Any router within the SR domain that forwards a packet with SPI bit
   set uses the SLID to select a slice and apply per-slice policies.

   There are many different policies that could define a slice for a
   particular application or service.  The most basic of these is
   bandwidth-allocation, an implementation complying with this
   specification SHOULD support the bandwidth-allocation slice as
   defined in the next section.

5.  Bandwidth-Allocation Slice

   A per-slice policy is configured at each interface of each router in
   the SR domain, with one traffic shaper per SLID.  The bitrate of each
   shaper is configured to reflect the bandwidth allocation of the per-
   slice policy.

   If shapers are not available, or desirable, an implementation MAY
   configure one scheduling queue per SLID with a guaranteed bandwidth
   equal to the bandwidth-allocation for the slice.  This option allows
   a slice to consume more bandwidth than its allocation when available.

   Per-slice shapers or queues effectively provides a virtual port per
   slice.  This solution MAY be complemented with a per-virtual-port
   hierarchical DiffServ policy.  Within the context of one specific
   slice, packets are further classified into children DiffServ queues
   which hang from the virtual port.  The DSCP value in the IPv6 header
   SHOULD be used for queue selection.

6.  Backward Compatibility

   The Flow Label usage described in this document is consistent with
   [RFC6437] and [RFC6438].

   PE routers that do not set the SPI bit do not enable the SLID
   semantic of the Flow Label bits.  Hence, SLID-aware routers would not
   attempt to classify these packets into a slice.



Filsfils, et al.          Expires July 20, 2020                 [Page 3]

Internet-DrafStateless and Scalable Network Slice Identific January 2020


   Any router that does not process the SPI nor the SLID forwards
   packets as usual.

7.  Acknowledgements

   The authors would like to thank Darren Dukes, Ketan Talaulikar, Jisu
   Bhattacharya, John Bettink, and Aman Manot for their insightful
   feedback on this document.

8.  References

8.1.  Normative References

   [I-D.ietf-6man-segment-routing-header]
              Filsfils, C., Dukes, D., Previdi, S., Leddy, J.,
              Matsushima, S., and D. Voyer, "IPv6 Segment Routing Header
              (SRH)", draft-ietf-6man-segment-routing-header-26 (work in
              progress), October 2019.

   [I-D.ietf-spring-srv6-network-programming]
              Filsfils, C., Camarillo, P., Leddy, J., Voyer, D.,
              Matsushima, S., and Z. Li, "SRv6 Network Programming",
              draft-ietf-spring-srv6-network-programming-07 (work in
              progress), December 2019.

   [RFC8402]  Filsfils, C., Ed., Previdi, S., Ed., Ginsberg, L.,
              Decraene, B., Litkowski, S., and R. Shakir, "Segment
              Routing Architecture", RFC 8402, DOI 10.17487/RFC8402,
              July 2018, <https://www.rfc-editor.org/info/rfc8402>.

8.2.  Informative References

   [RFC6437]  Amante, S., Carpenter, B., Jiang, S., and J. Rajahalme,
              "IPv6 Flow Label Specification", RFC 6437,
              DOI 10.17487/RFC6437, November 2011,
              <https://www.rfc-editor.org/info/rfc6437>.

   [RFC6438]  Carpenter, B. and S. Amante, "Using the IPv6 Flow Label
              for Equal Cost Multipath Routing and Link Aggregation in
              Tunnels", RFC 6438, DOI 10.17487/RFC6438, November 2011,
              <https://www.rfc-editor.org/info/rfc6438>.

Authors' Addresses








Filsfils, et al.          Expires July 20, 2020                 [Page 4]

Internet-DrafStateless and Scalable Network Slice Identific January 2020


   Clarence Filsfils (editor)
   Cisco Systems, Inc.
   Belgium

   Email: cf@cisco.com


   Francois Clad (editor)
   Cisco Systems, Inc.
   France

   Email: fclad@cisco.com


   Pablo Camarillo
   Cisco Systems, Inc.
   Spain

   Email: pcamaril@cisco.com


   Kamran Raza
   Cisco Systems, Inc.
   Canada

   Email: skraza@cisco.com

























Filsfils, et al.          Expires July 20, 2020                 [Page 5]
