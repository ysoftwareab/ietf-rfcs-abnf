Internet Engineering Task Force                           Yoshiharu Itoh
INTERNET-DRAFT                                                   TOYOCOM
<draft-itoh-ion-nhrp-mixed-pvp-00.txt>
Expires December, 1999

    Configuration of NHRP over Mixed Environment with PVC and SVC

Status of this Memo

This document is an Internet-Draft and is in full conformance with all
provisions of Section 10 of RFC2026.

Internet-Drafts are working documents of the Internet Engineering Task
Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.

Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any
time. It is inappropriate to use Internet-Drafts as reference
material or to cite them other than as ``work in progress.''

The list of current Internet-Drafts can be accessed at
http://www.ietf.org/ietf/1id-abstracts.txt

The list of Internet-Draft Shadow Directories can be accessed at
http://www.ietf.org/shadow.html.

To learn the current status of any Internet-Draft, please check the
 ``1id-abstracts.txt'' listing contained in the Internet-Drafts Shadow
Directories on ds.internic.net (US East Coast), nic.nordu.net (Europe),
 ftp.isi.edu (US West Coast), or munnari.oz.au (Pacific Rim).

Abstract

 This document describes an address resolution process tailored to work
under NBMA Next Hop Resolution Protocol (NHRP)[1] over Asynchronous
Transfer Mode (ATM) network with mixture of PVC environment and SVC
environment. Now consider the case where NHRP clients, each are
connected to PVC network, try to communicate each other through SVC
network existing on the path between the PVC networks of each client.

 For this purpose, a straight forward application of resources in PVC
can not be possible because of the fixed characteristics of resource
in PVC network. Therefore a specific process need to be adopted for
deciding virtual path (VP) and virtual connection (VC) necessitated
in SVC. Signaling[2] thus generated in SVC by utilizing the resource
given from PVC can do this job, and finally the path can be established.

Itoh                                                            [Page 1]

INTERNET-DRAFT                   Mixed PVP         Expires December 1999

 The description on the above matters are given here in detail for the
 network configuration of PVC-SVC-PVC.

1. Introduction

 Address resolution process applicable to ATM network with mixture of
PVC environment and SVC environment is described here in this document.
 Before going into the description of the process on mixed
configuration,
 a brief view on respective environment will be given below.

 NHRP[1] specifies an address resolution process on SVC network with
plural logically independent IP subnets. In PVC network, address
resolution is straight forward because of the existence of rigid
correspondence between IP address and VP/VC. Farther details are in
NHRP.

1.1 Address Resolution over PVC Network

 In PVC network, virtual connection is explicitly established in advance
to each NHRP Client (NHC), therefore for each initiation of NHRP
Resolution Request, NHRP server (NHS) must respond to source NHC with
VP/VC corresponding to destination protocol address.

 The source NHC, then apply this specific VP/VC decided by the
destination NHS to establish the network communication.

1.2 Address Resolution over SVC Network

 Contrast to PVC network, SVC network is characterized by utilizing
Signaling[2] to establish the necessitated resource for communication.
 In SVC network, to each initiation of NHRP Resolution Request in source
 NHC, destination NHS must respond to that request with the destination
 NHC's ATM address as NHRP Resolution Reply. On receiving that NHRP
Resolution Reply, source NHC decides VP/VC by utilizing Signaling, that
is to say source NHC has a right of decision on resource. For further
details on this matter, refer to NHRP[1].

Itoh                                                            [Page 2]

INTERNET-DRAFT                   Mixed PVP         Expires December 1999

2. Address Resolution over Mixed Environment

 Here describes address resolution process over network with a mixed
configuration of PVC and SVC.

2.1 Constraints on Network Configuration

 Assume that the network under consideration satisfies the following
constraints.

 NHC is connected directly to PVC. In PVC network, value of VP/VC for
IP address is pre-assigned and fixed.

  $ Source PVC network construct LIS.

  $ One and only one SVC network that construct LIS can exist on a path.

  $ Destination PVC network construct LIS.

  $ From the above, these actual communication network has a path of
    PVC-SVC-PVC chain.

  $ Adjoining NHS have already established NHRP connection.

2.2 Address Resolution Process

 From the constraints of 2.1, address resolution process can be streamed
 as following.

  $ Source NHC transmits NHRP Resolution Request.

  $ Source NHS forwards NHRP Resolution Request to SVC network.

  $ NHS in SVC network forwards NHRP Resolution Request to destination
    NHS.

  $ Destination NHS responds to destination NHC with the assigned VP/VC
    to that destination NHC and also ATM address of destination NHS
    through NHRP Resolution Reply packet.

  $ NHRP Resolution Reply arrives at the source NHS through the path on
    which the NHRP Resolution Request has been forwarded.

  $ On the arrival of the NHRP Resolution Reply, source NHS initiates
    Signaling toward destination NHS using the ATM address and VP/VC
    given in that NHRP Resolution Reply Packet.

Itoh                                                            [Page 3]

INTERNET-DRAFT                   Mixed PVP         Expires December 1999

  $ The VP/VC assigned in that reply packet is used in SVC network.

  $ Source NHS responds to the source NHC with the VP/VC by NHRP
    Resolution Reply packet.

  $ Then, source NHC starts communication using that VP/VC in reply
    packet.

2.3 Characterizing Factor of this Process

 Through the process described in 2.2, destination NHS decides the VP/VC
 available between NHCs in a mixed environment. This is just the same
 way as they are in a ordinary PVC network.

 In NHRP as was described in 2.2, source NHC decides VP/VC even though
destination NHC can receive only assigned VP/VC. This is one of the
characterizing factor of this process. Using an assigned VP/VC in
Signaling is also a specific in this process, contrast to this, in
ordinary way of Signaling, an initiating node decides VP/VC and only
if it is accepted at the destination node, network communication can be
 established. It can be recognized that using assigned VP/VC in
Signaling presents better connectability compared with the ordinary
Signaling.

 By employing the process described, NHS provides a function of address
 resolution and also of resource management for registered NHCs.

 Another characterizing factor of this configuration is the
simplification of function of NHC by discarding Signaling function.

3. PVC Cut-through

 This section shows a method of realizing cut-thorough by connecting
specific path to PVC network in advance.

3.1 Configuration of specific path network

 For the specific path network, assume the following specifications.

  $ There exist LIS-1 and LIS-2 being connected by PVC, and they are
    connected each other through PVC network.

  $ NHS of LIS-1 (NHS-1) recognizes NHS of LIS-2 (NHS-2) as its Next
    Hop.

  $ NHS-2 recognizes NHS-1 as its Next Hop.

Itoh                                                            [Page 4]

INTERNET-DRAFT                   Mixed PVP         Expires December 1999

  $ Our concern is restricted on a communication from NHC of LIS-1
    (NHC-1) to NHC of LIS-2 (NHC-2).

3.2 Process of Address Resolution

The address resolution, under the specification in 3.1, can be streamed
 as following.

  $ NHRP Resolution Request is transmitted from NHC-1 to NHC-2.

  $ NHS-1 forwards NHRP Resolution Request to NHS-2.

  $ NHS-2 responds to NHS-1 with VP/VC assigned to NHC-2 through NHRP
    Resolution Reply.

  $ NHS-1 responds to NHC-1 with NHRP Resolution Reply from NHS-2.

  $ NHC-1 initiates communication with NHC-2 by using VP/VC in the NHRP
    Resolution Reply.

3.3 Advantage of Cut-through Process

 In case of steadily heavy traffic is anticipated, like in the case of
connecting distant LANs together, an ordinary SVC network would cause
heavy Signaling load, in such case, an effective solution for the
reduction of load, would be to connect LIS by PVC and then apply address
 resolution process described in 3.2.

To do this, the configuration in 3.1 can work well, because target LIS
is registered in NHS as a next hop in advance, Address Resolution
Request
 is transferred directly to LIS without transferring to SVC network, so
 that address resolution load can be greatly reduced.

Another advantage of cut-through network application is, to an
anticipated traffic, network can prepare resources in advance, so that
 can offer better service, and also expected to be applicable in the
virtual LAN (VLAN) technology.

Itoh                                                            [Page 5]

INTERNET-DRAFT                   Mixed PVP         Expires December 1999

Reference

[1] Luciani, J. V., Katz, D., Piscitello, D., and B. Cole,
    "NBMA Next Hop Resolution Protocol (NHRP).", RFC 2332,
    Bay Networks, Cisco Systems, Core Competence, Inc.,
    December 1997

[2] ATM Forum, "ATM User-Network Interface (UNI) Specification
    Version 3.1.", ISBN 0-13-393828-X, Prentice-Hall, Inc., Upper
    Saddle River, NJ, 07458, September, 1994.

Author's Addresses

 Yoshiharu Itoh
 TOYO Communication Equipment CO.,LTD
 1-1, Koyato 2-choume, Samukawa-machi,
 Koza-gun, Kanagawa-Pref., JAPAN 253-0192

 Phone:+81 467 74 7800
 FAX:    +81 467 74 5693
 Email: y_itoh@toyocom.co.jp

Itoh                                                            [Page 6]
