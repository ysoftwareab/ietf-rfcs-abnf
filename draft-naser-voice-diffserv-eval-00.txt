

INTERNET-DRAFT                                             Hassan Naser
Diffserv Working Group                              Alberto Leon-Garcia
Expires: June 1999                Dept. of Electrical and Computer Eng.
						  University of Toronto
					    Toronto, ON M5S 3G4, Canada
						       Osama Aboul-Magd
							Nortel Networks
					     Ottawa, ON K1Y 4H7, Canada
							  December 1998


		     Voice over Differentiated Services
                  <draft-naser-voice-diffserv-eval-00.txt>


Status of This Memo

   This document is an Internet-Draft.  Internet-Drafts are working
   documents of the Internet Engineering Task Force (IETF), its areas,
   and its working groups.  Note that other groups may also distribute
   working documents as Internet-Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   To view the entire list of current Internet-Drafts, please check the
   "1id-abstracts.txt" listing contained in the Internet-Drafts Shadow
   Directories on ftp.is.co.za (Africa), ftp.nordu.net (Northern
   Europe), ftp.nis.garr.it (Southern Europe), munnari.oz.au (Pacific
   Rim), ftp.ietf.org (US East Coast), or ftp.isi.edu (US West Coast).


Abstract

   We study the performance of the Constant Bit Rate (CBR) and the
   interpolated ON-OFF voice over the differentiated services
   Internet.  Both the Premium and Assured services are tested, and
   their relative performance is investigated. Using these services, at
   the DS3 rate, the call handling capacity can be doubled, at the
   expense of packetization delay and a few milliseconds packet delay.
   Also, at a reasonable load level, if the Assured flows are smooth
   their playout delay could be limited to a few milliseconds. This is
   true even in the presence of the higher-priority Premium flows.  The
   loss rate of the Assured packets at the RIO buffer is observed to be
   within the order of 10^(-06), where as the best effort packet loss
   rate is within the order of 10^(-02).  Finally, shaping the Premium
   traffic reaches diminishing returns; shaping could often exceedingly
   increase the end-to-end delay and jitter of the Premium traffic.

   A pdf or ps version of this document is available at:
   http://www.comm.toronto.edu/~hnaser/page2.html#pub96

Naser, et. al.          Expires: June 1999                   [Page  1]

INTERNET-DRAFT       Differentiated Services Field         December 1998

1. Introduction

   We present a simulation study of voice transmission over the two-bit
   differentiated services [2BIT] for the Internet.  The ``Premium''
   service is proposed by Jacobson [2BIT] to meet the demand for high
   quality service. This service essentially creates a ``virtual line''
   with the bandwidth equal to the desired peak bit-rate being
   negotiated.  The Premium flows are expected to experience a very
   small queuing delay and delay-jitter inside the network. This
   service could potentially yield the levels of quality that the
   Constant Bit Rate (CBR) applications require.

   The ``Assured'' service proposed by Clark et al. [Clark1] [Clark2]
   provides a ``better level'' of service than the ordinary ``best
   effort'' service, during period of network congestion.  The level of
   service assurance is determined by an expected bit-rate that is
   negotiated with the network. If the level of assurance is not
   satisfactory, then a higher bit-rate must be (re)negotiated.  This
   service allows more statistical multiplexing of data, at the expense
   of lower quality, than the Premium service.  The Assured service
   might be useful for transmitting the Variable Bit Rate (VBR)
   traffic, such as the interpolated ON-OFF voice.  However, the
   achievable quality of service needs to be investigated.

   Reference [2BIT] lists the benefits of deploying both Premium and
   Assured services, and provides a set of common mechanisms in the
   access, core, and border routers of an internet in order to
   implement them. The network routers that deploy both services always
   serve the Premium traffic with a high priority over the Assured and
   best-effort traffic.  This, however, should not significantly
   deteriorate the performance of Assured flows as long as the Premium
   allocations remain small.

   For the combined architecture to work, the access routers (or other
   edge devices) classify the flows, and check their conformity to the
   contracted profile.  The Premium flows need to be shaped in order to
   generate sufficiently smooth traffic.  Regardless of what shaping
   mechanism is chosen, one can speculate that the Premium flows must
   initially be smooth, or else, shaping can have a effect. For
   example, our study of bursty video traffic (the results are
   not reported here) indicates that shaping can introduce large delay
   and delay-jitter into the Premium traffic.

   Currently, there are two mechanisms favored by the DiffServ
   community to implement the conformity check (i.e,
   policing/reshaping) at the access routers. The ``rate estimator''
   mechanism [Clark2] measures the sending-rate of the corresponding
   TCP flow, and allows the policer to mark packets once the measured
   rate exceeds a certain threshold. On the other hand, the ``leaky
   bucket'' mechanism measures the amount of data that a flow generates

Naser, et. al.          Expires: June 1999                   [Page  2]

INTERNET-DRAFT       Differentiated Services Field         December 1998

   over any time interval. If the amount of data exceeds a certain
   threshold the leaky bucket marks (or discards in some
   implementations) the flow's packets.  We chose to implement the
   ``leaky bucket'' mechanism as a means of checking the traffic
   conformity. For voice and video traffic, the performance of the
   leaky bucket mechanism has long been investigated. We also use this
   mechanism to implement the border policing functions. The
   performance of the rate estimator mechanism needs to be studied for
   voice and video traffic.

   In this draft, we study the performance of Premium service and
   Assured service for CBR and ON-OFF voice traffic.  We will examine
   the relative performance of the Premium and Assured services in a
   congested network.  We will identify the situations where the
   Premium performance does not change significantly, while the Assured
   traffic performance deteriorates. The parameters of our study are
   the packet length, the level of network load (i.e, the fraction
   of time that the network nodes are busy, servicing the packets),
   the relative portion of the link bandwidth assigned to each service
   class, and the number of sources that compete for service at each
   node.

   First, we briefly review the common architecture used to implement
   the differentiated services [2BIT]. We refer the reader to the
   reference for a more detailed explanation.  We then introduce our
   network model and the simulated parameters. Finally, we end our
   report with a discussion of results.


2. Implementation of Differentiated Services

   Figure 1 shows our implementation of the differentiated services
   architecture proposed in [2BIT].  The network elements deployed both
   Premium and Assured services in addition to the default best effort
   service. These network elements are: leaf routers, core routers, and
   border routers of the Internet.

   Figure 1: (see pdf or ps form of document for all figures and tables).

   Leaf routers were configured with ``traffic profiles'' of individual
   differentiated services flows. Each traffic profile set up a
   ``traffic Marker'' with the appropriate per flow traffic
   descriptors. In our implementation, the Markers were leaky buckets
   that compared the generated user traffic against the configured rate
   and burst traffic descriptors.  Unless otherwise stated, the Premium
   bucket rate was configured with the flow's peak bit-rate. The burst
   size (bucket depth) of the Premium Marker was set to the size of the
   largest packet the flow generated.  The Premium Marker shaped the
   arriving traffic by enqueuing the user data generated faster than
   the bucket consumption rate.  Thus, all packets that emerged from

Naser, et. al.          Expires: June 1999                   [Page  3]

INTERNET-DRAFT       Differentiated Services Field         December 1998

   the Marker were considered conforming Premium packets, albeit to a
   probable (large) shaping delay.

   The Assured (leaky bucket) Marker was set up with the flow's
   requested rate and burst size.  Unlike, the Premium flows, the
   Assured flows were allowed to inject large traffic bursts into the
   network.  This was done by demoting the non-conforming packets to
   best effort. Thus, the Assured Marker acted as a policer leaving
   non-conforming packets to be discarded inside the network.

   The network routers do not keep per flow information but rather act
   on the aggregate differentiated traffic. At each output interface of
   a router, two priority queues were deployed. The arriving Premium
   packets were assigned to the high-priority queue, whereas the
   Assured and best-effort packets were assigned to the other queue.
   The former queue has a simple ``non-preemptive'' priority over the
   later queue. A pair of Random Early Discard (RED) buffer management
   mechanisms were implemented on the low-priority queue. One RED
   mechanism acted upon the Assured packets, while the other RED
   mechanism acted upon the best-effort packets. As in [Clark1], we
   refer to the twin RED mechanisms as RED with In and Out (RIO).

   At the input interface of an ingress border router, two profile
   meters were employed. One meter policed the arriving Premium
   packets, while the other meter policed the arriving Assured
   packets.  The meters were token buckets configured with the
   aggregate Premium and Assured rates negotiated at the border,
   respectively. The function of the Premium token bucket was slightly
   different from the Assured token bucket. The non-conforming Premium
   packets were discarded immediately by the Premium token bucket,
   while the non-conforming Assured packets were reclassified and sent
   as best effort by the Assured token bucket.


3. Network Model

   We have simulated the end-to-end network shown in Figure 2. The
   network consists of three core routers each modeled as a node with
   two-level priority queues.  The last node is also augmented with the
   border policing functions described before. At each node, three
   classes of traffic-flows compete for the network resources; the
   Premium flows, the Assured flows, and the best effort flows. At each
   node, the number of flows within each class is represented by N_P,
   N_A, and N_BE, respectively. For simplicity, we ignore the queueing
   delay at the leaf routers.  For this, the only points of
   queuing/multiplexing are within the core routers. However, the leaf
   routers still reshape (in case of Premium) or police (in case of
   Assured) flows with the Markers described in the last section.

   Figure 2: (see pdf or ps form of document for all figures and tables).

Naser, et. al.          Expires: June 1999                   [Page  4]

INTERNET-DRAFT       Differentiated Services Field         December 1998

   At the output of each core node, some 40% of the flows are exited,
   and the remaining flows sustain the end-to-end path either partially
   or completely. We choose to collect the statistics of two reference
   flows:  a Premium flow and an Assured flow, both taking the same
   end-to-end path.

   There are two types of traffic inside the network. The traffic
   generated by Constant Bit Rate (CBR) sources, and the traffic
   generated by ON-OFF sources. Both sources have shown to be good
   models for generating simulated voice traffic, depending on the
   coding or shaping schemes used at the application level. In this
   study, the traffic sources generate constant size packets.  Table 1
   summarizes the sources' traffic descriptors used as our baseline
   study. Throughout the discussion, some of these parameters are
   changed in order to study their effects on the network performance.

   In this draft, unless otherwise stated, all parameters are
   represented in unit of bytes or bytes/second.  In Table 1, the
   token bucket parameters represent values assigned to each flow's
   traffic Marker. The token bucket parameters of the ON-OFF source
   were obtained so that 90% of the generated packets were conforming.
   Thus, when the source generated Assured flow, 10% of the packets
   were reclassified as best effort by the corresponding Marker.

   Table 1: (see pdf or ps form of document for all figures and tables).

   The core links ran at 45Mbps (5.625MBps). The proportion of the link
   assigned to each differentiated class is 20% for the Premium, 40%
   for the Assured, and the remaining 40% for the best effort. For the
   Premium and Assured classes, the aggregate token rate of the border
   policers was set to the above proportions: the aggregate Premium
   token rate was set to 1.125MBps, whereas the Assured token rate was
   set to 2.25MBps.  The bucket depth of the policers however varied
   for each simulation scenario; they were set to the sum of the bucket
   depth of all flows that reached the border. For instance, where
   there were N_P = 140 Premium CBR flows, and N_A = 703 Assured ON-OFF
   flows, the corresponding bucket depth of the border policers were
   140 * 576 bytes (for Premium) and 703 * 3744 bytes (for Assured).

   The size of the premium queue at each core node was set to 30
   packets.  For this, the maximum queuing delay of the reference
   Premium packets (each of size 576 bytes) was bounded by 10
   milliseconds. For the baseline case, where the non-Premium packets
   were also 576 bytes, the size of the RIO queue at each node was set
   to 650 packets. Assuming there is no Premium flow in the network,
   the maximum queuing delay of a reference Assured packet is bounded
   by 200 milliseconds. Throughout this work, we choose this delay
   bound in order to find the RIO queue size at each node.

Naser, et. al.          Expires: June 1999                   [Page  5]

INTERNET-DRAFT       Differentiated Services Field         December 1998

   The RIO parameters were set as the following. Like [Ibanez], the
   minimum and maximum thresholds for the ``OUT'' packets were set to
   40% and 80% of the total RIO queue size, respectively.  The minimum
   and maximum thresholds for the ``IN'' packets were set to 45% and
   80% of the total RIO queue size, respectively. The OUT and IN
   probabilities were set to 0.05 and 0.02, respectively. Finally, both
   OUT and IN queue weights were set to 0.004. Having said the RIO
   queue size for the baseline case, the simulated RIO parameters are
   listed as follows:  260/520/0.05/0.004 for OUT parameters, and
   295/520/0.02/0.004 for IN parameters.


4. Delay Results

   The baseline case includes (N_A = 703, N_BE = 703) ON-OFF flows, and
   a varying number of CBR flows (N_P) at each node. This fixes the
   total Assured and best effort loads at each node to 0.36 and 0.44,
   respectively. Note that, 10% of the traffic generated by each
   Assured flow is best effort. For this, the observed Assured (best
   effort) load at each node is 10% less (more) than the corresponding
   link proportion assigned to that class (i.e, 0.4).

   Figure 3 illustrates the end-to-end delay performances obtained for
   the reference Premium (shown on the left side) and the reference
   Assured (shown on the right side) flows, as functions of N_P. The
   corresponding total load, averaged over the three core nodes, is
   shown on top of the Figure.  The delay performances are the average
   and the alpha-percentile; where alpha = 99% for the Premium flow,
   and 95% for the Assured flow.  At all load levels, the Premium delay
   performances are less than the corresponding Assured delay
   performances. This is especially true at the high load levels, where
   the difference reaches to two order of magnitude.  Moreover, the
   Premium delay curves begin to rise at a lower load level than the
   Assured delay curves. One reason for this is that the Premium
   bandwidth is scarce (compared to the Assured bandwidth), thus, the
   Premium performance can easily be deteriorated when the Premium
   class is over-subscribed.

   Figure 3: (see pdf or ps form of document for all figures and tables).

   In terms of the playout delay performance, at the highest load level
   shown, 99% of the Premium packets see an end-to-end delay of less
   than 1.15 milliseconds.  At this load level, however, 95% of the
   Assured packets see an end-to-end delay of less than 130
   milliseconds--- still within the 200 milliseconds acceptable bound
   for the voice packets.  At the lowest load level, the Assured
   playout delay is only 2.6 times greater than the Premium playout
   delay. Therefore, the user of the Assured service will have to
   allocate a much larger playout buffer at the destination than the
   Premium user will.

Naser, et. al.          Expires: June 1999                   [Page  6]

INTERNET-DRAFT       Differentiated Services Field         December 1998

   One encouraging result is that the number of accepted voice calls
   (flows) is almost two times larger than the number of voice calls
   that is normally accepted at the DS3 telephone lines. Compare the
   total accepted number of flows here--- this is between 1441 and 1546
   depending on the load level--- with 45Mbps/64kbps ~= 703 flows
   that can be accommodated at the DS3 rate. Even with this radical
   increase in the accepted traffic, the delay performances of the
   Assured flows stay within a reasonable few milliseconds range, as
   long as the network load remains below 95% (see Figure 3).

   Figure 4 illustrates the standard deviation of the same data shown
   in the previous Figure. As the premium load increases, the Assured
   packets tend to experience more and more delay-variation.  In
   contrast, the delay-variation of the Premium packets begins to
   decrease after a certain load level. This is again attributed to the
   over-subscription problem described earlier. At high load the
   majority of Premium packets arrive late at the destination, whereas
   at low load, they arrive early.  In either case the standard
   deviation is low.

   Figure 4: (see pdf or ps form of document for all figures and tables).

   In terms of the packet loss performance, we have not seen any
   Premium packet loss at the core routers. However, at the highest
   load level shown in Figure 3, the Assured packets were discarded by
   the RIO algorithm at the rate approximately equal to 1*10^(-06). The
   rate with which the best effort packets were discarded by the RIO
   algorithm was limited to 2*10^(-02).

   In Figure 5 we compare the effects of the Premium load with the
   Assured load on the performance parameters.  We simulated the case
   where the Premium and Assured flows were all CBRs.  The best effort
   flows were ON-OFFs as in the previous case.  Each CBR generated
   packets at the rates shown in Table 1. Further more, all packets
   generated by an Assured CBR flow were considered conforming, as
   opposed to the previous scenario where 10% of the packets generated
   by any Assured flow were non-conforming.

   Figure 5: (see pdf or ps form of document for all figures and tables).

   On the left side of Figure 5, we show the delay performances (both
   Average and 95% Percentile) of the Assured reference flow, whereas
   on the right we show the maximum RIO buffer occupancy averaged over
   the three core nodes. As RIO is concerned, we took two
   measurements:  the maximum Assured buffer occupancy, and the maximum
   total (i.e, Assured plus best effort) buffer occupancy.  For the
   curves labeled ``PRL20'', the Premium load was fixed at 20% and the
   Assured load was varied from 25% to 40%. For the curves labeled
   ``ASL40'', the Assured load was fixed at 40% and the Premium load
   was varied from 5% to 20%.

Naser, et. al.          Expires: June 1999                   [Page  7]

INTERNET-DRAFT       Differentiated Services Field         December 1998

   As Figure 5 shows, for the same total load, more Premium load
   (PRL20) results in an slight increase in the Assured delay
   performances, compared with the more Assured load case (ASL40). In
   terms of the RIO performance, at very high load levels (> 0.95), the
   PRL20 case creates slightly more congestion in the RIO buffer than
   the ASL40 case. At all other load levels the opposite is almost
   true. One reason for this is that the PRL20 case consistently
   utilizes ``all'' allocated premium bandwidth. This case generates
   more Premium packets than the ASL40 case. At a very high load, these
   Premium packets impede the flow of non-Premium packets at the core
   nodes.  This results in a large RIO congestion when the network
   operates at high load, under the PRL20 case.

   We have also measured the rates at which the packets were discarded
   at the Premium and RIO buffers. At all load levels shown in Figure
   5, there was no Premium or Assured packet loss inside the network.
   Only at the highest load level shown in the figure were the best
   effort packets discarded at the rates of 5.98*10^(-5) and
   1.54*10^(-5) for the PRL20 case and ASL40 case, respectively. At
   other load levels, none of the best effort packets were lost.

   Returning to the delay performance of the Assured reference flow,
   the following interesting observation can be made. The delay
   performance--- either the average or the 95% Percentile--- of the
   ``CBR'' Assured flow (shown in Figure 5) is less than the
   corresponding delay performance of the ``ON-OFF'' Assured flow
   (shown in Figure 3). This is particularly true at the high network
   load, where the playout delay of the CBR Assured flow is bounded by
   20 milliseconds, as compared to the 100 millisecond playout delay of
   the ON-OFF Assured flow.  This means that when the Assured flows are
   smooth, the Assured service can yield a reasonably good delay
   performance. In fact, as long as the load remains below 95%, the
   playout delay of the Assured CBR flow is within a few millisecond,
   slightly larger than what is shown for the Premium CBR flow in
   Figure 3.


5. Effect of Shaping

   The premium flows are assumed to inject a very smooth traffic into
   the core network. For this, the Premium Markers at the leaf routers
   should reshape the user generated traffic. In this section, we study
   the effect of (re)shaping on the Premium and Assured flow
   performances.

   First, we describe the baseline scenario where N_P=140 Premium CBR
   flows were multiplexed with N_A=703 Assured and N_BE=703 best effort
   ON-OFF flows. This maintained the load at each node at nearly 100%.
   Regarding the amount of reshaping of the Premium flows at the leaf

Naser, et. al.          Expires: June 1999                   [Page  8]

INTERNET-DRAFT       Differentiated Services Field         December 1998

   routers, we compared the following four cases shown in Table 2.
   With CBR-1, the CBR flows were essentially not reshaped. The token
   bucket parameters were chosen from Table 1: the token rate was equal
   to the CBR rate and the bucket depth was equal to the length of one
   CBR packet. These parameters were large enough to pass the CBR
   packets intact. With CBR-2, the CBR packets initially had a small
   jitter in their inter-arrival times. We chose this jitter to be
   uniformly distributed in [T-T/50, T+T/50] interval, where T is the
   period of a CBR flow. The corresponding bucket parameters were
   chosen as in the previous case. CBR-3 is the same as CBR-2 with the
   only difference being the bucket depth now chosen to be the size of
   two packets (i.e, 2*576 bytes).  Finally, CBR-4 differs from CBR-2
   in that the token rate of CBR-4 was chosen (1+2/50) larger than the
   token rate of CBR-2 in order to accommodate the initial jitter in
   the packet inter-arrivals.

   Table 2: (see pdf or ps form of document for all figures and tables).

   The delay performances of these four cases are shown in Table 2. For
   CBR-1, we show the 98.8% percentile, as the 95% percentile was not
   available. For this, we should assume a lower percentile value than
   is shown when we compare it with the percentile delays of other
   cases.  With CBR-2, the delay performances are unbelievably high.
   This means that when CBR traffic is shaped, a small jitter in the
   packet inter-arrival times could lead to a large end-to-end delay
   and delay-variation. CBR-1, CBR-3, and CBR-4 essentially have the
   same average/percentile delay performances. The large Standard
   Deviation of CBR-3 or CBR-4 is greatly attributed to the initial
   jitter in the packet inter-arrival times.

   In the next simulation scenario, the Premium sources were also
   ON-OFFs.  This scenario consisted of (N_P=351, N_A=703, N_BE=703)
   ON-OFF sources with the rates indicated in Table 1. The operating
   load at each node was therefore very close to 100%.

   Like an Assured Marker, each Premium Marker generated tokens at 5000
   bytes/sec--- 37.5% below the maximum rate. Should the Premium
   bucket-depth be chosen small, some percentage of the Premium packets
   would be delayed at the Marker. For example, if the bucket-depth was
   chosen to be equal to the Assured bucket-depth (see Table 1), for
   10% of the Premium packets there would not be enough tokens in the
   bucket, and thus, they must be delayed at the bucket. To further
   investigate the effect of shaping, we varied the Premium
   bucket-depth, normalized by the packet length (576 bytes).  For each
   selected bucket-depth, we also adjusted the border Premium
   bucket-depth to be the sum of the bucket-depth of all Premium flows
   reaching the border.

Naser, et. al.          Expires: June 1999                   [Page  9]

INTERNET-DRAFT       Differentiated Services Field         December 1998

   Figure 6 shows the delay performances (i.e, the average and the 95%
   percentile) obtained for the Premium and the Assured reference
   packets, as functions of the Premium (reshaper) bucket depth. The
   Figure conveys a clear deterioration in the (delay) performances of
   the Premium flows.  When the Premium flows are hard limited their
   delay performances are quite high--- in fact as high as a couple of
   seconds!  The Premium delay values only begin to fall when the
   Premium bucket depth is chosen larger than the size of ten packets.
   This number is equal to the average number of back-to-back packets
   generated by a Premium ON-OFF source during the ON interval. The
   Premium bucket depth must be chosen even larger than ten packets
   (i.e, between 15 to 20 packets), in order to allow the delay
   performances of the Premium flow to reach the Assured flow
   performances.

   Figure 6: (see pdf or ps form of document for all figures and tables).

   There is a transition phase in Figure 6 where the Premium delay
   performances drop from their unacceptably high values to the
   reasonably low values (in the range of one or a few milliseconds).
   After the transition phase, the Premium delay performances do not
   change significantly. This is quite interesting, because, we allow
   the Premium flows ``not'' to be reshaped where the flow's bucket
   depth is chosen to be 300 packet-size (the rightmost point of Figure
   6).  Therefore, in the case of ON-OFF sources studied here, the
   shaping does not result in an acceptable delay performance. Now, let
   us investigate other issues involving the shaping.

   Figure 7 shows the number of non-conforming Premium packets that
   arrived at the border policer. Again, the variable is the Premium
   (reshaper) bucket depth.  The simulation setup is as explained
   earlier.  When the Premium flows are shaped hard, the number of
   non-conforming Premium packets arriving at the border grows. This is
   firstly due to the large shaping jitter, and secondly to the small
   (aggregate) bucket size chosen for the border policer when the
   Premium flows are smooth.  For example, this bucket size is equal to
   576*351 bytes when each Premium flow bucket size is 576 bytes,
   whereas it is 4*576*351 bytes when the individual Premium flow
   buckets are 4*576. In the former case, the small bucket at the
   border cannot accommodate as many Premium packets as the later case
   can.

   Figure 7: (see pdf or ps form of document for all figures and tables).

   Finally, Figure 8 shows the aggregate rate at which the Assured and
   Best-effort packets are discarded at all three RIO queues. For the
   best-effort packets, this rate remains essentially constant (~= 2.X
   * 10^(-02)), when the Premium flow burstiness is changed. The
   Assured loss rate is however varied, but, still remains within the
   order of 10^(-06).

Naser, et. al.          Expires: June 1999                   [Page  10]

INTERNET-DRAFT       Differentiated Services Field         December 1998

   Figure 8: (see pdf or ps form of document for all figures and tables).


6. Large Premium Allocation

   So far, the reserved bandwidth for the Premium class was kept as
   20%.  In some cases, though, this bandwidth was not fully utilized.
   In this section, we study different bandwidth reservations for the
   Premium class. We varied the reserved bandwidth for this class from
   10% to 50%.  The reserved Assured bandwidth was kept to 40%. Each
   class fully utilized its reserved bandwidth, while the remaining
   bandwidth was occupied by the best effort traffic. We used the
   baseline case where the Premium flows were CBR types, and the
   non-Premium flows were ON-OFF types.

   The observed delay performances of the Premium reference flow were
   quite encouraging. While the average delay performance varied from
   0.88 millisecond to 1.06 millisecond the 98% percentile varied from
   0.93 millisecond to 1.18 millisecond, when the Premium reservation
   changed from 10% to 50%.  For the Assured reference flow, the
   observed average and 95%-percentile were in the [55, 100] and [107,
   200] milliseconds, respectively. Note that the 200 millisecond delay
   bound (set by us) for the Assured packets was only reached when the
   Premium reservation was 50%.


7. Future work

   Currently, we are studying the admission control algorithms for the
   combined differentiated services architecture. We anticipate that
   the measurement-based algorithms work better than the
   parameter-based algorithms, in the differentiated services
   environment. This is due to the fact that with the Premium and
   Assured services, the flows are characterized by only one (or two)
   parameter(s). A measurement-based admission control mimics this
   inaccuracy by providing the real dynamics of the network.
   Nevertheless, our preliminary results have shown an excessive packet
   loss at nodes where admission control was not exercised.












Naser, et. al.          Expires: June 1999                   [Page  11]

INTERNET-DRAFT       Differentiated Services Field         December 1998


8. References

   [2BIT] K. Nichols, V. Jacobson, and L. Zhang, "A Two-bit
   Differentiated Services Architecture for the Internet", Internet
   Draft <draft-nichols-diff-svc-arch-00.txt>, November 1997,
   ftp://ftp.ee.lbl.gov/papers/dsarch.pdf

   [Clark1] D. Clark and J. Wroclawski, "An Approach to Service
   Allocation in the Internet", Internet Draft,
   draft-clark-diff-svc-alloc-00.txt
   http://diffserv.lcs.mit.edu/Drafts/draft-clark-diff-svc-alloc-00.txt

   [Clark2] D. Clark and W. Fang, "Explicit Allocation of Best Effort
   Packet Delivery Service", MIT Lab for Computer Science,
   http://diffserv.lcs.mit.edu/Papers/exp-alloc-ddc-wf.ps

   [Ibanez] J. Ibanez and K. Nichols, "Preliminary Simulation
   Evaluation of an Assured Service", Internet Draft,
   draft-ibanez-diffserv-assured-eval-00.txt


9. Author's Addresses

   Hassan Naser
   Department of Electrical and Computer Engineering
   University of Toronto
   Toronto, ON M5S 3G4, Canada
   Phone: (416) 978- 6876
   Email: hnaser@nal.utoronto.ca

   Alberto Leon-Garcia
   Department of Electrical and Computer Engineering
   University of Toronto
   Toronto, ON M5S 3G4, Canada
   Phone: (416) 978- 4766
   Email: alg@nal.utoronto.ca

   Osama Aboul-Magd
   Nortel Networks
   P.O. Box 3511, Station C
   Ottawa, ON K1Y 4H7, Canada
   Email: osama@nortel.ca









Naser, et. al.          Expires: June 1999                   [Page  12]
