<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard%20http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>File Transfer Protocol HASH Command for Cryptographic Hashes</title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";3
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction">
<link href="#rfc.section.1.1" rel="Chapter" title="1.1 Example">
<link href="#rfc.section.2" rel="Chapter" title="2 Document Conventions">
<link href="#rfc.section.2.1" rel="Chapter" title="2.1 Basic Tokens">
<link href="#rfc.section.2.2" rel="Chapter" title="2.2 Server Replies">
<link href="#rfc.section.3" rel="Chapter" title="3 The HASH Command (HASH)">
<link href="#rfc.section.3.1" rel="Chapter" title="3.1 FEAT Command Response for HASH Command">
<link href="#rfc.section.3.2" rel="Chapter" title="3.2 OPTS Parameters for HASH">
<link href="#rfc.section.3.3" rel="Chapter" title="3.3 Partial File Hashes with RANG">
<link href="#rfc.section.3.4" rel="Chapter" title="3.4 User-PI usage of HASH">
<link href="#rfc.section.3.5" rel="Chapter" title="3.5 HASH Command Errors">
<link href="#rfc.section.4" rel="Chapter" title="4 IANA Considerations">
<link href="#rfc.section.5" rel="Chapter" title="5 Implementation Requirements">
<link href="#rfc.section.6" rel="Chapter" title="6 Security Considerations">
<link href="#rfc.references" rel="Chapter" title="7 References">
<link href="#rfc.references.1" rel="Chapter" title="7.1 Normative References">
<link href="#rfc.references.2" rel="Chapter" title="7.2 Informative References">
<link href="#rfc.appendix.Appendix%20A" rel="Chapter" title="Appendix A Acknowledgements and Contributors">
<link href="#rfc.appendix.Appendix%20B" rel="Chapter" title="Appendix B List of Non-standard Cryptographic Hash or Checksum Commands and Implementations">
<link href="#rfc.appendix.Appendix%20C" rel="Chapter" title="Appendix C Document History">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content=
  "http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.539, 2011-01-02 17:13:00, XSLT vendor: SAXON 6.5.5 from Michael Kay http://saxon.sf.net/" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />
  <meta name="dct.creator" content="Doe, J." />
  <meta name="dct.identifier" content="urn:ietf:id:draft-sample-input-00" />
  <meta name="dct.issued" scheme="ISO8601" content="2010-12" />
  
  <meta name="dct.abstract" content="The File Transfer Protocol does not offer any method to verify the integrity of a transferred file, nor can two files be compared against each other without actually transferring them first. Cryptographic hashes are a possible solution to this problem. In the past, several attempts have been made to add commands to obtain checksums and hashes, however none have been formally specified, leading to non-interoperability and confusion. To solve these issues, this document specifies a new FTP command to be used by clients to request cryptographic hashes of files.  " />
  <meta name="description" content="The File Transfer Protocol does not offer any method to verify the integrity of a transferred file, nor can two files be compared against each other without actually transferring them first. Cryptographic hashes are a possible solution to this problem. In the past, several attempts have been made to add commands to obtain checksums and hashes, however none have been formally specified, leading to non-interoperability and confusion. To solve these issues, this document specifies a new FTP command to be used by clients to request cryptographic hashes of files.  " />
  <meta name="keywords" content="" />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">FTPEXT2 Working Group</td>
<td class="right">A. Bryan</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right">T. Kosse</td>
</tr>
<tr>
<td class="left">Intended status: Standards Track</td>
<td class="right">D. Stenberg</td>
</tr>
<tr>
<td class="left">Expires: January 29, 2012</td>
<td class="right">July 28, 2011</td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">File Transfer Protocol HASH Command for Cryptographic Hashes<br />
  <span class="filename">draft-ietf-ftpext2-hash-02</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>The File Transfer Protocol does not offer any method to verify the integrity of a transferred file, nor can two files be compared against each other without actually transferring them first. Cryptographic hashes are a possible solution to this problem. In the past, several attempts have been made to add commands to obtain checksums and hashes, however none have been formally specified, leading to non-interoperability and confusion. To solve these issues, this document specifies a new FTP command to be used by clients to request cryptographic hashes of files.  </p>
<h1><a>Editorial Note (To be removed by RFC Editor)</a></h1>
<p>Discussion of this draft should take place on the FTPEXT2 working group mailing list (ftpext@ietf.org). The current issues list is at <a href="http://trac.tools.ietf.org/wg/ftpext2/trac/report/1">http://trac.tools.ietf.org/wg/ftpext2/trac/report/1</a> and related documents (including fancy diffs) can be found at <a href="http://tools.ietf.org/wg/ftpext2/">http://tools.ietf.org/wg/ftpext2/</a>.  </p>
<p>The changes in this draft are summarized in <a href="#dochistory">Appendix Appendix C</a>.  </p>
<h1 id="rfc.status"><a href="#rfc.status">Status of this Memo</a></h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet- Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on January 29, 2012.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2011 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a>
</li>
<li>1.1.   <a href="#rfc.section.1.1">Example</a>
</li>
<li>2.   <a href="#rfc.section.2">Document Conventions</a>
</li>
<li>2.1.   <a href="#rfc.section.2.1">Basic Tokens</a>
</li>
<li>2.2.   <a href="#rfc.section.2.2">Server Replies</a>
</li>
<li>3.   <a href="#rfc.section.3">The HASH Command (HASH)</a>
</li>
<li>3.1.   <a href="#rfc.section.3.1">FEAT Command Response for HASH Command</a>
</li>
<li>3.2.   <a href="#rfc.section.3.2">OPTS Parameters for HASH</a>
</li>
<li>3.3.   <a href="#rfc.section.3.3">Partial File Hashes with RANG</a>
</li>
<li>3.4.   <a href="#rfc.section.3.4">User-PI usage of HASH</a>
</li>
<li>3.5.   <a href="#rfc.section.3.5">HASH Command Errors</a>
</li>
<li>4.   <a href="#rfc.section.4">IANA Considerations</a>
</li>
<li>5.   <a href="#rfc.section.5">Implementation Requirements</a>
</li>
<li>6.   <a href="#rfc.section.6">Security Considerations</a>
</li>
<li>7.   <a href="#rfc.references">References</a>
</li>
<li>7.1.   <a href="#rfc.references.1">Normative References</a>
</li>
<li>7.2.   <a href="#rfc.references.2">Informative References</a>
</li>
<li>Appendix A.   <a href="#rfc.appendix.Appendix%20A">Acknowledgements and Contributors</a>
</li>
<li>Appendix B.   <a href="#rfc.appendix.Appendix%20B">List of Non-standard Cryptographic Hash or Checksum Commands and Implementations</a>
</li>
<li>Appendix C.   <a href="#rfc.appendix.Appendix%20C">Document History</a>
</li>
<li><a href="#rfc.authors">Authors' Addresses</a>
</li>


  </ul>

  <h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> Introduction</h1>
<p id="rfc.section.1.p.1">The File Transfer Protocol <a href="#RFC0959">[RFC0959]</a> does not offer any method to verify the integrity of a transferred file, nor can two files be compared against each other without actually transferring them first. Cryptographic hashes are a possible solution to this problem. In the past, several attempts have been made to add commands to obtain checksums and hashes, however none have been formally specified, leading to non-interoperability and confusion. (See <a href="#AppendixB">Appendix Appendix B</a> for more information). To solve these issues, this document specifies a new FTP command to be used by clients to request cryptographic hashes of files.  HTTP has a similar feature named Instance Digests <a href="#RFC3230">[RFC3230]</a> which allows a client to request the cryptographic hash of a file.</p>
<h1 id="rfc.section.1.1">
<a href="#rfc.section.1.1">1.1.</a> Example</h1>
<div id="#rfc.figure.1"></div>
<p></p>

<p>Example of HASH client request:</p>
<pre>
   C&gt; HASH filename.ext
</pre>
<div id="#rfc.figure.2"></div>
<p></p>

<p>Server response to HASH command by client with Positive Completion code, the currently selected HASH algorithm, a byte range including the start point and end point of the file that was hashed, the requested hash of the file, and the pathname of the file:</p>
<pre>
   S&gt; 213 SHA-1 0-255 80bc95fd391772fa61c91ed68567f09... filename.ext
</pre>
<p id="rfc.section.1.1.p.3">Note: In some examples, the number of characters returned for the hash of a file has been shortened for line length reasons. These end in "...".</p>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> Document Conventions</h1>
<p id="rfc.section.2.p.1">This specification describes conformance of File Transfer Protocol Extension for cryptographic hashes.</p>
<p id="rfc.section.2.p.2">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in BCP 14, <a href="#RFC2119">[RFC2119]</a>, as scoped to those conformance targets.</p>
<p id="rfc.section.2.p.3">This document also uses notation defined in STD 9, <a href="#RFC0959">[RFC0959]</a>.  In particular, the terms or commands "reply", "user", "file", "FTP commands", "user-PI" (user protocol interpreter), "server-FTP process", "server-PI", "mode", "Image type", "Stream transfer mode", "type", "STOR", "RETR", and "ASCII", are all used here as defined there. The term "pathname" is used as defined in Section 2.2 of <a href="#RFC3659">[RFC3659]</a>.</p>
<p id="rfc.section.2.p.4">In the examples of FTP dialogs presented in this document, lines that begin "C&gt; " were sent over the control connection from the user-PI to the server-PI, and lines that begin "S&gt; " were sent over the control connection from the server-PI to the user-PI. In all cases, the prefixes shown above, including the one space, have been added for the purposes of this document, and are not a part of the data exchanged between client and server.</p>
<p id="rfc.section.2.p.5">Syntax required is defined using the Augmented BNF defined in <a href="#RFC5234">[RFC5234]</a>.</p>
<h1 id="rfc.section.2.1">
<a href="#rfc.section.2.1">2.1.</a> Basic Tokens</h1>
<p id="rfc.section.2.1.p.1">This document imports the core definitions given in Appendix B of <a href="#RFC5234">[RFC5234]</a>.  There definitions will be found for basic ABNF elements like ALPHA, DIGIT, SP, etc.  To that, the following term is added for use in this document.</p>
<div id="#rfc.figure.3"></div>
<p></p>

<p></p>
<pre>
   TCHAR = VCHAR / SP / HTAB    ; visible plus white space
</pre>
<p id="rfc.section.2.1.p.3">The VCHAR (from <a href="#RFC5234">[RFC5234]</a>) and TCHAR rules give basic character types from varying sub-sets of the ASCII character set for use in various commands and responses.</p>
<p id="rfc.section.2.1.p.4">Note that in ABNF, string literals are case insensitive.  That convention is preserved in this document, and implies that FTP commands and parameters that are added by this specification have values that can be represented in any case.  That is, "HASH" is the same as "hash", "Hash", "HaSh", etc., and "ftp.example.com" is the same as "Ftp.Example.Com", "fTp.eXample.cOm", etc.</p>
<h1 id="rfc.section.2.2">
<a href="#rfc.section.2.2">2.2.</a> Server Replies</h1>
<p id="rfc.section.2.2.p.1">Section 4.2 of <a href="#RFC0959">[RFC0959]</a> defines the format and meaning of replies by the server-PI to FTP commands from the user-PI.  Those reply conventions are used here without change.</p>
<div id="#rfc.figure.4"></div>
<p></p>

<p></p>
<pre>
   error-response = error-code SP *TCHAR CRLF
   error-code     = ("4" / "5") 2DIGIT
</pre>
<p id="rfc.section.2.2.p.3">Implementers should note that the ABNF syntax (which was not used in <a href="#RFC0959">[RFC0959]</a>) used in this document, and other FTP related documents, sometimes shows replies using the one line format.  Unless otherwise explicitly stated, that is not intended to imply that multi-line responses are not permitted.  Implementers should assume that, unless stated to the contrary, any reply to any FTP command (including QUIT) can be of the multi-line format described in <a href="#RFC0959">[RFC0959]</a>.</p>
<p id="rfc.section.2.2.p.4">Throughout this document, replies will be identified by the three digit code that is their first element.  Thus the term "500 reply" means a reply from the server-PI using the three digit code "500".</p>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> <a href="#HASH" id="HASH">The HASH Command (HASH)</a>
</h1>
<p id="rfc.section.3.p.1">A new command "HASH" is added to the FTP command set to allow the client to request the cryptographic hash of a file from a server-FTP process.</p>
<div id="#rfc.figure.5"></div>
<p id="rfc.section.3.p.2">The syntax for the HASH command is: </p>

<p></p>
<pre>
   hash-command = "HASH" SP &lt;pathname&gt;
</pre>
<p id="rfc.section.3.p.3">As with all FTP commands, the "HASH" command word is case independent, and MAY be specified in any character case desired.</p>
<p id="rfc.section.3.p.4">The HASH command keyword MUST be followed by a single space (ASCII 32) followed by the pathname.</p>
<p id="rfc.section.3.p.5">The pathname argument should reference the same file as other file based commands such as STOR or RETR which the same argument would reference. The pathname argument MUST represent a file path, not a directory path.  </p>
<p id="rfc.section.3.p.6">The text returned in response to the HASH command MUST be:</p>
<div id="#rfc.figure.6"></div>
<p></p>

<p></p>
<pre>
   hash-response = hash-ok / error-response
   hash-ok       = "213" SP hashname SP start-point "-" end-point SP filehash SP &lt;pathname&gt; CRLF
   hashname      = 1*( hchar )
   start-point   = 1*DIGIT
   end-point     = 1*DIGIT
   filehash      = 1*HEXDIGIT
   hchar         = ALPHA / DIGIT / "-" / "_" / "/" / "." / ","
</pre>
<p id="rfc.section.3.p.8">The 'start-point' and 'end-point' make up the byte range of the file that has been hashed, and MUST be included.</p>
<p id="rfc.section.3.p.9">All hash values MUST be encoded in lowercase hexadecimal format.</p>
<p id="rfc.section.3.p.10">The HASH command uses the currently selected hash algorithm. The currently selected hash algorithm can be determined with FEAT or OPTS HASH, and changed with OPTS HASH.</p>
<p id="rfc.section.3.p.11">The HASH command is meant to be used for files transmitted in Image type mode (TYPE I) and Stream transfer mode (MODE S). The returned hash MUST be calculated as if a client were to download the full file using TYPE I and MODE S and were to calculate the hash on the received octet data. In other words, if a client were to download a full file using TYPE I and MODE S and were to calculate the hash on the received octet data, it would be identical to the hash returned by HASH.</p>
<p id="rfc.section.3.p.12">Depending on multiple conditions, the final server response to a HASH command could take long time, so a server could output a "213-" line every 5-10 seconds to avoid the connection being idle and silent.</p>
<h1 id="rfc.section.3.1">
<a href="#rfc.section.3.1">3.1.</a> FEAT Command Response for HASH Command</h1>
<p id="rfc.section.3.1.p.1">When replying to the FEAT command <a href="#RFC2389">[RFC2389]</a>, a server-FTP process that supports the HASH command MUST include a feature line indicating that the HASH command is supported, along with a list of all supported hash algorithms in a semicolon separated list. The hash algorithm that is currently selected MUST be marked with an asterisk. The order of hash algorithms is insignificant.  This command word is case insensitive, and MAY be sent in any mixture of upper or lower case, however it SHOULD be sent in upper case. That is, the response SHOULD be:</p>
<div id="#rfc.figure.7"></div>
<p></p>

<p></p>
<pre>
   C&gt; FEAT
   S&gt; 211-Extensions supported:
   S&gt;  ...
   S&gt;  HASH SHA-256;SHA-512;SHA-1*;MD5
   S&gt;  ...
   S&gt; 211 END
</pre>
<p id="rfc.section.3.1.p.3">The ellipses indicate place holders where other features may be included, and are not required. The one-space indentation of the feature lines is mandatory <a href="#RFC2389">[RFC2389]</a>.</p>
<p id="rfc.section.3.1.p.4">The IANA registry named "Hash Function Textual Names" defines values for hash algorithms. Hash names SHOULD be presented in uppercase, but comparisons should be case-insensitive, e.g. MD5, md5, Md5 are all the same.</p>
<div id="#rfc.figure.8"></div>
<p></p>

<p></p>
<pre>	
   hash-feat = SP "HASH" SP hashlist CRLF
   hashlist  = 1*( hashname ["*"] ";" )
   hashname  = 1*( hchar )
   hchar     = ALPHA / DIGIT / "-" / "_" / "/" / "." / ","
</pre>
<h1 id="rfc.section.3.2">
<a href="#rfc.section.3.2">3.2.</a> OPTS Parameters for HASH</h1>
<p id="rfc.section.3.2.p.1">To query the current hash algorithm and to change it, the OPTS command as defined in <a href="#RFC2389">[RFC2389]</a> is used with HASH as the first argument.</p>
<p id="rfc.section.3.2.p.2">If no second argument is passed, OPTS HASH simply returns the currently selected hash algorithm.</p>
<div id="#rfc.figure.9"></div>
<p></p>

<p></p>
<pre>
   C&gt; OPTS HASH
   S&gt; 200 SHA-1
</pre>
<p id="rfc.section.3.2.p.4">To change the algorithm, a valid hash algorithm MUST be given as second argument. A list of valid hash algorithms is available via the FEAT command. If the command is successful, all future calls to HASH until the next successful OPTS HASH command or until the session is reinitialized (REIN) will use the selected hash algorithm.</p>
<div id="#rfc.figure.10"></div>
<p></p>

<p></p>
<pre>
   C&gt; OPTS HASH SHA-512
   S&gt; 200 SHA-512
</pre>
<p id="rfc.section.3.2.p.6">Requesting unknown or unsupported algorithms produces an error response.</p>
<div id="#rfc.figure.11"></div>
<p></p>

<p></p>
<pre>
   C&gt; OPTS HASH CRC-37
   S&gt; 501 Unknown algorithm, current selection not changed
</pre>
<p id="rfc.section.3.2.p.8">The syntax for OPTS HASH:</p>
<div id="#rfc.figure.12"></div>
<p></p>

<p></p>
<pre>	
   hashopts-cmd      = "OPTS HASH" [ SP hashname ] CRLF
   hashopts-response = hashopts-ok / error-response
   hashopts-ok       = "200" SP hashname CRLF
</pre>
<h1 id="rfc.section.3.3">
<a href="#rfc.section.3.3">3.3.</a> Partial File Hashes with RANG</h1>
<p id="rfc.section.3.3.p.1">Full files are always hashed by default.</p>
<p id="rfc.section.3.3.p.2">Partial file hashes, as opposed to full file hashes, are available by selecting a byte range with the RANG command <a href="#draft-bryan-ftp-range">[draft-bryan-ftp-range]</a> and then performing the HASH command.  To reset the byte range and request the HASH of the full file, "RANG 1 0" is issued.</p>
<p id="rfc.section.3.3.p.3">Since the server can always reject a HASH request, it can opt to reject partial hashes if it decides that is the correct behavior.</p>
<h1 id="rfc.section.3.4">
<a href="#rfc.section.3.4">3.4.</a> User-PI usage of HASH</h1>
<p id="rfc.section.3.4.p.1">The user-PI issues the FEAT command to query the server-PI about which algorithm is currently selected. This also reveals the other algorithms that the server supports. In this example, the SHA-1 algorithm is currently selected, as indicated by the asterisk.</p>
<div id="#rfc.figure.13"></div>
<p></p>

<p></p>
<pre>
   C&gt; FEAT
   S&gt; 211-Extensions supported:
   S&gt;  ...
   S&gt;  HASH SHA-256;SHA-512;SHA-1*;MD5
   S&gt;  ...
   S&gt; 211 END
</pre>
<div id="#rfc.figure.14"></div>
<p id="rfc.section.3.4.p.3">OPTS HASH is an alternative method for the user-PI to query the server-PI about which algorithm is currently selected.  </p>

<p></p>
<pre>
   C&gt; OPTS HASH
   S&gt; 200 SHA-1
</pre>
<div id="#rfc.figure.15"></div>
<p id="rfc.section.3.4.p.4">In this example, we wish to select SHA-256, a different algorithm.  </p>

<p></p>
<pre>
   C&gt; OPTS HASH SHA-256
   S&gt; 200 SHA-256
</pre>
<div id="#rfc.figure.16"></div>
<p id="rfc.section.3.4.p.5">The user-PI requests a byte range of 0-49 with the RANG command, then immediately followed by a request of the cryptographic hash of a file with HASH command. Server-PI replies with the Positive Completion code, the currently selected HASH algorithm, the byte range, the requested hash of the file, and the pathname of the file.  </p>

<p></p>
<pre>
   C&gt; RANG 0 49
   C&gt; HASH filename.ext
   S&gt; 213-
   S&gt; 213 SHA-256 0-49 169cd22282da7f147cb491e559e9dd... filename.ext
</pre>
<div id="#rfc.figure.17"></div>
<p id="rfc.section.3.4.p.6">Here, no RANG command is issued before HASH, so by default the whole file is hashed. The user-PI requests the cryptographic hash of a file with HASH command. Server-PI replies with the Positive Completion code, the currently selected HASH algorithm, the requested hash of the file, and the pathname of the file.  </p>

<p></p>
<pre>
   C&gt; HASH filename.ext
   S&gt; 213-
   S&gt; 213 SHA-256 0-99 f0ad929cd259957e160ea442eb8098... filename.ext
</pre>
<p id="rfc.section.3.4.p.7">Client downloads file. Client hashes the downloaded file and compares its hash to the hash obtained from the server. The HASH command could also be used to verify that an uploaded file has the same hash as the local file.</p>
<h1 id="rfc.section.3.5">
<a href="#rfc.section.3.5">3.5.</a> HASH Command Errors</h1>
<p id="rfc.section.3.5.p.1">The server-PI SHOULD reply with a 450 reply if the server is busy, e.g. already hashing other files yet inviting the client to retry in the future.</p>
<p id="rfc.section.3.5.p.2">The server-PI SHOULD reply with a 500 reply if the HASH command is unrecognized or unimplemented.</p>
<p id="rfc.section.3.5.p.3">The server-PI SHOULD reply with a 501 reply to the OPTS HASH command if the user-PI has requested an unknown or unsupported algorithm.</p>
<p id="rfc.section.3.5.p.4">The server-PI SHOULD reply with a 550 reply if the HASH command is used on a file that can not be found.</p>
<p id="rfc.section.3.5.p.5">The server-PI SHOULD reply with a 551 reply if the server-PI can not calculate the hash of a file because it is unable to deliver the file with TYPE I and MODE S.</p>
<p id="rfc.section.3.5.p.6">The server-PI SHOULD reply with a 552 reply if the user is not allowed to use the HASH command.</p>
<p id="rfc.section.3.5.p.7">The server-PI SHOULD reply with a 553 reply if the user requests the HASH of a directory, which is not allowed.</p>
<p id="rfc.section.3.5.p.8">The server-PI SHOULD reply with a 556 reply if the HASH command is used on a file that cannot be processed for policy reasons. (For example, if the file size exceeds the server's hashing policy.)</p>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> <a href="#IANA" id="IANA">IANA Considerations</a>
</h1>
<p id="rfc.section.4.p.1">This new command is added to the "FTP Commands and Extensions" registry created by <a href="#RFC5797">[RFC5797]</a>.</p>
<p id="rfc.section.4.p.2">Command Name: HASH</p>
<p id="rfc.section.4.p.3">Description: Cryptographic Hash of a file</p>
<p id="rfc.section.4.p.4">FEAT String: HASH</p>
<p id="rfc.section.4.p.5">Command Type: Service execution</p>
<p id="rfc.section.4.p.6">Conformance Requirements: Optional</p>
<p id="rfc.section.4.p.7">Reference: This specification</p>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> Implementation Requirements</h1>
<p id="rfc.section.5.p.1">All conforming implementations MUST at least support the SHA-1 algorithm <a href="#FIPS-180-3">[FIPS-180-3]</a>. Implementations SHOULD NOT make any algorithm the default that is known to be weaker than SHA-1. Support for any additional algorithms is OPTIONAL.</p>
<h1 id="rfc.section.6">
<a href="#rfc.section.6">6.</a> Security Considerations</h1>
<p id="rfc.section.6.p.1">The server MUST only allow the HASH command to be processable for files which the logged in user has a right to access.</p>
<p id="rfc.section.6.p.2">Implementing the HASH command may impose a considerable load on the server, which could lead to denial-of-service attacks.  Servers have, however, implemented this for many years, without significant reported difficulties.  On an affected server a malicious user could, for example, continuously send HASH commands over multiple connections and thus consume most of the FTP server's resources, leaving little room for other operations.  To mitigate this risk, a server MAY cache the calculated hashes so that the hash of a file is only calculated once even if multiple hash requests are sent for that file, provided it updates or invalidates the cached hash when the content of the corresponding file changes. A server may refuse to process a HASH command for many reasons, one of which may be a suspected denial-of-service attack. A client MUST be able to understand that refusal to process HASH commands may be transient (if indicated by a 450 response) and MAY be honoured later if the server so decides. A client MUST allow that a HASH command might take a reasonably long time to complete.</p>
<p id="rfc.section.6.p.3">Server operators might wish to allow the HASH command but restrict its use to certain files, for example, if the file size exceeds the server's hashing policy.  A client MUST be able to understand that refusal to process HASH commands may be permanent (if indicated by a 556 response) and will not be honoured later.</p>
<p id="rfc.section.6.p.4">In addition, the HASH command can be used to draw conclusions about the contents of a file. If the hash of a file on some server matches the hash of some known file, then both files are likely identical.  By uploading a file, running HASH against it and running HASH against another file location, the client could infer some filesystem deployment information (e.g. that there is a logical link between a pair of directories in the tree).  This is probably not an issue if the user has access to both branches of the directory tree, but there is the possibility that this information is exposable.  To prevent this scenario it suffices to limit use of the HASH command to users who uploaded the file or would already be able to download the file.</p>
<p id="rfc.section.6.p.5">This mechanism simply allows the FTP protocol to expose HASH values of files, using the currently chosen mechanism,  accessible to the server by the client.  The suitability or otherwise of a specific hash algorithm for a specific purpose is an implementation decision.</p>
<h1 id="rfc.references">
<a href="#rfc.references">7.</a> References</h1>
<h1 id="rfc.references.1">
<a href="#rfc.references.1">7.1.</a> Normative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC0959">[RFC0959]</b></td>
<td class="top">
<a>Postel, J.</a> and <a>J. Reynolds</a>, "<a href="http://tools.ietf.org/html/rfc0959">File Transfer Protocol</a>", STD 9, RFC 0959, October 1985.</td>
</tr>
<tr>
<td class="reference"><b id="RFC2119">[RFC2119]</b></td>
<td class="top">
<a href="mailto:sob@harvard.edu" title="Harvard University">Bradner, S.</a>, "<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>", BCP 14, RFC 2119, March 1997.</td>
</tr>
<tr>
<td class="reference"><b id="RFC2389">[RFC2389]</b></td>
<td class="top">
<a>Hethmon, P.</a> and <a>R. Elz</a>, "<a href="http://tools.ietf.org/html/rfc2389">Feature negotiation mechanism for the File Transfer Protocol</a>", RFC 2389, August 1998.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3659">[RFC3659]</b></td>
<td class="top">
<a>Hethmon, P.</a>, "<a href="http://tools.ietf.org/html/rfc3659">Extensions to FTP</a>", RFC 3659, March 2007.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5234">[RFC5234]</b></td>
<td class="top">
<a>Crocker, D.</a> and <a>P. Overell</a>, "<a href="http://tools.ietf.org/html/rfc5234">Augmented BNF for Syntax Specifications: ABNF</a>", STD 68, RFC 5234, January 2008.</td>
</tr>
<tr>
<td class="reference"><b id="FIPS-180-3">[FIPS-180-3]</b></td>
<td class="top">
<a>National Institute of Standards and Technology (NIST)</a>, "<a>Secure Hash Standard (SHS)</a>", FIPS PUB 180-3, October 2008.</td>
</tr>
<tr>
<td class="reference"><b id="draft-bryan-ftp-range">[draft-bryan-ftp-range]</b></td>
<td class="top">
<a>Bryan, A</a>, <a>Tsujikawa, T</a> and <a>D Stenberg</a>, "<a href="http://tools.ietf.org/html/draft-bryan-ftp-range-03">File Transfer Protocol RANG Command for Byte Ranges</a>", Internet-Draft draft-bryan-ftp-range-03, .</td>
</tr>
</tbody></table>
<h1 id="rfc.references.2">
<a href="#rfc.references.2">7.2.</a> Informative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC3230">[RFC3230]</b></td>
<td class="top">
<a>Mogul, J.</a> and <a>A. Van Hoff</a>, "<a href="http://tools.ietf.org/html/rfc3230">Instance Digests in HTTP</a>", RFC 3230, January 2002.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5797">[RFC5797]</b></td>
<td class="top">
<a>Klensin, J.</a> and <a>A. Hoenes</a>, "<a href="http://tools.ietf.org/html/rfc5797">FTP Command and Extension Registry</a>", RFC 5797, March 2010.</td>
</tr>
<tr>
<td class="reference"><b id="draft-twine-ftpmd5">[draft-twine-ftpmd5]</b></td>
<td class="top">
<a href="mailto:jtwine@jrtwine.com">Twine, J.</a>, "<a href="http://tools.ietf.org/html/draft-twine-ftpmd5-00">The MD5 and MMD5 FTP Command Extensions</a>", Internet-Draft draft-twine-ftpmd5-00, May 2002.</td>
</tr>
</tbody></table>
<h1 id="rfc.appendix.Appendix A">
<a href="#rfc.appendix.Appendix%20A">Appendix A.</a> Acknowledgements and Contributors</h1>
<p id="rfc.section.Appendix A.p.1">This document is a product of the FTPEXT2 working group of the IETF.</p>
<p id="rfc.section.Appendix A.p.2">Thanks to John C. Klensin, Alfred Hoenes, James Twine, Robert McMurray, Mathias Berchtold, Tatsuhiro Tsujikawa, Paul Ford-Hutchinson, and Robert Oslin.</p>
<p id="rfc.section.Appendix A.p.3">Portions of <a href="#RFC3659">[RFC3659]</a> were wholly reused in this document.</p>
<h1 id="rfc.appendix.Appendix B">
<a href="#rfc.appendix.Appendix%20B">Appendix B.</a> <a href="#AppendixB" id="AppendixB">List of Non-standard Cryptographic Hash or Checksum Commands and Implementations</a>
</h1>
<p id="rfc.section.Appendix B.p.1">[[ to be removed by the RFC editor before publication as an RFC. ]]</p>
<p id="rfc.section.Appendix B.p.2">A number of similar checksum or hash commands exist, but are not formally specified, leading to non-interoperability and confusion. The commands, any specifications, and relevant details:</p>
<p></p>

<ul>
<li>CKSM: GridFTP v2 Protocol Description http://www.ogf.org/documents/GFD.47.pdf Usage: OPTS CKSM &lt;algorithm&gt; CRLF. Supports ADLER32, MD5, CRC32.</li>
<li>MD5/MMD5: Expired Internet Draft <a href="#draft-twine-ftpmd5">[draft-twine-ftpmd5]</a> from 2002. Usage: MD5 &lt;filepath&gt; Algorithm specific command. Response codes: 251 positive completion, 500 Command Not Recognized, 502 Command Not Implemented, 504 Command Not Implemented for the Specified Argument.</li>
<li>SITE CHECKSUM: Usage: SITE check_login SP CHECKSUM SP pathname CRLF. Supports CRC32 and MD5.</li>
<li>SITE SHOHASH: Usage: site shohash [filename]. Supports MD5. Response codes: 200 positive completion.</li>
<li>XCRC: By GlobalSCAPE in 2001. http://help.globalscape.com/help/secureserver2/File_Integrity_Checking.htm Usage: XCRC &lt;filename&gt; SP EP. SP is starting point and EP is ending point in bytes and are optional parameters. Algorithm specific command. Response codes: 250 positive completion, 450 Requested file action not taken. (File is busy), 550 Requested action not taken. (File not found, no read permission, SP or EP not correct).</li>
<li>XMD5: XMD5 &lt;filename&gt; SP EP. Similar to XCRC. Algorithm specific command.</li>
<li>XSHA, XSHA1, XSHA256, XSHA512: Usage similar to XCRC, although SP/EP usage unknown. Algorithm specific commands.</li>
</ul>
<p id="rfc.section.Appendix B.p.4">An incomplete list of FTP clients and servers that have implemented these commands:</p>
<p></p>

<ul>
<li>Akamai NetStorage (supports SITE CHKHSH/SITE SHOHASH) p17-18 http://pigdogslow.dyndns.org/NetStorage_UserGuide.pdf</li>
<li>Apache Ftp Server (supports MD5/MMD5 from draft-twine-ftpmd5) http://cwiki.apache.org/FTPSERVER/documentation.html</li>
<li>Backup4all Pro (supports XCRC)</li>
<li>Backup to FTP (supports XCRC)</li>
<li>BlackMoon FTP Server (supports XCRC) http://www.blackmoonftpserver.com/portal/readmore/features.html</li>
<li>C.P.A. Secure (supports XCRC) http://www.cpasecure.com/CPASecureVsSecureFTP.html</li>
<li>Cerberus FTP server (supports XCRC, XMD5, XSHA1, XSHA256, XSHA512) http://www.softpedia.com/progChangelog/Cerberus-FTP-Server-Changelog-1904.html</li>
<li>Core FTP Pro (supports XCRC)</li>
<li>Cross FTP Server (supports MD5/MMD5)</li>
<li>FileCOPA FTP Server (supports XCRC, XMD5, XSHA1) http://www.filecopa-ftpserver.com/features.html</li>
<li>File Watchdogs FTP Server (supports XCRC, XMD5, XSHA1, XSHA256, XSHA512) http://www.filewatchdogs.com/ftpsitehosting/help/15559.htm</li>
<li>FireFTP (supports XMD5, XSHA1) http://fireftp.mozdev.org/features.html</li>
<li>FTP Daemon (supports SITE CHECKMETHOD/SITE CHECKSUM) http://www.pro-bono-publico.de/projects/ftpd.html</li>
<li>FTP Voyager (supports XCRC) http://www.ftpvoyager.com/XCRC.asp</li>
<li>Gene6 FTP Server http://www.g6ftpserver.com/en/information#features</li>
<li>GlobalSCAPE's Secure FTP Server / EFT Server / CuteFTP clients (supports XCRC)</li>
<li>Globus FTP client / Globus Toolkit(supports CKSM) http://www.globus.org/toolkit/releasenotes/3.2.0/gridftp_notes.html</li>
<li>GoldenGate FTP (Ftp Full Java Server) (supports XCRC, XMD5, XSHA1)</li>
<li>IceWarp FTP Server http://www.icewarp.com/products/ftp_server/</li>
<li>ICS FTP client (supports XCRC, XMD5) http://www.magsys.co.uk/delphi/magics.asp</li>
<li>ioFTPD (supports XCRC)</li>
<li>JAFS (supports XCRC and MD5) http://www.sbbi.net/site/jafs/features.html</li>
<li>Kellerman FTP (supports XCRC) http://sharptoolbox.com/tools/kellerman-ftp</li>
<li>Limagito FTP server (supports XCRC, XMD5, XSHA1) http://www.limagito.com/file-mover-features.html</li>
<li>Lobster IntegrationServer (supports XCRC, XSHA1, XMD5; all with SP and EP).</li>
<li>MOVEit DMZ (supports XSHA1)</li>
<li>Nofeel FTP server (supports XCRC, XMD5, XSHA1) http://www.nftpserver.com/history.php</li>
<li>Null FTP (supports XCRC, XMD5, XSHA) http://www.sharewareconnection.com/null-ftp-client-pro.htm</li>
<li>Orenosv FTP Client (supports XCRC, XMD5) http://www.orenosv.com/orenosv/ftpcli_en.html</li>
<li>ProFTPD module mod_digest (supports XCRC, XMD5, XSHA1, SHA256) http://www.smartftp.com/oss/proftpd/mod_digest.html</li>
<li>PSFTPd Secure FTP Server (supports XCRC, XMD5, XSHA) http://www.psftp.de/psftpd_fo.php</li>
<li>Quick 'n Easy FTP Server (supports XCRC) http://www.pablosoftwaresolutions.com/html/quick__n_easy_ftp_server_pro.html</li>
<li>RaidenFTPD32 FTP server (supports XCRC, XMD5)</li>
<li>Robo-FTP Server (supports XCRC, XMD5, XSHA1) http://kb.robo-ftp.com/change_log/show/61</li>
<li>SyncBackPro and SyncBackSE (supports XCRC) http://www.2brightsparks.com/syncback/sbpro-changes.html</li>
<li>Secure FTP Factory (supports XCRC)</li>
<li>Serv-U FTP Server (supports XCRC) http://www.serv-u.com/help/serv_u_help/additional_ftp_commands_supported_by_serv_u.htm</li>
<li>SmartFTP client (supports XCRC, XMD5, XSHA, CKSM) http://www.smartftp.com/features/</li>
<li>Starksoft Ftp Component for .NET / Mono (supports XCRC, XMD5, XSHA1) http://www.starksoft.com/prod_ftp.html</li>
<li>Titan FTP Server (supports XCRC)</li>
<li>Turbo FTP (supports XCRC)</li>
<li>WISE-FTP (supports XCRC) http://www.wise-ftp.com/news/</li>
<li>WS_FTP client / server (supports XSHA1, server also XMD5, XSHA1, XSHA256, XSHA512) http://ipswitchft.custhelp.com/app/answers/detail/a_id/671/kw/xmd5/r_id/166/sno/1</li>
<li>wuftpd (supports SITE CHECKMETHOD/SITE CHECKSUM)</li>
<li>wzdFTPd (supports XCRC, XMD5) http://www.wzdftpd.net/wiki/index.php/Commands</li>
<li>Zalman FTP Client (supports XCRC) http://www.zalmansoftware.com/download.html</li>
<li>zFTPServer</li>
</ul>
<h1 id="rfc.appendix.Appendix C">
<a href="#rfc.appendix.Appendix%20C">Appendix C.</a> <a href="#dochistory" id="dochistory">Document History</a>
</h1>
<p id="rfc.section.Appendix C.p.1">[[ to be removed by the RFC editor before publication as an RFC. ]]</p>
<p id="rfc.section.Appendix C.p.2">Known issues concerning this draft: </p>

<ul><li>Should HASH use "MLSx style" responses? S&gt; 213 Hash.SHA-1=80bc95fd3...;Range=0-199; filename.ext</li></ul>
<p id="rfc.section.Appendix C.p.3">draft-ietf-ftpext2-hash-02 : July 28, 2011 </p>

<ul><li>Refinements.</li></ul>
<p id="rfc.section.Appendix C.p.4">draft-ietf-ftpext2-hash-01 : February 1, 2011 </p>

<ul><li>Partial file hashes with RANG command. Mandatory byte range in response. "213-" to avoid timeout.</li></ul>
<p id="rfc.section.Appendix C.p.5">draft-ietf-ftpext2-hash-00 : November 24, 2010 </p>

<ul><li>FTPEXT2 Working Group.</li></ul>
<p id="rfc.section.Appendix C.p.6">draft-bryan-ftp-hash-08 : October 25, 2010.  </p>

<ul><li>New server reply 556: Servers that allow HASH but restrict its use to certain files.</li></ul>
<p id="rfc.section.Appendix C.p.7">draft-bryan-ftp-hash-07 : August 5, 2010.  </p>

<ul><li>Clarify that HASH is only for files, not directories.</li></ul>
<p id="rfc.section.Appendix C.p.8">draft-bryan-ftp-hash-06 : July 9, 2010.  </p>

<ul><li>Change server reply format.</li></ul>
<p id="rfc.section.Appendix C.p.9">draft-bryan-ftp-hash-05 : June 29, 2010.  </p>

<ul><li>Add Basic Tokens and Server Replies subsections from RFC 3659.</li></ul>
<p id="rfc.section.Appendix C.p.10">draft-bryan-ftp-hash-04 : June 11, 2010.  </p>

<ul><li>User-PI usage and command errors sections updated.</li></ul>
<p id="rfc.section.Appendix C.p.11">draft-bryan-ftp-hash-03 : May 21, 2010.  </p>

<ul><li>List of non-standard checksum and hash commands and their implementations.</li></ul>
<p id="rfc.section.Appendix C.p.12">draft-bryan-ftp-hash-02 : April 16, 2010.  </p>

<ul><li>Error codes section.</li></ul>
<p id="rfc.section.Appendix C.p.13">draft-bryan-ftp-hash-01 : April 7, 2010.  </p>

<ul>
<li>Changing HASH algorithm with OPTS.</li>
<li>Reference RFC 5797 and add IANA Considerations section.</li>
<li>Informative Reference to expired Internet Draft (draft-twine-ftpmd5) which attempted to address this issue (it only supported one hash, MD5).</li>
</ul>
<p id="rfc.section.Appendix C.p.14">draft-bryan-ftp-hash-00 : October 19, 2009.  </p>

<ul><li>Initial draft.</li></ul>
<h1 id="rfc.authors"><a href="#rfc.authors">Authors' Addresses</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Anthony Bryan</span> 
	  <span class="n hidden">
		<span class="family-name">Bryan</span>
	  </span>
	</span>
	<span class="org vcardline"></span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality">Pompano Beach</span>,  
		<span class="region">FL</span> 
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline">USA</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:anthonybryan@gmail.com">anthonybryan@gmail.com</a></span>

<span class="vcardline">URI: <a href="http://www.metalinker.org">http://www.metalinker.org</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Tim Kosse</span> 
	  <span class="n hidden">
		<span class="family-name">Kosse</span>
	  </span>
	</span>
	<span class="org vcardline"></span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:tim.kosse@filezilla-project.org">tim.kosse@filezilla-project.org</a></span>

<span class="vcardline">URI: <a href="http://filezilla-project.org/">http://filezilla-project.org/</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Daniel Stenberg</span> 
	  <span class="n hidden">
		<span class="family-name">Stenberg</span>
	  </span>
	</span>
	<span class="org vcardline"></span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:daniel@haxx.se">daniel@haxx.se</a></span>

<span class="vcardline">URI: <a href="http://www.haxx.se/">http://www.haxx.se/</a></span>

  </address>
</div>

</body>
</html>