


Network Working Group                                           B. Patil
Internet-Draft                                                     Nokia
Intended status: Standards Track                            K. Chowdhury
Expires: September 9, 2009                              Starent Networks
                                                               D. Premec
                                                  Nokia Siemens Networks
                                                           March 8, 2009


     DHCP options for Access Point Name and attach type indication
             draft-patil-dhc-apn-attachtype-options-01.txt

Status of this Memo

   This Internet-Draft is submitted to IETF in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on September 9, 2009.

Copyright Notice

   Copyright (c) 2009 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents in effect on the date of
   publication of this document (http://trustee.ietf.org/license-info).
   Please review these documents carefully, as they describe your rights
   and restrictions with respect to this document.






Patil, et al.           Expires September 9, 2009               [Page 1]

Internet-Draft         APN and ATTACH_Type Options            March 2009


Abstract

   Access Point Names are used in wireless networks which are based on
   3GPP standards to identify a specific gateway element.  A mobile node
   which attaches via a 3GPP access network indicates the gateway to
   which connectivity is desired by providing the gateways access point
   name, in the network attach signaling messages.  This document
   specifies a new DHCP option which enables the mobile node to request
   connectivity to a gateway, identified by the access point name, in
   DHCP messages.  A mobile node whose mobility is managed by the
   network using Proxy Mobile IPv6 protocol may perform a handover from
   one access technology to another.  This document defines a DHCP
   option which enables the host to indicate to Proxy Mobile IPv6
   elements in the access network if the attachment via the new
   interface is a handover or a new connection.


Table of Contents

   1.  Requirements notation  . . . . . . . . . . . . . . . . . . . .  3
   2.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  4
   3.  Terminology  . . . . . . . . . . . . . . . . . . . . . . . . .  5
   4.  DHCP options for APN and Attach-type . . . . . . . . . . . . .  6
     4.1.  DHCPv6 Attach Information option . . . . . . . . . . . . .  6
     4.2.  DHCPv4 Attach Information option . . . . . . . . . . . . .  7
     4.3.  Attach Info Data . . . . . . . . . . . . . . . . . . . . .  7
     4.4.  Option Usage . . . . . . . . . . . . . . . . . . . . . . .  8
   5.  Mobile Node/host behavior  . . . . . . . . . . . . . . . . . .  9
   6.  Access Router/NAS/DHCP relay agent behavior  . . . . . . . . . 10
   7.  Security Considerations  . . . . . . . . . . . . . . . . . . . 11
   8.  IANA Considerations  . . . . . . . . . . . . . . . . . . . . . 12
   9.  References . . . . . . . . . . . . . . . . . . . . . . . . . . 13
     9.1.  Normative References . . . . . . . . . . . . . . . . . . . 13
     9.2.  Informative References . . . . . . . . . . . . . . . . . . 13
   Authors' Addresses . . . . . . . . . . . . . . . . . . . . . . . . 14
















Patil, et al.           Expires September 9, 2009               [Page 2]

Internet-Draft         APN and ATTACH_Type Options            March 2009


1.  Requirements notation

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [RFC2119].














































Patil, et al.           Expires September 9, 2009               [Page 3]

Internet-Draft         APN and ATTACH_Type Options            March 2009


2.  Introduction

   Cellular data networks which are based on 3GPP standards [TS-23.060],
   i.e GPRS (General Packet Radio Service) define the concept of an
   Access Point Name (APN).  The APN is an FQDN and identifies a
   specific gateway in the core network.  Operators choose to offer
   different types of services via specific gateways.  For example
   gateway 1 identified by APN1 offers Internet connectivity while
   gateway 2 identified by APN2 offers multi-media messaging service
   (MMS).  A mobile node which attaches via a 3GPP access network
   indicates the gateway to which it needs connectivity by including the
   APN parameter in the network attachment signaling messages.  The APN
   information from the UE received in the attach signaling messages
   enables the access network to establish a tunnel to the appropriate
   gateway in the core.  The mobile node chooses the APN based on the
   application in use or policies.  The application is configured to
   connect to the gateway through which the operator provides the
   service.

   Proxy Mobile IPv6 [RFC5213] is a network based mobility protocol.  A
   host which is attached to a Proxy MIP6 (PMIP6) domain through an
   access network of type X may initiate a handover when it attaches to
   another access network of type Y. In order to ensure that the Local
   Mobility Agent (LMA) in the PMIP6 domain assigns the host the same
   prefix/address, the Mobility access gateway (MAG) in the network to
   which the host performs the handover to (i.e type Y) needs to
   indicate that it is a handover by setting the flag in the Proxy
   Binding Update (PBU) mesage sent by the MAG to the LMA .  In the
   absence of any context transfer from the previous MAG to the new MAG,
   the host has to provide this information to the new MAG.  The host
   can indicate that the network attachment to the access network of
   type Y is a handover.  A multiinterfaced host may attach via a second
   interface to the same PMIP6 domain via which the host using another
   interface is already connected.  In such cases it is essential to
   indicate if the new network attachment is to be treated as a handover
   from the previous interface or is a new session,.

   This document specifies DHCP options for DHCPv4 and DHCPv6 which
   enable the host to indicate the gateway identified by an APN to which
   connectivity is desired and the attach-type indicator to be used in
   the case of Proxy MIP6.










Patil, et al.           Expires September 9, 2009               [Page 4]

Internet-Draft         APN and ATTACH_Type Options            March 2009


3.  Terminology

   This document refers to [RFC5213].  The term Access Point Name is
   defined in [TS-23.003] in section 9.1.  It is also defined below as
   per the 3GPP definition.

   Access Point Name:
        In the GPRS backbone, an Access Point Name (APN) is a reference
        to a GGSN (Gateway GPRS Serving Node).










































Patil, et al.           Expires September 9, 2009               [Page 5]

Internet-Draft         APN and ATTACH_Type Options            March 2009


4.  DHCP options for APN and Attach-type

   The use of APN has been limited to 3GPP networks.  In the case of
   3GPP accesses such as GERAN, UMTS and HSPA, a layer 2 mechanism is
   specified which enables the mobile node to indicate the APN parameter
   to the access network, and thereby being assigned a specific GGSN in
   the core.  Recent developments now allow non-3GPP accesses such as
   HRPD and WiMAX to also connect to a 3GPP core network.  These access
   types do not have a specific mechanism by which a mobile node can
   indicate the APN to establish a connection with.  Specifying this
   capability as a DHCP option enables the mobile node to indicate the
   APN to establish a connection with at the time of network entry.

   Proxy Mobile IPv6 [RFC5213] does not require any changes on the host
   in order to support mobility.  A Proxy MIP6 domain can span multiple
   access networks of different technologies.  An MN which is attached
   via an interface (I1) to a PMIP6 domain may attach via another
   interface (I2).  If the MN wants the sessions which are currently
   served by interface I1 to be moved to interface I2, it needs to
   indicate that the new network attachment is of type handover.  The MN
   can indicate the attach type via a DHCP option during network entry
   and the MAG in the PMIP6 domain can use this information in the
   signaling to the LMA appropriately.

4.1.  DHCPv6 Attach Information option

   This option enables the DHCPv6 host to indicate the access point name
   to which the connection needs to be established with and whether the
   connection being established is the handover from another interface
   or a new attachment.  The host (DHCP client) includes this option in
   the DHCP Request message sent to the access gateway/NAS (Network
   Access Server) which acts as the DHCP server or relay.

   The format of the DHCPv6 OPTION_ATTACH_INFO is:


       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |       OPTION_ATTACH_INFO      |           Option-len          |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                 Attach_Info_Data...
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+








Patil, et al.           Expires September 9, 2009               [Page 6]

Internet-Draft         APN and ATTACH_Type Options            March 2009


   Option-code   OPTION_ATTACH_INFO To be assigned by IANA

   Option-len    The length of the Attach_Info_Data in units of octets

   Attach_Info_Data  see section Section 4.3

4.2.  DHCPv4 Attach Information option

   This option enables the DHCPv4 host to indicate the access point name
   to which the connection needs to be established with and whether the
   connection being established is the handover from another access
   network or a new attachment.  The host (DHCP client) includes this
   option in the DHCP Request message sent to the access gateway/NAS
   (Network Access Server) which acts as the DHCP server or relay.

   The format of the DHCPv4 ATTACH_INFO option is:


       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      | ATTACH_INFO   |     length    |      Attach_Info_Data...
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


   Option-code   ATTACH_INFO To be assigned by IANA

   Option-len    The length of the ATTACH_INFO option is variable, it is
                 given in units of octets

   Attach_Info_Data  see section Section 4.3

4.3.  Attach Info Data

   The Attach_Info_Data defines a common layout shared by both the
   DHCPv6 and DHCPv4 Attach Information options.  It consists of two
   fields: the Attach_Type and the Access_Point_Name which enable the
   host to indicate the type of connection required.

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |  Attach_Type  |  Access_Point_Name...
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+







Patil, et al.           Expires September 9, 2009               [Page 7]

Internet-Draft         APN and ATTACH_Type Options            March 2009


   Attach_Type   The Attach_Type specifies the following values:

                 Handover: 0

                 New Service Flow:  1

                 Reserved: 2-255

   Access_Point_Name  The Access_Point_Name indicates the network node
                 providing the service to the host

   The Attach_Type field enables the host to indicate if the attach to
   the network is to be interpreted as a handover or establishment of a
   new connection.  This is applicable in the case the host is attaching
   to a PMIP6 domain.

   The Access_Point_Name field enables the host to indicate the APN to
   which the connection needs to be established with.  It is formatted
   as a character string consisting of characters from the NVT ASCII
   character set and it SHOULD NOT contain the trailing NULL in
   accordance with section 2 of [RFC2132].

   The host (DHCP client) includes the Attach_Type and Access_Point_Name
   in the DHCP Request message sent to the Access Router/Mobility Access
   Gateway which acts as a DHCP relay or in some cases a DHCP server.
   The MAG uses the ATTACH_Type to construct the signaling message to
   the Local Mobility Agent as per [RFC5213] .  The MAG uses the
   Access_Point_Name to select the correct LMA which provides the
   service requested by the host.

4.4.  Option Usage

   The requesting and sending of the proposed DHCP options follows the
   rules specified in [RFC3315] for DHCPv6 options and in [RFC2131] for
   DHCPv4 options.
















Patil, et al.           Expires September 9, 2009               [Page 8]

Internet-Draft         APN and ATTACH_Type Options            March 2009


5.  Mobile Node/host behavior

   A mobile node includes the Attach Information option when attaching
   to an access network which is served by a 3GPP core.  The option is
   not required for access technologies which have layer 2 mechanisms
   for conveying the APN and the attach type.  The MN/host is aware of
   the access type through which it is connecting and hence can make the
   decision to include the Attach Information option.  The MN includes
   the Attach Information Option in the DHCP Request message sent to the
   access router/NAS.

   The MN is aware when it attaches via another access type if it is to
   be treated as a handover.  If the MN prefers to move the sessions
   from the previous interface to the new interface it needs to indicate
   that it is a handover by appropriately setting the Attach_Type in the
   Attach Information option.



































Patil, et al.           Expires September 9, 2009               [Page 9]

Internet-Draft         APN and ATTACH_Type Options            March 2009


6.  Access Router/NAS/DHCP relay agent behavior

   An access router/gateway which also acts as a NAS and includes either
   a DHCP relay function or in some cases acts as a DHCP server receives
   the DHCP request message which includes Attach Information option.
   The gateway uses the Access_Point_Name from the Attach Information
   option to establish a bi-directional tunnel with the appropriate
   gateway in the 3GPP core network.  The NAS/gateway resolves the IP
   address of the gateway in the core from the APN via DNS.

   The NAS/access gateway which receives the Attach Information option
   from the MN in the DHCP Request relays this information to the PMIP6
   MAG function.  The MAG uses the Attach_Type from the Attach
   Information option to set the flags in the proxy binding update (PBU)
   sent to the Local Mobiliity agent (LMA).




































Patil, et al.           Expires September 9, 2009              [Page 10]

Internet-Draft         APN and ATTACH_Type Options            March 2009


7.  Security Considerations

   The options specified in this I-D do not introduce any security
   vulnerabilities which are new.















































Patil, et al.           Expires September 9, 2009              [Page 11]

Internet-Draft         APN and ATTACH_Type Options            March 2009


8.  IANA Considerations

   IANA is requested to assign the option codes for the DHCPv4 Attach
   Information option and for the DHCPv6 Attach Information option.

   3GPP TS 23.060 v 5.2.0, "General Packet Radio Service (GPRS); Service
   description; Stage 2(Release 5)", June 2002.












































Patil, et al.           Expires September 9, 2009              [Page 12]

Internet-Draft         APN and ATTACH_Type Options            March 2009


9.  References

9.1.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

9.2.  Informative References

   [RFC2131]  Droms, R., "Dynamic Host Configuration Protocol",
              RFC 2131, March 1997.

   [RFC2132]  Alexander, S. and R. Droms, "DHCP Options and BOOTP Vendor
              Extensions", RFC 2132, March 1997.

   [RFC3315]  Droms, R., Bound, J., Volz, B., Lemon, T., Perkins, C.,
              and M. Carney, "Dynamic Host Configuration Protocol for
              IPv6 (DHCPv6)", RFC 3315, July 2003.

   [RFC5213]  Gundavelli, S., Leung, K., Devarapalli, V., Chowdhury, K.,
              and B. Patil, "Proxy Mobile IPv6", RFC 5213, August 2008.

   [TS-23.003]
              "3rd Generation Partnership Project; Technical
              Specification Group Core Network and Terminals; Numbering,
              addressing and identification (Release 8)", 3GPP TS 23.003
              v 8.3.0, December 2008.

   [TS-23.060]
              "General Packet Radio Service (GPRS); Service description;
              Stage 2 (Release 8)", 3GPP TS 23.060 v 8.3.0,
              December 2008.



















Patil, et al.           Expires September 9, 2009              [Page 13]

Internet-Draft         APN and ATTACH_Type Options            March 2009


Authors' Addresses

   Basavaraj Patil
   Nokia
   6021 Connection Drive
   Irving, TX  75039
   USA

   Email: basavaraj.patil@nokia.com


   Kuntal Chowdhury
   Starent Networks
   20 International Place
   Tewksbury, MA  01876
   USA

   Email: kchowdhury@starentnetworks.com


   Domagoj Premec
   Nokia Siemens Networks
   Heinzelova 70a
   Zagreb,   10000
   Croatia

   Phone: +395 (1) 6105 293
   Email: domagoj.premec.ext@nsn.com























Patil, et al.           Expires September 9, 2009              [Page 14]


